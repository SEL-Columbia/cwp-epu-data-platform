!function(Ne){var et={};function __webpack_require__(tt){if(et[tt])return et[tt].exports;var nt=et[tt]={i:tt,l:!1,exports:{}};return Ne[tt].call(nt.exports,nt,nt.exports,__webpack_require__),nt.l=!0,nt.exports}__webpack_require__.m=Ne,__webpack_require__.c=et,__webpack_require__.d=function(Ne,et,tt){__webpack_require__.o(Ne,et)||Object.defineProperty(Ne,et,{enumerable:!0,get:tt})},__webpack_require__.r=function(Ne){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Ne,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ne,"__esModule",{value:!0})},__webpack_require__.t=function(Ne,et){if(1&et&&(Ne=__webpack_require__(Ne)),8&et)return Ne;if(4&et&&"object"==typeof Ne&&Ne&&Ne.__esModule)return Ne;var tt=Object.create(null);if(__webpack_require__.r(tt),Object.defineProperty(tt,"default",{enumerable:!0,value:Ne}),2&et&&"string"!=typeof Ne)for(var nt in Ne)__webpack_require__.d(tt,nt,function(et){return Ne[et]}.bind(null,nt));return tt},__webpack_require__.n=function(Ne){var et=Ne&&Ne.__esModule?function getDefault(){return Ne.default}:function getModuleExports(){return Ne};return __webpack_require__.d(et,"a",et),et},__webpack_require__.o=function(Ne,et){return Object.prototype.hasOwnProperty.call(Ne,et)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=191)}([function(Ne,et,tt){"use strict";Ne.exports=tt(132)},function(Ne,et,tt){"use strict";function _extends(){return(_extends=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}tt.d(et,"a",(function(){return _extends}))},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return _objectWithoutProperties}));var nt=tt(18);function _objectWithoutProperties(Ne,et){if(null==Ne)return{};var tt,rt,it=Object(nt.a)(Ne,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(Ne);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)>=0||Object.prototype.propertyIsEnumerable.call(Ne,tt)&&(it[tt]=Ne[tt])}return it}},function(Ne,et,tt){"use strict";function toVal(Ne){var et,tt,nt="";if("string"==typeof Ne||"number"==typeof Ne)nt+=Ne;else if("object"==typeof Ne)if(Array.isArray(Ne))for(et=0;et<Ne.length;et++)Ne[et]&&(tt=toVal(Ne[et]))&&(nt&&(nt+=" "),nt+=tt);else for(et in Ne)Ne[et]&&(nt&&(nt+=" "),nt+=et);return nt}et.a=function(){for(var Ne,et,tt=0,nt="";tt<arguments.length;)(Ne=arguments[tt++])&&(et=toVal(Ne))&&(nt&&(nt+=" "),nt+=et);return nt}},function(Ne,et,tt){Ne.exports=tt(140)()},function(Ne,et,tt){"use strict";var nt=tt(1),rt=tt(2),it=tt(0),ot=tt.n(it),at=(tt(4),tt(67)),st=tt.n(at),ct=tt(229),pt=tt(228),dt=tt(230),ft=function withStyles(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(tt){var it=et.defaultTheme,at=et.withTheme,ft=void 0!==at&&at,mt=et.name,yt=Object(rt.a)(et,["defaultTheme","withTheme","name"]);var vt=mt,Ot=Object(ct.a)(Ne,Object(nt.a)({defaultTheme:it,Component:tt,name:mt||tt.displayName,classNamePrefix:vt},yt)),Dt=ot.a.forwardRef((function WithStyles(Ne,et){Ne.classes;var at,st=Ne.innerRef,ct=Object(rt.a)(Ne,["classes","innerRef"]),yt=Ot(Object(nt.a)(Object(nt.a)({},tt.defaultProps),Ne)),vt=ct;return("string"==typeof mt||ft)&&(at=Object(dt.a)()||it,mt&&(vt=Object(pt.a)({theme:at,name:mt,props:ct})),ft&&!vt.theme&&(vt.theme=at)),ot.a.createElement(tt,Object(nt.a)({ref:st||et,classes:yt},vt))}));return st()(Dt,tt),Dt}},mt=tt(38);et.a=function styles_withStyles_withStyles(Ne,et){return ft(Ne,Object(nt.a)({defaultTheme:mt.a},et))}},function(Ne,et,tt){var nt=tt(37);Ne.exports=function(Ne){if(!nt(Ne))throw TypeError(String(Ne)+" is not an object");return Ne}},function(Ne,et){Ne.exports=!1},function(Ne,et,tt){var nt=tt(16),rt=tt(73).f,it=tt(43),ot=tt(65),at=tt(75),st=tt(148),ct=tt(100);Ne.exports=function(Ne,et){var tt,pt,dt,ft,mt,yt=Ne.target,vt=Ne.global,Ot=Ne.stat;if(tt=vt?nt:Ot?nt[yt]||at(yt,{}):(nt[yt]||{}).prototype)for(pt in et){if(ft=et[pt],dt=Ne.noTargetGet?(mt=rt(tt,pt))&&mt.value:tt[pt],!ct(vt?pt:yt+(Ot?".":"#")+pt,Ne.forced)&&void 0!==dt){if(typeof ft==typeof dt)continue;st(ft,dt)}(Ne.sham||dt&&dt.sham)&&it(ft,"sham",!0),ot(tt,pt,ft,Ne)}}},,function(Ne,et,tt){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(Ne){console.error(Ne)}}}(),Ne.exports=tt(133)},function(Ne,et,tt){var nt=tt(6),rt=tt(163),it=tt(77),ot=tt(19),at=tt(103),st=tt(166),Result=function(Ne,et){this.stopped=Ne,this.result=et};(Ne.exports=function(Ne,et,tt,ct,pt){var dt,ft,mt,yt,vt,Ot,Dt,Rt=ot(et,tt,ct?2:1);if(pt)dt=Ne;else{if("function"!=typeof(ft=at(Ne)))throw TypeError("Target is not iterable");if(rt(ft)){for(mt=0,yt=it(Ne.length);yt>mt;mt++)if((vt=ct?Rt(nt(Dt=Ne[mt])[0],Dt[1]):Rt(Ne[mt]))&&vt instanceof Result)return vt;return new Result(!1)}dt=ft.call(Ne)}for(Ot=dt.next;!(Dt=Ot.call(dt)).done;)if("object"==typeof(vt=st(dt,Rt,Dt.value,ct))&&vt&&vt instanceof Result)return vt;return new Result(!1)}).stop=function(Ne){return new Result(!0,Ne)}},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return capitalize}));var nt=tt(128);function capitalize(Ne){if("string"!=typeof Ne)throw new Error(Object(nt.a)(7));return Ne.charAt(0).toUpperCase()+Ne.slice(1)}},function(Ne,et){Ne.exports=function(Ne){if("function"!=typeof Ne)throw TypeError(String(Ne)+" is not a function");return Ne}},function(Ne,et,tt){"use strict";function _inheritsLoose(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}tt.d(et,"a",(function(){return _inheritsLoose}))},function(Ne,et,tt){var nt=tt(29),rt=tt(185);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[Ne.i,rt,""]]);var it={insert:"head",singleton:!1},ot=(nt(rt,it),rt.locals?rt.locals:{});Ne.exports=ot},function(Ne,et,tt){(function(et){var check=function(Ne){return Ne&&Ne.Math==Math&&Ne};Ne.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof et&&et)||Function("return this")()}).call(this,tt(90))},function(Ne,et,tt){var nt=tt(150),rt=tt(16),aFunction=function(Ne){return"function"==typeof Ne?Ne:void 0};Ne.exports=function(Ne,et){return arguments.length<2?aFunction(nt[Ne])||aFunction(rt[Ne]):nt[Ne]&&nt[Ne][et]||rt[Ne]&&rt[Ne][et]}},function(Ne,et,tt){"use strict";function _objectWithoutPropertiesLoose(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}tt.d(et,"a",(function(){return _objectWithoutPropertiesLoose}))},function(Ne,et,tt){var nt=tt(13);Ne.exports=function(Ne,et,tt){if(nt(Ne),void 0===et)return Ne;switch(tt){case 0:return function(){return Ne.call(et)};case 1:return function(tt){return Ne.call(et,tt)};case 2:return function(tt,nt){return Ne.call(et,tt,nt)};case 3:return function(tt,nt,rt){return Ne.call(et,tt,nt,rt)}}return function(){return Ne.apply(et,arguments)}}},function(Ne,et,tt){var nt=tt(29),rt=tt(138);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[Ne.i,rt,""]]);var it={insert:"head",singleton:!1},ot=(nt(rt,it),rt.locals?rt.locals:{});Ne.exports=ot},function(Ne,et,tt){"use strict";tt.d(et,"c",(function(){return getContrastRatio})),tt.d(et,"b",(function(){return fade})),tt.d(et,"a",(function(){return darken})),tt.d(et,"d",(function(){return lighten}));var nt=tt(128);function clamp(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(et,Ne),tt)}function decomposeColor(Ne){if(Ne.type)return Ne;if("#"===Ne.charAt(0))return decomposeColor(function hexToRgb(Ne){Ne=Ne.substr(1);var et=new RegExp(".{1,".concat(Ne.length>=6?2:1,"}"),"g"),tt=Ne.match(et);return tt&&1===tt[0].length&&(tt=tt.map((function(Ne){return Ne+Ne}))),tt?"rgb".concat(4===tt.length?"a":"","(").concat(tt.map((function(Ne,et){return et<3?parseInt(Ne,16):Math.round(parseInt(Ne,16)/255*1e3)/1e3})).join(", "),")"):""}(Ne));var et=Ne.indexOf("("),tt=Ne.substring(0,et);if(-1===["rgb","rgba","hsl","hsla"].indexOf(tt))throw new Error(Object(nt.a)(3,Ne));var rt=Ne.substring(et+1,Ne.length-1).split(",");return{type:tt,values:rt=rt.map((function(Ne){return parseFloat(Ne)}))}}function recomposeColor(Ne){var et=Ne.type,tt=Ne.values;return-1!==et.indexOf("rgb")?tt=tt.map((function(Ne,et){return et<3?parseInt(Ne,10):Ne})):-1!==et.indexOf("hsl")&&(tt[1]="".concat(tt[1],"%"),tt[2]="".concat(tt[2],"%")),"".concat(et,"(").concat(tt.join(", "),")")}function getContrastRatio(Ne,et){var tt=getLuminance(Ne),nt=getLuminance(et);return(Math.max(tt,nt)+.05)/(Math.min(tt,nt)+.05)}function getLuminance(Ne){var et="hsl"===(Ne=decomposeColor(Ne)).type?decomposeColor(function hslToRgb(Ne){var et=(Ne=decomposeColor(Ne)).values,tt=et[0],nt=et[1]/100,rt=et[2]/100,it=nt*Math.min(rt,1-rt),ot=function f(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ne+tt/30)%12;return rt-it*Math.max(Math.min(et-3,9-et,1),-1)},at="rgb",st=[Math.round(255*ot(0)),Math.round(255*ot(8)),Math.round(255*ot(4))];return"hsla"===Ne.type&&(at+="a",st.push(et[3])),recomposeColor({type:at,values:st})}(Ne)).values:Ne.values;return et=et.map((function(Ne){return(Ne/=255)<=.03928?Ne/12.92:Math.pow((Ne+.055)/1.055,2.4)})),Number((.2126*et[0]+.7152*et[1]+.0722*et[2]).toFixed(3))}function fade(Ne,et){return Ne=decomposeColor(Ne),et=clamp(et),"rgb"!==Ne.type&&"hsl"!==Ne.type||(Ne.type+="a"),Ne.values[3]=et,recomposeColor(Ne)}function darken(Ne,et){if(Ne=decomposeColor(Ne),et=clamp(et),-1!==Ne.type.indexOf("hsl"))Ne.values[2]*=1-et;else if(-1!==Ne.type.indexOf("rgb"))for(var tt=0;tt<3;tt+=1)Ne.values[tt]*=1-et;return recomposeColor(Ne)}function lighten(Ne,et){if(Ne=decomposeColor(Ne),et=clamp(et),-1!==Ne.type.indexOf("hsl"))Ne.values[2]+=(100-Ne.values[2])*et;else if(-1!==Ne.type.indexOf("rgb"))for(var tt=0;tt<3;tt+=1)Ne.values[tt]+=(255-Ne.values[tt])*et;return recomposeColor(Ne)}},function(Ne,et,tt){var nt=tt(16),rt=tt(97),it=tt(31),ot=tt(98),at=tt(101),st=tt(160),ct=rt("wks"),pt=nt.Symbol,dt=st?pt:pt&&pt.withoutSetter||ot;Ne.exports=function(Ne){return it(ct,Ne)||(at&&it(pt,Ne)?ct[Ne]=pt[Ne]:ct[Ne]=dt("Symbol."+Ne)),ct[Ne]}},function(Ne,et,tt){var nt=tt(6),rt=tt(13),it=tt(22)("species");Ne.exports=function(Ne,et){var tt,ot=nt(Ne).constructor;return void 0===ot||null==(tt=nt(ot)[it])?et:rt(tt)}},function(Ne,et,tt){var nt=tt(7),rt=tt(79);Ne.exports=nt?rt:function(Ne){return Map.prototype.entries.call(Ne)}},function(Ne,et,tt){"use strict";et.a=function warning(Ne,et){}},function(Ne,et){Ne.exports=function(Ne){try{return!!Ne()}catch(Ne){return!0}}},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return _slicedToArray}));var nt=tt(68);function _slicedToArray(Ne,et){return function _arrayWithHoles(Ne){if(Array.isArray(Ne))return Ne}(Ne)||function _iterableToArrayLimit(Ne,et){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(Ne)){var tt=[],nt=!0,rt=!1,it=void 0;try{for(var ot,at=Ne[Symbol.iterator]();!(nt=(ot=at.next()).done)&&(tt.push(ot.value),!et||tt.length!==et);nt=!0);}catch(Ne){rt=!0,it=Ne}finally{try{nt||null==at.return||at.return()}finally{if(rt)throw it}}return tt}}(Ne,et)||Object(nt.a)(Ne,et)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return _toConsumableArray}));var nt=tt(61);var rt=tt(68);function _toConsumableArray(Ne){return function _arrayWithoutHoles(Ne){if(Array.isArray(Ne))return Object(nt.a)(Ne)}(Ne)||function _iterableToArray(Ne){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(Ne))return Array.from(Ne)}(Ne)||Object(rt.a)(Ne)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(Ne,et,tt){"use strict";var nt=function isOldIE(){var Ne;return function memorize(){return void 0===Ne&&(Ne=Boolean(window&&document&&document.all&&!window.atob)),Ne}}(),rt=function getTarget(){var Ne={};return function memorize(et){if(void 0===Ne[et]){var tt=document.querySelector(et);if(window.HTMLIFrameElement&&tt instanceof window.HTMLIFrameElement)try{tt=tt.contentDocument.head}catch(Ne){tt=null}Ne[et]=tt}return Ne[et]}}(),it=[];function getIndexByIdentifier(Ne){for(var et=-1,tt=0;tt<it.length;tt++)if(it[tt].identifier===Ne){et=tt;break}return et}function modulesToDom(Ne,et){for(var tt={},nt=[],rt=0;rt<Ne.length;rt++){var ot=Ne[rt],at=et.base?ot[0]+et.base:ot[0],st=tt[at]||0,ct="".concat(at," ").concat(st);tt[at]=st+1;var pt=getIndexByIdentifier(ct),dt={css:ot[1],media:ot[2],sourceMap:ot[3]};-1!==pt?(it[pt].references++,it[pt].updater(dt)):it.push({identifier:ct,updater:addStyle(dt,et),references:1}),nt.push(ct)}return nt}function insertStyleElement(Ne){var et=document.createElement("style"),nt=Ne.attributes||{};if(void 0===nt.nonce){var it=tt.nc;it&&(nt.nonce=it)}if(Object.keys(nt).forEach((function(Ne){et.setAttribute(Ne,nt[Ne])})),"function"==typeof Ne.insert)Ne.insert(et);else{var ot=rt(Ne.insert||"head");if(!ot)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ot.appendChild(et)}return et}var ot=function replaceText(){var Ne=[];return function replace(et,tt){return Ne[et]=tt,Ne.filter(Boolean).join("\n")}}();function applyToSingletonTag(Ne,et,tt,nt){var rt=tt?"":nt.media?"@media ".concat(nt.media," {").concat(nt.css,"}"):nt.css;if(Ne.styleSheet)Ne.styleSheet.cssText=ot(et,rt);else{var it=document.createTextNode(rt),at=Ne.childNodes;at[et]&&Ne.removeChild(at[et]),at.length?Ne.insertBefore(it,at[et]):Ne.appendChild(it)}}function applyToTag(Ne,et,tt){var nt=tt.css,rt=tt.media,it=tt.sourceMap;if(rt?Ne.setAttribute("media",rt):Ne.removeAttribute("media"),it&&btoa&&(nt+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(it))))," */")),Ne.styleSheet)Ne.styleSheet.cssText=nt;else{for(;Ne.firstChild;)Ne.removeChild(Ne.firstChild);Ne.appendChild(document.createTextNode(nt))}}var at=null,st=0;function addStyle(Ne,et){var tt,nt,rt;if(et.singleton){var it=st++;tt=at||(at=insertStyleElement(et)),nt=applyToSingletonTag.bind(null,tt,it,!1),rt=applyToSingletonTag.bind(null,tt,it,!0)}else tt=insertStyleElement(et),nt=applyToTag.bind(null,tt,et),rt=function remove(){!function removeStyleElement(Ne){if(null===Ne.parentNode)return!1;Ne.parentNode.removeChild(Ne)}(tt)};return nt(Ne),function updateStyle(et){if(et){if(et.css===Ne.css&&et.media===Ne.media&&et.sourceMap===Ne.sourceMap)return;nt(Ne=et)}else rt()}}Ne.exports=function(Ne,et){(et=et||{}).singleton||"boolean"==typeof et.singleton||(et.singleton=nt());var tt=modulesToDom(Ne=Ne||[],et);return function update(Ne){if(Ne=Ne||[],"[object Array]"===Object.prototype.toString.call(Ne)){for(var nt=0;nt<tt.length;nt++){var rt=getIndexByIdentifier(tt[nt]);it[rt].references--}for(var ot=modulesToDom(Ne,et),at=0;at<tt.length;at++){var st=getIndexByIdentifier(tt[at]);0===it[st].references&&(it[st].updater(),it.splice(st,1))}tt=ot}}}},function(Ne,et,tt){"use strict";Ne.exports=function(Ne){var et=[];return et.toString=function toString(){return this.map((function(et){var tt=function cssWithMappingToString(Ne,et){var tt=Ne[1]||"",nt=Ne[3];if(!nt)return tt;if(et&&"function"==typeof btoa){var rt=function toComment(Ne){var et=btoa(unescape(encodeURIComponent(JSON.stringify(Ne)))),tt="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(et);return"/*# ".concat(tt," */")}(nt),it=nt.sources.map((function(Ne){return"/*# sourceURL=".concat(nt.sourceRoot||"").concat(Ne," */")}));return[tt].concat(it).concat([rt]).join("\n")}return[tt].join("\n")}(et,Ne);return et[2]?"@media ".concat(et[2]," {").concat(tt,"}"):tt})).join("")},et.i=function(Ne,tt,nt){"string"==typeof Ne&&(Ne=[[null,Ne,""]]);var rt={};if(nt)for(var it=0;it<this.length;it++){var ot=this[it][0];null!=ot&&(rt[ot]=!0)}for(var at=0;at<Ne.length;at++){var st=[].concat(Ne[at]);nt&&rt[st[0]]||(tt&&(st[2]?st[2]="".concat(tt," and ").concat(st[2]):st[2]=tt),et.push(st))}},et}},function(Ne,et){var tt={}.hasOwnProperty;Ne.exports=function(Ne,et){return tt.call(Ne,et)}},function(Ne,et,tt){var nt=tt(7),rt=tt(79);Ne.exports=nt?rt:function(Ne){return Set.prototype.values.call(Ne)}},function(Ne,et,tt){"use strict";function _typeof(Ne){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(Ne){return typeof Ne}:function _typeof(Ne){return Ne&&"function"==typeof Symbol&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne})(Ne)}tt.d(et,"a",(function(){return _typeof}))},function(Ne,et,tt){"use strict";function _defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}tt.d(et,"a",(function(){return _defineProperty}))},function(Ne,et,tt){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
Ne.exports=function(){"use strict";for(var limit=function(Ne,et,tt){return void 0===et&&(et=0),void 0===tt&&(tt=1),Ne<et?et:Ne>tt?tt:Ne},Ne={},et=0,tt=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];et<tt.length;et+=1){var nt=tt[et];Ne["[object "+nt+"]"]=nt.toLowerCase()}var type=function(et){return Ne[Object.prototype.toString.call(et)]||"object"},rt=Math.PI,it={clip_rgb:function(Ne){Ne._clipped=!1,Ne._unclipped=Ne.slice(0);for(var et=0;et<=3;et++)et<3?((Ne[et]<0||Ne[et]>255)&&(Ne._clipped=!0),Ne[et]=limit(Ne[et],0,255)):3===et&&(Ne[et]=limit(Ne[et],0,1));return Ne},limit:limit,type:type,unpack:function(Ne,et){return void 0===et&&(et=null),Ne.length>=3?Array.prototype.slice.call(Ne):"object"==type(Ne[0])&&et?et.split("").filter((function(et){return void 0!==Ne[0][et]})).map((function(et){return Ne[0][et]})):Ne[0]},last:function(Ne){if(Ne.length<2)return null;var et=Ne.length-1;return"string"==type(Ne[et])?Ne[et].toLowerCase():null},PI:rt,TWOPI:2*rt,PITHIRD:rt/3,DEG2RAD:rt/180,RAD2DEG:180/rt},ot={format:{},autodetect:[]},at=it.last,st=it.clip_rgb,ct=it.type,pt=function Color(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=this;if("object"===ct(Ne[0])&&Ne[0].constructor&&Ne[0].constructor===this.constructor)return Ne[0];var nt=at(Ne),rt=!1;if(!nt){rt=!0,ot.sorted||(ot.autodetect=ot.autodetect.sort((function(Ne,et){return et.p-Ne.p})),ot.sorted=!0);for(var it=0,pt=ot.autodetect;it<pt.length;it+=1){var dt=pt[it];if(nt=dt.test.apply(dt,Ne))break}}if(!ot.format[nt])throw new Error("unknown format: "+Ne);var ft=ot.format[nt].apply(null,rt?Ne:Ne.slice(0,-1));tt._rgb=st(ft),3===tt._rgb.length&&tt._rgb.push(1)};pt.prototype.toString=function toString(){return"function"==ct(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var dt=pt,chroma=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(chroma.Color,[null].concat(Ne)))};chroma.Color=dt,chroma.version="2.1.0";var ft=chroma,mt=it.unpack,yt=Math.max,rgb2cmyk_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=mt(Ne,"rgb"),nt=tt[0],rt=tt[1],it=tt[2],ot=1-yt(nt/=255,yt(rt/=255,it/=255)),at=ot<1?1/(1-ot):0,st=(1-nt-ot)*at,ct=(1-rt-ot)*at,pt=(1-it-ot)*at;return[st,ct,pt,ot]},vt=it.unpack,cmyk2rgb_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=(Ne=vt(Ne,"cmyk"))[0],nt=Ne[1],rt=Ne[2],it=Ne[3],ot=Ne.length>4?Ne[4]:1;return 1===it?[0,0,0,ot]:[tt>=1?0:255*(1-tt)*(1-it),nt>=1?0:255*(1-nt)*(1-it),rt>=1?0:255*(1-rt)*(1-it),ot]},Ot=it.unpack,Dt=it.type;dt.prototype.cmyk=function(){return rgb2cmyk_1(this._rgb)},ft.cmyk=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["cmyk"])))},ot.format.cmyk=cmyk2rgb_1,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=Ot(Ne,"cmyk"),"array"===Dt(Ne)&&4===Ne.length)return"cmyk"}});var Rt=it.unpack,Bt=it.last,rnd=function(Ne){return Math.round(100*Ne)/100},hsl2css_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Rt(Ne,"hsla"),nt=Bt(Ne)||"lsa";return tt[0]=rnd(tt[0]||0),tt[1]=rnd(100*tt[1])+"%",tt[2]=rnd(100*tt[2])+"%","hsla"===nt||tt.length>3&&tt[3]<1?(tt[3]=tt.length>3?tt[3]:1,nt="hsla"):tt.length=3,nt+"("+tt.join(",")+")"},rn=it.unpack,rgb2hsl_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=(Ne=rn(Ne,"rgba"))[0],nt=Ne[1],rt=Ne[2];tt/=255,nt/=255,rt/=255;var it,ot,at=Math.min(tt,nt,rt),st=Math.max(tt,nt,rt),ct=(st+at)/2;return st===at?(it=0,ot=Number.NaN):it=ct<.5?(st-at)/(st+at):(st-at)/(2-st-at),tt==st?ot=(nt-rt)/(st-at):nt==st?ot=2+(rt-tt)/(st-at):rt==st&&(ot=4+(tt-nt)/(st-at)),(ot*=60)<0&&(ot+=360),Ne.length>3&&void 0!==Ne[3]?[ot,it,ct,Ne[3]]:[ot,it,ct]},vn=it.unpack,bn=it.last,Tn=Math.round,rgb2css_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=vn(Ne,"rgba"),nt=bn(Ne)||"rgb";return"hsl"==nt.substr(0,3)?hsl2css_1(rgb2hsl_1(tt),nt):(tt[0]=Tn(tt[0]),tt[1]=Tn(tt[1]),tt[2]=Tn(tt[2]),("rgba"===nt||tt.length>3&&tt[3]<1)&&(tt[3]=tt.length>3?tt[3]:1,nt="rgba"),nt+"("+tt.slice(0,"rgb"===nt?3:4).join(",")+")")},Cn=it.unpack,In=Math.round,hsl2rgb_1=function(){for(var Ne,et=[],tt=arguments.length;tt--;)et[tt]=arguments[tt];var nt,rt,it,ot=(et=Cn(et,"hsl"))[0],at=et[1],st=et[2];if(0===at)nt=rt=it=255*st;else{var ct=[0,0,0],pt=[0,0,0],dt=st<.5?st*(1+at):st+at-st*at,ft=2*st-dt,mt=ot/360;ct[0]=mt+1/3,ct[1]=mt,ct[2]=mt-1/3;for(var yt=0;yt<3;yt++)ct[yt]<0&&(ct[yt]+=1),ct[yt]>1&&(ct[yt]-=1),6*ct[yt]<1?pt[yt]=ft+6*(dt-ft)*ct[yt]:2*ct[yt]<1?pt[yt]=dt:3*ct[yt]<2?pt[yt]=ft+(dt-ft)*(2/3-ct[yt])*6:pt[yt]=ft;nt=(Ne=[In(255*pt[0]),In(255*pt[1]),In(255*pt[2])])[0],rt=Ne[1],it=Ne[2]}return et.length>3?[nt,rt,it,et[3]]:[nt,rt,it,1]},Ln=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Mn=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,zn=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Fn=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Bn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Nn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Vn=Math.round,css2rgb=function(Ne){var et;if(Ne=Ne.toLowerCase().trim(),ot.format.named)try{return ot.format.named(Ne)}catch(Ne){}if(et=Ne.match(Ln)){for(var tt=et.slice(1,4),nt=0;nt<3;nt++)tt[nt]=+tt[nt];return tt[3]=1,tt}if(et=Ne.match(Mn)){for(var rt=et.slice(1,5),it=0;it<4;it++)rt[it]=+rt[it];return rt}if(et=Ne.match(zn)){for(var at=et.slice(1,4),st=0;st<3;st++)at[st]=Vn(2.55*at[st]);return at[3]=1,at}if(et=Ne.match(Fn)){for(var ct=et.slice(1,5),pt=0;pt<3;pt++)ct[pt]=Vn(2.55*ct[pt]);return ct[3]=+ct[3],ct}if(et=Ne.match(Bn)){var dt=et.slice(1,4);dt[1]*=.01,dt[2]*=.01;var ft=hsl2rgb_1(dt);return ft[3]=1,ft}if(et=Ne.match(Nn)){var mt=et.slice(1,4);mt[1]*=.01,mt[2]*=.01;var yt=hsl2rgb_1(mt);return yt[3]=+et[4],yt}};css2rgb.test=function(Ne){return Ln.test(Ne)||Mn.test(Ne)||zn.test(Ne)||Fn.test(Ne)||Bn.test(Ne)||Nn.test(Ne)};var Wn=css2rgb,$n=it.type;dt.prototype.css=function(Ne){return rgb2css_1(this._rgb,Ne)},ft.css=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["css"])))},ot.format.css=Wn,ot.autodetect.push({p:5,test:function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];if(!et.length&&"string"===$n(Ne)&&Wn.test(Ne))return"css"}});var Yn=it.unpack;ot.format.gl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Yn(Ne,"rgba");return tt[0]*=255,tt[1]*=255,tt[2]*=255,tt},ft.gl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["gl"])))},dt.prototype.gl=function(){var Ne=this._rgb;return[Ne[0]/255,Ne[1]/255,Ne[2]/255,Ne[3]]};var er=it.unpack,rgb2hcg_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,nt=er(Ne,"rgb"),rt=nt[0],it=nt[1],ot=nt[2],at=Math.min(rt,it,ot),st=Math.max(rt,it,ot),ct=st-at,pt=100*ct/255,dt=at/(255-ct)*100;return 0===ct?tt=Number.NaN:(rt===st&&(tt=(it-ot)/ct),it===st&&(tt=2+(ot-rt)/ct),ot===st&&(tt=4+(rt-it)/ct),(tt*=60)<0&&(tt+=360)),[tt,pt,dt]},rr=it.unpack,vr=Math.floor,hcg2rgb_1=function(){for(var Ne,et,tt,nt,rt,it,ot=[],at=arguments.length;at--;)ot[at]=arguments[at];var st,ct,pt,dt=(ot=rr(ot,"hcg"))[0],ft=ot[1],mt=ot[2];mt*=255;var yt=255*ft;if(0===ft)st=ct=pt=mt;else{360===dt&&(dt=0),dt>360&&(dt-=360),dt<0&&(dt+=360);var vt=vr(dt/=60),Ot=dt-vt,Dt=mt*(1-ft),Rt=Dt+yt*(1-Ot),Bt=Dt+yt*Ot,rn=Dt+yt;switch(vt){case 0:st=(Ne=[rn,Bt,Dt])[0],ct=Ne[1],pt=Ne[2];break;case 1:st=(et=[Rt,rn,Dt])[0],ct=et[1],pt=et[2];break;case 2:st=(tt=[Dt,rn,Bt])[0],ct=tt[1],pt=tt[2];break;case 3:st=(nt=[Dt,Rt,rn])[0],ct=nt[1],pt=nt[2];break;case 4:st=(rt=[Bt,Dt,rn])[0],ct=rt[1],pt=rt[2];break;case 5:st=(it=[rn,Dt,Rt])[0],ct=it[1],pt=it[2]}}return[st,ct,pt,ot.length>3?ot[3]:1]},wr=it.unpack,Sr=it.type;dt.prototype.hcg=function(){return rgb2hcg_1(this._rgb)},ft.hcg=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["hcg"])))},ot.format.hcg=hcg2rgb_1,ot.autodetect.push({p:1,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=wr(Ne,"hcg"),"array"===Sr(Ne)&&3===Ne.length)return"hcg"}});var ii=it.unpack,qi=it.last,uo=Math.round,rgb2hex_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=ii(Ne,"rgba"),nt=tt[0],rt=tt[1],it=tt[2],ot=tt[3],at=qi(Ne)||"auto";void 0===ot&&(ot=1),"auto"===at&&(at=ot<1?"rgba":"rgb");var st=(nt=uo(nt))<<16|(rt=uo(rt))<<8|(it=uo(it)),ct="000000"+st.toString(16);ct=ct.substr(ct.length-6);var pt="0"+uo(255*ot).toString(16);switch(pt=pt.substr(pt.length-2),at.toLowerCase()){case"rgba":return"#"+ct+pt;case"argb":return"#"+pt+ct;default:return"#"+ct}},po=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,vo=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hex2rgb_1=function(Ne){if(Ne.match(po)){4!==Ne.length&&7!==Ne.length||(Ne=Ne.substr(1)),3===Ne.length&&(Ne=(Ne=Ne.split(""))[0]+Ne[0]+Ne[1]+Ne[1]+Ne[2]+Ne[2]);var et=parseInt(Ne,16);return[et>>16,et>>8&255,255&et,1]}if(Ne.match(vo)){5!==Ne.length&&9!==Ne.length||(Ne=Ne.substr(1)),4===Ne.length&&(Ne=(Ne=Ne.split(""))[0]+Ne[0]+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]);var tt=parseInt(Ne,16);return[tt>>24&255,tt>>16&255,tt>>8&255,Math.round((255&tt)/255*100)/100]}throw new Error("unknown hex color: "+Ne)},So=it.type;dt.prototype.hex=function(Ne){return rgb2hex_1(this._rgb,Ne)},ft.hex=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["hex"])))},ot.format.hex=hex2rgb_1,ot.autodetect.push({p:4,test:function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];if(!et.length&&"string"===So(Ne)&&[3,4,5,6,7,8,9].indexOf(Ne.length)>=0)return"hex"}});var ta=it.unpack,na=it.TWOPI,ia=Math.min,sa=Math.sqrt,la=Math.acos,rgb2hsi_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,nt=ta(Ne,"rgb"),rt=nt[0],it=nt[1],ot=nt[2],at=ia(rt/=255,it/=255,ot/=255),st=(rt+it+ot)/3,ct=st>0?1-at/st:0;return 0===ct?tt=NaN:(tt=(rt-it+(rt-ot))/2,tt/=sa((rt-it)*(rt-it)+(rt-ot)*(it-ot)),tt=la(tt),ot>it&&(tt=na-tt),tt/=na),[360*tt,ct,st]},pa=it.unpack,fa=it.limit,ga=it.TWOPI,va=it.PITHIRD,_a=Math.cos,hsi2rgb_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,nt,rt,it=(Ne=pa(Ne,"hsi"))[0],ot=Ne[1],at=Ne[2];return isNaN(it)&&(it=0),isNaN(ot)&&(ot=0),it>360&&(it-=360),it<0&&(it+=360),(it/=360)<1/3?nt=1-((rt=(1-ot)/3)+(tt=(1+ot*_a(ga*it)/_a(va-ga*it))/3)):it<2/3?rt=1-((tt=(1-ot)/3)+(nt=(1+ot*_a(ga*(it-=1/3))/_a(va-ga*it))/3)):tt=1-((nt=(1-ot)/3)+(rt=(1+ot*_a(ga*(it-=2/3))/_a(va-ga*it))/3)),[255*(tt=fa(at*tt*3)),255*(nt=fa(at*nt*3)),255*(rt=fa(at*rt*3)),Ne.length>3?Ne[3]:1]},wa=it.unpack,Aa=it.type;dt.prototype.hsi=function(){return rgb2hsi_1(this._rgb)},ft.hsi=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["hsi"])))},ot.format.hsi=hsi2rgb_1,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=wa(Ne,"hsi"),"array"===Aa(Ne)&&3===Ne.length)return"hsi"}});var os=it.unpack,as=it.type;dt.prototype.hsl=function(){return rgb2hsl_1(this._rgb)},ft.hsl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["hsl"])))},ot.format.hsl=hsl2rgb_1,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=os(Ne,"hsl"),"array"===as(Ne)&&3===Ne.length)return"hsl"}});var ss=it.unpack,ls=Math.min,us=Math.max,rgb2hsv=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,nt,rt,it=(Ne=ss(Ne,"rgb"))[0],ot=Ne[1],at=Ne[2],st=ls(it,ot,at),ct=us(it,ot,at),pt=ct-st;return rt=ct/255,0===ct?(tt=Number.NaN,nt=0):(nt=pt/ct,it===ct&&(tt=(ot-at)/pt),ot===ct&&(tt=2+(at-it)/pt),at===ct&&(tt=4+(it-ot)/pt),(tt*=60)<0&&(tt+=360)),[tt,nt,rt]},fs=it.unpack,gs=Math.floor,hsv2rgb_1=function(){for(var Ne,et,tt,nt,rt,it,ot=[],at=arguments.length;at--;)ot[at]=arguments[at];var st,ct,pt,dt=(ot=fs(ot,"hsv"))[0],ft=ot[1],mt=ot[2];if(mt*=255,0===ft)st=ct=pt=mt;else{360===dt&&(dt=0),dt>360&&(dt-=360),dt<0&&(dt+=360);var yt=gs(dt/=60),vt=dt-yt,Ot=mt*(1-ft),Dt=mt*(1-ft*vt),Rt=mt*(1-ft*(1-vt));switch(yt){case 0:st=(Ne=[mt,Rt,Ot])[0],ct=Ne[1],pt=Ne[2];break;case 1:st=(et=[Dt,mt,Ot])[0],ct=et[1],pt=et[2];break;case 2:st=(tt=[Ot,mt,Rt])[0],ct=tt[1],pt=tt[2];break;case 3:st=(nt=[Ot,Dt,mt])[0],ct=nt[1],pt=nt[2];break;case 4:st=(rt=[Rt,Ot,mt])[0],ct=rt[1],pt=rt[2];break;case 5:st=(it=[mt,Ot,Dt])[0],ct=it[1],pt=it[2]}}return[st,ct,pt,ot.length>3?ot[3]:1]},vs=it.unpack,xs=it.type;dt.prototype.hsv=function(){return rgb2hsv(this._rgb)},ft.hsv=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["hsv"])))},ot.format.hsv=hsv2rgb_1,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=vs(Ne,"hsv"),"array"===xs(Ne)&&3===Ne.length)return"hsv"}});var Ss=18,Es=.95047,Cs=1,Ps=1.08883,As=.137931034,Ls=.206896552,Ms=.12841855,Os=.008856452,zs=it.unpack,Rs=Math.pow,rgb_xyz=function(Ne){return(Ne/=255)<=.04045?Ne/12.92:Rs((Ne+.055)/1.055,2.4)},xyz_lab=function(Ne){return Ne>Os?Rs(Ne,1/3):Ne/Ms+As},rgb2xyz=function(Ne,et,tt){return Ne=rgb_xyz(Ne),et=rgb_xyz(et),tt=rgb_xyz(tt),[xyz_lab((.4124564*Ne+.3575761*et+.1804375*tt)/Es),xyz_lab((.2126729*Ne+.7151522*et+.072175*tt)/Cs),xyz_lab((.0193339*Ne+.119192*et+.9503041*tt)/Ps)]},rgb2lab_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=zs(Ne,"rgb"),nt=tt[0],rt=tt[1],it=tt[2],ot=rgb2xyz(nt,rt,it),at=ot[0],st=ot[1],ct=ot[2],pt=116*st-16;return[pt<0?0:pt,500*(at-st),200*(st-ct)]},Fs=it.unpack,Bs=Math.pow,xyz_rgb=function(Ne){return 255*(Ne<=.00304?12.92*Ne:1.055*Bs(Ne,1/2.4)-.055)},lab_xyz=function(Ne){return Ne>Ls?Ne*Ne*Ne:Ms*(Ne-As)},lab2rgb_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,nt,rt,it=(Ne=Fs(Ne,"lab"))[0],ot=Ne[1],at=Ne[2];return nt=(it+16)/116,tt=isNaN(ot)?nt:nt+ot/500,rt=isNaN(at)?nt:nt-at/200,nt=Cs*lab_xyz(nt),tt=Es*lab_xyz(tt),rt=Ps*lab_xyz(rt),[xyz_rgb(3.2404542*tt-1.5371385*nt-.4985314*rt),xyz_rgb(-.969266*tt+1.8760108*nt+.041556*rt),xyz_rgb(.0556434*tt-.2040259*nt+1.0572252*rt),Ne.length>3?Ne[3]:1]},js=it.unpack,Ns=it.type;dt.prototype.lab=function(){return rgb2lab_1(this._rgb)},ft.lab=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["lab"])))},ot.format.lab=lab2rgb_1,ot.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=js(Ne,"lab"),"array"===Ns(Ne)&&3===Ne.length)return"lab"}});var Vs=it.unpack,Us=it.RAD2DEG,Zs=Math.sqrt,Js=Math.atan2,tl=Math.round,lab2lch_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Vs(Ne,"lab"),nt=tt[0],rt=tt[1],it=tt[2],ot=Zs(rt*rt+it*it),at=(Js(it,rt)*Us+360)%360;return 0===tl(1e4*ot)&&(at=Number.NaN),[nt,ot,at]},ol=it.unpack,rgb2lch_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=ol(Ne,"rgb"),nt=tt[0],rt=tt[1],it=tt[2],ot=rgb2lab_1(nt,rt,it),at=ot[0],st=ot[1],ct=ot[2];return lab2lch_1(at,st,ct)},sl=it.unpack,dl=it.DEG2RAD,gl=Math.sin,yl=Math.cos,lch2lab_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=sl(Ne,"lch"),nt=tt[0],rt=tt[1],it=tt[2];return isNaN(it)&&(it=0),[nt,yl(it*=dl)*rt,gl(it)*rt]},vl=it.unpack,lch2rgb_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=(Ne=vl(Ne,"lch"))[0],nt=Ne[1],rt=Ne[2],it=lch2lab_1(tt,nt,rt),ot=it[0],at=it[1],st=it[2],ct=lab2rgb_1(ot,at,st),pt=ct[0],dt=ct[1],ft=ct[2];return[pt,dt,ft,Ne.length>3?Ne[3]:1]},_l=it.unpack,hcl2rgb_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=_l(Ne,"hcl").reverse();return lch2rgb_1.apply(void 0,tt)},bl=it.unpack,xl=it.type;dt.prototype.lch=function(){return rgb2lch_1(this._rgb)},dt.prototype.hcl=function(){return rgb2lch_1(this._rgb).reverse()},ft.lch=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["lch"])))},ft.hcl=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["hcl"])))},ot.format.lch=lch2rgb_1,ot.format.hcl=hcl2rgb_1,["lch","hcl"].forEach((function(Ne){return ot.autodetect.push({p:2,test:function(){for(var et=[],tt=arguments.length;tt--;)et[tt]=arguments[tt];if(et=bl(et,Ne),"array"===xl(et)&&3===et.length)return Ne}})}));var wl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Sl=it.type;dt.prototype.name=function(){for(var Ne=rgb2hex_1(this._rgb,"rgb"),et=0,tt=Object.keys(wl);et<tt.length;et+=1){var nt=tt[et];if(wl[nt]===Ne)return nt.toLowerCase()}return Ne},ot.format.named=function(Ne){if(Ne=Ne.toLowerCase(),wl[Ne])return hex2rgb_1(wl[Ne]);throw new Error("unknown color name: "+Ne)},ot.autodetect.push({p:5,test:function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];if(!et.length&&"string"===Sl(Ne)&&wl[Ne.toLowerCase()])return"named"}});var Cl=it.unpack,rgb2num_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Cl(Ne,"rgb"),nt=tt[0],rt=tt[1],it=tt[2];return(nt<<16)+(rt<<8)+it},kl=it.type,num2rgb_1=function(Ne){if("number"==kl(Ne)&&Ne>=0&&Ne<=16777215)return[Ne>>16,Ne>>8&255,255&Ne,1];throw new Error("unknown num color: "+Ne)},Il=it.type;dt.prototype.num=function(){return rgb2num_1(this._rgb)},ft.num=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["num"])))},ot.format.num=num2rgb_1,ot.autodetect.push({p:5,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(1===Ne.length&&"number"===Il(Ne[0])&&Ne[0]>=0&&Ne[0]<=16777215)return"num"}});var Al=it.unpack,zl=it.type,Fl=Math.round;dt.prototype.rgb=function(Ne){return void 0===Ne&&(Ne=!0),!1===Ne?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Fl)},dt.prototype.rgba=function(Ne){return void 0===Ne&&(Ne=!0),this._rgb.slice(0,4).map((function(et,tt){return tt<3?!1===Ne?et:Fl(et):et}))},ft.rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["rgb"])))},ot.format.rgb=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=Al(Ne,"rgba");return void 0===tt[3]&&(tt[3]=1),tt},ot.autodetect.push({p:3,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=Al(Ne,"rgba"),"array"===zl(Ne)&&(3===Ne.length||4===Ne.length&&"number"==zl(Ne[3])&&Ne[3]>=0&&Ne[3]<=1))return"rgb"}});var Hl=Math.log,temperature2rgb_1=function(Ne){var et,tt,nt,rt=Ne/100;return rt<66?(et=255,tt=-155.25485562709179-.44596950469579133*(tt=rt-2)+104.49216199393888*Hl(tt),nt=rt<20?0:.8274096064007395*(nt=rt-10)-254.76935184120902+115.67994401066147*Hl(nt)):(et=351.97690566805693+.114206453784165*(et=rt-55)-40.25366309332127*Hl(et),tt=325.4494125711974+.07943456536662342*(tt=rt-50)-28.0852963507957*Hl(tt),nt=255),[et,tt,nt,1]},du=it.unpack,vu=Math.round,rgb2temperature_1=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];for(var tt,nt=du(Ne,"rgb"),rt=nt[0],it=nt[2],ot=1e3,at=4e4,st=.4;at-ot>st;){var ct=temperature2rgb_1(tt=.5*(at+ot));ct[2]/ct[0]>=it/rt?at=tt:ot=tt}return vu(tt)};dt.prototype.temp=dt.prototype.kelvin=dt.prototype.temperature=function(){return rgb2temperature_1(this._rgb)},ft.temp=ft.kelvin=ft.temperature=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return new(Function.prototype.bind.apply(dt,[null].concat(Ne,["temp"])))},ot.format.temp=ot.format.kelvin=ot.format.temperature=temperature2rgb_1;var _u=it.type;dt.prototype.alpha=function(Ne,et){return void 0===et&&(et=!1),void 0!==Ne&&"number"===_u(Ne)?et?(this._rgb[3]=Ne,this):new dt([this._rgb[0],this._rgb[1],this._rgb[2],Ne],"rgb"):this._rgb[3]},dt.prototype.clipped=function(){return this._rgb._clipped||!1},dt.prototype.darken=function(Ne){void 0===Ne&&(Ne=1);var et=this.lab();return et[0]-=Ss*Ne,new dt(et,"lab").alpha(this.alpha(),!0)},dt.prototype.brighten=function(Ne){return void 0===Ne&&(Ne=1),this.darken(-Ne)},dt.prototype.darker=dt.prototype.darken,dt.prototype.brighter=dt.prototype.brighten,dt.prototype.get=function(Ne){var et=Ne.split("."),tt=et[0],nt=et[1],rt=this[tt]();if(nt){var it=tt.indexOf(nt);if(it>-1)return rt[it];throw new Error("unknown channel "+nt+" in mode "+tt)}return rt};var wu=it.type,Tu=Math.pow;dt.prototype.luminance=function(Ne){if(void 0!==Ne&&"number"===wu(Ne)){if(0===Ne)return new dt([0,0,0,this._rgb[3]],"rgb");if(1===Ne)return new dt([255,255,255,this._rgb[3]],"rgb");var et=this.luminance(),tt=20,test=function(et,nt){var rt=et.interpolate(nt,.5,"rgb"),it=rt.luminance();return Math.abs(Ne-it)<1e-7||!tt--?rt:it>Ne?test(et,rt):test(rt,nt)},nt=(et>Ne?test(new dt([0,0,0]),this):test(this,new dt([255,255,255]))).rgb();return new dt(nt.concat([this._rgb[3]]))}return rgb2luminance.apply(void 0,this._rgb.slice(0,3))};var rgb2luminance=function(Ne,et,tt){return.2126*(Ne=luminance_x(Ne))+.7152*(et=luminance_x(et))+.0722*(tt=luminance_x(tt))},luminance_x=function(Ne){return(Ne/=255)<=.03928?Ne/12.92:Tu((Ne+.055)/1.055,2.4)},Fu={},ac=it.type,mix=function(Ne,et,tt){void 0===tt&&(tt=.5);for(var nt=[],rt=arguments.length-3;rt-- >0;)nt[rt]=arguments[rt+3];var it=nt[0]||"lrgb";if(Fu[it]||nt.length||(it=Object.keys(Fu)[0]),!Fu[it])throw new Error("interpolation mode "+it+" is not defined");return"object"!==ac(Ne)&&(Ne=new dt(Ne)),"object"!==ac(et)&&(et=new dt(et)),Fu[it](Ne,et,tt).alpha(Ne.alpha()+tt*(et.alpha()-Ne.alpha()))};dt.prototype.mix=dt.prototype.interpolate=function(Ne,et){void 0===et&&(et=.5);for(var tt=[],nt=arguments.length-2;nt-- >0;)tt[nt]=arguments[nt+2];return mix.apply(void 0,[this,Ne,et].concat(tt))},dt.prototype.premultiply=function(Ne){void 0===Ne&&(Ne=!1);var et=this._rgb,tt=et[3];return Ne?(this._rgb=[et[0]*tt,et[1]*tt,et[2]*tt,tt],this):new dt([et[0]*tt,et[1]*tt,et[2]*tt,tt],"rgb")},dt.prototype.saturate=function(Ne){void 0===Ne&&(Ne=1);var et=this.lch();return et[1]+=Ss*Ne,et[1]<0&&(et[1]=0),new dt(et,"lch").alpha(this.alpha(),!0)},dt.prototype.desaturate=function(Ne){return void 0===Ne&&(Ne=1),this.saturate(-Ne)};var pc=it.type;dt.prototype.set=function(Ne,et,tt){void 0===tt&&(tt=!1);var nt=Ne.split("."),rt=nt[0],it=nt[1],ot=this[rt]();if(it){var at=rt.indexOf(it);if(at>-1){if("string"==pc(et))switch(et.charAt(0)){case"+":case"-":ot[at]+=+et;break;case"*":ot[at]*=+et.substr(1);break;case"/":ot[at]/=+et.substr(1);break;default:ot[at]=+et}else{if("number"!==pc(et))throw new Error("unsupported value for Color.set");ot[at]=et}var st=new dt(ot,rt);return tt?(this._rgb=st._rgb,this):st}throw new Error("unknown channel "+it+" in mode "+rt)}return ot},Fu.rgb=function(Ne,et,tt){var nt=Ne._rgb,rt=et._rgb;return new dt(nt[0]+tt*(rt[0]-nt[0]),nt[1]+tt*(rt[1]-nt[1]),nt[2]+tt*(rt[2]-nt[2]),"rgb")};var yc=Math.sqrt,_c=Math.pow;Fu.lrgb=function(Ne,et,tt){var nt=Ne._rgb,rt=nt[0],it=nt[1],ot=nt[2],at=et._rgb,st=at[0],ct=at[1],pt=at[2];return new dt(yc(_c(rt,2)*(1-tt)+_c(st,2)*tt),yc(_c(it,2)*(1-tt)+_c(ct,2)*tt),yc(_c(ot,2)*(1-tt)+_c(pt,2)*tt),"rgb")},Fu.lab=function(Ne,et,tt){var nt=Ne.lab(),rt=et.lab();return new dt(nt[0]+tt*(rt[0]-nt[0]),nt[1]+tt*(rt[1]-nt[1]),nt[2]+tt*(rt[2]-nt[2]),"lab")};var _hsx=function(Ne,et,tt,nt){var rt,it,ot,at,st,ct,pt,ft,mt,yt,vt,Ot;return"hsl"===nt?(ot=Ne.hsl(),at=et.hsl()):"hsv"===nt?(ot=Ne.hsv(),at=et.hsv()):"hcg"===nt?(ot=Ne.hcg(),at=et.hcg()):"hsi"===nt?(ot=Ne.hsi(),at=et.hsi()):"lch"!==nt&&"hcl"!==nt||(nt="hcl",ot=Ne.hcl(),at=et.hcl()),"h"===nt.substr(0,1)&&(st=(rt=ot)[0],pt=rt[1],mt=rt[2],ct=(it=at)[0],ft=it[1],yt=it[2]),isNaN(st)||isNaN(ct)?isNaN(st)?isNaN(ct)?Ot=Number.NaN:(Ot=ct,1!=mt&&0!=mt||"hsv"==nt||(vt=ft)):(Ot=st,1!=yt&&0!=yt||"hsv"==nt||(vt=pt)):Ot=st+tt*(ct>st&&ct-st>180?ct-(st+360):ct<st&&st-ct>180?ct+360-st:ct-st),void 0===vt&&(vt=pt+tt*(ft-pt)),new dt([Ot,vt,mt+tt*(yt-mt)],nt)},lch$1=function(Ne,et,tt){return _hsx(Ne,et,tt,"lch")};Fu.lch=lch$1,Fu.hcl=lch$1,Fu.num=function(Ne,et,tt){var nt=Ne.num(),rt=et.num();return new dt(nt+tt*(rt-nt),"num")},Fu.hcg=function(Ne,et,tt){return _hsx(Ne,et,tt,"hcg")},Fu.hsi=function(Ne,et,tt){return _hsx(Ne,et,tt,"hsi")},Fu.hsl=function(Ne,et,tt){return _hsx(Ne,et,tt,"hsl")},Fu.hsv=function(Ne,et,tt){return _hsx(Ne,et,tt,"hsv")};var bc=it.clip_rgb,xc=Math.pow,wc=Math.sqrt,Ec=Math.PI,Cc=Math.cos,kc=Math.sin,Ic=Math.atan2,_average_lrgb=function(Ne,et){for(var tt=Ne.length,nt=[0,0,0,0],rt=0;rt<Ne.length;rt++){var it=Ne[rt],ot=et[rt]/tt,at=it._rgb;nt[0]+=xc(at[0],2)*ot,nt[1]+=xc(at[1],2)*ot,nt[2]+=xc(at[2],2)*ot,nt[3]+=at[3]*ot}return nt[0]=wc(nt[0]),nt[1]=wc(nt[1]),nt[2]=wc(nt[2]),nt[3]>.9999999&&(nt[3]=1),new dt(bc(nt))},Ac=it.type,zc=Math.pow,scale=function(Ne){var et="rgb",tt=ft("#ccc"),nt=0,rt=[0,1],it=[],ot=[0,0],at=!1,st=[],ct=!1,pt=0,dt=1,mt=!1,yt={},vt=!0,Ot=1,setColors=function(Ne){if((Ne=Ne||["#fff","#000"])&&"string"===Ac(Ne)&&ft.brewer&&ft.brewer[Ne.toLowerCase()]&&(Ne=ft.brewer[Ne.toLowerCase()]),"array"===Ac(Ne)){1===Ne.length&&(Ne=[Ne[0],Ne[0]]),Ne=Ne.slice(0);for(var et=0;et<Ne.length;et++)Ne[et]=ft(Ne[et]);it.length=0;for(var tt=0;tt<Ne.length;tt++)it.push(tt/(Ne.length-1))}return resetCache(),st=Ne},tMapLightness=function(Ne){return Ne},tMapDomain=function(Ne){return Ne},getColor=function(Ne,nt){var rt,ct;if(null==nt&&(nt=!1),isNaN(Ne)||null===Ne)return tt;ct=nt?Ne:at&&at.length>2?function(Ne){if(null!=at){for(var et=at.length-1,tt=0;tt<et&&Ne>=at[tt];)tt++;return tt-1}return 0}(Ne)/(at.length-2):dt!==pt?(Ne-pt)/(dt-pt):1,ct=tMapDomain(ct),nt||(ct=tMapLightness(ct)),1!==Ot&&(ct=zc(ct,Ot)),ct=ot[0]+ct*(1-ot[0]-ot[1]),ct=Math.min(1,Math.max(0,ct));var mt=Math.floor(1e4*ct);if(vt&&yt[mt])rt=yt[mt];else{if("array"===Ac(st))for(var Dt=0;Dt<it.length;Dt++){var Rt=it[Dt];if(ct<=Rt){rt=st[Dt];break}if(ct>=Rt&&Dt===it.length-1){rt=st[Dt];break}if(ct>Rt&&ct<it[Dt+1]){ct=(ct-Rt)/(it[Dt+1]-Rt),rt=ft.interpolate(st[Dt],st[Dt+1],ct,et);break}}else"function"===Ac(st)&&(rt=st(ct));vt&&(yt[mt]=rt)}return rt},resetCache=function(){return yt={}};setColors(Ne);var f=function(Ne){var et=ft(getColor(Ne));return ct&&et[ct]?et[ct]():et};return f.classes=function(Ne){if(null!=Ne){if("array"===Ac(Ne))at=Ne,rt=[Ne[0],Ne[Ne.length-1]];else{var et=ft.analyze(rt);at=0===Ne?[et.min,et.max]:ft.limits(et,"e",Ne)}return f}return at},f.domain=function(Ne){if(!arguments.length)return rt;pt=Ne[0],dt=Ne[Ne.length-1],it=[];var et=st.length;if(Ne.length===et&&pt!==dt)for(var tt=0,nt=Array.from(Ne);tt<nt.length;tt+=1){var ot=nt[tt];it.push((ot-pt)/(dt-pt))}else{for(var at=0;at<et;at++)it.push(at/(et-1));if(Ne.length>2){var ct=Ne.map((function(et,tt){return tt/(Ne.length-1)})),ft=Ne.map((function(Ne){return(Ne-pt)/(dt-pt)}));ft.every((function(Ne,et){return ct[et]===Ne}))||(tMapDomain=function(Ne){if(Ne<=0||Ne>=1)return Ne;for(var et=0;Ne>=ft[et+1];)et++;var tt=(Ne-ft[et])/(ft[et+1]-ft[et]);return ct[et]+tt*(ct[et+1]-ct[et])})}}return rt=[pt,dt],f},f.mode=function(Ne){return arguments.length?(et=Ne,resetCache(),f):et},f.range=function(Ne,et){return setColors(Ne),f},f.out=function(Ne){return ct=Ne,f},f.spread=function(Ne){return arguments.length?(nt=Ne,f):nt},f.correctLightness=function(Ne){return null==Ne&&(Ne=!0),mt=Ne,resetCache(),tMapLightness=mt?function(Ne){for(var et=getColor(0,!0).lab()[0],tt=getColor(1,!0).lab()[0],nt=et>tt,rt=getColor(Ne,!0).lab()[0],it=et+(tt-et)*Ne,ot=rt-it,at=0,st=1,ct=20;Math.abs(ot)>.01&&ct-- >0;)nt&&(ot*=-1),ot<0?(at=Ne,Ne+=.5*(st-Ne)):(st=Ne,Ne+=.5*(at-Ne)),rt=getColor(Ne,!0).lab()[0],ot=rt-it;return Ne}:function(Ne){return Ne},f},f.padding=function(Ne){return null!=Ne?("number"===Ac(Ne)&&(Ne=[Ne,Ne]),ot=Ne,f):ot},f.colors=function(et,tt){arguments.length<2&&(tt="hex");var nt=[];if(0===arguments.length)nt=st.slice(0);else if(1===et)nt=[f(.5)];else if(et>1){var it=rt[0],ot=rt[1]-it;nt=__range__(0,et,!1).map((function(Ne){return f(it+Ne/(et-1)*ot)}))}else{Ne=[];var ct=[];if(at&&at.length>2)for(var pt=1,dt=at.length,mt=1<=dt;mt?pt<dt:pt>dt;mt?pt++:pt--)ct.push(.5*(at[pt-1]+at[pt]));else ct=rt;nt=ct.map((function(Ne){return f(Ne)}))}return ft[tt]&&(nt=nt.map((function(Ne){return Ne[tt]()}))),nt},f.cache=function(Ne){return null!=Ne?(vt=Ne,f):vt},f.gamma=function(Ne){return null!=Ne?(Ot=Ne,f):Ot},f.nodata=function(Ne){return null!=Ne?(tt=ft(Ne),f):tt},f};function __range__(Ne,et,tt){for(var nt=[],rt=Ne<et,it=tt?rt?et+1:et-1:et,ot=Ne;rt?ot<it:ot>it;rt?ot++:ot--)nt.push(ot);return nt}var bezier=function(Ne){var et,tt,nt,rt,it,ot,at;if(2===(Ne=Ne.map((function(Ne){return new dt(Ne)}))).length)et=Ne.map((function(Ne){return Ne.lab()})),it=et[0],ot=et[1],rt=function(Ne){var et=[0,1,2].map((function(et){return it[et]+Ne*(ot[et]-it[et])}));return new dt(et,"lab")};else if(3===Ne.length)tt=Ne.map((function(Ne){return Ne.lab()})),it=tt[0],ot=tt[1],at=tt[2],rt=function(Ne){var et=[0,1,2].map((function(et){return(1-Ne)*(1-Ne)*it[et]+2*(1-Ne)*Ne*ot[et]+Ne*Ne*at[et]}));return new dt(et,"lab")};else if(4===Ne.length){var st;nt=Ne.map((function(Ne){return Ne.lab()})),it=nt[0],ot=nt[1],at=nt[2],st=nt[3],rt=function(Ne){var et=[0,1,2].map((function(et){return(1-Ne)*(1-Ne)*(1-Ne)*it[et]+3*(1-Ne)*(1-Ne)*Ne*ot[et]+3*(1-Ne)*Ne*Ne*at[et]+Ne*Ne*Ne*st[et]}));return new dt(et,"lab")}}else if(5===Ne.length){var ct=bezier(Ne.slice(0,3)),pt=bezier(Ne.slice(2,5));rt=function(Ne){return Ne<.5?ct(2*Ne):pt(2*(Ne-.5))}}return rt},blend=function(Ne,et,tt){if(!blend[tt])throw new Error("unknown blend mode "+tt);return blend[tt](Ne,et)},blend_f=function(Ne){return function(et,tt){var nt=ft(tt).rgb(),rt=ft(et).rgb();return ft.rgb(Ne(nt,rt))}},each=function(Ne){return function(et,tt){var nt=[];return nt[0]=Ne(et[0],tt[0]),nt[1]=Ne(et[1],tt[1]),nt[2]=Ne(et[2],tt[2]),nt}};blend.normal=blend_f(each((function(Ne){return Ne}))),blend.multiply=blend_f(each((function(Ne,et){return Ne*et/255}))),blend.screen=blend_f(each((function(Ne,et){return 255*(1-(1-Ne/255)*(1-et/255))}))),blend.overlay=blend_f(each((function(Ne,et){return et<128?2*Ne*et/255:255*(1-2*(1-Ne/255)*(1-et/255))}))),blend.darken=blend_f(each((function(Ne,et){return Ne>et?et:Ne}))),blend.lighten=blend_f(each((function(Ne,et){return Ne>et?Ne:et}))),blend.dodge=blend_f(each((function(Ne,et){return 255===Ne||(Ne=et/255*255/(1-Ne/255))>255?255:Ne}))),blend.burn=blend_f(each((function(Ne,et){return 255*(1-(1-et/255)/(Ne/255))})));for(var Dc=blend,Fc=it.type,Bc=it.clip_rgb,Zc=it.TWOPI,Wc=Math.pow,Hc=Math.sin,Gc=Math.cos,Xc=Math.floor,$c=Math.random,Yc=Math.log,rp=Math.pow,ip=Math.floor,op=Math.abs,analyze=function(Ne,et){void 0===et&&(et=null);var tt={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===type(Ne)&&(Ne=Object.values(Ne)),Ne.forEach((function(Ne){et&&"object"===type(Ne)&&(Ne=Ne[et]),null==Ne||isNaN(Ne)||(tt.values.push(Ne),tt.sum+=Ne,Ne<tt.min&&(tt.min=Ne),Ne>tt.max&&(tt.max=Ne),tt.count+=1)})),tt.domain=[tt.min,tt.max],tt.limits=function(Ne,et){return limits(tt,Ne,et)},tt},limits=function(Ne,et,tt){void 0===et&&(et="equal"),void 0===tt&&(tt=7),"array"==type(Ne)&&(Ne=analyze(Ne));var nt=Ne.min,rt=Ne.max,it=Ne.values.sort((function(Ne,et){return Ne-et}));if(1===tt)return[nt,rt];var ot=[];if("c"===et.substr(0,1)&&(ot.push(nt),ot.push(rt)),"e"===et.substr(0,1)){ot.push(nt);for(var at=1;at<tt;at++)ot.push(nt+at/tt*(rt-nt));ot.push(rt)}else if("l"===et.substr(0,1)){if(nt<=0)throw new Error("Logarithmic scales are only possible for values > 0");var st=Math.LOG10E*Yc(nt),ct=Math.LOG10E*Yc(rt);ot.push(nt);for(var pt=1;pt<tt;pt++)ot.push(rp(10,st+pt/tt*(ct-st)));ot.push(rt)}else if("q"===et.substr(0,1)){ot.push(nt);for(var dt=1;dt<tt;dt++){var ft=(it.length-1)*dt/tt,mt=ip(ft);if(mt===ft)ot.push(it[mt]);else{var yt=ft-mt;ot.push(it[mt]*(1-yt)+it[mt+1]*yt)}}ot.push(rt)}else if("k"===et.substr(0,1)){var vt,Ot=it.length,Dt=new Array(Ot),Rt=new Array(tt),Bt=!0,rn=0,vn=null;(vn=[]).push(nt);for(var bn=1;bn<tt;bn++)vn.push(nt+bn/tt*(rt-nt));for(vn.push(rt);Bt;){for(var Tn=0;Tn<tt;Tn++)Rt[Tn]=0;for(var Cn=0;Cn<Ot;Cn++)for(var In=it[Cn],Ln=Number.MAX_VALUE,Mn=void 0,zn=0;zn<tt;zn++){var Fn=op(vn[zn]-In);Fn<Ln&&(Ln=Fn,Mn=zn),Rt[Mn]++,Dt[Cn]=Mn}for(var Bn=new Array(tt),Nn=0;Nn<tt;Nn++)Bn[Nn]=null;for(var Vn=0;Vn<Ot;Vn++)null===Bn[vt=Dt[Vn]]?Bn[vt]=it[Vn]:Bn[vt]+=it[Vn];for(var Wn=0;Wn<tt;Wn++)Bn[Wn]*=1/Rt[Wn];Bt=!1;for(var $n=0;$n<tt;$n++)if(Bn[$n]!==vn[$n]){Bt=!0;break}vn=Bn,++rn>200&&(Bt=!1)}for(var Yn={},er=0;er<tt;er++)Yn[er]=[];for(var rr=0;rr<Ot;rr++)Yn[vt=Dt[rr]].push(it[rr]);for(var vr=[],wr=0;wr<tt;wr++)vr.push(Yn[wr][0]),vr.push(Yn[wr][Yn[wr].length-1]);vr=vr.sort((function(Ne,et){return Ne-et})),ot.push(vr[0]);for(var Sr=1;Sr<vr.length;Sr+=2){var ii=vr[Sr];isNaN(ii)||-1!==ot.indexOf(ii)||ot.push(ii)}}return ot},ap={analyze:analyze,limits:limits},sp=Math.sqrt,lp=Math.atan2,cp=Math.abs,pp=Math.cos,hp=Math.PI,dp={cool:function cool(){return scale([ft.hsl(180,1,.9),ft.hsl(250,.7,.4)])},hot:function hot(){return scale(["#000","#f00","#ff0","#fff"]).mode("rgb")}},fp={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},mp=0,gp=Object.keys(fp);mp<gp.length;mp+=1){var yp=gp[mp];fp[yp.toLowerCase()]=fp[yp]}var vp=fp;return ft.average=function(Ne,et,tt){void 0===et&&(et="lrgb"),void 0===tt&&(tt=null);var nt=Ne.length;tt||(tt=Array.from(new Array(nt)).map((function(){return 1})));var rt=nt/tt.reduce((function(Ne,et){return Ne+et}));if(tt.forEach((function(Ne,et){tt[et]*=rt})),Ne=Ne.map((function(Ne){return new dt(Ne)})),"lrgb"===et)return _average_lrgb(Ne,tt);for(var it=Ne.shift(),ot=it.get(et),at=[],st=0,ct=0,pt=0;pt<ot.length;pt++)if(ot[pt]=(ot[pt]||0)*tt[0],at.push(isNaN(ot[pt])?0:tt[0]),"h"===et.charAt(pt)&&!isNaN(ot[pt])){var ft=ot[pt]/180*Ec;st+=Cc(ft)*tt[0],ct+=kc(ft)*tt[0]}var mt=it.alpha()*tt[0];Ne.forEach((function(Ne,nt){var rt=Ne.get(et);mt+=Ne.alpha()*tt[nt+1];for(var it=0;it<ot.length;it++)if(!isNaN(rt[it]))if(at[it]+=tt[nt+1],"h"===et.charAt(it)){var pt=rt[it]/180*Ec;st+=Cc(pt)*tt[nt+1],ct+=kc(pt)*tt[nt+1]}else ot[it]+=rt[it]*tt[nt+1]}));for(var yt=0;yt<ot.length;yt++)if("h"===et.charAt(yt)){for(var vt=Ic(ct/at[yt],st/at[yt])/Ec*180;vt<0;)vt+=360;for(;vt>=360;)vt-=360;ot[yt]=vt}else ot[yt]=ot[yt]/at[yt];return mt/=nt,new dt(ot,et).alpha(mt>.99999?1:mt,!0)},ft.bezier=function(Ne){var et=bezier(Ne);return et.scale=function(){return scale(et)},et},ft.blend=Dc,ft.cubehelix=function(Ne,et,tt,nt,rt){void 0===Ne&&(Ne=300),void 0===et&&(et=-1.5),void 0===tt&&(tt=1),void 0===nt&&(nt=1),void 0===rt&&(rt=[0,1]);var it,ot=0;"array"===Fc(rt)?it=rt[1]-rt[0]:(it=0,rt=[rt,rt]);var f=function(at){var st=Zc*((Ne+120)/360+et*at),ct=Wc(rt[0]+it*at,nt),pt=(0!==ot?tt[0]+at*ot:tt)*ct*(1-ct)/2,dt=Gc(st),mt=Hc(st);return ft(Bc([255*(ct+pt*(-.14861*dt+1.78277*mt)),255*(ct+pt*(-.29227*dt-.90649*mt)),255*(ct+pt*(1.97294*dt)),1]))};return f.start=function(et){return null==et?Ne:(Ne=et,f)},f.rotations=function(Ne){return null==Ne?et:(et=Ne,f)},f.gamma=function(Ne){return null==Ne?nt:(nt=Ne,f)},f.hue=function(Ne){return null==Ne?tt:("array"===Fc(tt=Ne)?0==(ot=tt[1]-tt[0])&&(tt=tt[1]):ot=0,f)},f.lightness=function(Ne){return null==Ne?rt:("array"===Fc(Ne)?(rt=Ne,it=Ne[1]-Ne[0]):(rt=[Ne,Ne],it=0),f)},f.scale=function(){return ft.scale(f)},f.hue(tt),f},ft.mix=ft.interpolate=mix,ft.random=function(){for(var Ne="#",et=0;et<6;et++)Ne+="0123456789abcdef".charAt(Xc(16*$c()));return new dt(Ne,"hex")},ft.scale=scale,ft.analyze=ap.analyze,ft.contrast=function(Ne,et){Ne=new dt(Ne),et=new dt(et);var tt=Ne.luminance(),nt=et.luminance();return tt>nt?(tt+.05)/(nt+.05):(nt+.05)/(tt+.05)},ft.deltaE=function(Ne,et,tt,nt){void 0===tt&&(tt=1),void 0===nt&&(nt=1),Ne=new dt(Ne),et=new dt(et);for(var rt=Array.from(Ne.lab()),it=rt[0],ot=rt[1],at=rt[2],st=Array.from(et.lab()),ct=st[0],pt=st[1],ft=st[2],mt=sp(ot*ot+at*at),yt=sp(pt*pt+ft*ft),vt=it<16?.511:.040975*it/(1+.01765*it),Ot=.0638*mt/(1+.0131*mt)+.638,Dt=mt<1e-6?0:180*lp(at,ot)/hp;Dt<0;)Dt+=360;for(;Dt>=360;)Dt-=360;var Rt=Dt>=164&&Dt<=345?.56+cp(.2*pp(hp*(Dt+168)/180)):.36+cp(.4*pp(hp*(Dt+35)/180)),Bt=mt*mt*mt*mt,rn=sp(Bt/(Bt+1900)),vn=Ot*(rn*Rt+1-rn),bn=mt-yt,Tn=ot-pt,Cn=at-ft,In=(it-ct)/(tt*vt),Ln=bn/(nt*Ot);return sp(In*In+Ln*Ln+(Tn*Tn+Cn*Cn-bn*bn)/(vn*vn))},ft.distance=function(Ne,et,tt){void 0===tt&&(tt="lab"),Ne=new dt(Ne),et=new dt(et);var nt=Ne.get(tt),rt=et.get(tt),it=0;for(var ot in nt){var at=(nt[ot]||0)-(rt[ot]||0);it+=at*at}return Math.sqrt(it)},ft.limits=ap.limits,ft.valid=function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];try{return new(Function.prototype.bind.apply(dt,[null].concat(Ne))),!0}catch(Ne){return!1}},ft.scales=dp,ft.colors=wl,ft.brewer=vp,ft}()},function(Ne,et){var tt={}.toString;Ne.exports=function(Ne){return tt.call(Ne).slice(8,-1)}},function(Ne,et){Ne.exports=function(Ne){return"object"==typeof Ne?null!==Ne:"function"==typeof Ne}},function(Ne,et,tt){"use strict";var nt=tt(34),rt=tt(2),it=tt(227),ot=tt(1),at=["xs","sm","md","lg","xl"];function createBreakpoints(Ne){var et=Ne.values,tt=void 0===et?{xs:0,sm:600,md:960,lg:1280,xl:1920}:et,nt=Ne.unit,it=void 0===nt?"px":nt,st=Ne.step,ct=void 0===st?5:st,pt=Object(rt.a)(Ne,["values","unit","step"]);function up(Ne){var et="number"==typeof tt[Ne]?tt[Ne]:Ne;return"@media (min-width:".concat(et).concat(it,")")}function between(Ne,et){var nt=at.indexOf(et);return nt===at.length-1?up(Ne):"@media (min-width:".concat("number"==typeof tt[Ne]?tt[Ne]:Ne).concat(it,") and ")+"(max-width:".concat((-1!==nt&&"number"==typeof tt[at[nt+1]]?tt[at[nt+1]]:et)-ct/100).concat(it,")")}return Object(ot.a)({keys:at,values:tt,up:up,down:function down(Ne){var et=at.indexOf(Ne)+1,nt=tt[at[et]];return et===at.length?up("xs"):"@media (max-width:".concat(("number"==typeof nt&&et>0?nt:Ne)-ct/100).concat(it,")")},between:between,only:function only(Ne){return between(Ne,Ne)},width:function width(Ne){return tt[Ne]}},pt)}function createMixins(Ne,et,tt){var rt;return Object(ot.a)({gutters:function gutters(){var tt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ot.a)({paddingLeft:et(2),paddingRight:et(2)},tt,Object(nt.a)({},Ne.up("sm"),Object(ot.a)({paddingLeft:et(3),paddingRight:et(3)},tt[Ne.up("sm")])))},toolbar:(rt={minHeight:56},Object(nt.a)(rt,"".concat(Ne.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(nt.a)(rt,Ne.up("sm"),{minHeight:64}),rt)},tt)}var st=tt(128),ct={black:"#000",white:"#fff"},pt=tt(71),dt={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},ft={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},mt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},yt={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},vt={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ot={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Dt=tt(21),Rt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ct.white,default:pt.a[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Bt={text:{primary:ct.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:pt.a[800],default:"#303030"},action:{active:ct.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(Ne,et,tt,nt){var rt=nt.light||nt,it=nt.dark||1.5*nt;Ne[et]||(Ne.hasOwnProperty(tt)?Ne[et]=Ne[tt]:"light"===et?Ne.light=Object(Dt.d)(Ne.main,rt):"dark"===et&&(Ne.dark=Object(Dt.a)(Ne.main,it)))}function createPalette(Ne){var et=Ne.primary,tt=void 0===et?{light:dt[300],main:dt[500],dark:dt[700]}:et,nt=Ne.secondary,at=void 0===nt?{light:ft.A200,main:ft.A400,dark:ft.A700}:nt,rn=Ne.error,vn=void 0===rn?{light:mt[300],main:mt[500],dark:mt[700]}:rn,bn=Ne.warning,Tn=void 0===bn?{light:yt[300],main:yt[500],dark:yt[700]}:bn,Cn=Ne.info,In=void 0===Cn?{light:vt[300],main:vt[500],dark:vt[700]}:Cn,Ln=Ne.success,Mn=void 0===Ln?{light:Ot[300],main:Ot[500],dark:Ot[700]}:Ln,zn=Ne.type,Fn=void 0===zn?"light":zn,Bn=Ne.contrastThreshold,Nn=void 0===Bn?3:Bn,Vn=Ne.tonalOffset,Wn=void 0===Vn?.2:Vn,$n=Object(rt.a)(Ne,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function getContrastText(Ne){return Object(Dt.c)(Ne,Bt.text.primary)>=Nn?Bt.text.primary:Rt.text.primary}var Yn=function augmentColor(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,nt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(Ne=Object(ot.a)({},Ne)).main&&Ne[et]&&(Ne.main=Ne[et]),!Ne.main)throw new Error(Object(st.a)(4,et));if("string"!=typeof Ne.main)throw new Error(Object(st.a)(5,JSON.stringify(Ne.main)));return addLightOrDark(Ne,"light",tt,Wn),addLightOrDark(Ne,"dark",nt,Wn),Ne.contrastText||(Ne.contrastText=getContrastText(Ne.main)),Ne},er={dark:Bt,light:Rt};return Object(it.a)(Object(ot.a)({common:ct,type:Fn,primary:Yn(tt),secondary:Yn(at,"A400","A200","A700"),error:Yn(vn),warning:Yn(Tn),info:Yn(In),success:Yn(Mn),grey:pt.a,contrastThreshold:Nn,getContrastText:getContrastText,augmentColor:Yn,tonalOffset:Wn},er[Fn]),$n)}function round(Ne){return Math.round(1e5*Ne)/1e5}var rn={textTransform:"uppercase"};function createTypography(Ne,et){var tt="function"==typeof et?et(Ne):et,nt=tt.fontFamily,at=void 0===nt?'"Roboto", "Helvetica", "Arial", sans-serif':nt,st=tt.fontSize,ct=void 0===st?14:st,pt=tt.fontWeightLight,dt=void 0===pt?300:pt,ft=tt.fontWeightRegular,mt=void 0===ft?400:ft,yt=tt.fontWeightMedium,vt=void 0===yt?500:yt,Ot=tt.fontWeightBold,Dt=void 0===Ot?700:Ot,Rt=tt.htmlFontSize,Bt=void 0===Rt?16:Rt,vn=tt.allVariants,bn=tt.pxToRem,Tn=Object(rt.a)(tt,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var Cn=ct/14,In=bn||function(Ne){return"".concat(Ne/Bt*Cn,"rem")},Ln=function buildVariant(Ne,et,tt,nt,rt){return Object(ot.a)({fontFamily:at,fontWeight:Ne,fontSize:In(et),lineHeight:tt},'"Roboto", "Helvetica", "Arial", sans-serif'===at?{letterSpacing:"".concat(round(nt/et),"em")}:{},rt,vn)},Mn={h1:Ln(dt,96,1.167,-1.5),h2:Ln(dt,60,1.2,-.5),h3:Ln(mt,48,1.167,0),h4:Ln(mt,34,1.235,.25),h5:Ln(mt,24,1.334,0),h6:Ln(vt,20,1.6,.15),subtitle1:Ln(mt,16,1.75,.15),subtitle2:Ln(vt,14,1.57,.1),body1:Ln(mt,16,1.5,.15),body2:Ln(mt,14,1.43,.15),button:Ln(vt,14,1.75,.4,rn),caption:Ln(mt,12,1.66,.4),overline:Ln(mt,12,2.66,1,rn)};return Object(it.a)(Object(ot.a)({htmlFontSize:Bt,pxToRem:In,round:round,fontFamily:at,fontSize:ct,fontWeightLight:dt,fontWeightRegular:mt,fontWeightMedium:vt,fontWeightBold:Dt},Mn),Tn,{clone:!1})}function createShadow(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var vn=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],bn={borderRadius:4},Tn=tt(27),Cn=(tt(28),tt(33));tt(4);var In=function merge(Ne,et){return et?Object(it.a)(Ne,et,{clone:!1}):Ne},Ln={xs:0,sm:600,md:960,lg:1280,xl:1920},Mn={keys:["xs","sm","md","lg","xl"],up:function up(Ne){return"@media (min-width:".concat(Ln[Ne],"px)")}};var zn={m:"margin",p:"padding"},Fn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Bn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Nn=function memoize(Ne){var et={};return function(tt){return void 0===et[tt]&&(et[tt]=Ne(tt)),et[tt]}}((function(Ne){if(Ne.length>2){if(!Bn[Ne])return[Ne];Ne=Bn[Ne]}var et=Ne.split(""),tt=Object(Tn.a)(et,2),nt=tt[0],rt=tt[1],it=zn[nt],ot=Fn[rt]||"";return Array.isArray(ot)?ot.map((function(Ne){return it+Ne})):[it+ot]})),Vn=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function createUnarySpacing(Ne){var et=Ne.spacing||8;return"number"==typeof et?function(Ne){return et*Ne}:Array.isArray(et)?function(Ne){return et[Ne]}:"function"==typeof et?et:function(){}}function getStyleFromPropValue(Ne,et){return function(tt){return Ne.reduce((function(Ne,nt){return Ne[nt]=function getValue(Ne,et){if("string"==typeof et)return et;var tt=Ne(Math.abs(et));return et>=0?tt:"number"==typeof tt?-tt:"-".concat(tt)}(et,tt),Ne}),{})}}function spacing_spacing(Ne){var et=createUnarySpacing(Ne.theme);return Object.keys(Ne).map((function(tt){if(-1===Vn.indexOf(tt))return null;var nt=getStyleFromPropValue(Nn(tt),et),rt=Ne[tt];return function handleBreakpoints(Ne,et,tt){if(Array.isArray(et)){var nt=Ne.theme.breakpoints||Mn;return et.reduce((function(Ne,rt,it){return Ne[nt.up(nt.keys[it])]=tt(et[it]),Ne}),{})}if("object"===Object(Cn.a)(et)){var rt=Ne.theme.breakpoints||Mn;return Object.keys(et).reduce((function(Ne,nt){return Ne[rt.up(nt)]=tt(et[nt]),Ne}),{})}return tt(et)}(Ne,rt,nt)})).reduce(In,{})}spacing_spacing.propTypes={},spacing_spacing.filterProps=Vn;function createSpacing(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(Ne.mui)return Ne;var et=createUnarySpacing({spacing:Ne}),tt=function spacing(){for(var Ne=arguments.length,tt=new Array(Ne),nt=0;nt<Ne;nt++)tt[nt]=arguments[nt];return 0===tt.length?et(1):1===tt.length?et(tt[0]):tt.map((function(Ne){if("string"==typeof Ne)return Ne;var tt=et(Ne);return"number"==typeof tt?"".concat(tt,"px"):tt})).join(" ")};return Object.defineProperty(tt,"unit",{get:function get(){return Ne}}),tt.mui=!0,tt}var Wn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$n={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(Ne){return"".concat(Math.round(Ne),"ms")}var Yn={easing:Wn,duration:$n,create:function create(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=et.duration,nt=void 0===tt?$n.standard:tt,it=et.easing,ot=void 0===it?Wn.easeInOut:it,at=et.delay,st=void 0===at?0:at;Object(rt.a)(et,["duration","easing","delay"]);return(Array.isArray(Ne)?Ne:[Ne]).map((function(Ne){return"".concat(Ne," ").concat("string"==typeof nt?nt:formatMs(nt)," ").concat(ot," ").concat("string"==typeof st?st:formatMs(st))})).join(",")},getAutoHeightDuration:function getAutoHeightDuration(Ne){if(!Ne)return 0;var et=Ne/36;return Math.round(10*(4+15*Math.pow(et,.25)+et/5))}},er=tt(69);var rr=function createMuiTheme(){for(var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=Ne.breakpoints,tt=void 0===et?{}:et,nt=Ne.mixins,ot=void 0===nt?{}:nt,at=Ne.palette,st=void 0===at?{}:at,ct=Ne.spacing,pt=Ne.typography,dt=void 0===pt?{}:pt,ft=Object(rt.a)(Ne,["breakpoints","mixins","palette","spacing","typography"]),mt=createPalette(st),yt=createBreakpoints(tt),vt=createSpacing(ct),Ot=Object(it.a)({breakpoints:yt,direction:"ltr",mixins:createMixins(yt,vt,ot),overrides:{},palette:mt,props:{},shadows:vn,typography:createTypography(mt,dt),spacing:vt,shape:bn,transitions:Yn,zIndex:er.a},ft),Dt=arguments.length,Rt=new Array(Dt>1?Dt-1:0),Bt=1;Bt<Dt;Bt++)Rt[Bt-1]=arguments[Bt];return Ot=Rt.reduce((function(Ne,et){return Object(it.a)(Ne,et)}),Ot)}();et.a=rr},function(Ne,et,tt){"use strict";function _defineProperties(Ne,et){for(var tt=0;tt<et.length;tt++){var nt=et[tt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(Ne,nt.key,nt)}}function _createClass(Ne,et,tt){return et&&_defineProperties(Ne.prototype,et),tt&&_defineProperties(Ne,tt),Ne}tt.d(et,"a",(function(){return _createClass}))},function(Ne,et,tt){Ne.exports=function(){"use strict";var Ne,et,tt;function define(nt,rt){if(Ne)if(et){var it="var sharedChunk = {}; ("+Ne+")(sharedChunk); ("+et+")(sharedChunk);",ot={};Ne(ot),tt=rt(ot),"undefined"!=typeof window&&(tt.workerUrl=window.URL.createObjectURL(new Blob([it],{type:"text/javascript"})))}else et=rt;else Ne=rt}return define(0,(function(Ne){function e(Ne,et){return Ne(et={exports:{}},et.exports),et.exports}var et=n;function n(Ne,et,tt,nt){this.cx=3*Ne,this.bx=3*(tt-Ne)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*et,this.by=3*(nt-et)-this.cy,this.ay=1-this.cy-this.by,this.p1x=Ne,this.p1y=nt,this.p2x=tt,this.p2y=nt}n.prototype.sampleCurveX=function(Ne){return((this.ax*Ne+this.bx)*Ne+this.cx)*Ne},n.prototype.sampleCurveY=function(Ne){return((this.ay*Ne+this.by)*Ne+this.cy)*Ne},n.prototype.sampleCurveDerivativeX=function(Ne){return(3*this.ax*Ne+2*this.bx)*Ne+this.cx},n.prototype.solveCurveX=function(Ne,et){var tt,nt,rt,it,ot;for(void 0===et&&(et=1e-6),rt=Ne,ot=0;ot<8;ot++){if(it=this.sampleCurveX(rt)-Ne,Math.abs(it)<et)return rt;var at=this.sampleCurveDerivativeX(rt);if(Math.abs(at)<1e-6)break;rt-=it/at}if((rt=Ne)<(tt=0))return tt;if(rt>(nt=1))return nt;for(;tt<nt;){if(it=this.sampleCurveX(rt),Math.abs(it-Ne)<et)return rt;Ne>it?tt=rt:nt=rt,rt=.5*(nt-tt)+tt}return rt},n.prototype.solve=function(Ne,et){return this.sampleCurveY(this.solveCurveX(Ne,et))};var tt=a;function a(Ne,et){this.x=Ne,this.y=et}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(Ne){return this.clone()._add(Ne)},sub:function(Ne){return this.clone()._sub(Ne)},multByPoint:function(Ne){return this.clone()._multByPoint(Ne)},divByPoint:function(Ne){return this.clone()._divByPoint(Ne)},mult:function(Ne){return this.clone()._mult(Ne)},div:function(Ne){return this.clone()._div(Ne)},rotate:function(Ne){return this.clone()._rotate(Ne)},rotateAround:function(Ne,et){return this.clone()._rotateAround(Ne,et)},matMult:function(Ne){return this.clone()._matMult(Ne)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(Ne){return this.x===Ne.x&&this.y===Ne.y},dist:function(Ne){return Math.sqrt(this.distSqr(Ne))},distSqr:function(Ne){var et=Ne.x-this.x,tt=Ne.y-this.y;return et*et+tt*tt},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(Ne){return Math.atan2(this.y-Ne.y,this.x-Ne.x)},angleWith:function(Ne){return this.angleWithSep(Ne.x,Ne.y)},angleWithSep:function(Ne,et){return Math.atan2(this.x*et-this.y*Ne,this.x*Ne+this.y*et)},_matMult:function(Ne){var et=Ne[2]*this.x+Ne[3]*this.y;return this.x=Ne[0]*this.x+Ne[1]*this.y,this.y=et,this},_add:function(Ne){return this.x+=Ne.x,this.y+=Ne.y,this},_sub:function(Ne){return this.x-=Ne.x,this.y-=Ne.y,this},_mult:function(Ne){return this.x*=Ne,this.y*=Ne,this},_div:function(Ne){return this.x/=Ne,this.y/=Ne,this},_multByPoint:function(Ne){return this.x*=Ne.x,this.y*=Ne.y,this},_divByPoint:function(Ne){return this.x/=Ne.x,this.y/=Ne.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var Ne=this.y;return this.y=this.x,this.x=-Ne,this},_rotate:function(Ne){var et=Math.cos(Ne),tt=Math.sin(Ne),nt=tt*this.x+et*this.y;return this.x=et*this.x-tt*this.y,this.y=nt,this},_rotateAround:function(Ne,et){var tt=Math.cos(Ne),nt=Math.sin(Ne),rt=et.y+nt*(this.x-et.x)+tt*(this.y-et.y);return this.x=et.x+tt*(this.x-et.x)-nt*(this.y-et.y),this.y=rt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(Ne){return Ne instanceof a?Ne:Array.isArray(Ne)?new a(Ne[0],Ne[1]):Ne};var nt="undefined"!=typeof self?self:{};function s(Ne,tt,nt,rt){var it=new et(Ne,tt,nt,rt);return function(Ne){return it.solve(Ne)}}var rt=s(.25,.1,.25,1);function l(Ne,et,tt){return Math.min(tt,Math.max(et,Ne))}function p(Ne,et,tt){var nt=tt-et,rt=((Ne-et)%nt+nt)%nt+et;return rt===et?tt:rt}function c(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];for(var nt=0,rt=et;nt<rt.length;nt+=1){var it=rt[nt];for(var ot in it)Ne[ot]=it[ot]}return Ne}var it=1;function f(){return it++}function y(){return function t(Ne){return Ne?(Ne^16*Math.random()>>Ne/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(Ne){return!!Ne&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Ne)}function m(Ne,et){Ne.forEach((function(Ne){et[Ne]&&(et[Ne]=et[Ne].bind(et))}))}function v(Ne,et){return-1!==Ne.indexOf(et,Ne.length-et.length)}function g(Ne,et,tt){var nt={};for(var rt in Ne)nt[rt]=et.call(tt||this,Ne[rt],rt,Ne);return nt}function x(Ne,et,tt){var nt={};for(var rt in Ne)et.call(tt||this,Ne[rt],rt,Ne)&&(nt[rt]=Ne[rt]);return nt}function b(Ne){return Array.isArray(Ne)?Ne.map(b):"object"==typeof Ne&&Ne?g(Ne,b):Ne}var ot={};function _(Ne){ot[Ne]||("undefined"!=typeof console&&console.warn(Ne),ot[Ne]=!0)}function A(Ne,et,tt){return(tt.y-Ne.y)*(et.x-Ne.x)>(et.y-Ne.y)*(tt.x-Ne.x)}function S(Ne){for(var et=0,tt=0,nt=Ne.length,rt=nt-1,it=void 0,ot=void 0;tt<nt;rt=tt++)et+=((ot=Ne[rt]).x-(it=Ne[tt]).x)*(it.y+ot.y);return et}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function I(Ne){var et={};if(Ne.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(Ne,tt,nt,rt){var it=nt||rt;return et[tt]=!it||it.toLowerCase(),""})),et["max-age"]){var tt=parseInt(et["max-age"],10);isNaN(tt)?delete et["max-age"]:et["max-age"]=tt}return et}var at=null;function C(Ne){if(null==at){var et=Ne.navigator?Ne.navigator.userAgent:null;at=!!Ne.safari||!(!et||!(/\b(iPad|iPhone|iPod)\b/.test(et)||et.match("Safari")&&!et.match("Chrome")))}return at}function M(Ne){try{var et=nt[Ne];return et.setItem("_mapbox_test_",1),et.removeItem("_mapbox_test_"),!0}catch(Ne){return!1}}var st,ct,pt,dt,ft=nt.performance&&nt.performance.now?nt.performance.now.bind(nt.performance):Date.now.bind(Date),mt=nt.requestAnimationFrame||nt.mozRequestAnimationFrame||nt.webkitRequestAnimationFrame||nt.msRequestAnimationFrame,yt=nt.cancelAnimationFrame||nt.mozCancelAnimationFrame||nt.webkitCancelAnimationFrame||nt.msCancelAnimationFrame,vt={now:ft,frame:function(Ne){var et=mt(Ne);return{cancel:function(){return yt(et)}}},getImageData:function(Ne,et){void 0===et&&(et=0);var tt=nt.document.createElement("canvas"),rt=tt.getContext("2d");if(!rt)throw new Error("failed to create canvas 2d context");return tt.width=Ne.width,tt.height=Ne.height,rt.drawImage(Ne,0,0,Ne.width,Ne.height),rt.getImageData(-et,-et,Ne.width+2*et,Ne.height+2*et)},resolveURL:function(Ne){return st||(st=nt.document.createElement("a")),st.href=Ne,st.href},hardwareConcurrency:nt.navigator&&nt.navigator.hardwareConcurrency||4,get devicePixelRatio(){return nt.devicePixelRatio},get prefersReducedMotion(){return!!nt.matchMedia&&(null==ct&&(ct=nt.matchMedia("(prefers-reduced-motion: reduce)")),ct.matches)}},Ot={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Dt={supported:!1,testSupport:function(Ne){!Rt&&dt&&(Bt?q(Ne):pt=Ne)}},Rt=!1,Bt=!1;function q(Ne){var et=Ne.createTexture();Ne.bindTexture(Ne.TEXTURE_2D,et);try{if(Ne.texImage2D(Ne.TEXTURE_2D,0,Ne.RGBA,Ne.RGBA,Ne.UNSIGNED_BYTE,dt),Ne.isContextLost())return;Dt.supported=!0}catch(Ne){}Ne.deleteTexture(et),Rt=!0}nt.document&&((dt=nt.document.createElement("img")).onload=function(){pt&&q(pt),pt=null,Bt=!0},dt.onerror=function(){Rt=!0,pt=null},dt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var rn="01",K=function(Ne,et){this._transformRequestFn=Ne,this._customAccessToken=et,this._createSkuToken()};function G(Ne){return 0===Ne.indexOf("mapbox:")}K.prototype._createSkuToken=function(){var Ne=function(){for(var Ne="",et=0;et<10;et++)Ne+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",rn,Ne].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=Ne.token,this._skuTokenExpiresAt=Ne.tokenExpiresAt},K.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},K.prototype.transformRequest=function(Ne,et){return this._transformRequestFn&&this._transformRequestFn(Ne,et)||{url:Ne}},K.prototype.normalizeStyleURL=function(Ne,et){if(!G(Ne))return Ne;var tt=H(Ne);return tt.path="/styles/v1"+tt.path,this._makeAPIURL(tt,this._customAccessToken||et)},K.prototype.normalizeGlyphsURL=function(Ne,et){if(!G(Ne))return Ne;var tt=H(Ne);return tt.path="/fonts/v1"+tt.path,this._makeAPIURL(tt,this._customAccessToken||et)},K.prototype.normalizeSourceURL=function(Ne,et){if(!G(Ne))return Ne;var tt=H(Ne);return tt.path="/v4/"+tt.authority+".json",tt.params.push("secure"),this._makeAPIURL(tt,this._customAccessToken||et)},K.prototype.normalizeSpriteURL=function(Ne,et,tt,nt){var rt=H(Ne);return G(Ne)?(rt.path="/styles/v1"+rt.path+"/sprite"+et+tt,this._makeAPIURL(rt,this._customAccessToken||nt)):(rt.path+=""+et+tt,Y(rt))},K.prototype.normalizeTileURL=function(Ne,et){if(this._isSkuTokenExpired()&&this._createSkuToken(),Ne&&!G(Ne))return Ne;var tt=H(Ne);tt.path=tt.path.replace(/(\.(png|jpg)\d*)(?=$)/,(vt.devicePixelRatio>=2||512===et?"@2x":"")+(Dt.supported?".webp":"$1")),tt.path=tt.path.replace(/^.+\/v4\//,"/"),tt.path="/v4"+tt.path;var nt=this._customAccessToken||function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1){var nt=tt[et].match(/^access_token=(.*)$/);if(nt)return nt[1]}return null}(tt.params)||Ot.ACCESS_TOKEN;return Ot.REQUIRE_ACCESS_TOKEN&&nt&&this._skuToken&&tt.params.push("sku="+this._skuToken),this._makeAPIURL(tt,nt)},K.prototype.canonicalizeTileURL=function(Ne,et){var tt=H(Ne);if(!tt.path.match(/(^\/v4\/)/)||!tt.path.match(/\.[\w]+$/))return Ne;var nt="mapbox://tiles/";nt+=tt.path.replace("/v4/","");var rt=tt.params;return et&&(rt=rt.filter((function(Ne){return!Ne.match(/^access_token=/)}))),rt.length&&(nt+="?"+rt.join("&")),nt},K.prototype.canonicalizeTileset=function(Ne,et){for(var tt=!!et&&G(et),nt=[],rt=0,it=Ne.tiles||[];rt<it.length;rt+=1){var ot=it[rt];X(ot)?nt.push(this.canonicalizeTileURL(ot,tt)):nt.push(ot)}return nt},K.prototype._makeAPIURL=function(Ne,et){var tt="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",nt=H(Ot.API_URL);if(Ne.protocol=nt.protocol,Ne.authority=nt.authority,"/"!==nt.path&&(Ne.path=""+nt.path+Ne.path),!Ot.REQUIRE_ACCESS_TOKEN)return Y(Ne);if(!(et=et||Ot.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+tt);if("s"===et[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+tt);return Ne.params=Ne.params.filter((function(Ne){return-1===Ne.indexOf("access_token")})),Ne.params.push("access_token="+et),Y(Ne)};var vn=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(Ne){return vn.test(Ne)}var bn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function H(Ne){var et=Ne.match(bn);if(!et)throw new Error("Unable to parse URL object");return{protocol:et[1],authority:et[2],path:et[3]||"/",params:et[4]?et[4].split("&"):[]}}function Y(Ne){var et=Ne.params.length?"?"+Ne.params.join("&"):"";return Ne.protocol+"://"+Ne.authority+Ne.path+et}function $(Ne){if(!Ne)return null;var et=Ne.split(".");if(!et||3!==et.length)return null;try{return JSON.parse(decodeURIComponent(nt.atob(et[1]).split("").map((function(Ne){return"%"+("00"+Ne.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(Ne){return null}}var W=function(Ne){this.type=Ne,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};W.prototype.getStorageKey=function(Ne){var et,tt=$(Ot.ACCESS_TOKEN);return et=tt&&tt.u?nt.btoa(encodeURIComponent(tt.u).replace(/%([0-9A-F]{2})/g,(function(Ne,et){return String.fromCharCode(Number("0x"+et))}))):Ot.ACCESS_TOKEN||"",Ne?"mapbox.eventData."+Ne+":"+et:"mapbox.eventData:"+et},W.prototype.fetchEventData=function(){var Ne=M("localStorage"),et=this.getStorageKey(),tt=this.getStorageKey("uuid");if(Ne)try{var rt=nt.localStorage.getItem(et);rt&&(this.eventData=JSON.parse(rt));var it=nt.localStorage.getItem(tt);it&&(this.anonId=it)}catch(Ne){_("Unable to read from LocalStorage")}},W.prototype.saveEventData=function(){var Ne=M("localStorage"),et=this.getStorageKey(),tt=this.getStorageKey("uuid");if(Ne)try{nt.localStorage.setItem(tt,this.anonId),Object.keys(this.eventData).length>=1&&nt.localStorage.setItem(et,JSON.stringify(this.eventData))}catch(Ne){_("Unable to write to LocalStorage")}},W.prototype.processRequests=function(Ne){},W.prototype.postEvent=function(Ne,et,tt,nt){var rt=this;if(Ot.EVENTS_URL){var it=H(Ot.EVENTS_URL);it.params.push("access_token="+(nt||Ot.ACCESS_TOKEN||""));var ot={event:this.type,created:new Date(Ne).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.11.0",skuId:rn,userId:this.anonId},at=et?c(ot,et):ot,st={url:Y(it),headers:{"Content-Type":"text/plain"},body:JSON.stringify([at])};this.pendingRequest=bt(st,(function(Ne){rt.pendingRequest=null,tt(Ne),rt.saveEventData(),rt.processRequests(nt)}))}},W.prototype.queueRequest=function(Ne,et){this.queue.push(Ne),this.processRequests(et)};var Tn,Cn,In=function(Ne){function e(){Ne.call(this,"map.load"),this.success={},this.skuToken=""}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(Ne,et,tt,nt){this.skuToken=tt,(Ot.EVENTS_URL&&nt||Ot.ACCESS_TOKEN&&Array.isArray(Ne)&&Ne.some((function(Ne){return G(Ne)||X(Ne)})))&&this.queueRequest({id:et,timestamp:Date.now()},nt)},e.prototype.processRequests=function(Ne){var et=this;if(!this.pendingRequest&&0!==this.queue.length){var tt=this.queue.shift(),nt=tt.id,rt=tt.timestamp;nt&&this.success[nt]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=y()),this.postEvent(rt,{skuToken:this.skuToken},(function(Ne){Ne||nt&&(et.success[nt]=!0)}),Ne))}},e}(W),Ln=new(function(Ne){function e(et){Ne.call(this,"appUserTurnstile"),this._customAccessToken=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(Ne,et){Ot.EVENTS_URL&&Ot.ACCESS_TOKEN&&Array.isArray(Ne)&&Ne.some((function(Ne){return G(Ne)||X(Ne)}))&&this.queueRequest(Date.now(),et)},e.prototype.processRequests=function(Ne){var et=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var tt=$(Ot.ACCESS_TOKEN),nt=tt?tt.u:Ot.ACCESS_TOKEN,rt=nt!==this.eventData.tokenU;d(this.anonId)||(this.anonId=y(),rt=!0);var it=this.queue.shift();if(this.eventData.lastSuccess){var ot=new Date(this.eventData.lastSuccess),at=new Date(it),st=(it-this.eventData.lastSuccess)/864e5;rt=rt||st>=1||st<-1||ot.getDate()!==at.getDate()}else rt=!0;if(!rt)return this.processRequests();this.postEvent(it,{"enabled.telemetry":!1},(function(Ne){Ne||(et.eventData.lastSuccess=it,et.eventData.tokenU=nt)}),Ne)}},e}(W)),Mn=Ln.postTurnstileEvent.bind(Ln),zn=new In,Fn=zn.postMapLoadEvent.bind(zn),Bn=500,Nn=50;function ut(){nt.caches&&!Tn&&(Tn=nt.caches.open("mapbox-tiles"))}function lt(Ne){var et=Ne.indexOf("?");return et<0?Ne:Ne.slice(0,et)}var Vn,Wn=1/0;function ht(){return null==Vn&&(Vn=nt.OffscreenCanvas&&new nt.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof nt.createImageBitmap),Vn}var $n={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze($n);var Yn,er,rr=function(Ne){function e(et,tt,nt){401===tt&&X(nt)&&(et+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),Ne.call(this,et),this.status=tt,this.url=nt,this.name=this.constructor.name,this.message=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),vr=k()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===nt.location.protocol?nt.parent:nt).location.href},gt=function(Ne,et){if(!(/^file:/.test(tt=Ne.url)||/^file:/.test(vr())&&!/^\w+:/.test(tt))){if(nt.fetch&&nt.Request&&nt.AbortController&&nt.Request.prototype.hasOwnProperty("signal"))return function(Ne,et){var tt,rt=new nt.AbortController,it=new nt.Request(Ne.url,{method:Ne.method||"GET",body:Ne.body,credentials:Ne.credentials,headers:Ne.headers,referrer:vr(),signal:rt.signal}),ot=!1,at=!1,st=(tt=it.url).indexOf("sku=")>0&&X(tt);"json"===Ne.type&&it.headers.set("Accept","application/json");var l=function(tt,rt,ot){if(!at){if(tt&&"SecurityError"!==tt.message&&_(tt),rt&&ot)return p(rt);var ct=Date.now();nt.fetch(it).then((function(tt){if(tt.ok){var nt=st?tt.clone():null;return p(tt,nt,ct)}return et(new rr(tt.statusText,tt.status,Ne.url))})).catch((function(Ne){20!==Ne.code&&et(new Error(Ne.message))}))}},p=function(tt,rt,st){("arrayBuffer"===Ne.type?tt.arrayBuffer():"json"===Ne.type?tt.json():tt.text()).then((function(Ne){at||(rt&&st&&function(Ne,et,tt){if(ut(),Tn){var rt={status:et.status,statusText:et.statusText,headers:new nt.Headers};et.headers.forEach((function(Ne,et){return rt.headers.set(et,Ne)}));var it=I(et.headers.get("Cache-Control")||"");it["no-store"]||(it["max-age"]&&rt.headers.set("Expires",new Date(tt+1e3*it["max-age"]).toUTCString()),new Date(rt.headers.get("Expires")).getTime()-tt<42e4||function(Ne,et){if(void 0===Cn)try{new Response(new ReadableStream),Cn=!0}catch(Ne){Cn=!1}Cn?et(Ne.body):Ne.blob().then(et)}(et,(function(et){var tt=new nt.Response(et,rt);ut(),Tn&&Tn.then((function(et){return et.put(lt(Ne.url),tt)})).catch((function(Ne){return _(Ne.message)}))})))}}(it,rt,st),ot=!0,et(null,Ne,tt.headers.get("Cache-Control"),tt.headers.get("Expires")))})).catch((function(Ne){at||et(new Error(Ne.message))}))};return st?function(Ne,et){if(ut(),!Tn)return et(null);var tt=lt(Ne.url);Tn.then((function(Ne){Ne.match(tt).then((function(nt){var rt=function(Ne){if(!Ne)return!1;var et=new Date(Ne.headers.get("Expires")||0),tt=I(Ne.headers.get("Cache-Control")||"");return et>Date.now()&&!tt["no-cache"]}(nt);Ne.delete(tt),rt&&Ne.put(tt,nt.clone()),et(null,nt,rt)})).catch(et)})).catch(et)}(it,l):l(null,null),{cancel:function(){at=!0,ot||rt.abort()}}}(Ne,et);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",Ne,et,void 0,!0)}var tt;return function(Ne,et){var tt=new nt.XMLHttpRequest;for(var rt in tt.open(Ne.method||"GET",Ne.url,!0),"arrayBuffer"===Ne.type&&(tt.responseType="arraybuffer"),Ne.headers)tt.setRequestHeader(rt,Ne.headers[rt]);return"json"===Ne.type&&(tt.responseType="text",tt.setRequestHeader("Accept","application/json")),tt.withCredentials="include"===Ne.credentials,tt.onerror=function(){et(new Error(tt.statusText))},tt.onload=function(){if((tt.status>=200&&tt.status<300||0===tt.status)&&null!==tt.response){var nt=tt.response;if("json"===Ne.type)try{nt=JSON.parse(tt.response)}catch(Ne){return et(Ne)}et(null,nt,tt.getResponseHeader("Cache-Control"),tt.getResponseHeader("Expires"))}else et(new rr(tt.statusText,tt.status,Ne.url))},tt.send(Ne.body),{cancel:function(){return tt.abort()}}}(Ne,et)},xt=function(Ne,et){return gt(c(Ne,{type:"arrayBuffer"}),et)},bt=function(Ne,et){return gt(c(Ne,{method:"POST"}),et)};Yn=[],er=0;var wt=function(Ne,et){if(Dt.supported&&(Ne.headers||(Ne.headers={}),Ne.headers.accept="image/webp,*/*"),er>=Ot.MAX_PARALLEL_IMAGE_REQUESTS){var tt={requestParameters:Ne,callback:et,cancelled:!1,cancel:function(){this.cancelled=!0}};return Yn.push(tt),tt}er++;var rt=!1,i=function(){if(!rt)for(rt=!0,er--;Yn.length&&er<Ot.MAX_PARALLEL_IMAGE_REQUESTS;){var Ne=Yn.shift();Ne.cancelled||(Ne.cancel=wt(Ne.requestParameters,Ne.callback).cancel)}},it=xt(Ne,(function(Ne,tt,rt,it){i(),Ne?et(Ne):tt&&(ht()?function(Ne,et){var tt=new nt.Blob([new Uint8Array(Ne)],{type:"image/png"});nt.createImageBitmap(tt).then((function(Ne){et(null,Ne)})).catch((function(Ne){et(new Error("Could not load image because of "+Ne.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(tt,et):function(Ne,et,tt,rt){var it=new nt.Image,ot=nt.URL;it.onload=function(){et(null,it),ot.revokeObjectURL(it.src)},it.onerror=function(){return et(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var at=new nt.Blob([new Uint8Array(Ne)],{type:"image/png"});it.cacheControl=tt,it.expires=rt,it.src=Ne.byteLength?ot.createObjectURL(at):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(tt,et,rt,it))}));return{cancel:function(){it.cancel(),i()}}};function _t(Ne,et,tt){tt[Ne]&&-1!==tt[Ne].indexOf(et)||(tt[Ne]=tt[Ne]||[],tt[Ne].push(et))}function At(Ne,et,tt){if(tt&&tt[Ne]){var nt=tt[Ne].indexOf(et);-1!==nt&&tt[Ne].splice(nt,1)}}var St=function(Ne,et){void 0===et&&(et={}),c(this,et),this.type=Ne},wr=function(Ne){function e(et,tt){void 0===tt&&(tt={}),Ne.call(this,"error",c({error:et},tt))}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(St),It=function(){};It.prototype.on=function(Ne,et){return this._listeners=this._listeners||{},_t(Ne,et,this._listeners),this},It.prototype.off=function(Ne,et){return At(Ne,et,this._listeners),At(Ne,et,this._oneTimeListeners),this},It.prototype.once=function(Ne,et){return this._oneTimeListeners=this._oneTimeListeners||{},_t(Ne,et,this._oneTimeListeners),this},It.prototype.fire=function(Ne,et){"string"==typeof Ne&&(Ne=new St(Ne,et||{}));var tt=Ne.type;if(this.listens(tt)){Ne.target=this;for(var nt=0,rt=this._listeners&&this._listeners[tt]?this._listeners[tt].slice():[];nt<rt.length;nt+=1)rt[nt].call(this,Ne);for(var it=0,ot=this._oneTimeListeners&&this._oneTimeListeners[tt]?this._oneTimeListeners[tt].slice():[];it<ot.length;it+=1){var at=ot[it];At(tt,at,this._oneTimeListeners),at.call(this,Ne)}var st=this._eventedParent;st&&(c(Ne,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),st.fire(Ne))}else Ne instanceof wr&&console.error(Ne.error);return this},It.prototype.listens=function(Ne){return this._listeners&&this._listeners[Ne]&&this._listeners[Ne].length>0||this._oneTimeListeners&&this._oneTimeListeners[Ne]&&this._oneTimeListeners[Ne].length>0||this._eventedParent&&this._eventedParent.listens(Ne)},It.prototype.setEventedParent=function(Ne,et){return this._eventedParent=Ne,this._eventedParentData=et,this};var Sr={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ct=function(Ne,et,tt,nt){this.message=(Ne?Ne+": ":"")+tt,nt&&(this.identifier=nt),null!=et&&et.__line__&&(this.line=et.__line__)};function Mt(Ne){var et=Ne.value;return et?[new Ct(Ne.key,et,"constants have been deprecated as of v8")]:[]}function Et(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];for(var nt=0,rt=et;nt<rt.length;nt+=1){var it=rt[nt];for(var ot in it)Ne[ot]=it[ot]}return Ne}function Tt(Ne){return Ne instanceof Number||Ne instanceof String||Ne instanceof Boolean?Ne.valueOf():Ne}function Pt(Ne){if(Array.isArray(Ne))return Ne.map(Pt);if(Ne instanceof Object&&!(Ne instanceof Number||Ne instanceof String||Ne instanceof Boolean)){var et={};for(var tt in Ne)et[tt]=Pt(Ne[tt]);return et}return Tt(Ne)}var ii=function(Ne){function e(et,tt){Ne.call(this,tt),this.message=tt,this.key=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(Error),Vt=function(Ne,et){void 0===et&&(et=[]),this.parent=Ne,this.bindings={};for(var tt=0,nt=et;tt<nt.length;tt+=1){var rt=nt[tt];this.bindings[rt[0]]=rt[1]}};Vt.prototype.concat=function(Ne){return new Vt(this,Ne)},Vt.prototype.get=function(Ne){if(this.bindings[Ne])return this.bindings[Ne];if(this.parent)return this.parent.get(Ne);throw new Error(Ne+" not found in scope.")},Vt.prototype.has=function(Ne){return!!this.bindings[Ne]||!!this.parent&&this.parent.has(Ne)};var qi={kind:"null"},uo={kind:"number"},po={kind:"string"},vo={kind:"boolean"},So={kind:"color"},ta={kind:"object"},na={kind:"value"},ia={kind:"collator"},sa={kind:"formatted"},la={kind:"resolvedImage"};function Gt(Ne,et){return{kind:"array",itemType:Ne,N:et}}function Zt(Ne){if("array"===Ne.kind){var et=Zt(Ne.itemType);return"number"==typeof Ne.N?"array<"+et+", "+Ne.N+">":"value"===Ne.itemType.kind?"array":"array<"+et+">"}return Ne.kind}var pa=[qi,uo,po,vo,So,sa,ta,Gt(na),la];function Jt(Ne,et){if("error"===et.kind)return null;if("array"===Ne.kind){if("array"===et.kind&&(0===et.N&&"value"===et.itemType.kind||!Jt(Ne.itemType,et.itemType))&&("number"!=typeof Ne.N||Ne.N===et.N))return null}else{if(Ne.kind===et.kind)return null;if("value"===Ne.kind)for(var tt=0,nt=pa;tt<nt.length;tt+=1)if(!Jt(nt[tt],et))return null}return"Expected "+Zt(Ne)+" but found "+Zt(et)+" instead."}function Ht(Ne,et){return et.some((function(et){return et.kind===Ne.kind}))}function Yt(Ne,et){return et.some((function(et){return"null"===et?null===Ne:"array"===et?Array.isArray(Ne):"object"===et?Ne&&!Array.isArray(Ne)&&"object"==typeof Ne:et===typeof Ne}))}var fa=e((function(Ne,et){var tt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(Ne){return(Ne=Math.round(Ne))<0?0:Ne>255?255:Ne}function i(Ne){return n("%"===Ne[Ne.length-1]?parseFloat(Ne)/100*255:parseInt(Ne))}function a(Ne){return(et="%"===Ne[Ne.length-1]?parseFloat(Ne)/100:parseFloat(Ne))<0?0:et>1?1:et;var et}function o(Ne,et,tt){return tt<0?tt+=1:tt>1&&(tt-=1),6*tt<1?Ne+(et-Ne)*tt*6:2*tt<1?et:3*tt<2?Ne+(et-Ne)*(2/3-tt)*6:Ne}try{et.parseCSSColor=function(Ne){var et,nt=Ne.replace(/ /g,"").toLowerCase();if(nt in tt)return tt[nt].slice();if("#"===nt[0])return 4===nt.length?(et=parseInt(nt.substr(1),16))>=0&&et<=4095?[(3840&et)>>4|(3840&et)>>8,240&et|(240&et)>>4,15&et|(15&et)<<4,1]:null:7===nt.length&&(et=parseInt(nt.substr(1),16))>=0&&et<=16777215?[(16711680&et)>>16,(65280&et)>>8,255&et,1]:null;var rt=nt.indexOf("("),it=nt.indexOf(")");if(-1!==rt&&it+1===nt.length){var ot=nt.substr(0,rt),at=nt.substr(rt+1,it-(rt+1)).split(","),st=1;switch(ot){case"rgba":if(4!==at.length)return null;st=a(at.pop());case"rgb":return 3!==at.length?null:[i(at[0]),i(at[1]),i(at[2]),st];case"hsla":if(4!==at.length)return null;st=a(at.pop());case"hsl":if(3!==at.length)return null;var ct=(parseFloat(at[0])%360+360)%360/360,pt=a(at[1]),dt=a(at[2]),ft=dt<=.5?dt*(pt+1):dt+pt-dt*pt,mt=2*dt-ft;return[n(255*o(mt,ft,ct+1/3)),n(255*o(mt,ft,ct)),n(255*o(mt,ft,ct-1/3)),st];default:return null}}return null}}catch(Ne){}})).parseCSSColor,Wt=function(Ne,et,tt,nt){void 0===nt&&(nt=1),this.r=Ne,this.g=et,this.b=tt,this.a=nt};Wt.parse=function(Ne){if(Ne){if(Ne instanceof Wt)return Ne;if("string"==typeof Ne){var et=fa(Ne);if(et)return new Wt(et[0]/255*et[3],et[1]/255*et[3],et[2]/255*et[3],et[3])}}},Wt.prototype.toString=function(){var Ne=this.toArray(),et=Ne[1],tt=Ne[2],nt=Ne[3];return"rgba("+Math.round(Ne[0])+","+Math.round(et)+","+Math.round(tt)+","+nt+")"},Wt.prototype.toArray=function(){var Ne=this.a;return 0===Ne?[0,0,0,0]:[255*this.r/Ne,255*this.g/Ne,255*this.b/Ne,Ne]},Wt.black=new Wt(0,0,0,1),Wt.white=new Wt(1,1,1,1),Wt.transparent=new Wt(0,0,0,0),Wt.red=new Wt(1,0,0,1);var Qt=function(Ne,et,tt){this.sensitivity=Ne?et?"variant":"case":et?"accent":"base",this.locale=tt,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Qt.prototype.compare=function(Ne,et){return this.collator.compare(Ne,et)},Qt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var te=function(Ne,et,tt,nt,rt){this.text=Ne,this.image=et,this.scale=tt,this.fontStack=nt,this.textColor=rt},ee=function(Ne){this.sections=Ne};ee.fromString=function(Ne){return new ee([new te(Ne,null,null,null,null)])},ee.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(Ne){return 0!==Ne.text.length||Ne.image&&0!==Ne.image.name.length}))},ee.factory=function(Ne){return Ne instanceof ee?Ne:ee.fromString(Ne)},ee.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(Ne){return Ne.text})).join("")},ee.prototype.serialize=function(){for(var Ne=["format"],et=0,tt=this.sections;et<tt.length;et+=1){var nt=tt[et];if(nt.image)Ne.push(["image",nt.image.name]);else{Ne.push(nt.text);var rt={};nt.fontStack&&(rt["text-font"]=["literal",nt.fontStack.split(",")]),nt.scale&&(rt["font-scale"]=nt.scale),nt.textColor&&(rt["text-color"]=["rgba"].concat(nt.textColor.toArray())),Ne.push(rt)}}return Ne};var re=function(Ne){this.name=Ne.name,this.available=Ne.available};function ne(Ne,et,tt,nt){return"number"==typeof Ne&&Ne>=0&&Ne<=255&&"number"==typeof et&&et>=0&&et<=255&&"number"==typeof tt&&tt>=0&&tt<=255?void 0===nt||"number"==typeof nt&&nt>=0&&nt<=1?null:"Invalid rgba value ["+[Ne,et,tt,nt].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof nt?[Ne,et,tt,nt]:[Ne,et,tt]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ie(Ne){if(null===Ne)return!0;if("string"==typeof Ne)return!0;if("boolean"==typeof Ne)return!0;if("number"==typeof Ne)return!0;if(Ne instanceof Wt)return!0;if(Ne instanceof Qt)return!0;if(Ne instanceof ee)return!0;if(Ne instanceof re)return!0;if(Array.isArray(Ne)){for(var et=0,tt=Ne;et<tt.length;et+=1)if(!ie(tt[et]))return!1;return!0}if("object"==typeof Ne){for(var nt in Ne)if(!ie(Ne[nt]))return!1;return!0}return!1}function ae(Ne){if(null===Ne)return qi;if("string"==typeof Ne)return po;if("boolean"==typeof Ne)return vo;if("number"==typeof Ne)return uo;if(Ne instanceof Wt)return So;if(Ne instanceof Qt)return ia;if(Ne instanceof ee)return sa;if(Ne instanceof re)return la;if(Array.isArray(Ne)){for(var et,tt=Ne.length,nt=0,rt=Ne;nt<rt.length;nt+=1){var it=ae(rt[nt]);if(et){if(et===it)continue;et=na;break}et=it}return Gt(et||na,tt)}return ta}function oe(Ne){var et=typeof Ne;return null===Ne?"":"string"===et||"number"===et||"boolean"===et?String(Ne):Ne instanceof Wt||Ne instanceof ee||Ne instanceof re?Ne.toString():JSON.stringify(Ne)}re.prototype.toString=function(){return this.name},re.fromString=function(Ne){return Ne?new re({name:Ne,available:!1}):null},re.prototype.serialize=function(){return["image",this.name]};var se=function(Ne,et){this.type=Ne,this.value=et};se.parse=function(Ne,et){if(2!==Ne.length)return et.error("'literal' expression requires exactly one argument, but found "+(Ne.length-1)+" instead.");if(!ie(Ne[1]))return et.error("invalid value");var tt=Ne[1],nt=ae(tt),rt=et.expectedType;return"array"!==nt.kind||0!==nt.N||!rt||"array"!==rt.kind||"number"==typeof rt.N&&0!==rt.N||(nt=rt),new se(nt,tt)},se.prototype.evaluate=function(){return this.value},se.prototype.eachChild=function(){},se.prototype.outputDefined=function(){return!0},se.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Wt?["rgba"].concat(this.value.toArray()):this.value instanceof ee?this.value.serialize():this.value};var ue=function(Ne){this.name="ExpressionEvaluationError",this.message=Ne};ue.prototype.toJSON=function(){return this.message};var ga={string:po,number:uo,boolean:vo,object:ta},pe=function(Ne,et){this.type=Ne,this.args=et};pe.parse=function(Ne,et){if(Ne.length<2)return et.error("Expected at least one argument.");var tt,nt=1,rt=Ne[0];if("array"===rt){var it,ot;if(Ne.length>2){var at=Ne[1];if("string"!=typeof at||!(at in ga)||"object"===at)return et.error('The item type argument of "array" must be one of string, number, boolean',1);it=ga[at],nt++}else it=na;if(Ne.length>3){if(null!==Ne[2]&&("number"!=typeof Ne[2]||Ne[2]<0||Ne[2]!==Math.floor(Ne[2])))return et.error('The length argument to "array" must be a positive integer literal',2);ot=Ne[2],nt++}tt=Gt(it,ot)}else tt=ga[rt];for(var st=[];nt<Ne.length;nt++){var ct=et.parse(Ne[nt],nt,na);if(!ct)return null;st.push(ct)}return new pe(tt,st)},pe.prototype.evaluate=function(Ne){for(var et=0;et<this.args.length;et++){var tt=this.args[et].evaluate(Ne);if(!Jt(this.type,ae(tt)))return tt;if(et===this.args.length-1)throw new ue("Expected value to be of type "+Zt(this.type)+", but found "+Zt(ae(tt))+" instead.")}return null},pe.prototype.eachChild=function(Ne){this.args.forEach(Ne)},pe.prototype.outputDefined=function(){return this.args.every((function(Ne){return Ne.outputDefined()}))},pe.prototype.serialize=function(){var Ne=this.type,et=[Ne.kind];if("array"===Ne.kind){var tt=Ne.itemType;if("string"===tt.kind||"number"===tt.kind||"boolean"===tt.kind){et.push(tt.kind);var nt=Ne.N;("number"==typeof nt||this.args.length>1)&&et.push(nt)}}return et.concat(this.args.map((function(Ne){return Ne.serialize()})))};var ce=function(Ne){this.type=sa,this.sections=Ne};ce.parse=function(Ne,et){if(Ne.length<2)return et.error("Expected at least one argument.");var tt=Ne[1];if(!Array.isArray(tt)&&"object"==typeof tt)return et.error("First argument must be an image or text section.");for(var nt=[],rt=!1,it=1;it<=Ne.length-1;++it){var ot=Ne[it];if(rt&&"object"==typeof ot&&!Array.isArray(ot)){rt=!1;var at=null;if(ot["font-scale"]&&!(at=et.parse(ot["font-scale"],1,uo)))return null;var st=null;if(ot["text-font"]&&!(st=et.parse(ot["text-font"],1,Gt(po))))return null;var ct=null;if(ot["text-color"]&&!(ct=et.parse(ot["text-color"],1,So)))return null;var pt=nt[nt.length-1];pt.scale=at,pt.font=st,pt.textColor=ct}else{var dt=et.parse(Ne[it],1,na);if(!dt)return null;var ft=dt.type.kind;if("string"!==ft&&"value"!==ft&&"null"!==ft&&"resolvedImage"!==ft)return et.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");rt=!0,nt.push({content:dt,scale:null,font:null,textColor:null})}}return new ce(nt)},ce.prototype.evaluate=function(Ne){return new ee(this.sections.map((function(et){var tt=et.content.evaluate(Ne);return ae(tt)===la?new te("",tt,null,null,null):new te(oe(tt),null,et.scale?et.scale.evaluate(Ne):null,et.font?et.font.evaluate(Ne).join(","):null,et.textColor?et.textColor.evaluate(Ne):null)})))},ce.prototype.eachChild=function(Ne){for(var et=0,tt=this.sections;et<tt.length;et+=1){var nt=tt[et];Ne(nt.content),nt.scale&&Ne(nt.scale),nt.font&&Ne(nt.font),nt.textColor&&Ne(nt.textColor)}},ce.prototype.outputDefined=function(){return!1},ce.prototype.serialize=function(){for(var Ne=["format"],et=0,tt=this.sections;et<tt.length;et+=1){var nt=tt[et];Ne.push(nt.content.serialize());var rt={};nt.scale&&(rt["font-scale"]=nt.scale.serialize()),nt.font&&(rt["text-font"]=nt.font.serialize()),nt.textColor&&(rt["text-color"]=nt.textColor.serialize()),Ne.push(rt)}return Ne};var he=function(Ne){this.type=la,this.input=Ne};he.parse=function(Ne,et){if(2!==Ne.length)return et.error("Expected two arguments.");var tt=et.parse(Ne[1],1,po);return tt?new he(tt):et.error("No image name provided.")},he.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne),tt=re.fromString(et);return tt&&Ne.availableImages&&(tt.available=Ne.availableImages.indexOf(et)>-1),tt},he.prototype.eachChild=function(Ne){Ne(this.input)},he.prototype.outputDefined=function(){return!1},he.prototype.serialize=function(){return["image",this.input.serialize()]};var va={"to-boolean":vo,"to-color":So,"to-number":uo,"to-string":po},ye=function(Ne,et){this.type=Ne,this.args=et};ye.parse=function(Ne,et){if(Ne.length<2)return et.error("Expected at least one argument.");var tt=Ne[0];if(("to-boolean"===tt||"to-string"===tt)&&2!==Ne.length)return et.error("Expected one argument.");for(var nt=va[tt],rt=[],it=1;it<Ne.length;it++){var ot=et.parse(Ne[it],it,na);if(!ot)return null;rt.push(ot)}return new ye(nt,rt)},ye.prototype.evaluate=function(Ne){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(Ne));if("color"===this.type.kind){for(var et,tt,nt=0,rt=this.args;nt<rt.length;nt+=1){if(tt=null,(et=rt[nt].evaluate(Ne))instanceof Wt)return et;if("string"==typeof et){var it=Ne.parseColor(et);if(it)return it}else if(Array.isArray(et)&&!(tt=et.length<3||et.length>4?"Invalid rbga value "+JSON.stringify(et)+": expected an array containing either three or four numeric values.":ne(et[0],et[1],et[2],et[3])))return new Wt(et[0]/255,et[1]/255,et[2]/255,et[3])}throw new ue(tt||"Could not parse color from value '"+("string"==typeof et?et:String(JSON.stringify(et)))+"'")}if("number"===this.type.kind){for(var ot=null,at=0,st=this.args;at<st.length;at+=1){if(null===(ot=st[at].evaluate(Ne)))return 0;var ct=Number(ot);if(!isNaN(ct))return ct}throw new ue("Could not convert "+JSON.stringify(ot)+" to number.")}return"formatted"===this.type.kind?ee.fromString(oe(this.args[0].evaluate(Ne))):"resolvedImage"===this.type.kind?re.fromString(oe(this.args[0].evaluate(Ne))):oe(this.args[0].evaluate(Ne))},ye.prototype.eachChild=function(Ne){this.args.forEach(Ne)},ye.prototype.outputDefined=function(){return this.args.every((function(Ne){return Ne.outputDefined()}))},ye.prototype.serialize=function(){if("formatted"===this.type.kind)return new ce([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new he(this.args[0]).serialize();var Ne=["to-"+this.type.kind];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var _a=["Unknown","Point","LineString","Polygon"],me=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};me.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},me.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?_a[this.feature.type]:this.feature.type:null},me.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},me.prototype.canonicalID=function(){return this.canonical},me.prototype.properties=function(){return this.feature&&this.feature.properties||{}},me.prototype.parseColor=function(Ne){var et=this._parseColorCache[Ne];return et||(et=this._parseColorCache[Ne]=Wt.parse(Ne)),et};var ve=function(Ne,et,tt,nt){this.name=Ne,this.type=et,this._evaluate=tt,this.args=nt};ve.prototype.evaluate=function(Ne){return this._evaluate(Ne,this.args)},ve.prototype.eachChild=function(Ne){this.args.forEach(Ne)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map((function(Ne){return Ne.serialize()})))},ve.parse=function(Ne,et){var tt,nt=Ne[0],rt=ve.definitions[nt];if(!rt)return et.error('Unknown expression "'+nt+'". If you wanted a literal array, use ["literal", [...]].',0);for(var it=Array.isArray(rt)?rt[0]:rt.type,ot=Array.isArray(rt)?[[rt[1],rt[2]]]:rt.overloads,at=ot.filter((function(et){var tt=et[0];return!Array.isArray(tt)||tt.length===Ne.length-1})),st=null,ct=0,pt=at;ct<pt.length;ct+=1){var dt=pt[ct],ft=dt[0],mt=dt[1];st=new Oe(et.registry,et.path,null,et.scope);for(var yt=[],vt=!1,Ot=1;Ot<Ne.length;Ot++){var Dt=Ne[Ot],Rt=Array.isArray(ft)?ft[Ot-1]:ft.type,Bt=st.parse(Dt,1+yt.length,Rt);if(!Bt){vt=!0;break}yt.push(Bt)}if(!vt)if(Array.isArray(ft)&&ft.length!==yt.length)st.error("Expected "+ft.length+" arguments, but found "+yt.length+" instead.");else{for(var rn=0;rn<yt.length;rn++){var vn=Array.isArray(ft)?ft[rn]:ft.type,bn=yt[rn];st.concat(rn+1).checkSubtype(vn,bn.type)}if(0===st.errors.length)return new ve(nt,it,mt,yt)}}if(1===at.length)(tt=et.errors).push.apply(tt,st.errors);else{for(var Tn=(at.length?at:ot).map((function(Ne){var et;return et=Ne[0],Array.isArray(et)?"("+et.map(Zt).join(", ")+")":"("+Zt(et.type)+"...)"})).join(" | "),Cn=[],In=1;In<Ne.length;In++){var Ln=et.parse(Ne[In],1+Cn.length);if(!Ln)return null;Cn.push(Zt(Ln.type))}et.error("Expected arguments of type "+Tn+", but found ("+Cn.join(", ")+") instead.")}return null},ve.register=function(Ne,et){for(var tt in ve.definitions=et,et)Ne[tt]=ve};var ge=function(Ne,et,tt){this.type=ia,this.locale=tt,this.caseSensitive=Ne,this.diacriticSensitive=et};function xe(Ne,et){Ne[0]=Math.min(Ne[0],et[0]),Ne[1]=Math.min(Ne[1],et[1]),Ne[2]=Math.max(Ne[2],et[0]),Ne[3]=Math.max(Ne[3],et[1])}function be(Ne,et){return!(Ne[0]<=et[0]||Ne[2]>=et[2]||Ne[1]<=et[1]||Ne[3]>=et[3])}function we(Ne,et){var tt=(180+Ne[0])/360,nt=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Ne[1]*Math.PI/360)))/360,rt=Math.pow(2,et.z);return[Math.round(tt*rt*8192),Math.round(nt*rt*8192)]}function _e(Ne,et,tt){return et[1]>Ne[1]!=tt[1]>Ne[1]&&Ne[0]<(tt[0]-et[0])*(Ne[1]-et[1])/(tt[1]-et[1])+et[0]}function Ae(Ne,et){for(var tt,nt,rt,it,ot,at,st,ct=!1,pt=0,dt=et.length;pt<dt;pt++)for(var ft=et[pt],mt=0,yt=ft.length;mt<yt-1;mt++){if((it=(tt=Ne)[0]-(nt=ft[mt])[0])*(st=tt[1]-(rt=ft[mt+1])[1])-(at=tt[0]-rt[0])*(ot=tt[1]-nt[1])==0&&it*at<=0&&ot*st<=0)return!1;_e(Ne,ft[mt],ft[mt+1])&&(ct=!ct)}return ct}function Se(Ne,et){for(var tt=0;tt<et.length;tt++)if(Ae(Ne,et[tt]))return!0;return!1}function ke(Ne,et,tt,nt){var rt=nt[0]-tt[0],it=nt[1]-tt[1],ot=(Ne[0]-tt[0])*it-rt*(Ne[1]-tt[1]),at=(et[0]-tt[0])*it-rt*(et[1]-tt[1]);return ot>0&&at<0||ot<0&&at>0}function Ie(Ne,et,tt){for(var nt=0,rt=tt;nt<rt.length;nt+=1)for(var it=rt[nt],ot=0;ot<it.length-1;++ot)if(0!=(dt=[(pt=it[ot+1])[0]-(ct=it[ot])[0],pt[1]-ct[1]])[0]*(ft=[(st=et)[0]-(at=Ne)[0],st[1]-at[1]])[1]-dt[1]*ft[0]&&ke(at,st,ct,pt)&&ke(ct,pt,at,st))return!0;var at,st,ct,pt,dt,ft;return!1}function ze(Ne,et){for(var tt=0;tt<Ne.length;++tt)if(!Ae(Ne[tt],et))return!1;for(var nt=0;nt<Ne.length-1;++nt)if(Ie(Ne[nt],Ne[nt+1],et))return!1;return!0}function Ce(Ne,et){for(var tt=0;tt<et.length;tt++)if(ze(Ne,et[tt]))return!0;return!1}function Me(Ne,et,tt){for(var nt=[],rt=0;rt<Ne.length;rt++){for(var it=[],ot=0;ot<Ne[rt].length;ot++){var at=we(Ne[rt][ot],tt);xe(et,at),it.push(at)}nt.push(it)}return nt}function Ee(Ne,et,tt){for(var nt=[],rt=0;rt<Ne.length;rt++){var it=Me(Ne[rt],et,tt);nt.push(it)}return nt}function Te(Ne,et,tt,nt){if(Ne[0]<tt[0]||Ne[0]>tt[2]){var rt=.5*nt,it=Ne[0]-tt[0]>rt?-nt:tt[0]-Ne[0]>rt?nt:0;0===it&&(it=Ne[0]-tt[2]>rt?-nt:tt[2]-Ne[0]>rt?nt:0),Ne[0]+=it}xe(et,Ne)}function Pe(Ne,et,tt,nt){for(var rt=8192*Math.pow(2,nt.z),it=[8192*nt.x,8192*nt.y],ot=[],at=0,st=Ne;at<st.length;at+=1)for(var ct=0,pt=st[at];ct<pt.length;ct+=1){var dt=pt[ct],ft=[dt.x+it[0],dt.y+it[1]];Te(ft,et,tt,rt),ot.push(ft)}return ot}function Be(Ne,et,tt,nt){for(var rt,it=8192*Math.pow(2,nt.z),ot=[8192*nt.x,8192*nt.y],at=[],st=0,ct=Ne;st<ct.length;st+=1){for(var pt=[],dt=0,ft=ct[st];dt<ft.length;dt+=1){var mt=ft[dt],yt=[mt.x+ot[0],mt.y+ot[1]];xe(et,yt),pt.push(yt)}at.push(pt)}if(et[2]-et[0]<=it/2){(rt=et)[0]=rt[1]=1/0,rt[2]=rt[3]=-1/0;for(var vt=0,Ot=at;vt<Ot.length;vt+=1)for(var Dt=0,Rt=Ot[vt];Dt<Rt.length;Dt+=1)Te(Rt[Dt],et,tt,it)}return at}ge.parse=function(Ne,et){if(2!==Ne.length)return et.error("Expected one argument.");var tt=Ne[1];if("object"!=typeof tt||Array.isArray(tt))return et.error("Collator options argument must be an object.");var nt=et.parse(void 0!==tt["case-sensitive"]&&tt["case-sensitive"],1,vo);if(!nt)return null;var rt=et.parse(void 0!==tt["diacritic-sensitive"]&&tt["diacritic-sensitive"],1,vo);if(!rt)return null;var it=null;return tt.locale&&!(it=et.parse(tt.locale,1,po))?null:new ge(nt,rt,it)},ge.prototype.evaluate=function(Ne){return new Qt(this.caseSensitive.evaluate(Ne),this.diacriticSensitive.evaluate(Ne),this.locale?this.locale.evaluate(Ne):null)},ge.prototype.eachChild=function(Ne){Ne(this.caseSensitive),Ne(this.diacriticSensitive),this.locale&&Ne(this.locale)},ge.prototype.outputDefined=function(){return!1},ge.prototype.serialize=function(){var Ne={};return Ne["case-sensitive"]=this.caseSensitive.serialize(),Ne["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(Ne.locale=this.locale.serialize()),["collator",Ne]};var Ve=function(Ne,et){this.type=vo,this.geojson=Ne,this.geometries=et};function Fe(Ne){if(Ne instanceof ve){if("get"===Ne.name&&1===Ne.args.length)return!1;if("feature-state"===Ne.name)return!1;if("has"===Ne.name&&1===Ne.args.length)return!1;if("properties"===Ne.name||"geometry-type"===Ne.name||"id"===Ne.name)return!1;if(/^filter-/.test(Ne.name))return!1}if(Ne instanceof Ve)return!1;var et=!0;return Ne.eachChild((function(Ne){et&&!Fe(Ne)&&(et=!1)})),et}function De(Ne){if(Ne instanceof ve&&"feature-state"===Ne.name)return!1;var et=!0;return Ne.eachChild((function(Ne){et&&!De(Ne)&&(et=!1)})),et}function Le(Ne,et){if(Ne instanceof ve&&et.indexOf(Ne.name)>=0)return!1;var tt=!0;return Ne.eachChild((function(Ne){tt&&!Le(Ne,et)&&(tt=!1)})),tt}Ve.parse=function(Ne,et){if(2!==Ne.length)return et.error("'within' expression requires exactly one argument, but found "+(Ne.length-1)+" instead.");if(ie(Ne[1])){var tt=Ne[1];if("FeatureCollection"===tt.type)for(var nt=0;nt<tt.features.length;++nt){var rt=tt.features[nt].geometry.type;if("Polygon"===rt||"MultiPolygon"===rt)return new Ve(tt,tt.features[nt].geometry)}else if("Feature"===tt.type){var it=tt.geometry.type;if("Polygon"===it||"MultiPolygon"===it)return new Ve(tt,tt.geometry)}else if("Polygon"===tt.type||"MultiPolygon"===tt.type)return new Ve(tt,tt)}return et.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ve.prototype.evaluate=function(Ne){if(null!=Ne.geometry()&&null!=Ne.canonicalID()){if("Point"===Ne.geometryType())return function(Ne,et){var tt=[1/0,1/0,-1/0,-1/0],nt=[1/0,1/0,-1/0,-1/0],rt=Ne.canonicalID();if("Polygon"===et.type){var it=Me(et.coordinates,nt,rt),ot=Pe(Ne.geometry(),tt,nt,rt);if(!be(tt,nt))return!1;for(var at=0,st=ot;at<st.length;at+=1)if(!Ae(st[at],it))return!1}if("MultiPolygon"===et.type){var ct=Ee(et.coordinates,nt,rt),pt=Pe(Ne.geometry(),tt,nt,rt);if(!be(tt,nt))return!1;for(var dt=0,ft=pt;dt<ft.length;dt+=1)if(!Se(ft[dt],ct))return!1}return!0}(Ne,this.geometries);if("LineString"===Ne.geometryType())return function(Ne,et){var tt=[1/0,1/0,-1/0,-1/0],nt=[1/0,1/0,-1/0,-1/0],rt=Ne.canonicalID();if("Polygon"===et.type){var it=Me(et.coordinates,nt,rt),ot=Be(Ne.geometry(),tt,nt,rt);if(!be(tt,nt))return!1;for(var at=0,st=ot;at<st.length;at+=1)if(!ze(st[at],it))return!1}if("MultiPolygon"===et.type){var ct=Ee(et.coordinates,nt,rt),pt=Be(Ne.geometry(),tt,nt,rt);if(!be(tt,nt))return!1;for(var dt=0,ft=pt;dt<ft.length;dt+=1)if(!Ce(ft[dt],ct))return!1}return!0}(Ne,this.geometries)}return!1},Ve.prototype.eachChild=function(){},Ve.prototype.outputDefined=function(){return!0},Ve.prototype.serialize=function(){return["within",this.geojson]};var Re=function(Ne,et){this.type=et.type,this.name=Ne,this.boundExpression=et};Re.parse=function(Ne,et){if(2!==Ne.length||"string"!=typeof Ne[1])return et.error("'var' expression requires exactly one string literal argument.");var tt=Ne[1];return et.scope.has(tt)?new Re(tt,et.scope.get(tt)):et.error('Unknown variable "'+tt+'". Make sure "'+tt+'" has been bound in an enclosing "let" expression before using it.',1)},Re.prototype.evaluate=function(Ne){return this.boundExpression.evaluate(Ne)},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!1},Re.prototype.serialize=function(){return["var",this.name]};var Oe=function(Ne,et,tt,nt,rt){void 0===et&&(et=[]),void 0===nt&&(nt=new Vt),void 0===rt&&(rt=[]),this.registry=Ne,this.path=et,this.key=et.map((function(Ne){return"["+Ne+"]"})).join(""),this.scope=nt,this.errors=rt,this.expectedType=tt};function Ue(Ne,et){for(var tt,nt=Ne.length-1,rt=0,it=nt,ot=0;rt<=it;)if((tt=Ne[ot=Math.floor((rt+it)/2)])<=et){if(ot===nt||et<Ne[ot+1])return ot;rt=ot+1}else{if(!(tt>et))throw new ue("Input is not a number.");it=ot-1}return 0}Oe.prototype.parse=function(Ne,et,tt,nt,rt){return void 0===rt&&(rt={}),et?this.concat(et,tt,nt)._parse(Ne,rt):this._parse(Ne,rt)},Oe.prototype._parse=function(Ne,et){function r(Ne,et,tt){return"assert"===tt?new pe(et,[Ne]):"coerce"===tt?new ye(et,[Ne]):Ne}if(null!==Ne&&"string"!=typeof Ne&&"boolean"!=typeof Ne&&"number"!=typeof Ne||(Ne=["literal",Ne]),Array.isArray(Ne)){if(0===Ne.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var tt=Ne[0];if("string"!=typeof tt)return this.error("Expression name must be a string, but found "+typeof tt+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var nt=this.registry[tt];if(nt){var rt=nt.parse(Ne,this);if(!rt)return null;if(this.expectedType){var it=this.expectedType,ot=rt.type;if("string"!==it.kind&&"number"!==it.kind&&"boolean"!==it.kind&&"object"!==it.kind&&"array"!==it.kind||"value"!==ot.kind)if("color"!==it.kind&&"formatted"!==it.kind&&"resolvedImage"!==it.kind||"value"!==ot.kind&&"string"!==ot.kind){if(this.checkSubtype(it,ot))return null}else rt=r(rt,it,et.typeAnnotation||"coerce");else rt=r(rt,it,et.typeAnnotation||"assert")}if(!(rt instanceof se)&&"resolvedImage"!==rt.type.kind&&function t(Ne){if(Ne instanceof Re)return t(Ne.boundExpression);if(Ne instanceof ve&&"error"===Ne.name)return!1;if(Ne instanceof ge)return!1;if(Ne instanceof Ve)return!1;var et=Ne instanceof ye||Ne instanceof pe,tt=!0;return Ne.eachChild((function(Ne){tt=et?tt&&t(Ne):tt&&Ne instanceof se})),!!tt&&Fe(Ne)&&Le(Ne,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(rt)){var at=new me;try{rt=new se(rt.type,rt.evaluate(at))}catch(Ne){return this.error(Ne.message),null}}return rt}return this.error('Unknown expression "'+tt+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===Ne?"'undefined' value invalid. Use null instead.":"object"==typeof Ne?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof Ne+" instead.")},Oe.prototype.concat=function(Ne,et,tt){var nt="number"==typeof Ne?this.path.concat(Ne):this.path,rt=tt?this.scope.concat(tt):this.scope;return new Oe(this.registry,nt,et||null,rt,this.errors)},Oe.prototype.error=function(Ne){for(var et=[],tt=arguments.length-1;tt-- >0;)et[tt]=arguments[tt+1];var nt=""+this.key+et.map((function(Ne){return"["+Ne+"]"})).join("");this.errors.push(new ii(nt,Ne))},Oe.prototype.checkSubtype=function(Ne,et){var tt=Jt(Ne,et);return tt&&this.error(tt),tt};var je=function(Ne,et,tt){this.type=Ne,this.input=et,this.labels=[],this.outputs=[];for(var nt=0,rt=tt;nt<rt.length;nt+=1){var it=rt[nt],ot=it[1];this.labels.push(it[0]),this.outputs.push(ot)}};function qe(Ne,et,tt){return Ne*(1-tt)+et*tt}je.parse=function(Ne,et){if(Ne.length-1<4)return et.error("Expected at least 4 arguments, but found only "+(Ne.length-1)+".");if((Ne.length-1)%2!=0)return et.error("Expected an even number of arguments.");var tt=et.parse(Ne[1],1,uo);if(!tt)return null;var nt=[],rt=null;et.expectedType&&"value"!==et.expectedType.kind&&(rt=et.expectedType);for(var it=1;it<Ne.length;it+=2){var ot=1===it?-1/0:Ne[it],at=Ne[it+1],st=it,ct=it+1;if("number"!=typeof ot)return et.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',st);if(nt.length&&nt[nt.length-1][0]>=ot)return et.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',st);var pt=et.parse(at,ct,rt);if(!pt)return null;rt=rt||pt.type,nt.push([ot,pt])}return new je(rt,tt,nt)},je.prototype.evaluate=function(Ne){var et=this.labels,tt=this.outputs;if(1===et.length)return tt[0].evaluate(Ne);var nt=this.input.evaluate(Ne);if(nt<=et[0])return tt[0].evaluate(Ne);var rt=et.length;return nt>=et[rt-1]?tt[rt-1].evaluate(Ne):tt[Ue(et,nt)].evaluate(Ne)},je.prototype.eachChild=function(Ne){Ne(this.input);for(var et=0,tt=this.outputs;et<tt.length;et+=1)Ne(tt[et])},je.prototype.outputDefined=function(){return this.outputs.every((function(Ne){return Ne.outputDefined()}))},je.prototype.serialize=function(){for(var Ne=["step",this.input.serialize()],et=0;et<this.labels.length;et++)et>0&&Ne.push(this.labels[et]),Ne.push(this.outputs[et].serialize());return Ne};var wa=Object.freeze({__proto__:null,number:qe,color:function(Ne,et,tt){return new Wt(qe(Ne.r,et.r,tt),qe(Ne.g,et.g,tt),qe(Ne.b,et.b,tt),qe(Ne.a,et.a,tt))},array:function(Ne,et,tt){return Ne.map((function(Ne,nt){return qe(Ne,et[nt],tt)}))}}),Aa=6/29*3*(6/29),os=Math.PI/180,as=180/Math.PI;function Xe(Ne){return Ne>.008856451679035631?Math.pow(Ne,1/3):Ne/Aa+4/29}function Je(Ne){return Ne>6/29?Ne*Ne*Ne:Aa*(Ne-4/29)}function He(Ne){return 255*(Ne<=.0031308?12.92*Ne:1.055*Math.pow(Ne,1/2.4)-.055)}function Ye(Ne){return(Ne/=255)<=.04045?Ne/12.92:Math.pow((Ne+.055)/1.055,2.4)}function $e(Ne){var et=Ye(Ne.r),tt=Ye(Ne.g),nt=Ye(Ne.b),rt=Xe((.4124564*et+.3575761*tt+.1804375*nt)/.95047),it=Xe((.2126729*et+.7151522*tt+.072175*nt)/1);return{l:116*it-16,a:500*(rt-it),b:200*(it-Xe((.0193339*et+.119192*tt+.9503041*nt)/1.08883)),alpha:Ne.a}}function We(Ne){var et=(Ne.l+16)/116,tt=isNaN(Ne.a)?et:et+Ne.a/500,nt=isNaN(Ne.b)?et:et-Ne.b/200;return et=1*Je(et),tt=.95047*Je(tt),nt=1.08883*Je(nt),new Wt(He(3.2404542*tt-1.5371385*et-.4985314*nt),He(-.969266*tt+1.8760108*et+.041556*nt),He(.0556434*tt-.2040259*et+1.0572252*nt),Ne.alpha)}function Qe(Ne,et,tt){var nt=et-Ne;return Ne+tt*(nt>180||nt<-180?nt-360*Math.round(nt/360):nt)}var ss={forward:$e,reverse:We,interpolate:function(Ne,et,tt){return{l:qe(Ne.l,et.l,tt),a:qe(Ne.a,et.a,tt),b:qe(Ne.b,et.b,tt),alpha:qe(Ne.alpha,et.alpha,tt)}}},ls={forward:function(Ne){var et=$e(Ne),tt=et.l,nt=et.a,rt=et.b,it=Math.atan2(rt,nt)*as;return{h:it<0?it+360:it,c:Math.sqrt(nt*nt+rt*rt),l:tt,alpha:Ne.a}},reverse:function(Ne){var et=Ne.h*os,tt=Ne.c;return We({l:Ne.l,a:Math.cos(et)*tt,b:Math.sin(et)*tt,alpha:Ne.alpha})},interpolate:function(Ne,et,tt){return{h:Qe(Ne.h,et.h,tt),c:qe(Ne.c,et.c,tt),l:qe(Ne.l,et.l,tt),alpha:qe(Ne.alpha,et.alpha,tt)}}},us=Object.freeze({__proto__:null,lab:ss,hcl:ls}),nr=function(Ne,et,tt,nt,rt){this.type=Ne,this.operator=et,this.interpolation=tt,this.input=nt,this.labels=[],this.outputs=[];for(var it=0,ot=rt;it<ot.length;it+=1){var at=ot[it],st=at[1];this.labels.push(at[0]),this.outputs.push(st)}};function ir(Ne,et,tt,nt){var rt=nt-tt,it=Ne-tt;return 0===rt?0:1===et?it/rt:(Math.pow(et,it)-1)/(Math.pow(et,rt)-1)}nr.interpolationFactor=function(Ne,tt,nt,rt){var it=0;if("exponential"===Ne.name)it=ir(tt,Ne.base,nt,rt);else if("linear"===Ne.name)it=ir(tt,1,nt,rt);else if("cubic-bezier"===Ne.name){var ot=Ne.controlPoints;it=new et(ot[0],ot[1],ot[2],ot[3]).solve(ir(tt,1,nt,rt))}return it},nr.parse=function(Ne,et){var tt=Ne[0],nt=Ne[1],rt=Ne[2],it=Ne.slice(3);if(!Array.isArray(nt)||0===nt.length)return et.error("Expected an interpolation type expression.",1);if("linear"===nt[0])nt={name:"linear"};else if("exponential"===nt[0]){var ot=nt[1];if("number"!=typeof ot)return et.error("Exponential interpolation requires a numeric base.",1,1);nt={name:"exponential",base:ot}}else{if("cubic-bezier"!==nt[0])return et.error("Unknown interpolation type "+String(nt[0]),1,0);var at=nt.slice(1);if(4!==at.length||at.some((function(Ne){return"number"!=typeof Ne||Ne<0||Ne>1})))return et.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);nt={name:"cubic-bezier",controlPoints:at}}if(Ne.length-1<4)return et.error("Expected at least 4 arguments, but found only "+(Ne.length-1)+".");if((Ne.length-1)%2!=0)return et.error("Expected an even number of arguments.");if(!(rt=et.parse(rt,2,uo)))return null;var st=[],ct=null;"interpolate-hcl"===tt||"interpolate-lab"===tt?ct=So:et.expectedType&&"value"!==et.expectedType.kind&&(ct=et.expectedType);for(var pt=0;pt<it.length;pt+=2){var dt=it[pt],ft=it[pt+1],mt=pt+3,yt=pt+4;if("number"!=typeof dt)return et.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mt);if(st.length&&st[st.length-1][0]>=dt)return et.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',mt);var vt=et.parse(ft,yt,ct);if(!vt)return null;ct=ct||vt.type,st.push([dt,vt])}return"number"===ct.kind||"color"===ct.kind||"array"===ct.kind&&"number"===ct.itemType.kind&&"number"==typeof ct.N?new nr(ct,tt,nt,rt,st):et.error("Type "+Zt(ct)+" is not interpolatable.")},nr.prototype.evaluate=function(Ne){var et=this.labels,tt=this.outputs;if(1===et.length)return tt[0].evaluate(Ne);var nt=this.input.evaluate(Ne);if(nt<=et[0])return tt[0].evaluate(Ne);var rt=et.length;if(nt>=et[rt-1])return tt[rt-1].evaluate(Ne);var it=Ue(et,nt),ot=nr.interpolationFactor(this.interpolation,nt,et[it],et[it+1]),at=tt[it].evaluate(Ne),st=tt[it+1].evaluate(Ne);return"interpolate"===this.operator?wa[this.type.kind.toLowerCase()](at,st,ot):"interpolate-hcl"===this.operator?ls.reverse(ls.interpolate(ls.forward(at),ls.forward(st),ot)):ss.reverse(ss.interpolate(ss.forward(at),ss.forward(st),ot))},nr.prototype.eachChild=function(Ne){Ne(this.input);for(var et=0,tt=this.outputs;et<tt.length;et+=1)Ne(tt[et])},nr.prototype.outputDefined=function(){return this.outputs.every((function(Ne){return Ne.outputDefined()}))},nr.prototype.serialize=function(){var Ne;Ne="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var et=[this.operator,Ne,this.input.serialize()],tt=0;tt<this.labels.length;tt++)et.push(this.labels[tt],this.outputs[tt].serialize());return et};var ar=function(Ne,et){this.type=Ne,this.args=et};ar.parse=function(Ne,et){if(Ne.length<2)return et.error("Expectected at least one argument.");var tt=null,nt=et.expectedType;nt&&"value"!==nt.kind&&(tt=nt);for(var rt=[],it=0,ot=Ne.slice(1);it<ot.length;it+=1){var at=et.parse(ot[it],1+rt.length,tt,void 0,{typeAnnotation:"omit"});if(!at)return null;tt=tt||at.type,rt.push(at)}var st=nt&&rt.some((function(Ne){return Jt(nt,Ne.type)}));return new ar(st?na:tt,rt)},ar.prototype.evaluate=function(Ne){for(var et,tt=null,nt=0,rt=0,it=this.args;rt<it.length&&(nt++,(tt=it[rt].evaluate(Ne))&&tt instanceof re&&!tt.available&&(et||(et=tt.name),tt=null,nt===this.args.length&&(tt=et)),null===tt);rt+=1);return tt},ar.prototype.eachChild=function(Ne){this.args.forEach(Ne)},ar.prototype.outputDefined=function(){return this.args.every((function(Ne){return Ne.outputDefined()}))},ar.prototype.serialize=function(){var Ne=["coalesce"];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var or=function(Ne,et){this.type=et.type,this.bindings=[].concat(Ne),this.result=et};or.prototype.evaluate=function(Ne){return this.result.evaluate(Ne)},or.prototype.eachChild=function(Ne){for(var et=0,tt=this.bindings;et<tt.length;et+=1)Ne(tt[et][1]);Ne(this.result)},or.parse=function(Ne,et){if(Ne.length<4)return et.error("Expected at least 3 arguments, but found "+(Ne.length-1)+" instead.");for(var tt=[],nt=1;nt<Ne.length-1;nt+=2){var rt=Ne[nt];if("string"!=typeof rt)return et.error("Expected string, but found "+typeof rt+" instead.",nt);if(/[^a-zA-Z0-9_]/.test(rt))return et.error("Variable names must contain only alphanumeric characters or '_'.",nt);var it=et.parse(Ne[nt+1],nt+1);if(!it)return null;tt.push([rt,it])}var ot=et.parse(Ne[Ne.length-1],Ne.length-1,et.expectedType,tt);return ot?new or(tt,ot):null},or.prototype.outputDefined=function(){return this.result.outputDefined()},or.prototype.serialize=function(){for(var Ne=["let"],et=0,tt=this.bindings;et<tt.length;et+=1){var nt=tt[et];Ne.push(nt[0],nt[1].serialize())}return Ne.push(this.result.serialize()),Ne};var sr=function(Ne,et,tt){this.type=Ne,this.index=et,this.input=tt};sr.parse=function(Ne,et){if(3!==Ne.length)return et.error("Expected 2 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,uo),nt=et.parse(Ne[2],2,Gt(et.expectedType||na));return tt&&nt?new sr(nt.type.itemType,tt,nt):null},sr.prototype.evaluate=function(Ne){var et=this.index.evaluate(Ne),tt=this.input.evaluate(Ne);if(et<0)throw new ue("Array index out of bounds: "+et+" < 0.");if(et>=tt.length)throw new ue("Array index out of bounds: "+et+" > "+(tt.length-1)+".");if(et!==Math.floor(et))throw new ue("Array index must be an integer, but found "+et+" instead.");return tt[et]},sr.prototype.eachChild=function(Ne){Ne(this.index),Ne(this.input)},sr.prototype.outputDefined=function(){return!1},sr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ur=function(Ne,et){this.type=vo,this.needle=Ne,this.haystack=et};ur.parse=function(Ne,et){if(3!==Ne.length)return et.error("Expected 2 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,na),nt=et.parse(Ne[2],2,na);return tt&&nt?Ht(tt.type,[vo,po,uo,qi,na])?new ur(tt,nt):et.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(tt.type)+" instead"):null},ur.prototype.evaluate=function(Ne){var et=this.needle.evaluate(Ne),tt=this.haystack.evaluate(Ne);if(!tt)return!1;if(!Yt(et,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(et))+" instead.");if(!Yt(tt,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(tt))+" instead.");return tt.indexOf(et)>=0},ur.prototype.eachChild=function(Ne){Ne(this.needle),Ne(this.haystack)},ur.prototype.outputDefined=function(){return!0},ur.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var lr=function(Ne,et,tt){this.type=uo,this.needle=Ne,this.haystack=et,this.fromIndex=tt};lr.parse=function(Ne,et){if(Ne.length<=2||Ne.length>=5)return et.error("Expected 3 or 4 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,na),nt=et.parse(Ne[2],2,na);if(!tt||!nt)return null;if(!Ht(tt.type,[vo,po,uo,qi,na]))return et.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(tt.type)+" instead");if(4===Ne.length){var rt=et.parse(Ne[3],3,uo);return rt?new lr(tt,nt,rt):null}return new lr(tt,nt)},lr.prototype.evaluate=function(Ne){var et=this.needle.evaluate(Ne),tt=this.haystack.evaluate(Ne);if(!Yt(et,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(et))+" instead.");if(!Yt(tt,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(tt))+" instead.");if(this.fromIndex){var nt=this.fromIndex.evaluate(Ne);return tt.indexOf(et,nt)}return tt.indexOf(et)},lr.prototype.eachChild=function(Ne){Ne(this.needle),Ne(this.haystack),this.fromIndex&&Ne(this.fromIndex)},lr.prototype.outputDefined=function(){return!1},lr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var Ne=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),Ne]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pr=function(Ne,et,tt,nt,rt,it){this.inputType=Ne,this.type=et,this.input=tt,this.cases=nt,this.outputs=rt,this.otherwise=it};pr.parse=function(Ne,et){if(Ne.length<5)return et.error("Expected at least 4 arguments, but found only "+(Ne.length-1)+".");if(Ne.length%2!=1)return et.error("Expected an even number of arguments.");var tt,nt;et.expectedType&&"value"!==et.expectedType.kind&&(nt=et.expectedType);for(var rt={},it=[],ot=2;ot<Ne.length-1;ot+=2){var at=Ne[ot],st=Ne[ot+1];Array.isArray(at)||(at=[at]);var ct=et.concat(ot);if(0===at.length)return ct.error("Expected at least one branch label.");for(var pt=0,dt=at;pt<dt.length;pt+=1){var ft=dt[pt];if("number"!=typeof ft&&"string"!=typeof ft)return ct.error("Branch labels must be numbers or strings.");if("number"==typeof ft&&Math.abs(ft)>Number.MAX_SAFE_INTEGER)return ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof ft&&Math.floor(ft)!==ft)return ct.error("Numeric branch labels must be integer values.");if(tt){if(ct.checkSubtype(tt,ae(ft)))return null}else tt=ae(ft);if(void 0!==rt[String(ft)])return ct.error("Branch labels must be unique.");rt[String(ft)]=it.length}var mt=et.parse(st,ot,nt);if(!mt)return null;nt=nt||mt.type,it.push(mt)}var yt=et.parse(Ne[1],1,na);if(!yt)return null;var vt=et.parse(Ne[Ne.length-1],Ne.length-1,nt);return vt?"value"!==yt.type.kind&&et.concat(1).checkSubtype(tt,yt.type)?null:new pr(tt,nt,yt,rt,it,vt):null},pr.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne);return(ae(et)===this.inputType&&this.outputs[this.cases[et]]||this.otherwise).evaluate(Ne)},pr.prototype.eachChild=function(Ne){Ne(this.input),this.outputs.forEach(Ne),Ne(this.otherwise)},pr.prototype.outputDefined=function(){return this.outputs.every((function(Ne){return Ne.outputDefined()}))&&this.otherwise.outputDefined()},pr.prototype.serialize=function(){for(var Ne=this,et=["match",this.input.serialize()],tt=[],nt={},rt=0,it=Object.keys(this.cases).sort();rt<it.length;rt+=1){var ot=it[rt];void 0===(pt=nt[this.cases[ot]])?(nt[this.cases[ot]]=tt.length,tt.push([this.cases[ot],[ot]])):tt[pt][1].push(ot)}for(var s=function(et){return"number"===Ne.inputType.kind?Number(et):et},at=0,st=tt;at<st.length;at+=1){var ct=st[at],pt=ct[0],dt=ct[1];et.push(1===dt.length?s(dt[0]):dt.map(s)),et.push(this.outputs[outputIndex$1].serialize())}return et.push(this.otherwise.serialize()),et};var cr=function(Ne,et,tt){this.type=Ne,this.branches=et,this.otherwise=tt};cr.parse=function(Ne,et){if(Ne.length<4)return et.error("Expected at least 3 arguments, but found only "+(Ne.length-1)+".");if(Ne.length%2!=0)return et.error("Expected an odd number of arguments.");var tt;et.expectedType&&"value"!==et.expectedType.kind&&(tt=et.expectedType);for(var nt=[],rt=1;rt<Ne.length-1;rt+=2){var it=et.parse(Ne[rt],rt,vo);if(!it)return null;var ot=et.parse(Ne[rt+1],rt+1,tt);if(!ot)return null;nt.push([it,ot]),tt=tt||ot.type}var at=et.parse(Ne[Ne.length-1],Ne.length-1,tt);return at?new cr(tt,nt,at):null},cr.prototype.evaluate=function(Ne){for(var et=0,tt=this.branches;et<tt.length;et+=1){var nt=tt[et],rt=nt[1];if(nt[0].evaluate(Ne))return rt.evaluate(Ne)}return this.otherwise.evaluate(Ne)},cr.prototype.eachChild=function(Ne){for(var et=0,tt=this.branches;et<tt.length;et+=1){var nt=tt[et],rt=nt[1];Ne(nt[0]),Ne(rt)}Ne(this.otherwise)},cr.prototype.outputDefined=function(){return this.branches.every((function(Ne){return Ne[1].outputDefined()}))&&this.otherwise.outputDefined()},cr.prototype.serialize=function(){var Ne=["case"];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var hr=function(Ne,et,tt,nt){this.type=Ne,this.input=et,this.beginIndex=tt,this.endIndex=nt};function fr(Ne,et){return"=="===Ne||"!="===Ne?"boolean"===et.kind||"string"===et.kind||"number"===et.kind||"null"===et.kind||"value"===et.kind:"string"===et.kind||"number"===et.kind||"value"===et.kind}function yr(Ne,et,tt,nt){return 0===nt.compare(et,tt)}function dr(Ne,et,tt){var nt="=="!==Ne&&"!="!==Ne;return function(){function i(Ne,et,tt){this.type=vo,this.lhs=Ne,this.rhs=et,this.collator=tt,this.hasUntypedArgument="value"===Ne.type.kind||"value"===et.type.kind}return i.parse=function(Ne,et){if(3!==Ne.length&&4!==Ne.length)return et.error("Expected two or three arguments.");var tt=Ne[0],rt=et.parse(Ne[1],1,na);if(!rt)return null;if(!fr(tt,rt.type))return et.concat(1).error('"'+tt+"\" comparisons are not supported for type '"+Zt(rt.type)+"'.");var it=et.parse(Ne[2],2,na);if(!it)return null;if(!fr(tt,it.type))return et.concat(2).error('"'+tt+"\" comparisons are not supported for type '"+Zt(it.type)+"'.");if(rt.type.kind!==it.type.kind&&"value"!==rt.type.kind&&"value"!==it.type.kind)return et.error("Cannot compare types '"+Zt(rt.type)+"' and '"+Zt(it.type)+"'.");nt&&("value"===rt.type.kind&&"value"!==it.type.kind?rt=new pe(it.type,[rt]):"value"!==rt.type.kind&&"value"===it.type.kind&&(it=new pe(rt.type,[it])));var ot=null;if(4===Ne.length){if("string"!==rt.type.kind&&"string"!==it.type.kind&&"value"!==rt.type.kind&&"value"!==it.type.kind)return et.error("Cannot use collator to compare non-string types.");if(!(ot=et.parse(Ne[3],3,ia)))return null}return new i(rt,it,ot)},i.prototype.evaluate=function(rt){var it=this.lhs.evaluate(rt),ot=this.rhs.evaluate(rt);if(nt&&this.hasUntypedArgument){var at=ae(it),st=ae(ot);if(at.kind!==st.kind||"string"!==at.kind&&"number"!==at.kind)throw new ue('Expected arguments for "'+Ne+'" to be (string, string) or (number, number), but found ('+at.kind+", "+st.kind+") instead.")}if(this.collator&&!nt&&this.hasUntypedArgument){var ct=ae(it),pt=ae(ot);if("string"!==ct.kind||"string"!==pt.kind)return et(rt,it,ot)}return this.collator?tt(rt,it,ot,this.collator.evaluate(rt)):et(rt,it,ot)},i.prototype.eachChild=function(Ne){Ne(this.lhs),Ne(this.rhs),this.collator&&Ne(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var et=[Ne];return this.eachChild((function(Ne){et.push(Ne.serialize())})),et},i}()}hr.parse=function(Ne,et){if(Ne.length<=2||Ne.length>=5)return et.error("Expected 3 or 4 arguments, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1,na),nt=et.parse(Ne[2],2,uo);if(!tt||!nt)return null;if(!Ht(tt.type,[Gt(na),po,na]))return et.error("Expected first argument to be of type array or string, but found "+Zt(tt.type)+" instead");if(4===Ne.length){var rt=et.parse(Ne[3],3,uo);return rt?new hr(tt.type,tt,nt,rt):null}return new hr(tt.type,tt,nt)},hr.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne),tt=this.beginIndex.evaluate(Ne);if(!Yt(et,["string","array"]))throw new ue("Expected first argument to be of type array or string, but found "+Zt(ae(et))+" instead.");if(this.endIndex){var nt=this.endIndex.evaluate(Ne);return et.slice(tt,nt)}return et.slice(tt)},hr.prototype.eachChild=function(Ne){Ne(this.input),Ne(this.beginIndex),this.endIndex&&Ne(this.endIndex)},hr.prototype.outputDefined=function(){return!1},hr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var Ne=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),Ne]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var fs=dr("==",(function(Ne,et,tt){return et===tt}),yr),gs=dr("!=",(function(Ne,et,tt){return et!==tt}),(function(Ne,et,tt,nt){return!yr(0,et,tt,nt)})),vs=dr("<",(function(Ne,et,tt){return et<tt}),(function(Ne,et,tt,nt){return nt.compare(et,tt)<0})),xs=dr(">",(function(Ne,et,tt){return et>tt}),(function(Ne,et,tt,nt){return nt.compare(et,tt)>0})),Ss=dr("<=",(function(Ne,et,tt){return et<=tt}),(function(Ne,et,tt,nt){return nt.compare(et,tt)<=0})),Es=dr(">=",(function(Ne,et,tt){return et>=tt}),(function(Ne,et,tt,nt){return nt.compare(et,tt)>=0})),_r=function(Ne,et,tt,nt,rt){this.type=po,this.number=Ne,this.locale=et,this.currency=tt,this.minFractionDigits=nt,this.maxFractionDigits=rt};_r.parse=function(Ne,et){if(3!==Ne.length)return et.error("Expected two arguments.");var tt=et.parse(Ne[1],1,uo);if(!tt)return null;var nt=Ne[2];if("object"!=typeof nt||Array.isArray(nt))return et.error("NumberFormat options argument must be an object.");var rt=null;if(nt.locale&&!(rt=et.parse(nt.locale,1,po)))return null;var it=null;if(nt.currency&&!(it=et.parse(nt.currency,1,po)))return null;var ot=null;if(nt["min-fraction-digits"]&&!(ot=et.parse(nt["min-fraction-digits"],1,uo)))return null;var at=null;return nt["max-fraction-digits"]&&!(at=et.parse(nt["max-fraction-digits"],1,uo))?null:new _r(tt,rt,it,ot,at)},_r.prototype.evaluate=function(Ne){return new Intl.NumberFormat(this.locale?this.locale.evaluate(Ne):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(Ne):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(Ne):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(Ne):void 0}).format(this.number.evaluate(Ne))},_r.prototype.eachChild=function(Ne){Ne(this.number),this.locale&&Ne(this.locale),this.currency&&Ne(this.currency),this.minFractionDigits&&Ne(this.minFractionDigits),this.maxFractionDigits&&Ne(this.maxFractionDigits)},_r.prototype.outputDefined=function(){return!1},_r.prototype.serialize=function(){var Ne={};return this.locale&&(Ne.locale=this.locale.serialize()),this.currency&&(Ne.currency=this.currency.serialize()),this.minFractionDigits&&(Ne["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(Ne["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),Ne]};var Ar=function(Ne){this.type=uo,this.input=Ne};Ar.parse=function(Ne,et){if(2!==Ne.length)return et.error("Expected 1 argument, but found "+(Ne.length-1)+" instead.");var tt=et.parse(Ne[1],1);return tt?"array"!==tt.type.kind&&"string"!==tt.type.kind&&"value"!==tt.type.kind?et.error("Expected argument of type string or array, but found "+Zt(tt.type)+" instead."):new Ar(tt):null},Ar.prototype.evaluate=function(Ne){var et=this.input.evaluate(Ne);if("string"==typeof et)return et.length;if(Array.isArray(et))return et.length;throw new ue("Expected value to be of type string or array, but found "+Zt(ae(et))+" instead.")},Ar.prototype.eachChild=function(Ne){Ne(this.input)},Ar.prototype.outputDefined=function(){return!1},Ar.prototype.serialize=function(){var Ne=["length"];return this.eachChild((function(et){Ne.push(et.serialize())})),Ne};var Cs={"==":fs,"!=":gs,">":xs,"<":vs,">=":Es,"<=":Ss,array:pe,at:sr,boolean:pe,case:cr,coalesce:ar,collator:ge,format:ce,image:he,in:ur,"index-of":lr,interpolate:nr,"interpolate-hcl":nr,"interpolate-lab":nr,length:Ar,let:or,literal:se,match:pr,number:pe,"number-format":_r,object:pe,slice:hr,step:je,string:pe,"to-boolean":ye,"to-color":ye,"to-number":ye,"to-string":ye,var:Re,within:Ve};function kr(Ne,et){var tt=et[0],nt=et[1],rt=et[2],it=et[3];tt=tt.evaluate(Ne),nt=nt.evaluate(Ne),rt=rt.evaluate(Ne);var ot=it?it.evaluate(Ne):1,at=ne(tt,nt,rt,ot);if(at)throw new ue(at);return new Wt(tt/255*ot,nt/255*ot,rt/255*ot,ot)}function Ir(Ne,et){return Ne in et}function zr(Ne,et){var tt=et[Ne];return void 0===tt?null:tt}function Cr(Ne){return{type:Ne}}function Mr(Ne){return{result:"success",value:Ne}}function Er(Ne){return{result:"error",value:Ne}}function Tr(Ne){return"data-driven"===Ne["property-type"]||"cross-faded-data-driven"===Ne["property-type"]}function Pr(Ne){return!!Ne.expression&&Ne.expression.parameters.indexOf("zoom")>-1}function Br(Ne){return!!Ne.expression&&Ne.expression.interpolated}function Vr(Ne){return Ne instanceof Number?"number":Ne instanceof String?"string":Ne instanceof Boolean?"boolean":Array.isArray(Ne)?"array":null===Ne?"null":typeof Ne}function Fr(Ne){return"object"==typeof Ne&&null!==Ne&&!Array.isArray(Ne)}function Dr(Ne){return Ne}function Lr(Ne,et,tt){return void 0!==Ne?Ne:void 0!==et?et:void 0!==tt?tt:void 0}function Rr(Ne,et,tt,nt,rt){return Lr(typeof tt===rt?nt[tt]:void 0,Ne.default,et.default)}function Or(Ne,et,tt){if("number"!==Vr(tt))return Lr(Ne.default,et.default);var nt=Ne.stops.length;if(1===nt)return Ne.stops[0][1];if(tt<=Ne.stops[0][0])return Ne.stops[0][1];if(tt>=Ne.stops[nt-1][0])return Ne.stops[nt-1][1];var rt=Ue(Ne.stops.map((function(Ne){return Ne[0]})),tt);return Ne.stops[rt][1]}function Ur(Ne,et,tt){var nt=void 0!==Ne.base?Ne.base:1;if("number"!==Vr(tt))return Lr(Ne.default,et.default);var rt=Ne.stops.length;if(1===rt)return Ne.stops[0][1];if(tt<=Ne.stops[0][0])return Ne.stops[0][1];if(tt>=Ne.stops[rt-1][0])return Ne.stops[rt-1][1];var it=Ue(Ne.stops.map((function(Ne){return Ne[0]})),tt),ot=function(Ne,et,tt,nt){var rt=nt-tt,it=Ne-tt;return 0===rt?0:1===et?it/rt:(Math.pow(et,it)-1)/(Math.pow(et,rt)-1)}(tt,nt,Ne.stops[it][0],Ne.stops[it+1][0]),at=Ne.stops[it][1],st=Ne.stops[it+1][1],ct=wa[et.type]||Dr;if(Ne.colorSpace&&"rgb"!==Ne.colorSpace){var pt=us[Ne.colorSpace];ct=function(Ne,et){return pt.reverse(pt.interpolate(pt.forward(Ne),pt.forward(et),ot))}}return"function"==typeof at.evaluate?{evaluate:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt=at.evaluate.apply(void 0,Ne),nt=st.evaluate.apply(void 0,Ne);if(void 0!==tt&&void 0!==nt)return ct(tt,nt,ot)}}:ct(at,st,ot)}function jr(Ne,et,tt){return"color"===et.type?tt=Wt.parse(tt):"formatted"===et.type?tt=ee.fromString(tt.toString()):"resolvedImage"===et.type?tt=re.fromString(tt.toString()):Vr(tt)===et.type||"enum"===et.type&&et.values[tt]||(tt=void 0),Lr(tt,Ne.default,et.default)}ve.register(Cs,{error:[{kind:"error"},[po],function(Ne,et){throw new ue(et[0].evaluate(Ne))}],typeof:[po,[na],function(Ne,et){return Zt(ae(et[0].evaluate(Ne)))}],"to-rgba":[Gt(uo,4),[So],function(Ne,et){return et[0].evaluate(Ne).toArray()}],rgb:[So,[uo,uo,uo],kr],rgba:[So,[uo,uo,uo,uo],kr],has:{type:vo,overloads:[[[po],function(Ne,et){return Ir(et[0].evaluate(Ne),Ne.properties())}],[[po,ta],function(Ne,et){var tt=et[1];return Ir(et[0].evaluate(Ne),tt.evaluate(Ne))}]]},get:{type:na,overloads:[[[po],function(Ne,et){return zr(et[0].evaluate(Ne),Ne.properties())}],[[po,ta],function(Ne,et){var tt=et[1];return zr(et[0].evaluate(Ne),tt.evaluate(Ne))}]]},"feature-state":[na,[po],function(Ne,et){return zr(et[0].evaluate(Ne),Ne.featureState||{})}],properties:[ta,[],function(Ne){return Ne.properties()}],"geometry-type":[po,[],function(Ne){return Ne.geometryType()}],id:[na,[],function(Ne){return Ne.id()}],zoom:[uo,[],function(Ne){return Ne.globals.zoom}],"heatmap-density":[uo,[],function(Ne){return Ne.globals.heatmapDensity||0}],"line-progress":[uo,[],function(Ne){return Ne.globals.lineProgress||0}],accumulated:[na,[],function(Ne){return void 0===Ne.globals.accumulated?null:Ne.globals.accumulated}],"+":[uo,Cr(uo),function(Ne,et){for(var tt=0,nt=0,rt=et;nt<rt.length;nt+=1)tt+=rt[nt].evaluate(Ne);return tt}],"*":[uo,Cr(uo),function(Ne,et){for(var tt=1,nt=0,rt=et;nt<rt.length;nt+=1)tt*=rt[nt].evaluate(Ne);return tt}],"-":{type:uo,overloads:[[[uo,uo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)-tt.evaluate(Ne)}],[[uo],function(Ne,et){return-et[0].evaluate(Ne)}]]},"/":[uo,[uo,uo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)/tt.evaluate(Ne)}],"%":[uo,[uo,uo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)%tt.evaluate(Ne)}],ln2:[uo,[],function(){return Math.LN2}],pi:[uo,[],function(){return Math.PI}],e:[uo,[],function(){return Math.E}],"^":[uo,[uo,uo],function(Ne,et){var tt=et[1];return Math.pow(et[0].evaluate(Ne),tt.evaluate(Ne))}],sqrt:[uo,[uo],function(Ne,et){return Math.sqrt(et[0].evaluate(Ne))}],log10:[uo,[uo],function(Ne,et){return Math.log(et[0].evaluate(Ne))/Math.LN10}],ln:[uo,[uo],function(Ne,et){return Math.log(et[0].evaluate(Ne))}],log2:[uo,[uo],function(Ne,et){return Math.log(et[0].evaluate(Ne))/Math.LN2}],sin:[uo,[uo],function(Ne,et){return Math.sin(et[0].evaluate(Ne))}],cos:[uo,[uo],function(Ne,et){return Math.cos(et[0].evaluate(Ne))}],tan:[uo,[uo],function(Ne,et){return Math.tan(et[0].evaluate(Ne))}],asin:[uo,[uo],function(Ne,et){return Math.asin(et[0].evaluate(Ne))}],acos:[uo,[uo],function(Ne,et){return Math.acos(et[0].evaluate(Ne))}],atan:[uo,[uo],function(Ne,et){return Math.atan(et[0].evaluate(Ne))}],min:[uo,Cr(uo),function(Ne,et){return Math.min.apply(Math,et.map((function(et){return et.evaluate(Ne)})))}],max:[uo,Cr(uo),function(Ne,et){return Math.max.apply(Math,et.map((function(et){return et.evaluate(Ne)})))}],abs:[uo,[uo],function(Ne,et){return Math.abs(et[0].evaluate(Ne))}],round:[uo,[uo],function(Ne,et){var tt=et[0].evaluate(Ne);return tt<0?-Math.round(-tt):Math.round(tt)}],floor:[uo,[uo],function(Ne,et){return Math.floor(et[0].evaluate(Ne))}],ceil:[uo,[uo],function(Ne,et){return Math.ceil(et[0].evaluate(Ne))}],"filter-==":[vo,[po,na],function(Ne,et){var tt=et[0],nt=et[1];return Ne.properties()[tt.value]===nt.value}],"filter-id-==":[vo,[na],function(Ne,et){var tt=et[0];return Ne.id()===tt.value}],"filter-type-==":[vo,[po],function(Ne,et){var tt=et[0];return Ne.geometryType()===tt.value}],"filter-<":[vo,[po,na],function(Ne,et){var tt=et[0],nt=et[1],rt=Ne.properties()[tt.value],it=nt.value;return typeof rt==typeof it&&rt<it}],"filter-id-<":[vo,[na],function(Ne,et){var tt=et[0],nt=Ne.id(),rt=tt.value;return typeof nt==typeof rt&&nt<rt}],"filter->":[vo,[po,na],function(Ne,et){var tt=et[0],nt=et[1],rt=Ne.properties()[tt.value],it=nt.value;return typeof rt==typeof it&&rt>it}],"filter-id->":[vo,[na],function(Ne,et){var tt=et[0],nt=Ne.id(),rt=tt.value;return typeof nt==typeof rt&&nt>rt}],"filter-<=":[vo,[po,na],function(Ne,et){var tt=et[0],nt=et[1],rt=Ne.properties()[tt.value],it=nt.value;return typeof rt==typeof it&&rt<=it}],"filter-id-<=":[vo,[na],function(Ne,et){var tt=et[0],nt=Ne.id(),rt=tt.value;return typeof nt==typeof rt&&nt<=rt}],"filter->=":[vo,[po,na],function(Ne,et){var tt=et[0],nt=et[1],rt=Ne.properties()[tt.value],it=nt.value;return typeof rt==typeof it&&rt>=it}],"filter-id->=":[vo,[na],function(Ne,et){var tt=et[0],nt=Ne.id(),rt=tt.value;return typeof nt==typeof rt&&nt>=rt}],"filter-has":[vo,[na],function(Ne,et){return et[0].value in Ne.properties()}],"filter-has-id":[vo,[],function(Ne){return null!==Ne.id()&&void 0!==Ne.id()}],"filter-type-in":[vo,[Gt(po)],function(Ne,et){return et[0].value.indexOf(Ne.geometryType())>=0}],"filter-id-in":[vo,[Gt(na)],function(Ne,et){return et[0].value.indexOf(Ne.id())>=0}],"filter-in-small":[vo,[po,Gt(na)],function(Ne,et){var tt=et[0];return et[1].value.indexOf(Ne.properties()[tt.value])>=0}],"filter-in-large":[vo,[po,Gt(na)],function(Ne,et){var tt=et[0],nt=et[1];return function(Ne,et,tt,nt){for(;tt<=nt;){var rt=tt+nt>>1;if(et[rt]===Ne)return!0;et[rt]>Ne?nt=rt-1:tt=rt+1}return!1}(Ne.properties()[tt.value],nt.value,0,nt.value.length-1)}],all:{type:vo,overloads:[[[vo,vo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)&&tt.evaluate(Ne)}],[Cr(vo),function(Ne,et){for(var tt=0,nt=et;tt<nt.length;tt+=1)if(!nt[tt].evaluate(Ne))return!1;return!0}]]},any:{type:vo,overloads:[[[vo,vo],function(Ne,et){var tt=et[1];return et[0].evaluate(Ne)||tt.evaluate(Ne)}],[Cr(vo),function(Ne,et){for(var tt=0,nt=et;tt<nt.length;tt+=1)if(nt[tt].evaluate(Ne))return!0;return!1}]]},"!":[vo,[vo],function(Ne,et){return!et[0].evaluate(Ne)}],"is-supported-script":[vo,[po],function(Ne,et){var tt=Ne.globals&&Ne.globals.isSupportedScript;return!tt||tt(et[0].evaluate(Ne))}],upcase:[po,[po],function(Ne,et){return et[0].evaluate(Ne).toUpperCase()}],downcase:[po,[po],function(Ne,et){return et[0].evaluate(Ne).toLowerCase()}],concat:[po,Cr(na),function(Ne,et){return et.map((function(et){return oe(et.evaluate(Ne))})).join("")}],"resolved-locale":[po,[ia],function(Ne,et){return et[0].evaluate(Ne).resolvedLocale()}]});var qr=function(Ne,et){this.expression=Ne,this._warningHistory={},this._evaluator=new me,this._defaultValue=et?function(Ne){return"color"===Ne.type&&Fr(Ne.default)?new Wt(0,0,0,0):"color"===Ne.type?Wt.parse(Ne.default)||null:void 0===Ne.default?null:Ne.default}(et):null,this._enumValues=et&&"enum"===et.type?et.values:null};function Nr(Ne){return Array.isArray(Ne)&&Ne.length>0&&"string"==typeof Ne[0]&&Ne[0]in Cs}function Kr(Ne,et){var tt=new Oe(Cs,[],et?function(Ne){var et={color:So,string:po,number:uo,enum:po,boolean:vo,formatted:sa,resolvedImage:la};return"array"===Ne.type?Gt(et[Ne.value]||na,Ne.length):et[Ne.type]}(et):void 0),nt=tt.parse(Ne,void 0,void 0,void 0,et&&"string"===et.type?{typeAnnotation:"coerce"}:void 0);return nt?Mr(new qr(nt,et)):Er(tt.errors)}qr.prototype.evaluateWithoutErrorHandling=function(Ne,et,tt,nt,rt,it){return this._evaluator.globals=Ne,this._evaluator.feature=et,this._evaluator.featureState=tt,this._evaluator.canonical=nt,this._evaluator.availableImages=rt||null,this._evaluator.formattedSection=it,this.expression.evaluate(this._evaluator)},qr.prototype.evaluate=function(Ne,et,tt,nt,rt,it){this._evaluator.globals=Ne,this._evaluator.feature=et||null,this._evaluator.featureState=tt||null,this._evaluator.canonical=nt,this._evaluator.availableImages=rt||null,this._evaluator.formattedSection=it||null;try{var ot=this.expression.evaluate(this._evaluator);if(null==ot||"number"==typeof ot&&ot!=ot)return this._defaultValue;if(this._enumValues&&!(ot in this._enumValues))throw new ue("Expected value to be one of "+Object.keys(this._enumValues).map((function(Ne){return JSON.stringify(Ne)})).join(", ")+", but found "+JSON.stringify(ot)+" instead.");return ot}catch(Ne){return this._warningHistory[Ne.message]||(this._warningHistory[Ne.message]=!0,"undefined"!=typeof console&&console.warn(Ne.message)),this._defaultValue}};var Gr=function(Ne,et){this.kind=Ne,this._styleExpression=et,this.isStateDependent="constant"!==Ne&&!De(et.expression)};Gr.prototype.evaluateWithoutErrorHandling=function(Ne,et,tt,nt,rt,it){return this._styleExpression.evaluateWithoutErrorHandling(Ne,et,tt,nt,rt,it)},Gr.prototype.evaluate=function(Ne,et,tt,nt,rt,it){return this._styleExpression.evaluate(Ne,et,tt,nt,rt,it)};var Zr=function(Ne,et,tt,nt){this.kind=Ne,this.zoomStops=tt,this._styleExpression=et,this.isStateDependent="camera"!==Ne&&!De(et.expression),this.interpolationType=nt};function Xr(Ne,et){if("error"===(Ne=Kr(Ne,et)).result)return Ne;var tt=Ne.value.expression,nt=Fe(tt);if(!nt&&!Tr(et))return Er([new ii("","data expressions not supported")]);var rt=Le(tt,["zoom"]);if(!rt&&!Pr(et))return Er([new ii("","zoom expressions not supported")]);var it=function t(Ne){var et=null;if(Ne instanceof or)et=t(Ne.result);else if(Ne instanceof ar)for(var tt=0,nt=Ne.args;tt<nt.length&&!(et=t(nt[tt]));tt+=1);else(Ne instanceof je||Ne instanceof nr)&&Ne.input instanceof ve&&"zoom"===Ne.input.name&&(et=Ne);return et instanceof ii||Ne.eachChild((function(Ne){var tt=t(Ne);tt instanceof ii?et=tt:!et&&tt?et=new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):et&&tt&&et!==tt&&(et=new ii("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),et}(tt);return it||rt?it instanceof ii?Er([it]):it instanceof nr&&!Br(et)?Er([new ii("",'"interpolate" expressions cannot be used with this property')]):Mr(it?new Zr(nt?"camera":"composite",Ne.value,it.labels,it instanceof nr?it.interpolation:void 0):new Gr(nt?"constant":"source",Ne.value)):Er([new ii("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zr.prototype.evaluateWithoutErrorHandling=function(Ne,et,tt,nt,rt,it){return this._styleExpression.evaluateWithoutErrorHandling(Ne,et,tt,nt,rt,it)},Zr.prototype.evaluate=function(Ne,et,tt,nt,rt,it){return this._styleExpression.evaluate(Ne,et,tt,nt,rt,it)},Zr.prototype.interpolationFactor=function(Ne,et,tt){return this.interpolationType?nr.interpolationFactor(this.interpolationType,Ne,et,tt):0};var Jr=function(Ne,et){this._parameters=Ne,this._specification=et,Et(this,function t(Ne,et){var tt,nt,rt,it="color"===et.type,ot=Ne.stops&&"object"==typeof Ne.stops[0][0],at=ot||!(ot||void 0!==Ne.property),st=Ne.type||(Br(et)?"exponential":"interval");if(it&&((Ne=Et({},Ne)).stops&&(Ne.stops=Ne.stops.map((function(Ne){return[Ne[0],Wt.parse(Ne[1])]}))),Ne.default=Wt.parse(Ne.default?Ne.default:et.default)),Ne.colorSpace&&"rgb"!==Ne.colorSpace&&!us[Ne.colorSpace])throw new Error("Unknown color space: "+Ne.colorSpace);if("exponential"===st)tt=Ur;else if("interval"===st)tt=Or;else if("categorical"===st){tt=Rr,nt=Object.create(null);for(var ct=0,pt=Ne.stops;ct<pt.length;ct+=1){var dt=pt[ct];nt[dt[0]]=dt[1]}rt=typeof Ne.stops[0][0]}else{if("identity"!==st)throw new Error('Unknown function type "'+st+'"');tt=jr}if(ot){for(var ft={},mt=[],yt=0;yt<Ne.stops.length;yt++){var vt=Ne.stops[yt],Ot=vt[0].zoom;void 0===ft[Ot]&&(ft[Ot]={zoom:Ot,type:Ne.type,property:Ne.property,default:Ne.default,stops:[]},mt.push(Ot)),ft[Ot].stops.push([vt[0].value,vt[1]])}for(var Dt=[],Rt=0,Bt=mt;Rt<Bt.length;Rt+=1){var rn=Bt[Rt];Dt.push([ft[rn].zoom,t(ft[rn],et)])}var vn={name:"linear"};return{kind:"composite",interpolationType:vn,interpolationFactor:nr.interpolationFactor.bind(void 0,vn),zoomStops:Dt.map((function(Ne){return Ne[0]})),evaluate:function(tt,nt){var rt=tt.zoom;return Ur({stops:Dt,base:Ne.base},et,rt).evaluate(rt,nt)}}}if(at){var bn="exponential"===st?{name:"exponential",base:void 0!==Ne.base?Ne.base:1}:null;return{kind:"camera",interpolationType:bn,interpolationFactor:nr.interpolationFactor.bind(void 0,bn),zoomStops:Ne.stops.map((function(Ne){return Ne[0]})),evaluate:function(it){return tt(Ne,et,it.zoom,nt,rt)}}}return{kind:"source",evaluate:function(it,ot){var at=ot&&ot.properties?ot.properties[Ne.property]:void 0;return void 0===at?Lr(Ne.default,et.default):tt(Ne,et,at,nt,rt)}}}(this._parameters,this._specification))};function Hr(Ne){var et=Ne.key,tt=Ne.value,nt=Ne.valueSpec||{},rt=Ne.objectElementValidators||{},it=Ne.style,ot=Ne.styleSpec,at=[],st=Vr(tt);if("object"!==st)return[new Ct(et,tt,"object expected, "+st+" found")];for(var ct in tt){var pt=ct.split(".")[0],dt=nt[pt]||nt["*"],ft=void 0;if(rt[pt])ft=rt[pt];else if(nt[pt])ft=wn;else if(rt["*"])ft=rt["*"];else{if(!nt["*"]){at.push(new Ct(et,tt[ct],'unknown property "'+ct+'"'));continue}ft=wn}at=at.concat(ft({key:(et?et+".":et)+ct,value:tt[ct],valueSpec:dt,style:it,styleSpec:ot,object:tt,objectKey:ct},tt))}for(var mt in nt)rt[mt]||nt[mt].required&&void 0===nt[mt].default&&void 0===tt[mt]&&at.push(new Ct(et,tt,'missing required property "'+mt+'"'));return at}function Yr(Ne){var et=Ne.value,tt=Ne.valueSpec,nt=Ne.style,rt=Ne.styleSpec,it=Ne.key,ot=Ne.arrayElementValidator||wn;if("array"!==Vr(et))return[new Ct(it,et,"array expected, "+Vr(et)+" found")];if(tt.length&&et.length!==tt.length)return[new Ct(it,et,"array length "+tt.length+" expected, length "+et.length+" found")];if(tt["min-length"]&&et.length<tt["min-length"])return[new Ct(it,et,"array length at least "+tt["min-length"]+" expected, length "+et.length+" found")];var at={type:tt.value,values:tt.values};rt.$version<7&&(at.function=tt.function),"object"===Vr(tt.value)&&(at=tt.value);for(var st=[],ct=0;ct<et.length;ct++)st=st.concat(ot({array:et,arrayIndex:ct,value:et[ct],valueSpec:at,style:nt,styleSpec:rt,key:it+"["+ct+"]"}));return st}function $r(Ne){var et=Ne.key,tt=Ne.value,nt=Ne.valueSpec,rt=Vr(tt);return"number"===rt&&tt!=tt&&(rt="NaN"),"number"!==rt?[new Ct(et,tt,"number expected, "+rt+" found")]:"minimum"in nt&&tt<nt.minimum?[new Ct(et,tt,tt+" is less than the minimum value "+nt.minimum)]:"maximum"in nt&&tt>nt.maximum?[new Ct(et,tt,tt+" is greater than the maximum value "+nt.maximum)]:[]}function Wr(Ne){var et,tt,nt,rt=Ne.valueSpec,it=Tt(Ne.value.type),ot={},at="categorical"!==it&&void 0===Ne.value.property,st=!at,ct="array"===Vr(Ne.value.stops)&&"array"===Vr(Ne.value.stops[0])&&"object"===Vr(Ne.value.stops[0][0]),pt=Hr({key:Ne.key,value:Ne.value,valueSpec:Ne.styleSpec.function,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{stops:function(Ne){if("identity"===it)return[new Ct(Ne.key,Ne.value,'identity function may not have a "stops" property')];var et=[],tt=Ne.value;return et=et.concat(Yr({key:Ne.key,value:tt,valueSpec:Ne.valueSpec,style:Ne.style,styleSpec:Ne.styleSpec,arrayElementValidator:c})),"array"===Vr(tt)&&0===tt.length&&et.push(new Ct(Ne.key,tt,"array must have at least one stop")),et},default:function(Ne){return wn({key:Ne.key,value:Ne.value,valueSpec:rt,style:Ne.style,styleSpec:Ne.styleSpec})}}});return"identity"===it&&at&&pt.push(new Ct(Ne.key,Ne.value,'missing required property "property"')),"identity"===it||Ne.value.stops||pt.push(new Ct(Ne.key,Ne.value,'missing required property "stops"')),"exponential"===it&&Ne.valueSpec.expression&&!Br(Ne.valueSpec)&&pt.push(new Ct(Ne.key,Ne.value,"exponential functions not supported")),Ne.styleSpec.$version>=8&&(st&&!Tr(Ne.valueSpec)?pt.push(new Ct(Ne.key,Ne.value,"property functions not supported")):at&&!Pr(Ne.valueSpec)&&pt.push(new Ct(Ne.key,Ne.value,"zoom functions not supported"))),"categorical"!==it&&!ct||void 0!==Ne.value.property||pt.push(new Ct(Ne.key,Ne.value,'"property" property is required')),pt;function c(Ne){var et=[],it=Ne.value,at=Ne.key;if("array"!==Vr(it))return[new Ct(at,it,"array expected, "+Vr(it)+" found")];if(2!==it.length)return[new Ct(at,it,"array length 2 expected, length "+it.length+" found")];if(ct){if("object"!==Vr(it[0]))return[new Ct(at,it,"object expected, "+Vr(it[0])+" found")];if(void 0===it[0].zoom)return[new Ct(at,it,"object stop key must have zoom")];if(void 0===it[0].value)return[new Ct(at,it,"object stop key must have value")];if(nt&&nt>Tt(it[0].zoom))return[new Ct(at,it[0].zoom,"stop zoom values must appear in ascending order")];Tt(it[0].zoom)!==nt&&(nt=Tt(it[0].zoom),tt=void 0,ot={}),et=et.concat(Hr({key:at+"[0]",value:it[0],valueSpec:{zoom:{}},style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{zoom:$r,value:h}}))}else et=et.concat(h({key:at+"[0]",value:it[0],valueSpec:{},style:Ne.style,styleSpec:Ne.styleSpec},it));return Nr(Pt(it[1]))?et.concat([new Ct(at+"[1]",it[1],"expressions are not allowed in function stops.")]):et.concat(wn({key:at+"[1]",value:it[1],valueSpec:rt,style:Ne.style,styleSpec:Ne.styleSpec}))}function h(Ne,nt){var at=Vr(Ne.value),st=Tt(Ne.value),ct=null!==Ne.value?Ne.value:nt;if(et){if(at!==et)return[new Ct(Ne.key,ct,at+" stop domain type must match previous stop domain type "+et)]}else et=at;if("number"!==at&&"string"!==at&&"boolean"!==at)return[new Ct(Ne.key,ct,"stop domain value must be a number, string, or boolean")];if("number"!==at&&"categorical"!==it){var pt="number expected, "+at+" found";return Tr(rt)&&void 0===it&&(pt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ct(Ne.key,ct,pt)]}return"categorical"!==it||"number"!==at||isFinite(st)&&Math.floor(st)===st?"categorical"!==it&&"number"===at&&void 0!==tt&&st<tt?[new Ct(Ne.key,ct,"stop domain values must appear in ascending order")]:(tt=st,"categorical"===it&&st in ot?[new Ct(Ne.key,ct,"stop domain values must be unique")]:(ot[st]=!0,[])):[new Ct(Ne.key,ct,"integer expected, found "+st)]}}function Qr(Ne){var et=("property"===Ne.expressionContext?Xr:Kr)(Pt(Ne.value),Ne.valueSpec);if("error"===et.result)return et.value.map((function(et){return new Ct(""+Ne.key+et.key,Ne.value,et.message)}));var tt=et.value.expression||et.value._styleExpression.expression;if("property"===Ne.expressionContext&&"text-font"===Ne.propertyKey&&!tt.outputDefined())return[new Ct(Ne.key,Ne.value,'Invalid data expression for "'+Ne.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===Ne.expressionContext&&"layout"===Ne.propertyType&&!De(tt))return[new Ct(Ne.key,Ne.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===Ne.expressionContext&&!De(tt))return[new Ct(Ne.key,Ne.value,'"feature-state" data expressions are not supported with filters.')];if(Ne.expressionContext&&0===Ne.expressionContext.indexOf("cluster")){if(!Le(tt,["zoom","feature-state"]))return[new Ct(Ne.key,Ne.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===Ne.expressionContext&&!Fe(tt))return[new Ct(Ne.key,Ne.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tn(Ne){var et=Ne.key,tt=Ne.value,nt=Ne.valueSpec,rt=[];return Array.isArray(nt.values)?-1===nt.values.indexOf(Tt(tt))&&rt.push(new Ct(et,tt,"expected one of ["+nt.values.join(", ")+"], "+JSON.stringify(tt)+" found")):-1===Object.keys(nt.values).indexOf(Tt(tt))&&rt.push(new Ct(et,tt,"expected one of ["+Object.keys(nt.values).join(", ")+"], "+JSON.stringify(tt)+" found")),rt}function en(Ne){if(!0===Ne||!1===Ne)return!0;if(!Array.isArray(Ne)||0===Ne.length)return!1;switch(Ne[0]){case"has":return Ne.length>=2&&"$id"!==Ne[1]&&"$type"!==Ne[1];case"in":return Ne.length>=3&&("string"!=typeof Ne[1]||Array.isArray(Ne[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==Ne.length||Array.isArray(Ne[1])||Array.isArray(Ne[2]);case"any":case"all":for(var et=0,tt=Ne.slice(1);et<tt.length;et+=1){var nt=tt[et];if(!en(nt)&&"boolean"!=typeof nt)return!1}return!0;default:return!0}}Jr.deserialize=function(Ne){return new Jr(Ne._parameters,Ne._specification)},Jr.serialize=function(Ne){return{_parameters:Ne._parameters,_specification:Ne._specification}};var Ps={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nn(Ne){if(null==Ne)return{filter:function(){return!0},needGeometry:!1};en(Ne)||(Ne=on(Ne));var et=Kr(Ne,Ps);if("error"===et.result)throw new Error(et.value.map((function(Ne){return Ne.key+": "+Ne.message})).join(", "));return{filter:function(Ne,tt,nt){return et.value.evaluate(Ne,tt,{},nt)},needGeometry:function t(Ne){if(!Array.isArray(Ne))return!1;if("within"===Ne[0])return!0;for(var et=1;et<Ne.length;et++)if(t(Ne[et]))return!0;return!1}(Ne)}}function an(Ne,et){return Ne<et?-1:Ne>et?1:0}function on(Ne){if(!Ne)return!0;var et,tt=Ne[0];return Ne.length<=1?"any"!==tt:"=="===tt?sn(Ne[1],Ne[2],"=="):"!="===tt?pn(sn(Ne[1],Ne[2],"==")):"<"===tt||">"===tt||"<="===tt||">="===tt?sn(Ne[1],Ne[2],tt):"any"===tt?(et=Ne.slice(1),["any"].concat(et.map(on))):"all"===tt?["all"].concat(Ne.slice(1).map(on)):"none"===tt?["all"].concat(Ne.slice(1).map(on).map(pn)):"in"===tt?un(Ne[1],Ne.slice(2)):"!in"===tt?pn(un(Ne[1],Ne.slice(2))):"has"===tt?ln(Ne[1]):"!has"===tt?pn(ln(Ne[1])):"within"!==tt||Ne}function sn(Ne,et,tt){switch(Ne){case"$type":return["filter-type-"+tt,et];case"$id":return["filter-id-"+tt,et];default:return["filter-"+tt,Ne,et]}}function un(Ne,et){if(0===et.length)return!1;switch(Ne){case"$type":return["filter-type-in",["literal",et]];case"$id":return["filter-id-in",["literal",et]];default:return et.length>200&&!et.some((function(Ne){return typeof Ne!=typeof et[0]}))?["filter-in-large",Ne,["literal",et.sort(an)]]:["filter-in-small",Ne,["literal",et]]}}function ln(Ne){switch(Ne){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",Ne]}}function pn(Ne){return["!",Ne]}function cn(Ne){return en(Pt(Ne.value))?Qr(Et({},Ne,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(Ne){var et=Ne.value,tt=Ne.key;if("array"!==Vr(et))return[new Ct(tt,et,"array expected, "+Vr(et)+" found")];var nt,rt=Ne.styleSpec,it=[];if(et.length<1)return[new Ct(tt,et,"filter array must have at least 1 element")];switch(it=it.concat(tn({key:tt+"[0]",value:et[0],valueSpec:rt.filter_operator,style:Ne.style,styleSpec:Ne.styleSpec})),Tt(et[0])){case"<":case"<=":case">":case">=":et.length>=2&&"$type"===Tt(et[1])&&it.push(new Ct(tt,et,'"$type" cannot be use with operator "'+et[0]+'"'));case"==":case"!=":3!==et.length&&it.push(new Ct(tt,et,'filter array for operator "'+et[0]+'" must have 3 elements'));case"in":case"!in":et.length>=2&&"string"!==(nt=Vr(et[1]))&&it.push(new Ct(tt+"[1]",et[1],"string expected, "+nt+" found"));for(var ot=2;ot<et.length;ot++)nt=Vr(et[ot]),"$type"===Tt(et[1])?it=it.concat(tn({key:tt+"["+ot+"]",value:et[ot],valueSpec:rt.geometry_type,style:Ne.style,styleSpec:Ne.styleSpec})):"string"!==nt&&"number"!==nt&&"boolean"!==nt&&it.push(new Ct(tt+"["+ot+"]",et[ot],"string, number, or boolean expected, "+nt+" found"));break;case"any":case"all":case"none":for(var at=1;at<et.length;at++)it=it.concat(t({key:tt+"["+at+"]",value:et[at],style:Ne.style,styleSpec:Ne.styleSpec}));break;case"has":case"!has":nt=Vr(et[1]),2!==et.length?it.push(new Ct(tt,et,'filter array for "'+et[0]+'" operator must have 2 elements')):"string"!==nt&&it.push(new Ct(tt+"[1]",et[1],"string expected, "+nt+" found"));break;case"within":nt=Vr(et[1]),2!==et.length?it.push(new Ct(tt,et,'filter array for "'+et[0]+'" operator must have 2 elements')):"object"!==nt&&it.push(new Ct(tt+"[1]",et[1],"object expected, "+nt+" found"))}return it}(Ne)}function hn(Ne,et){var tt=Ne.key,nt=Ne.style,rt=Ne.styleSpec,it=Ne.value,ot=Ne.objectKey,at=rt[et+"_"+Ne.layerType];if(!at)return[];var st=ot.match(/^(.*)-transition$/);if("paint"===et&&st&&at[st[1]]&&at[st[1]].transition)return wn({key:tt,value:it,valueSpec:rt.transition,style:nt,styleSpec:rt});var ct,pt=Ne.valueSpec||at[ot];if(!pt)return[new Ct(tt,it,'unknown property "'+ot+'"')];if("string"===Vr(it)&&Tr(pt)&&!pt.tokens&&(ct=/^{([^}]+)}$/.exec(it)))return[new Ct(tt,it,'"'+ot+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(ct[1])+" }`.")];var dt=[];return"symbol"===Ne.layerType&&("text-field"===ot&&nt&&!nt.glyphs&&dt.push(new Ct(tt,it,'use of "text-field" requires a style "glyphs" property')),"text-font"===ot&&Fr(Pt(it))&&"identity"===Tt(it.type)&&dt.push(new Ct(tt,it,'"text-font" does not support identity functions'))),dt.concat(wn({key:Ne.key,value:it,valueSpec:pt,style:nt,styleSpec:rt,expressionContext:"property",propertyType:et,propertyKey:ot}))}function fn(Ne){return hn(Ne,"paint")}function yn(Ne){return hn(Ne,"layout")}function dn(Ne){var et=[],tt=Ne.value,nt=Ne.key,rt=Ne.style,it=Ne.styleSpec;tt.type||tt.ref||et.push(new Ct(nt,tt,'either "type" or "ref" is required'));var ot,at=Tt(tt.type),st=Tt(tt.ref);if(tt.id)for(var ct=Tt(tt.id),pt=0;pt<Ne.arrayIndex;pt++){var dt=rt.layers[pt];Tt(dt.id)===ct&&et.push(new Ct(nt,tt.id,'duplicate layer id "'+tt.id+'", previously used at line '+dt.id.__line__))}if("ref"in tt)["type","source","source-layer","filter","layout"].forEach((function(Ne){Ne in tt&&et.push(new Ct(nt,tt[Ne],'"'+Ne+'" is prohibited for ref layers'))})),rt.layers.forEach((function(Ne){Tt(Ne.id)===st&&(ot=Ne)})),ot?ot.ref?et.push(new Ct(nt,tt.ref,"ref cannot reference another ref layer")):at=Tt(ot.type):et.push(new Ct(nt,tt.ref,'ref layer "'+st+'" not found'));else if("background"!==at)if(tt.source){var ft=rt.sources&&rt.sources[tt.source],mt=ft&&Tt(ft.type);ft?"vector"===mt&&"raster"===at?et.push(new Ct(nt,tt.source,'layer "'+tt.id+'" requires a raster source')):"raster"===mt&&"raster"!==at?et.push(new Ct(nt,tt.source,'layer "'+tt.id+'" requires a vector source')):"vector"!==mt||tt["source-layer"]?"raster-dem"===mt&&"hillshade"!==at?et.push(new Ct(nt,tt.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==at||!tt.paint||!tt.paint["line-gradient"]||"geojson"===mt&&ft.lineMetrics||et.push(new Ct(nt,tt,'layer "'+tt.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):et.push(new Ct(nt,tt,'layer "'+tt.id+'" must specify a "source-layer"')):et.push(new Ct(nt,tt.source,'source "'+tt.source+'" not found'))}else et.push(new Ct(nt,tt,'missing required property "source"'));return et=et.concat(Hr({key:nt,value:tt,valueSpec:it.layer,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return wn({key:nt+".type",value:tt.type,valueSpec:it.layer.type,style:Ne.style,styleSpec:Ne.styleSpec,object:tt,objectKey:"type"})},filter:cn,layout:function(Ne){return Hr({layer:tt,key:Ne.key,value:Ne.value,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{"*":function(Ne){return yn(Et({layerType:at},Ne))}}})},paint:function(Ne){return Hr({layer:tt,key:Ne.key,value:Ne.value,style:Ne.style,styleSpec:Ne.styleSpec,objectElementValidators:{"*":function(Ne){return fn(Et({layerType:at},Ne))}}})}}}))}function mn(Ne){var et=Ne.value,tt=Ne.key,nt=Vr(et);return"string"!==nt?[new Ct(tt,et,"string expected, "+nt+" found")]:[]}var As={promoteId:function(Ne){var et=Ne.key,tt=Ne.value;if("string"===Vr(tt))return mn({key:et,value:tt});var nt=[];for(var rt in tt)nt.push.apply(nt,mn({key:et+"."+rt,value:tt[rt]}));return nt}};function gn(Ne){var et=Ne.value,tt=Ne.key,nt=Ne.styleSpec,rt=Ne.style;if(!et.type)return[new Ct(tt,et,'"type" is required')];var it,ot=Tt(et.type);switch(ot){case"vector":case"raster":case"raster-dem":return Hr({key:tt,value:et,valueSpec:nt["source_"+ot.replace("-","_")],style:Ne.style,styleSpec:nt,objectElementValidators:As});case"geojson":if(it=Hr({key:tt,value:et,valueSpec:nt.source_geojson,style:rt,styleSpec:nt,objectElementValidators:As}),et.cluster)for(var at in et.clusterProperties){var st=et.clusterProperties[at],ct=st[0],pt="string"==typeof ct?[ct,["accumulated"],["get",at]]:ct;it.push.apply(it,Qr({key:tt+"."+at+".map",value:st[1],expressionContext:"cluster-map"})),it.push.apply(it,Qr({key:tt+"."+at+".reduce",value:pt,expressionContext:"cluster-reduce"}))}return it;case"video":return Hr({key:tt,value:et,valueSpec:nt.source_video,style:rt,styleSpec:nt});case"image":return Hr({key:tt,value:et,valueSpec:nt.source_image,style:rt,styleSpec:nt});case"canvas":return[new Ct(tt,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tn({key:tt+".type",value:et.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:rt,styleSpec:nt})}}function xn(Ne){var et=Ne.value,tt=Ne.styleSpec,nt=tt.light,rt=Ne.style,it=[],ot=Vr(et);if(void 0===et)return it;if("object"!==ot)return it.concat([new Ct("light",et,"object expected, "+ot+" found")]);for(var at in et){var st=at.match(/^(.*)-transition$/);it=it.concat(st&&nt[st[1]]&&nt[st[1]].transition?wn({key:at,value:et[at],valueSpec:tt.transition,style:rt,styleSpec:tt}):nt[at]?wn({key:at,value:et[at],valueSpec:nt[at],style:rt,styleSpec:tt}):[new Ct(at,et[at],'unknown property "'+at+'"')])}return it}var Ls={"*":function(){return[]},array:Yr,boolean:function(Ne){var et=Ne.value,tt=Ne.key,nt=Vr(et);return"boolean"!==nt?[new Ct(tt,et,"boolean expected, "+nt+" found")]:[]},number:$r,color:function(Ne){var et=Ne.key,tt=Ne.value,nt=Vr(tt);return"string"!==nt?[new Ct(et,tt,"color expected, "+nt+" found")]:null===fa(tt)?[new Ct(et,tt,'color expected, "'+tt+'" found')]:[]},constants:Mt,enum:tn,filter:cn,function:Wr,layer:dn,object:Hr,source:gn,light:xn,string:mn,formatted:function(Ne){return 0===mn(Ne).length?[]:Qr(Ne)},resolvedImage:function(Ne){return 0===mn(Ne).length?[]:Qr(Ne)}};function wn(Ne){var et=Ne.value,tt=Ne.valueSpec,nt=Ne.styleSpec;return tt.expression&&Fr(Tt(et))?Wr(Ne):tt.expression&&Nr(Pt(et))?Qr(Ne):tt.type&&Ls[tt.type]?Ls[tt.type](Ne):Hr(Et({},Ne,{valueSpec:tt.type?nt[tt.type]:tt}))}function _n(Ne){var et=Ne.value,tt=Ne.key,nt=mn(Ne);return nt.length||(-1===et.indexOf("{fontstack}")&&nt.push(new Ct(tt,et,'"glyphs" url must include a "{fontstack}" token')),-1===et.indexOf("{range}")&&nt.push(new Ct(tt,et,'"glyphs" url must include a "{range}" token'))),nt}function An(Ne,et){void 0===et&&(et=Sr);var tt=[];return tt=tt.concat(wn({key:"",value:Ne,valueSpec:et.$root,styleSpec:et,style:Ne,objectElementValidators:{glyphs:_n,"*":function(){return[]}}})),Ne.constants&&(tt=tt.concat(Mt({key:"constants",value:Ne.constants,style:Ne,styleSpec:et}))),Sn(tt)}function Sn(Ne){return[].concat(Ne).sort((function(Ne,et){return Ne.line-et.line}))}function kn(Ne){return function(){for(var et=[],tt=arguments.length;tt--;)et[tt]=arguments[tt];return Sn(Ne.apply(this,et))}}An.source=kn(gn),An.light=kn(xn),An.layer=kn(dn),An.filter=kn(cn),An.paintProperty=kn(fn),An.layoutProperty=kn(yn);var Ms=An,Os=Ms.light,zs=Ms.paintProperty,Rs=Ms.layoutProperty;function En(Ne,et){var tt=!1;if(et&&et.length)for(var nt=0,rt=et;nt<rt.length;nt+=1)Ne.fire(new wr(new Error(rt[nt].message))),tt=!0;return tt}var Fs=Pn;function Pn(Ne,et,tt){var nt=this.cells=[];if(Ne instanceof ArrayBuffer){this.arrayBuffer=Ne;var rt=new Int32Array(this.arrayBuffer);Ne=rt[0],this.d=(et=rt[1])+2*(tt=rt[2]);for(var it=0;it<this.d*this.d;it++){var ot=rt[3+it],at=rt[3+it+1];nt.push(ot===at?null:rt.subarray(ot,at))}var st=rt[3+nt.length+1];this.keys=rt.subarray(rt[3+nt.length],st),this.bboxes=rt.subarray(st),this.insert=this._insertReadonly}else{this.d=et+2*tt;for(var ct=0;ct<this.d*this.d;ct++)nt.push([]);this.keys=[],this.bboxes=[]}this.n=et,this.extent=Ne,this.padding=tt,this.scale=et/Ne,this.uid=0;var pt=tt/et*Ne;this.min=-pt,this.max=Ne+pt}Pn.prototype.insert=function(Ne,et,tt,nt,rt){this._forEachCell(et,tt,nt,rt,this._insertCell,this.uid++),this.keys.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(nt),this.bboxes.push(rt)},Pn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Pn.prototype._insertCell=function(Ne,et,tt,nt,rt,it){this.cells[rt].push(it)},Pn.prototype.query=function(Ne,et,tt,nt,rt){var it=this.min,ot=this.max;if(Ne<=it&&et<=it&&ot<=tt&&ot<=nt&&!rt)return Array.prototype.slice.call(this.keys);var at=[];return this._forEachCell(Ne,et,tt,nt,this._queryCell,at,{},rt),at},Pn.prototype._queryCell=function(Ne,et,tt,nt,rt,it,ot,at){var st=this.cells[rt];if(null!==st)for(var ct=this.keys,pt=this.bboxes,dt=0;dt<st.length;dt++){var ft=st[dt];if(void 0===ot[ft]){var mt=4*ft;(at?at(pt[mt+0],pt[mt+1],pt[mt+2],pt[mt+3]):Ne<=pt[mt+2]&&et<=pt[mt+3]&&tt>=pt[mt+0]&&nt>=pt[mt+1])?(ot[ft]=!0,it.push(ct[ft])):ot[ft]=!1}}},Pn.prototype._forEachCell=function(Ne,et,tt,nt,rt,it,ot,at){for(var st=this._convertToCellCoord(Ne),ct=this._convertToCellCoord(et),pt=this._convertToCellCoord(tt),dt=this._convertToCellCoord(nt),ft=st;ft<=pt;ft++)for(var mt=ct;mt<=dt;mt++){var yt=this.d*mt+ft;if((!at||at(this._convertFromCellCoord(ft),this._convertFromCellCoord(mt),this._convertFromCellCoord(ft+1),this._convertFromCellCoord(mt+1)))&&rt.call(this,Ne,et,tt,nt,yt,it,ot,at))return}},Pn.prototype._convertFromCellCoord=function(Ne){return(Ne-this.padding)/this.scale},Pn.prototype._convertToCellCoord=function(Ne){return Math.max(0,Math.min(this.d-1,Math.floor(Ne*this.scale)+this.padding))},Pn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var Ne=this.cells,et=3+this.cells.length+1+1,tt=0,nt=0;nt<this.cells.length;nt++)tt+=this.cells[nt].length;var rt=new Int32Array(et+tt+this.keys.length+this.bboxes.length);rt[0]=this.extent,rt[1]=this.n,rt[2]=this.padding;for(var it=et,ot=0;ot<Ne.length;ot++){var at=Ne[ot];rt[3+ot]=it,rt.set(at,it),it+=at.length}return rt[3+Ne.length]=it,rt.set(this.keys,it),rt[3+Ne.length+1]=it+=this.keys.length,rt.set(this.bboxes,it),it+=this.bboxes.length,rt.buffer};var Bs=nt.ImageData,js=nt.ImageBitmap,Ns={};function Dn(Ne,et,tt){void 0===tt&&(tt={}),Object.defineProperty(et,"_classRegistryKey",{value:Ne,writeable:!1}),Ns[Ne]={klass:et,omit:tt.omit||[],shallow:tt.shallow||[]}}for(var Vs in Dn("Object",Object),Fs.serialize=function(Ne,et){var tt=Ne.toArrayBuffer();return et&&et.push(tt),{buffer:tt}},Fs.deserialize=function(Ne){return new Fs(Ne.buffer)},Dn("Grid",Fs),Dn("Color",Wt),Dn("Error",Error),Dn("ResolvedImage",re),Dn("StylePropertyFunction",Jr),Dn("StyleExpression",qr,{omit:["_evaluator"]}),Dn("ZoomDependentExpression",Zr),Dn("ZoomConstantExpression",Gr),Dn("CompoundExpression",ve,{omit:["_evaluate"]}),Cs)Cs[Vs]._classRegistryKey||Dn("Expression_"+Vs,Cs[Vs]);function Rn(Ne){return Ne&&"undefined"!=typeof ArrayBuffer&&(Ne instanceof ArrayBuffer||Ne.constructor&&"ArrayBuffer"===Ne.constructor.name)}function On(Ne){return js&&Ne instanceof js}function Un(Ne,et){if(null==Ne||"boolean"==typeof Ne||"number"==typeof Ne||"string"==typeof Ne||Ne instanceof Boolean||Ne instanceof Number||Ne instanceof String||Ne instanceof Date||Ne instanceof RegExp)return Ne;if(Rn(Ne)||On(Ne))return et&&et.push(Ne),Ne;if(ArrayBuffer.isView(Ne)){var tt=Ne;return et&&et.push(tt.buffer),tt}if(Ne instanceof Bs)return et&&et.push(Ne.data.buffer),Ne;if(Array.isArray(Ne)){for(var nt=[],rt=0,it=Ne;rt<it.length;rt+=1)nt.push(Un(it[rt],et));return nt}if("object"==typeof Ne){var ot=Ne.constructor,at=ot._classRegistryKey;if(!at)throw new Error("can't serialize object of unregistered class");var st=ot.serialize?ot.serialize(Ne,et):{};if(!ot.serialize){for(var ct in Ne)if(Ne.hasOwnProperty(ct)&&!(Ns[at].omit.indexOf(ct)>=0)){var pt=Ne[ct];st[ct]=Ns[at].shallow.indexOf(ct)>=0?pt:Un(pt,et)}Ne instanceof Error&&(st.message=Ne.message)}if(st.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==at&&(st.$name=at),st}throw new Error("can't serialize object of type "+typeof Ne)}function jn(Ne){if(null==Ne||"boolean"==typeof Ne||"number"==typeof Ne||"string"==typeof Ne||Ne instanceof Boolean||Ne instanceof Number||Ne instanceof String||Ne instanceof Date||Ne instanceof RegExp||Rn(Ne)||On(Ne)||ArrayBuffer.isView(Ne)||Ne instanceof Bs)return Ne;if(Array.isArray(Ne))return Ne.map(jn);if("object"==typeof Ne){var et=Ne.$name||"Object",tt=Ns[et].klass;if(!tt)throw new Error("can't deserialize unregistered class "+et);if(tt.deserialize)return tt.deserialize(Ne);for(var nt=Object.create(tt.prototype),rt=0,it=Object.keys(Ne);rt<it.length;rt+=1){var ot=it[rt];if("$name"!==ot){var at=Ne[ot];nt[ot]=Ns[et].shallow.indexOf(ot)>=0?at:jn(at)}}return nt}throw new Error("can't deserialize object of type "+typeof Ne)}var qn=function(){this.first=!0};qn.prototype.update=function(Ne,et){var tt=Math.floor(Ne);return this.first?(this.first=!1,this.lastIntegerZoom=tt,this.lastIntegerZoomTime=0,this.lastZoom=Ne,this.lastFloorZoom=tt,!0):(this.lastFloorZoom>tt?(this.lastIntegerZoom=tt+1,this.lastIntegerZoomTime=et):this.lastFloorZoom<tt&&(this.lastIntegerZoom=tt,this.lastIntegerZoomTime=et),Ne!==this.lastZoom&&(this.lastZoom=Ne,this.lastFloorZoom=tt,!0))};var Us={"Latin-1 Supplement":function(Ne){return Ne>=128&&Ne<=255},Arabic:function(Ne){return Ne>=1536&&Ne<=1791},"Arabic Supplement":function(Ne){return Ne>=1872&&Ne<=1919},"Arabic Extended-A":function(Ne){return Ne>=2208&&Ne<=2303},"Hangul Jamo":function(Ne){return Ne>=4352&&Ne<=4607},"Unified Canadian Aboriginal Syllabics":function(Ne){return Ne>=5120&&Ne<=5759},Khmer:function(Ne){return Ne>=6016&&Ne<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(Ne){return Ne>=6320&&Ne<=6399},"General Punctuation":function(Ne){return Ne>=8192&&Ne<=8303},"Letterlike Symbols":function(Ne){return Ne>=8448&&Ne<=8527},"Number Forms":function(Ne){return Ne>=8528&&Ne<=8591},"Miscellaneous Technical":function(Ne){return Ne>=8960&&Ne<=9215},"Control Pictures":function(Ne){return Ne>=9216&&Ne<=9279},"Optical Character Recognition":function(Ne){return Ne>=9280&&Ne<=9311},"Enclosed Alphanumerics":function(Ne){return Ne>=9312&&Ne<=9471},"Geometric Shapes":function(Ne){return Ne>=9632&&Ne<=9727},"Miscellaneous Symbols":function(Ne){return Ne>=9728&&Ne<=9983},"Miscellaneous Symbols and Arrows":function(Ne){return Ne>=11008&&Ne<=11263},"CJK Radicals Supplement":function(Ne){return Ne>=11904&&Ne<=12031},"Kangxi Radicals":function(Ne){return Ne>=12032&&Ne<=12255},"Ideographic Description Characters":function(Ne){return Ne>=12272&&Ne<=12287},"CJK Symbols and Punctuation":function(Ne){return Ne>=12288&&Ne<=12351},Hiragana:function(Ne){return Ne>=12352&&Ne<=12447},Katakana:function(Ne){return Ne>=12448&&Ne<=12543},Bopomofo:function(Ne){return Ne>=12544&&Ne<=12591},"Hangul Compatibility Jamo":function(Ne){return Ne>=12592&&Ne<=12687},Kanbun:function(Ne){return Ne>=12688&&Ne<=12703},"Bopomofo Extended":function(Ne){return Ne>=12704&&Ne<=12735},"CJK Strokes":function(Ne){return Ne>=12736&&Ne<=12783},"Katakana Phonetic Extensions":function(Ne){return Ne>=12784&&Ne<=12799},"Enclosed CJK Letters and Months":function(Ne){return Ne>=12800&&Ne<=13055},"CJK Compatibility":function(Ne){return Ne>=13056&&Ne<=13311},"CJK Unified Ideographs Extension A":function(Ne){return Ne>=13312&&Ne<=19903},"Yijing Hexagram Symbols":function(Ne){return Ne>=19904&&Ne<=19967},"CJK Unified Ideographs":function(Ne){return Ne>=19968&&Ne<=40959},"Yi Syllables":function(Ne){return Ne>=40960&&Ne<=42127},"Yi Radicals":function(Ne){return Ne>=42128&&Ne<=42191},"Hangul Jamo Extended-A":function(Ne){return Ne>=43360&&Ne<=43391},"Hangul Syllables":function(Ne){return Ne>=44032&&Ne<=55215},"Hangul Jamo Extended-B":function(Ne){return Ne>=55216&&Ne<=55295},"Private Use Area":function(Ne){return Ne>=57344&&Ne<=63743},"CJK Compatibility Ideographs":function(Ne){return Ne>=63744&&Ne<=64255},"Arabic Presentation Forms-A":function(Ne){return Ne>=64336&&Ne<=65023},"Vertical Forms":function(Ne){return Ne>=65040&&Ne<=65055},"CJK Compatibility Forms":function(Ne){return Ne>=65072&&Ne<=65103},"Small Form Variants":function(Ne){return Ne>=65104&&Ne<=65135},"Arabic Presentation Forms-B":function(Ne){return Ne>=65136&&Ne<=65279},"Halfwidth and Fullwidth Forms":function(Ne){return Ne>=65280&&Ne<=65519}};function Kn(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(Gn(tt[et].charCodeAt(0)))return!0;return!1}function Gn(Ne){return!(746!==Ne&&747!==Ne&&(Ne<4352||!(Us["Bopomofo Extended"](Ne)||Us.Bopomofo(Ne)||Us["CJK Compatibility Forms"](Ne)&&!(Ne>=65097&&Ne<=65103)||Us["CJK Compatibility Ideographs"](Ne)||Us["CJK Compatibility"](Ne)||Us["CJK Radicals Supplement"](Ne)||Us["CJK Strokes"](Ne)||!(!Us["CJK Symbols and Punctuation"](Ne)||Ne>=12296&&Ne<=12305||Ne>=12308&&Ne<=12319||12336===Ne)||Us["CJK Unified Ideographs Extension A"](Ne)||Us["CJK Unified Ideographs"](Ne)||Us["Enclosed CJK Letters and Months"](Ne)||Us["Hangul Compatibility Jamo"](Ne)||Us["Hangul Jamo Extended-A"](Ne)||Us["Hangul Jamo Extended-B"](Ne)||Us["Hangul Jamo"](Ne)||Us["Hangul Syllables"](Ne)||Us.Hiragana(Ne)||Us["Ideographic Description Characters"](Ne)||Us.Kanbun(Ne)||Us["Kangxi Radicals"](Ne)||Us["Katakana Phonetic Extensions"](Ne)||Us.Katakana(Ne)&&12540!==Ne||!(!Us["Halfwidth and Fullwidth Forms"](Ne)||65288===Ne||65289===Ne||65293===Ne||Ne>=65306&&Ne<=65310||65339===Ne||65341===Ne||65343===Ne||Ne>=65371&&Ne<=65503||65507===Ne||Ne>=65512&&Ne<=65519)||!(!Us["Small Form Variants"](Ne)||Ne>=65112&&Ne<=65118||Ne>=65123&&Ne<=65126)||Us["Unified Canadian Aboriginal Syllabics"](Ne)||Us["Unified Canadian Aboriginal Syllabics Extended"](Ne)||Us["Vertical Forms"](Ne)||Us["Yijing Hexagram Symbols"](Ne)||Us["Yi Syllables"](Ne)||Us["Yi Radicals"](Ne))))}function Zn(Ne){return!(Gn(Ne)||function(Ne){return!!(Us["Latin-1 Supplement"](Ne)&&(167===Ne||169===Ne||174===Ne||177===Ne||188===Ne||189===Ne||190===Ne||215===Ne||247===Ne)||Us["General Punctuation"](Ne)&&(8214===Ne||8224===Ne||8225===Ne||8240===Ne||8241===Ne||8251===Ne||8252===Ne||8258===Ne||8263===Ne||8264===Ne||8265===Ne||8273===Ne)||Us["Letterlike Symbols"](Ne)||Us["Number Forms"](Ne)||Us["Miscellaneous Technical"](Ne)&&(Ne>=8960&&Ne<=8967||Ne>=8972&&Ne<=8991||Ne>=8996&&Ne<=9e3||9003===Ne||Ne>=9085&&Ne<=9114||Ne>=9150&&Ne<=9165||9167===Ne||Ne>=9169&&Ne<=9179||Ne>=9186&&Ne<=9215)||Us["Control Pictures"](Ne)&&9251!==Ne||Us["Optical Character Recognition"](Ne)||Us["Enclosed Alphanumerics"](Ne)||Us["Geometric Shapes"](Ne)||Us["Miscellaneous Symbols"](Ne)&&!(Ne>=9754&&Ne<=9759)||Us["Miscellaneous Symbols and Arrows"](Ne)&&(Ne>=11026&&Ne<=11055||Ne>=11088&&Ne<=11097||Ne>=11192&&Ne<=11243)||Us["CJK Symbols and Punctuation"](Ne)||Us.Katakana(Ne)||Us["Private Use Area"](Ne)||Us["CJK Compatibility Forms"](Ne)||Us["Small Form Variants"](Ne)||Us["Halfwidth and Fullwidth Forms"](Ne)||8734===Ne||8756===Ne||8757===Ne||Ne>=9984&&Ne<=10087||Ne>=10102&&Ne<=10131||65532===Ne||65533===Ne)}(Ne))}function Xn(Ne){return Ne>=1424&&Ne<=2303||Us["Arabic Presentation Forms-A"](Ne)||Us["Arabic Presentation Forms-B"](Ne)}function Jn(Ne,et){return!(!et&&Xn(Ne)||Ne>=2304&&Ne<=3583||Ne>=3840&&Ne<=4255||Us.Khmer(Ne))}function Hn(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(Xn(tt[et].charCodeAt(0)))return!0;return!1}var Zs=null,Js="unavailable",tl=null,Qn=function(Ne){Ne&&"string"==typeof Ne&&Ne.indexOf("NetworkError")>-1&&(Js="error"),Zs&&Zs(Ne)};function ti(){ol.fire(new St("pluginStateChange",{pluginStatus:Js,pluginURL:tl}))}var ol=new It,ri=function(){return Js},ni=function(){if("deferred"!==Js||!tl)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Js="loading",ti(),tl&&xt({url:tl},(function(Ne){Ne?Qn(Ne):(Js="loaded",ti())}))},sl={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Js||null!=sl.applyArabicShaping},isLoading:function(){return"loading"===Js},setState:function(Ne){Js=Ne.pluginStatus,tl=Ne.pluginURL},isParsed:function(){return null!=sl.applyArabicShaping&&null!=sl.processBidirectionalText&&null!=sl.processStyledBidirectionalText},getPluginURL:function(){return tl}},ai=function(Ne,et){this.zoom=Ne,et?(this.now=et.now,this.fadeDuration=et.fadeDuration,this.zoomHistory=et.zoomHistory,this.transition=et.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qn,this.transition={})};ai.prototype.isSupportedScript=function(Ne){return function(Ne,et){for(var tt=0,nt=Ne;tt<nt.length;tt+=1)if(!Jn(nt[tt].charCodeAt(0),et))return!1;return!0}(Ne,sl.isLoaded())},ai.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ai.prototype.getCrossfadeParameters=function(){var Ne=this.zoom,et=Ne-Math.floor(Ne),tt=this.crossFadingFactor();return Ne>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:et+(1-et)*tt}:{fromScale:.5,toScale:1,t:1-(1-tt)*et}};var oi=function(Ne,et){this.property=Ne,this.value=et,this.expression=function(Ne,et){if(Fr(Ne))return new Jr(Ne,et);if(Nr(Ne)){var tt=Xr(Ne,et);if("error"===tt.result)throw new Error(tt.value.map((function(Ne){return Ne.key+": "+Ne.message})).join(", "));return tt.value}var nt=Ne;return"string"==typeof Ne&&"color"===et.type&&(nt=Wt.parse(Ne)),{kind:"constant",evaluate:function(){return nt}}}(void 0===et?Ne.specification.default:et,Ne.specification)};oi.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},oi.prototype.possiblyEvaluate=function(Ne,et,tt){return this.property.possiblyEvaluate(this,Ne,et,tt)};var si=function(Ne){this.property=Ne,this.value=new oi(Ne,void 0)};si.prototype.transitioned=function(Ne,et){return new li(this.property,this.value,et,c({},Ne.transition,this.transition),Ne.now)},si.prototype.untransitioned=function(){return new li(this.property,this.value,null,{},0)};var ui=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultTransitionablePropertyValues)};ui.prototype.getValue=function(Ne){return b(this._values[Ne].value.value)},ui.prototype.setValue=function(Ne,et){this._values.hasOwnProperty(Ne)||(this._values[Ne]=new si(this._values[Ne].property)),this._values[Ne].value=new oi(this._values[Ne].property,null===et?void 0:b(et))},ui.prototype.getTransition=function(Ne){return b(this._values[Ne].transition)},ui.prototype.setTransition=function(Ne,et){this._values.hasOwnProperty(Ne)||(this._values[Ne]=new si(this._values[Ne].property)),this._values[Ne].transition=b(et)||void 0},ui.prototype.serialize=function(){for(var Ne={},et=0,tt=Object.keys(this._values);et<tt.length;et+=1){var nt=tt[et],rt=this.getValue(nt);void 0!==rt&&(Ne[nt]=rt);var it=this.getTransition(nt);void 0!==it&&(Ne[nt+"-transition"]=it)}return Ne},ui.prototype.transitioned=function(Ne,et){for(var tt=new pi(this._properties),nt=0,rt=Object.keys(this._values);nt<rt.length;nt+=1){var it=rt[nt];tt._values[it]=this._values[it].transitioned(Ne,et._values[it])}return tt},ui.prototype.untransitioned=function(){for(var Ne=new pi(this._properties),et=0,tt=Object.keys(this._values);et<tt.length;et+=1){var nt=tt[et];Ne._values[nt]=this._values[nt].untransitioned()}return Ne};var li=function(Ne,et,tt,nt,rt){this.property=Ne,this.value=et,this.begin=rt+nt.delay||0,this.end=this.begin+nt.duration||0,Ne.specification.transition&&(nt.delay||nt.duration)&&(this.prior=tt)};li.prototype.possiblyEvaluate=function(Ne,et,tt){var nt=Ne.now||0,rt=this.value.possiblyEvaluate(Ne,et,tt),it=this.prior;if(it){if(nt>this.end)return this.prior=null,rt;if(this.value.isDataDriven())return this.prior=null,rt;if(nt<this.begin)return it.possiblyEvaluate(Ne,et,tt);var ot=(nt-this.begin)/(this.end-this.begin);return this.property.interpolate(it.possiblyEvaluate(Ne,et,tt),rt,function(Ne){if(Ne<=0)return 0;if(Ne>=1)return 1;var et=Ne*Ne,tt=et*Ne;return 4*(Ne<.5?tt:3*(Ne-et)+tt-.75)}(ot))}return rt};var pi=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(Ne,et,tt){for(var nt=new fi(this._properties),rt=0,it=Object.keys(this._values);rt<it.length;rt+=1){var ot=it[rt];nt._values[ot]=this._values[ot].possiblyEvaluate(Ne,et,tt)}return nt},pi.prototype.hasTransition=function(){for(var Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1)if(this._values[et[Ne]].prior)return!0;return!1};var ci=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultPropertyValues)};ci.prototype.getValue=function(Ne){return b(this._values[Ne].value)},ci.prototype.setValue=function(Ne,et){this._values[Ne]=new oi(this._values[Ne].property,null===et?void 0:b(et))},ci.prototype.serialize=function(){for(var Ne={},et=0,tt=Object.keys(this._values);et<tt.length;et+=1){var nt=tt[et],rt=this.getValue(nt);void 0!==rt&&(Ne[nt]=rt)}return Ne},ci.prototype.possiblyEvaluate=function(Ne,et,tt){for(var nt=new fi(this._properties),rt=0,it=Object.keys(this._values);rt<it.length;rt+=1){var ot=it[rt];nt._values[ot]=this._values[ot].possiblyEvaluate(Ne,et,tt)}return nt};var hi=function(Ne,et,tt){this.property=Ne,this.value=et,this.parameters=tt};hi.prototype.isConstant=function(){return"constant"===this.value.kind},hi.prototype.constantOr=function(Ne){return"constant"===this.value.kind?this.value.value:Ne},hi.prototype.evaluate=function(Ne,et,tt,nt){return this.property.evaluate(this.value,this.parameters,Ne,et,tt,nt)};var fi=function(Ne){this._properties=Ne,this._values=Object.create(Ne.defaultPossiblyEvaluatedValues)};fi.prototype.get=function(Ne){return this._values[Ne]};var yi=function(Ne){this.specification=Ne};yi.prototype.possiblyEvaluate=function(Ne,et){return Ne.expression.evaluate(et)},yi.prototype.interpolate=function(Ne,et,tt){var nt=wa[this.specification.type];return nt?nt(Ne,et,tt):Ne};var di=function(Ne,et){this.specification=Ne,this.overrides=et};di.prototype.possiblyEvaluate=function(Ne,et,tt,nt){return new hi(this,"constant"===Ne.expression.kind||"camera"===Ne.expression.kind?{kind:"constant",value:Ne.expression.evaluate(et,null,{},tt,nt)}:Ne.expression,et)},di.prototype.interpolate=function(Ne,et,tt){if("constant"!==Ne.value.kind||"constant"!==et.value.kind)return Ne;if(void 0===Ne.value.value||void 0===et.value.value)return new hi(this,{kind:"constant",value:void 0},Ne.parameters);var nt=wa[this.specification.type];return nt?new hi(this,{kind:"constant",value:nt(Ne.value.value,et.value.value,tt)},Ne.parameters):Ne},di.prototype.evaluate=function(Ne,et,tt,nt,rt,it){return"constant"===Ne.kind?Ne.value:Ne.evaluate(et,tt,nt,rt,it)};var dl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(Ne,et,tt,nt){if(void 0===Ne.value)return new hi(this,{kind:"constant",value:void 0},et);if("constant"===Ne.expression.kind){var rt=Ne.expression.evaluate(et,null,{},tt,nt),it="resolvedImage"===Ne.property.specification.type&&"string"!=typeof rt?rt.name:rt,ot=this._calculate(it,it,it,et);return new hi(this,{kind:"constant",value:ot},et)}if("camera"===Ne.expression.kind){var at=this._calculate(Ne.expression.evaluate({zoom:et.zoom-1}),Ne.expression.evaluate({zoom:et.zoom}),Ne.expression.evaluate({zoom:et.zoom+1}),et);return new hi(this,{kind:"constant",value:at},et)}return new hi(this,Ne.expression,et)},e.prototype.evaluate=function(Ne,et,tt,nt,rt,it){if("source"===Ne.kind){var ot=Ne.evaluate(et,tt,nt,rt,it);return this._calculate(ot,ot,ot,et)}return"composite"===Ne.kind?this._calculate(Ne.evaluate({zoom:Math.floor(et.zoom)-1},tt,nt),Ne.evaluate({zoom:Math.floor(et.zoom)},tt,nt),Ne.evaluate({zoom:Math.floor(et.zoom)+1},tt,nt),et):Ne.value},e.prototype._calculate=function(Ne,et,tt,nt){return nt.zoom>nt.zoomHistory.lastIntegerZoom?{from:Ne,to:et}:{from:tt,to:et}},e.prototype.interpolate=function(Ne){return Ne},e}(di),vi=function(Ne){this.specification=Ne};vi.prototype.possiblyEvaluate=function(Ne,et,tt,nt){if(void 0!==Ne.value){if("constant"===Ne.expression.kind){var rt=Ne.expression.evaluate(et,null,{},tt,nt);return this._calculate(rt,rt,rt,et)}return this._calculate(Ne.expression.evaluate(new ai(Math.floor(et.zoom-1),et)),Ne.expression.evaluate(new ai(Math.floor(et.zoom),et)),Ne.expression.evaluate(new ai(Math.floor(et.zoom+1),et)),et)}},vi.prototype._calculate=function(Ne,et,tt,nt){return nt.zoom>nt.zoomHistory.lastIntegerZoom?{from:Ne,to:et}:{from:tt,to:et}},vi.prototype.interpolate=function(Ne){return Ne};var gi=function(Ne){this.specification=Ne};gi.prototype.possiblyEvaluate=function(Ne,et,tt,nt){return!!Ne.expression.evaluate(et,null,{},tt,nt)},gi.prototype.interpolate=function(){return!1};var xi=function(Ne){for(var et in this.properties=Ne,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],Ne){var tt=Ne[et];tt.specification.overridable&&this.overridableProperties.push(et);var nt=this.defaultPropertyValues[et]=new oi(tt,void 0),rt=this.defaultTransitionablePropertyValues[et]=new si(tt);this.defaultTransitioningPropertyValues[et]=rt.untransitioned(),this.defaultPossiblyEvaluatedValues[et]=nt.possiblyEvaluate({})}};Dn("DataDrivenProperty",di),Dn("DataConstantProperty",yi),Dn("CrossFadedDataDrivenProperty",dl),Dn("CrossFadedProperty",vi),Dn("ColorRampProperty",gi);var gl=function(Ne){function e(et,tt){if(Ne.call(this),this.id=et.id,this.type=et.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==et.type&&(this.metadata=(et=et).metadata,this.minzoom=et.minzoom,this.maxzoom=et.maxzoom,"background"!==et.type&&(this.source=et.source,this.sourceLayer=et["source-layer"],this.filter=et.filter),tt.layout&&(this._unevaluatedLayout=new ci(tt.layout)),tt.paint)){for(var nt in this._transitionablePaint=new ui(tt.paint),et.paint)this.setPaintProperty(nt,et.paint[nt],{validate:!1});for(var rt in et.layout)this.setLayoutProperty(rt,et.layout[rt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new fi(tt.paint)}}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(Ne){return"visibility"===Ne?this.visibility:this._unevaluatedLayout.getValue(Ne)},e.prototype.setLayoutProperty=function(Ne,et,tt){void 0===tt&&(tt={}),null!=et&&this._validate(Rs,"layers."+this.id+".layout."+Ne,Ne,et,tt)||("visibility"!==Ne?this._unevaluatedLayout.setValue(Ne,et):this.visibility=et)},e.prototype.getPaintProperty=function(Ne){return v(Ne,"-transition")?this._transitionablePaint.getTransition(Ne.slice(0,-"-transition".length)):this._transitionablePaint.getValue(Ne)},e.prototype.setPaintProperty=function(Ne,et,tt){if(void 0===tt&&(tt={}),null!=et&&this._validate(zs,"layers."+this.id+".paint."+Ne,Ne,et,tt))return!1;if(v(Ne,"-transition"))return this._transitionablePaint.setTransition(Ne.slice(0,-"-transition".length),et||void 0),!1;var nt=this._transitionablePaint._values[Ne],rt="cross-faded-data-driven"===nt.property.specification["property-type"],it=nt.value.isDataDriven(),ot=nt.value;this._transitionablePaint.setValue(Ne,et),this._handleSpecialPaintPropertyUpdate(Ne);var at=this._transitionablePaint._values[Ne].value;return at.isDataDriven()||it||rt||this._handleOverridablePaintPropertyUpdate(Ne,ot,at)},e.prototype._handleSpecialPaintPropertyUpdate=function(Ne){},e.prototype._handleOverridablePaintPropertyUpdate=function(Ne,et,tt){return!1},e.prototype.isHidden=function(Ne){return!!(this.minzoom&&Ne<this.minzoom)||!!(this.maxzoom&&Ne>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(Ne){this._transitioningPaint=this._transitionablePaint.transitioned(Ne,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(Ne,et){Ne.getCrossfadeParameters&&(this._crossfadeParameters=Ne.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Ne,void 0,et)),this.paint=this._transitioningPaint.possiblyEvaluate(Ne,void 0,et)},e.prototype.serialize=function(){var Ne={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Ne.layout=Ne.layout||{},Ne.layout.visibility=this.visibility),x(Ne,(function(Ne,et){return!(void 0===Ne||"layout"===et&&!Object.keys(Ne).length||"paint"===et&&!Object.keys(Ne).length)}))},e.prototype._validate=function(Ne,et,tt,nt,rt){return void 0===rt&&(rt={}),(!rt||!1!==rt.validate)&&En(this,Ne.call(Ms,{key:et,layerType:this.type,objectKey:tt,value:nt,styleSpec:Sr,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var Ne in this.paint._values){var et=this.paint.get(Ne);if(et instanceof hi&&Tr(et.property.specification)&&("source"===et.value.kind||"composite"===et.value.kind)&&et.value.isStateDependent)return!0}return!1},e}(It),yl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},_i=function(Ne,et){this._structArray=Ne,this._pos1=et*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ai=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Si(Ne,et){void 0===et&&(et=1);var tt=0,nt=0;return{members:Ne.map((function(Ne){var rt=yl[Ne.type].BYTES_PER_ELEMENT,it=tt=ki(tt,Math.max(et,rt)),ot=Ne.components||1;return nt=Math.max(nt,rt),tt+=rt*ot,{name:Ne.name,type:Ne.type,components:ot,offset:it}})),size:ki(tt,Math.max(nt,et)),alignment:et}}function ki(Ne,et){return Math.ceil(Ne/et)*et}Ai.serialize=function(Ne,et){return Ne._trim(),et&&(Ne.isTransferred=!0,et.push(Ne.arrayBuffer)),{length:Ne.length,arrayBuffer:Ne.arrayBuffer}},Ai.deserialize=function(Ne){var et=Object.create(this.prototype);return et.arrayBuffer=Ne.arrayBuffer,et.length=Ne.length,et.capacity=Ne.arrayBuffer.byteLength/et.bytesPerElement,et._refreshViews(),et},Ai.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ai.prototype.clear=function(){this.length=0},Ai.prototype.resize=function(Ne){this.reserve(Ne),this.length=Ne},Ai.prototype.reserve=function(Ne){if(Ne>this.capacity){this.capacity=Math.max(Ne,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var et=this.uint8;this._refreshViews(),et&&this.uint8.set(et)}},Ai.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var vl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ne,et)},e.prototype.emplace=function(Ne,et,tt){var nt=2*Ne;return this.int16[nt+0]=et,this.int16[nt+1]=tt,Ne},e}(Ai);vl.prototype.bytesPerElement=4,Dn("StructArrayLayout2i4",vl);var _l=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,Ne,et,tt,nt)},e.prototype.emplace=function(Ne,et,tt,nt,rt){var it=4*Ne;return this.int16[it+0]=et,this.int16[it+1]=tt,this.int16[it+2]=nt,this.int16[it+3]=rt,Ne},e}(Ai);_l.prototype.bytesPerElement=8,Dn("StructArrayLayout4i8",_l);var bl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Ne,et,tt,nt,rt,it)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot){var at=6*Ne;return this.int16[at+0]=et,this.int16[at+1]=tt,this.int16[at+2]=nt,this.int16[at+3]=rt,this.int16[at+4]=it,this.int16[at+5]=ot,Ne},e}(Ai);bl.prototype.bytesPerElement=12,Dn("StructArrayLayout2i4i12",bl);var xl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Ne,et,tt,nt,rt,it)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot){var at=4*Ne,st=8*Ne;return this.int16[at+0]=et,this.int16[at+1]=tt,this.uint8[st+4]=nt,this.uint8[st+5]=rt,this.uint8[st+6]=it,this.uint8[st+7]=ot,Ne},e}(Ai);xl.prototype.bytesPerElement=8,Dn("StructArrayLayout2i4ub8",xl);var wl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it,ot,at,st,ct){var pt=this.length;return this.resize(pt+1),this.emplace(pt,Ne,et,tt,nt,rt,it,ot,at,st,ct)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){var dt=10*Ne;return this.uint16[dt+0]=et,this.uint16[dt+1]=tt,this.uint16[dt+2]=nt,this.uint16[dt+3]=rt,this.uint16[dt+4]=it,this.uint16[dt+5]=ot,this.uint16[dt+6]=at,this.uint16[dt+7]=st,this.uint16[dt+8]=ct,this.uint16[dt+9]=pt,Ne},e}(Ai);wl.prototype.bytesPerElement=20,Dn("StructArrayLayout10ui20",wl);var Sl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt){var ft=this.length;return this.resize(ft+1),this.emplace(ft,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft){var mt=12*Ne;return this.int16[mt+0]=et,this.int16[mt+1]=tt,this.int16[mt+2]=nt,this.int16[mt+3]=rt,this.uint16[mt+4]=it,this.uint16[mt+5]=ot,this.uint16[mt+6]=at,this.uint16[mt+7]=st,this.int16[mt+8]=ct,this.int16[mt+9]=pt,this.int16[mt+10]=dt,this.int16[mt+11]=ft,Ne},e}(Ai);Sl.prototype.bytesPerElement=24,Dn("StructArrayLayout4i4ui4i24",Sl);var Cl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,nt){var rt=3*Ne;return this.float32[rt+0]=et,this.float32[rt+1]=tt,this.float32[rt+2]=nt,Ne},e}(Ai);Cl.prototype.bytesPerElement=12,Dn("StructArrayLayout3f12",Cl);var kl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne){var et=this.length;return this.resize(et+1),this.emplace(et,Ne)},e.prototype.emplace=function(Ne,et){return this.uint32[1*Ne+0]=et,Ne},e}(Ai);kl.prototype.bytesPerElement=4,Dn("StructArrayLayout1ul4",kl);var Il=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it,ot,at,st){var ct=this.length;return this.resize(ct+1),this.emplace(ct,Ne,et,tt,nt,rt,it,ot,at,st)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot,at,st,ct){var pt=10*Ne,dt=5*Ne;return this.int16[pt+0]=et,this.int16[pt+1]=tt,this.int16[pt+2]=nt,this.int16[pt+3]=rt,this.int16[pt+4]=it,this.int16[pt+5]=ot,this.uint32[dt+3]=at,this.uint16[pt+8]=st,this.uint16[pt+9]=ct,Ne},e}(Ai);Il.prototype.bytesPerElement=20,Dn("StructArrayLayout6i1ul2ui20",Il);var Al=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Ne,et,tt,nt,rt,it)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot){var at=6*Ne;return this.int16[at+0]=et,this.int16[at+1]=tt,this.int16[at+2]=nt,this.int16[at+3]=rt,this.int16[at+4]=it,this.int16[at+5]=ot,Ne},e}(Ai);Al.prototype.bytesPerElement=12,Dn("StructArrayLayout2i2i2i12",Al);var zl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt){var it=this.length;return this.resize(it+1),this.emplace(it,Ne,et,tt,nt,rt)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it){var ot=4*Ne,at=8*Ne;return this.float32[ot+0]=et,this.float32[ot+1]=tt,this.float32[ot+2]=nt,this.int16[at+6]=rt,this.int16[at+7]=it,Ne},e}(Ai);zl.prototype.bytesPerElement=16,Dn("StructArrayLayout2f1f2i16",zl);var Fl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,Ne,et,tt,nt)},e.prototype.emplace=function(Ne,et,tt,nt,rt){var it=12*Ne,ot=3*Ne;return this.uint8[it+0]=et,this.uint8[it+1]=tt,this.float32[ot+1]=nt,this.float32[ot+2]=rt,Ne},e}(Ai);Fl.prototype.bytesPerElement=12,Dn("StructArrayLayout2ub2f12",Fl);var Hl=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,nt){var rt=3*Ne;return this.uint16[rt+0]=et,this.uint16[rt+1]=tt,this.uint16[rt+2]=nt,Ne},e}(Ai);Hl.prototype.bytesPerElement=6,Dn("StructArrayLayout3ui6",Hl);var du=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt,Ot){var Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt,Ot)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt,Ot,Dt){var Rt=24*Ne,Bt=12*Ne,rn=48*Ne;return this.int16[Rt+0]=et,this.int16[Rt+1]=tt,this.uint16[Rt+2]=nt,this.uint16[Rt+3]=rt,this.uint32[Bt+2]=it,this.uint32[Bt+3]=ot,this.uint32[Bt+4]=at,this.uint16[Rt+10]=st,this.uint16[Rt+11]=ct,this.uint16[Rt+12]=pt,this.float32[Bt+7]=dt,this.float32[Bt+8]=ft,this.uint8[rn+36]=mt,this.uint8[rn+37]=yt,this.uint8[rn+38]=vt,this.uint32[Bt+10]=Ot,this.int16[Rt+22]=Dt,Ne},e}(Ai);du.prototype.bytesPerElement=48,Dn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",du);var vu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Tn,Cn,In,Ln,Mn){var zn=this.length;return this.resize(zn+1),this.emplace(zn,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Tn,Cn,In,Ln,Mn)},e.prototype.emplace=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Tn,Cn,In,Ln,Mn,zn){var Fn=34*Ne,Bn=17*Ne;return this.int16[Fn+0]=et,this.int16[Fn+1]=tt,this.int16[Fn+2]=nt,this.int16[Fn+3]=rt,this.int16[Fn+4]=it,this.int16[Fn+5]=ot,this.int16[Fn+6]=at,this.int16[Fn+7]=st,this.uint16[Fn+8]=ct,this.uint16[Fn+9]=pt,this.uint16[Fn+10]=dt,this.uint16[Fn+11]=ft,this.uint16[Fn+12]=mt,this.uint16[Fn+13]=yt,this.uint16[Fn+14]=vt,this.uint16[Fn+15]=Ot,this.uint16[Fn+16]=Dt,this.uint16[Fn+17]=Rt,this.uint16[Fn+18]=Bt,this.uint16[Fn+19]=rn,this.uint16[Fn+20]=vn,this.uint16[Fn+21]=bn,this.uint16[Fn+22]=Tn,this.uint32[Bn+12]=Cn,this.float32[Bn+13]=In,this.float32[Bn+14]=Ln,this.float32[Bn+15]=Mn,this.float32[Bn+16]=zn,Ne},e}(Ai);vu.prototype.bytesPerElement=68,Dn("StructArrayLayout8i15ui1ul4f68",vu);var _u=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne){var et=this.length;return this.resize(et+1),this.emplace(et,Ne)},e.prototype.emplace=function(Ne,et){return this.float32[1*Ne+0]=et,Ne},e}(Ai);_u.prototype.bytesPerElement=4,Dn("StructArrayLayout1f4",_u);var wu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,nt){var rt=3*Ne;return this.int16[rt+0]=et,this.int16[rt+1]=tt,this.int16[rt+2]=nt,Ne},e}(Ai);wu.prototype.bytesPerElement=6,Dn("StructArrayLayout3i6",wu);var Tu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,Ne,et,tt)},e.prototype.emplace=function(Ne,et,tt,nt){var rt=4*Ne;return this.uint32[2*Ne+0]=et,this.uint16[rt+2]=tt,this.uint16[rt+3]=nt,Ne},e}(Ai);Tu.prototype.bytesPerElement=8,Dn("StructArrayLayout1ul2ui8",Tu);var Fu=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ne,et)},e.prototype.emplace=function(Ne,et,tt){var nt=2*Ne;return this.uint16[nt+0]=et,this.uint16[nt+1]=tt,Ne},e}(Ai);Fu.prototype.bytesPerElement=4,Dn("StructArrayLayout2ui4",Fu);var ac=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne){var et=this.length;return this.resize(et+1),this.emplace(et,Ne)},e.prototype.emplace=function(Ne,et){return this.uint16[1*Ne+0]=et,Ne},e}(Ai);ac.prototype.bytesPerElement=2,Dn("StructArrayLayout1ui2",ac);var pc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,Ne,et)},e.prototype.emplace=function(Ne,et,tt){var nt=2*Ne;return this.float32[nt+0]=et,this.float32[nt+1]=tt,Ne},e}(Ai);pc.prototype.bytesPerElement=8,Dn("StructArrayLayout2f8",pc);var yc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(Ne,et,tt,nt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,Ne,et,tt,nt)},e.prototype.emplace=function(Ne,et,tt,nt,rt){var it=4*Ne;return this.float32[it+0]=et,this.float32[it+1]=tt,this.float32[it+2]=nt,this.float32[it+3]=rt,Ne},e}(Ai);yc.prototype.bytesPerElement=16,Dn("StructArrayLayout4f16",yc);var _c=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return et.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},et.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},et.x1.get=function(){return this._structArray.int16[this._pos2+2]},et.y1.get=function(){return this._structArray.int16[this._pos2+3]},et.x2.get=function(){return this._structArray.int16[this._pos2+4]},et.y2.get=function(){return this._structArray.int16[this._pos2+5]},et.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},et.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},et.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},et.anchorPoint.get=function(){return new tt(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,et),e}(_i);_c.prototype.size=20;var bc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new _c(this,Ne)},e}(Il);Dn("CollisionBoxArray",bc);var xc=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return et.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},et.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},et.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},et.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},et.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},et.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},et.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},et.segment.get=function(){return this._structArray.uint16[this._pos2+10]},et.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},et.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},et.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},et.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},et.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},et.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},et.placedOrientation.set=function(Ne){this._structArray.uint8[this._pos1+37]=Ne},et.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},et.hidden.set=function(Ne){this._structArray.uint8[this._pos1+38]=Ne},et.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},et.crossTileID.set=function(Ne){this._structArray.uint32[this._pos4+10]=Ne},et.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,et),e}(_i);xc.prototype.size=48;var wc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new xc(this,Ne)},e}(du);Dn("PlacedSymbolArray",wc);var Ec=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return et.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},et.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},et.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},et.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},et.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},et.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},et.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},et.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},et.key.get=function(){return this._structArray.uint16[this._pos2+8]},et.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},et.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},et.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},et.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},et.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},et.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},et.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},et.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},et.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},et.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},et.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},et.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},et.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},et.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},et.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},et.crossTileID.set=function(Ne){this._structArray.uint32[this._pos4+12]=Ne},et.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},et.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},et.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},et.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,et),e}(_i);Ec.prototype.size=68;var Cc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new Ec(this,Ne)},e}(vu);Dn("SymbolInstanceArray",Cc);var kc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getoffsetX=function(Ne){return this.float32[1*Ne+0]},e}(_u);Dn("GlyphOffsetArray",kc);var Ic=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getx=function(Ne){return this.int16[3*Ne+0]},e.prototype.gety=function(Ne){return this.int16[3*Ne+1]},e.prototype.gettileUnitDistanceFromAnchor=function(Ne){return this.int16[3*Ne+2]},e}(wu);Dn("SymbolLineVertexArray",Ic);var Ac=function(Ne){function e(){Ne.apply(this,arguments)}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return et.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},et.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},et.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,et),e}(_i);Ac.prototype.size=8;var zc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.get=function(Ne){return new Ac(this,Ne)},e}(Tu);Dn("FeatureIndexArray",zc);var Dc=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,aa=function(Ne){void 0===Ne&&(Ne=[]),this.segments=Ne};function oa(Ne,et){return 256*(Ne=l(Math.floor(Ne),0,255))+l(Math.floor(et),0,255)}aa.prototype.prepareSegment=function(Ne,et,tt,nt){var rt=this.segments[this.segments.length-1];return Ne>aa.MAX_VERTEX_ARRAY_LENGTH&&_("Max vertices per segment is "+aa.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+Ne),(!rt||rt.vertexLength+Ne>aa.MAX_VERTEX_ARRAY_LENGTH||rt.sortKey!==nt)&&(rt={vertexOffset:et.length,primitiveOffset:tt.length,vertexLength:0,primitiveLength:0},void 0!==nt&&(rt.sortKey=nt),this.segments.push(rt)),rt},aa.prototype.get=function(){return this.segments},aa.prototype.destroy=function(){for(var Ne=0,et=this.segments;Ne<et.length;Ne+=1){var tt=et[Ne];for(var nt in tt.vaos)tt.vaos[nt].destroy()}},aa.simpleSegment=function(Ne,et,tt,nt){return new aa([{vertexOffset:Ne,primitiveOffset:et,vertexLength:tt,primitiveLength:nt,vaos:{},sortKey:0}])},aa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dn("SegmentVector",aa);var Fc=Si([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Bc=e((function(Ne){Ne.exports=function(Ne,et){var tt,nt,rt,it,ot,at,st,ct;for(nt=Ne.length-(tt=3&Ne.length),rt=et,ot=3432918353,at=461845907,ct=0;ct<nt;)st=255&Ne.charCodeAt(ct)|(255&Ne.charCodeAt(++ct))<<8|(255&Ne.charCodeAt(++ct))<<16|(255&Ne.charCodeAt(++ct))<<24,++ct,rt=27492+(65535&(it=5*(65535&(rt=(rt^=st=(65535&(st=(st=(65535&st)*ot+(((st>>>16)*ot&65535)<<16)&4294967295)<<15|st>>>17))*at+(((st>>>16)*at&65535)<<16)&4294967295)<<13|rt>>>19))+((5*(rt>>>16)&65535)<<16)&4294967295))+((58964+(it>>>16)&65535)<<16);switch(st=0,tt){case 3:st^=(255&Ne.charCodeAt(ct+2))<<16;case 2:st^=(255&Ne.charCodeAt(ct+1))<<8;case 1:rt^=st=(65535&(st=(st=(65535&(st^=255&Ne.charCodeAt(ct)))*ot+(((st>>>16)*ot&65535)<<16)&4294967295)<<15|st>>>17))*at+(((st>>>16)*at&65535)<<16)&4294967295}return rt^=Ne.length,rt=2246822507*(65535&(rt^=rt>>>16))+((2246822507*(rt>>>16)&65535)<<16)&4294967295,rt=3266489909*(65535&(rt^=rt>>>13))+((3266489909*(rt>>>16)&65535)<<16)&4294967295,(rt^=rt>>>16)>>>0}})),Zc=e((function(Ne){Ne.exports=function(Ne,et){for(var tt,nt=Ne.length,rt=et^nt,it=0;nt>=4;)tt=1540483477*(65535&(tt=255&Ne.charCodeAt(it)|(255&Ne.charCodeAt(++it))<<8|(255&Ne.charCodeAt(++it))<<16|(255&Ne.charCodeAt(++it))<<24))+((1540483477*(tt>>>16)&65535)<<16),rt=1540483477*(65535&rt)+((1540483477*(rt>>>16)&65535)<<16)^(tt=1540483477*(65535&(tt^=tt>>>24))+((1540483477*(tt>>>16)&65535)<<16)),nt-=4,++it;switch(nt){case 3:rt^=(255&Ne.charCodeAt(it+2))<<16;case 2:rt^=(255&Ne.charCodeAt(it+1))<<8;case 1:rt=1540483477*(65535&(rt^=255&Ne.charCodeAt(it)))+((1540483477*(rt>>>16)&65535)<<16)}return rt=1540483477*(65535&(rt^=rt>>>13))+((1540483477*(rt>>>16)&65535)<<16),(rt^=rt>>>15)>>>0}})),Wc=Bc,Hc=Zc;Wc.murmur3=Bc,Wc.murmur2=Hc;var ha=function(){this.ids=[],this.positions=[],this.indexed=!1};ha.prototype.add=function(Ne,et,tt,nt){this.ids.push(ya(Ne)),this.positions.push(et,tt,nt)},ha.prototype.getPositions=function(Ne){for(var et=ya(Ne),tt=0,nt=this.ids.length-1;tt<nt;){var rt=tt+nt>>1;this.ids[rt]>=et?nt=rt:tt=rt+1}for(var it=[];this.ids[tt]===et;)it.push({index:this.positions[3*tt],start:this.positions[3*tt+1],end:this.positions[3*tt+2]}),tt++;return it},ha.serialize=function(Ne,et){var tt=new Float64Array(Ne.ids),nt=new Uint32Array(Ne.positions);return function t(Ne,et,tt,nt){for(;tt<nt;){for(var rt=Ne[tt+nt>>1],it=tt-1,ot=nt+1;;){do{it++}while(Ne[it]<rt);do{ot--}while(Ne[ot]>rt);if(it>=ot)break;da(Ne,it,ot),da(et,3*it,3*ot),da(et,3*it+1,3*ot+1),da(et,3*it+2,3*ot+2)}ot-tt<nt-ot?(t(Ne,et,tt,ot),tt=ot+1):(t(Ne,et,ot+1,nt),nt=ot)}}(tt,nt,0,tt.length-1),et&&et.push(tt.buffer,nt.buffer),{ids:tt,positions:nt}},ha.deserialize=function(Ne){var et=new ha;return et.ids=Ne.ids,et.positions=Ne.positions,et.indexed=!0,et};var Gc=Math.pow(2,53)-1;function ya(Ne){var et=+Ne;return!isNaN(et)&&et<=Gc?et:Wc(String(Ne))}function da(Ne,et,tt){var nt=Ne[et];Ne[et]=Ne[tt],Ne[tt]=nt}Dn("FeaturePositionMap",ha);var ma=function(Ne,et){this.gl=Ne.gl,this.location=et},Xc=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=0}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){this.current!==Ne&&(this.current=Ne,this.gl.uniform1i(this.location,Ne))},e}(ma),$c=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=0}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){this.current!==Ne&&(this.current=Ne,this.gl.uniform1f(this.location,Ne))},e}(ma),Yc=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=[0,0]}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne[0]===this.current[0]&&Ne[1]===this.current[1]||(this.current=Ne,this.gl.uniform2f(this.location,Ne[0],Ne[1]))},e}(ma),rp=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=[0,0,0]}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne[0]===this.current[0]&&Ne[1]===this.current[1]&&Ne[2]===this.current[2]||(this.current=Ne,this.gl.uniform3f(this.location,Ne[0],Ne[1],Ne[2]))},e}(ma),ip=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=[0,0,0,0]}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne[0]===this.current[0]&&Ne[1]===this.current[1]&&Ne[2]===this.current[2]&&Ne[3]===this.current[3]||(this.current=Ne,this.gl.uniform4f(this.location,Ne[0],Ne[1],Ne[2],Ne[3]))},e}(ma),op=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=Wt.transparent}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){Ne.r===this.current.r&&Ne.g===this.current.g&&Ne.b===this.current.b&&Ne.a===this.current.a||(this.current=Ne,this.gl.uniform4f(this.location,Ne.r,Ne.g,Ne.b,Ne.a))},e}(ma),ap=new Float32Array(16),sp=function(Ne){function e(et,tt){Ne.call(this,et,tt),this.current=ap}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){if(Ne[12]!==this.current[12]||Ne[0]!==this.current[0])return this.current=Ne,void this.gl.uniformMatrix4fv(this.location,!1,Ne);for(var et=1;et<16;et++)if(Ne[et]!==this.current[et]){this.current=Ne,this.gl.uniformMatrix4fv(this.location,!1,Ne);break}},e}(ma);function ka(Ne){return[oa(255*Ne.r,255*Ne.g),oa(255*Ne.b,255*Ne.a)]}var Ia=function(Ne,et,tt){this.value=Ne,this.uniformNames=et.map((function(Ne){return"u_"+Ne})),this.type=tt};Ia.prototype.setUniform=function(Ne,et,tt){Ne.set(tt.constantOr(this.value))},Ia.prototype.getBinding=function(Ne,et,tt){return"color"===this.type?new op(Ne,et):new $c(Ne,et)};var za=function(Ne,et){this.uniformNames=et.map((function(Ne){return"u_"+Ne})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};za.prototype.setConstantPatternPositions=function(Ne,et){this.pixelRatioFrom=et.pixelRatio,this.pixelRatioTo=Ne.pixelRatio,this.patternFrom=et.tlbr,this.patternTo=Ne.tlbr},za.prototype.setUniform=function(Ne,et,tt,nt){var rt="u_pattern_to"===nt?this.patternTo:"u_pattern_from"===nt?this.patternFrom:"u_pixel_ratio_to"===nt?this.pixelRatioTo:"u_pixel_ratio_from"===nt?this.pixelRatioFrom:null;rt&&Ne.set(rt)},za.prototype.getBinding=function(Ne,et,tt){return"u_pattern"===tt.substr(0,9)?new ip(Ne,et):new $c(Ne,et)};var Ca=function(Ne,et,tt,nt){this.expression=Ne,this.type=tt,this.maxValue=0,this.paintVertexAttributes=et.map((function(Ne){return{name:"a_"+Ne,type:"Float32",components:"color"===tt?2:1,offset:0}})),this.paintVertexArray=new nt};Ca.prototype.populatePaintArray=function(Ne,et,tt,nt,rt){var it=this.paintVertexArray.length,ot=this.expression.evaluate(new ai(0),et,{},nt,[],rt);this.paintVertexArray.resize(Ne),this._setPaintValue(it,Ne,ot)},Ca.prototype.updatePaintArray=function(Ne,et,tt,nt){var rt=this.expression.evaluate({zoom:0},tt,nt);this._setPaintValue(Ne,et,rt)},Ca.prototype._setPaintValue=function(Ne,et,tt){if("color"===this.type)for(var nt=ka(tt),rt=Ne;rt<et;rt++)this.paintVertexArray.emplace(rt,nt[0],nt[1]);else{for(var it=Ne;it<et;it++)this.paintVertexArray.emplace(it,tt);this.maxValue=Math.max(this.maxValue,Math.abs(tt))}},Ca.prototype.upload=function(Ne){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=Ne.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ca.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ma=function(Ne,et,tt,nt,rt,it){this.expression=Ne,this.uniformNames=et.map((function(Ne){return"u_"+Ne+"_t"})),this.type=tt,this.useIntegerZoom=nt,this.zoom=rt,this.maxValue=0,this.paintVertexAttributes=et.map((function(Ne){return{name:"a_"+Ne,type:"Float32",components:"color"===tt?4:2,offset:0}})),this.paintVertexArray=new it};Ma.prototype.populatePaintArray=function(Ne,et,tt,nt,rt){var it=this.expression.evaluate(new ai(this.zoom),et,{},nt,[],rt),ot=this.expression.evaluate(new ai(this.zoom+1),et,{},nt,[],rt),at=this.paintVertexArray.length;this.paintVertexArray.resize(Ne),this._setPaintValue(at,Ne,it,ot)},Ma.prototype.updatePaintArray=function(Ne,et,tt,nt){var rt=this.expression.evaluate({zoom:this.zoom},tt,nt),it=this.expression.evaluate({zoom:this.zoom+1},tt,nt);this._setPaintValue(Ne,et,rt,it)},Ma.prototype._setPaintValue=function(Ne,et,tt,nt){if("color"===this.type)for(var rt=ka(tt),it=ka(nt),ot=Ne;ot<et;ot++)this.paintVertexArray.emplace(ot,rt[0],rt[1],it[0],it[1]);else{for(var at=Ne;at<et;at++)this.paintVertexArray.emplace(at,tt,nt);this.maxValue=Math.max(this.maxValue,Math.abs(tt),Math.abs(nt))}},Ma.prototype.upload=function(Ne){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=Ne.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ma.prototype.setUniform=function(Ne,et){var tt=this.useIntegerZoom?Math.floor(et.zoom):et.zoom,nt=l(this.expression.interpolationFactor(tt,this.zoom,this.zoom+1),0,1);Ne.set(nt)},Ma.prototype.getBinding=function(Ne,et,tt){return new $c(Ne,et)};var Ea=function(Ne,et,tt,nt,rt,it){this.expression=Ne,this.type=et,this.useIntegerZoom=tt,this.zoom=nt,this.layerId=it,this.zoomInPaintVertexArray=new rt,this.zoomOutPaintVertexArray=new rt};Ea.prototype.populatePaintArray=function(Ne,et,tt){var nt=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(Ne),this.zoomOutPaintVertexArray.resize(Ne),this._setPaintValues(nt,Ne,et.patterns&&et.patterns[this.layerId],tt)},Ea.prototype.updatePaintArray=function(Ne,et,tt,nt,rt){this._setPaintValues(Ne,et,tt.patterns&&tt.patterns[this.layerId],rt)},Ea.prototype._setPaintValues=function(Ne,et,tt,nt){if(nt&&tt){var rt=nt[tt.min],it=nt[tt.mid],ot=nt[tt.max];if(rt&&it&&ot)for(var at=Ne;at<et;at++)this.zoomInPaintVertexArray.emplace(at,it.tl[0],it.tl[1],it.br[0],it.br[1],rt.tl[0],rt.tl[1],rt.br[0],rt.br[1],it.pixelRatio,rt.pixelRatio),this.zoomOutPaintVertexArray.emplace(at,it.tl[0],it.tl[1],it.br[0],it.br[1],ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],it.pixelRatio,ot.pixelRatio)}},Ea.prototype.upload=function(Ne){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=Ne.createVertexBuffer(this.zoomInPaintVertexArray,Fc.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=Ne.createVertexBuffer(this.zoomOutPaintVertexArray,Fc.members,this.expression.isStateDependent))},Ea.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ta=function(Ne,et,tt){this.binders={},this._buffers=[];var nt=[];for(var rt in Ne.paint._values)if(tt(rt)){var it=Ne.paint.get(rt);if(it instanceof hi&&Tr(it.property.specification)){var ot=Ba(rt,Ne.type),at=it.value,st=it.property.specification.type,ct=it.property.useIntegerZoom,pt=it.property.specification["property-type"],dt="cross-faded"===pt||"cross-faded-data-driven"===pt;if("constant"===at.kind)this.binders[rt]=dt?new za(at.value,ot):new Ia(at.value,ot,st),nt.push("/u_"+rt);else if("source"===at.kind||dt){var ft=Va(rt,st,"source");this.binders[rt]=dt?new Ea(at,st,ct,et,ft,Ne.id):new Ca(at,ot,st,ft),nt.push("/a_"+rt)}else{var mt=Va(rt,st,"composite");this.binders[rt]=new Ma(at,ot,st,ct,et,mt),nt.push("/z_"+rt)}}}this.cacheKey=nt.sort().join("")};Ta.prototype.getMaxValue=function(Ne){var et=this.binders[Ne];return et instanceof Ca||et instanceof Ma?et.maxValue:0},Ta.prototype.populatePaintArrays=function(Ne,et,tt,nt,rt){for(var it in this.binders){var ot=this.binders[it];(ot instanceof Ca||ot instanceof Ma||ot instanceof Ea)&&ot.populatePaintArray(Ne,et,tt,nt,rt)}},Ta.prototype.setConstantPatternPositions=function(Ne,et){for(var tt in this.binders){var nt=this.binders[tt];nt instanceof za&&nt.setConstantPatternPositions(Ne,et)}},Ta.prototype.updatePaintArrays=function(Ne,et,tt,nt,rt){var it=!1;for(var ot in Ne)for(var at=0,st=et.getPositions(ot);at<st.length;at+=1){var ct=st[at],pt=tt.feature(ct.index);for(var dt in this.binders){var ft=this.binders[dt];if((ft instanceof Ca||ft instanceof Ma||ft instanceof Ea)&&!0===ft.expression.isStateDependent){var mt=nt.paint.get(dt);ft.expression=mt.value,ft.updatePaintArray(ct.start,ct.end,pt,Ne[ot],rt),it=!0}}}return it},Ta.prototype.defines=function(){var Ne=[];for(var et in this.binders){var tt=this.binders[et];(tt instanceof Ia||tt instanceof za)&&Ne.push.apply(Ne,tt.uniformNames.map((function(Ne){return"#define HAS_UNIFORM_"+Ne})))}return Ne},Ta.prototype.getBinderAttributes=function(){var Ne=[];for(var et in this.binders){var tt=this.binders[et];if(tt instanceof Ca||tt instanceof Ma)for(var nt=0;nt<tt.paintVertexAttributes.length;nt++)Ne.push(tt.paintVertexAttributes[nt].name);else if(tt instanceof Ea)for(var rt=0;rt<Fc.members.length;rt++)Ne.push(Fc.members[rt].name)}return Ne},Ta.prototype.getBinderUniforms=function(){var Ne=[];for(var et in this.binders){var tt=this.binders[et];if(tt instanceof Ia||tt instanceof za||tt instanceof Ma)for(var nt=0,rt=tt.uniformNames;nt<rt.length;nt+=1)Ne.push(rt[nt])}return Ne},Ta.prototype.getPaintVertexBuffers=function(){return this._buffers},Ta.prototype.getUniforms=function(Ne,et){var tt=[];for(var nt in this.binders){var rt=this.binders[nt];if(rt instanceof Ia||rt instanceof za||rt instanceof Ma)for(var it=0,ot=rt.uniformNames;it<ot.length;it+=1){var at=ot[it];if(et[at]){var st=rt.getBinding(Ne,et[at],at);tt.push({name:at,property:nt,binding:st})}}}return tt},Ta.prototype.setUniforms=function(Ne,et,tt,nt){for(var rt=0,it=et;rt<it.length;rt+=1){var ot=it[rt],at=ot.name,st=ot.property;this.binders[st].setUniform(ot.binding,nt,tt.get(st),at)}},Ta.prototype.updatePaintBuffers=function(Ne){for(var et in this._buffers=[],this.binders){var tt=this.binders[et];if(Ne&&tt instanceof Ea){var nt=2===Ne.fromScale?tt.zoomInPaintVertexBuffer:tt.zoomOutPaintVertexBuffer;nt&&this._buffers.push(nt)}else(tt instanceof Ca||tt instanceof Ma)&&tt.paintVertexBuffer&&this._buffers.push(tt.paintVertexBuffer)}},Ta.prototype.upload=function(Ne){for(var et in this.binders){var tt=this.binders[et];(tt instanceof Ca||tt instanceof Ma||tt instanceof Ea)&&tt.upload(Ne)}this.updatePaintBuffers()},Ta.prototype.destroy=function(){for(var Ne in this.binders){var et=this.binders[Ne];(et instanceof Ca||et instanceof Ma||et instanceof Ea)&&et.destroy()}};var Pa=function(Ne,et,tt){void 0===tt&&(tt=function(){return!0}),this.programConfigurations={};for(var nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt];this.programConfigurations[it.id]=new Ta(it,et,tt)}this.needsUpload=!1,this._featureMap=new ha,this._bufferOffset=0};function Ba(Ne,et){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[Ne]||[Ne.replace(et+"-","").replace(/-/g,"_")]}function Va(Ne,et,tt){var nt={color:{source:pc,composite:yc},number:{source:_u,composite:pc}},rt=function(Ne){return{"line-pattern":{source:wl,composite:wl},"fill-pattern":{source:wl,composite:wl},"fill-extrusion-pattern":{source:wl,composite:wl}}[Ne]}(Ne);return rt&&rt[tt]||nt[et][tt]}Pa.prototype.populatePaintArrays=function(Ne,et,tt,nt,rt,it){for(var ot in this.programConfigurations)this.programConfigurations[ot].populatePaintArrays(Ne,et,nt,rt,it);void 0!==et.id&&this._featureMap.add(et.id,tt,this._bufferOffset,Ne),this._bufferOffset=Ne,this.needsUpload=!0},Pa.prototype.updatePaintArrays=function(Ne,et,tt,nt){for(var rt=0,it=tt;rt<it.length;rt+=1){var ot=it[rt];this.needsUpload=this.programConfigurations[ot.id].updatePaintArrays(Ne,this._featureMap,et,ot,nt)||this.needsUpload}},Pa.prototype.get=function(Ne){return this.programConfigurations[Ne]},Pa.prototype.upload=function(Ne){if(this.needsUpload){for(var et in this.programConfigurations)this.programConfigurations[et].upload(Ne);this.needsUpload=!1}},Pa.prototype.destroy=function(){for(var Ne in this.programConfigurations)this.programConfigurations[Ne].destroy()},Dn("ConstantBinder",Ia),Dn("CrossFadedConstantBinder",za),Dn("SourceExpressionBinder",Ca),Dn("CrossFadedCompositeBinder",Ea),Dn("CompositeExpressionBinder",Ma),Dn("ProgramConfiguration",Ta,{omit:["_buffers"]}),Dn("ProgramConfigurationSet",Pa);var lp=Math.pow(2,14)-1,cp=-lp-1;function La(Ne){for(var et=8192/Ne.extent,tt=Ne.loadGeometry(),nt=0;nt<tt.length;nt++)for(var rt=tt[nt],it=0;it<rt.length;it++){var ot=rt[it],at=Math.round(ot.x*et),st=Math.round(ot.y*et);ot.x=l(at,cp,lp),ot.y=l(st,cp,lp),(at<ot.x||at>ot.x+1||st<ot.y||st>ot.y+1)&&_("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return tt}function Ra(Ne,et,tt,nt,rt){Ne.emplaceBack(2*et+(nt+1)/2,2*tt+(rt+1)/2)}var Oa=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.layoutVertexArray=new vl,this.indexArray=new Hl,this.segments=new aa,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};function Ua(Ne,et){for(var tt=0;tt<Ne.length;tt++)if(Ha(et,Ne[tt]))return!0;for(var nt=0;nt<et.length;nt++)if(Ha(Ne,et[nt]))return!0;return!!Ka(Ne,et)}function ja(Ne,et,tt){return!!Ha(Ne,et)||!!Za(et,Ne,tt)}function qa(Ne,et){if(1===Ne.length)return Ja(et,Ne[0]);for(var tt=0;tt<et.length;tt++)for(var nt=et[tt],rt=0;rt<nt.length;rt++)if(Ha(Ne,nt[rt]))return!0;for(var it=0;it<Ne.length;it++)if(Ja(et,Ne[it]))return!0;for(var ot=0;ot<et.length;ot++)if(Ka(Ne,et[ot]))return!0;return!1}function Na(Ne,et,tt){if(Ne.length>1){if(Ka(Ne,et))return!0;for(var nt=0;nt<et.length;nt++)if(Za(et[nt],Ne,tt))return!0}for(var rt=0;rt<Ne.length;rt++)if(Za(Ne[rt],et,tt))return!0;return!1}function Ka(Ne,et){if(0===Ne.length||0===et.length)return!1;for(var tt=0;tt<Ne.length-1;tt++)for(var nt=Ne[tt],rt=Ne[tt+1],it=0;it<et.length-1;it++)if(Ga(nt,rt,et[it],et[it+1]))return!0;return!1}function Ga(Ne,et,tt,nt){return A(Ne,tt,nt)!==A(et,tt,nt)&&A(Ne,et,tt)!==A(Ne,et,nt)}function Za(Ne,et,tt){var nt=tt*tt;if(1===et.length)return Ne.distSqr(et[0])<nt;for(var rt=1;rt<et.length;rt++)if(Xa(Ne,et[rt-1],et[rt])<nt)return!0;return!1}function Xa(Ne,et,tt){var nt=et.distSqr(tt);if(0===nt)return Ne.distSqr(et);var rt=((Ne.x-et.x)*(tt.x-et.x)+(Ne.y-et.y)*(tt.y-et.y))/nt;return Ne.distSqr(rt<0?et:rt>1?tt:tt.sub(et)._mult(rt)._add(et))}function Ja(Ne,et){for(var tt,nt,rt,it=!1,ot=0;ot<Ne.length;ot++)for(var at=0,st=(tt=Ne[ot]).length-1;at<tt.length;st=at++)(nt=tt[at]).y>et.y!=(rt=tt[st]).y>et.y&&et.x<(rt.x-nt.x)*(et.y-nt.y)/(rt.y-nt.y)+nt.x&&(it=!it);return it}function Ha(Ne,et){for(var tt=!1,nt=0,rt=Ne.length-1;nt<Ne.length;rt=nt++){var it=Ne[nt],ot=Ne[rt];it.y>et.y!=ot.y>et.y&&et.x<(ot.x-it.x)*(et.y-it.y)/(ot.y-it.y)+it.x&&(tt=!tt)}return tt}function Ya(Ne,et,tt){var nt=tt[0],rt=tt[2];if(Ne.x<nt.x&&et.x<nt.x||Ne.x>rt.x&&et.x>rt.x||Ne.y<nt.y&&et.y<nt.y||Ne.y>rt.y&&et.y>rt.y)return!1;var it=A(Ne,et,tt[0]);return it!==A(Ne,et,tt[1])||it!==A(Ne,et,tt[2])||it!==A(Ne,et,tt[3])}function $a(Ne,et,tt){var nt=et.paint.get(Ne).value;return"constant"===nt.kind?nt.value:tt.programConfigurations.get(et.id).getMaxValue(Ne)}function Wa(Ne){return Math.sqrt(Ne[0]*Ne[0]+Ne[1]*Ne[1])}function Qa(Ne,et,nt,rt,it){if(!et[0]&&!et[1])return Ne;var ot=tt.convert(et)._mult(it);"viewport"===nt&&ot._rotate(-rt);for(var at=[],st=0;st<Ne.length;st++)at.push(Ne[st].sub(ot));return at}Oa.prototype.populate=function(Ne,et,tt){var nt=this.layers[0],rt=[],it=null;"circle"===nt.type&&(it=nt.layout.get("circle-sort-key"));for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot],ct=st.feature,pt=st.id,dt=st.index,ft=st.sourceLayerIndex,mt=this.layers[0]._featureFilter.needGeometry,yt={type:ct.type,id:pt,properties:ct.properties,geometry:mt?La(ct):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),yt,tt)){mt||(yt.geometry=La(ct));var vt=it?it.evaluate(yt,{},tt):void 0;rt.push({id:pt,properties:ct.properties,type:ct.type,sourceLayerIndex:ft,index:dt,geometry:yt.geometry,patterns:{},sortKey:vt})}}it&&rt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var Ot=0,Dt=rt;Ot<Dt.length;Ot+=1){var Rt=Dt[Ot],Bt=Rt.geometry,rn=Rt.index,vn=Rt.sourceLayerIndex,bn=Ne[rn].feature;this.addFeature(Rt,Bt,rn,tt),et.featureIndex.insert(bn,Bt,rn,vn,this.index)}},Oa.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},Oa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Oa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Oa.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,Dc),this.indexBuffer=Ne.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ne),this.uploaded=!0},Oa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Oa.prototype.addFeature=function(Ne,et,tt,nt){for(var rt=0,it=et;rt<it.length;rt+=1)for(var ot=0,at=it[rt];ot<at.length;ot+=1){var st=at[ot],ct=st.x,pt=st.y;if(!(ct<0||ct>=8192||pt<0||pt>=8192)){var dt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,Ne.sortKey),ft=dt.vertexLength;Ra(this.layoutVertexArray,ct,pt,-1,-1),Ra(this.layoutVertexArray,ct,pt,1,-1),Ra(this.layoutVertexArray,ct,pt,1,1),Ra(this.layoutVertexArray,ct,pt,-1,1),this.indexArray.emplaceBack(ft,ft+1,ft+2),this.indexArray.emplaceBack(ft,ft+3,ft+2),dt.vertexLength+=4,dt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,{},nt)},Dn("CircleBucket",Oa,{omit:["layers"]});var pp=new xi({"circle-sort-key":new di(Sr.layout_circle["circle-sort-key"])}),hp={paint:new xi({"circle-radius":new di(Sr.paint_circle["circle-radius"]),"circle-color":new di(Sr.paint_circle["circle-color"]),"circle-blur":new di(Sr.paint_circle["circle-blur"]),"circle-opacity":new di(Sr.paint_circle["circle-opacity"]),"circle-translate":new yi(Sr.paint_circle["circle-translate"]),"circle-translate-anchor":new yi(Sr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yi(Sr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yi(Sr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new di(Sr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new di(Sr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new di(Sr.paint_circle["circle-stroke-opacity"])}),layout:pp},dp="undefined"!=typeof Float32Array?Float32Array:Array;function no(Ne){return Ne[0]=1,Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[5]=1,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[10]=1,Ne[11]=0,Ne[12]=0,Ne[13]=0,Ne[14]=0,Ne[15]=1,Ne}function io(Ne,et,tt){var nt=et[0],rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],ct=et[6],pt=et[7],dt=et[8],ft=et[9],mt=et[10],yt=et[11],vt=et[12],Ot=et[13],Dt=et[14],Rt=et[15],Bt=tt[0],rn=tt[1],vn=tt[2],bn=tt[3];return Ne[0]=Bt*nt+rn*at+vn*dt+bn*vt,Ne[1]=Bt*rt+rn*st+vn*ft+bn*Ot,Ne[2]=Bt*it+rn*ct+vn*mt+bn*Dt,Ne[3]=Bt*ot+rn*pt+vn*yt+bn*Rt,Ne[4]=(Bt=tt[4])*nt+(rn=tt[5])*at+(vn=tt[6])*dt+(bn=tt[7])*vt,Ne[5]=Bt*rt+rn*st+vn*ft+bn*Ot,Ne[6]=Bt*it+rn*ct+vn*mt+bn*Dt,Ne[7]=Bt*ot+rn*pt+vn*yt+bn*Rt,Ne[8]=(Bt=tt[8])*nt+(rn=tt[9])*at+(vn=tt[10])*dt+(bn=tt[11])*vt,Ne[9]=Bt*rt+rn*st+vn*ft+bn*Ot,Ne[10]=Bt*it+rn*ct+vn*mt+bn*Dt,Ne[11]=Bt*ot+rn*pt+vn*yt+bn*Rt,Ne[12]=(Bt=tt[12])*nt+(rn=tt[13])*at+(vn=tt[14])*dt+(bn=tt[15])*vt,Ne[13]=Bt*rt+rn*st+vn*ft+bn*Ot,Ne[14]=Bt*it+rn*ct+vn*mt+bn*Dt,Ne[15]=Bt*ot+rn*pt+vn*yt+bn*Rt,Ne}Math.hypot||(Math.hypot=function(){for(var Ne=arguments,et=0,tt=arguments.length;tt--;)et+=Ne[tt]*Ne[tt];return Math.sqrt(et)});var fp,mp=io;function so(Ne,et,tt){var nt=et[0],rt=et[1],it=et[2],ot=et[3];return Ne[0]=tt[0]*nt+tt[4]*rt+tt[8]*it+tt[12]*ot,Ne[1]=tt[1]*nt+tt[5]*rt+tt[9]*it+tt[13]*ot,Ne[2]=tt[2]*nt+tt[6]*rt+tt[10]*it+tt[14]*ot,Ne[3]=tt[3]*nt+tt[7]*rt+tt[11]*it+tt[15]*ot,Ne}fp=new dp(3),dp!=Float32Array&&(fp[0]=0,fp[1]=0,fp[2]=0),function(){var Ne=new dp(4);dp!=Float32Array&&(Ne[0]=0,Ne[1]=0,Ne[2]=0,Ne[3]=0)}();var gp=(function(){var Ne=new dp(2);dp!=Float32Array&&(Ne[0]=0,Ne[1]=0)}(),function(Ne){function e(et){Ne.call(this,et,hp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.createBucket=function(Ne){return new Oa(Ne)},e.prototype.queryRadius=function(Ne){var et=Ne;return $a("circle-radius",this,et)+$a("circle-stroke-width",this,et)+Wa(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(Ne,et,tt,nt,rt,it,ot,at){for(var st=Qa(Ne,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),it.angle,ot),ct=this.paint.get("circle-radius").evaluate(et,tt)+this.paint.get("circle-stroke-width").evaluate(et,tt),pt="map"===this.paint.get("circle-pitch-alignment"),dt=pt?st:function(Ne,et){return Ne.map((function(Ne){return lo(Ne,et)}))}(st,at),ft=pt?ct*ot:ct,mt=0,yt=nt;mt<yt.length;mt+=1)for(var vt=0,Ot=yt[mt];vt<Ot.length;vt+=1){var Dt=Ot[vt],Rt=pt?Dt:lo(Dt,at),Bt=ft,rn=so([],[Dt.x,Dt.y,0,1],at);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Bt*=rn[3]/it.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Bt*=it.cameraToCenterDistance/rn[3]),ja(dt,Rt,Bt))return!0}return!1},e}(gl));function lo(Ne,et){var nt=so([],[Ne.x,Ne.y,0,1],et);return new tt(nt[0]/nt[3],nt[1]/nt[3])}var yp=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(Oa);function co(Ne,et,tt,nt){var rt=et.width,it=et.height;if(nt){if(nt instanceof Uint8ClampedArray)nt=new Uint8Array(nt.buffer);else if(nt.length!==rt*it*tt)throw new RangeError("mismatched image size")}else nt=new Uint8Array(rt*it*tt);return Ne.width=rt,Ne.height=it,Ne.data=nt,Ne}function ho(Ne,et,tt){var nt=et.width,rt=et.height;if(nt!==Ne.width||rt!==Ne.height){var it=co({},{width:nt,height:rt},tt);fo(Ne,it,{x:0,y:0},{x:0,y:0},{width:Math.min(Ne.width,nt),height:Math.min(Ne.height,rt)},tt),Ne.width=nt,Ne.height=rt,Ne.data=it.data}}function fo(Ne,et,tt,nt,rt,it){if(0===rt.width||0===rt.height)return et;if(rt.width>Ne.width||rt.height>Ne.height||tt.x>Ne.width-rt.width||tt.y>Ne.height-rt.height)throw new RangeError("out of range source coordinates for image copy");if(rt.width>et.width||rt.height>et.height||nt.x>et.width-rt.width||nt.y>et.height-rt.height)throw new RangeError("out of range destination coordinates for image copy");for(var ot=Ne.data,at=et.data,st=0;st<rt.height;st++)for(var ct=((tt.y+st)*Ne.width+tt.x)*it,pt=((nt.y+st)*et.width+nt.x)*it,dt=0;dt<rt.width*it;dt++)at[pt+dt]=ot[ct+dt];return et}Dn("HeatmapBucket",yp,{omit:["layers"]});var yo=function(Ne,et){co(this,Ne,1,et)};yo.prototype.resize=function(Ne){ho(this,Ne,1)},yo.prototype.clone=function(){return new yo({width:this.width,height:this.height},new Uint8Array(this.data))},yo.copy=function(Ne,et,tt,nt,rt){fo(Ne,et,tt,nt,rt,1)};var mo=function(Ne,et){co(this,Ne,4,et)};mo.prototype.resize=function(Ne){ho(this,Ne,4)},mo.prototype.replace=function(Ne,et){et?this.data.set(Ne):this.data=Ne instanceof Uint8ClampedArray?new Uint8Array(Ne.buffer):Ne},mo.prototype.clone=function(){return new mo({width:this.width,height:this.height},new Uint8Array(this.data))},mo.copy=function(Ne,et,tt,nt,rt){fo(Ne,et,tt,nt,rt,4)},Dn("AlphaImage",yo),Dn("RGBAImage",mo);var vp={paint:new xi({"heatmap-radius":new di(Sr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new di(Sr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yi(Sr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gi(Sr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yi(Sr.paint_heatmap["heatmap-opacity"])})};function go(Ne,et){for(var tt=new Uint8Array(1024),nt={},rt=0,it=0;rt<256;rt++,it+=4){nt[et]=rt/255;var ot=Ne.evaluate(nt);tt[it+0]=Math.floor(255*ot.r/ot.a),tt[it+1]=Math.floor(255*ot.g/ot.a),tt[it+2]=Math.floor(255*ot.b/ot.a),tt[it+3]=Math.floor(255*ot.a)}return new mo({width:256,height:1},tt)}var _p=function(Ne){function e(et){Ne.call(this,et,vp),this._updateColorRamp()}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.createBucket=function(Ne){return new yp(Ne)},e.prototype._handleSpecialPaintPropertyUpdate=function(Ne){"heatmap-color"===Ne&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=go(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(gl),bp={paint:new xi({"hillshade-illumination-direction":new yi(Sr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yi(Sr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yi(Sr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yi(Sr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yi(Sr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yi(Sr.paint_hillshade["hillshade-accent-color"])})},xp=function(Ne){function e(et){Ne.call(this,et,bp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(gl),wp=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,Sp=ko,Ep=ko;function ko(Ne,et,tt){tt=tt||2;var nt,rt,it,ot,at,st,ct,pt=et&&et.length,dt=pt?et[0]*tt:Ne.length,ft=Io(Ne,0,dt,tt,!0),mt=[];if(!ft||ft.next===ft.prev)return mt;if(pt&&(ft=function(Ne,et,tt,nt){var rt,it,ot,at=[];for(rt=0,it=et.length;rt<it;rt++)(ot=Io(Ne,et[rt]*nt,rt<it-1?et[rt+1]*nt:Ne.length,nt,!1))===ot.next&&(ot.steiner=!0),at.push(Lo(ot));for(at.sort(Bo),rt=0;rt<at.length;rt++)Vo(at[rt],tt),tt=zo(tt,tt.next);return tt}(Ne,et,ft,tt)),Ne.length>80*tt){nt=it=Ne[0],rt=ot=Ne[1];for(var yt=tt;yt<dt;yt+=tt)(at=Ne[yt])<nt&&(nt=at),(st=Ne[yt+1])<rt&&(rt=st),at>it&&(it=at),st>ot&&(ot=st);ct=0!==(ct=Math.max(it-nt,ot-rt))?1/ct:0}return Co(ft,mt,tt,nt,rt,ct),mt}function Io(Ne,et,tt,nt,rt){var it,ot;if(rt===Yo(Ne,et,tt,nt)>0)for(it=et;it<tt;it+=nt)ot=Xo(it,Ne[it],Ne[it+1],ot);else for(it=tt-nt;it>=et;it-=nt)ot=Xo(it,Ne[it],Ne[it+1],ot);return ot&&jo(ot,ot.next)&&(Jo(ot),ot=ot.next),ot}function zo(Ne,et){if(!Ne)return Ne;et||(et=Ne);var tt,nt=Ne;do{if(tt=!1,nt.steiner||!jo(nt,nt.next)&&0!==Uo(nt.prev,nt,nt.next))nt=nt.next;else{if(Jo(nt),(nt=et=nt.prev)===nt.next)break;tt=!0}}while(tt||nt!==et);return et}function Co(Ne,et,tt,nt,rt,it,ot){if(Ne){!ot&&it&&function(Ne,et,tt,nt){var rt=Ne;do{null===rt.z&&(rt.z=Do(rt.x,rt.y,et,tt,nt)),rt.prevZ=rt.prev,rt.nextZ=rt.next,rt=rt.next}while(rt!==Ne);rt.prevZ.nextZ=null,rt.prevZ=null,function(Ne){var et,tt,nt,rt,it,ot,at,st,ct=1;do{for(tt=Ne,Ne=null,it=null,ot=0;tt;){for(ot++,nt=tt,at=0,et=0;et<ct&&(at++,nt=nt.nextZ);et++);for(st=ct;at>0||st>0&&nt;)0!==at&&(0===st||!nt||tt.z<=nt.z)?(rt=tt,tt=tt.nextZ,at--):(rt=nt,nt=nt.nextZ,st--),it?it.nextZ=rt:Ne=rt,rt.prevZ=it,it=rt;tt=nt}it.nextZ=null,ct*=2}while(ot>1)}(rt)}(Ne,nt,rt,it);for(var at,st,ct=Ne;Ne.prev!==Ne.next;)if(at=Ne.prev,st=Ne.next,it?Eo(Ne,nt,rt,it):Mo(Ne))et.push(at.i/tt),et.push(Ne.i/tt),et.push(st.i/tt),Jo(Ne),Ne=st.next,ct=st.next;else if((Ne=st)===ct){ot?1===ot?Co(Ne=To(zo(Ne),et,tt),et,tt,nt,rt,it,2):2===ot&&Po(Ne,et,tt,nt,rt,it):Co(zo(Ne),et,tt,nt,rt,it,1);break}}}function Mo(Ne){var et=Ne.prev,tt=Ne,nt=Ne.next;if(Uo(et,tt,nt)>=0)return!1;for(var rt=Ne.next.next;rt!==Ne.prev;){if(Ro(et.x,et.y,tt.x,tt.y,nt.x,nt.y,rt.x,rt.y)&&Uo(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function Eo(Ne,et,tt,nt){var rt=Ne.prev,it=Ne,ot=Ne.next;if(Uo(rt,it,ot)>=0)return!1;for(var at=rt.x>it.x?rt.x>ot.x?rt.x:ot.x:it.x>ot.x?it.x:ot.x,st=rt.y>it.y?rt.y>ot.y?rt.y:ot.y:it.y>ot.y?it.y:ot.y,ct=Do(rt.x<it.x?rt.x<ot.x?rt.x:ot.x:it.x<ot.x?it.x:ot.x,rt.y<it.y?rt.y<ot.y?rt.y:ot.y:it.y<ot.y?it.y:ot.y,et,tt,nt),pt=Do(at,st,et,tt,nt),dt=Ne.prevZ,ft=Ne.nextZ;dt&&dt.z>=ct&&ft&&ft.z<=pt;){if(dt!==Ne.prev&&dt!==Ne.next&&Ro(rt.x,rt.y,it.x,it.y,ot.x,ot.y,dt.x,dt.y)&&Uo(dt.prev,dt,dt.next)>=0)return!1;if(dt=dt.prevZ,ft!==Ne.prev&&ft!==Ne.next&&Ro(rt.x,rt.y,it.x,it.y,ot.x,ot.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}for(;dt&&dt.z>=ct;){if(dt!==Ne.prev&&dt!==Ne.next&&Ro(rt.x,rt.y,it.x,it.y,ot.x,ot.y,dt.x,dt.y)&&Uo(dt.prev,dt,dt.next)>=0)return!1;dt=dt.prevZ}for(;ft&&ft.z<=pt;){if(ft!==Ne.prev&&ft!==Ne.next&&Ro(rt.x,rt.y,it.x,it.y,ot.x,ot.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}return!0}function To(Ne,et,tt){var nt=Ne;do{var rt=nt.prev,it=nt.next.next;!jo(rt,it)&&qo(rt,nt,nt.next,it)&&Go(rt,it)&&Go(it,rt)&&(et.push(rt.i/tt),et.push(nt.i/tt),et.push(it.i/tt),Jo(nt),Jo(nt.next),nt=Ne=it),nt=nt.next}while(nt!==Ne);return zo(nt)}function Po(Ne,et,tt,nt,rt,it){var ot=Ne;do{for(var at=ot.next.next;at!==ot.prev;){if(ot.i!==at.i&&Oo(ot,at)){var st=Zo(ot,at);return ot=zo(ot,ot.next),st=zo(st,st.next),Co(ot,et,tt,nt,rt,it),void Co(st,et,tt,nt,rt,it)}at=at.next}ot=ot.next}while(ot!==Ne)}function Bo(Ne,et){return Ne.x-et.x}function Vo(Ne,et){if(et=function(Ne,et){var tt,nt=et,rt=Ne.x,it=Ne.y,ot=-1/0;do{if(it<=nt.y&&it>=nt.next.y&&nt.next.y!==nt.y){var at=nt.x+(it-nt.y)*(nt.next.x-nt.x)/(nt.next.y-nt.y);if(at<=rt&&at>ot){if(ot=at,at===rt){if(it===nt.y)return nt;if(it===nt.next.y)return nt.next}tt=nt.x<nt.next.x?nt:nt.next}}nt=nt.next}while(nt!==et);if(!tt)return null;if(rt===ot)return tt;var st,ct=tt,pt=tt.x,dt=tt.y,ft=1/0;nt=tt;do{rt>=nt.x&&nt.x>=pt&&rt!==nt.x&&Ro(it<dt?rt:ot,it,pt,dt,it<dt?ot:rt,it,nt.x,nt.y)&&(st=Math.abs(it-nt.y)/(rt-nt.x),Go(nt,Ne)&&(st<ft||st===ft&&(nt.x>tt.x||nt.x===tt.x&&Fo(tt,nt)))&&(tt=nt,ft=st)),nt=nt.next}while(nt!==ct);return tt}(Ne,et)){var tt=Zo(et,Ne);zo(et,et.next),zo(tt,tt.next)}}function Fo(Ne,et){return Uo(Ne.prev,Ne,et.prev)<0&&Uo(et.next,Ne,Ne.next)<0}function Do(Ne,et,tt,nt,rt){return(Ne=1431655765&((Ne=858993459&((Ne=252645135&((Ne=16711935&((Ne=32767*(Ne-tt)*rt)|Ne<<8))|Ne<<4))|Ne<<2))|Ne<<1))|(et=1431655765&((et=858993459&((et=252645135&((et=16711935&((et=32767*(et-nt)*rt)|et<<8))|et<<4))|et<<2))|et<<1))<<1}function Lo(Ne){var et=Ne,tt=Ne;do{(et.x<tt.x||et.x===tt.x&&et.y<tt.y)&&(tt=et),et=et.next}while(et!==Ne);return tt}function Ro(Ne,et,tt,nt,rt,it,ot,at){return(rt-ot)*(et-at)-(Ne-ot)*(it-at)>=0&&(Ne-ot)*(nt-at)-(tt-ot)*(et-at)>=0&&(tt-ot)*(it-at)-(rt-ot)*(nt-at)>=0}function Oo(Ne,et){return Ne.next.i!==et.i&&Ne.prev.i!==et.i&&!function(Ne,et){var tt=Ne;do{if(tt.i!==Ne.i&&tt.next.i!==Ne.i&&tt.i!==et.i&&tt.next.i!==et.i&&qo(tt,tt.next,Ne,et))return!0;tt=tt.next}while(tt!==Ne);return!1}(Ne,et)&&(Go(Ne,et)&&Go(et,Ne)&&function(Ne,et){var tt=Ne,nt=!1,rt=(Ne.x+et.x)/2,it=(Ne.y+et.y)/2;do{tt.y>it!=tt.next.y>it&&tt.next.y!==tt.y&&rt<(tt.next.x-tt.x)*(it-tt.y)/(tt.next.y-tt.y)+tt.x&&(nt=!nt),tt=tt.next}while(tt!==Ne);return nt}(Ne,et)&&(Uo(Ne.prev,Ne,et.prev)||Uo(Ne,et.prev,et))||jo(Ne,et)&&Uo(Ne.prev,Ne,Ne.next)>0&&Uo(et.prev,et,et.next)>0)}function Uo(Ne,et,tt){return(et.y-Ne.y)*(tt.x-et.x)-(et.x-Ne.x)*(tt.y-et.y)}function jo(Ne,et){return Ne.x===et.x&&Ne.y===et.y}function qo(Ne,et,tt,nt){var rt=Ko(Uo(Ne,et,tt)),it=Ko(Uo(Ne,et,nt)),ot=Ko(Uo(tt,nt,Ne)),at=Ko(Uo(tt,nt,et));return rt!==it&&ot!==at||!(0!==rt||!No(Ne,tt,et))||!(0!==it||!No(Ne,nt,et))||!(0!==ot||!No(tt,Ne,nt))||!(0!==at||!No(tt,et,nt))}function No(Ne,et,tt){return et.x<=Math.max(Ne.x,tt.x)&&et.x>=Math.min(Ne.x,tt.x)&&et.y<=Math.max(Ne.y,tt.y)&&et.y>=Math.min(Ne.y,tt.y)}function Ko(Ne){return Ne>0?1:Ne<0?-1:0}function Go(Ne,et){return Uo(Ne.prev,Ne,Ne.next)<0?Uo(Ne,et,Ne.next)>=0&&Uo(Ne,Ne.prev,et)>=0:Uo(Ne,et,Ne.prev)<0||Uo(Ne,Ne.next,et)<0}function Zo(Ne,et){var tt=new Ho(Ne.i,Ne.x,Ne.y),nt=new Ho(et.i,et.x,et.y),rt=Ne.next,it=et.prev;return Ne.next=et,et.prev=Ne,tt.next=rt,rt.prev=tt,nt.next=tt,tt.prev=nt,it.next=nt,nt.prev=it,nt}function Xo(Ne,et,tt,nt){var rt=new Ho(Ne,et,tt);return nt?(rt.next=nt.next,rt.prev=nt,nt.next.prev=rt,nt.next=rt):(rt.prev=rt,rt.next=rt),rt}function Jo(Ne){Ne.next.prev=Ne.prev,Ne.prev.next=Ne.next,Ne.prevZ&&(Ne.prevZ.nextZ=Ne.nextZ),Ne.nextZ&&(Ne.nextZ.prevZ=Ne.prevZ)}function Ho(Ne,et,tt){this.i=Ne,this.x=et,this.y=tt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yo(Ne,et,tt,nt){for(var rt=0,it=et,ot=tt-nt;it<tt;it+=nt)rt+=(Ne[ot]-Ne[it])*(Ne[it+1]+Ne[ot+1]),ot=it;return rt}function $o(Ne,et,tt,nt,rt){!function t(Ne,et,tt,nt,rt){for(;nt>tt;){if(nt-tt>600){var it=nt-tt+1,ot=et-tt+1,at=Math.log(it),st=.5*Math.exp(2*at/3),ct=.5*Math.sqrt(at*st*(it-st)/it)*(ot-it/2<0?-1:1);t(Ne,et,Math.max(tt,Math.floor(et-ot*st/it+ct)),Math.min(nt,Math.floor(et+(it-ot)*st/it+ct)),rt)}var pt=Ne[et],dt=tt,ft=nt;for(Wo(Ne,tt,et),rt(Ne[nt],pt)>0&&Wo(Ne,tt,nt);dt<ft;){for(Wo(Ne,dt,ft),dt++,ft--;rt(Ne[dt],pt)<0;)dt++;for(;rt(Ne[ft],pt)>0;)ft--}0===rt(Ne[tt],pt)?Wo(Ne,tt,ft):Wo(Ne,++ft,nt),ft<=et&&(tt=ft+1),et<=ft&&(nt=ft-1)}}(Ne,et,tt||0,nt||Ne.length-1,rt||Qo)}function Wo(Ne,et,tt){var nt=Ne[et];Ne[et]=Ne[tt],Ne[tt]=nt}function Qo(Ne,et){return Ne<et?-1:Ne>et?1:0}function ts(Ne,et){var tt=Ne.length;if(tt<=1)return[Ne];for(var nt,rt,it=[],ot=0;ot<tt;ot++){var at=S(Ne[ot]);0!==at&&(Ne[ot].area=Math.abs(at),void 0===rt&&(rt=at<0),rt===at<0?(nt&&it.push(nt),nt=[Ne[ot]]):nt.push(Ne[ot]))}if(nt&&it.push(nt),et>1)for(var st=0;st<it.length;st++)it[st].length<=et||($o(it[st],et,1,it[st].length-1,es),it[st]=it[st].slice(0,et));return it}function es(Ne,et){return et.area-Ne.area}function rs(Ne,et,tt){for(var nt=tt.patternDependencies,rt=!1,it=0,ot=et;it<ot.length;it+=1){var at=ot[it].paint.get(Ne+"-pattern");at.isConstant()||(rt=!0);var st=at.constantOr(null);st&&(rt=!0,nt[st.to]=!0,nt[st.from]=!0)}return rt}function ns(Ne,et,tt,nt,rt){for(var it=rt.patternDependencies,ot=0,at=et;ot<at.length;ot+=1){var st=at[ot],ct=st.paint.get(Ne+"-pattern").value;if("constant"!==ct.kind){var pt=ct.evaluate({zoom:nt-1},tt,{},rt.availableImages),dt=ct.evaluate({zoom:nt},tt,{},rt.availableImages),ft=ct.evaluate({zoom:nt+1},tt,{},rt.availableImages);dt=dt&&dt.name?dt.name:dt,ft=ft&&ft.name?ft.name:ft,it[pt=pt&&pt.name?pt.name:pt]=!0,it[dt]=!0,it[ft]=!0,tt.patterns[st.id]={min:pt,mid:dt,max:ft}}}return tt}ko.deviation=function(Ne,et,tt,nt){var rt=et&&et.length,it=Math.abs(Yo(Ne,0,rt?et[0]*tt:Ne.length,tt));if(rt)for(var ot=0,at=et.length;ot<at;ot++)it-=Math.abs(Yo(Ne,et[ot]*tt,ot<at-1?et[ot+1]*tt:Ne.length,tt));var st=0;for(ot=0;ot<nt.length;ot+=3){var ct=nt[ot]*tt,pt=nt[ot+1]*tt,dt=nt[ot+2]*tt;st+=Math.abs((Ne[ct]-Ne[dt])*(Ne[pt+1]-Ne[ct+1])-(Ne[ct]-Ne[pt])*(Ne[dt+1]-Ne[ct+1]))}return 0===it&&0===st?0:Math.abs((st-it)/it)},ko.flatten=function(Ne){for(var et=Ne[0][0].length,tt={vertices:[],holes:[],dimensions:et},nt=0,rt=0;rt<Ne.length;rt++){for(var it=0;it<Ne[rt].length;it++)for(var ot=0;ot<et;ot++)tt.vertices.push(Ne[rt][it][ot]);rt>0&&tt.holes.push(nt+=Ne[rt-1].length)}return tt},Sp.default=Ep;var is=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new vl,this.indexArray=new Hl,this.indexArray2=new Fu,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.segments=new aa,this.segments2=new aa,this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};is.prototype.populate=function(Ne,et,tt){this.hasPattern=rs("fill",this.layers,et);for(var nt=this.layers[0].layout.get("fill-sort-key"),rt=[],it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.feature,ct=at.id,pt=at.index,dt=at.sourceLayerIndex,ft=this.layers[0]._featureFilter.needGeometry,mt={type:st.type,id:ct,properties:st.properties,geometry:ft?La(st):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),mt,tt)){ft||(mt.geometry=La(st));var yt=nt?nt.evaluate(mt,{},tt,et.availableImages):void 0;rt.push({id:ct,properties:st.properties,type:st.type,sourceLayerIndex:dt,index:pt,geometry:mt.geometry,patterns:{},sortKey:yt})}}nt&&rt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var vt=0,Ot=rt;vt<Ot.length;vt+=1){var Dt=Ot[vt],Rt=Dt.geometry,Bt=Dt.index,rn=Dt.sourceLayerIndex;if(this.hasPattern){var vn=ns("fill",this.layers,Dt,this.zoom,et);this.patternFeatures.push(vn)}else this.addFeature(Dt,Rt,Bt,tt,{});et.featureIndex.insert(Ne[Bt].feature,Rt,Bt,rn,this.index)}},is.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},is.prototype.addFeatures=function(Ne,et,tt){for(var nt=0,rt=this.patternFeatures;nt<rt.length;nt+=1){var it=rt[nt];this.addFeature(it,it.geometry,it.index,et,tt)}},is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},is.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,wp),this.indexBuffer=Ne.createIndexBuffer(this.indexArray),this.indexBuffer2=Ne.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(Ne),this.uploaded=!0},is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},is.prototype.addFeature=function(Ne,et,tt,nt,rt){for(var it=0,ot=ts(et,500);it<ot.length;it+=1){for(var at=ot[it],st=0,ct=0,pt=at;ct<pt.length;ct+=1)st+=pt[ct].length;for(var dt=this.segments.prepareSegment(st,this.layoutVertexArray,this.indexArray),ft=dt.vertexLength,mt=[],yt=[],vt=0,Ot=at;vt<Ot.length;vt+=1){var Dt=Ot[vt];if(0!==Dt.length){Dt!==at[0]&&yt.push(mt.length/2);var Rt=this.segments2.prepareSegment(Dt.length,this.layoutVertexArray,this.indexArray2),Bt=Rt.vertexLength;this.layoutVertexArray.emplaceBack(Dt[0].x,Dt[0].y),this.indexArray2.emplaceBack(Bt+Dt.length-1,Bt),mt.push(Dt[0].x),mt.push(Dt[0].y);for(var rn=1;rn<Dt.length;rn++)this.layoutVertexArray.emplaceBack(Dt[rn].x,Dt[rn].y),this.indexArray2.emplaceBack(Bt+rn-1,Bt+rn),mt.push(Dt[rn].x),mt.push(Dt[rn].y);Rt.vertexLength+=Dt.length,Rt.primitiveLength+=Dt.length}}for(var vn=Sp(mt,yt),bn=0;bn<vn.length;bn+=3)this.indexArray.emplaceBack(ft+vn[bn],ft+vn[bn+1],ft+vn[bn+2]);dt.vertexLength+=st,dt.primitiveLength+=vn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,rt,nt)},Dn("FillBucket",is,{omit:["layers","patternFeatures"]});var Tp=new xi({"fill-sort-key":new di(Sr.layout_fill["fill-sort-key"])}),Cp={paint:new xi({"fill-antialias":new yi(Sr.paint_fill["fill-antialias"]),"fill-opacity":new di(Sr.paint_fill["fill-opacity"]),"fill-color":new di(Sr.paint_fill["fill-color"]),"fill-outline-color":new di(Sr.paint_fill["fill-outline-color"]),"fill-translate":new yi(Sr.paint_fill["fill-translate"]),"fill-translate-anchor":new yi(Sr.paint_fill["fill-translate-anchor"]),"fill-pattern":new dl(Sr.paint_fill["fill-pattern"])}),layout:Tp},Pp=function(Ne){function e(et){Ne.call(this,et,Cp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.recalculate=function(et,tt){Ne.prototype.recalculate.call(this,et,tt);var nt=this.paint._values["fill-outline-color"];"constant"===nt.value.kind&&void 0===nt.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(Ne){return new is(Ne)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(Ne,et,tt,nt,rt,it,ot){return qa(Qa(Ne,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),it.angle,ot),nt)},e.prototype.isTileClipped=function(){return!0},e}(gl),kp=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Ip=ps;function ps(Ne,et,tt,nt,rt){this.properties={},this.extent=tt,this.type=0,this._pbf=Ne,this._geometry=-1,this._keys=nt,this._values=rt,Ne.readFields(cs,this,et)}function cs(Ne,et,tt){1==Ne?et.id=tt.readVarint():2==Ne?function(Ne,et){for(var tt=Ne.readVarint()+Ne.pos;Ne.pos<tt;){var nt=et._keys[Ne.readVarint()],rt=et._values[Ne.readVarint()];et.properties[nt]=rt}}(tt,et):3==Ne?et.type=tt.readVarint():4==Ne&&(et._geometry=tt.pos)}function hs(Ne){for(var et,tt,nt=0,rt=0,it=Ne.length,ot=it-1;rt<it;ot=rt++)nt+=((tt=Ne[ot]).x-(et=Ne[rt]).x)*(et.y+tt.y);return nt}ps.types=["Unknown","Point","LineString","Polygon"],ps.prototype.loadGeometry=function(){var Ne=this._pbf;Ne.pos=this._geometry;for(var et,nt=Ne.readVarint()+Ne.pos,rt=1,it=0,ot=0,at=0,st=[];Ne.pos<nt;){if(it<=0){var ct=Ne.readVarint();rt=7&ct,it=ct>>3}if(it--,1===rt||2===rt)ot+=Ne.readSVarint(),at+=Ne.readSVarint(),1===rt&&(et&&st.push(et),et=[]),et.push(new tt(ot,at));else{if(7!==rt)throw new Error("unknown command "+rt);et&&et.push(et[0].clone())}}return et&&st.push(et),st},ps.prototype.bbox=function(){var Ne=this._pbf;Ne.pos=this._geometry;for(var et=Ne.readVarint()+Ne.pos,tt=1,nt=0,rt=0,it=0,ot=1/0,at=-1/0,st=1/0,ct=-1/0;Ne.pos<et;){if(nt<=0){var pt=Ne.readVarint();tt=7&pt,nt=pt>>3}if(nt--,1===tt||2===tt)(rt+=Ne.readSVarint())<ot&&(ot=rt),rt>at&&(at=rt),(it+=Ne.readSVarint())<st&&(st=it),it>ct&&(ct=it);else if(7!==tt)throw new Error("unknown command "+tt)}return[ot,st,at,ct]},ps.prototype.toGeoJSON=function(Ne,et,tt){var nt,rt,it=this.extent*Math.pow(2,tt),ot=this.extent*Ne,at=this.extent*et,st=this.loadGeometry(),ct=ps.types[this.type];function p(Ne){for(var et=0;et<Ne.length;et++){var tt=Ne[et];Ne[et]=[360*(tt.x+ot)/it-180,360/Math.PI*Math.atan(Math.exp((180-360*(tt.y+at)/it)*Math.PI/180))-90]}}switch(this.type){case 1:var pt=[];for(nt=0;nt<st.length;nt++)pt[nt]=st[nt][0];p(st=pt);break;case 2:for(nt=0;nt<st.length;nt++)p(st[nt]);break;case 3:for(st=function(Ne){var et=Ne.length;if(et<=1)return[Ne];for(var tt,nt,rt=[],it=0;it<et;it++){var ot=hs(Ne[it]);0!==ot&&(void 0===nt&&(nt=ot<0),nt===ot<0?(tt&&rt.push(tt),tt=[Ne[it]]):tt.push(Ne[it]))}return tt&&rt.push(tt),rt}(st),nt=0;nt<st.length;nt++)for(rt=0;rt<st[nt].length;rt++)p(st[nt][rt])}1===st.length?st=st[0]:ct="Multi"+ct;var dt={type:"Feature",geometry:{type:ct,coordinates:st},properties:this.properties};return"id"in this&&(dt.id=this.id),dt};var Ap=ys;function ys(Ne,et){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=Ne,this._keys=[],this._values=[],this._features=[],Ne.readFields(ds,this,et),this.length=this._features.length}function ds(Ne,et,tt){15===Ne?et.version=tt.readVarint():1===Ne?et.name=tt.readString():5===Ne?et.extent=tt.readVarint():2===Ne?et._features.push(tt.pos):3===Ne?et._keys.push(tt.readString()):4===Ne&&et._values.push(function(Ne){for(var et=null,tt=Ne.readVarint()+Ne.pos;Ne.pos<tt;){var nt=Ne.readVarint()>>3;et=1===nt?Ne.readString():2===nt?Ne.readFloat():3===nt?Ne.readDouble():4===nt?Ne.readVarint64():5===nt?Ne.readVarint():6===nt?Ne.readSVarint():7===nt?Ne.readBoolean():null}return et}(tt))}function ms(Ne,et,tt){if(3===Ne){var nt=new Ap(tt,tt.readVarint()+tt.pos);nt.length&&(et[nt.name]=nt)}}ys.prototype.feature=function(Ne){if(Ne<0||Ne>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[Ne];var et=this._pbf.readVarint()+this._pbf.pos;return new Ip(this._pbf,et,this.extent,this._keys,this._values)};var Lp={VectorTile:function(Ne,et){this.layers=Ne.readFields(ms,{},et)},VectorTileFeature:Ip,VectorTileLayer:Ap},Mp=Lp.VectorTileFeature.types,Op=Math.pow(2,13);function bs(Ne,et,tt,nt,rt,it,ot,at){Ne.emplaceBack(et,tt,2*Math.floor(nt*Op)+ot,rt*Op*2,it*Op*2,Math.round(at))}var ws=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.layoutVertexArray=new bl,this.indexArray=new Hl,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};function _s(Ne,et){return Ne.x===et.x&&(Ne.x<0||Ne.x>8192)||Ne.y===et.y&&(Ne.y<0||Ne.y>8192)}ws.prototype.populate=function(Ne,et,tt){this.features=[],this.hasPattern=rs("fill-extrusion",this.layers,et);for(var nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt],ot=it.feature,at=it.id,st=it.index,ct=it.sourceLayerIndex,pt=this.layers[0]._featureFilter.needGeometry,dt={type:ot.type,id:at,properties:ot.properties,geometry:pt?La(ot):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),dt,tt)){var ft={id:at,sourceLayerIndex:ct,index:st,geometry:pt?dt.geometry:La(ot),properties:ot.properties,type:ot.type,patterns:{}};void 0!==ot.id&&(ft.id=ot.id),this.hasPattern?this.features.push(ns("fill-extrusion",this.layers,ft,this.zoom,et)):this.addFeature(ft,ft.geometry,st,tt,{}),et.featureIndex.insert(ot,ft.geometry,st,ct,this.index,!0)}}},ws.prototype.addFeatures=function(Ne,et,tt){for(var nt=0,rt=this.features;nt<rt.length;nt+=1){var it=rt[nt];this.addFeature(it,it.geometry,it.index,et,tt)}},ws.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},ws.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,kp),this.indexBuffer=Ne.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ne),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.addFeature=function(Ne,et,tt,nt,rt){for(var it=0,ot=ts(et,500);it<ot.length;it+=1){for(var at=ot[it],st=0,ct=0,pt=at;ct<pt.length;ct+=1)st+=pt[ct].length;for(var dt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ft=0,mt=at;ft<mt.length;ft+=1){var yt=mt[ft];if(0!==yt.length&&!((Vn=yt).every((function(Ne){return Ne.x<0}))||Vn.every((function(Ne){return Ne.x>8192}))||Vn.every((function(Ne){return Ne.y<0}))||Vn.every((function(Ne){return Ne.y>8192}))))for(var vt=0,Ot=0;Ot<yt.length;Ot++){var Dt=yt[Ot];if(Ot>=1){var Rt=yt[Ot-1];if(!_s(Dt,Rt)){dt.vertexLength+4>aa.MAX_VERTEX_ARRAY_LENGTH&&(dt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Bt=Dt.sub(Rt)._perp()._unit(),rn=Rt.dist(Dt);vt+rn>32768&&(vt=0),bs(this.layoutVertexArray,Dt.x,Dt.y,Bt.x,Bt.y,0,0,vt),bs(this.layoutVertexArray,Dt.x,Dt.y,Bt.x,Bt.y,0,1,vt),bs(this.layoutVertexArray,Rt.x,Rt.y,Bt.x,Bt.y,0,0,vt+=rn),bs(this.layoutVertexArray,Rt.x,Rt.y,Bt.x,Bt.y,0,1,vt);var vn=dt.vertexLength;this.indexArray.emplaceBack(vn,vn+2,vn+1),this.indexArray.emplaceBack(vn+1,vn+2,vn+3),dt.vertexLength+=4,dt.primitiveLength+=2}}}}if(dt.vertexLength+st>aa.MAX_VERTEX_ARRAY_LENGTH&&(dt=this.segments.prepareSegment(st,this.layoutVertexArray,this.indexArray)),"Polygon"===Mp[Ne.type]){for(var bn=[],Tn=[],Cn=dt.vertexLength,In=0,Ln=at;In<Ln.length;In+=1){var Mn=Ln[In];if(0!==Mn.length){Mn!==at[0]&&Tn.push(bn.length/2);for(var zn=0;zn<Mn.length;zn++){var Fn=Mn[zn];bs(this.layoutVertexArray,Fn.x,Fn.y,0,0,1,1,0),bn.push(Fn.x),bn.push(Fn.y)}}}for(var Bn=Sp(bn,Tn),Nn=0;Nn<Bn.length;Nn+=3)this.indexArray.emplaceBack(Cn+Bn[Nn],Cn+Bn[Nn+2],Cn+Bn[Nn+1]);dt.primitiveLength+=Bn.length/3,dt.vertexLength+=st}}var Vn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,rt,nt)},Dn("FillExtrusionBucket",ws,{omit:["layers","features"]});var zp={paint:new xi({"fill-extrusion-opacity":new yi(Sr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new di(Sr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yi(Sr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yi(Sr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new dl(Sr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new di(Sr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new di(Sr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yi(Sr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Dp=function(Ne){function e(et){Ne.call(this,et,zp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.createBucket=function(Ne){return new ws(Ne)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(Ne,et,nt,rt,it,ot,at,st){var ct=Qa(Ne,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ot.angle,at),pt=this.paint.get("fill-extrusion-height").evaluate(et,nt),dt=this.paint.get("fill-extrusion-base").evaluate(et,nt),ft=function(Ne,et,nt,rt){for(var it=[],ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot],ct=[st.x,st.y,0,1];so(ct,ct,et),it.push(new tt(ct[0]/ct[3],ct[1]/ct[3]))}return it}(ct,st),mt=function(Ne,et,nt,rt){for(var it=[],ot=[],at=rt[8]*et,st=rt[9]*et,ct=rt[10]*et,pt=rt[11]*et,dt=rt[8]*nt,ft=rt[9]*nt,mt=rt[10]*nt,yt=rt[11]*nt,vt=0,Ot=Ne;vt<Ot.length;vt+=1){for(var Dt=[],Rt=[],Bt=0,rn=Ot[vt];Bt<rn.length;Bt+=1){var vn=rn[Bt],bn=vn.x,Tn=vn.y,Cn=rt[0]*bn+rt[4]*Tn+rt[12],In=rt[1]*bn+rt[5]*Tn+rt[13],Ln=rt[2]*bn+rt[6]*Tn+rt[14],Mn=rt[3]*bn+rt[7]*Tn+rt[15],zn=Ln+ct,Fn=Mn+pt,Bn=Cn+dt,Nn=In+ft,Vn=Ln+mt,Wn=Mn+yt,$n=new tt((Cn+at)/Fn,(In+st)/Fn);$n.z=zn/Fn,Dt.push($n);var Yn=new tt(Bn/Wn,Nn/Wn);Yn.z=Vn/Wn,Rt.push(Yn)}it.push(Dt),ot.push(Rt)}return[it,ot]}(rt,dt,pt,st);return function(Ne,et,tt){var nt=1/0;qa(tt,et)&&(nt=Is(tt,et[0]));for(var rt=0;rt<et.length;rt++)for(var it=et[rt],ot=Ne[rt],at=0;at<it.length-1;at++){var st=it[at],ct=[st,it[at+1],ot[at+1],ot[at],st];Ua(tt,ct)&&(nt=Math.min(nt,Is(tt,ct)))}return nt!==1/0&&nt}(mt[0],mt[1],ft)},e}(gl);function ks(Ne,et){return Ne.x*et.x+Ne.y*et.y}function Is(Ne,et){if(1===Ne.length){for(var tt,nt=0,rt=et[nt++];!tt||rt.equals(tt);)if(!(tt=et[nt++]))return 1/0;for(;nt<et.length;nt++){var it=et[nt],ot=Ne[0],at=tt.sub(rt),st=it.sub(rt),ct=ot.sub(rt),pt=ks(at,at),dt=ks(at,st),ft=ks(st,st),mt=ks(ct,at),yt=ks(ct,st),vt=pt*ft-dt*dt,Ot=(ft*mt-dt*yt)/vt,Dt=(pt*yt-dt*mt)/vt,Rt=rt.z*(1-Ot-Dt)+tt.z*Ot+it.z*Dt;if(isFinite(Rt))return Rt}return 1/0}for(var Bt=1/0,rn=0,vn=et;rn<vn.length;rn+=1)Bt=Math.min(Bt,vn[rn].z);return Bt}var Rp=Si([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Fp=Lp.VectorTileFeature.types,Bp=Math.cos(Math.PI/180*37.5),jp=Math.pow(2,14)/.5,Ts=function(Ne){this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new xl,this.indexArray=new Hl,this.programConfigurations=new Pa(Ne.layers,Ne.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id}))};Ts.prototype.populate=function(Ne,et,tt){this.hasPattern=rs("line",this.layers,et);for(var nt=this.layers[0].layout.get("line-sort-key"),rt=[],it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.feature,ct=at.id,pt=at.index,dt=at.sourceLayerIndex,ft=this.layers[0]._featureFilter.needGeometry,mt={type:st.type,id:ct,properties:st.properties,geometry:ft?La(st):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),mt,tt)){ft||(mt.geometry=La(st));var yt=nt?nt.evaluate(mt,{},tt):void 0;rt.push({id:ct,properties:st.properties,type:st.type,sourceLayerIndex:dt,index:pt,geometry:mt.geometry,patterns:{},sortKey:yt})}}nt&&rt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var vt=0,Ot=rt;vt<Ot.length;vt+=1){var Dt=Ot[vt],Rt=Dt.geometry,Bt=Dt.index,rn=Dt.sourceLayerIndex;if(this.hasPattern){var vn=ns("line",this.layers,Dt,this.zoom,et);this.patternFeatures.push(vn)}else this.addFeature(Dt,Rt,Bt,tt,{});et.featureIndex.insert(Ne[Bt].feature,Rt,Bt,rn,this.index)}},Ts.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(Ne,et,this.stateDependentLayers,tt)},Ts.prototype.addFeatures=function(Ne,et,tt){for(var nt=0,rt=this.patternFeatures;nt<rt.length;nt+=1){var it=rt[nt];this.addFeature(it,it.geometry,it.index,et,tt)}},Ts.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ts.prototype.upload=function(Ne){this.uploaded||(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,Rp),this.indexBuffer=Ne.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(Ne),this.uploaded=!0},Ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ts.prototype.addFeature=function(Ne,et,tt,nt,rt){for(var it=this.layers[0].layout,ot=it.get("line-join").evaluate(Ne,{}),at=it.get("line-cap"),st=it.get("line-miter-limit"),ct=it.get("line-round-limit"),pt=0,dt=et;pt<dt.length;pt+=1)this.addLine(dt[pt],Ne,ot,at,st,ct);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,Ne,tt,rt,nt)},Ts.prototype.addLine=function(Ne,et,tt,nt,rt,it){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,et.properties&&et.properties.hasOwnProperty("mapbox_clip_start")&&et.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+et.properties.mapbox_clip_start,this.clipEnd=+et.properties.mapbox_clip_end;for(var ot=0;ot<Ne.length-1;ot++)this.totalDistance+=Ne[ot].dist(Ne[ot+1]);this.updateScaledDistance()}for(var at="Polygon"===Fp[et.type],st=Ne.length;st>=2&&Ne[st-1].equals(Ne[st-2]);)st--;for(var ct=0;ct<st-1&&Ne[ct].equals(Ne[ct+1]);)ct++;if(!(st<(at?3:2))){"bevel"===tt&&(rt=1.05);var pt,dt=this.overscaling<=16?122880/(512*this.overscaling):0,ft=this.segments.prepareSegment(10*st,this.layoutVertexArray,this.indexArray),mt=void 0,yt=void 0,vt=void 0,Ot=void 0;this.e1=this.e2=-1,at&&(Ot=Ne[ct].sub(pt=Ne[st-2])._unit()._perp());for(var Dt=ct;Dt<st;Dt++)if(!(yt=Dt===st-1?at?Ne[ct+1]:void 0:Ne[Dt+1])||!Ne[Dt].equals(yt)){Ot&&(vt=Ot),pt&&(mt=pt),pt=Ne[Dt],Ot=yt?yt.sub(pt)._unit()._perp():vt;var Rt=(vt=vt||Ot).add(Ot);0===Rt.x&&0===Rt.y||Rt._unit();var Bt=vt.x*Ot.x+vt.y*Ot.y,rn=Rt.x*Ot.x+Rt.y*Ot.y,vn=0!==rn?1/rn:1/0,bn=2*Math.sqrt(2-2*rn),Tn=rn<Bp&&mt&&yt,Cn=vt.x*Ot.y-vt.y*Ot.x>0;if(Tn&&Dt>ct){var In=pt.dist(mt);if(In>2*dt){var Ln=pt.sub(pt.sub(mt)._mult(dt/In)._round());this.updateDistance(mt,Ln),this.addCurrentVertex(Ln,vt,0,0,ft),mt=Ln}}var Mn=mt&&yt,zn=Mn?tt:at?"butt":nt;if(Mn&&"round"===zn&&(vn<it?zn="miter":vn<=2&&(zn="fakeround")),"miter"===zn&&vn>rt&&(zn="bevel"),"bevel"===zn&&(vn>2&&(zn="flipbevel"),vn<rt&&(zn="miter")),mt&&this.updateDistance(mt,pt),"miter"===zn)Rt._mult(vn),this.addCurrentVertex(pt,Rt,0,0,ft);else if("flipbevel"===zn){if(vn>100)Rt=Ot.mult(-1);else{var Fn=vn*vt.add(Ot).mag()/vt.sub(Ot).mag();Rt._perp()._mult(Fn*(Cn?-1:1))}this.addCurrentVertex(pt,Rt,0,0,ft),this.addCurrentVertex(pt,Rt.mult(-1),0,0,ft)}else if("bevel"===zn||"fakeround"===zn){var Bn=-Math.sqrt(vn*vn-1),Nn=Cn?Bn:0,Vn=Cn?0:Bn;if(mt&&this.addCurrentVertex(pt,vt,Nn,Vn,ft),"fakeround"===zn)for(var Wn=Math.round(180*bn/Math.PI/20),$n=1;$n<Wn;$n++){var Yn=$n/Wn;if(.5!==Yn){var er=Yn-.5;Yn+=Yn*er*(Yn-1)*((1.0904+Bt*(Bt*(3.55645-1.43519*Bt)-3.2452))*er*er+(.848013+Bt*(.215638*Bt-1.06021)))}var rr=Ot.sub(vt)._mult(Yn)._add(vt)._unit()._mult(Cn?-1:1);this.addHalfVertex(pt,rr.x,rr.y,!1,Cn,0,ft)}yt&&this.addCurrentVertex(pt,Ot,-Nn,-Vn,ft)}else if("butt"===zn)this.addCurrentVertex(pt,Rt,0,0,ft);else if("square"===zn){var vr=mt?1:-1;this.addCurrentVertex(pt,Rt,vr,vr,ft)}else"round"===zn&&(mt&&(this.addCurrentVertex(pt,vt,0,0,ft),this.addCurrentVertex(pt,vt,1,1,ft,!0)),yt&&(this.addCurrentVertex(pt,Ot,-1,-1,ft,!0),this.addCurrentVertex(pt,Ot,0,0,ft)));if(Tn&&Dt<st-1){var wr=pt.dist(yt);if(wr>2*dt){var Sr=pt.add(yt.sub(pt)._mult(dt/wr)._round());this.updateDistance(pt,Sr),this.addCurrentVertex(Sr,Ot,0,0,ft),pt=Sr}}}}},Ts.prototype.addCurrentVertex=function(Ne,et,tt,nt,rt,it){void 0===it&&(it=!1);var ot=et.y*nt-et.x,at=-et.y-et.x*nt;this.addHalfVertex(Ne,et.x+et.y*tt,et.y-et.x*tt,it,!1,tt,rt),this.addHalfVertex(Ne,ot,at,it,!0,-nt,rt),this.distance>jp/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(Ne,et,tt,nt,rt,it))},Ts.prototype.addHalfVertex=function(Ne,et,tt,nt,rt,it,ot){var at=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((Ne.x<<1)+(nt?1:0),(Ne.y<<1)+(rt?1:0),Math.round(63*et)+128,Math.round(63*tt)+128,1+(0===it?0:it<0?-1:1)|(63&at)<<2,at>>6);var st=ot.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,st),ot.primitiveLength++),rt?this.e2=st:this.e1=st},Ts.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(jp-1):this.distance},Ts.prototype.updateDistance=function(Ne,et){this.distance+=Ne.dist(et),this.updateScaledDistance()},Dn("LineBucket",Ts,{omit:["layers","patternFeatures"]});var Np=new xi({"line-cap":new yi(Sr.layout_line["line-cap"]),"line-join":new di(Sr.layout_line["line-join"]),"line-miter-limit":new yi(Sr.layout_line["line-miter-limit"]),"line-round-limit":new yi(Sr.layout_line["line-round-limit"]),"line-sort-key":new di(Sr.layout_line["line-sort-key"])}),Vp={paint:new xi({"line-opacity":new di(Sr.paint_line["line-opacity"]),"line-color":new di(Sr.paint_line["line-color"]),"line-translate":new yi(Sr.paint_line["line-translate"]),"line-translate-anchor":new yi(Sr.paint_line["line-translate-anchor"]),"line-width":new di(Sr.paint_line["line-width"]),"line-gap-width":new di(Sr.paint_line["line-gap-width"]),"line-offset":new di(Sr.paint_line["line-offset"]),"line-blur":new di(Sr.paint_line["line-blur"]),"line-dasharray":new vi(Sr.paint_line["line-dasharray"]),"line-pattern":new dl(Sr.paint_line["line-pattern"]),"line-gradient":new gi(Sr.paint_line["line-gradient"])}),layout:Np},Up=new(function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(et,tt){return tt=new ai(Math.floor(tt.zoom),{now:tt.now,fadeDuration:tt.fadeDuration,zoomHistory:tt.zoomHistory,transition:tt.transition}),Ne.prototype.possiblyEvaluate.call(this,et,tt)},e.prototype.evaluate=function(et,tt,nt,rt){return tt=c({},tt,{zoom:Math.floor(tt.zoom)}),Ne.prototype.evaluate.call(this,et,tt,nt,rt)},e}(di))(Vp.paint.properties["line-width"].specification);Up.useIntegerZoom=!0;var Zp=function(Ne){function e(et){Ne.call(this,et,Vp)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(Ne){"line-gradient"===Ne&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=go(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(et,tt){Ne.prototype.recalculate.call(this,et,tt),this.paint._values["line-floorwidth"]=Up.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,et)},e.prototype.createBucket=function(Ne){return new Ts(Ne)},e.prototype.queryRadius=function(Ne){var et=Ne,tt=Ds($a("line-width",this,et),$a("line-gap-width",this,et)),nt=$a("line-offset",this,et);return tt/2+Math.abs(nt)+Wa(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(Ne,et,nt,rt,it,ot,at){var st=Qa(Ne,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ot.angle,at),ct=at/2*Ds(this.paint.get("line-width").evaluate(et,nt),this.paint.get("line-gap-width").evaluate(et,nt)),pt=this.paint.get("line-offset").evaluate(et,nt);return pt&&(rt=function(Ne,et){for(var nt=[],rt=new tt(0,0),it=0;it<Ne.length;it++){for(var ot=Ne[it],at=[],st=0;st<ot.length;st++){var ct=ot[st],pt=ot[st+1],dt=0===st?rt:ct.sub(ot[st-1])._unit()._perp(),ft=st===ot.length-1?rt:pt.sub(ct)._unit()._perp(),mt=dt._add(ft)._unit();mt._mult(1/(mt.x*ft.x+mt.y*ft.y)),at.push(mt._mult(et)._add(ct))}nt.push(at)}return nt}(rt,pt*at)),function(Ne,et,tt){for(var nt=0;nt<et.length;nt++){var rt=et[nt];if(Ne.length>=3)for(var it=0;it<rt.length;it++)if(Ha(Ne,rt[it]))return!0;if(Na(Ne,rt,tt))return!0}return!1}(st,rt,ct)},e.prototype.isTileClipped=function(){return!0},e}(gl);function Ds(Ne,et){return et>0?et+2*Ne:Ne}var qp=Si([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Wp=Si([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hp=(Si([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Si([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Gp=(Si([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Xp=Si([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qs(Ne,et,tt){return Ne.sections.forEach((function(Ne){Ne.text=function(Ne,et,tt){var nt=et.layout.get("text-transform").evaluate(tt,{});return"uppercase"===nt?Ne=Ne.toLocaleUpperCase():"lowercase"===nt&&(Ne=Ne.toLocaleLowerCase()),sl.applyArabicShaping&&(Ne=sl.applyArabicShaping(Ne)),Ne}(Ne.text,et,tt)})),Ne}Si([{name:"triangle",components:3,type:"Uint16"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Si([{type:"Float32",name:"offsetX"}]),Si([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var $p={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Ks=function(Ne,et,tt,nt,rt){var it,ot,at=8*rt-nt-1,st=(1<<at)-1,ct=st>>1,pt=-7,dt=tt?rt-1:0,ft=tt?-1:1,mt=Ne[et+dt];for(dt+=ft,it=mt&(1<<-pt)-1,mt>>=-pt,pt+=at;pt>0;it=256*it+Ne[et+dt],dt+=ft,pt-=8);for(ot=it&(1<<-pt)-1,it>>=-pt,pt+=nt;pt>0;ot=256*ot+Ne[et+dt],dt+=ft,pt-=8);if(0===it)it=1-ct;else{if(it===st)return ot?NaN:1/0*(mt?-1:1);ot+=Math.pow(2,nt),it-=ct}return(mt?-1:1)*ot*Math.pow(2,it-nt)},Gs=function(Ne,et,tt,nt,rt,it){var ot,at,st,ct=8*it-rt-1,pt=(1<<ct)-1,dt=pt>>1,ft=23===rt?Math.pow(2,-24)-Math.pow(2,-77):0,mt=nt?0:it-1,yt=nt?1:-1,vt=et<0||0===et&&1/et<0?1:0;for(et=Math.abs(et),isNaN(et)||et===1/0?(at=isNaN(et)?1:0,ot=pt):(ot=Math.floor(Math.log(et)/Math.LN2),et*(st=Math.pow(2,-ot))<1&&(ot--,st*=2),(et+=ot+dt>=1?ft/st:ft*Math.pow(2,1-dt))*st>=2&&(ot++,st/=2),ot+dt>=pt?(at=0,ot=pt):ot+dt>=1?(at=(et*st-1)*Math.pow(2,rt),ot+=dt):(at=et*Math.pow(2,dt-1)*Math.pow(2,rt),ot=0));rt>=8;Ne[tt+mt]=255&at,mt+=yt,at/=256,rt-=8);for(ot=ot<<rt|at,ct+=rt;ct>0;Ne[tt+mt]=255&ot,mt+=yt,ot/=256,ct-=8);Ne[tt+mt-yt]|=128*vt},Kp=Xs;function Xs(Ne){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Ne)?Ne:new Uint8Array(Ne||0),this.pos=0,this.type=0,this.length=this.buf.length}Xs.Varint=0,Xs.Fixed64=1,Xs.Bytes=2,Xs.Fixed32=5;var Yp="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Hs(Ne){return Ne.type===Xs.Bytes?Ne.readVarint()+Ne.pos:Ne.pos+1}function Ys(Ne,et,tt){return tt?4294967296*et+(Ne>>>0):4294967296*(et>>>0)+(Ne>>>0)}function $s(Ne,et,tt){var nt=et<=16383?1:et<=2097151?2:et<=268435455?3:Math.floor(Math.log(et)/(7*Math.LN2));tt.realloc(nt);for(var rt=tt.pos-1;rt>=Ne;rt--)tt.buf[rt+nt]=tt.buf[rt]}function Ws(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeVarint(Ne[tt])}function Qs(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSVarint(Ne[tt])}function tu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFloat(Ne[tt])}function eu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeDouble(Ne[tt])}function ru(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeBoolean(Ne[tt])}function nu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFixed32(Ne[tt])}function iu(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSFixed32(Ne[tt])}function au(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeFixed64(Ne[tt])}function ou(Ne,et){for(var tt=0;tt<Ne.length;tt++)et.writeSFixed64(Ne[tt])}function su(Ne,et){return(Ne[et]|Ne[et+1]<<8|Ne[et+2]<<16)+16777216*Ne[et+3]}function uu(Ne,et,tt){Ne[tt]=et,Ne[tt+1]=et>>>8,Ne[tt+2]=et>>>16,Ne[tt+3]=et>>>24}function lu(Ne,et){return(Ne[et]|Ne[et+1]<<8|Ne[et+2]<<16)+(Ne[et+3]<<24)}function pu(Ne,et,tt){1===Ne&&tt.readMessage(cu,et)}function cu(Ne,et,tt){if(3===Ne){var nt=tt.readMessage(hu,{}),rt=nt.width,it=nt.height,ot=nt.left,at=nt.top,st=nt.advance;et.push({id:nt.id,bitmap:new yo({width:rt+6,height:it+6},nt.bitmap),metrics:{width:rt,height:it,left:ot,top:at,advance:st}})}}function hu(Ne,et,tt){1===Ne?et.id=tt.readVarint():2===Ne?et.bitmap=tt.readBytes():3===Ne?et.width=tt.readVarint():4===Ne?et.height=tt.readVarint():5===Ne?et.left=tt.readSVarint():6===Ne?et.top=tt.readSVarint():7===Ne&&(et.advance=tt.readVarint())}function fu(Ne){for(var et=0,tt=0,nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt];et+=it.w*it.h,tt=Math.max(tt,it.w)}Ne.sort((function(Ne,et){return et.h-Ne.h}));for(var ot=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(et/.95)),tt),h:1/0}],at=0,st=0,ct=0,pt=Ne;ct<pt.length;ct+=1)for(var dt=pt[ct],ft=ot.length-1;ft>=0;ft--){var mt=ot[ft];if(!(dt.w>mt.w||dt.h>mt.h)){if(dt.x=mt.x,dt.y=mt.y,st=Math.max(st,dt.y+dt.h),at=Math.max(at,dt.x+dt.w),dt.w===mt.w&&dt.h===mt.h){var yt=ot.pop();ft<ot.length&&(ot[ft]=yt)}else dt.h===mt.h?(mt.x+=dt.w,mt.w-=dt.w):dt.w===mt.w?(mt.y+=dt.h,mt.h-=dt.h):(ot.push({x:mt.x+dt.w,y:mt.y,w:mt.w-dt.w,h:dt.h}),mt.y+=dt.h,mt.h-=dt.h);break}}return{w:at,h:st,fill:et/(at*st)||0}}Xs.prototype={destroy:function(){this.buf=null},readFields:function(Ne,et,tt){for(tt=tt||this.length;this.pos<tt;){var nt=this.readVarint(),rt=nt>>3,it=this.pos;this.type=7&nt,Ne(rt,et,this),this.pos===it&&this.skip(nt)}return et},readMessage:function(Ne,et){return this.readFields(Ne,et,this.readVarint()+this.pos)},readFixed32:function(){var Ne=su(this.buf,this.pos);return this.pos+=4,Ne},readSFixed32:function(){var Ne=lu(this.buf,this.pos);return this.pos+=4,Ne},readFixed64:function(){var Ne=su(this.buf,this.pos)+4294967296*su(this.buf,this.pos+4);return this.pos+=8,Ne},readSFixed64:function(){var Ne=su(this.buf,this.pos)+4294967296*lu(this.buf,this.pos+4);return this.pos+=8,Ne},readFloat:function(){var Ne=Ks(this.buf,this.pos,!0,23,4);return this.pos+=4,Ne},readDouble:function(){var Ne=Ks(this.buf,this.pos,!0,52,8);return this.pos+=8,Ne},readVarint:function(Ne){var et,tt,nt=this.buf;return et=127&(tt=nt[this.pos++]),tt<128?et:(et|=(127&(tt=nt[this.pos++]))<<7,tt<128?et:(et|=(127&(tt=nt[this.pos++]))<<14,tt<128?et:(et|=(127&(tt=nt[this.pos++]))<<21,tt<128?et:function(Ne,et,tt){var nt,rt,it=tt.buf;if(nt=(112&(rt=it[tt.pos++]))>>4,rt<128)return Ys(Ne,nt,et);if(nt|=(127&(rt=it[tt.pos++]))<<3,rt<128)return Ys(Ne,nt,et);if(nt|=(127&(rt=it[tt.pos++]))<<10,rt<128)return Ys(Ne,nt,et);if(nt|=(127&(rt=it[tt.pos++]))<<17,rt<128)return Ys(Ne,nt,et);if(nt|=(127&(rt=it[tt.pos++]))<<24,rt<128)return Ys(Ne,nt,et);if(nt|=(1&(rt=it[tt.pos++]))<<31,rt<128)return Ys(Ne,nt,et);throw new Error("Expected varint not more than 10 bytes")}(et|=(15&(tt=nt[this.pos]))<<28,Ne,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Ne=this.readVarint();return Ne%2==1?(Ne+1)/-2:Ne/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var Ne=this.readVarint()+this.pos,et=this.pos;return this.pos=Ne,Ne-et>=12&&Yp?function(Ne,et,tt){return Yp.decode(Ne.subarray(et,tt))}(this.buf,et,Ne):function(Ne,et,tt){for(var nt="",rt=et;rt<tt;){var it,ot,at,st=Ne[rt],ct=null,pt=st>239?4:st>223?3:st>191?2:1;if(rt+pt>tt)break;1===pt?st<128&&(ct=st):2===pt?128==(192&(it=Ne[rt+1]))&&(ct=(31&st)<<6|63&it)<=127&&(ct=null):3===pt?(ot=Ne[rt+2],128==(192&(it=Ne[rt+1]))&&128==(192&ot)&&((ct=(15&st)<<12|(63&it)<<6|63&ot)<=2047||ct>=55296&&ct<=57343)&&(ct=null)):4===pt&&(ot=Ne[rt+2],at=Ne[rt+3],128==(192&(it=Ne[rt+1]))&&128==(192&ot)&&128==(192&at)&&((ct=(15&st)<<18|(63&it)<<12|(63&ot)<<6|63&at)<=65535||ct>=1114112)&&(ct=null)),null===ct?(ct=65533,pt=1):ct>65535&&(ct-=65536,nt+=String.fromCharCode(ct>>>10&1023|55296),ct=56320|1023&ct),nt+=String.fromCharCode(ct),rt+=pt}return nt}(this.buf,et,Ne)},readBytes:function(){var Ne=this.readVarint()+this.pos,et=this.buf.subarray(this.pos,Ne);return this.pos=Ne,et},readPackedVarint:function(Ne,et){if(this.type!==Xs.Bytes)return Ne.push(this.readVarint(et));var tt=Hs(this);for(Ne=Ne||[];this.pos<tt;)Ne.push(this.readVarint(et));return Ne},readPackedSVarint:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readSVarint());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSVarint());return Ne},readPackedBoolean:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readBoolean());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readBoolean());return Ne},readPackedFloat:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readFloat());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFloat());return Ne},readPackedDouble:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readDouble());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readDouble());return Ne},readPackedFixed32:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readFixed32());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFixed32());return Ne},readPackedSFixed32:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readSFixed32());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSFixed32());return Ne},readPackedFixed64:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readFixed64());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readFixed64());return Ne},readPackedSFixed64:function(Ne){if(this.type!==Xs.Bytes)return Ne.push(this.readSFixed64());var et=Hs(this);for(Ne=Ne||[];this.pos<et;)Ne.push(this.readSFixed64());return Ne},skip:function(Ne){var et=7&Ne;if(et===Xs.Varint)for(;this.buf[this.pos++]>127;);else if(et===Xs.Bytes)this.pos=this.readVarint()+this.pos;else if(et===Xs.Fixed32)this.pos+=4;else{if(et!==Xs.Fixed64)throw new Error("Unimplemented type: "+et);this.pos+=8}},writeTag:function(Ne,et){this.writeVarint(Ne<<3|et)},realloc:function(Ne){for(var et=this.length||16;et<this.pos+Ne;)et*=2;if(et!==this.length){var tt=new Uint8Array(et);tt.set(this.buf),this.buf=tt,this.length=et}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Ne){this.realloc(4),uu(this.buf,Ne,this.pos),this.pos+=4},writeSFixed32:function(Ne){this.realloc(4),uu(this.buf,Ne,this.pos),this.pos+=4},writeFixed64:function(Ne){this.realloc(8),uu(this.buf,-1&Ne,this.pos),uu(this.buf,Math.floor(Ne*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(Ne){this.realloc(8),uu(this.buf,-1&Ne,this.pos),uu(this.buf,Math.floor(Ne*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(Ne){(Ne=+Ne||0)>268435455||Ne<0?function(Ne,et){var tt,nt;if(Ne>=0?(tt=Ne%4294967296|0,nt=Ne/4294967296|0):(nt=~(-Ne/4294967296),4294967295^(tt=~(-Ne%4294967296))?tt=tt+1|0:(tt=0,nt=nt+1|0)),Ne>=0x10000000000000000||Ne<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");et.realloc(10),function(Ne,et,tt){tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,Ne>>>=7,tt.buf[tt.pos++]=127&Ne|128,tt.buf[tt.pos]=127&(Ne>>>=7)}(tt,0,et),function(Ne,et){var tt=(7&Ne)<<4;et.buf[et.pos++]|=tt|((Ne>>>=3)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne|((Ne>>>=7)?128:0),Ne&&(et.buf[et.pos++]=127&Ne)))))}(nt,et)}(Ne,this):(this.realloc(4),this.buf[this.pos++]=127&Ne|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=127&(Ne>>>=7)|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=127&(Ne>>>=7)|(Ne>127?128:0),Ne<=127||(this.buf[this.pos++]=Ne>>>7&127))))},writeSVarint:function(Ne){this.writeVarint(Ne<0?2*-Ne-1:2*Ne)},writeBoolean:function(Ne){this.writeVarint(Boolean(Ne))},writeString:function(Ne){Ne=String(Ne),this.realloc(4*Ne.length),this.pos++;var et=this.pos;this.pos=function(Ne,et,tt){for(var nt,rt,it=0;it<et.length;it++){if((nt=et.charCodeAt(it))>55295&&nt<57344){if(!rt){nt>56319||it+1===et.length?(Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189):rt=nt;continue}if(nt<56320){Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189,rt=nt;continue}nt=rt-55296<<10|nt-56320|65536,rt=null}else rt&&(Ne[tt++]=239,Ne[tt++]=191,Ne[tt++]=189,rt=null);nt<128?Ne[tt++]=nt:(nt<2048?Ne[tt++]=nt>>6|192:(nt<65536?Ne[tt++]=nt>>12|224:(Ne[tt++]=nt>>18|240,Ne[tt++]=nt>>12&63|128),Ne[tt++]=nt>>6&63|128),Ne[tt++]=63&nt|128)}return tt}(this.buf,Ne,this.pos);var tt=this.pos-et;tt>=128&&$s(et,tt,this),this.pos=et-1,this.writeVarint(tt),this.pos+=tt},writeFloat:function(Ne){this.realloc(4),Gs(this.buf,Ne,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Ne){this.realloc(8),Gs(this.buf,Ne,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Ne){var et=Ne.length;this.writeVarint(et),this.realloc(et);for(var tt=0;tt<et;tt++)this.buf[this.pos++]=Ne[tt]},writeRawMessage:function(Ne,et){this.pos++;var tt=this.pos;Ne(et,this);var nt=this.pos-tt;nt>=128&&$s(tt,nt,this),this.pos=tt-1,this.writeVarint(nt),this.pos+=nt},writeMessage:function(Ne,et,tt){this.writeTag(Ne,Xs.Bytes),this.writeRawMessage(et,tt)},writePackedVarint:function(Ne,et){et.length&&this.writeMessage(Ne,Ws,et)},writePackedSVarint:function(Ne,et){et.length&&this.writeMessage(Ne,Qs,et)},writePackedBoolean:function(Ne,et){et.length&&this.writeMessage(Ne,ru,et)},writePackedFloat:function(Ne,et){et.length&&this.writeMessage(Ne,tu,et)},writePackedDouble:function(Ne,et){et.length&&this.writeMessage(Ne,eu,et)},writePackedFixed32:function(Ne,et){et.length&&this.writeMessage(Ne,nu,et)},writePackedSFixed32:function(Ne,et){et.length&&this.writeMessage(Ne,iu,et)},writePackedFixed64:function(Ne,et){et.length&&this.writeMessage(Ne,au,et)},writePackedSFixed64:function(Ne,et){et.length&&this.writeMessage(Ne,ou,et)},writeBytesField:function(Ne,et){this.writeTag(Ne,Xs.Bytes),this.writeBytes(et)},writeFixed32Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed32),this.writeFixed32(et)},writeSFixed32Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed32),this.writeSFixed32(et)},writeFixed64Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed64),this.writeFixed64(et)},writeSFixed64Field:function(Ne,et){this.writeTag(Ne,Xs.Fixed64),this.writeSFixed64(et)},writeVarintField:function(Ne,et){this.writeTag(Ne,Xs.Varint),this.writeVarint(et)},writeSVarintField:function(Ne,et){this.writeTag(Ne,Xs.Varint),this.writeSVarint(et)},writeStringField:function(Ne,et){this.writeTag(Ne,Xs.Bytes),this.writeString(et)},writeFloatField:function(Ne,et){this.writeTag(Ne,Xs.Fixed32),this.writeFloat(et)},writeDoubleField:function(Ne,et){this.writeTag(Ne,Xs.Fixed64),this.writeDouble(et)},writeBooleanField:function(Ne,et){this.writeVarintField(Ne,Boolean(et))}};var yu=function(Ne,et){var tt=et.pixelRatio,nt=et.version,rt=et.stretchX,it=et.stretchY,ot=et.content;this.paddedRect=Ne,this.pixelRatio=tt,this.stretchX=rt,this.stretchY=it,this.content=ot,this.version=nt},Jp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Jp.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Jp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Jp.tlbr.get=function(){return this.tl.concat(this.br)},Jp.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yu.prototype,Jp);var mu=function(Ne,et){var tt={},nt={};this.haveRenderCallbacks=[];var rt=[];this.addImages(Ne,tt,rt),this.addImages(et,nt,rt);var it=fu(rt),ot=new mo({width:it.w||1,height:it.h||1});for(var at in Ne){var st=Ne[at],ct=tt[at].paddedRect;mo.copy(st.data,ot,{x:0,y:0},{x:ct.x+1,y:ct.y+1},st.data)}for(var pt in et){var dt=et[pt],ft=nt[pt].paddedRect,mt=ft.x+1,yt=ft.y+1,vt=dt.data.width,Ot=dt.data.height;mo.copy(dt.data,ot,{x:0,y:0},{x:mt,y:yt},dt.data),mo.copy(dt.data,ot,{x:0,y:Ot-1},{x:mt,y:yt-1},{width:vt,height:1}),mo.copy(dt.data,ot,{x:0,y:0},{x:mt,y:yt+Ot},{width:vt,height:1}),mo.copy(dt.data,ot,{x:vt-1,y:0},{x:mt-1,y:yt},{width:1,height:Ot}),mo.copy(dt.data,ot,{x:0,y:0},{x:mt+vt,y:yt},{width:1,height:Ot})}this.image=ot,this.iconPositions=tt,this.patternPositions=nt};mu.prototype.addImages=function(Ne,et,tt){for(var nt in Ne){var rt=Ne[nt],it={x:0,y:0,w:rt.data.width+2,h:rt.data.height+2};tt.push(it),et[nt]=new yu(it,rt),rt.hasRenderCallback&&this.haveRenderCallbacks.push(nt)}},mu.prototype.patchUpdatedImages=function(Ne,et){for(var tt in Ne.dispatchRenderCallbacks(this.haveRenderCallbacks),Ne.updatedImages)this.patchUpdatedImage(this.iconPositions[tt],Ne.getImage(tt),et),this.patchUpdatedImage(this.patternPositions[tt],Ne.getImage(tt),et)},mu.prototype.patchUpdatedImage=function(Ne,et,tt){if(Ne&&et&&Ne.version!==et.version){Ne.version=et.version;var nt=Ne.tl;tt.update(et.data,void 0,{x:nt[0],y:nt[1]})}},Dn("ImagePosition",yu),Dn("ImageAtlas",mu);var Qp={horizontal:1,vertical:2,horizontalOnly:3},gu=function(){this.scale=1,this.fontStack="",this.imageName=null};gu.forText=function(Ne,et){var tt=new gu;return tt.scale=Ne||1,tt.fontStack=et,tt},gu.forImage=function(Ne){var et=new gu;return et.imageName=Ne,et};var xu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function bu(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt){var Ot,Dt=xu.fromFeature(Ne,rt);dt===Qp.vertical&&Dt.verticalizePunctuation();var Rt=sl.processBidirectionalText,Bt=sl.processStyledBidirectionalText;if(Rt&&1===Dt.sections.length){Ot=[];for(var rn=0,vn=Rt(Dt.toString(),zu(Dt,ct,it,et,nt,mt,yt));rn<vn.length;rn+=1){var bn=vn[rn],Tn=new xu;Tn.text=bn,Tn.sections=Dt.sections;for(var Cn=0;Cn<bn.length;Cn++)Tn.sectionIndex.push(0);Ot.push(Tn)}}else if(Bt){Ot=[];for(var In=0,Ln=Bt(Dt.text,Dt.sectionIndex,zu(Dt,ct,it,et,nt,mt,yt));In<Ln.length;In+=1){var Mn=Ln[In],zn=new xu;zn.text=Mn[0],zn.sectionIndex=Mn[1],zn.sections=Dt.sections,Ot.push(zn)}}else Ot=function(Ne,et){for(var tt=[],nt=Ne.text,rt=0,it=0,ot=et;it<ot.length;it+=1){var at=ot[it];tt.push(Ne.substring(rt,at)),rt=at}return rt<nt.length&&tt.push(Ne.substring(rt,nt.length)),tt}(Dt,zu(Dt,ct,it,et,nt,mt,yt));var Fn=[],Bn={positionedLines:Fn,text:Dt.toString(),top:pt[1],bottom:pt[1],left:pt[0],right:pt[0],writingMode:dt,iconsInText:!1,verticalizable:!1};return function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt){for(var ft=0,mt=-17,yt=0,vt=0,Ot="right"===at?1:"left"===at?0:.5,Dt=0,Rt=0,Bt=rt;Rt<Bt.length;Rt+=1){var rn=Bt[Rt];rn.trim();var vn=rn.getMaxScale(),bn=24*(vn-1),Tn={positionedGlyphs:[],lineOffset:0};Ne.positionedLines[Dt]=Tn;var Cn=Tn.positionedGlyphs,In=0;if(rn.length()){for(var Ln=0;Ln<rn.length();Ln++){var Mn=rn.getSection(Ln),zn=rn.getSectionIndex(Ln),Fn=rn.getCharCode(Ln),Bn=0,Nn=null,Vn=null,Wn=null,$n=24,Yn=!(st===Qp.horizontal||!pt&&!Gn(Fn)||pt&&(rh[Fn]||(po=Fn,Us.Arabic(po)||Us["Arabic Supplement"](po)||Us["Arabic Extended-A"](po)||Us["Arabic Presentation Forms-A"](po)||Us["Arabic Presentation Forms-B"](po))));if(Mn.imageName){var er=nt[Mn.imageName];if(!er)continue;Wn=Mn.imageName,Ne.iconsInText=Ne.iconsInText||!0,Vn=er.paddedRect;var rr=er.displaySize;Mn.scale=24*Mn.scale/dt,Bn=bn+(24-rr[1]*Mn.scale),$n=(Nn={width:rr[0],height:rr[1],left:1,top:-3,advance:Yn?rr[1]:rr[0]}).advance;var vr=Yn?rr[0]*Mn.scale-24*vn:rr[1]*Mn.scale-24*vn;vr>0&&vr>In&&(In=vr)}else{var wr=tt[Mn.fontStack],Sr=wr&&wr[Fn];if(Sr&&Sr.rect)Vn=Sr.rect,Nn=Sr.metrics;else{var ii=et[Mn.fontStack],qi=ii&&ii[Fn];if(!qi)continue;Nn=qi.metrics}Bn=24*(vn-Mn.scale)}Yn?(Ne.verticalizable=!0,Cn.push({glyph:Fn,imageName:Wn,x:ft,y:mt+Bn,vertical:Yn,scale:Mn.scale,fontStack:Mn.fontStack,sectionIndex:zn,metrics:Nn,rect:Vn}),ft+=$n*Mn.scale+ct):(Cn.push({glyph:Fn,imageName:Wn,x:ft,y:mt+Bn,vertical:Yn,scale:Mn.scale,fontStack:Mn.fontStack,sectionIndex:zn,metrics:Nn,rect:Vn}),ft+=Nn.advance*Mn.scale+ct)}0!==Cn.length&&(yt=Math.max(ft-ct,yt),Mu(Cn,0,Cn.length-1,Ot,In)),ft=0;var uo=it*vn+In;Tn.lineOffset=Math.max(In,bn),mt+=uo,vt=Math.max(uo,vt),++Dt}else mt+=it,++Dt}var po,vo=mt- -17,So=Cu(ot),ta=So.horizontalAlign,na=So.verticalAlign;(function(Ne,et,tt,nt,rt,it,ot,at,st){var ct,pt=(et-tt)*rt;ct=it!==ot?-at*nt- -17:(-nt*st+.5)*ot;for(var dt=0,ft=Ne;dt<ft.length;dt+=1)for(var mt=0,yt=ft[dt].positionedGlyphs;mt<yt.length;mt+=1){var vt=yt[mt];vt.x+=pt,vt.y+=ct}})(Ne.positionedLines,Ot,ta,na,yt,vt,it,vo,rt.length),Ne.top+=-na*vo,Ne.bottom=Ne.top+vo,Ne.left+=-ta*yt,Ne.right=Ne.left+yt}(Bn,et,tt,nt,Ot,ot,at,st,dt,ct,ft,vt),!function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(0!==tt[et].positionedGlyphs.length)return!1;return!0}(Fn)&&Bn}xu.fromFeature=function(Ne,et){for(var tt=new xu,nt=0;nt<Ne.sections.length;nt++){var rt=Ne.sections[nt];rt.image?tt.addImageSection(rt):tt.addTextSection(rt,et)}return tt},xu.prototype.length=function(){return this.text.length},xu.prototype.getSection=function(Ne){return this.sections[this.sectionIndex[Ne]]},xu.prototype.getSectionIndex=function(Ne){return this.sectionIndex[Ne]},xu.prototype.getCharCode=function(Ne){return this.text.charCodeAt(Ne)},xu.prototype.verticalizePunctuation=function(){this.text=function(Ne){for(var et="",tt=0;tt<Ne.length;tt++){var nt=Ne.charCodeAt(tt+1)||null,rt=Ne.charCodeAt(tt-1)||null;et+=nt&&Zn(nt)&&!$p[Ne[tt+1]]||rt&&Zn(rt)&&!$p[Ne[tt-1]]||!$p[Ne[tt]]?Ne[tt]:$p[Ne[tt]]}return et}(this.text)},xu.prototype.trim=function(){for(var Ne=0,et=0;et<this.text.length&&rh[this.text.charCodeAt(et)];et++)Ne++;for(var tt=this.text.length,nt=this.text.length-1;nt>=0&&nt>=Ne&&rh[this.text.charCodeAt(nt)];nt--)tt--;this.text=this.text.substring(Ne,tt),this.sectionIndex=this.sectionIndex.slice(Ne,tt)},xu.prototype.substring=function(Ne,et){var tt=new xu;return tt.text=this.text.substring(Ne,et),tt.sectionIndex=this.sectionIndex.slice(Ne,et),tt.sections=this.sections,tt},xu.prototype.toString=function(){return this.text},xu.prototype.getMaxScale=function(){var Ne=this;return this.sectionIndex.reduce((function(et,tt){return Math.max(et,Ne.sections[tt].scale)}),0)},xu.prototype.addTextSection=function(Ne,et){this.text+=Ne.text,this.sections.push(gu.forText(Ne.scale,Ne.fontStack||et));for(var tt=this.sections.length-1,nt=0;nt<Ne.text.length;++nt)this.sectionIndex.push(tt)},xu.prototype.addImageSection=function(Ne){var et=Ne.image?Ne.image.name:"";if(0!==et.length){var tt=this.getNextImageSectionCharCode();tt?(this.text+=String.fromCharCode(tt),this.sections.push(gu.forImage(et)),this.sectionIndex.push(this.sections.length-1)):_("Reached maximum number of images 6401")}else _("Can't add FormattedSection with an empty image.")},xu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var rh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ah={};function Au(Ne,et,tt,nt,rt,it){if(et.imageName){var ot=nt[et.imageName];return ot?ot.displaySize[0]*et.scale*24/it+rt:0}var at=tt[et.fontStack],st=at&&at[Ne];return st?st.metrics.advance*et.scale+rt:0}function Su(Ne,et,tt,nt){var rt=Math.pow(Ne-et,2);return nt?Ne<et?rt/2:2*rt:rt+Math.abs(tt)*tt}function ku(Ne,et,tt){var nt=0;return 10===Ne&&(nt-=1e4),tt&&(nt+=150),40!==Ne&&65288!==Ne||(nt+=50),41!==et&&65289!==et||(nt+=50),nt}function Iu(Ne,et,tt,nt,rt,it){for(var ot=null,at=Su(et,tt,rt,it),st=0,ct=nt;st<ct.length;st+=1){var pt=ct[st],dt=Su(et-pt.x,tt,rt,it)+pt.badness;dt<=at&&(ot=pt,at=dt)}return{index:Ne,x:et,priorBreak:ot,badness:at}}function zu(Ne,et,tt,nt,rt,it,ot){if("point"!==it)return[];if(!Ne)return[];for(var at,st=[],ct=function(Ne,et,tt,nt,rt,it){for(var ot=0,at=0;at<Ne.length();at++){var st=Ne.getSection(at);ot+=Au(Ne.getCharCode(at),st,nt,rt,et,it)}return ot/Math.max(1,Math.ceil(ot/tt))}(Ne,et,tt,nt,rt,ot),pt=Ne.text.indexOf("")>=0,dt=0,ft=0;ft<Ne.length();ft++){var mt=Ne.getSection(ft),yt=Ne.getCharCode(ft);if(rh[yt]||(dt+=Au(yt,mt,nt,rt,et,ot)),ft<Ne.length()-1){var vt=!((at=yt)<11904||!(Us["Bopomofo Extended"](at)||Us.Bopomofo(at)||Us["CJK Compatibility Forms"](at)||Us["CJK Compatibility Ideographs"](at)||Us["CJK Compatibility"](at)||Us["CJK Radicals Supplement"](at)||Us["CJK Strokes"](at)||Us["CJK Symbols and Punctuation"](at)||Us["CJK Unified Ideographs Extension A"](at)||Us["CJK Unified Ideographs"](at)||Us["Enclosed CJK Letters and Months"](at)||Us["Halfwidth and Fullwidth Forms"](at)||Us.Hiragana(at)||Us["Ideographic Description Characters"](at)||Us["Kangxi Radicals"](at)||Us["Katakana Phonetic Extensions"](at)||Us.Katakana(at)||Us["Vertical Forms"](at)||Us["Yi Radicals"](at)||Us["Yi Syllables"](at)));(ah[yt]||vt||mt.imageName)&&st.push(Iu(ft+1,dt,ct,st,ku(yt,Ne.getCharCode(ft+1),vt&&pt),!1))}}return function t(Ne){return Ne?t(Ne.priorBreak).concat(Ne.index):[]}(Iu(Ne.length(),dt,ct,st,0,!0))}function Cu(Ne){var et=.5,tt=.5;switch(Ne){case"right":case"top-right":case"bottom-right":et=1;break;case"left":case"top-left":case"bottom-left":et=0}switch(Ne){case"bottom":case"bottom-right":case"bottom-left":tt=1;break;case"top":case"top-right":case"top-left":tt=0}return{horizontalAlign:et,verticalAlign:tt}}function Mu(Ne,et,tt,nt,rt){if(nt||rt)for(var it=Ne[tt],ot=(Ne[tt].x+it.metrics.advance*it.scale)*nt,at=et;at<=tt;at++)Ne[at].x-=ot,Ne[at].y+=rt}function Eu(Ne,et,tt,nt,rt,it){var ot,at=Ne.image;if(at.content){var st=at.content,ct=at.pixelRatio||1;ot=[st[0]/ct,st[1]/ct,at.displaySize[0]-st[2]/ct,at.displaySize[1]-st[3]/ct]}var pt,dt,ft,mt,yt=et.left*it,vt=et.right*it;"width"===tt||"both"===tt?(mt=rt[0]+yt-nt[3],dt=rt[0]+vt+nt[1]):dt=(mt=rt[0]+(yt+vt-at.displaySize[0])/2)+at.displaySize[0];var Ot=et.top*it,Dt=et.bottom*it;return"height"===tt||"both"===tt?(pt=rt[1]+Ot-nt[0],ft=rt[1]+Dt+nt[2]):ft=(pt=rt[1]+(Ot+Dt-at.displaySize[1])/2)+at.displaySize[1],{image:at,top:pt,right:dt,bottom:ft,left:mt,collisionPadding:ot}}ah[10]=!0,ah[32]=!0,ah[38]=!0,ah[40]=!0,ah[41]=!0,ah[43]=!0,ah[45]=!0,ah[47]=!0,ah[173]=!0,ah[183]=!0,ah[8203]=!0,ah[8208]=!0,ah[8211]=!0,ah[8231]=!0;var sh=function(Ne){function e(et,tt,nt,rt){Ne.call(this,et,tt),this.angle=nt,void 0!==rt&&(this.segment=rt)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(tt);function Pu(Ne,et){var tt=et.expression;if("constant"===tt.kind)return{kind:"constant",layoutSize:tt.evaluate(new ai(Ne+1))};if("source"===tt.kind)return{kind:"source"};for(var nt=tt.zoomStops,rt=tt.interpolationType,it=0;it<nt.length&&nt[it]<=Ne;)it++;for(var ot=it=Math.max(0,it-1);ot<nt.length&&nt[ot]<Ne+1;)ot++;ot=Math.min(nt.length-1,ot);var at=nt[it],st=nt[ot];return"composite"===tt.kind?{kind:"composite",minZoom:at,maxZoom:st,interpolationType:rt}:{kind:"camera",minZoom:at,maxZoom:st,minSize:tt.evaluate(new ai(at)),maxSize:tt.evaluate(new ai(st)),interpolationType:rt}}function Bu(Ne,et,tt){var nt=et.uSize,rt=tt.lowerSize;return"source"===Ne.kind?rt/128:"composite"===Ne.kind?qe(rt/128,tt.upperSize/128,et.uSizeT):nt}function Vu(Ne,et){var tt=0,nt=0;if("constant"===Ne.kind)nt=Ne.layoutSize;else if("source"!==Ne.kind){var rt=Ne.interpolationType,it=rt?l(nr.interpolationFactor(rt,et,Ne.minZoom,Ne.maxZoom),0,1):0;"camera"===Ne.kind?nt=qe(Ne.minSize,Ne.maxSize,it):tt=it}return{uSizeT:tt,uSize:nt}}Dn("Anchor",sh);var lh=Object.freeze({__proto__:null,getSizeData:Pu,evaluateSizeForFeature:Bu,evaluateSizeForZoom:Vu,SIZE_PACK_FACTOR:128});function Du(Ne,et,tt,nt,rt){if(void 0===et.segment)return!0;for(var it=et,ot=et.segment+1,at=0;at>-tt/2;){if(--ot<0)return!1;at-=Ne[ot].dist(it),it=Ne[ot]}at+=Ne[ot].dist(Ne[ot+1]),ot++;for(var st=[],ct=0;at<tt/2;){var pt=Ne[ot],dt=Ne[ot+1];if(!dt)return!1;var ft=Ne[ot-1].angleTo(pt)-pt.angleTo(dt);for(ft=Math.abs((ft+3*Math.PI)%(2*Math.PI)-Math.PI),st.push({distance:at,angleDelta:ft}),ct+=ft;at-st[0].distance>nt;)ct-=st.shift().angleDelta;if(ct>rt)return!1;ot++,at+=pt.dist(dt)}return!0}function Lu(Ne){for(var et=0,tt=0;tt<Ne.length-1;tt++)et+=Ne[tt].dist(Ne[tt+1]);return et}function Ru(Ne,et,tt){return Ne?.6*et*tt:0}function Ou(Ne,et){return Math.max(Ne?Ne.right-Ne.left:0,et?et.right-et.left:0)}function Uu(Ne,et,tt,nt,rt,it){for(var ot=Ru(tt,rt,it),at=Ou(tt,nt)*it,st=0,ct=Lu(Ne)/2,pt=0;pt<Ne.length-1;pt++){var dt=Ne[pt],ft=Ne[pt+1],mt=dt.dist(ft);if(st+mt>ct){var yt=(ct-st)/mt,vt=qe(dt.x,ft.x,yt),Ot=qe(dt.y,ft.y,yt),Dt=new sh(vt,Ot,ft.angleTo(dt),pt);return Dt._round(),!ot||Du(Ne,Dt,at,ot,et)?Dt:void 0}st+=mt}}function ju(Ne,et,tt,nt,rt,it,ot,at,st){var ct=Ru(nt,it,ot),pt=Ou(nt,rt),dt=pt*ot,ft=0===Ne[0].x||Ne[0].x===st||0===Ne[0].y||Ne[0].y===st;return et-dt<et/4&&(et=dt+et/4),function t(Ne,et,tt,nt,rt,it,ot,at,st){for(var ct=it/2,pt=Lu(Ne),dt=0,ft=et-tt,mt=[],yt=0;yt<Ne.length-1;yt++){for(var vt=Ne[yt],Ot=Ne[yt+1],Dt=vt.dist(Ot),Rt=Ot.angleTo(vt);ft+tt<dt+Dt;){var Bt=((ft+=tt)-dt)/Dt,rn=qe(vt.x,Ot.x,Bt),vn=qe(vt.y,Ot.y,Bt);if(rn>=0&&rn<st&&vn>=0&&vn<st&&ft-ct>=0&&ft+ct<=pt){var bn=new sh(rn,vn,Rt,yt);bn._round(),nt&&!Du(Ne,bn,it,nt,rt)||mt.push(bn)}}dt+=Dt}return at||mt.length||ot||(mt=t(Ne,dt/2,tt,nt,rt,it,ot,!0,st)),mt}(Ne,ft?et/2*at%et:(pt/2+2*it)*ot*at%et,et,ct,tt,dt,ft,!1,st)}function qu(Ne,et,nt,rt,it){for(var ot=[],at=0;at<Ne.length;at++)for(var st=Ne[at],ct=void 0,pt=0;pt<st.length-1;pt++){var dt=st[pt],ft=st[pt+1];dt.x<et&&ft.x<et||(dt.x<et?dt=new tt(et,dt.y+(et-dt.x)/(ft.x-dt.x)*(ft.y-dt.y))._round():ft.x<et&&(ft=new tt(et,dt.y+(et-dt.x)/(ft.x-dt.x)*(ft.y-dt.y))._round()),dt.y<nt&&ft.y<nt||(dt.y<nt?dt=new tt(dt.x+(nt-dt.y)/(ft.y-dt.y)*(ft.x-dt.x),nt)._round():ft.y<nt&&(ft=new tt(dt.x+(nt-dt.y)/(ft.y-dt.y)*(ft.x-dt.x),nt)._round()),dt.x>=rt&&ft.x>=rt||(dt.x>=rt?dt=new tt(rt,dt.y+(rt-dt.x)/(ft.x-dt.x)*(ft.y-dt.y))._round():ft.x>=rt&&(ft=new tt(rt,dt.y+(rt-dt.x)/(ft.x-dt.x)*(ft.y-dt.y))._round()),dt.y>=it&&ft.y>=it||(dt.y>=it?dt=new tt(dt.x+(it-dt.y)/(ft.y-dt.y)*(ft.x-dt.x),it)._round():ft.y>=it&&(ft=new tt(dt.x+(it-dt.y)/(ft.y-dt.y)*(ft.x-dt.x),it)._round()),ct&&dt.equals(ct[ct.length-1])||ot.push(ct=[dt]),ct.push(ft)))))}return ot}function Nu(Ne,et,nt,rt){var it=[],ot=Ne.image,at=ot.pixelRatio,st=ot.paddedRect.w-2,ct=ot.paddedRect.h-2,pt=Ne.right-Ne.left,dt=Ne.bottom-Ne.top,ft=ot.stretchX||[[0,st]],mt=ot.stretchY||[[0,ct]],y=function(Ne,et){return Ne+et[1]-et[0]},yt=ft.reduce(y,0),vt=mt.reduce(y,0),Ot=st-yt,Dt=ct-vt,Rt=0,Bt=yt,rn=0,vn=vt,bn=0,Tn=Ot,Cn=0,In=Dt;if(ot.content&&rt){var Ln=ot.content;Rt=Ku(ft,0,Ln[0]),rn=Ku(mt,0,Ln[1]),Bt=Ku(ft,Ln[0],Ln[2]),vn=Ku(mt,Ln[1],Ln[3]),bn=Ln[0]-Rt,Cn=Ln[1]-rn,Tn=Ln[2]-Ln[0]-Bt,In=Ln[3]-Ln[1]-vn}var C=function(rt,it,st,ct){var ft=Zu(rt.stretch-Rt,Bt,pt,Ne.left),mt=Xu(rt.fixed-bn,Tn,rt.stretch,yt),Ot=Zu(it.stretch-rn,vn,dt,Ne.top),Dt=Xu(it.fixed-Cn,In,it.stretch,vt),Ln=Zu(st.stretch-Rt,Bt,pt,Ne.left),Mn=Xu(st.fixed-bn,Tn,st.stretch,yt),zn=Zu(ct.stretch-rn,vn,dt,Ne.top),Fn=Xu(ct.fixed-Cn,In,ct.stretch,vt),Bn=new tt(ft,Ot),Nn=new tt(Ln,Ot),Vn=new tt(Ln,zn),Wn=new tt(ft,zn),$n=new tt(mt/at,Dt/at),Yn=new tt(Mn/at,Fn/at),er=et*Math.PI/180;if(er){var rr=Math.sin(er),vr=Math.cos(er),wr=[vr,-rr,rr,vr];Bn._matMult(wr),Nn._matMult(wr),Wn._matMult(wr),Vn._matMult(wr)}var Sr=rt.stretch+rt.fixed,ii=it.stretch+it.fixed;return{tl:Bn,tr:Nn,bl:Wn,br:Vn,tex:{x:ot.paddedRect.x+1+Sr,y:ot.paddedRect.y+1+ii,w:st.stretch+st.fixed-Sr,h:ct.stretch+ct.fixed-ii},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:$n,pixelOffsetBR:Yn,minFontScaleX:Tn/at/pt,minFontScaleY:In/at/dt,isSDF:nt}};if(rt&&(ot.stretchX||ot.stretchY))for(var Mn=Gu(ft,Ot,yt),zn=Gu(mt,Dt,vt),Fn=0;Fn<Mn.length-1;Fn++)for(var Bn=Mn[Fn],Nn=Mn[Fn+1],Vn=0;Vn<zn.length-1;Vn++)it.push(C(Bn,zn[Vn],Nn,zn[Vn+1]));else it.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:st+1},{fixed:0,stretch:ct+1}));return it}function Ku(Ne,et,tt){for(var nt=0,rt=0,it=Ne;rt<it.length;rt+=1){var ot=it[rt];nt+=Math.max(et,Math.min(tt,ot[1]))-Math.max(et,Math.min(tt,ot[0]))}return nt}function Gu(Ne,et,tt){for(var nt=[{fixed:-1,stretch:0}],rt=0,it=Ne;rt<it.length;rt+=1){var ot=it[rt],at=ot[0],st=ot[1],ct=nt[nt.length-1];nt.push({fixed:at-ct.stretch,stretch:ct.stretch}),nt.push({fixed:at-ct.stretch,stretch:ct.stretch+(st-at)})}return nt.push({fixed:et+1,stretch:tt}),nt}function Zu(Ne,et,tt,nt){return Ne/et*tt+nt}function Xu(Ne,et,tt,nt){return Ne-et*tt/nt}var Ju=function(Ne,et,nt,rt,it,ot,at,st,ct,pt){if(this.boxStartIndex=Ne.length,ct){var dt=ot.top,ft=ot.bottom,mt=ot.collisionPadding;mt&&(dt-=mt[1],ft+=mt[3]);var yt=ft-dt;yt>0&&(yt=Math.max(10,yt),this.circleDiameter=yt)}else{var vt=ot.top*at-st,Ot=ot.bottom*at+st,Dt=ot.left*at-st,Rt=ot.right*at+st,Bt=ot.collisionPadding;if(Bt&&(Dt-=Bt[0]*at,vt-=Bt[1]*at,Rt+=Bt[2]*at,Ot+=Bt[3]*at),pt){var rn=new tt(Dt,vt),vn=new tt(Rt,vt),bn=new tt(Dt,Ot),Tn=new tt(Rt,Ot),Cn=pt*Math.PI/180;rn._rotate(Cn),vn._rotate(Cn),bn._rotate(Cn),Tn._rotate(Cn),Dt=Math.min(rn.x,vn.x,bn.x,Tn.x),Rt=Math.max(rn.x,vn.x,bn.x,Tn.x),vt=Math.min(rn.y,vn.y,bn.y,Tn.y),Ot=Math.max(rn.y,vn.y,bn.y,Tn.y)}Ne.emplaceBack(et.x,et.y,Dt,vt,Rt,Ot,nt,rt,it)}this.boxEndIndex=Ne.length},Hu=function(Ne,et){if(void 0===Ne&&(Ne=[]),void 0===et&&(et=Yu),this.data=Ne,this.length=this.data.length,this.compare=et,this.length>0)for(var tt=(this.length>>1)-1;tt>=0;tt--)this._down(tt)};function Yu(Ne,et){return Ne<et?-1:Ne>et?1:0}function $u(Ne,et,nt){void 0===et&&(et=1),void 0===nt&&(nt=!1);for(var rt=1/0,it=1/0,ot=-1/0,at=-1/0,st=Ne[0],ct=0;ct<st.length;ct++){var pt=st[ct];(!ct||pt.x<rt)&&(rt=pt.x),(!ct||pt.y<it)&&(it=pt.y),(!ct||pt.x>ot)&&(ot=pt.x),(!ct||pt.y>at)&&(at=pt.y)}var dt=Math.min(ot-rt,at-it),ft=dt/2,mt=new Hu([],Wu);if(0===dt)return new tt(rt,it);for(var yt=rt;yt<ot;yt+=dt)for(var vt=it;vt<at;vt+=dt)mt.push(new Qu(yt+ft,vt+ft,ft,Ne));for(var Ot=function(Ne){for(var et=0,tt=0,nt=0,rt=Ne[0],it=0,ot=rt.length,at=ot-1;it<ot;at=it++){var st=rt[it],ct=rt[at],pt=st.x*ct.y-ct.x*st.y;tt+=(st.x+ct.x)*pt,nt+=(st.y+ct.y)*pt,et+=3*pt}return new Qu(tt/et,nt/et,0,Ne)}(Ne),Dt=mt.length;mt.length;){var Rt=mt.pop();(Rt.d>Ot.d||!Ot.d)&&(Ot=Rt,nt&&console.log("found best %d after %d probes",Math.round(1e4*Rt.d)/1e4,Dt)),Rt.max-Ot.d<=et||(mt.push(new Qu(Rt.p.x-(ft=Rt.h/2),Rt.p.y-ft,ft,Ne)),mt.push(new Qu(Rt.p.x+ft,Rt.p.y-ft,ft,Ne)),mt.push(new Qu(Rt.p.x-ft,Rt.p.y+ft,ft,Ne)),mt.push(new Qu(Rt.p.x+ft,Rt.p.y+ft,ft,Ne)),Dt+=4)}return nt&&(console.log("num probes: "+Dt),console.log("best distance: "+Ot.d)),Ot.p}function Wu(Ne,et){return et.max-Ne.max}function Qu(Ne,et,nt,rt){this.p=new tt(Ne,et),this.h=nt,this.d=function(Ne,et){for(var tt=!1,nt=1/0,rt=0;rt<et.length;rt++)for(var it=et[rt],ot=0,at=it.length,st=at-1;ot<at;st=ot++){var ct=it[ot],pt=it[st];ct.y>Ne.y!=pt.y>Ne.y&&Ne.x<(pt.x-ct.x)*(Ne.y-ct.y)/(pt.y-ct.y)+ct.x&&(tt=!tt),nt=Math.min(nt,Xa(Ne,ct,pt))}return(tt?1:-1)*Math.sqrt(nt)}(this.p,rt),this.max=this.d+this.h*Math.SQRT2}Hu.prototype.push=function(Ne){this.data.push(Ne),this.length++,this._up(this.length-1)},Hu.prototype.pop=function(){if(0!==this.length){var Ne=this.data[0],et=this.data.pop();return this.length--,this.length>0&&(this.data[0]=et,this._down(0)),Ne}},Hu.prototype.peek=function(){return this.data[0]},Hu.prototype._up=function(Ne){for(var et=this.data,tt=this.compare,nt=et[Ne];Ne>0;){var rt=Ne-1>>1,it=et[rt];if(tt(nt,it)>=0)break;et[Ne]=it,Ne=rt}et[Ne]=nt},Hu.prototype._down=function(Ne){for(var et=this.data,tt=this.compare,nt=this.length>>1,rt=et[Ne];Ne<nt;){var it=1+(Ne<<1),ot=et[it],at=it+1;if(at<this.length&&tt(et[at],ot)<0&&(it=at,ot=et[at]),tt(ot,rt)>=0)break;et[Ne]=ot,Ne=it}et[Ne]=rt};var ph=Number.POSITIVE_INFINITY;function el(Ne,et){return et[1]!==ph?function(Ne,et,tt){var nt=0,rt=0;switch(et=Math.abs(et),tt=Math.abs(tt),Ne){case"top-right":case"top-left":case"top":rt=tt-7;break;case"bottom-right":case"bottom-left":case"bottom":rt=7-tt}switch(Ne){case"top-right":case"bottom-right":case"right":nt=-et;break;case"top-left":case"bottom-left":case"left":nt=et}return[nt,rt]}(Ne,et[0],et[1]):function(Ne,et){var tt=0,nt=0;et<0&&(et=0);var rt=et/Math.sqrt(2);switch(Ne){case"top-right":case"top-left":nt=rt-7;break;case"bottom-right":case"bottom-left":nt=7-rt;break;case"bottom":nt=7-et;break;case"top":nt=et-7}switch(Ne){case"top-right":case"bottom-right":tt=-rt;break;case"top-left":case"bottom-left":tt=rt;break;case"left":tt=et;break;case"right":tt=-et}return[tt,nt]}(Ne,et[0])}function rl(Ne){switch(Ne){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function nl(Ne,et,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt){var Ot=function(Ne,et,nt,rt,it,ot,at,st){for(var ct=rt.layout.get("text-rotate").evaluate(ot,{})*Math.PI/180,pt=[],dt=0,ft=et.positionedLines;dt<ft.length;dt+=1)for(var mt=ft[dt],yt=0,vt=mt.positionedGlyphs;yt<vt.length;yt+=1){var Ot=vt[yt];if(Ot.rect){var Dt=Ot.rect||{},Rt=4,Bt=!0,rn=1,vn=0,bn=(it||st)&&Ot.vertical,Tn=Ot.metrics.advance*Ot.scale/2;if(st&&et.verticalizable&&(vn=mt.lineOffset/2-(Ot.imageName?-(24-Ot.metrics.width*Ot.scale)/2:24*(Ot.scale-1))),Ot.imageName){var Cn=at[Ot.imageName];Bt=Cn.sdf,Rt=1/(rn=Cn.pixelRatio)}var In=it?[Ot.x+Tn,Ot.y]:[0,0],Ln=it?[0,0]:[Ot.x+Tn+nt[0],Ot.y+nt[1]-vn],Mn=[0,0];bn&&(Mn=Ln,Ln=[0,0]);var zn=(Ot.metrics.left-Rt)*Ot.scale-Tn+Ln[0],Fn=(-Ot.metrics.top-Rt)*Ot.scale+Ln[1],Bn=zn+Dt.w*Ot.scale/rn,Nn=Fn+Dt.h*Ot.scale/rn,Vn=new tt(zn,Fn),Wn=new tt(Bn,Fn),$n=new tt(zn,Nn),Yn=new tt(Bn,Nn);if(bn){var er=new tt(-Tn,Tn- -17),rr=-Math.PI/2,vr=12-Tn,wr=new tt(22-vr,-(Ot.imageName?vr:0)),Sr=new(Function.prototype.bind.apply(tt,[null].concat(Mn)));Vn._rotateAround(rr,er)._add(wr)._add(Sr),Wn._rotateAround(rr,er)._add(wr)._add(Sr),$n._rotateAround(rr,er)._add(wr)._add(Sr),Yn._rotateAround(rr,er)._add(wr)._add(Sr)}if(ct){var ii=Math.sin(ct),qi=Math.cos(ct),uo=[qi,-ii,ii,qi];Vn._matMult(uo),Wn._matMult(uo),$n._matMult(uo),Yn._matMult(uo)}var po=new tt(0,0),vo=new tt(0,0);pt.push({tl:Vn,tr:Wn,bl:$n,br:Yn,tex:Dt,writingMode:et.writingMode,glyphOffset:In,sectionIndex:Ot.sectionIndex,isSDF:Bt,pixelOffsetTL:po,pixelOffsetBR:vo,minFontScaleX:0,minFontScaleY:0})}}return pt}(0,nt,st,it,ot,at,rt,Ne.allowVerticalPlacement),Dt=Ne.textSizeData,Rt=null;"source"===Dt.kind?(Rt=[128*it.layout.get("text-size").evaluate(at,{})])[0]>32640&&_(Ne.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Dt.kind&&((Rt=[128*yt.compositeTextSizes[0].evaluate(at,{},vt),128*yt.compositeTextSizes[1].evaluate(at,{},vt)])[0]>32640||Rt[1]>32640)&&_(Ne.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),Ne.addSymbols(Ne.text,Ot,Rt,st,ot,at,pt,et,ct.lineStartIndex,ct.lineLength,mt,vt);for(var Bt=0,rn=dt;Bt<rn.length;Bt+=1)ft[rn[Bt]]=Ne.text.placedSymbolArray.length-1;return 4*Ot.length}function il(Ne){for(var et in Ne)return Ne[et];return null}function al(Ne,et,tt,nt){var rt=Ne.compareText;if(et in rt){for(var it=rt[et],ot=it.length-1;ot>=0;ot--)if(nt.dist(it[ot])<tt)return!0}else rt[et]=[];return rt[et].push(nt),!1}var mh=Lp.VectorTileFeature.types,_h=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ul(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft){var mt=at?Math.min(32640,Math.round(at[0])):0,yt=at?Math.min(32640,Math.round(at[1])):0;Ne.emplaceBack(et,tt,Math.round(32*nt),Math.round(32*rt),it,ot,(mt<<1)+(st?1:0),yt,16*ct,16*pt,256*dt,256*ft)}function ll(Ne,et,tt){Ne.emplaceBack(et.x,et.y,tt),Ne.emplaceBack(et.x,et.y,tt),Ne.emplaceBack(et.x,et.y,tt),Ne.emplaceBack(et.x,et.y,tt)}function pl(Ne){for(var et=0,tt=Ne.sections;et<tt.length;et+=1)if(Hn(tt[et].text))return!0;return!1}var cl=function(Ne){this.layoutVertexArray=new Sl,this.indexArray=new Hl,this.programConfigurations=Ne,this.segments=new aa,this.dynamicLayoutVertexArray=new Cl,this.opacityVertexArray=new kl,this.placedSymbolArray=new wc};cl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},cl.prototype.upload=function(Ne,et,tt,nt){this.isEmpty()||(tt&&(this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,qp.members),this.indexBuffer=Ne.createIndexBuffer(this.indexArray,et),this.dynamicLayoutVertexBuffer=Ne.createVertexBuffer(this.dynamicLayoutVertexArray,Wp.members,!0),this.opacityVertexBuffer=Ne.createVertexBuffer(this.opacityVertexArray,_h,!0),this.opacityVertexBuffer.itemSize=1),(tt||nt)&&this.programConfigurations.upload(Ne))},cl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Dn("SymbolBuffers",cl);var hl=function(Ne,et,tt){this.layoutVertexArray=new Ne,this.layoutAttributes=et,this.indexArray=new tt,this.segments=new aa,this.collisionVertexArray=new Fl};hl.prototype.upload=function(Ne){this.layoutVertexBuffer=Ne.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=Ne.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=Ne.createVertexBuffer(this.collisionVertexArray,Hp.members,!0)},hl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Dn("CollisionBuffers",hl);var fl=function(Ne){this.collisionBoxArray=Ne.collisionBoxArray,this.zoom=Ne.zoom,this.overscaling=Ne.overscaling,this.layers=Ne.layers,this.layerIds=this.layers.map((function(Ne){return Ne.id})),this.index=Ne.index,this.pixelRatio=Ne.pixelRatio,this.sourceLayerIndex=Ne.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=no([]),this.placementViewportMatrix=no([]);var et=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Pu(this.zoom,et["text-size"]),this.iconSizeData=Pu(this.zoom,et["icon-size"]);var tt=this.layers[0].layout,nt=tt.get("symbol-sort-key"),rt=tt.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==rt&&void 0!==nt.constantOr(1),this.sortFeaturesByY=("viewport-y"===rt||"auto"===rt&&!this.sortFeaturesByKey)&&(tt.get("text-allow-overlap")||tt.get("icon-allow-overlap")||tt.get("text-ignore-placement")||tt.get("icon-ignore-placement")),"point"===tt.get("symbol-placement")&&(this.writingModes=tt.get("text-writing-mode").map((function(Ne){return Qp[Ne]}))),this.stateDependentLayerIds=this.layers.filter((function(Ne){return Ne.isStateDependent()})).map((function(Ne){return Ne.id})),this.sourceID=Ne.sourceID};fl.prototype.createArrays=function(){this.text=new cl(new Pa(this.layers,this.zoom,(function(Ne){return/^text/.test(Ne)}))),this.icon=new cl(new Pa(this.layers,this.zoom,(function(Ne){return/^icon/.test(Ne)}))),this.glyphOffsetArray=new kc,this.lineVertexArray=new Ic,this.symbolInstances=new Cc},fl.prototype.calculateGlyphDependencies=function(Ne,et,tt,nt,rt){for(var it=0;it<Ne.length;it++)if(et[Ne.charCodeAt(it)]=!0,(tt||nt)&&rt){var ot=$p[Ne.charAt(it)];ot&&(et[ot.charCodeAt(0)]=!0)}},fl.prototype.populate=function(Ne,et,tt){var nt=this.layers[0],rt=nt.layout,it=rt.get("text-font"),ot=rt.get("text-field"),at=rt.get("icon-image"),st=("constant"!==ot.value.kind||ot.value.value instanceof ee&&!ot.value.value.isEmpty()||ot.value.value.toString().length>0)&&("constant"!==it.value.kind||it.value.value.length>0),ct="constant"!==at.value.kind||!!at.value.value||Object.keys(at.parameters).length>0,pt=rt.get("symbol-sort-key");if(this.features=[],st||ct){for(var dt=et.iconDependencies,ft=et.glyphDependencies,mt=et.availableImages,yt=new ai(this.zoom),vt=0,Ot=Ne;vt<Ot.length;vt+=1){var Dt=Ot[vt],Rt=Dt.feature,Bt=Dt.id,rn=Dt.index,vn=Dt.sourceLayerIndex,bn=nt._featureFilter.needGeometry,Tn={type:Rt.type,id:Bt,properties:Rt.properties,geometry:bn?La(Rt):[]};if(nt._featureFilter.filter(yt,Tn,tt)){bn||(Tn.geometry=La(Rt));var Cn=void 0;if(st){var In=nt.getValueAndResolveTokens("text-field",Tn,tt,mt),Ln=ee.factory(In);pl(Ln)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ri()||this.hasRTLText&&sl.isParsed())&&(Cn=qs(Ln,nt,Tn))}var Mn=void 0;if(ct){var zn=nt.getValueAndResolveTokens("icon-image",Tn,tt,mt);Mn=zn instanceof re?zn:re.fromString(zn)}if(Cn||Mn){var Fn=this.sortFeaturesByKey?pt.evaluate(Tn,{},tt):void 0,Bn={id:Bt,text:Cn,icon:Mn,index:rn,sourceLayerIndex:vn,geometry:La(Rt),properties:Rt.properties,type:mh[Rt.type],sortKey:Fn};if(this.features.push(Bn),Mn&&(dt[Mn.name]=!0),Cn){var Nn=it.evaluate(Tn,{},tt).join(","),Vn="map"===rt.get("text-rotation-alignment")&&"point"!==rt.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qp.vertical)>=0;for(var Wn=0,$n=Cn.sections;Wn<$n.length;Wn+=1){var Yn=$n[Wn];if(Yn.image)dt[Yn.image.name]=!0;else{var er=Kn(Cn.toString()),rr=Yn.fontStack||Nn,vr=ft[rr]=ft[rr]||{};this.calculateGlyphDependencies(Yn.text,vr,Vn,this.allowVerticalPlacement,er)}}}}}}"line"===rt.get("symbol-placement")&&(this.features=function(Ne){var et={},tt={},nt=[],rt=0;function a(et){nt.push(Ne[et]),rt++}function o(Ne,et,rt){var it=tt[Ne];return delete tt[Ne],tt[et]=it,nt[it].geometry[0].pop(),nt[it].geometry[0]=nt[it].geometry[0].concat(rt[0]),it}function s(Ne,tt,rt){var it=et[tt];return delete et[tt],et[Ne]=it,nt[it].geometry[0].shift(),nt[it].geometry[0]=rt[0].concat(nt[it].geometry[0]),it}function u(Ne,et,tt){var nt=tt?et[0][et[0].length-1]:et[0][0];return Ne+":"+nt.x+":"+nt.y}for(var it=0;it<Ne.length;it++){var ot=Ne[it],at=ot.geometry,st=ot.text?ot.text.toString():null;if(st){var ct=u(st,at),pt=u(st,at,!0);if(ct in tt&&pt in et&&tt[ct]!==et[pt]){var dt=s(ct,pt,at),ft=o(ct,pt,nt[dt].geometry);delete et[ct],delete tt[pt],tt[u(st,nt[ft].geometry,!0)]=ft,nt[dt].geometry=null}else ct in tt?o(ct,pt,at):pt in et?s(ct,pt,at):(a(it),et[ct]=rt-1,tt[pt]=rt-1)}else a(it)}return nt.filter((function(Ne){return Ne.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(Ne,et){return Ne.sortKey-et.sortKey}))}},fl.prototype.update=function(Ne,et,tt){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(Ne,et,this.layers,tt),this.icon.programConfigurations.updatePaintArrays(Ne,et,this.layers,tt))},fl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},fl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},fl.prototype.upload=function(Ne){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(Ne),this.iconCollisionBox.upload(Ne)),this.text.upload(Ne,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(Ne,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},fl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},fl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},fl.prototype.addToLineVertexArray=function(Ne,et){var tt=this.lineVertexArray.length;if(void 0!==Ne.segment){for(var nt=Ne.dist(et[Ne.segment+1]),rt=Ne.dist(et[Ne.segment]),it={},ot=Ne.segment+1;ot<et.length;ot++)it[ot]={x:et[ot].x,y:et[ot].y,tileUnitDistanceFromAnchor:nt},ot<et.length-1&&(nt+=et[ot+1].dist(et[ot]));for(var at=Ne.segment||0;at>=0;at--)it[at]={x:et[at].x,y:et[at].y,tileUnitDistanceFromAnchor:rt},at>0&&(rt+=et[at-1].dist(et[at]));for(var st=0;st<et.length;st++){var ct=it[st];this.lineVertexArray.emplaceBack(ct.x,ct.y,ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:tt,lineLength:this.lineVertexArray.length-tt}},fl.prototype.addSymbols=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt){for(var ft=Ne.indexArray,mt=Ne.layoutVertexArray,yt=Ne.segments.prepareSegment(4*et.length,mt,ft,it.sortKey),vt=this.glyphOffsetArray.length,Ot=yt.vertexLength,Dt=this.allowVerticalPlacement&&ot===Qp.vertical?Math.PI/2:0,Rt=it.text&&it.text.sections,Bt=0;Bt<et.length;Bt++){var rn=et[Bt],vn=rn.tl,bn=rn.tr,Tn=rn.bl,Cn=rn.br,In=rn.tex,Ln=rn.pixelOffsetTL,Mn=rn.pixelOffsetBR,zn=rn.minFontScaleX,Fn=rn.minFontScaleY,Bn=rn.glyphOffset,Nn=rn.isSDF,Vn=rn.sectionIndex,Wn=yt.vertexLength,$n=Bn[1];ul(mt,at.x,at.y,vn.x,$n+vn.y,In.x,In.y,tt,Nn,Ln.x,Ln.y,zn,Fn),ul(mt,at.x,at.y,bn.x,$n+bn.y,In.x+In.w,In.y,tt,Nn,Mn.x,Ln.y,zn,Fn),ul(mt,at.x,at.y,Tn.x,$n+Tn.y,In.x,In.y+In.h,tt,Nn,Ln.x,Mn.y,zn,Fn),ul(mt,at.x,at.y,Cn.x,$n+Cn.y,In.x+In.w,In.y+In.h,tt,Nn,Mn.x,Mn.y,zn,Fn),ll(Ne.dynamicLayoutVertexArray,at,Dt),ft.emplaceBack(Wn,Wn+1,Wn+2),ft.emplaceBack(Wn+1,Wn+2,Wn+3),yt.vertexLength+=4,yt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Bn[0]),Bt!==et.length-1&&Vn===et[Bt+1].sectionIndex||Ne.programConfigurations.populatePaintArrays(mt.length,it,it.index,{},dt,Rt&&Rt[Vn])}Ne.placedSymbolArray.emplaceBack(at.x,at.y,vt,this.glyphOffsetArray.length-vt,Ot,st,ct,at.segment,tt?tt[0]:0,tt?tt[1]:0,nt[0],nt[1],ot,0,!1,0,pt)},fl.prototype._addCollisionDebugVertex=function(Ne,et,tt,nt,rt,it){return et.emplaceBack(0,0),Ne.emplaceBack(tt.x,tt.y,nt,rt,Math.round(it.x),Math.round(it.y))},fl.prototype.addCollisionDebugVertices=function(Ne,et,nt,rt,it,ot,at){var st=it.segments.prepareSegment(4,it.layoutVertexArray,it.indexArray),ct=st.vertexLength,pt=it.layoutVertexArray,dt=it.collisionVertexArray,ft=at.anchorX,mt=at.anchorY;this._addCollisionDebugVertex(pt,dt,ot,ft,mt,new tt(Ne,et)),this._addCollisionDebugVertex(pt,dt,ot,ft,mt,new tt(nt,et)),this._addCollisionDebugVertex(pt,dt,ot,ft,mt,new tt(nt,rt)),this._addCollisionDebugVertex(pt,dt,ot,ft,mt,new tt(Ne,rt)),st.vertexLength+=4;var yt=it.indexArray;yt.emplaceBack(ct,ct+1),yt.emplaceBack(ct+1,ct+2),yt.emplaceBack(ct+2,ct+3),yt.emplaceBack(ct+3,ct),st.primitiveLength+=4},fl.prototype.addDebugCollisionBoxes=function(Ne,et,tt,nt){for(var rt=Ne;rt<et;rt++){var it=this.collisionBoxArray.get(rt);this.addCollisionDebugVertices(it.x1,it.y1,it.x2,it.y2,nt?this.textCollisionBox:this.iconCollisionBox,it.anchorPoint,tt)}},fl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hl(Al,Gp.members,Fu),this.iconCollisionBox=new hl(Al,Gp.members,Fu);for(var Ne=0;Ne<this.symbolInstances.length;Ne++){var et=this.symbolInstances.get(Ne);this.addDebugCollisionBoxes(et.textBoxStartIndex,et.textBoxEndIndex,et,!0),this.addDebugCollisionBoxes(et.verticalTextBoxStartIndex,et.verticalTextBoxEndIndex,et,!0),this.addDebugCollisionBoxes(et.iconBoxStartIndex,et.iconBoxEndIndex,et,!1),this.addDebugCollisionBoxes(et.verticalIconBoxStartIndex,et.verticalIconBoxEndIndex,et,!1)}},fl.prototype._deserializeCollisionBoxesForSymbol=function(Ne,et,tt,nt,rt,it,ot,at,st){for(var ct={},pt=et;pt<tt;pt++){var dt=Ne.get(pt);ct.textBox={x1:dt.x1,y1:dt.y1,x2:dt.x2,y2:dt.y2,anchorPointX:dt.anchorPointX,anchorPointY:dt.anchorPointY},ct.textFeatureIndex=dt.featureIndex;break}for(var ft=nt;ft<rt;ft++){var mt=Ne.get(ft);ct.verticalTextBox={x1:mt.x1,y1:mt.y1,x2:mt.x2,y2:mt.y2,anchorPointX:mt.anchorPointX,anchorPointY:mt.anchorPointY},ct.verticalTextFeatureIndex=mt.featureIndex;break}for(var yt=it;yt<ot;yt++){var vt=Ne.get(yt);ct.iconBox={x1:vt.x1,y1:vt.y1,x2:vt.x2,y2:vt.y2,anchorPointX:vt.anchorPointX,anchorPointY:vt.anchorPointY},ct.iconFeatureIndex=vt.featureIndex;break}for(var Ot=at;Ot<st;Ot++){var Dt=Ne.get(Ot);ct.verticalIconBox={x1:Dt.x1,y1:Dt.y1,x2:Dt.x2,y2:Dt.y2,anchorPointX:Dt.anchorPointX,anchorPointY:Dt.anchorPointY},ct.verticalIconFeatureIndex=Dt.featureIndex;break}return ct},fl.prototype.deserializeCollisionBoxes=function(Ne){this.collisionArrays=[];for(var et=0;et<this.symbolInstances.length;et++){var tt=this.symbolInstances.get(et);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(Ne,tt.textBoxStartIndex,tt.textBoxEndIndex,tt.verticalTextBoxStartIndex,tt.verticalTextBoxEndIndex,tt.iconBoxStartIndex,tt.iconBoxEndIndex,tt.verticalIconBoxStartIndex,tt.verticalIconBoxEndIndex))}},fl.prototype.hasTextData=function(){return this.text.segments.get().length>0},fl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},fl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},fl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},fl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},fl.prototype.addIndicesForPlacedSymbol=function(Ne,et){for(var tt=Ne.placedSymbolArray.get(et),nt=tt.vertexStartIndex+4*tt.numGlyphs,rt=tt.vertexStartIndex;rt<nt;rt+=4)Ne.indexArray.emplaceBack(rt,rt+1,rt+2),Ne.indexArray.emplaceBack(rt+1,rt+2,rt+3)},fl.prototype.getSortedSymbolIndexes=function(Ne){if(this.sortedAngle===Ne&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var et=Math.sin(Ne),tt=Math.cos(Ne),nt=[],rt=[],it=[],ot=0;ot<this.symbolInstances.length;++ot){it.push(ot);var at=this.symbolInstances.get(ot);nt.push(0|Math.round(et*at.anchorX+tt*at.anchorY)),rt.push(at.featureIndex)}return it.sort((function(Ne,et){return nt[Ne]-nt[et]||rt[et]-rt[Ne]})),it},fl.prototype.addToSortKeyRanges=function(Ne,et){var tt=this.sortKeyRanges[this.sortKeyRanges.length-1];tt&&tt.sortKey===et?tt.symbolInstanceEnd=Ne+1:this.sortKeyRanges.push({sortKey:et,symbolInstanceStart:Ne,symbolInstanceEnd:Ne+1})},fl.prototype.sortFeatures=function(Ne){var et=this;if(this.sortFeaturesByY&&this.sortedAngle!==Ne&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(Ne),this.sortedAngle=Ne,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var tt=0,nt=this.symbolInstanceIndexes;tt<nt.length;tt+=1){var rt=this.symbolInstances.get(nt[tt]);this.featureSortOrder.push(rt.featureIndex),[rt.rightJustifiedTextSymbolIndex,rt.centerJustifiedTextSymbolIndex,rt.leftJustifiedTextSymbolIndex].forEach((function(Ne,tt,nt){Ne>=0&&nt.indexOf(Ne)===tt&&et.addIndicesForPlacedSymbol(et.text,Ne)})),rt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,rt.verticalPlacedTextSymbolIndex),rt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,rt.placedIconSymbolIndex),rt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,rt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Dn("SymbolBucket",fl,{omit:["layers","collisionBoxArray","features","compareText"]}),fl.MAX_GLYPHS=65535,fl.addDynamicAttributes=ll;var bh=new xi({"symbol-placement":new yi(Sr.layout_symbol["symbol-placement"]),"symbol-spacing":new yi(Sr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yi(Sr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new di(Sr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yi(Sr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yi(Sr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new yi(Sr.layout_symbol["icon-ignore-placement"]),"icon-optional":new yi(Sr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yi(Sr.layout_symbol["icon-rotation-alignment"]),"icon-size":new di(Sr.layout_symbol["icon-size"]),"icon-text-fit":new yi(Sr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yi(Sr.layout_symbol["icon-text-fit-padding"]),"icon-image":new di(Sr.layout_symbol["icon-image"]),"icon-rotate":new di(Sr.layout_symbol["icon-rotate"]),"icon-padding":new yi(Sr.layout_symbol["icon-padding"]),"icon-keep-upright":new yi(Sr.layout_symbol["icon-keep-upright"]),"icon-offset":new di(Sr.layout_symbol["icon-offset"]),"icon-anchor":new di(Sr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yi(Sr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yi(Sr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yi(Sr.layout_symbol["text-rotation-alignment"]),"text-field":new di(Sr.layout_symbol["text-field"]),"text-font":new di(Sr.layout_symbol["text-font"]),"text-size":new di(Sr.layout_symbol["text-size"]),"text-max-width":new di(Sr.layout_symbol["text-max-width"]),"text-line-height":new yi(Sr.layout_symbol["text-line-height"]),"text-letter-spacing":new di(Sr.layout_symbol["text-letter-spacing"]),"text-justify":new di(Sr.layout_symbol["text-justify"]),"text-radial-offset":new di(Sr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yi(Sr.layout_symbol["text-variable-anchor"]),"text-anchor":new di(Sr.layout_symbol["text-anchor"]),"text-max-angle":new yi(Sr.layout_symbol["text-max-angle"]),"text-writing-mode":new yi(Sr.layout_symbol["text-writing-mode"]),"text-rotate":new di(Sr.layout_symbol["text-rotate"]),"text-padding":new yi(Sr.layout_symbol["text-padding"]),"text-keep-upright":new yi(Sr.layout_symbol["text-keep-upright"]),"text-transform":new di(Sr.layout_symbol["text-transform"]),"text-offset":new di(Sr.layout_symbol["text-offset"]),"text-allow-overlap":new yi(Sr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new yi(Sr.layout_symbol["text-ignore-placement"]),"text-optional":new yi(Sr.layout_symbol["text-optional"])}),Ph={paint:new xi({"icon-opacity":new di(Sr.paint_symbol["icon-opacity"]),"icon-color":new di(Sr.paint_symbol["icon-color"]),"icon-halo-color":new di(Sr.paint_symbol["icon-halo-color"]),"icon-halo-width":new di(Sr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new di(Sr.paint_symbol["icon-halo-blur"]),"icon-translate":new yi(Sr.paint_symbol["icon-translate"]),"icon-translate-anchor":new yi(Sr.paint_symbol["icon-translate-anchor"]),"text-opacity":new di(Sr.paint_symbol["text-opacity"]),"text-color":new di(Sr.paint_symbol["text-color"],{runtimeType:So,getOverride:function(Ne){return Ne.textColor},hasOverride:function(Ne){return!!Ne.textColor}}),"text-halo-color":new di(Sr.paint_symbol["text-halo-color"]),"text-halo-width":new di(Sr.paint_symbol["text-halo-width"]),"text-halo-blur":new di(Sr.paint_symbol["text-halo-blur"]),"text-translate":new yi(Sr.paint_symbol["text-translate"]),"text-translate-anchor":new yi(Sr.paint_symbol["text-translate-anchor"])}),layout:bh},ml=function(Ne){this.type=Ne.property.overrides?Ne.property.overrides.runtimeType:qi,this.defaultValue=Ne};ml.prototype.evaluate=function(Ne){if(Ne.formattedSection){var et=this.defaultValue.property.overrides;if(et&&et.hasOverride(Ne.formattedSection))return et.getOverride(Ne.formattedSection)}return Ne.feature&&Ne.featureState?this.defaultValue.evaluate(Ne.feature,Ne.featureState):this.defaultValue.property.specification.default},ml.prototype.eachChild=function(Ne){this.defaultValue.isConstant()||Ne(this.defaultValue.value._styleExpression.expression)},ml.prototype.outputDefined=function(){return!1},ml.prototype.serialize=function(){return null},Dn("FormatSectionOverride",ml,{omit:["defaultValue"]});var kh=function(Ne){function e(et){Ne.call(this,et,Ph)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.recalculate=function(et,tt){if(Ne.prototype.recalculate.call(this,et,tt),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var nt=this.layout.get("text-writing-mode");if(nt){for(var rt=[],it=0,ot=nt;it<ot.length;it+=1){var at=ot[it];rt.indexOf(at)<0&&rt.push(at)}this.layout._values["text-writing-mode"]=rt}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(Ne,et,tt,nt){var rt=this.layout.get(Ne).evaluate(et,{},tt,nt),it=this._unevaluatedLayout._values[Ne];return it.isDataDriven()||Nr(it.value)||!rt?rt:function(Ne,et){return et.replace(/{([^{}]+)}/g,(function(et,tt){return tt in Ne?String(Ne[tt]):""}))}(et.properties,rt)},e.prototype.createBucket=function(Ne){return new fl(Ne)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var Ne=0,et=Ph.paint.overridableProperties;Ne<et.length;Ne+=1){var tt=et[Ne];if(e.hasPaintOverride(this.layout,tt)){var nt,rt=this.paint.get(tt),it=new ml(rt),ot=new qr(it,rt.property.specification);nt="constant"===rt.value.kind||"source"===rt.value.kind?new Gr("source",ot):new Zr("composite",ot,rt.value.zoomStops,rt.value._interpolationType),this.paint._values[tt]=new hi(rt.property,nt,rt.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(Ne,et,tt){return!(!this.layout||et.isDataDriven()||tt.isDataDriven())&&e.hasPaintOverride(this.layout,Ne)},e.hasPaintOverride=function(Ne,et){var tt=Ne.get("text-field"),nt=Ph.paint.properties[et],rt=!1,a=function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(nt.overrides&&nt.overrides.hasOverride(tt[et]))return void(rt=!0)};if("constant"===tt.value.kind&&tt.value.value instanceof ee)a(tt.value.value.sections);else if("source"===tt.value.kind){var o=function(Ne){rt||(Ne instanceof se&&ae(Ne.value)===sa?a(Ne.value.sections):Ne instanceof ce?a(Ne.sections):Ne.eachChild(o))},it=tt.value;it._styleExpression&&o(it._styleExpression.expression)}return rt},e}(gl),Oh={paint:new xi({"background-color":new yi(Sr.paint_background["background-color"]),"background-pattern":new vi(Sr.paint_background["background-pattern"]),"background-opacity":new yi(Sr.paint_background["background-opacity"])})},jh=function(Ne){function e(et){Ne.call(this,et,Oh)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(gl),qh={paint:new xi({"raster-opacity":new yi(Sr.paint_raster["raster-opacity"]),"raster-hue-rotate":new yi(Sr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yi(Sr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yi(Sr.paint_raster["raster-brightness-max"]),"raster-saturation":new yi(Sr.paint_raster["raster-saturation"]),"raster-contrast":new yi(Sr.paint_raster["raster-contrast"]),"raster-resampling":new yi(Sr.paint_raster["raster-resampling"]),"raster-fade-duration":new yi(Sr.paint_raster["raster-fade-duration"])})},Yh=function(Ne){function e(et){Ne.call(this,et,qh)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(gl),Qh=function(Ne){function e(et){Ne.call(this,et,{}),this.implementation=et}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(Ne){this.implementation.onAdd&&this.implementation.onAdd(Ne,Ne.painter.context.gl)},e.prototype.onRemove=function(Ne){this.implementation.onRemove&&this.implementation.onRemove(Ne,Ne.painter.context.gl)},e}(gl),ed={circle:gp,heatmap:_p,hillshade:xp,fill:Pp,"fill-extrusion":Dp,line:Zp,symbol:kh,background:jh,raster:Yh},nd=nt.HTMLImageElement,cd=nt.HTMLCanvasElement,dd=nt.HTMLVideoElement,fd=nt.ImageData,_d=nt.ImageBitmap,Ml=function(Ne,et,tt,nt){this.context=Ne,this.format=tt,this.texture=Ne.gl.createTexture(),this.update(et,nt)};Ml.prototype.update=function(Ne,et,tt){var nt=Ne.width,rt=Ne.height,it=!(this.size&&this.size[0]===nt&&this.size[1]===rt||tt),ot=this.context,at=ot.gl;if(this.useMipmap=Boolean(et&&et.useMipmap),at.bindTexture(at.TEXTURE_2D,this.texture),ot.pixelStoreUnpackFlipY.set(!1),ot.pixelStoreUnpack.set(1),ot.pixelStoreUnpackPremultiplyAlpha.set(this.format===at.RGBA&&(!et||!1!==et.premultiply)),it)this.size=[nt,rt],Ne instanceof nd||Ne instanceof cd||Ne instanceof dd||Ne instanceof fd||_d&&Ne instanceof _d?at.texImage2D(at.TEXTURE_2D,0,this.format,this.format,at.UNSIGNED_BYTE,Ne):at.texImage2D(at.TEXTURE_2D,0,this.format,nt,rt,0,this.format,at.UNSIGNED_BYTE,Ne.data);else{var st=tt||{x:0,y:0},ct=st.x,pt=st.y;Ne instanceof nd||Ne instanceof cd||Ne instanceof dd||Ne instanceof fd||_d&&Ne instanceof _d?at.texSubImage2D(at.TEXTURE_2D,0,ct,pt,at.RGBA,at.UNSIGNED_BYTE,Ne):at.texSubImage2D(at.TEXTURE_2D,0,ct,pt,nt,rt,at.RGBA,at.UNSIGNED_BYTE,Ne.data)}this.useMipmap&&this.isSizePowerOfTwo()&&at.generateMipmap(at.TEXTURE_2D)},Ml.prototype.bind=function(Ne,et,tt){var nt=this.context.gl;nt.bindTexture(nt.TEXTURE_2D,this.texture),tt!==nt.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(tt=nt.LINEAR),Ne!==this.filter&&(nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,Ne),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,tt||Ne),this.filter=Ne),et!==this.wrap&&(nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,et),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,et),this.wrap=et)},Ml.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ml.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var El=function(Ne){var et=this;this._callback=Ne,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){et._triggered=!1,et._callback()})};El.prototype.trigger=function(){var Ne=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){Ne._triggered=!1,Ne._callback()}),0))},El.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Tl=function(Ne,et,tt){this.target=Ne,this.parent=et,this.mapId=tt,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new El(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?Ne:nt};function Pl(Ne,et,tt){var nt=2*Math.PI*6378137/256/Math.pow(2,tt);return[Ne*nt-2*Math.PI*6378137/2,et*nt-2*Math.PI*6378137/2]}Tl.prototype.send=function(Ne,et,tt,nt,rt){var it=this;void 0===rt&&(rt=!1);var ot=Math.round(1e18*Math.random()).toString(36).substring(0,10);tt&&(this.callbacks[ot]=tt);var at=C(this.globalScope)?void 0:[];return this.target.postMessage({id:ot,type:Ne,hasCallback:!!tt,targetMapId:nt,mustQueue:rt,sourceMapId:this.mapId,data:Un(et,at)},at),{cancel:function(){tt&&delete it.callbacks[ot],it.target.postMessage({id:ot,type:"<cancel>",targetMapId:nt,sourceMapId:it.mapId})}}},Tl.prototype.receive=function(Ne){var et=Ne.data,tt=et.id;if(tt&&(!et.targetMapId||this.mapId===et.targetMapId))if("<cancel>"===et.type){delete this.tasks[tt];var nt=this.cancelCallbacks[tt];delete this.cancelCallbacks[tt],nt&&nt()}else k()||et.mustQueue?(this.tasks[tt]=et,this.taskQueue.push(tt),this.invoker.trigger()):this.processTask(tt,et)},Tl.prototype.process=function(){if(this.taskQueue.length){var Ne=this.taskQueue.shift(),et=this.tasks[Ne];delete this.tasks[Ne],this.taskQueue.length&&this.invoker.trigger(),et&&this.processTask(Ne,et)}},Tl.prototype.processTask=function(Ne,et){var tt=this;if("<response>"===et.type){var nt=this.callbacks[Ne];delete this.callbacks[Ne],nt&&(et.error?nt(jn(et.error)):nt(null,jn(et.data)))}else{var rt=!1,it=C(this.globalScope)?void 0:[],ot=et.hasCallback?function(et,nt){rt=!0,delete tt.cancelCallbacks[Ne],tt.target.postMessage({id:Ne,type:"<response>",sourceMapId:tt.mapId,error:et?Un(et):null,data:Un(nt,it)},it)}:function(Ne){rt=!0},at=null,st=jn(et.data);if(this.parent[et.type])at=this.parent[et.type](et.sourceMapId,st,ot);else if(this.parent.getWorkerSource){var ct=et.type.split(".");at=this.parent.getWorkerSource(et.sourceMapId,ct[0],st.source)[ct[1]](st,ot)}else ot(new Error("Could not find function "+et.type));!rt&&at&&at.cancel&&(this.cancelCallbacks[Ne]=at.cancel)}},Tl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Bl=function(Ne,et){Ne&&(et?this.setSouthWest(Ne).setNorthEast(et):4===Ne.length?this.setSouthWest([Ne[0],Ne[1]]).setNorthEast([Ne[2],Ne[3]]):this.setSouthWest(Ne[0]).setNorthEast(Ne[1]))};Bl.prototype.setNorthEast=function(Ne){return this._ne=Ne instanceof Vl?new Vl(Ne.lng,Ne.lat):Vl.convert(Ne),this},Bl.prototype.setSouthWest=function(Ne){return this._sw=Ne instanceof Vl?new Vl(Ne.lng,Ne.lat):Vl.convert(Ne),this},Bl.prototype.extend=function(Ne){var et,tt,nt=this._sw,rt=this._ne;if(Ne instanceof Vl)et=Ne,tt=Ne;else{if(!(Ne instanceof Bl))return Array.isArray(Ne)?4===Ne.length||Ne.every(Array.isArray)?this.extend(Bl.convert(Ne)):this.extend(Vl.convert(Ne)):this;if(tt=Ne._ne,!(et=Ne._sw)||!tt)return this}return nt||rt?(nt.lng=Math.min(et.lng,nt.lng),nt.lat=Math.min(et.lat,nt.lat),rt.lng=Math.max(tt.lng,rt.lng),rt.lat=Math.max(tt.lat,rt.lat)):(this._sw=new Vl(et.lng,et.lat),this._ne=new Vl(tt.lng,tt.lat)),this},Bl.prototype.getCenter=function(){return new Vl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Bl.prototype.getSouthWest=function(){return this._sw},Bl.prototype.getNorthEast=function(){return this._ne},Bl.prototype.getNorthWest=function(){return new Vl(this.getWest(),this.getNorth())},Bl.prototype.getSouthEast=function(){return new Vl(this.getEast(),this.getSouth())},Bl.prototype.getWest=function(){return this._sw.lng},Bl.prototype.getSouth=function(){return this._sw.lat},Bl.prototype.getEast=function(){return this._ne.lng},Bl.prototype.getNorth=function(){return this._ne.lat},Bl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Bl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Bl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Bl.prototype.contains=function(Ne){var et=Vl.convert(Ne),tt=et.lng,nt=et.lat,rt=this._sw.lng<=tt&&tt<=this._ne.lng;return this._sw.lng>this._ne.lng&&(rt=this._sw.lng>=tt&&tt>=this._ne.lng),this._sw.lat<=nt&&nt<=this._ne.lat&&rt},Bl.convert=function(Ne){return!Ne||Ne instanceof Bl?Ne:new Bl(Ne)};var Vl=function(Ne,et){if(isNaN(Ne)||isNaN(et))throw new Error("Invalid LngLat object: ("+Ne+", "+et+")");if(this.lng=+Ne,this.lat=+et,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Vl.prototype.wrap=function(){return new Vl(p(this.lng,-180,180),this.lat)},Vl.prototype.toArray=function(){return[this.lng,this.lat]},Vl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Vl.prototype.distanceTo=function(Ne){var et=Math.PI/180,tt=this.lat*et,nt=Ne.lat*et,rt=Math.sin(tt)*Math.sin(nt)+Math.cos(tt)*Math.cos(nt)*Math.cos((Ne.lng-this.lng)*et);return 6371008.8*Math.acos(Math.min(rt,1))},Vl.prototype.toBounds=function(Ne){void 0===Ne&&(Ne=0);var et=360*Ne/40075017,tt=et/Math.cos(Math.PI/180*this.lat);return new Bl(new Vl(this.lng-tt,this.lat-et),new Vl(this.lng+tt,this.lat+et))},Vl.convert=function(Ne){if(Ne instanceof Vl)return Ne;if(Array.isArray(Ne)&&(2===Ne.length||3===Ne.length))return new Vl(Number(Ne[0]),Number(Ne[1]));if(!Array.isArray(Ne)&&"object"==typeof Ne&&null!==Ne)return new Vl(Number("lng"in Ne?Ne.lng:Ne.lon),Number(Ne.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var bd=2*Math.PI*6371008.8;function Dl(Ne){return bd*Math.cos(Ne*Math.PI/180)}function Ll(Ne){return(180+Ne)/360}function Rl(Ne){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Ne*Math.PI/360)))/360}function Ol(Ne,et){return Ne/Dl(et)}function Ul(Ne){return 360/Math.PI*Math.atan(Math.exp((180-360*Ne)*Math.PI/180))-90}var jl=function(Ne,et,tt){void 0===tt&&(tt=0),this.x=+Ne,this.y=+et,this.z=+tt};jl.fromLngLat=function(Ne,et){void 0===et&&(et=0);var tt=Vl.convert(Ne);return new jl(Ll(tt.lng),Rl(tt.lat),Ol(et,tt.lat))},jl.prototype.toLngLat=function(){return new Vl(360*this.x-180,Ul(this.y))},jl.prototype.toAltitude=function(){return this.z*Dl(Ul(this.y))},jl.prototype.meterInMercatorCoordinateUnits=function(){return 1/bd*(Ne=Ul(this.y),1/Math.cos(Ne*Math.PI/180));var Ne};var ql=function(Ne,et,tt){this.z=Ne,this.x=et,this.y=tt,this.key=Gl(0,Ne,Ne,et,tt)};ql.prototype.equals=function(Ne){return this.z===Ne.z&&this.x===Ne.x&&this.y===Ne.y},ql.prototype.url=function(Ne,et){var tt,nt,rt,it,ot,at=(nt=this.y,rt=this.z,it=Pl(256*(tt=this.x),256*(nt=Math.pow(2,rt)-nt-1),rt),ot=Pl(256*(tt+1),256*(nt+1),rt),it[0]+","+it[1]+","+ot[0]+","+ot[1]),st=function(Ne,et,tt){for(var nt,rt="",it=Ne;it>0;it--)rt+=(et&(nt=1<<it-1)?1:0)+(tt&nt?2:0);return rt}(this.z,this.x,this.y);return Ne[(this.x+this.y)%Ne.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===et?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",st).replace("{bbox-epsg-3857}",at)},ql.prototype.getTilePoint=function(Ne){var et=Math.pow(2,this.z);return new tt(8192*(Ne.x*et-this.x),8192*(Ne.y*et-this.y))},ql.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Nl=function(Ne,et){this.wrap=Ne,this.canonical=et,this.key=Gl(Ne,et.z,et.z,et.x,et.y)},Kl=function(Ne,et,tt,nt,rt){this.overscaledZ=Ne,this.wrap=et,this.canonical=new ql(tt,+nt,+rt),this.key=Gl(et,Ne,tt,nt,rt)};function Gl(Ne,et,tt,nt,rt){(Ne*=2)<0&&(Ne=-1*Ne-1);var it=1<<tt;return(it*it*Ne+it*rt+nt).toString(36)+tt.toString(36)+et.toString(36)}Kl.prototype.equals=function(Ne){return this.overscaledZ===Ne.overscaledZ&&this.wrap===Ne.wrap&&this.canonical.equals(Ne.canonical)},Kl.prototype.scaledTo=function(Ne){var et=this.canonical.z-Ne;return Ne>this.canonical.z?new Kl(Ne,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Kl(Ne,this.wrap,Ne,this.canonical.x>>et,this.canonical.y>>et)},Kl.prototype.calculateScaledKey=function(Ne,et){var tt=this.canonical.z-Ne;return Ne>this.canonical.z?Gl(this.wrap*+et,Ne,this.canonical.z,this.canonical.x,this.canonical.y):Gl(this.wrap*+et,Ne,Ne,this.canonical.x>>tt,this.canonical.y>>tt)},Kl.prototype.isChildOf=function(Ne){if(Ne.wrap!==this.wrap)return!1;var et=this.canonical.z-Ne.canonical.z;return 0===Ne.overscaledZ||Ne.overscaledZ<this.overscaledZ&&Ne.canonical.x===this.canonical.x>>et&&Ne.canonical.y===this.canonical.y>>et},Kl.prototype.children=function(Ne){if(this.overscaledZ>=Ne)return[new Kl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var et=this.canonical.z+1,tt=2*this.canonical.x,nt=2*this.canonical.y;return[new Kl(et,this.wrap,et,tt,nt),new Kl(et,this.wrap,et,tt+1,nt),new Kl(et,this.wrap,et,tt,nt+1),new Kl(et,this.wrap,et,tt+1,nt+1)]},Kl.prototype.isLessThan=function(Ne){return this.wrap<Ne.wrap||!(this.wrap>Ne.wrap)&&(this.overscaledZ<Ne.overscaledZ||!(this.overscaledZ>Ne.overscaledZ)&&(this.canonical.x<Ne.canonical.x||!(this.canonical.x>Ne.canonical.x)&&this.canonical.y<Ne.canonical.y))},Kl.prototype.wrapped=function(){return new Kl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.unwrapTo=function(Ne){return new Kl(this.overscaledZ,Ne,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Kl.prototype.toUnwrapped=function(){return new Nl(this.wrap,this.canonical)},Kl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Kl.prototype.getTilePoint=function(Ne){return this.canonical.getTilePoint(new jl(Ne.x-this.wrap,Ne.y))},Dn("CanonicalTileID",ql),Dn("OverscaledTileID",Kl,{omit:["posMatrix"]});var Zl=function(Ne,et,tt){if(this.uid=Ne,et.height!==et.width)throw new RangeError("DEM tiles must be square");if(tt&&"mapbox"!==tt&&"terrarium"!==tt)return _('"'+tt+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=et.height;var nt=this.dim=et.height-2;this.data=new Uint32Array(et.data.buffer),this.encoding=tt||"mapbox";for(var rt=0;rt<nt;rt++)this.data[this._idx(-1,rt)]=this.data[this._idx(0,rt)],this.data[this._idx(nt,rt)]=this.data[this._idx(nt-1,rt)],this.data[this._idx(rt,-1)]=this.data[this._idx(rt,0)],this.data[this._idx(rt,nt)]=this.data[this._idx(rt,nt-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(nt,-1)]=this.data[this._idx(nt-1,0)],this.data[this._idx(-1,nt)]=this.data[this._idx(0,nt-1)],this.data[this._idx(nt,nt)]=this.data[this._idx(nt-1,nt-1)]};Zl.prototype.get=function(Ne,et){var tt=new Uint8Array(this.data.buffer),nt=4*this._idx(Ne,et);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(tt[nt],tt[nt+1],tt[nt+2])},Zl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Zl.prototype._idx=function(Ne,et){if(Ne<-1||Ne>=this.dim+1||et<-1||et>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(et+1)*this.stride+(Ne+1)},Zl.prototype._unpackMapbox=function(Ne,et,tt){return(256*Ne*256+256*et+tt)/10-1e4},Zl.prototype._unpackTerrarium=function(Ne,et,tt){return 256*Ne+et+tt/256-32768},Zl.prototype.getPixels=function(){return new mo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Zl.prototype.backfillBorder=function(Ne,et,tt){if(this.dim!==Ne.dim)throw new Error("dem dimension mismatch");var nt=et*this.dim,rt=et*this.dim+this.dim,it=tt*this.dim,ot=tt*this.dim+this.dim;switch(et){case-1:nt=rt-1;break;case 1:rt=nt+1}switch(tt){case-1:it=ot-1;break;case 1:ot=it+1}for(var at=-et*this.dim,st=-tt*this.dim,ct=it;ct<ot;ct++)for(var pt=nt;pt<rt;pt++)this.data[this._idx(pt,ct)]=Ne.data[this._idx(pt+at,ct+st)]},Dn("DEMData",Zl);var Xl=function(Ne){this._stringToNumber={},this._numberToString=[];for(var et=0;et<Ne.length;et++){var tt=Ne[et];this._stringToNumber[tt]=et,this._numberToString[et]=tt}};Xl.prototype.encode=function(Ne){return this._stringToNumber[Ne]},Xl.prototype.decode=function(Ne){return this._numberToString[Ne]};var Jl=function(Ne,et,tt,nt,rt){this.type="Feature",this._vectorTileFeature=Ne,Ne._z=et,Ne._x=tt,Ne._y=nt,this.properties=Ne.properties,this.id=rt},Ed={geometry:{configurable:!0}};Ed.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ed.geometry.set=function(Ne){this._geometry=Ne},Jl.prototype.toJSON=function(){var Ne={geometry:this.geometry};for(var et in this)"_geometry"!==et&&"_vectorTileFeature"!==et&&(Ne[et]=this[et]);return Ne},Object.defineProperties(Jl.prototype,Ed);var Yl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Yl.prototype.updateState=function(Ne,et,tt){var nt=String(et);if(this.stateChanges[Ne]=this.stateChanges[Ne]||{},this.stateChanges[Ne][nt]=this.stateChanges[Ne][nt]||{},c(this.stateChanges[Ne][nt],tt),null===this.deletedStates[Ne])for(var rt in this.deletedStates[Ne]={},this.state[Ne])rt!==nt&&(this.deletedStates[Ne][rt]=null);else if(this.deletedStates[Ne]&&null===this.deletedStates[Ne][nt])for(var it in this.deletedStates[Ne][nt]={},this.state[Ne][nt])tt[it]||(this.deletedStates[Ne][nt][it]=null);else for(var ot in tt)this.deletedStates[Ne]&&this.deletedStates[Ne][nt]&&null===this.deletedStates[Ne][nt][ot]&&delete this.deletedStates[Ne][nt][ot]},Yl.prototype.removeFeatureState=function(Ne,et,tt){if(null!==this.deletedStates[Ne]){var nt=String(et);if(this.deletedStates[Ne]=this.deletedStates[Ne]||{},tt&&void 0!==et)null!==this.deletedStates[Ne][nt]&&(this.deletedStates[Ne][nt]=this.deletedStates[Ne][nt]||{},this.deletedStates[Ne][nt][tt]=null);else if(void 0!==et)if(this.stateChanges[Ne]&&this.stateChanges[Ne][nt])for(tt in this.deletedStates[Ne][nt]={},this.stateChanges[Ne][nt])this.deletedStates[Ne][nt][tt]=null;else this.deletedStates[Ne][nt]=null;else this.deletedStates[Ne]=null}},Yl.prototype.getState=function(Ne,et){var tt=String(et),nt=c({},(this.state[Ne]||{})[tt],(this.stateChanges[Ne]||{})[tt]);if(null===this.deletedStates[Ne])return{};if(this.deletedStates[Ne]){var rt=this.deletedStates[Ne][et];if(null===rt)return{};for(var it in rt)delete nt[it]}return nt},Yl.prototype.initializeTileState=function(Ne,et){Ne.setFeatureState(this.state,et)},Yl.prototype.coalesceChanges=function(Ne,et){var tt={};for(var nt in this.stateChanges){this.state[nt]=this.state[nt]||{};var rt={};for(var it in this.stateChanges[nt])this.state[nt][it]||(this.state[nt][it]={}),c(this.state[nt][it],this.stateChanges[nt][it]),rt[it]=this.state[nt][it];tt[nt]=rt}for(var ot in this.deletedStates){this.state[ot]=this.state[ot]||{};var at={};if(null===this.deletedStates[ot])for(var st in this.state[ot])at[st]={},this.state[ot][st]={};else for(var ct in this.deletedStates[ot]){if(null===this.deletedStates[ot][ct])this.state[ot][ct]={};else for(var pt=0,dt=Object.keys(this.deletedStates[ot][ct]);pt<dt.length;pt+=1)delete this.state[ot][ct][dt[pt]];at[ct]=this.state[ot][ct]}tt[ot]=tt[ot]||{},c(tt[ot],at)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(tt).length)for(var ft in Ne)Ne[ft].setFeatureState(tt,et)};var $l=function(Ne,et){this.tileID=Ne,this.x=Ne.canonical.x,this.y=Ne.canonical.y,this.z=Ne.canonical.z,this.grid=new Fs(8192,16,0),this.grid3D=new Fs(8192,16,0),this.featureIndexArray=new zc,this.promoteId=et};function Wl(Ne,et,tt,nt,rt){return g(Ne,(function(Ne,it){var ot=et instanceof fi?et.get(it):null;return ot&&ot.evaluate?ot.evaluate(tt,nt,rt):ot}))}function Ql(Ne){for(var et=1/0,tt=1/0,nt=-1/0,rt=-1/0,it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it];et=Math.min(et,at.x),tt=Math.min(tt,at.y),nt=Math.max(nt,at.x),rt=Math.max(rt,at.y)}return{minX:et,minY:tt,maxX:nt,maxY:rt}}function tp(Ne,et){return et-Ne}$l.prototype.insert=function(Ne,et,tt,nt,rt,it){var ot=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(tt,nt,rt);for(var at=it?this.grid3D:this.grid,st=0;st<et.length;st++){for(var ct=et[st],pt=[1/0,1/0,-1/0,-1/0],dt=0;dt<ct.length;dt++){var ft=ct[dt];pt[0]=Math.min(pt[0],ft.x),pt[1]=Math.min(pt[1],ft.y),pt[2]=Math.max(pt[2],ft.x),pt[3]=Math.max(pt[3],ft.y)}pt[0]<8192&&pt[1]<8192&&pt[2]>=0&&pt[3]>=0&&at.insert(ot,pt[0],pt[1],pt[2],pt[3])}},$l.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Lp.VectorTile(new Kp(this.rawTileData)).layers,this.sourceLayerCoder=new Xl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},$l.prototype.query=function(Ne,et,nt,rt){var it=this;this.loadVTLayers();for(var ot=Ne.params||{},at=8192/Ne.tileSize/Ne.scale,st=nn(ot.filter),ct=Ne.queryGeometry,pt=Ne.queryPadding*at,dt=Ql(ct),ft=this.grid.query(dt.minX-pt,dt.minY-pt,dt.maxX+pt,dt.maxY+pt),mt=Ql(Ne.cameraQueryGeometry),yt=0,vt=this.grid3D.query(mt.minX-pt,mt.minY-pt,mt.maxX+pt,mt.maxY+pt,(function(et,nt,rt,it){return function(Ne,et,nt,rt,it){for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot];if(et<=st.x&&nt<=st.y&&rt>=st.x&&it>=st.y)return!0}var ct=[new tt(et,nt),new tt(et,it),new tt(rt,it),new tt(rt,nt)];if(Ne.length>2)for(var pt=0,dt=ct;pt<dt.length;pt+=1)if(Ha(Ne,dt[pt]))return!0;for(var ft=0;ft<Ne.length-1;ft++)if(Ya(Ne[ft],Ne[ft+1],ct))return!0;return!1}(Ne.cameraQueryGeometry,et-pt,nt-pt,rt+pt,it+pt)}));yt<vt.length;yt+=1)ft.push(vt[yt]);ft.sort(tp);for(var Ot,Dt={},x=function(tt){var pt=ft[tt];if(pt!==Ot){Ot=pt;var dt=it.featureIndexArray.get(pt),mt=null;it.loadMatchingFeature(Dt,dt.bucketIndex,dt.sourceLayerIndex,dt.featureIndex,st,ot.layers,ot.availableImages,et,nt,rt,(function(et,tt,nt){return mt||(mt=La(et)),tt.queryIntersectsFeature(ct,et,nt,mt,it.z,Ne.transform,at,Ne.pixelPosMatrix)}))}},Rt=0;Rt<ft.length;Rt++)x(Rt);return Dt},$l.prototype.loadMatchingFeature=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){var dt=this.bucketLayerIDs[et];if(!it||function(Ne,et){for(var tt=0;tt<Ne.length;tt++)if(et.indexOf(Ne[tt])>=0)return!0;return!1}(it,dt)){var ft=this.sourceLayerCoder.decode(tt),mt=this.vtLayers[ft].feature(nt);if(rt.filter(new ai(this.tileID.overscaledZ),mt))for(var yt=this.getId(mt,ft),vt=0;vt<dt.length;vt++){var Ot=dt[vt];if(!(it&&it.indexOf(Ot)<0)){var Dt=at[Ot];if(Dt){var Rt={};void 0!==yt&&ct&&(Rt=ct.getState(Dt.sourceLayer||"_geojsonTileLayer",yt));var Bt=st[Ot];Bt.paint=Wl(Bt.paint,Dt.paint,mt,Rt,ot),Bt.layout=Wl(Bt.layout,Dt.layout,mt,Rt,ot);var rn=!pt||pt(mt,Dt,Rt);if(rn){var vn=new Jl(mt,this.z,this.x,this.y,yt);vn.layer=Bt;var bn=Ne[Ot];void 0===bn&&(bn=Ne[Ot]=[]),bn.push({featureIndex:nt,feature:vn,intersectionZ:rn})}}}}}},$l.prototype.lookupSymbolFeatures=function(Ne,et,tt,nt,rt,it,ot,at){var st={};this.loadVTLayers();for(var ct=nn(rt),pt=0,dt=Ne;pt<dt.length;pt+=1)this.loadMatchingFeature(st,tt,nt,dt[pt],ct,it,ot,at,et);return st},$l.prototype.hasLayer=function(Ne){for(var et=0,tt=this.bucketLayerIDs;et<tt.length;et+=1)for(var nt=0,rt=tt[et];nt<rt.length;nt+=1)if(Ne===rt[nt])return!0;return!1},$l.prototype.getId=function(Ne,et){var tt=Ne.id;return this.promoteId&&"boolean"==typeof(tt=Ne.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[et]])&&(tt=Number(tt)),tt},Dn("FeatureIndex",$l,{omit:["rawTileData","sourceLayerCoder"]});var ep=function(Ne,et){this.tileID=Ne,this.uid=f(),this.uses=0,this.tileSize=et,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ep.prototype.registerFadeDuration=function(Ne){var et=Ne+this.timeAdded;et<vt.now()||this.fadeEndTime&&et<this.fadeEndTime||(this.fadeEndTime=et)},ep.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ep.prototype.loadVectorData=function(Ne,et,tt){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",Ne){for(var nt in Ne.featureIndex&&(this.latestFeatureIndex=Ne.featureIndex,Ne.rawTileData?(this.latestRawTileData=Ne.rawTileData,this.latestFeatureIndex.rawTileData=Ne.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=Ne.collisionBoxArray,this.buckets=function(Ne,et){var tt={};if(!et)return tt;for(var n=function(){var Ne=rt[nt],it=Ne.layerIds.map((function(Ne){return et.getLayer(Ne)})).filter(Boolean);if(0!==it.length){Ne.layers=it,Ne.stateDependentLayerIds&&(Ne.stateDependentLayers=Ne.stateDependentLayerIds.map((function(Ne){return it.filter((function(et){return et.id===Ne}))[0]})));for(var ot=0,at=it;ot<at.length;ot+=1)tt[at[ot].id]=Ne}},nt=0,rt=Ne;nt<rt.length;nt+=1)n();return tt}(Ne.buckets,et.style),this.hasSymbolBuckets=!1,this.buckets){var rt=this.buckets[nt];if(rt instanceof fl){if(this.hasSymbolBuckets=!0,!tt)break;rt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var it in this.buckets){var ot=this.buckets[it];if(ot instanceof fl&&ot.hasRTLText){this.hasRTLText=!0,sl.isLoading()||sl.isLoaded()||"deferred"!==ri()||ni();break}}for(var at in this.queryPadding=0,this.buckets){var st=this.buckets[at];this.queryPadding=Math.max(this.queryPadding,et.style.getLayer(at).queryRadius(st))}Ne.imageAtlas&&(this.imageAtlas=Ne.imageAtlas),Ne.glyphAtlasImage&&(this.glyphAtlasImage=Ne.glyphAtlasImage)}else this.collisionBoxArray=new bc},ep.prototype.unloadVectorData=function(){for(var Ne in this.buckets)this.buckets[Ne].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ep.prototype.getBucket=function(Ne){return this.buckets[Ne.id]},ep.prototype.upload=function(Ne){for(var et in this.buckets){var tt=this.buckets[et];tt.uploadPending()&&tt.upload(Ne)}var nt=Ne.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ml(Ne,this.imageAtlas.image,nt.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ml(Ne,this.glyphAtlasImage,nt.ALPHA),this.glyphAtlasImage=null)},ep.prototype.prepare=function(Ne){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(Ne,this.imageAtlasTexture)},ep.prototype.queryRenderedFeatures=function(Ne,et,tt,nt,rt,it,ot,at,st,ct){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:nt,cameraQueryGeometry:rt,scale:it,tileSize:this.tileSize,pixelPosMatrix:ct,transform:at,params:ot,queryPadding:this.queryPadding*st},Ne,et,tt):{}},ep.prototype.querySourceFeatures=function(Ne,et){var tt=this.latestFeatureIndex;if(tt&&tt.rawTileData){var nt=tt.loadVTLayers(),rt=et?et.sourceLayer:"",it=nt._geojsonTileLayer||nt[rt];if(it)for(var ot=nn(et&&et.filter),at=this.tileID.canonical,st=at.z,ct=at.x,pt=at.y,dt={z:st,x:ct,y:pt},ft=0;ft<it.length;ft++){var mt=it.feature(ft);if(ot.filter(new ai(this.tileID.overscaledZ),mt)){var yt=tt.getId(mt,rt),vt=new Jl(mt,st,ct,pt,yt);vt.tile=dt,Ne.push(vt)}}}},ep.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ep.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ep.prototype.setExpiryData=function(Ne){var et=this.expirationTime;if(Ne.cacheControl){var tt=I(Ne.cacheControl);tt["max-age"]&&(this.expirationTime=Date.now()+1e3*tt["max-age"])}else Ne.expires&&(this.expirationTime=new Date(Ne.expires).getTime());if(this.expirationTime){var nt=Date.now(),rt=!1;if(this.expirationTime>nt)rt=!1;else if(et)if(this.expirationTime<et)rt=!0;else{var it=this.expirationTime-et;it?this.expirationTime=nt+Math.max(it,3e4):rt=!0}else rt=!0;rt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ep.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ep.prototype.setFeatureState=function(Ne,et){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(Ne).length){var tt=this.latestFeatureIndex.loadVTLayers();for(var nt in this.buckets)if(et.style.hasLayer(nt)){var rt=this.buckets[nt],it=rt.layers[0].sourceLayer||"_geojsonTileLayer",ot=tt[it],at=Ne[it];if(ot&&at&&0!==Object.keys(at).length){rt.update(at,ot,this.imageAtlas&&this.imageAtlas.patternPositions||{});var st=et&&et.style&&et.style.getLayer(nt);st&&(this.queryPadding=Math.max(this.queryPadding,st.queryRadius(rt)))}}}},ep.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ep.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<vt.now()},ep.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ep.prototype.setHoldDuration=function(Ne){this.symbolFadeHoldUntil=vt.now()+Ne},ep.prototype.setDependencies=function(Ne,et){for(var tt={},nt=0,rt=et;nt<rt.length;nt+=1)tt[rt[nt]]=!0;this.dependencies[Ne]=tt},ep.prototype.hasDependency=function(Ne,et){for(var tt=0,nt=Ne;tt<nt.length;tt+=1){var rt=this.dependencies[nt[tt]];if(rt)for(var it=0,ot=et;it<ot.length;it+=1)if(rt[ot[it]])return!0}return!1};var Cd=nt.performance,np=function(Ne){this._marks={start:[Ne.url,"start"].join("#"),end:[Ne.url,"end"].join("#"),measure:Ne.url.toString()},Cd.mark(this._marks.start)};np.prototype.finish=function(){Cd.mark(this._marks.end);var Ne=Cd.getEntriesByName(this._marks.measure);return 0===Ne.length&&(Cd.measure(this._marks.measure,this._marks.start,this._marks.end),Ne=Cd.getEntriesByName(this._marks.measure),Cd.clearMarks(this._marks.start),Cd.clearMarks(this._marks.end),Cd.clearMeasures(this._marks.measure)),Ne},Ne.Actor=Tl,Ne.AlphaImage=yo,Ne.CanonicalTileID=ql,Ne.CollisionBoxArray=bc,Ne.Color=Wt,Ne.DEMData=Zl,Ne.DataConstantProperty=yi,Ne.DictionaryCoder=Xl,Ne.EXTENT=8192,Ne.ErrorEvent=wr,Ne.EvaluationParameters=ai,Ne.Event=St,Ne.Evented=It,Ne.FeatureIndex=$l,Ne.FillBucket=is,Ne.FillExtrusionBucket=ws,Ne.ImageAtlas=mu,Ne.ImagePosition=yu,Ne.LineBucket=Ts,Ne.LngLat=Vl,Ne.LngLatBounds=Bl,Ne.MercatorCoordinate=jl,Ne.ONE_EM=24,Ne.OverscaledTileID=Kl,Ne.Point=tt,Ne.Point$1=tt,Ne.Properties=xi,Ne.Protobuf=Kp,Ne.RGBAImage=mo,Ne.RequestManager=K,Ne.RequestPerformance=np,Ne.ResourceType=$n,Ne.SegmentVector=aa,Ne.SourceFeatureState=Yl,Ne.StructArrayLayout1ui2=ac,Ne.StructArrayLayout2f1f2i16=zl,Ne.StructArrayLayout2i4=vl,Ne.StructArrayLayout3ui6=Hl,Ne.StructArrayLayout4i8=_l,Ne.SymbolBucket=fl,Ne.Texture=Ml,Ne.Tile=ep,Ne.Transitionable=ui,Ne.Uniform1f=$c,Ne.Uniform1i=Xc,Ne.Uniform2f=Yc,Ne.Uniform3f=rp,Ne.Uniform4f=ip,Ne.UniformColor=op,Ne.UniformMatrix4f=sp,Ne.UnwrappedTileID=Nl,Ne.ValidationError=Ct,Ne.WritingMode=Qp,Ne.ZoomHistory=qn,Ne.add=function(Ne,et,tt){return Ne[0]=et[0]+tt[0],Ne[1]=et[1]+tt[1],Ne[2]=et[2]+tt[2],Ne},Ne.addDynamicAttributes=ll,Ne.asyncAll=function(Ne,et,tt){if(!Ne.length)return tt(null,[]);var nt=Ne.length,rt=new Array(Ne.length),it=null;Ne.forEach((function(Ne,ot){et(Ne,(function(Ne,et){Ne&&(it=Ne),rt[ot]=et,0==--nt&&tt(it,rt)}))}))},Ne.bezier=s,Ne.bindAll=m,Ne.browser=vt,Ne.cacheEntryPossiblyAdded=function(Ne){++Wn>Nn&&(Ne.getActor().send("enforceCacheSizeLimit",Bn),Wn=0)},Ne.clamp=l,Ne.clearTileCache=function(Ne){var et=nt.caches.delete("mapbox-tiles");Ne&&et.catch(Ne).then((function(){return Ne()}))},Ne.clipLine=qu,Ne.clone=function(Ne){var et=new dp(16);return et[0]=Ne[0],et[1]=Ne[1],et[2]=Ne[2],et[3]=Ne[3],et[4]=Ne[4],et[5]=Ne[5],et[6]=Ne[6],et[7]=Ne[7],et[8]=Ne[8],et[9]=Ne[9],et[10]=Ne[10],et[11]=Ne[11],et[12]=Ne[12],et[13]=Ne[13],et[14]=Ne[14],et[15]=Ne[15],et},Ne.clone$1=b,Ne.clone$2=function(Ne){var et=new dp(3);return et[0]=Ne[0],et[1]=Ne[1],et[2]=Ne[2],et},Ne.collisionCircleLayout=Xp,Ne.config=Ot,Ne.create=function(){var Ne=new dp(16);return dp!=Float32Array&&(Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[11]=0,Ne[12]=0,Ne[13]=0,Ne[14]=0),Ne[0]=1,Ne[5]=1,Ne[10]=1,Ne[15]=1,Ne},Ne.create$1=function(){var Ne=new dp(9);return dp!=Float32Array&&(Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[5]=0,Ne[6]=0,Ne[7]=0),Ne[0]=1,Ne[4]=1,Ne[8]=1,Ne},Ne.create$2=function(){var Ne=new dp(4);return dp!=Float32Array&&(Ne[1]=0,Ne[2]=0),Ne[0]=1,Ne[3]=1,Ne},Ne.createCommonjsModule=e,Ne.createExpression=Kr,Ne.createLayout=Si,Ne.createStyleLayer=function(Ne){return"custom"===Ne.type?new Qh(Ne):new ed[Ne.type](Ne)},Ne.cross=function(Ne,et,tt){var nt=et[0],rt=et[1],it=et[2],ot=tt[0],at=tt[1],st=tt[2];return Ne[0]=rt*st-it*at,Ne[1]=it*ot-nt*st,Ne[2]=nt*at-rt*ot,Ne},Ne.deepEqual=function t(Ne,et){if(Array.isArray(Ne)){if(!Array.isArray(et)||Ne.length!==et.length)return!1;for(var tt=0;tt<Ne.length;tt++)if(!t(Ne[tt],et[tt]))return!1;return!0}if("object"==typeof Ne&&null!==Ne&&null!==et){if("object"!=typeof et)return!1;if(Object.keys(Ne).length!==Object.keys(et).length)return!1;for(var nt in Ne)if(!t(Ne[nt],et[nt]))return!1;return!0}return Ne===et},Ne.dot=function(Ne,et){return Ne[0]*et[0]+Ne[1]*et[1]+Ne[2]*et[2]},Ne.dot$1=function(Ne,et){return Ne[0]*et[0]+Ne[1]*et[1]+Ne[2]*et[2]+Ne[3]*et[3]},Ne.ease=rt,Ne.emitValidationErrors=En,Ne.endsWith=v,Ne.enforceCacheSizeLimit=function(Ne){ut(),Tn&&Tn.then((function(et){et.keys().then((function(tt){for(var nt=0;nt<tt.length-Ne;nt++)et.delete(tt[nt])}))}))},Ne.evaluateSizeForFeature=Bu,Ne.evaluateSizeForZoom=Vu,Ne.evaluateVariableOffset=el,Ne.evented=ol,Ne.extend=c,Ne.featureFilter=nn,Ne.filterObject=x,Ne.fromRotation=function(Ne,et){var tt=Math.sin(et),nt=Math.cos(et);return Ne[0]=nt,Ne[1]=tt,Ne[2]=0,Ne[3]=-tt,Ne[4]=nt,Ne[5]=0,Ne[6]=0,Ne[7]=0,Ne[8]=1,Ne},Ne.getAnchorAlignment=Cu,Ne.getAnchorJustification=rl,Ne.getArrayBuffer=xt,Ne.getImage=wt,Ne.getJSON=function(Ne,et){return gt(c(Ne,{type:"json"}),et)},Ne.getRTLTextPluginStatus=ri,Ne.getReferrer=vr,Ne.getVideo=function(Ne,et){var tt,rt,it=nt.document.createElement("video");it.muted=!0,it.onloadstart=function(){et(null,it)};for(var ot=0;ot<Ne.length;ot++){var at=nt.document.createElement("source");tt=Ne[ot],rt=void 0,(rt=nt.document.createElement("a")).href=tt,(rt.protocol!==nt.document.location.protocol||rt.host!==nt.document.location.host)&&(it.crossOrigin="Anonymous"),at.src=Ne[ot],it.appendChild(at)}return{cancel:function(){}}},Ne.identity=no,Ne.invert=function(Ne,et){var tt=et[0],nt=et[1],rt=et[2],it=et[3],ot=et[4],at=et[5],st=et[6],ct=et[7],pt=et[8],dt=et[9],ft=et[10],mt=et[11],yt=et[12],vt=et[13],Ot=et[14],Dt=et[15],Rt=tt*at-nt*ot,Bt=tt*st-rt*ot,rn=tt*ct-it*ot,vn=nt*st-rt*at,bn=nt*ct-it*at,Tn=rt*ct-it*st,Cn=pt*vt-dt*yt,In=pt*Ot-ft*yt,Ln=pt*Dt-mt*yt,Mn=dt*Ot-ft*vt,zn=dt*Dt-mt*vt,Fn=ft*Dt-mt*Ot,Bn=Rt*Fn-Bt*zn+rn*Mn+vn*Ln-bn*In+Tn*Cn;return Bn?(Ne[0]=(at*Fn-st*zn+ct*Mn)*(Bn=1/Bn),Ne[1]=(rt*zn-nt*Fn-it*Mn)*Bn,Ne[2]=(vt*Tn-Ot*bn+Dt*vn)*Bn,Ne[3]=(ft*bn-dt*Tn-mt*vn)*Bn,Ne[4]=(st*Ln-ot*Fn-ct*In)*Bn,Ne[5]=(tt*Fn-rt*Ln+it*In)*Bn,Ne[6]=(Ot*rn-yt*Tn-Dt*Bt)*Bn,Ne[7]=(pt*Tn-ft*rn+mt*Bt)*Bn,Ne[8]=(ot*zn-at*Ln+ct*Cn)*Bn,Ne[9]=(nt*Ln-tt*zn-it*Cn)*Bn,Ne[10]=(yt*bn-vt*rn+Dt*Rt)*Bn,Ne[11]=(dt*rn-pt*bn-mt*Rt)*Bn,Ne[12]=(at*In-ot*Mn-st*Cn)*Bn,Ne[13]=(tt*Mn-nt*In+rt*Cn)*Bn,Ne[14]=(vt*Bt-yt*vn-Ot*Rt)*Bn,Ne[15]=(pt*vn-dt*Bt+ft*Rt)*Bn,Ne):null},Ne.isChar=Us,Ne.isMapboxURL=G,Ne.keysDifference=function(Ne,et){var tt=[];for(var nt in Ne)nt in et||tt.push(nt);return tt},Ne.makeRequest=gt,Ne.mapObject=g,Ne.mercatorXfromLng=Ll,Ne.mercatorYfromLat=Rl,Ne.mercatorZfromAltitude=Ol,Ne.mul=mp,Ne.multiply=io,Ne.mvt=Lp,Ne.normalize=function(Ne,et){var tt=et[0],nt=et[1],rt=et[2],it=tt*tt+nt*nt+rt*rt;return it>0&&(it=1/Math.sqrt(it)),Ne[0]=et[0]*it,Ne[1]=et[1]*it,Ne[2]=et[2]*it,Ne},Ne.number=qe,Ne.offscreenCanvasSupported=ht,Ne.ortho=function(Ne,et,tt,nt,rt,it,ot){var at=1/(et-tt),st=1/(nt-rt),ct=1/(it-ot);return Ne[0]=-2*at,Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[5]=-2*st,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[10]=2*ct,Ne[11]=0,Ne[12]=(et+tt)*at,Ne[13]=(rt+nt)*st,Ne[14]=(ot+it)*ct,Ne[15]=1,Ne},Ne.parseGlyphPBF=function(Ne){return new Kp(Ne).readFields(pu,[])},Ne.pbf=Kp,Ne.performSymbolLayout=function(Ne,et,tt,nt,rt,it,ot){Ne.createArrays(),Ne.tilePixelRatio=8192/(512*Ne.overscaling),Ne.compareText={},Ne.iconsNeedLinear=!1;var at=Ne.layers[0].layout,st=Ne.layers[0]._unevaluatedLayout._values,ct={};if("composite"===Ne.textSizeData.kind){var pt=Ne.textSizeData,dt=pt.maxZoom;ct.compositeTextSizes=[st["text-size"].possiblyEvaluate(new ai(pt.minZoom),ot),st["text-size"].possiblyEvaluate(new ai(dt),ot)]}if("composite"===Ne.iconSizeData.kind){var ft=Ne.iconSizeData,mt=ft.maxZoom;ct.compositeIconSizes=[st["icon-size"].possiblyEvaluate(new ai(ft.minZoom),ot),st["icon-size"].possiblyEvaluate(new ai(mt),ot)]}ct.layoutTextSize=st["text-size"].possiblyEvaluate(new ai(Ne.zoom+1),ot),ct.layoutIconSize=st["icon-size"].possiblyEvaluate(new ai(Ne.zoom+1),ot),ct.textMaxSize=st["text-size"].possiblyEvaluate(new ai(18));for(var yt=24*at.get("text-line-height"),vt="map"===at.get("text-rotation-alignment")&&"point"!==at.get("symbol-placement"),Ot=at.get("text-keep-upright"),Dt=at.get("text-size"),g=function(){var it=Bt[Rt],st=at.get("text-font").evaluate(it,{},ot).join(","),pt=Dt.evaluate(it,{},ot),dt=ct.layoutTextSize.evaluate(it,{},ot),ft=ct.layoutIconSize.evaluate(it,{},ot),mt={horizontal:{},vertical:void 0},rn=it.text,vn=[0,0];if(rn){var bn=rn.toString(),Tn=24*at.get("text-letter-spacing").evaluate(it,{},ot),Cn=function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(nt=tt[et].charCodeAt(0),Us.Arabic(nt)||Us["Arabic Supplement"](nt)||Us["Arabic Extended-A"](nt)||Us["Arabic Presentation Forms-A"](nt)||Us["Arabic Presentation Forms-B"](nt))return!1;var nt;return!0}(bn)?Tn:0,In=at.get("text-anchor").evaluate(it,{},ot),Ln=at.get("text-variable-anchor");if(!Ln){var Mn=at.get("text-radial-offset").evaluate(it,{},ot);vn=Mn?el(In,[24*Mn,ph]):at.get("text-offset").evaluate(it,{},ot).map((function(Ne){return 24*Ne}))}var zn=vt?"center":at.get("text-justify").evaluate(it,{},ot),Fn=at.get("symbol-placement"),Bn="point"===Fn?24*at.get("text-max-width").evaluate(it,{},ot):0,P=function(){Ne.allowVerticalPlacement&&Kn(bn)&&(mt.vertical=bu(rn,et,tt,rt,st,Bn,yt,In,"left",Cn,vn,Qp.vertical,!0,Fn,dt,pt))};if(!vt&&Ln){for(var Nn="auto"===zn?Ln.map((function(Ne){return rl(Ne)})):[zn],Vn=!1,Wn=0;Wn<Nn.length;Wn++){var $n=Nn[Wn];if(!mt.horizontal[$n])if(Vn)mt.horizontal[$n]=mt.horizontal[0];else{var Yn=bu(rn,et,tt,rt,st,Bn,yt,"center",$n,Cn,vn,Qp.horizontal,!1,Fn,dt,pt);Yn&&(mt.horizontal[$n]=Yn,Vn=1===Yn.positionedLines.length)}}P()}else{"auto"===zn&&(zn=rl(In));var er=bu(rn,et,tt,rt,st,Bn,yt,In,zn,Cn,vn,Qp.horizontal,!1,Fn,dt,pt);er&&(mt.horizontal[zn]=er),P(),Kn(bn)&&vt&&Ot&&(mt.vertical=bu(rn,et,tt,rt,st,Bn,yt,In,zn,Cn,vn,Qp.vertical,!1,Fn,dt,pt))}}var rr=void 0,vr=!1;if(it.icon&&it.icon.name){var wr=nt[it.icon.name];wr&&(rr=function(Ne,et,tt){var nt=Cu(tt),rt=et[0]-Ne.displaySize[0]*nt.horizontalAlign,it=et[1]-Ne.displaySize[1]*nt.verticalAlign;return{image:Ne,top:it,bottom:it+Ne.displaySize[1],left:rt,right:rt+Ne.displaySize[0]}}(rt[it.icon.name],at.get("icon-offset").evaluate(it,{},ot),at.get("icon-anchor").evaluate(it,{},ot)),vr=wr.sdf,void 0===Ne.sdfIcons?Ne.sdfIcons=wr.sdf:Ne.sdfIcons!==wr.sdf&&_("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(wr.pixelRatio!==Ne.pixelRatio||0!==at.get("icon-rotate").constantOr(1))&&(Ne.iconsNeedLinear=!0))}var Sr=il(mt.horizontal)||mt.vertical;Ne.iconsInText=!!Sr&&Sr.iconsInText,(Sr||rr)&&function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){var dt=it.textMaxSize.evaluate(et,{});void 0===dt&&(dt=ot);var ft,mt=Ne.layers[0].layout,yt=mt.get("icon-offset").evaluate(et,{},pt),vt=il(tt.horizontal),Ot=ot/24,Dt=Ne.tilePixelRatio*Ot,Rt=Ne.tilePixelRatio*dt/24,Bt=Ne.tilePixelRatio*at,rn=Ne.tilePixelRatio*mt.get("symbol-spacing"),vn=mt.get("text-padding")*Ne.tilePixelRatio,bn=mt.get("icon-padding")*Ne.tilePixelRatio,Tn=mt.get("text-max-angle")/180*Math.PI,Cn="map"===mt.get("text-rotation-alignment")&&"point"!==mt.get("symbol-placement"),In="map"===mt.get("icon-rotation-alignment")&&"point"!==mt.get("symbol-placement"),Ln=mt.get("symbol-placement"),Mn=rn/2,zn=mt.get("icon-text-fit");nt&&"none"!==zn&&(Ne.allowVerticalPlacement&&tt.vertical&&(ft=Eu(nt,tt.vertical,zn,mt.get("icon-text-fit-padding"),yt,Ot)),vt&&(nt=Eu(nt,vt,zn,mt.get("icon-text-fit-padding"),yt,Ot)));var E=function(at,dt){dt.x<0||dt.x>=8192||dt.y<0||dt.y>=8192||function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Tn,Cn){var In,Ln,Mn,zn,Fn,Bn=Ne.addToLineVertexArray(et,tt),Nn=0,Vn=0,Wn=0,$n=0,Yn=-1,er=-1,rr={},vr=Wc(""),wr=0,Sr=0;if(void 0===at._unevaluatedLayout.getValue("text-radial-offset")?(wr=(In=at.layout.get("text-offset").evaluate(rn,{},Tn).map((function(Ne){return 24*Ne})))[0],Sr=In[1]):(wr=24*at.layout.get("text-radial-offset").evaluate(rn,{},Tn),Sr=ph),Ne.allowVerticalPlacement&&nt.vertical){var ii=at.layout.get("text-rotate").evaluate(rn,{},Tn)+90;zn=new Ju(st,et,ct,pt,dt,nt.vertical,ft,mt,yt,ii),ot&&(Fn=new Ju(st,et,ct,pt,dt,ot,Ot,Dt,yt,ii))}if(rt){var qi=at.layout.get("icon-rotate").evaluate(rn,{}),uo="none"!==at.layout.get("icon-text-fit"),po=Nu(rt,qi,bn,uo),vo=ot?Nu(ot,qi,bn,uo):void 0;Mn=new Ju(st,et,ct,pt,dt,rt,Ot,Dt,!1,qi),Nn=4*po.length;var So=Ne.iconSizeData,ta=null;"source"===So.kind?(ta=[128*at.layout.get("icon-size").evaluate(rn,{})])[0]>32640&&_(Ne.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===So.kind&&((ta=[128*vn.compositeIconSizes[0].evaluate(rn,{},Tn),128*vn.compositeIconSizes[1].evaluate(rn,{},Tn)])[0]>32640||ta[1]>32640)&&_(Ne.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Ne.addSymbols(Ne.icon,po,ta,Bt,Rt,rn,!1,et,Bn.lineStartIndex,Bn.lineLength,-1,Tn),Yn=Ne.icon.placedSymbolArray.length-1,vo&&(Vn=4*vo.length,Ne.addSymbols(Ne.icon,vo,ta,Bt,Rt,rn,Qp.vertical,et,Bn.lineStartIndex,Bn.lineLength,-1,Tn),er=Ne.icon.placedSymbolArray.length-1)}for(var na in nt.horizontal){var ia=nt.horizontal[na];if(!Ln){vr=Wc(ia.text);var sa=at.layout.get("text-rotate").evaluate(rn,{},Tn);Ln=new Ju(st,et,ct,pt,dt,ia,ft,mt,yt,sa)}var la=1===ia.positionedLines.length;if(Wn+=nl(Ne,et,ia,it,at,yt,rn,vt,Bn,nt.vertical?Qp.horizontal:Qp.horizontalOnly,la?Object.keys(nt.horizontal):[na],rr,Yn,vn,Tn),la)break}nt.vertical&&($n+=nl(Ne,et,nt.vertical,it,at,yt,rn,vt,Bn,Qp.vertical,["vertical"],rr,er,vn,Tn));var pa=Ln?Ln.boxStartIndex:Ne.collisionBoxArray.length,fa=Ln?Ln.boxEndIndex:Ne.collisionBoxArray.length,ga=zn?zn.boxStartIndex:Ne.collisionBoxArray.length,va=zn?zn.boxEndIndex:Ne.collisionBoxArray.length,_a=Mn?Mn.boxStartIndex:Ne.collisionBoxArray.length,wa=Mn?Mn.boxEndIndex:Ne.collisionBoxArray.length,Aa=Fn?Fn.boxStartIndex:Ne.collisionBoxArray.length,os=Fn?Fn.boxEndIndex:Ne.collisionBoxArray.length,as=-1,ut=function(Ne,et){return Ne&&Ne.circleDiameter?Math.max(Ne.circleDiameter,et):et};as=ut(Ln,as),as=ut(zn,as),as=ut(Mn,as);var ss=(as=ut(Fn,as))>-1?1:0;ss&&(as*=Cn/24),Ne.glyphOffsetArray.length>=fl.MAX_GLYPHS&&_("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==rn.sortKey&&Ne.addToSortKeyRanges(Ne.symbolInstances.length,rn.sortKey),Ne.symbolInstances.emplaceBack(et.x,et.y,rr.right>=0?rr.right:-1,rr.center>=0?rr.center:-1,rr.left>=0?rr.left:-1,rr.vertical||-1,Yn,er,vr,pa,fa,ga,va,_a,wa,Aa,os,ct,Wn,$n,Nn,Vn,ss,0,ft,wr,Sr,as)}(Ne,dt,at,tt,nt,rt,ft,Ne.layers[0],Ne.collisionBoxArray,et.index,et.sourceLayerIndex,Ne.index,Dt,vn,Cn,st,Bt,bn,In,yt,et,it,ct,pt,ot)};if("line"===Ln)for(var Fn=0,Bn=qu(et.geometry,0,0,8192,8192);Fn<Bn.length;Fn+=1)for(var Nn=Bn[Fn],Vn=0,Wn=ju(Nn,rn,Tn,tt.vertical||vt,nt,24,Rt,Ne.overscaling,8192);Vn<Wn.length;Vn+=1){var $n=Wn[Vn];vt&&al(Ne,vt.text,Mn,$n)||E(Nn,$n)}else if("line-center"===Ln)for(var Yn=0,er=et.geometry;Yn<er.length;Yn+=1){var rr=er[Yn];if(rr.length>1){var vr=Uu(rr,Tn,tt.vertical||vt,nt,24,Rt);vr&&E(rr,vr)}}else if("Polygon"===et.type)for(var wr=0,Sr=ts(et.geometry,0);wr<Sr.length;wr+=1){var ii=Sr[wr],qi=$u(ii,16);E(ii[0],new sh(qi.x,qi.y,0))}else if("LineString"===et.type)for(var uo=0,po=et.geometry;uo<po.length;uo+=1){var vo=po[uo];E(vo,new sh(vo[0].x,vo[0].y,0))}else if("Point"===et.type)for(var So=0,ta=et.geometry;So<ta.length;So+=1)for(var na=0,ia=ta[So];na<ia.length;na+=1){var sa=ia[na];E([sa],new sh(sa.x,sa.y,0))}}(Ne,it,mt,rr,nt,ct,dt,ft,vn,vr,ot)},Rt=0,Bt=Ne.features;Rt<Bt.length;Rt+=1)g();it&&Ne.generateCollisionDebugBuffers()},Ne.perspective=function(Ne,et,tt,nt,rt){var it,ot=1/Math.tan(et/2);return Ne[0]=ot/tt,Ne[1]=0,Ne[2]=0,Ne[3]=0,Ne[4]=0,Ne[5]=ot,Ne[6]=0,Ne[7]=0,Ne[8]=0,Ne[9]=0,Ne[11]=-1,Ne[12]=0,Ne[13]=0,Ne[15]=0,null!=rt&&rt!==1/0?(Ne[10]=(rt+nt)*(it=1/(nt-rt)),Ne[14]=2*rt*nt*it):(Ne[10]=-1,Ne[14]=-2*nt),Ne},Ne.pick=function(Ne,et){for(var tt={},nt=0;nt<et.length;nt++){var rt=et[nt];rt in Ne&&(tt[rt]=Ne[rt])}return tt},Ne.plugin=sl,Ne.polygonIntersectsPolygon=Ua,Ne.postMapLoadEvent=Fn,Ne.postTurnstileEvent=Mn,Ne.potpack=fu,Ne.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Ne.register=Dn,Ne.registerForPluginStateChange=function(Ne){return Ne({pluginStatus:Js,pluginURL:tl}),ol.on("pluginStateChange",Ne),Ne},Ne.rotate=function(Ne,et,tt){var nt=et[0],rt=et[1],it=et[2],ot=et[3],at=Math.sin(tt),st=Math.cos(tt);return Ne[0]=nt*st+it*at,Ne[1]=rt*st+ot*at,Ne[2]=nt*-at+it*st,Ne[3]=rt*-at+ot*st,Ne},Ne.rotateX=function(Ne,et,tt){var nt=Math.sin(tt),rt=Math.cos(tt),it=et[4],ot=et[5],at=et[6],st=et[7],ct=et[8],pt=et[9],dt=et[10],ft=et[11];return et!==Ne&&(Ne[0]=et[0],Ne[1]=et[1],Ne[2]=et[2],Ne[3]=et[3],Ne[12]=et[12],Ne[13]=et[13],Ne[14]=et[14],Ne[15]=et[15]),Ne[4]=it*rt+ct*nt,Ne[5]=ot*rt+pt*nt,Ne[6]=at*rt+dt*nt,Ne[7]=st*rt+ft*nt,Ne[8]=ct*rt-it*nt,Ne[9]=pt*rt-ot*nt,Ne[10]=dt*rt-at*nt,Ne[11]=ft*rt-st*nt,Ne},Ne.rotateZ=function(Ne,et,tt){var nt=Math.sin(tt),rt=Math.cos(tt),it=et[0],ot=et[1],at=et[2],st=et[3],ct=et[4],pt=et[5],dt=et[6],ft=et[7];return et!==Ne&&(Ne[8]=et[8],Ne[9]=et[9],Ne[10]=et[10],Ne[11]=et[11],Ne[12]=et[12],Ne[13]=et[13],Ne[14]=et[14],Ne[15]=et[15]),Ne[0]=it*rt+ct*nt,Ne[1]=ot*rt+pt*nt,Ne[2]=at*rt+dt*nt,Ne[3]=st*rt+ft*nt,Ne[4]=ct*rt-it*nt,Ne[5]=pt*rt-ot*nt,Ne[6]=dt*rt-at*nt,Ne[7]=ft*rt-st*nt,Ne},Ne.scale=function(Ne,et,tt){var nt=tt[0],rt=tt[1],it=tt[2];return Ne[0]=et[0]*nt,Ne[1]=et[1]*nt,Ne[2]=et[2]*nt,Ne[3]=et[3]*nt,Ne[4]=et[4]*rt,Ne[5]=et[5]*rt,Ne[6]=et[6]*rt,Ne[7]=et[7]*rt,Ne[8]=et[8]*it,Ne[9]=et[9]*it,Ne[10]=et[10]*it,Ne[11]=et[11]*it,Ne[12]=et[12],Ne[13]=et[13],Ne[14]=et[14],Ne[15]=et[15],Ne},Ne.scale$1=function(Ne,et,tt){return Ne[0]=et[0]*tt,Ne[1]=et[1]*tt,Ne[2]=et[2]*tt,Ne[3]=et[3]*tt,Ne},Ne.scale$2=function(Ne,et,tt){return Ne[0]=et[0]*tt,Ne[1]=et[1]*tt,Ne[2]=et[2]*tt,Ne},Ne.setCacheLimits=function(Ne,et){Bn=Ne,Nn=et},Ne.setRTLTextPlugin=function(Ne,et,tt){if(void 0===tt&&(tt=!1),"deferred"===Js||"loading"===Js||"loaded"===Js)throw new Error("setRTLTextPlugin cannot be called multiple times.");tl=vt.resolveURL(Ne),Js="deferred",Zs=et,ti(),tt||ni()},Ne.sphericalToCartesian=function(Ne){var et=Ne[0],tt=Ne[1],nt=Ne[2];return tt+=90,tt*=Math.PI/180,nt*=Math.PI/180,{x:et*Math.cos(tt)*Math.sin(nt),y:et*Math.sin(tt)*Math.sin(nt),z:et*Math.cos(nt)}},Ne.sqrLen=function(Ne){var et=Ne[0],tt=Ne[1];return et*et+tt*tt},Ne.styleSpec=Sr,Ne.sub=function(Ne,et,tt){return Ne[0]=et[0]-tt[0],Ne[1]=et[1]-tt[1],Ne[2]=et[2]-tt[2],Ne},Ne.symbolSize=lh,Ne.transformMat3=function(Ne,et,tt){var nt=et[0],rt=et[1],it=et[2];return Ne[0]=nt*tt[0]+rt*tt[3]+it*tt[6],Ne[1]=nt*tt[1]+rt*tt[4]+it*tt[7],Ne[2]=nt*tt[2]+rt*tt[5]+it*tt[8],Ne},Ne.transformMat4=so,Ne.translate=function(Ne,et,tt){var nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt=tt[0],Ot=tt[1],Dt=tt[2];return et===Ne?(Ne[12]=et[0]*vt+et[4]*Ot+et[8]*Dt+et[12],Ne[13]=et[1]*vt+et[5]*Ot+et[9]*Dt+et[13],Ne[14]=et[2]*vt+et[6]*Ot+et[10]*Dt+et[14],Ne[15]=et[3]*vt+et[7]*Ot+et[11]*Dt+et[15]):(rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],ct=et[6],pt=et[7],dt=et[8],ft=et[9],mt=et[10],yt=et[11],Ne[0]=nt=et[0],Ne[1]=rt,Ne[2]=it,Ne[3]=ot,Ne[4]=at,Ne[5]=st,Ne[6]=ct,Ne[7]=pt,Ne[8]=dt,Ne[9]=ft,Ne[10]=mt,Ne[11]=yt,Ne[12]=nt*vt+at*Ot+dt*Dt+et[12],Ne[13]=rt*vt+st*Ot+ft*Dt+et[13],Ne[14]=it*vt+ct*Ot+mt*Dt+et[14],Ne[15]=ot*vt+pt*Ot+yt*Dt+et[15]),Ne},Ne.triggerPluginCompletionEvent=Qn,Ne.uniqueId=f,Ne.validateCustomStyleLayer=function(Ne){var et=[],tt=Ne.id;return void 0===tt&&et.push({message:"layers."+tt+': missing required property "id"'}),void 0===Ne.render&&et.push({message:"layers."+tt+': missing required method "render"'}),Ne.renderingMode&&"2d"!==Ne.renderingMode&&"3d"!==Ne.renderingMode&&et.push({message:"layers."+tt+': property "renderingMode" must be either "2d" or "3d"'}),et},Ne.validateLight=Os,Ne.validateStyle=Ms,Ne.values=function(Ne){var et=[];for(var tt in Ne)et.push(Ne[tt]);return et},Ne.vectorTile=Lp,Ne.version="1.11.0",Ne.warnOnce=_,Ne.webpSupported=Dt,Ne.window=nt,Ne.wrap=p})),define(0,(function(Ne){function t(Ne){var et=typeof Ne;if("number"===et||"boolean"===et||"string"===et||null==Ne)return JSON.stringify(Ne);if(Array.isArray(Ne)){for(var tt="[",nt=0,rt=Ne;nt<rt.length;nt+=1)tt+=t(rt[nt])+",";return tt+"]"}for(var it=Object.keys(Ne).sort(),ot="{",at=0;at<it.length;at++)ot+=JSON.stringify(it[at])+":"+t(Ne[it[at]])+",";return ot+"}"}function r(et){for(var tt="",nt=0,rt=Ne.refProperties;nt<rt.length;nt+=1)tt+="/"+t(et[rt[nt]]);return tt}var i=function(Ne){this.keyCache={},Ne&&this.replace(Ne)};i.prototype.replace=function(Ne){this._layerConfigs={},this._layers={},this.update(Ne,[])},i.prototype.update=function(et,tt){for(var nt=this,rt=0,it=et;rt<it.length;rt+=1){var ot=it[rt];this._layerConfigs[ot.id]=ot;var at=this._layers[ot.id]=Ne.createStyleLayer(ot);at._featureFilter=Ne.featureFilter(at.filter),this.keyCache[ot.id]&&delete this.keyCache[ot.id]}for(var st=0,ct=tt;st<ct.length;st+=1){var pt=ct[st];delete this.keyCache[pt],delete this._layerConfigs[pt],delete this._layers[pt]}this.familiesBySource={};for(var dt=0,ft=function(Ne,et){for(var tt={},nt=0;nt<Ne.length;nt++){var rt=et&&et[Ne[nt].id]||r(Ne[nt]);et&&(et[Ne[nt].id]=rt);var it=tt[rt];it||(it=tt[rt]=[]),it.push(Ne[nt])}var ot=[];for(var at in tt)ot.push(tt[at]);return ot}(Ne.values(this._layerConfigs),this.keyCache);dt<ft.length;dt+=1){var mt=ft[dt].map((function(Ne){return nt._layers[Ne.id]})),yt=mt[0];if("none"!==yt.visibility){var vt=yt.source||"",Ot=this.familiesBySource[vt];Ot||(Ot=this.familiesBySource[vt]={});var Dt=yt.sourceLayer||"_geojsonTileLayer",Rt=Ot[Dt];Rt||(Rt=Ot[Dt]=[]),Rt.push(mt)}}};var o=function(et){var tt={},nt=[];for(var rt in et){var it=et[rt],ot=tt[rt]={};for(var at in it){var st=it[+at];if(st&&0!==st.bitmap.width&&0!==st.bitmap.height){var ct={x:0,y:0,w:st.bitmap.width+2,h:st.bitmap.height+2};nt.push(ct),ot[at]={rect:ct,metrics:st.metrics}}}}var pt=Ne.potpack(nt),dt=new Ne.AlphaImage({width:pt.w||1,height:pt.h||1});for(var ft in et){var mt=et[ft];for(var yt in mt){var vt=mt[+yt];if(vt&&0!==vt.bitmap.width&&0!==vt.bitmap.height){var Ot=tt[ft][yt].rect;Ne.AlphaImage.copy(vt.bitmap,dt,{x:0,y:0},{x:Ot.x+1,y:Ot.y+1},vt.bitmap)}}}this.image=dt,this.positions=tt};Ne.register("GlyphAtlas",o);var n=function(et){this.tileID=new Ne.OverscaledTileID(et.tileID.overscaledZ,et.tileID.wrap,et.tileID.canonical.z,et.tileID.canonical.x,et.tileID.canonical.y),this.uid=et.uid,this.zoom=et.zoom,this.pixelRatio=et.pixelRatio,this.tileSize=et.tileSize,this.source=et.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=et.showCollisionBoxes,this.collectResourceTiming=!!et.collectResourceTiming,this.returnDependencies=!!et.returnDependencies,this.promoteId=et.promoteId};function s(et,tt,nt){for(var rt=new Ne.EvaluationParameters(tt),it=0,ot=et;it<ot.length;it+=1)ot[it].recalculate(rt,nt)}function a(et,tt){var nt=Ne.getArrayBuffer(et.request,(function(et,nt,rt,it){et?tt(et):nt&&tt(null,{vectorTile:new Ne.vectorTile.VectorTile(new Ne.pbf(nt)),rawData:nt,cacheControl:rt,expires:it})}));return function(){nt.cancel(),tt()}}n.prototype.parse=function(et,tt,nt,rt,it){var ot=this;this.status="parsing",this.data=et,this.collisionBoxArray=new Ne.CollisionBoxArray;var at=new Ne.DictionaryCoder(Object.keys(et.layers).sort()),st=new Ne.FeatureIndex(this.tileID,this.promoteId);st.bucketLayerIDs=[];var ct,pt,dt,ft,mt={},yt={featureIndex:st,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:nt},vt=tt.familiesBySource[this.source];for(var Ot in vt){var Dt=et.layers[Ot];if(Dt){1===Dt.version&&Ne.warnOnce('Vector tile source "'+this.source+'" layer "'+Ot+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Rt=at.encode(Ot),Bt=[],rn=0;rn<Dt.length;rn++){var vn=Dt.feature(rn),bn=st.getId(vn,Ot);Bt.push({feature:vn,id:bn,index:rn,sourceLayerIndex:Rt})}for(var Tn=0,Cn=vt[Ot];Tn<Cn.length;Tn+=1){var In=Cn[Tn],Ln=In[0];Ln.minzoom&&this.zoom<Math.floor(Ln.minzoom)||Ln.maxzoom&&this.zoom>=Ln.maxzoom||"none"!==Ln.visibility&&(s(In,this.zoom,nt),(mt[Ln.id]=Ln.createBucket({index:st.bucketLayerIDs.length,layers:In,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Rt,sourceID:this.source})).populate(Bt,yt,this.tileID.canonical),st.bucketLayerIDs.push(In.map((function(Ne){return Ne.id}))))}}}var Mn=Ne.mapObject(yt.glyphDependencies,(function(Ne){return Object.keys(Ne).map(Number)}));Object.keys(Mn).length?rt.send("getGlyphs",{uid:this.uid,stacks:Mn},(function(Ne,et){ct||(ct=Ne,pt=et,z.call(ot))})):pt={};var zn=Object.keys(yt.iconDependencies);zn.length?rt.send("getImages",{icons:zn,source:this.source,tileID:this.tileID,type:"icons"},(function(Ne,et){ct||(ct=Ne,dt=et,z.call(ot))})):dt={};var Fn=Object.keys(yt.patternDependencies);function z(){if(ct)return it(ct);if(pt&&dt&&ft){var et=new o(pt),tt=new Ne.ImageAtlas(dt,ft);for(var rt in mt){var ot=mt[rt];ot instanceof Ne.SymbolBucket?(s(ot.layers,this.zoom,nt),Ne.performSymbolLayout(ot,pt,et.positions,dt,tt.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):ot.hasPattern&&(ot instanceof Ne.LineBucket||ot instanceof Ne.FillBucket||ot instanceof Ne.FillExtrusionBucket)&&(s(ot.layers,this.zoom,nt),ot.addFeatures(yt,this.tileID.canonical,tt.patternPositions))}this.status="done",it(null,{buckets:Ne.values(mt).filter((function(Ne){return!Ne.isEmpty()})),featureIndex:st,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:et.image,imageAtlas:tt,glyphMap:this.returnDependencies?pt:null,iconMap:this.returnDependencies?dt:null,glyphPositions:this.returnDependencies?et.positions:null})}}Fn.length?rt.send("getImages",{icons:Fn,source:this.source,tileID:this.tileID,type:"patterns"},(function(Ne,et){ct||(ct=Ne,ft=et,z.call(ot))})):ft={},z.call(this)};var l=function(Ne,et,tt,nt){this.actor=Ne,this.layerIndex=et,this.availableImages=tt,this.loadVectorData=nt||a,this.loading={},this.loaded={}};l.prototype.loadTile=function(et,tt){var nt=this,rt=et.uid;this.loading||(this.loading={});var it=!!(et&&et.request&&et.request.collectResourceTiming)&&new Ne.RequestPerformance(et.request),ot=this.loading[rt]=new n(et);ot.abort=this.loadVectorData(et,(function(et,at){if(delete nt.loading[rt],et||!at)return ot.status="done",nt.loaded[rt]=ot,tt(et);var st=at.rawData,ct={};at.expires&&(ct.expires=at.expires),at.cacheControl&&(ct.cacheControl=at.cacheControl);var pt={};if(it){var dt=it.finish();dt&&(pt.resourceTiming=JSON.parse(JSON.stringify(dt)))}ot.vectorTile=at.vectorTile,ot.parse(at.vectorTile,nt.layerIndex,nt.availableImages,nt.actor,(function(et,nt){if(et||!nt)return tt(et);tt(null,Ne.extend({rawTileData:st.slice(0)},nt,ct,pt))})),nt.loaded=nt.loaded||{},nt.loaded[rt]=ot}))},l.prototype.reloadTile=function(Ne,et){var tt=this,nt=this.loaded,rt=Ne.uid,it=this;if(nt&&nt[rt]){var ot=nt[rt];ot.showCollisionBoxes=Ne.showCollisionBoxes;var a=function(Ne,nt){var rt=ot.reloadCallback;rt&&(delete ot.reloadCallback,ot.parse(ot.vectorTile,it.layerIndex,tt.availableImages,it.actor,rt)),et(Ne,nt)};"parsing"===ot.status?ot.reloadCallback=a:"done"===ot.status&&(ot.vectorTile?ot.parse(ot.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}},l.prototype.abortTile=function(Ne,et){var tt=this.loading,nt=Ne.uid;tt&&tt[nt]&&tt[nt].abort&&(tt[nt].abort(),delete tt[nt]),et()},l.prototype.removeTile=function(Ne,et){var tt=this.loaded,nt=Ne.uid;tt&&tt[nt]&&delete tt[nt],et()};var et=Ne.window.ImageBitmap,h=function(){this.loaded={}};function c(Ne,et){if(0!==Ne.length){p(Ne[0],et);for(var tt=1;tt<Ne.length;tt++)p(Ne[tt],!et)}}function p(Ne,et){for(var tt=0,nt=0,rt=Ne.length,it=rt-1;nt<rt;it=nt++)tt+=(Ne[nt][0]-Ne[it][0])*(Ne[it][1]+Ne[nt][1]);tt>=0!=!!et&&Ne.reverse()}h.prototype.loadTile=function(tt,nt){var rt=tt.uid,it=tt.encoding,ot=tt.rawImageData,at=et&&ot instanceof et?this.getImageData(ot):ot,st=new Ne.DEMData(rt,at,it);this.loaded=this.loaded||{},this.loaded[rt]=st,nt(null,st)},h.prototype.getImageData=function(et){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(et.width,et.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=et.width,this.offscreenCanvas.height=et.height,this.offscreenCanvasContext.drawImage(et,0,0,et.width,et.height);var tt=this.offscreenCanvasContext.getImageData(-1,-1,et.width+2,et.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new Ne.RGBAImage({width:tt.width,height:tt.height},tt.data)},h.prototype.removeTile=function(Ne){var et=this.loaded,tt=Ne.uid;et&&et[tt]&&delete et[tt]};var tt=Ne.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(et){this._feature=et,this.extent=Ne.EXTENT,this.type=et.type,this.properties=et.tags,"id"in et&&!isNaN(et.id)&&(this.id=parseInt(et.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var et=[],tt=0,nt=this._feature.geometry;tt<nt.length;tt+=1){var rt=nt[tt];et.push([new Ne.Point$1(rt[0],rt[1])])}return et}for(var it=[],ot=0,at=this._feature.geometry;ot<at.length;ot+=1){for(var st=[],ct=0,pt=at[ot];ct<pt.length;ct+=1){var dt=pt[ct];st.push(new Ne.Point$1(dt[0],dt[1]))}it.push(st)}return it},d.prototype.toGeoJSON=function(Ne,et,nt){return tt.call(this,Ne,et,nt)};var g=function(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=Ne.EXTENT,this.length=et.length,this._features=et};g.prototype.feature=function(Ne){return new d(this._features[Ne])};var nt=Ne.vectorTile.VectorTileFeature,rt=y;function y(Ne,et){this.options=et||{},this.features=Ne,this.length=Ne.length}function x(Ne,et){this.id="number"==typeof Ne.id?Ne.id:void 0,this.type=Ne.type,this.rawGeometry=1===Ne.type?[Ne.geometry]:Ne.geometry,this.properties=Ne.tags,this.extent=et||4096}y.prototype.feature=function(Ne){return new x(this.features[Ne],this.options.extent)},x.prototype.loadGeometry=function(){var et=this.rawGeometry;this.geometry=[];for(var tt=0;tt<et.length;tt++){for(var nt=et[tt],rt=[],it=0;it<nt.length;it++)rt.push(new Ne.Point$1(nt[it][0],nt[it][1]));this.geometry.push(rt)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ne=this.geometry,et=1/0,tt=-1/0,nt=1/0,rt=-1/0,it=0;it<Ne.length;it++)for(var ot=Ne[it],at=0;at<ot.length;at++){var st=ot[at];et=Math.min(et,st.x),tt=Math.max(tt,st.x),nt=Math.min(nt,st.y),rt=Math.max(rt,st.y)}return[et,nt,tt,rt]},x.prototype.toGeoJSON=nt.prototype.toGeoJSON;var it=I,ot=rt;function I(et){var tt=new Ne.pbf;return function(Ne,et){for(var tt in Ne.layers)et.writeMessage(3,M,Ne.layers[tt])}(et,tt),tt.finish()}function M(Ne,et){var tt;et.writeVarintField(15,Ne.version||1),et.writeStringField(1,Ne.name||""),et.writeVarintField(5,Ne.extent||4096);var nt={keys:[],values:[],keycache:{},valuecache:{}};for(tt=0;tt<Ne.length;tt++)nt.feature=Ne.feature(tt),et.writeMessage(2,b,nt);var rt=nt.keys;for(tt=0;tt<rt.length;tt++)et.writeStringField(3,rt[tt]);var it=nt.values;for(tt=0;tt<it.length;tt++)et.writeMessage(4,C,it[tt])}function b(Ne,et){var tt=Ne.feature;void 0!==tt.id&&et.writeVarintField(1,tt.id),et.writeMessage(2,_,Ne),et.writeVarintField(3,tt.type),et.writeMessage(4,T,tt)}function _(Ne,et){var tt=Ne.feature,nt=Ne.keys,rt=Ne.values,it=Ne.keycache,ot=Ne.valuecache;for(var at in tt.properties){var st=it[at];void 0===st&&(nt.push(at),it[at]=st=nt.length-1),et.writeVarint(st);var ct=tt.properties[at],pt=typeof ct;"string"!==pt&&"boolean"!==pt&&"number"!==pt&&(ct=JSON.stringify(ct));var dt=pt+":"+ct,ft=ot[dt];void 0===ft&&(rt.push(ct),ot[dt]=ft=rt.length-1),et.writeVarint(ft)}}function k(Ne,et){return(et<<3)+(7&Ne)}function P(Ne){return Ne<<1^Ne>>31}function T(Ne,et){for(var tt=Ne.loadGeometry(),nt=Ne.type,rt=0,it=0,ot=tt.length,at=0;at<ot;at++){var st=tt[at],ct=1;1===nt&&(ct=st.length),et.writeVarint(k(1,ct));for(var pt=3===nt?st.length-1:st.length,dt=0;dt<pt;dt++){1===dt&&1!==nt&&et.writeVarint(k(2,pt-1));var ft=st[dt].x-rt,mt=st[dt].y-it;et.writeVarint(P(ft)),et.writeVarint(P(mt)),rt+=ft,it+=mt}3===nt&&et.writeVarint(k(7,1))}}function C(Ne,et){var tt=typeof Ne;"string"===tt?et.writeStringField(1,Ne):"boolean"===tt?et.writeBooleanField(7,Ne):"number"===tt&&(Ne%1!=0?et.writeDoubleField(3,Ne):Ne<0?et.writeSVarintField(6,Ne):et.writeVarintField(5,Ne))}function D(Ne,et,tt,nt){L(Ne,tt,nt),L(et,2*tt,2*nt),L(et,2*tt+1,2*nt+1)}function L(Ne,et,tt){var nt=Ne[et];Ne[et]=Ne[tt],Ne[tt]=nt}function z(Ne,et,tt,nt){var rt=Ne-tt,it=et-nt;return rt*rt+it*it}it.fromVectorTileJs=I,it.fromGeojsonVt=function(Ne,et){et=et||{};var tt={};for(var nt in Ne)tt[nt]=new rt(Ne[nt].features,et),tt[nt].name=nt,tt[nt].version=et.version,tt[nt].extent=et.extent;return I({layers:tt})},it.GeoJSONWrapper=ot;var O=function(Ne){return Ne[0]},E=function(Ne){return Ne[1]},F=function(Ne,et,tt,nt,rt){void 0===et&&(et=O),void 0===tt&&(tt=E),void 0===nt&&(nt=64),void 0===rt&&(rt=Float64Array),this.nodeSize=nt,this.points=Ne;for(var it=Ne.length<65536?Uint16Array:Uint32Array,ot=this.ids=new it(Ne.length),at=this.coords=new rt(2*Ne.length),st=0;st<Ne.length;st++)ot[st]=st,at[2*st]=et(Ne[st]),at[2*st+1]=tt(Ne[st]);!function e(Ne,et,tt,nt,rt,it){if(!(rt-nt<=tt)){var ot=nt+rt>>1;!function e(Ne,et,tt,nt,rt,it){for(;rt>nt;){if(rt-nt>600){var ot=rt-nt+1,at=tt-nt+1,st=Math.log(ot),ct=.5*Math.exp(2*st/3),pt=.5*Math.sqrt(st*ct*(ot-ct)/ot)*(at-ot/2<0?-1:1);e(Ne,et,tt,Math.max(nt,Math.floor(tt-at*ct/ot+pt)),Math.min(rt,Math.floor(tt+(ot-at)*ct/ot+pt)),it)}var dt=et[2*tt+it],ft=nt,mt=rt;for(D(Ne,et,nt,tt),et[2*rt+it]>dt&&D(Ne,et,nt,rt);ft<mt;){for(D(Ne,et,ft,mt),ft++,mt--;et[2*ft+it]<dt;)ft++;for(;et[2*mt+it]>dt;)mt--}et[2*nt+it]===dt?D(Ne,et,nt,mt):D(Ne,et,++mt,rt),mt<=tt&&(nt=mt+1),tt<=mt&&(rt=mt-1)}}(Ne,et,ot,nt,rt,it%2),e(Ne,et,tt,nt,ot-1,it+1),e(Ne,et,tt,ot+1,rt,it+1)}}(ot,at,nt,0,ot.length-1,0)};F.prototype.range=function(Ne,et,tt,nt){return function(Ne,et,tt,nt,rt,it,ot){for(var at,st,ct=[0,Ne.length-1,0],pt=[];ct.length;){var dt=ct.pop(),ft=ct.pop(),mt=ct.pop();if(ft-mt<=ot)for(var yt=mt;yt<=ft;yt++)st=et[2*yt+1],(at=et[2*yt])>=tt&&at<=rt&&st>=nt&&st<=it&&pt.push(Ne[yt]);else{var vt=Math.floor((mt+ft)/2);st=et[2*vt+1],(at=et[2*vt])>=tt&&at<=rt&&st>=nt&&st<=it&&pt.push(Ne[vt]);var Ot=(dt+1)%2;(0===dt?tt<=at:nt<=st)&&(ct.push(mt),ct.push(vt-1),ct.push(Ot)),(0===dt?rt>=at:it>=st)&&(ct.push(vt+1),ct.push(ft),ct.push(Ot))}}return pt}(this.ids,this.coords,Ne,et,tt,nt,this.nodeSize)},F.prototype.within=function(Ne,et,tt){return function(Ne,et,tt,nt,rt,it){for(var ot=[0,Ne.length-1,0],at=[],st=rt*rt;ot.length;){var ct=ot.pop(),pt=ot.pop(),dt=ot.pop();if(pt-dt<=it)for(var ft=dt;ft<=pt;ft++)z(et[2*ft],et[2*ft+1],tt,nt)<=st&&at.push(Ne[ft]);else{var mt=Math.floor((dt+pt)/2),yt=et[2*mt],vt=et[2*mt+1];z(yt,vt,tt,nt)<=st&&at.push(Ne[mt]);var Ot=(ct+1)%2;(0===ct?tt-rt<=yt:nt-rt<=vt)&&(ot.push(dt),ot.push(mt-1),ot.push(Ot)),(0===ct?tt+rt>=yt:nt+rt>=vt)&&(ot.push(mt+1),ot.push(pt),ot.push(Ot))}}return at}(this.ids,this.coords,Ne,et,tt,this.nodeSize)};var at={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ne){return Ne}},J=function(Ne){this.options=V(Object.create(at),Ne),this.trees=new Array(this.options.maxZoom+1)};function Z(Ne,et,tt,nt,rt){return{x:Ne,y:et,zoom:1/0,id:tt,parentId:-1,numPoints:nt,properties:rt}}function A(Ne,et){var tt=Ne.geometry.coordinates,nt=tt[1];return{x:Y(tt[0]),y:j(nt),zoom:1/0,index:et,parentId:-1}}function B(Ne){return{type:"Feature",id:Ne.id,properties:G(Ne),geometry:{type:"Point",coordinates:[(nt=Ne.x,360*(nt-.5)),(et=Ne.y,tt=(180-360*et)*Math.PI/180,360*Math.atan(Math.exp(tt))/Math.PI-90)]}};var et,tt,nt}function G(Ne){var et=Ne.numPoints,tt=et>=1e4?Math.round(et/1e3)+"k":et>=1e3?Math.round(et/100)/10+"k":et;return V(V({},Ne.properties),{cluster:!0,cluster_id:Ne.id,point_count:et,point_count_abbreviated:tt})}function Y(Ne){return Ne/360+.5}function j(Ne){var et=Math.sin(Ne*Math.PI/180),tt=.5-.25*Math.log((1+et)/(1-et))/Math.PI;return tt<0?0:tt>1?1:tt}function V(Ne,et){for(var tt in et)Ne[tt]=et[tt];return Ne}function X(Ne){return Ne.x}function W(Ne){return Ne.y}function R(Ne,et,tt,nt,rt,it){var ot=rt-tt,at=it-nt;if(0!==ot||0!==at){var st=((Ne-tt)*ot+(et-nt)*at)/(ot*ot+at*at);st>1?(tt=rt,nt=it):st>0&&(tt+=ot*st,nt+=at*st)}return(ot=Ne-tt)*ot+(at=et-nt)*at}function q(Ne,et,tt,nt){var rt={id:void 0===Ne?null:Ne,type:et,geometry:tt,tags:nt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ne){var et=Ne.geometry,tt=Ne.type;if("Point"===tt||"MultiPoint"===tt||"LineString"===tt)U(Ne,et);else if("Polygon"===tt||"MultiLineString"===tt)for(var nt=0;nt<et.length;nt++)U(Ne,et[nt]);else if("MultiPolygon"===tt)for(nt=0;nt<et.length;nt++)for(var rt=0;rt<et[nt].length;rt++)U(Ne,et[nt][rt])}(rt),rt}function U(Ne,et){for(var tt=0;tt<et.length;tt+=3)Ne.minX=Math.min(Ne.minX,et[tt]),Ne.minY=Math.min(Ne.minY,et[tt+1]),Ne.maxX=Math.max(Ne.maxX,et[tt]),Ne.maxY=Math.max(Ne.maxY,et[tt+1])}function $(Ne,et,tt,nt){if(et.geometry){var rt=et.geometry.coordinates,it=et.geometry.type,ot=Math.pow(tt.tolerance/((1<<tt.maxZoom)*tt.extent),2),at=[],st=et.id;if(tt.promoteId?st=et.properties[tt.promoteId]:tt.generateId&&(st=nt||0),"Point"===it)H(rt,at);else if("MultiPoint"===it)for(var ct=0;ct<rt.length;ct++)H(rt[ct],at);else if("LineString"===it)K(rt,at,ot,!1);else if("MultiLineString"===it){if(tt.lineMetrics){for(ct=0;ct<rt.length;ct++)K(rt[ct],at=[],ot,!1),Ne.push(q(st,"LineString",at,et.properties));return}Q(rt,at,ot,!1)}else if("Polygon"===it)Q(rt,at,ot,!0);else{if("MultiPolygon"!==it){if("GeometryCollection"===it){for(ct=0;ct<et.geometry.geometries.length;ct++)$(Ne,{id:st,geometry:et.geometry.geometries[ct],properties:et.properties},tt,nt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ct=0;ct<rt.length;ct++){var pt=[];Q(rt[ct],pt,ot,!0),at.push(pt)}}Ne.push(q(st,it,at,et.properties))}}function H(Ne,et){et.push(ee(Ne[0])),et.push(te(Ne[1])),et.push(0)}function K(Ne,et,tt,nt){for(var rt,it,ot=0,at=0;at<Ne.length;at++){var st=ee(Ne[at][0]),ct=te(Ne[at][1]);et.push(st),et.push(ct),et.push(0),at>0&&(ot+=nt?(rt*ct-st*it)/2:Math.sqrt(Math.pow(st-rt,2)+Math.pow(ct-it,2))),rt=st,it=ct}var pt=et.length-3;et[2]=1,function e(Ne,et,tt,nt){for(var rt,it=nt,ot=tt-et>>1,at=tt-et,st=Ne[et],ct=Ne[et+1],pt=Ne[tt],dt=Ne[tt+1],ft=et+3;ft<tt;ft+=3){var mt=R(Ne[ft],Ne[ft+1],st,ct,pt,dt);if(mt>it)rt=ft,it=mt;else if(mt===it){var yt=Math.abs(ft-ot);yt<at&&(rt=ft,at=yt)}}it>nt&&(rt-et>3&&e(Ne,et,rt,nt),Ne[rt+2]=it,tt-rt>3&&e(Ne,rt,tt,nt))}(et,0,pt,tt),et[pt+2]=1,et.size=Math.abs(ot),et.start=0,et.end=et.size}function Q(Ne,et,tt,nt){for(var rt=0;rt<Ne.length;rt++){var it=[];K(Ne[rt],it,tt,nt),et.push(it)}}function ee(Ne){return Ne/360+.5}function te(Ne){var et=Math.sin(Ne*Math.PI/180),tt=.5-.25*Math.log((1+et)/(1-et))/Math.PI;return tt<0?0:tt>1?1:tt}function re(Ne,et,tt,nt,rt,it,ot,at){if(nt/=et,it>=(tt/=et)&&ot<nt)return Ne;if(ot<tt||it>=nt)return null;for(var st=[],ct=0;ct<Ne.length;ct++){var pt=Ne[ct],dt=pt.geometry,ft=pt.type,mt=0===rt?pt.minX:pt.minY,yt=0===rt?pt.maxX:pt.maxY;if(mt>=tt&&yt<nt)st.push(pt);else if(!(yt<tt||mt>=nt)){var vt=[];if("Point"===ft||"MultiPoint"===ft)ie(dt,vt,tt,nt,rt);else if("LineString"===ft)oe(dt,vt,tt,nt,rt,!1,at.lineMetrics);else if("MultiLineString"===ft)se(dt,vt,tt,nt,rt,!1);else if("Polygon"===ft)se(dt,vt,tt,nt,rt,!0);else if("MultiPolygon"===ft)for(var Ot=0;Ot<dt.length;Ot++){var Dt=[];se(dt[Ot],Dt,tt,nt,rt,!0),Dt.length&&vt.push(Dt)}if(vt.length){if(at.lineMetrics&&"LineString"===ft){for(Ot=0;Ot<vt.length;Ot++)st.push(q(pt.id,ft,vt[Ot],pt.tags));continue}"LineString"!==ft&&"MultiLineString"!==ft||(1===vt.length?(ft="LineString",vt=vt[0]):ft="MultiLineString"),"Point"!==ft&&"MultiPoint"!==ft||(ft=3===vt.length?"Point":"MultiPoint"),st.push(q(pt.id,ft,vt,pt.tags))}}}return st.length?st:null}function ie(Ne,et,tt,nt,rt){for(var it=0;it<Ne.length;it+=3){var ot=Ne[it+rt];ot>=tt&&ot<=nt&&(et.push(Ne[it]),et.push(Ne[it+1]),et.push(Ne[it+2]))}}function oe(Ne,et,tt,nt,rt,it,ot){for(var at,st,ct=ne(Ne),pt=0===rt?le:ue,dt=Ne.start,ft=0;ft<Ne.length-3;ft+=3){var mt=Ne[ft],yt=Ne[ft+1],vt=Ne[ft+2],Ot=Ne[ft+3],Dt=Ne[ft+4],Rt=0===rt?mt:yt,Bt=0===rt?Ot:Dt,rn=!1;ot&&(at=Math.sqrt(Math.pow(mt-Ot,2)+Math.pow(yt-Dt,2))),Rt<tt?Bt>tt&&(st=pt(ct,mt,yt,Ot,Dt,tt),ot&&(ct.start=dt+at*st)):Rt>nt?Bt<nt&&(st=pt(ct,mt,yt,Ot,Dt,nt),ot&&(ct.start=dt+at*st)):ae(ct,mt,yt,vt),Bt<tt&&Rt>=tt&&(st=pt(ct,mt,yt,Ot,Dt,tt),rn=!0),Bt>nt&&Rt<=nt&&(st=pt(ct,mt,yt,Ot,Dt,nt),rn=!0),!it&&rn&&(ot&&(ct.end=dt+at*st),et.push(ct),ct=ne(Ne)),ot&&(dt+=at)}var vn=Ne.length-3;mt=Ne[vn],yt=Ne[vn+1],vt=Ne[vn+2],(Rt=0===rt?mt:yt)>=tt&&Rt<=nt&&ae(ct,mt,yt,vt),vn=ct.length-3,it&&vn>=3&&(ct[vn]!==ct[0]||ct[vn+1]!==ct[1])&&ae(ct,ct[0],ct[1],ct[2]),ct.length&&et.push(ct)}function ne(Ne){var et=[];return et.size=Ne.size,et.start=Ne.start,et.end=Ne.end,et}function se(Ne,et,tt,nt,rt,it){for(var ot=0;ot<Ne.length;ot++)oe(Ne[ot],et,tt,nt,rt,it,!1)}function ae(Ne,et,tt,nt){Ne.push(et),Ne.push(tt),Ne.push(nt)}function le(Ne,et,tt,nt,rt,it){var ot=(it-et)/(nt-et);return Ne.push(it),Ne.push(tt+(rt-tt)*ot),Ne.push(1),ot}function ue(Ne,et,tt,nt,rt,it){var ot=(it-tt)/(rt-tt);return Ne.push(et+(nt-et)*ot),Ne.push(it),Ne.push(1),ot}function he(Ne,et){for(var tt=[],nt=0;nt<Ne.length;nt++){var rt,it=Ne[nt],ot=it.type;if("Point"===ot||"MultiPoint"===ot||"LineString"===ot)rt=ce(it.geometry,et);else if("MultiLineString"===ot||"Polygon"===ot){rt=[];for(var at=0;at<it.geometry.length;at++)rt.push(ce(it.geometry[at],et))}else if("MultiPolygon"===ot)for(rt=[],at=0;at<it.geometry.length;at++){for(var st=[],ct=0;ct<it.geometry[at].length;ct++)st.push(ce(it.geometry[at][ct],et));rt.push(st)}tt.push(q(it.id,ot,rt,it.tags))}return tt}function ce(Ne,et){var tt=[];tt.size=Ne.size,void 0!==Ne.start&&(tt.start=Ne.start,tt.end=Ne.end);for(var nt=0;nt<Ne.length;nt+=3)tt.push(Ne[nt]+et,Ne[nt+1],Ne[nt+2]);return tt}function pe(Ne,et){if(Ne.transformed)return Ne;var tt,nt,rt,it=1<<Ne.z,ot=Ne.x,at=Ne.y;for(tt=0;tt<Ne.features.length;tt++){var st=Ne.features[tt],ct=st.geometry,pt=st.type;if(st.geometry=[],1===pt)for(nt=0;nt<ct.length;nt+=2)st.geometry.push(fe(ct[nt],ct[nt+1],et,it,ot,at));else for(nt=0;nt<ct.length;nt++){var dt=[];for(rt=0;rt<ct[nt].length;rt+=2)dt.push(fe(ct[nt][rt],ct[nt][rt+1],et,it,ot,at));st.geometry.push(dt)}}return Ne.transformed=!0,Ne}function fe(Ne,et,tt,nt,rt,it){return[Math.round(tt*(Ne*nt-rt)),Math.round(tt*(et*nt-it))]}function de(Ne,et,tt,nt,rt){for(var it=et===rt.maxZoom?0:rt.tolerance/((1<<et)*rt.extent),ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:tt,y:nt,z:et,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},at=0;at<Ne.length;at++){ot.numFeatures++,ge(ot,Ne[at],it,rt);var st=Ne[at].minX,ct=Ne[at].minY,pt=Ne[at].maxX,dt=Ne[at].maxY;st<ot.minX&&(ot.minX=st),ct<ot.minY&&(ot.minY=ct),pt>ot.maxX&&(ot.maxX=pt),dt>ot.maxY&&(ot.maxY=dt)}return ot}function ge(Ne,et,tt,nt){var rt=et.geometry,it=et.type,ot=[];if("Point"===it||"MultiPoint"===it)for(var at=0;at<rt.length;at+=3)ot.push(rt[at]),ot.push(rt[at+1]),Ne.numPoints++,Ne.numSimplified++;else if("LineString"===it)me(ot,rt,Ne,tt,!1,!1);else if("MultiLineString"===it||"Polygon"===it)for(at=0;at<rt.length;at++)me(ot,rt[at],Ne,tt,"Polygon"===it,0===at);else if("MultiPolygon"===it)for(var st=0;st<rt.length;st++){var ct=rt[st];for(at=0;at<ct.length;at++)me(ot,ct[at],Ne,tt,!0,0===at)}if(ot.length){var pt=et.tags||null;if("LineString"===it&&nt.lineMetrics){for(var dt in pt={},et.tags)pt[dt]=et.tags[dt];pt.mapbox_clip_start=rt.start/rt.size,pt.mapbox_clip_end=rt.end/rt.size}var ft={geometry:ot,type:"Polygon"===it||"MultiPolygon"===it?3:"LineString"===it||"MultiLineString"===it?2:1,tags:pt};null!==et.id&&(ft.id=et.id),Ne.features.push(ft)}}function me(Ne,et,tt,nt,rt,it){var ot=nt*nt;if(nt>0&&et.size<(rt?ot:nt))tt.numPoints+=et.length/3;else{for(var at=[],st=0;st<et.length;st+=3)(0===nt||et[st+2]>ot)&&(tt.numSimplified++,at.push(et[st]),at.push(et[st+1])),tt.numPoints++;rt&&function(Ne,et){for(var tt=0,nt=0,rt=Ne.length,it=rt-2;nt<rt;it=nt,nt+=2)tt+=(Ne[nt]-Ne[it])*(Ne[nt+1]+Ne[it+1]);if(tt>0===et)for(nt=0,rt=Ne.length;nt<rt/2;nt+=2){var ot=Ne[nt],at=Ne[nt+1];Ne[nt]=Ne[rt-2-nt],Ne[nt+1]=Ne[rt-1-nt],Ne[rt-2-nt]=ot,Ne[rt-1-nt]=at}}(at,it),Ne.push(at)}}function ve(Ne,et){var tt=(et=this.options=function(Ne,et){for(var tt in et)Ne[tt]=et[tt];return Ne}(Object.create(this.options),et)).debug;if(tt&&console.time("preprocess data"),et.maxZoom<0||et.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(et.promoteId&&et.generateId)throw new Error("promoteId and generateId cannot be used together.");var nt=function(Ne,et){var tt=[];if("FeatureCollection"===Ne.type)for(var nt=0;nt<Ne.features.length;nt++)$(tt,Ne.features[nt],et,nt);else $(tt,"Feature"===Ne.type?Ne:{geometry:Ne},et);return tt}(Ne,et);this.tiles={},this.tileCoords=[],tt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",et.indexMaxZoom,et.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(nt=function(Ne,et){var tt=et.buffer/et.extent,nt=Ne,rt=re(Ne,1,-1-tt,tt,0,-1,2,et),it=re(Ne,1,1-tt,2+tt,0,-1,2,et);return(rt||it)&&(nt=re(Ne,1,-tt,1+tt,0,-1,2,et)||[],rt&&(nt=he(rt,1).concat(nt)),it&&(nt=nt.concat(he(it,-1)))),nt}(nt,et)).length&&this.splitTile(nt,0,0,0),tt&&(nt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(Ne,et,tt){return 32*((1<<Ne)*tt+et)+Ne}function xe(Ne,et){var tt=Ne.tileID.canonical;if(!this._geoJSONIndex)return et(null,null);var nt=this._geoJSONIndex.getTile(tt.z,tt.x,tt.y);if(!nt)return et(null,null);var rt=new g(nt.features),ot=it(rt);0===ot.byteOffset&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),et(null,{vectorTile:rt,rawData:ot.buffer})}J.prototype.load=function(Ne){var et=this.options,tt=et.log,nt=et.minZoom,rt=et.maxZoom,it=et.nodeSize;tt&&console.time("total time");var ot="prepare "+Ne.length+" points";tt&&console.time(ot),this.points=Ne;for(var at=[],st=0;st<Ne.length;st++)Ne[st].geometry&&at.push(A(Ne[st],st));this.trees[rt+1]=new F(at,X,W,it,Float32Array),tt&&console.timeEnd(ot);for(var ct=rt;ct>=nt;ct--){var pt=+Date.now();at=this._cluster(at,ct),this.trees[ct]=new F(at,X,W,it,Float32Array),tt&&console.log("z%d: %d clusters in %dms",ct,at.length,+Date.now()-pt)}return tt&&console.timeEnd("total time"),this},J.prototype.getClusters=function(Ne,et){var tt=((Ne[0]+180)%360+360)%360-180,nt=Math.max(-90,Math.min(90,Ne[1])),rt=180===Ne[2]?180:((Ne[2]+180)%360+360)%360-180,it=Math.max(-90,Math.min(90,Ne[3]));if(Ne[2]-Ne[0]>=360)tt=-180,rt=180;else if(tt>rt){var ot=this.getClusters([tt,nt,180,it],et),at=this.getClusters([-180,nt,rt,it],et);return ot.concat(at)}for(var st=this.trees[this._limitZoom(et)],ct=[],pt=0,dt=st.range(Y(tt),j(it),Y(rt),j(nt));pt<dt.length;pt+=1){var ft=st.points[dt[pt]];ct.push(ft.numPoints?B(ft):this.points[ft.index])}return ct},J.prototype.getChildren=function(Ne){var et=this._getOriginId(Ne),tt=this._getOriginZoom(Ne),nt="No cluster with the specified id.",rt=this.trees[tt];if(!rt)throw new Error(nt);var it=rt.points[et];if(!it)throw new Error(nt);for(var ot=this.options.radius/(this.options.extent*Math.pow(2,tt-1)),at=[],st=0,ct=rt.within(it.x,it.y,ot);st<ct.length;st+=1){var pt=rt.points[ct[st]];pt.parentId===Ne&&at.push(pt.numPoints?B(pt):this.points[pt.index])}if(0===at.length)throw new Error(nt);return at},J.prototype.getLeaves=function(Ne,et,tt){var nt=[];return this._appendLeaves(nt,Ne,et=et||10,tt=tt||0,0),nt},J.prototype.getTile=function(Ne,et,tt){var nt=this.trees[this._limitZoom(Ne)],rt=Math.pow(2,Ne),it=this.options,ot=it.radius/it.extent,at=(tt-ot)/rt,st=(tt+1+ot)/rt,ct={features:[]};return this._addTileFeatures(nt.range((et-ot)/rt,at,(et+1+ot)/rt,st),nt.points,et,tt,rt,ct),0===et&&this._addTileFeatures(nt.range(1-ot/rt,at,1,st),nt.points,rt,tt,rt,ct),et===rt-1&&this._addTileFeatures(nt.range(0,at,ot/rt,st),nt.points,-1,tt,rt,ct),ct.features.length?ct:null},J.prototype.getClusterExpansionZoom=function(Ne){for(var et=this._getOriginZoom(Ne)-1;et<=this.options.maxZoom;){var tt=this.getChildren(Ne);if(et++,1!==tt.length)break;Ne=tt[0].properties.cluster_id}return et},J.prototype._appendLeaves=function(Ne,et,tt,nt,rt){for(var it=0,ot=this.getChildren(et);it<ot.length;it+=1){var at=ot[it],st=at.properties;if(st&&st.cluster?rt+st.point_count<=nt?rt+=st.point_count:rt=this._appendLeaves(Ne,st.cluster_id,tt,nt,rt):rt<nt?rt++:Ne.push(at),Ne.length===tt)break}return rt},J.prototype._addTileFeatures=function(Ne,et,tt,nt,rt,it){for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=et[at[ot]],ct=st.numPoints,pt={type:1,geometry:[[Math.round(this.options.extent*(st.x*rt-tt)),Math.round(this.options.extent*(st.y*rt-nt))]],tags:ct?G(st):this.points[st.index].properties},dt=void 0;ct?dt=st.id:this.options.generateId?dt=st.index:this.points[st.index].id&&(dt=this.points[st.index].id),void 0!==dt&&(pt.id=dt),it.features.push(pt)}},J.prototype._limitZoom=function(Ne){return Math.max(this.options.minZoom,Math.min(+Ne,this.options.maxZoom+1))},J.prototype._cluster=function(Ne,et){for(var tt=[],nt=this.options,rt=nt.reduce,it=nt.minPoints,ot=nt.radius/(nt.extent*Math.pow(2,et)),at=0;at<Ne.length;at++){var st=Ne[at];if(!(st.zoom<=et)){st.zoom=et;for(var ct=this.trees[et+1],pt=ct.within(st.x,st.y,ot),dt=st.numPoints||1,ft=dt,mt=0,yt=pt;mt<yt.length;mt+=1){var vt=ct.points[yt[mt]];vt.zoom>et&&(ft+=vt.numPoints||1)}if(ft>=it){for(var Ot=st.x*dt,Dt=st.y*dt,Rt=rt&&dt>1?this._map(st,!0):null,Bt=(at<<5)+(et+1)+this.points.length,rn=0,vn=pt;rn<vn.length;rn+=1){var bn=ct.points[vn[rn]];if(!(bn.zoom<=et)){bn.zoom=et;var Tn=bn.numPoints||1;Ot+=bn.x*Tn,Dt+=bn.y*Tn,bn.parentId=Bt,rt&&(Rt||(Rt=this._map(st,!0)),rt(Rt,this._map(bn)))}}st.parentId=Bt,tt.push(Z(Ot/ft,Dt/ft,Bt,ft,Rt))}else if(tt.push(st),ft>1)for(var Cn=0,In=pt;Cn<In.length;Cn+=1){var Ln=ct.points[In[Cn]];Ln.zoom<=et||(Ln.zoom=et,tt.push(Ln))}}}return tt},J.prototype._getOriginId=function(Ne){return Ne-this.points.length>>5},J.prototype._getOriginZoom=function(Ne){return(Ne-this.points.length)%32},J.prototype._map=function(Ne,et){if(Ne.numPoints)return et?V({},Ne.properties):Ne.properties;var tt=this.points[Ne.index].properties,nt=this.options.map(tt);return et&&nt===tt?V({},nt):nt},ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(Ne,et,tt,nt,rt,it,ot){for(var at=[Ne,et,tt,nt],st=this.options,ct=st.debug;at.length;){nt=at.pop(),tt=at.pop(),et=at.pop(),Ne=at.pop();var pt=1<<et,dt=ye(et,tt,nt),ft=this.tiles[dt];if(!ft&&(ct>1&&console.time("creation"),ft=this.tiles[dt]=de(Ne,et,tt,nt,st),this.tileCoords.push({z:et,x:tt,y:nt}),ct)){ct>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",et,tt,nt,ft.numFeatures,ft.numPoints,ft.numSimplified),console.timeEnd("creation"));var mt="z"+et;this.stats[mt]=(this.stats[mt]||0)+1,this.total++}if(ft.source=Ne,rt){if(et===st.maxZoom||et===rt)continue;var yt=1<<rt-et;if(tt!==Math.floor(it/yt)||nt!==Math.floor(ot/yt))continue}else if(et===st.indexMaxZoom||ft.numPoints<=st.indexMaxPoints)continue;if(ft.source=null,0!==Ne.length){ct>1&&console.time("clipping");var vt,Ot,Dt,Rt,Bt,rn,vn=.5*st.buffer/st.extent,bn=.5-vn,Tn=.5+vn,Cn=1+vn;vt=Ot=Dt=Rt=null,Bt=re(Ne,pt,tt-vn,tt+Tn,0,ft.minX,ft.maxX,st),rn=re(Ne,pt,tt+bn,tt+Cn,0,ft.minX,ft.maxX,st),Ne=null,Bt&&(vt=re(Bt,pt,nt-vn,nt+Tn,1,ft.minY,ft.maxY,st),Ot=re(Bt,pt,nt+bn,nt+Cn,1,ft.minY,ft.maxY,st),Bt=null),rn&&(Dt=re(rn,pt,nt-vn,nt+Tn,1,ft.minY,ft.maxY,st),Rt=re(rn,pt,nt+bn,nt+Cn,1,ft.minY,ft.maxY,st),rn=null),ct>1&&console.timeEnd("clipping"),at.push(vt||[],et+1,2*tt,2*nt),at.push(Ot||[],et+1,2*tt,2*nt+1),at.push(Dt||[],et+1,2*tt+1,2*nt),at.push(Rt||[],et+1,2*tt+1,2*nt+1)}}},ve.prototype.getTile=function(Ne,et,tt){var nt=this.options,rt=nt.extent,it=nt.debug;if(Ne<0||Ne>24)return null;var ot=1<<Ne,at=ye(Ne,et=(et%ot+ot)%ot,tt);if(this.tiles[at])return pe(this.tiles[at],rt);it>1&&console.log("drilling down to z%d-%d-%d",Ne,et,tt);for(var st,ct=Ne,pt=et,dt=tt;!st&&ct>0;)ct--,pt=Math.floor(pt/2),dt=Math.floor(dt/2),st=this.tiles[ye(ct,pt,dt)];return st&&st.source?(it>1&&console.log("found parent tile z%d-%d-%d",ct,pt,dt),it>1&&console.time("drilling down"),this.splitTile(st.source,ct,pt,dt,Ne,et,tt),it>1&&console.timeEnd("drilling down"),this.tiles[at]?pe(this.tiles[at],rt):null):null};var st=function(et){function r(Ne,tt,nt,rt){et.call(this,Ne,tt,nt,xe),rt&&(this.loadGeoJSON=rt)}return et&&(r.__proto__=et),(r.prototype=Object.create(et&&et.prototype)).constructor=r,r.prototype.loadData=function(Ne,et){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=et,this._pendingLoadDataParams=Ne,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var et=this;if(this._pendingCallback&&this._pendingLoadDataParams){var tt=this._pendingCallback,nt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var rt=!!(nt&&nt.request&&nt.request.collectResourceTiming)&&new Ne.RequestPerformance(nt.request);this.loadGeoJSON(nt,(function(it,ot){if(it||!ot)return tt(it);if("object"!=typeof ot)return tt(new Error("Input data given to '"+nt.source+"' is not a valid GeoJSON object."));!function e(Ne,et){var tt,nt=Ne&&Ne.type;if("FeatureCollection"===nt)for(tt=0;tt<Ne.features.length;tt++)e(Ne.features[tt],et);else if("GeometryCollection"===nt)for(tt=0;tt<Ne.geometries.length;tt++)e(Ne.geometries[tt],et);else if("Feature"===nt)e(Ne.geometry,et);else if("Polygon"===nt)c(Ne.coordinates,et);else if("MultiPolygon"===nt)for(tt=0;tt<Ne.coordinates.length;tt++)c(Ne.coordinates[tt],et);return Ne}(ot,!0);try{et._geoJSONIndex=nt.cluster?new J(function(et){var tt=et.superclusterOptions,nt=et.clusterProperties;if(!nt||!tt)return tt;for(var rt={},it={},ot={accumulated:null,zoom:0},at={properties:null},st=Object.keys(nt),ct=0,pt=st;ct<pt.length;ct+=1){var dt=pt[ct],ft=nt[dt],mt=ft[0],yt=Ne.createExpression(ft[1]),vt=Ne.createExpression("string"==typeof mt?[mt,["accumulated"],["get",dt]]:mt);rt[dt]=yt.value,it[dt]=vt.value}return tt.map=function(Ne){at.properties=Ne;for(var et={},tt=0,nt=st;tt<nt.length;tt+=1){var it=nt[tt];et[it]=rt[it].evaluate(ot,at)}return et},tt.reduce=function(Ne,et){at.properties=et;for(var tt=0,nt=st;tt<nt.length;tt+=1){var rt=nt[tt];ot.accumulated=Ne[rt],Ne[rt]=it[rt].evaluate(ot,at)}},tt}(nt)).load(ot.features):function(Ne,et){return new ve(Ne,et)}(ot,nt.geojsonVtOptions)}catch(it){return tt(it)}et.loaded={};var at={};if(rt){var st=rt.finish();st&&(at.resourceTiming={},at.resourceTiming[nt.source]=JSON.parse(JSON.stringify(st)))}tt(null,at)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(Ne,tt){var nt=this.loaded;return nt&&nt[Ne.uid]?et.prototype.reloadTile.call(this,Ne,tt):this.loadTile(Ne,tt)},r.prototype.loadGeoJSON=function(et,tt){if(et.request)Ne.getJSON(et.request,tt);else{if("string"!=typeof et.data)return tt(new Error("Input data given to '"+et.source+"' is not a valid GeoJSON object."));try{return tt(null,JSON.parse(et.data))}catch(Ne){return tt(new Error("Input data given to '"+et.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(Ne,et){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),et()},r.prototype.getClusterExpansionZoom=function(Ne,et){try{et(null,this._geoJSONIndex.getClusterExpansionZoom(Ne.clusterId))}catch(Ne){et(Ne)}},r.prototype.getClusterChildren=function(Ne,et){try{et(null,this._geoJSONIndex.getChildren(Ne.clusterId))}catch(Ne){et(Ne)}},r.prototype.getClusterLeaves=function(Ne,et){try{et(null,this._geoJSONIndex.getLeaves(Ne.clusterId,Ne.limit,Ne.offset))}catch(Ne){et(Ne)}},r}(l),Se=function(et){var tt=this;this.self=et,this.actor=new Ne.Actor(et,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:st},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ne,et){if(tt.workerSourceTypes[Ne])throw new Error('Worker source with name "'+Ne+'" already registered.');tt.workerSourceTypes[Ne]=et},this.self.registerRTLTextPlugin=function(et){if(Ne.plugin.isParsed())throw new Error("RTL text plugin already registered.");Ne.plugin.applyArabicShaping=et.applyArabicShaping,Ne.plugin.processBidirectionalText=et.processBidirectionalText,Ne.plugin.processStyledBidirectionalText=et.processStyledBidirectionalText}};return Se.prototype.setReferrer=function(Ne,et){this.referrer=et},Se.prototype.setImages=function(Ne,et,tt){for(var nt in this.availableImages[Ne]=et,this.workerSources[Ne]){var rt=this.workerSources[Ne][nt];for(var it in rt)rt[it].availableImages=et}tt()},Se.prototype.setLayers=function(Ne,et,tt){this.getLayerIndex(Ne).replace(et),tt()},Se.prototype.updateLayers=function(Ne,et,tt){this.getLayerIndex(Ne).update(et.layers,et.removedIds),tt()},Se.prototype.loadTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).loadTile(et,tt)},Se.prototype.loadDEMTile=function(Ne,et,tt){this.getDEMWorkerSource(Ne,et.source).loadTile(et,tt)},Se.prototype.reloadTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).reloadTile(et,tt)},Se.prototype.abortTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).abortTile(et,tt)},Se.prototype.removeTile=function(Ne,et,tt){this.getWorkerSource(Ne,et.type,et.source).removeTile(et,tt)},Se.prototype.removeDEMTile=function(Ne,et){this.getDEMWorkerSource(Ne,et.source).removeTile(et)},Se.prototype.removeSource=function(Ne,et,tt){if(this.workerSources[Ne]&&this.workerSources[Ne][et.type]&&this.workerSources[Ne][et.type][et.source]){var nt=this.workerSources[Ne][et.type][et.source];delete this.workerSources[Ne][et.type][et.source],void 0!==nt.removeSource?nt.removeSource(et,tt):tt()}},Se.prototype.loadWorkerSource=function(Ne,et,tt){try{this.self.importScripts(et.url),tt()}catch(Ne){tt(Ne.toString())}},Se.prototype.syncRTLPluginState=function(et,tt,nt){try{Ne.plugin.setState(tt);var rt=Ne.plugin.getPluginURL();if(Ne.plugin.isLoaded()&&!Ne.plugin.isParsed()&&null!=rt){this.self.importScripts(rt);var it=Ne.plugin.isParsed();nt(it?void 0:new Error("RTL Text Plugin failed to import scripts from "+rt),it)}}catch(Ne){nt(Ne.toString())}},Se.prototype.getAvailableImages=function(Ne){var et=this.availableImages[Ne];return et||(et=[]),et},Se.prototype.getLayerIndex=function(Ne){var et=this.layerIndexes[Ne];return et||(et=this.layerIndexes[Ne]=new i),et},Se.prototype.getWorkerSource=function(Ne,et,tt){var nt=this;return this.workerSources[Ne]||(this.workerSources[Ne]={}),this.workerSources[Ne][et]||(this.workerSources[Ne][et]={}),this.workerSources[Ne][et][tt]||(this.workerSources[Ne][et][tt]=new this.workerSourceTypes[et]({send:function(et,tt,rt){nt.actor.send(et,tt,rt,Ne)}},this.getLayerIndex(Ne),this.getAvailableImages(Ne))),this.workerSources[Ne][et][tt]},Se.prototype.getDEMWorkerSource=function(Ne,et){return this.demWorkerSources[Ne]||(this.demWorkerSources[Ne]={}),this.demWorkerSources[Ne][et]||(this.demWorkerSources[Ne][et]=new h),this.demWorkerSources[Ne][et]},Se.prototype.enforceCacheSizeLimit=function(et,tt){Ne.enforceCacheSizeLimit(tt)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Se(self)),Se})),define(0,(function(Ne){var et=Ne.createCommonjsModule((function(Ne){function e(Ne){return!i(Ne)}function i(Ne){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Ne,et,tt=new Blob([""],{type:"text/javascript"}),nt=URL.createObjectURL(tt);try{et=new Worker(nt),Ne=!0}catch(et){Ne=!1}return et&&et.terminate(),URL.revokeObjectURL(nt),Ne}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var Ne=document.createElement("canvas");Ne.width=Ne.height=1;var et=Ne.getContext("2d");if(!et)return!1;var tt=et.getImageData(0,0,1,1);return tt&&tt.width===Ne.width}()?(void 0===et[tt=Ne&&Ne.failIfMajorPerformanceCaveat]&&(et[tt]=function(Ne){var et=function(Ne){var et=document.createElement("canvas"),tt=Object.create(e.webGLContextAttributes);return tt.failIfMajorPerformanceCaveat=Ne,et.probablySupportsContext?et.probablySupportsContext("webgl",tt)||et.probablySupportsContext("experimental-webgl",tt):et.supportsContext?et.supportsContext("webgl",tt)||et.supportsContext("experimental-webgl",tt):et.getContext("webgl",tt)||et.getContext("experimental-webgl",tt)}(Ne);if(!et)return!1;var tt=et.createShader(et.VERTEX_SHADER);return!(!tt||et.isContextLost())&&(et.shaderSource(tt,"void main() {}"),et.compileShader(tt),!0===et.getShaderParameter(tt,et.COMPILE_STATUS))}(tt)),et[tt]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var tt}Ne.exports?Ne.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=i);var et={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),tt={create:function(et,tt,nt){var rt=Ne.window.document.createElement(et);return void 0!==tt&&(rt.className=tt),nt&&nt.appendChild(rt),rt},createNS:function(et,tt){return Ne.window.document.createElementNS(et,tt)}},nt=Ne.window.document&&Ne.window.document.documentElement.style;function r(Ne){if(!nt)return Ne[0];for(var et=0;et<Ne.length;et++)if(Ne[et]in nt)return Ne[et];return Ne[0]}var rt,it=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);tt.disableDrag=function(){nt&&it&&(rt=nt[it],nt[it]="none")},tt.enableDrag=function(){nt&&it&&(nt[it]=rt)};var ot=r(["transform","WebkitTransform"]);tt.setTransform=function(Ne,et){Ne.style[ot]=et};var at=!1;try{var st=Object.defineProperty({},"passive",{get:function(){at=!0}});Ne.window.addEventListener("test",st,st),Ne.window.removeEventListener("test",st,st)}catch(Ne){at=!1}tt.addEventListener=function(Ne,et,tt,nt){void 0===nt&&(nt={}),Ne.addEventListener(et,tt,"passive"in nt&&at?nt:nt.capture)},tt.removeEventListener=function(Ne,et,tt,nt){void 0===nt&&(nt={}),Ne.removeEventListener(et,tt,"passive"in nt&&at?nt:nt.capture)};var u=function(et){et.preventDefault(),et.stopPropagation(),Ne.window.removeEventListener("click",u,!0)};function h(Ne){var et=Ne.userImage;return!!(et&&et.render&&et.render())&&(Ne.data.replace(new Uint8Array(et.data.buffer)),!0)}tt.suppressClick=function(){Ne.window.addEventListener("click",u,!0),Ne.window.setTimeout((function(){Ne.window.removeEventListener("click",u,!0)}),0)},tt.mousePos=function(et,tt){var nt=et.getBoundingClientRect();return new Ne.Point(tt.clientX-nt.left-et.clientLeft,tt.clientY-nt.top-et.clientTop)},tt.touchPos=function(et,tt){for(var nt=et.getBoundingClientRect(),rt=[],it=0;it<tt.length;it++)rt.push(new Ne.Point(tt[it].clientX-nt.left-et.clientLeft,tt[it].clientY-nt.top-et.clientTop));return rt},tt.mouseButton=function(et){return void 0!==Ne.window.InstallTrigger&&2===et.button&&et.ctrlKey&&Ne.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:et.button},tt.remove=function(Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)};var ct=function(et){function i(){et.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new Ne.RGBAImage({width:1,height:1}),this.dirty=!0}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(Ne){if(this.loaded!==Ne&&(this.loaded=Ne,Ne)){for(var et=0,tt=this.requestors;et<tt.length;et+=1){var nt=tt[et];this._notify(nt.ids,nt.callback)}this.requestors=[]}},i.prototype.getImage=function(Ne){return this.images[Ne]},i.prototype.addImage=function(Ne,et){this._validate(Ne,et)&&(this.images[Ne]=et)},i.prototype._validate=function(et,tt){var nt=!0;return this._validateStretch(tt.stretchX,tt.data&&tt.data.width)||(this.fire(new Ne.ErrorEvent(new Error('Image "'+et+'" has invalid "stretchX" value'))),nt=!1),this._validateStretch(tt.stretchY,tt.data&&tt.data.height)||(this.fire(new Ne.ErrorEvent(new Error('Image "'+et+'" has invalid "stretchY" value'))),nt=!1),this._validateContent(tt.content,tt)||(this.fire(new Ne.ErrorEvent(new Error('Image "'+et+'" has invalid "content" value'))),nt=!1),nt},i.prototype._validateStretch=function(Ne,et){if(!Ne)return!0;for(var tt=0,nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt];if(it[0]<tt||it[1]<it[0]||et<it[1])return!1;tt=it[1]}return!0},i.prototype._validateContent=function(Ne,et){return!(Ne&&(4!==Ne.length||Ne[0]<0||et.data.width<Ne[0]||Ne[1]<0||et.data.height<Ne[1]||Ne[2]<0||et.data.width<Ne[2]||Ne[3]<0||et.data.height<Ne[3]||Ne[2]<Ne[0]||Ne[3]<Ne[1]))},i.prototype.updateImage=function(Ne,et){et.version=this.images[Ne].version+1,this.images[Ne]=et,this.updatedImages[Ne]=!0},i.prototype.removeImage=function(Ne){var et=this.images[Ne];delete this.images[Ne],delete this.patterns[Ne],et.userImage&&et.userImage.onRemove&&et.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(Ne,et){var tt=!0;if(!this.isLoaded())for(var nt=0,rt=Ne;nt<rt.length;nt+=1)this.images[rt[nt]]||(tt=!1);this.isLoaded()||tt?this._notify(Ne,et):this.requestors.push({ids:Ne,callback:et})},i.prototype._notify=function(et,tt){for(var nt={},rt=0,it=et;rt<it.length;rt+=1){var ot=it[rt];this.images[ot]||this.fire(new Ne.Event("styleimagemissing",{id:ot}));var at=this.images[ot];at?nt[ot]={data:at.data.clone(),pixelRatio:at.pixelRatio,sdf:at.sdf,version:at.version,stretchX:at.stretchX,stretchY:at.stretchY,content:at.content,hasRenderCallback:Boolean(at.userImage&&at.userImage.render)}:Ne.warnOnce('Image "'+ot+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}tt(null,nt)},i.prototype.getPixelSize=function(){var Ne=this.atlasImage;return{width:Ne.width,height:Ne.height}},i.prototype.getPattern=function(et){var tt=this.patterns[et],nt=this.getImage(et);if(!nt)return null;if(tt&&tt.position.version===nt.version)return tt.position;if(tt)tt.position.version=nt.version;else{var rt={w:nt.data.width+2,h:nt.data.height+2,x:0,y:0},it=new Ne.ImagePosition(rt,nt);this.patterns[et]={bin:rt,position:it}}return this._updatePatternAtlas(),this.patterns[et].position},i.prototype.bind=function(et){var tt=et.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Ne.Texture(et,this.atlasImage,tt.RGBA),this.atlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var et=[];for(var tt in this.patterns)et.push(this.patterns[tt].bin);var nt=Ne.potpack(et),rt=nt.w,it=nt.h,ot=this.atlasImage;for(var at in ot.resize({width:rt||1,height:it||1}),this.patterns){var st=this.patterns[at].bin,ct=st.x+1,pt=st.y+1,dt=this.images[at].data,ft=dt.width,mt=dt.height;Ne.RGBAImage.copy(dt,ot,{x:0,y:0},{x:ct,y:pt},{width:ft,height:mt}),Ne.RGBAImage.copy(dt,ot,{x:0,y:mt-1},{x:ct,y:pt-1},{width:ft,height:1}),Ne.RGBAImage.copy(dt,ot,{x:0,y:0},{x:ct,y:pt+mt},{width:ft,height:1}),Ne.RGBAImage.copy(dt,ot,{x:ft-1,y:0},{x:ct-1,y:pt},{width:1,height:mt}),Ne.RGBAImage.copy(dt,ot,{x:0,y:0},{x:ct+ft,y:pt},{width:1,height:mt})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(Ne){for(var et=0,tt=Ne;et<tt.length;et+=1){var nt=tt[et];if(!this.callbackDispatchedThisFrame[nt]){this.callbackDispatchedThisFrame[nt]=!0;var rt=this.images[nt];h(rt)&&this.updateImage(nt,rt)}}},i}(Ne.Evented),pt=m,dt=m,ft=1e20;function m(Ne,et,tt,nt,rt,it){this.fontSize=Ne||24,this.buffer=void 0===et?3:et,this.cutoff=nt||.25,this.fontFamily=rt||"sans-serif",this.fontWeight=it||"normal",this.radius=tt||8;var ot=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ot,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ot*ot),this.gridInner=new Float64Array(ot*ot),this.f=new Float64Array(ot),this.d=new Float64Array(ot),this.z=new Float64Array(ot+1),this.v=new Int16Array(ot),this.middle=Math.round(ot/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(Ne,et,tt,nt,rt,it,ot){for(var at=0;at<et;at++){for(var st=0;st<tt;st++)nt[st]=Ne[st*et+at];for(v(nt,rt,it,ot,tt),st=0;st<tt;st++)Ne[st*et+at]=rt[st]}for(st=0;st<tt;st++){for(at=0;at<et;at++)nt[at]=Ne[st*et+at];for(v(nt,rt,it,ot,et),at=0;at<et;at++)Ne[st*et+at]=Math.sqrt(rt[at])}}function v(Ne,et,tt,nt,rt){tt[0]=0,nt[0]=-ft,nt[1]=+ft;for(var it=1,ot=0;it<rt;it++){for(var at=(Ne[it]+it*it-(Ne[tt[ot]]+tt[ot]*tt[ot]))/(2*it-2*tt[ot]);at<=nt[ot];)ot--,at=(Ne[it]+it*it-(Ne[tt[ot]]+tt[ot]*tt[ot]))/(2*it-2*tt[ot]);tt[++ot]=it,nt[ot]=at,nt[ot+1]=+ft}for(it=0,ot=0;it<rt;it++){for(;nt[ot+1]<it;)ot++;et[it]=(it-tt[ot])*(it-tt[ot])+Ne[tt[ot]]}}m.prototype.draw=function(Ne){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(Ne,this.buffer,this.middle);for(var et=this.ctx.getImageData(0,0,this.size,this.size),tt=new Uint8ClampedArray(this.size*this.size),nt=0;nt<this.size*this.size;nt++){var rt=et.data[4*nt+3]/255;this.gridOuter[nt]=1===rt?0:0===rt?ft:Math.pow(Math.max(0,.5-rt),2),this.gridInner[nt]=1===rt?ft:0===rt?0:Math.pow(Math.max(0,rt-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),nt=0;nt<this.size*this.size;nt++)tt[nt]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[nt]-this.gridInner[nt])/this.radius+this.cutoff))));return tt},pt.default=dt;var y=function(Ne,et){this.requestManager=Ne,this.localIdeographFontFamily=et,this.entries={}};y.prototype.setURL=function(Ne){this.url=Ne},y.prototype.getGlyphs=function(et,tt){var nt=this,rt=[];for(var it in et)for(var ot=0,at=et[it];ot<at.length;ot+=1)rt.push({stack:it,id:at[ot]});Ne.asyncAll(rt,(function(Ne,et){var tt=Ne.stack,rt=Ne.id,it=nt.entries[tt];it||(it=nt.entries[tt]={glyphs:{},requests:{},ranges:{}});var ot=it.glyphs[rt];if(void 0===ot){if(ot=nt._tinySDF(it,tt,rt))return it.glyphs[rt]=ot,void et(null,{stack:tt,id:rt,glyph:ot});var at=Math.floor(rt/256);if(256*at>65535)et(new Error("glyphs > 65535 not supported"));else if(it.ranges[at])et(null,{stack:tt,id:rt,glyph:ot});else{var st=it.requests[at];st||(st=it.requests[at]=[],y.loadGlyphRange(tt,at,nt.url,nt.requestManager,(function(Ne,et){if(et){for(var tt in et)nt._doesCharSupportLocalGlyph(+tt)||(it.glyphs[+tt]=et[+tt]);it.ranges[at]=!0}for(var rt=0,ot=st;rt<ot.length;rt+=1)(0,ot[rt])(Ne,et);delete it.requests[at]}))),st.push((function(Ne,nt){Ne?et(Ne):nt&&et(null,{stack:tt,id:rt,glyph:nt[rt]||null})}))}}else et(null,{stack:tt,id:rt,glyph:ot})}),(function(Ne,et){if(Ne)tt(Ne);else if(et){for(var nt={},rt=0,it=et;rt<it.length;rt+=1){var ot=it[rt],at=ot.stack,st=ot.id,ct=ot.glyph;(nt[at]||(nt[at]={}))[st]=ct&&{id:ct.id,bitmap:ct.bitmap.clone(),metrics:ct.metrics}}tt(null,nt)}}))},y.prototype._doesCharSupportLocalGlyph=function(et){return!!this.localIdeographFontFamily&&(Ne.isChar["CJK Unified Ideographs"](et)||Ne.isChar["Hangul Syllables"](et)||Ne.isChar.Hiragana(et)||Ne.isChar.Katakana(et))},y.prototype._tinySDF=function(et,tt,nt){var rt=this.localIdeographFontFamily;if(rt&&this._doesCharSupportLocalGlyph(nt)){var it=et.tinySDF;if(!it){var ot="400";/bold/i.test(tt)?ot="900":/medium/i.test(tt)?ot="500":/light/i.test(tt)&&(ot="200"),it=et.tinySDF=new y.TinySDF(24,3,8,.25,rt,ot)}return{id:nt,bitmap:new Ne.AlphaImage({width:30,height:30},it.draw(String.fromCharCode(nt))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(et,tt,nt,rt,it){var ot=256*tt,at=ot+255,st=rt.transformRequest(rt.normalizeGlyphsURL(nt).replace("{fontstack}",et).replace("{range}",ot+"-"+at),Ne.ResourceType.Glyphs);Ne.getArrayBuffer(st,(function(et,tt){if(et)it(et);else if(tt){for(var nt={},rt=0,ot=Ne.parseGlyphPBF(tt);rt<ot.length;rt+=1){var at=ot[rt];nt[at.id]=at}it(null,nt)}}))},y.TinySDF=pt;var x=function(){this.specification=Ne.styleSpec.light.position};x.prototype.possiblyEvaluate=function(et,tt){return Ne.sphericalToCartesian(et.expression.evaluate(tt))},x.prototype.interpolate=function(et,tt,nt){return{x:Ne.number(et.x,tt.x,nt),y:Ne.number(et.y,tt.y,nt),z:Ne.number(et.z,tt.z,nt)}};var mt=new Ne.Properties({anchor:new Ne.DataConstantProperty(Ne.styleSpec.light.anchor),position:new x,color:new Ne.DataConstantProperty(Ne.styleSpec.light.color),intensity:new Ne.DataConstantProperty(Ne.styleSpec.light.intensity)}),yt=function(et){function i(tt){et.call(this),this._transitionable=new Ne.Transitionable(mt),this.setLight(tt),this._transitioning=this._transitionable.untransitioned()}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(et,tt){if(void 0===tt&&(tt={}),!this._validate(Ne.validateLight,et,tt))for(var nt in et){var rt=et[nt];Ne.endsWith(nt,"-transition")?this._transitionable.setTransition(nt.slice(0,-"-transition".length),rt):this._transitionable.setValue(nt,rt)}},i.prototype.updateTransitions=function(Ne){this._transitioning=this._transitionable.transitioned(Ne,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(Ne){this.properties=this._transitioning.possiblyEvaluate(Ne)},i.prototype._validate=function(et,tt,nt){return(!nt||!1!==nt.validate)&&Ne.emitValidationErrors(this,et.call(Ne.validateStyle,Ne.extend({value:tt,style:{glyphs:!0,sprite:!0},styleSpec:Ne.styleSpec})))},i}(Ne.Evented),T=function(Ne,et){this.width=Ne,this.height=et,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};T.prototype.getDash=function(Ne,et){var tt=Ne.join(",")+String(et);return this.dashEntry[tt]||(this.dashEntry[tt]=this.addDash(Ne,et)),this.dashEntry[tt]},T.prototype.getDashRanges=function(Ne,et,tt){var nt=[],rt=Ne.length%2==1?-Ne[Ne.length-1]*tt:0,it=Ne[0]*tt,ot=!0;nt.push({left:rt,right:it,isDash:ot,zeroLength:0===Ne[0]});for(var at=Ne[0],st=1;st<Ne.length;st++){var ct=Ne[st];nt.push({left:rt=at*tt,right:it=(at+=ct)*tt,isDash:ot=!ot,zeroLength:0===ct})}return nt},T.prototype.addRoundDash=function(Ne,et,tt){for(var nt=et/2,rt=-tt;rt<=tt;rt++)for(var it=this.width*(this.nextRow+tt+rt),ot=0,at=Ne[ot],st=0;st<this.width;st++){st/at.right>1&&(at=Ne[++ot]);var ct=Math.abs(st-at.left),pt=Math.abs(st-at.right),dt=Math.min(ct,pt),ft=void 0,mt=rt/tt*(nt+1);if(at.isDash){var yt=nt-Math.abs(mt);ft=Math.sqrt(dt*dt+yt*yt)}else ft=nt-Math.sqrt(dt*dt+mt*mt);this.data[it+st]=Math.max(0,Math.min(255,ft+128))}},T.prototype.addRegularDash=function(Ne){for(var et=Ne.length-1;et>=0;--et){var tt=Ne[et],nt=Ne[et+1];tt.zeroLength?Ne.splice(et,1):nt&&nt.isDash===tt.isDash&&(nt.left=tt.left,Ne.splice(et,1))}var rt=Ne[0],it=Ne[Ne.length-1];rt.isDash===it.isDash&&(rt.left=it.left-this.width,it.right=rt.right+this.width);for(var ot=this.width*this.nextRow,at=0,st=Ne[at],ct=0;ct<this.width;ct++){ct/st.right>1&&(st=Ne[++at]);var pt=Math.abs(ct-st.left),dt=Math.abs(ct-st.right),ft=Math.min(pt,dt);this.data[ot+ct]=Math.max(0,Math.min(255,(st.isDash?ft:-ft)+128))}},T.prototype.addDash=function(et,tt){var nt=tt?7:0,rt=2*nt+1;if(this.nextRow+rt>this.height)return Ne.warnOnce("LineAtlas out of space"),null;for(var it=0,ot=0;ot<et.length;ot++)it+=et[ot];if(0!==it){var at=this.width/it,st=this.getDashRanges(et,this.width,at);tt?this.addRoundDash(st,at,nt):this.addRegularDash(st)}var ct={y:(this.nextRow+nt+.5)/this.height,height:2*nt/this.height,width:it};return this.nextRow+=rt,this.dirty=!0,ct},T.prototype.bind=function(Ne){var et=Ne.gl;this.texture?(et.bindTexture(et.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,et.texSubImage2D(et.TEXTURE_2D,0,0,0,this.width,this.height,et.ALPHA,et.UNSIGNED_BYTE,this.data))):(this.texture=et.createTexture(),et.bindTexture(et.TEXTURE_2D,this.texture),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_WRAP_S,et.REPEAT),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_WRAP_T,et.REPEAT),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MIN_FILTER,et.LINEAR),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MAG_FILTER,et.LINEAR),et.texImage2D(et.TEXTURE_2D,0,et.ALPHA,this.width,this.height,0,et.ALPHA,et.UNSIGNED_BYTE,this.data))};var vt=function e(et,tt){this.workerPool=et,this.actors=[],this.currentActor=0,this.id=Ne.uniqueId();for(var nt=this.workerPool.acquire(this.id),rt=0;rt<nt.length;rt++){var it=new e.Actor(nt[rt],tt,this.id);it.name="Worker "+rt,this.actors.push(it)}};function I(et,tt,nt){var r=function(rt,it){if(rt)return nt(rt);if(it){var ot=Ne.pick(Ne.extend(it,et),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);it.vector_layers&&(ot.vectorLayers=it.vector_layers,ot.vectorLayerIds=ot.vectorLayers.map((function(Ne){return Ne.id}))),ot.tiles=tt.canonicalizeTileset(ot,et.url),nt(null,ot)}};return et.url?Ne.getJSON(tt.transformRequest(tt.normalizeSourceURL(et.url),Ne.ResourceType.Source),r):Ne.browser.frame((function(){return r(null,et)}))}vt.prototype.broadcast=function(et,tt,nt){Ne.asyncAll(this.actors,(function(Ne,nt){Ne.send(et,tt,nt)}),nt=nt||function(){})},vt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},vt.prototype.remove=function(){this.actors.forEach((function(Ne){Ne.remove()})),this.actors=[],this.workerPool.release(this.id)},vt.Actor=Ne.Actor;var P=function(et,tt,nt){this.bounds=Ne.LngLatBounds.convert(this.validateBounds(et)),this.minzoom=tt||0,this.maxzoom=nt||24};P.prototype.validateBounds=function(Ne){return Array.isArray(Ne)&&4===Ne.length?[Math.max(-180,Ne[0]),Math.max(-90,Ne[1]),Math.min(180,Ne[2]),Math.min(90,Ne[3])]:[-180,-90,180,90]},P.prototype.contains=function(et){var tt=Math.pow(2,et.z),nt=Math.floor(Ne.mercatorXfromLng(this.bounds.getWest())*tt),rt=Math.floor(Ne.mercatorYfromLat(this.bounds.getNorth())*tt),it=Math.ceil(Ne.mercatorXfromLng(this.bounds.getEast())*tt),ot=Math.ceil(Ne.mercatorYfromLat(this.bounds.getSouth())*tt);return et.x>=nt&&et.x<it&&et.y>=rt&&et.y<ot};var Ot=function(et){function i(tt,nt,rt,it){if(et.call(this),this.id=tt,this.dispatcher=rt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,Ne.extend(this,Ne.pick(nt,["url","scheme","tileSize","promoteId"])),this._options=Ne.extend({type:"vector"},nt),this._collectResourceTiming=nt.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(it)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this._loaded=!1,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(tt,nt){et._tileJSONRequest=null,et._loaded=!0,tt?et.fire(new Ne.ErrorEvent(tt)):nt&&(Ne.extend(et,nt),nt.bounds&&(et.tileBounds=new P(nt.bounds,et.minzoom,et.maxzoom)),Ne.postTurnstileEvent(nt.tiles,et.map._requestManager._customAccessToken),Ne.postMapLoadEvent(nt.tiles,et.map._getMapId(),et.map._requestManager._skuToken,et.map._requestManager._customAccessToken),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"metadata"})),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(Ne){return!this.tileBounds||this.tileBounds.contains(Ne.canonical)},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return Ne.extend({},this._options)},i.prototype.loadTile=function(et,tt){var nt=this.map._requestManager.normalizeTileURL(et.tileID.canonical.url(this.tiles,this.scheme)),rt={request:this.map._requestManager.transformRequest(nt,Ne.ResourceType.Tile),uid:et.uid,tileID:et.tileID,zoom:et.tileID.overscaledZ,tileSize:this.tileSize*et.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:Ne.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(nt,rt){return delete et.request,et.aborted?tt(null):nt&&404!==nt.status?tt(nt):(rt&&rt.resourceTiming&&(et.resourceTiming=rt.resourceTiming),this.map._refreshExpiredTiles&&rt&&et.setExpiryData(rt),et.loadVectorData(rt,this.map.painter),Ne.cacheEntryPossiblyAdded(this.dispatcher),tt(null),void(et.reloadCallback&&(this.loadTile(et,et.reloadCallback),et.reloadCallback=null)))}rt.request.collectResourceTiming=this._collectResourceTiming,et.actor&&"expired"!==et.state?"loading"===et.state?et.reloadCallback=tt:et.request=et.actor.send("reloadTile",rt,a.bind(this)):(et.actor=this.dispatcher.getActor(),et.request=et.actor.send("loadTile",rt,a.bind(this)))},i.prototype.abortTile=function(Ne){Ne.request&&(Ne.request.cancel(),delete Ne.request),Ne.actor&&Ne.actor.send("abortTile",{uid:Ne.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(Ne){Ne.unloadVectorData(),Ne.actor&&Ne.actor.send("removeTile",{uid:Ne.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),Dt=function(et){function i(tt,nt,rt,it){et.call(this),this.id=tt,this.dispatcher=rt,this.setEventedParent(it),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=Ne.extend({type:"raster"},nt),Ne.extend(this,Ne.pick(nt,["url","scheme","tileSize"]))}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this._loaded=!1,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(tt,nt){et._tileJSONRequest=null,et._loaded=!0,tt?et.fire(new Ne.ErrorEvent(tt)):nt&&(Ne.extend(et,nt),nt.bounds&&(et.tileBounds=new P(nt.bounds,et.minzoom,et.maxzoom)),Ne.postTurnstileEvent(nt.tiles),Ne.postMapLoadEvent(nt.tiles,et.map._getMapId(),et.map._requestManager._skuToken),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"metadata"})),et.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return Ne.extend({},this._options)},i.prototype.hasTile=function(Ne){return!this.tileBounds||this.tileBounds.contains(Ne.canonical)},i.prototype.loadTile=function(et,tt){var nt=this,rt=this.map._requestManager.normalizeTileURL(et.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);et.request=Ne.getImage(this.map._requestManager.transformRequest(rt,Ne.ResourceType.Tile),(function(rt,it){if(delete et.request,et.aborted)et.state="unloaded",tt(null);else if(rt)et.state="errored",tt(rt);else if(it){nt.map._refreshExpiredTiles&&et.setExpiryData(it),delete it.cacheControl,delete it.expires;var ot=nt.map.painter.context,at=ot.gl;et.texture=nt.map.painter.getTileTexture(it.width),et.texture?et.texture.update(it,{useMipmap:!0}):(et.texture=new Ne.Texture(ot,it,at.RGBA,{useMipmap:!0}),et.texture.bind(at.LINEAR,at.CLAMP_TO_EDGE,at.LINEAR_MIPMAP_NEAREST),ot.extTextureFilterAnisotropic&&at.texParameterf(at.TEXTURE_2D,ot.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ot.extTextureFilterAnisotropicMax)),et.state="loaded",Ne.cacheEntryPossiblyAdded(nt.dispatcher),tt(null)}}))},i.prototype.abortTile=function(Ne,et){Ne.request&&(Ne.request.cancel(),delete Ne.request),et()},i.prototype.unloadTile=function(Ne,et){Ne.texture&&this.map.painter.saveTileTexture(Ne.texture),et()},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),Rt=function(et){function i(tt,nt,rt,it){et.call(this,tt,nt,rt,it),this.type="raster-dem",this.maxzoom=22,this._options=Ne.extend({type:"raster-dem"},nt),this.encoding=nt.encoding||"mapbox"}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(et,tt){var nt=this.map._requestManager.normalizeTileURL(et.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function r(Ne,nt){Ne&&(et.state="errored",tt(Ne)),nt&&(et.dem=nt,et.needsHillshadePrepare=!0,et.state="loaded",tt(null))}et.request=Ne.getImage(this.map._requestManager.transformRequest(nt,Ne.ResourceType.Tile),function(nt,rt){if(delete et.request,et.aborted)et.state="unloaded",tt(null);else if(nt)et.state="errored",tt(nt);else if(rt){this.map._refreshExpiredTiles&&et.setExpiryData(rt),delete rt.cacheControl,delete rt.expires;var it=Ne.window.ImageBitmap&&rt instanceof Ne.window.ImageBitmap&&Ne.offscreenCanvasSupported()?rt:Ne.browser.getImageData(rt,1),ot={uid:et.uid,coord:et.tileID,source:this.id,rawImageData:it,encoding:this.encoding};et.actor&&"expired"!==et.state||(et.actor=this.dispatcher.getActor(),et.actor.send("loadDEMTile",ot,r.bind(this)))}}.bind(this)),et.neighboringTiles=this._getNeighboringTiles(et.tileID)},i.prototype._getNeighboringTiles=function(et){var tt=et.canonical,nt=Math.pow(2,tt.z),rt=(tt.x-1+nt)%nt,it=0===tt.x?et.wrap-1:et.wrap,ot=(tt.x+1+nt)%nt,at=tt.x+1===nt?et.wrap+1:et.wrap,st={};return st[new Ne.OverscaledTileID(et.overscaledZ,it,tt.z,rt,tt.y).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,at,tt.z,ot,tt.y).key]={backfilled:!1},tt.y>0&&(st[new Ne.OverscaledTileID(et.overscaledZ,it,tt.z,rt,tt.y-1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,et.wrap,tt.z,tt.x,tt.y-1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,at,tt.z,ot,tt.y-1).key]={backfilled:!1}),tt.y+1<nt&&(st[new Ne.OverscaledTileID(et.overscaledZ,it,tt.z,rt,tt.y+1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,et.wrap,tt.z,tt.x,tt.y+1).key]={backfilled:!1},st[new Ne.OverscaledTileID(et.overscaledZ,at,tt.z,ot,tt.y+1).key]={backfilled:!1}),st},i.prototype.unloadTile=function(Ne){Ne.demTexture&&this.map.painter.saveTileTexture(Ne.demTexture),Ne.fbo&&(Ne.fbo.destroy(),delete Ne.fbo),Ne.dem&&delete Ne.dem,delete Ne.neighboringTiles,Ne.state="unloaded",Ne.actor&&Ne.actor.send("removeDEMTile",{uid:Ne.uid,source:this.id})},i}(Dt),Bt=function(et){function i(tt,nt,rt,it){et.call(this),this.id=tt,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=rt.getActor(),this.setEventedParent(it),this._data=nt.data,this._options=Ne.extend({},nt),this._collectResourceTiming=nt.collectResourceTiming,this._resourceTiming=[],void 0!==nt.maxzoom&&(this.maxzoom=nt.maxzoom),nt.type&&(this.type=nt.type),nt.attribution&&(this.attribution=nt.attribution),this.promoteId=nt.promoteId;var ot=Ne.EXTENT/this.tileSize;this.workerOptions=Ne.extend({source:this.id,cluster:nt.cluster||!1,geojsonVtOptions:{buffer:(void 0!==nt.buffer?nt.buffer:128)*ot,tolerance:(void 0!==nt.tolerance?nt.tolerance:.375)*ot,extent:Ne.EXTENT,maxZoom:this.maxzoom,lineMetrics:nt.lineMetrics||!1,generateId:nt.generateId||!1},superclusterOptions:{maxZoom:void 0!==nt.clusterMaxZoom?Math.min(nt.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,nt.clusterMinPoints||2),extent:Ne.EXTENT,radius:(nt.clusterRadius||50)*ot,log:!1,generateId:nt.generateId||!1},clusterProperties:nt.clusterProperties},nt.workerOptions)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(tt){if(tt)et.fire(new Ne.ErrorEvent(tt));else{var nt={dataType:"source",sourceDataType:"metadata"};et._collectResourceTiming&&et._resourceTiming&&et._resourceTiming.length>0&&(nt.resourceTiming=et._resourceTiming,et._resourceTiming=[]),et.fire(new Ne.Event("data",nt))}}))},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.setData=function(et){var tt=this;return this._data=et,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(et){if(et)tt.fire(new Ne.ErrorEvent(et));else{var nt={dataType:"source",sourceDataType:"content"};tt._collectResourceTiming&&tt._resourceTiming&&tt._resourceTiming.length>0&&(nt.resourceTiming=tt._resourceTiming,tt._resourceTiming=[]),tt.fire(new Ne.Event("data",nt))}})),this},i.prototype.getClusterExpansionZoom=function(Ne,et){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:Ne,source:this.id},et),this},i.prototype.getClusterChildren=function(Ne,et){return this.actor.send("geojson.getClusterChildren",{clusterId:Ne,source:this.id},et),this},i.prototype.getClusterLeaves=function(Ne,et,tt,nt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:Ne,limit:et,offset:tt},nt),this},i.prototype._updateWorkerData=function(et){var tt=this;this._loaded=!1;var nt=Ne.extend({},this.workerOptions),rt=this._data;"string"==typeof rt?(nt.request=this.map._requestManager.transformRequest(Ne.browser.resolveURL(rt),Ne.ResourceType.Source),nt.request.collectResourceTiming=this._collectResourceTiming):nt.data=JSON.stringify(rt),this.actor.send(this.type+".loadData",nt,(function(Ne,rt){tt._removed||rt&&rt.abandoned||(tt._loaded=!0,rt&&rt.resourceTiming&&rt.resourceTiming[tt.id]&&(tt._resourceTiming=rt.resourceTiming[tt.id].slice(0)),tt.actor.send(tt.type+".coalesce",{source:nt.source},null),et(Ne))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(et,tt){var nt=this,rt=et.actor?"reloadTile":"loadTile";et.actor=this.actor,et.request=this.actor.send(rt,{type:this.type,uid:et.uid,tileID:et.tileID,zoom:et.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:Ne.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(Ne,it){return delete et.request,et.unloadVectorData(),et.aborted?tt(null):Ne?tt(Ne):(et.loadVectorData(it,nt.map.painter,"reloadTile"===rt),tt(null))}))},i.prototype.abortTile=function(Ne){Ne.request&&(Ne.request.cancel(),delete Ne.request),Ne.aborted=!0},i.prototype.unloadTile=function(Ne){Ne.unloadVectorData(),this.actor.send("removeTile",{uid:Ne.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return Ne.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),rn=Ne.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),vn=function(et){function i(Ne,tt,nt,rt){et.call(this),this.id=Ne,this.dispatcher=nt,this.coordinates=tt.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(rt),this.options=tt}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(et,tt){var nt=this;this._loaded=!1,this.fire(new Ne.Event("dataloading",{dataType:"source"})),this.url=this.options.url,Ne.getImage(this.map._requestManager.transformRequest(this.url,Ne.ResourceType.Image),(function(rt,it){nt._loaded=!0,rt?nt.fire(new Ne.ErrorEvent(rt)):it&&(nt.image=it,et&&(nt.coordinates=et),tt&&tt(),nt._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(Ne){var et=this;return this.image&&Ne.url?(this.options.url=Ne.url,this.load(Ne.coordinates,(function(){et.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(Ne){this.map=Ne,this.load()},i.prototype.setCoordinates=function(et){var tt=this;this.coordinates=et;var nt=et.map(Ne.MercatorCoordinate.fromLngLat);this.tileID=function(et){for(var tt=1/0,nt=1/0,rt=-1/0,it=-1/0,ot=0,at=et;ot<at.length;ot+=1){var st=at[ot];tt=Math.min(tt,st.x),nt=Math.min(nt,st.y),rt=Math.max(rt,st.x),it=Math.max(it,st.y)}var ct=Math.max(rt-tt,it-nt),pt=Math.max(0,Math.floor(-Math.log(ct)/Math.LN2)),dt=Math.pow(2,pt);return new Ne.CanonicalTileID(pt,Math.floor((tt+rt)/2*dt),Math.floor((nt+it)/2*dt))}(nt),this.minzoom=this.maxzoom=this.tileID.z;var rt=nt.map((function(Ne){return tt.tileID.getTilePoint(Ne)._round()}));return this._boundsArray=new Ne.StructArrayLayout4i8,this._boundsArray.emplaceBack(rt[0].x,rt[0].y,0,0),this._boundsArray.emplaceBack(rt[1].x,rt[1].y,Ne.EXTENT,0),this._boundsArray.emplaceBack(rt[3].x,rt[3].y,0,Ne.EXTENT),this._boundsArray.emplaceBack(rt[2].x,rt[2].y,Ne.EXTENT,Ne.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new Ne.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var et=this.map.painter.context,tt=et.gl;for(var nt in this.boundsBuffer||(this.boundsBuffer=et.createVertexBuffer(this._boundsArray,rn.members)),this.boundsSegments||(this.boundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Ne.Texture(et,this.image,tt.RGBA),this.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)),this.tiles){var rt=this.tiles[nt];"loaded"!==rt.state&&(rt.state="loaded",rt.texture=this.texture)}}},i.prototype.loadTile=function(Ne,et){this.tileID&&this.tileID.equals(Ne.tileID.canonical)?(this.tiles[String(Ne.tileID.wrap)]=Ne,Ne.buckets={},et(null)):(Ne.state="errored",et(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(Ne.Evented),bn=function(et){function i(Ne,tt,nt,rt){et.call(this,Ne,tt,nt,rt),this.roundZoom=!0,this.type="video",this.options=tt}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){var et=this;this._loaded=!1;var tt=this.options;this.urls=[];for(var nt=0,rt=tt.urls;nt<rt.length;nt+=1)this.urls.push(this.map._requestManager.transformRequest(rt[nt],Ne.ResourceType.Source).url);Ne.getVideo(this.urls,(function(tt,nt){et._loaded=!0,tt?et.fire(new Ne.ErrorEvent(tt)):nt&&(et.video=nt,et.video.loop=!0,et.video.addEventListener("playing",(function(){et.map.triggerRepaint()})),et.map&&et.video.play(),et._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(et){if(this.video){var tt=this.video.seekable;et<tt.start(0)||et>tt.end(0)?this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+tt.start(0)+" and "+tt.end(0)+"-second mark."))):this.video.currentTime=et}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(Ne){this.map||(this.map=Ne,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var et=this.map.painter.context,tt=et.gl;for(var nt in this.boundsBuffer||(this.boundsBuffer=et.createVertexBuffer(this._boundsArray,rn.members)),this.boundsSegments||(this.boundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),tt.texSubImage2D(tt.TEXTURE_2D,0,0,0,tt.RGBA,tt.UNSIGNED_BYTE,this.video)):(this.texture=new Ne.Texture(et,this.video,tt.RGBA),this.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)),this.tiles){var rt=this.tiles[nt];"loaded"!==rt.state&&(rt.state="loaded",rt.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(vn),Tn=function(et){function i(tt,nt,rt,it){et.call(this,tt,nt,rt,it),nt.coordinates?Array.isArray(nt.coordinates)&&4===nt.coordinates.length&&!nt.coordinates.some((function(Ne){return!Array.isArray(Ne)||2!==Ne.length||Ne.some((function(Ne){return"number"!=typeof Ne}))}))||this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'missing required property "coordinates"'))),nt.animate&&"boolean"!=typeof nt.animate&&this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'optional "animate" property must be a boolean value'))),nt.canvas?"string"==typeof nt.canvas||nt.canvas instanceof Ne.window.HTMLCanvasElement||this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new Ne.ErrorEvent(new Ne.ValidationError("sources."+tt,null,'missing required property "canvas"'))),this.options=nt,this.animate=void 0===nt.animate||nt.animate}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof Ne.window.HTMLCanvasElement?this.options.canvas:Ne.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new Ne.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(Ne){this.map=Ne,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var et=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,et=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,et=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var tt=this.map.painter.context,nt=tt.gl;for(var rt in this.boundsBuffer||(this.boundsBuffer=tt.createVertexBuffer(this._boundsArray,rn.members)),this.boundsSegments||(this.boundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(et||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Ne.Texture(tt,this.canvas,nt.RGBA,{premultiply:!0}),this.tiles){var it=this.tiles[rt];"loaded"!==it.state&&(it.state="loaded",it.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var Ne=0,et=[this.canvas.width,this.canvas.height];Ne<et.length;Ne+=1){var tt=et[Ne];if(isNaN(tt)||tt<=0)return!0}return!1},i}(vn),Cn={vector:Ot,raster:Dt,"raster-dem":Rt,geojson:Bt,video:bn,image:vn,canvas:Tn};function B(et,tt){var nt=Ne.identity([]);return Ne.translate(nt,nt,[1,1,0]),Ne.scale(nt,nt,[.5*et.width,.5*et.height,1]),Ne.multiply(nt,nt,et.calculatePosMatrix(tt.toUnwrapped()))}function O(Ne,et,tt,nt,rt,it){var ot=function(Ne,et,tt){if(Ne)for(var nt=0,rt=Ne;nt<rt.length;nt+=1){var it=et[rt[nt]];if(it&&it.source===tt&&"fill-extrusion"===it.type)return!0}else for(var ot in et){var at=et[ot];if(at.source===tt&&"fill-extrusion"===at.type)return!0}return!1}(rt&&rt.layers,et,Ne.id),at=it.maxPitchScaleFactor(),st=Ne.tilesIn(nt,at,ot);st.sort(F);for(var ct=[],pt=0,dt=st;pt<dt.length;pt+=1){var ft=dt[pt];ct.push({wrappedTileID:ft.tileID.wrapped().key,queryResults:ft.tile.queryRenderedFeatures(et,tt,Ne._state,ft.queryGeometry,ft.cameraQueryGeometry,ft.scale,rt,it,at,B(Ne.transform,ft.tileID))})}var mt=function(Ne){for(var et={},tt={},nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt],ot=it.queryResults,at=it.wrappedTileID,st=tt[at]=tt[at]||{};for(var ct in ot)for(var pt=ot[ct],dt=st[ct]=st[ct]||{},ft=et[ct]=et[ct]||[],mt=0,yt=pt;mt<yt.length;mt+=1){var vt=yt[mt];dt[vt.featureIndex]||(dt[vt.featureIndex]=!0,ft.push(vt))}}return et}(ct);for(var yt in mt)mt[yt].forEach((function(et){var tt=et.feature,nt=Ne.getFeatureState(tt.layer["source-layer"],tt.id);tt.source=tt.layer.source,tt.layer["source-layer"]&&(tt.sourceLayer=tt.layer["source-layer"]),tt.state=nt}));return mt}function F(Ne,et){var tt=Ne.tileID,nt=et.tileID;return tt.overscaledZ-nt.overscaledZ||tt.canonical.y-nt.canonical.y||tt.wrap-nt.wrap||tt.canonical.x-nt.canonical.x}var U=function(Ne,et){this.max=Ne,this.onRemove=et,this.reset()};U.prototype.reset=function(){for(var Ne in this.data)for(var et=0,tt=this.data[Ne];et<tt.length;et+=1){var nt=tt[et];nt.timeout&&clearTimeout(nt.timeout),this.onRemove(nt.value)}return this.data={},this.order=[],this},U.prototype.add=function(Ne,et,tt){var nt=this,rt=Ne.wrapped().key;void 0===this.data[rt]&&(this.data[rt]=[]);var it={value:et,timeout:void 0};if(void 0!==tt&&(it.timeout=setTimeout((function(){nt.remove(Ne,it)}),tt)),this.data[rt].push(it),this.order.push(rt),this.order.length>this.max){var ot=this._getAndRemoveByKey(this.order[0]);ot&&this.onRemove(ot)}return this},U.prototype.has=function(Ne){return Ne.wrapped().key in this.data},U.prototype.getAndRemove=function(Ne){return this.has(Ne)?this._getAndRemoveByKey(Ne.wrapped().key):null},U.prototype._getAndRemoveByKey=function(Ne){var et=this.data[Ne].shift();return et.timeout&&clearTimeout(et.timeout),0===this.data[Ne].length&&delete this.data[Ne],this.order.splice(this.order.indexOf(Ne),1),et.value},U.prototype.getByKey=function(Ne){var et=this.data[Ne];return et?et[0].value:null},U.prototype.get=function(Ne){return this.has(Ne)?this.data[Ne.wrapped().key][0].value:null},U.prototype.remove=function(Ne,et){if(!this.has(Ne))return this;var tt=Ne.wrapped().key,nt=void 0===et?0:this.data[tt].indexOf(et),rt=this.data[tt][nt];return this.data[tt].splice(nt,1),rt.timeout&&clearTimeout(rt.timeout),0===this.data[tt].length&&delete this.data[tt],this.onRemove(rt.value),this.order.splice(this.order.indexOf(tt),1),this},U.prototype.setMaxSize=function(Ne){for(this.max=Ne;this.order.length>this.max;){var et=this._getAndRemoveByKey(this.order[0]);et&&this.onRemove(et)}return this},U.prototype.filter=function(Ne){var et=[];for(var tt in this.data)for(var nt=0,rt=this.data[tt];nt<rt.length;nt+=1){var it=rt[nt];Ne(it.value)||et.push(it)}for(var ot=0,at=et;ot<at.length;ot+=1){var st=at[ot];this.remove(st.value.tileID,st)}};var N=function(Ne,et,tt){this.context=Ne;var nt=Ne.gl;this.buffer=nt.createBuffer(),this.dynamicDraw=Boolean(tt),this.context.unbindVAO(),Ne.bindElementBuffer.set(this.buffer),nt.bufferData(nt.ELEMENT_ARRAY_BUFFER,et.arrayBuffer,this.dynamicDraw?nt.DYNAMIC_DRAW:nt.STATIC_DRAW),this.dynamicDraw||delete et.arrayBuffer};N.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},N.prototype.updateData=function(Ne){var et=this.context.gl;this.context.unbindVAO(),this.bind(),et.bufferSubData(et.ELEMENT_ARRAY_BUFFER,0,Ne.arrayBuffer)},N.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var In={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},j=function(Ne,et,tt,nt){this.length=et.length,this.attributes=tt,this.itemSize=et.bytesPerElement,this.dynamicDraw=nt,this.context=Ne;var rt=Ne.gl;this.buffer=rt.createBuffer(),Ne.bindVertexBuffer.set(this.buffer),rt.bufferData(rt.ARRAY_BUFFER,et.arrayBuffer,this.dynamicDraw?rt.DYNAMIC_DRAW:rt.STATIC_DRAW),this.dynamicDraw||delete et.arrayBuffer};j.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},j.prototype.updateData=function(Ne){var et=this.context.gl;this.bind(),et.bufferSubData(et.ARRAY_BUFFER,0,Ne.arrayBuffer)},j.prototype.enableAttributes=function(Ne,et){for(var tt=0;tt<this.attributes.length;tt++){var nt=et.attributes[this.attributes[tt].name];void 0!==nt&&Ne.enableVertexAttribArray(nt)}},j.prototype.setVertexAttribPointers=function(Ne,et,tt){for(var nt=0;nt<this.attributes.length;nt++){var rt=this.attributes[nt],it=et.attributes[rt.name];void 0!==it&&Ne.vertexAttribPointer(it,rt.components,Ne[In[rt.type]],!1,this.itemSize,rt.offset+this.itemSize*(tt||0))}},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var q=function(Ne){this.gl=Ne.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(Ne){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var Ln=function(et){function i(){et.apply(this,arguments)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getDefault=function(){return Ne.Color.transparent},i.prototype.set=function(Ne){var et=this.current;(Ne.r!==et.r||Ne.g!==et.g||Ne.b!==et.b||Ne.a!==et.a||this.dirty)&&(this.gl.clearColor(Ne.r,Ne.g,Ne.b,Ne.a),this.current=Ne,this.dirty=!1)},i}(q),Mn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.clearDepth(Ne),this.current=Ne,this.dirty=!1)},e}(q),zn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.clearStencil(Ne),this.current=Ne,this.dirty=!1)},e}(q),Fn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||Ne[2]!==et[2]||Ne[3]!==et[3]||this.dirty)&&(this.gl.colorMask(Ne[0],Ne[1],Ne[2],Ne[3]),this.current=Ne,this.dirty=!1)},e}(q),Bn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.depthMask(Ne),this.current=Ne,this.dirty=!1)},e}(q),Nn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.stencilMask(Ne),this.current=Ne,this.dirty=!1)},e}(q),Vn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(Ne){var et=this.current;(Ne.func!==et.func||Ne.ref!==et.ref||Ne.mask!==et.mask||this.dirty)&&(this.gl.stencilFunc(Ne.func,Ne.ref,Ne.mask),this.current=Ne,this.dirty=!1)},e}(q),Wn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){var Ne=this.gl;return[Ne.KEEP,Ne.KEEP,Ne.KEEP]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||Ne[2]!==et[2]||this.dirty)&&(this.gl.stencilOp(Ne[0],Ne[1],Ne[2]),this.current=Ne,this.dirty=!1)},e}(q),$n=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.STENCIL_TEST):et.disable(et.STENCIL_TEST),this.current=Ne,this.dirty=!1}},e}(q),Yn=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||this.dirty)&&(this.gl.depthRange(Ne[0],Ne[1]),this.current=Ne,this.dirty=!1)},e}(q),er=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.DEPTH_TEST):et.disable(et.DEPTH_TEST),this.current=Ne,this.dirty=!1}},e}(q),rr=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.depthFunc(Ne),this.current=Ne,this.dirty=!1)},e}(q),vr=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.BLEND):et.disable(et.BLEND),this.current=Ne,this.dirty=!1}},e}(q),wr=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){var Ne=this.gl;return[Ne.ONE,Ne.ZERO]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||this.dirty)&&(this.gl.blendFunc(Ne[0],Ne[1]),this.current=Ne,this.dirty=!1)},e}(q),Sr=function(et){function i(){et.apply(this,arguments)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getDefault=function(){return Ne.Color.transparent},i.prototype.set=function(Ne){var et=this.current;(Ne.r!==et.r||Ne.g!==et.g||Ne.b!==et.b||Ne.a!==et.a||this.dirty)&&(this.gl.blendColor(Ne.r,Ne.g,Ne.b,Ne.a),this.current=Ne,this.dirty=!1)},i}(q),ii=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.blendEquation(Ne),this.current=Ne,this.dirty=!1)},e}(q),qi=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;Ne?et.enable(et.CULL_FACE):et.disable(et.CULL_FACE),this.current=Ne,this.dirty=!1}},e}(q),uo=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.cullFace(Ne),this.current=Ne,this.dirty=!1)},e}(q),po=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.frontFace(Ne),this.current=Ne,this.dirty=!1)},e}(q),vo=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.useProgram(Ne),this.current=Ne,this.dirty=!1)},e}(q),So=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(Ne){(Ne!==this.current||this.dirty)&&(this.gl.activeTexture(Ne),this.current=Ne,this.dirty=!1)},e}(q),ta=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){var Ne=this.gl;return[0,0,Ne.drawingBufferWidth,Ne.drawingBufferHeight]},e.prototype.set=function(Ne){var et=this.current;(Ne[0]!==et[0]||Ne[1]!==et[1]||Ne[2]!==et[2]||Ne[3]!==et[3]||this.dirty)&&(this.gl.viewport(Ne[0],Ne[1],Ne[2],Ne[3]),this.current=Ne,this.dirty=!1)},e}(q),na=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindFramebuffer(et.FRAMEBUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(q),ia=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindRenderbuffer(et.RENDERBUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(q),sa=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindTexture(et.TEXTURE_2D,Ne),this.current=Ne,this.dirty=!1}},e}(q),la=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.bindBuffer(et.ARRAY_BUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(q),pa=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){var et=this.gl;et.bindBuffer(et.ELEMENT_ARRAY_BUFFER,Ne),this.current=Ne,this.dirty=!1},e}(q),fa=function(Ne){function e(et){Ne.call(this,et),this.vao=et.extVertexArrayObject}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(Ne){this.vao&&(Ne!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(Ne),this.current=Ne,this.dirty=!1)},e}(q),ga=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.pixelStorei(et.UNPACK_ALIGNMENT,Ne),this.current=Ne,this.dirty=!1}},e}(q),va=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ne),this.current=Ne,this.dirty=!1}},e}(q),_a=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){var et=this.gl;et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,Ne),this.current=Ne,this.dirty=!1}},e}(q),wa=function(Ne){function e(et,tt){Ne.call(this,et),this.context=et,this.parent=tt}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(q),Aa=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var et=this.gl;et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,Ne,0),this.current=Ne,this.dirty=!1}},e}(wa),os=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.set=function(Ne){if(Ne!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var et=this.gl;et.framebufferRenderbuffer(et.FRAMEBUFFER,et.DEPTH_ATTACHMENT,et.RENDERBUFFER,Ne),this.current=Ne,this.dirty=!1}},e}(wa),Et=function(Ne,et,tt,nt){this.context=Ne,this.width=et,this.height=tt;var rt=this.framebuffer=Ne.gl.createFramebuffer();this.colorAttachment=new Aa(Ne,rt),nt&&(this.depthAttachment=new os(Ne,rt))};Et.prototype.destroy=function(){var Ne=this.context.gl,et=this.colorAttachment.get();if(et&&Ne.deleteTexture(et),this.depthAttachment){var tt=this.depthAttachment.get();tt&&Ne.deleteRenderbuffer(tt)}Ne.deleteFramebuffer(this.framebuffer)};var It=function(Ne,et,tt){this.func=Ne,this.mask=et,this.range=tt};It.ReadOnly=!1,It.ReadWrite=!0,It.disabled=new It(519,It.ReadOnly,[0,1]);var Pt=function(Ne,et,tt,nt,rt,it){this.test=Ne,this.ref=et,this.mask=tt,this.fail=nt,this.depthFail=rt,this.pass=it};Pt.disabled=new Pt({func:519,mask:0},0,0,7680,7680,7680);var St=function(Ne,et,tt){this.blendFunction=Ne,this.blendColor=et,this.mask=tt};St.disabled=new St(St.Replace=[1,0],Ne.Color.transparent,[!1,!1,!1,!1]),St.unblended=new St(St.Replace,Ne.Color.transparent,[!0,!0,!0,!0]),St.alphaBlended=new St([1,771],Ne.Color.transparent,[!0,!0,!0,!0]);var Ct=function(Ne,et,tt){this.enable=Ne,this.mode=et,this.frontFace=tt};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var zt=function(Ne){this.gl=Ne,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ln(this),this.clearDepth=new Mn(this),this.clearStencil=new zn(this),this.colorMask=new Fn(this),this.depthMask=new Bn(this),this.stencilMask=new Nn(this),this.stencilFunc=new Vn(this),this.stencilOp=new Wn(this),this.stencilTest=new $n(this),this.depthRange=new Yn(this),this.depthTest=new er(this),this.depthFunc=new rr(this),this.blend=new vr(this),this.blendFunc=new wr(this),this.blendColor=new Sr(this),this.blendEquation=new ii(this),this.cullFace=new qi(this),this.cullFaceSide=new uo(this),this.frontFace=new po(this),this.program=new vo(this),this.activeTexture=new So(this),this.viewport=new ta(this),this.bindFramebuffer=new na(this),this.bindRenderbuffer=new ia(this),this.bindTexture=new sa(this),this.bindVertexBuffer=new la(this),this.bindElementBuffer=new pa(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new fa(this),this.pixelStoreUnpack=new ga(this),this.pixelStoreUnpackPremultiplyAlpha=new va(this),this.pixelStoreUnpackFlipY=new _a(this),this.extTextureFilterAnisotropic=Ne.getExtension("EXT_texture_filter_anisotropic")||Ne.getExtension("MOZ_EXT_texture_filter_anisotropic")||Ne.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Ne.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Ne.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Ne.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Ne.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Ne.getExtension("EXT_disjoint_timer_query")};zt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},zt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},zt.prototype.createIndexBuffer=function(Ne,et){return new N(this,Ne,et)},zt.prototype.createVertexBuffer=function(Ne,et,tt){return new j(this,Ne,et,tt)},zt.prototype.createRenderbuffer=function(Ne,et,tt){var nt=this.gl,rt=nt.createRenderbuffer();return this.bindRenderbuffer.set(rt),nt.renderbufferStorage(nt.RENDERBUFFER,Ne,et,tt),this.bindRenderbuffer.set(null),rt},zt.prototype.createFramebuffer=function(Ne,et,tt){return new Et(this,Ne,et,tt)},zt.prototype.clear=function(Ne){var et=Ne.color,tt=Ne.depth,nt=this.gl,rt=0;et&&(rt|=nt.COLOR_BUFFER_BIT,this.clearColor.set(et),this.colorMask.set([!0,!0,!0,!0])),void 0!==tt&&(rt|=nt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(tt),this.depthMask.set(!0)),nt.clear(rt)},zt.prototype.setCullFace=function(Ne){!1===Ne.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Ne.mode),this.frontFace.set(Ne.frontFace))},zt.prototype.setDepthMode=function(Ne){Ne.func!==this.gl.ALWAYS||Ne.mask?(this.depthTest.set(!0),this.depthFunc.set(Ne.func),this.depthMask.set(Ne.mask),this.depthRange.set(Ne.range)):this.depthTest.set(!1)},zt.prototype.setStencilMode=function(Ne){Ne.test.func!==this.gl.ALWAYS||Ne.mask?(this.stencilTest.set(!0),this.stencilMask.set(Ne.mask),this.stencilOp.set([Ne.fail,Ne.depthFail,Ne.pass]),this.stencilFunc.set({func:Ne.test.func,ref:Ne.ref,mask:Ne.test.mask})):this.stencilTest.set(!1)},zt.prototype.setColorMode=function(et){Ne.deepEqual(et.blendFunction,St.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(et.blendFunction),this.blendColor.set(et.blendColor)),this.colorMask.set(et.mask)},zt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var as=function(et){function i(tt,nt,rt){var it=this;et.call(this),this.id=tt,this.dispatcher=rt,this.on("data",(function(Ne){"source"===Ne.dataType&&"metadata"===Ne.sourceDataType&&(it._sourceLoaded=!0),it._sourceLoaded&&!it._paused&&"source"===Ne.dataType&&"content"===Ne.sourceDataType&&(it.reload(),it.transform&&it.update(it.transform))})),this.on("error",(function(){it._sourceErrored=!0})),this._source=function(et,tt,nt,rt){var it=new Cn[tt.type](et,tt,nt,rt);if(it.id!==et)throw new Error("Expected Source id to be "+et+" instead of "+it.id);return Ne.bindAll(["load","abort","unload","serialize","prepare"],it),it}(tt,nt,rt,this),this._tiles={},this._cache=new U(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ne.SourceFeatureState}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.onAdd=function(Ne){this.map=Ne,this._maxTileCacheSize=Ne?Ne._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(Ne)},i.prototype.onRemove=function(Ne){this._source&&this._source.onRemove&&this._source.onRemove(Ne)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var Ne in this._tiles){var et=this._tiles[Ne];if("loaded"!==et.state&&"errored"!==et.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var Ne=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,Ne&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(Ne,et){return this._source.loadTile(Ne,et)},i.prototype._unloadTile=function(Ne){if(this._source.unloadTile)return this._source.unloadTile(Ne,(function(){}))},i.prototype._abortTile=function(Ne){if(this._source.abortTile)return this._source.abortTile(Ne,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(Ne){for(var et in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var tt=this._tiles[et];tt.upload(Ne),tt.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return Ne.values(this._tiles).map((function(Ne){return Ne.tileID})).sort(Mt).map((function(Ne){return Ne.key}))},i.prototype.getRenderableIds=function(et){var tt=this,nt=[];for(var rt in this._tiles)this._isIdRenderable(rt,et)&&nt.push(this._tiles[rt]);return et?nt.sort((function(et,nt){var rt=et.tileID,it=nt.tileID,ot=new Ne.Point(rt.canonical.x,rt.canonical.y)._rotate(tt.transform.angle),at=new Ne.Point(it.canonical.x,it.canonical.y)._rotate(tt.transform.angle);return rt.overscaledZ-it.overscaledZ||at.y-ot.y||at.x-ot.x})).map((function(Ne){return Ne.tileID.key})):nt.map((function(Ne){return Ne.tileID})).sort(Mt).map((function(Ne){return Ne.key}))},i.prototype.hasRenderableParent=function(Ne){var et=this.findLoadedParent(Ne,0);return!!et&&this._isIdRenderable(et.tileID.key)},i.prototype._isIdRenderable=function(Ne,et){return this._tiles[Ne]&&this._tiles[Ne].hasData()&&!this._coveredTiles[Ne]&&(et||!this._tiles[Ne].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var Ne in this._cache.reset(),this._tiles)"errored"!==this._tiles[Ne].state&&this._reloadTile(Ne,"reloading")},i.prototype._reloadTile=function(Ne,et){var tt=this._tiles[Ne];tt&&("loading"!==tt.state&&(tt.state=et),this._loadTile(tt,this._tileLoaded.bind(this,tt,Ne,et)))},i.prototype._tileLoaded=function(et,tt,nt,rt){if(rt)return et.state="errored",void(404!==rt.status?this._source.fire(new Ne.ErrorEvent(rt,{tile:et})):this.update(this.transform));et.timeAdded=Ne.browser.now(),"expired"===nt&&(et.refreshedUponExpiration=!0),this._setTileReloadTimer(tt,et),"raster-dem"===this.getSource().type&&et.dem&&this._backfillDEM(et),this._state.initializeTileState(et,this.map?this.map.painter:null),this._source.fire(new Ne.Event("data",{dataType:"source",tile:et,coord:et.tileID}))},i.prototype._backfillDEM=function(Ne){for(var et=this.getRenderableIds(),tt=0;tt<et.length;tt++){var nt=et[tt];if(Ne.neighboringTiles&&Ne.neighboringTiles[nt]){var rt=this.getTileByID(nt);a(Ne,rt),a(rt,Ne)}}function a(Ne,et){Ne.needsHillshadePrepare=!0;var tt=et.tileID.canonical.x-Ne.tileID.canonical.x,nt=et.tileID.canonical.y-Ne.tileID.canonical.y,rt=Math.pow(2,Ne.tileID.canonical.z),it=et.tileID.key;0===tt&&0===nt||Math.abs(nt)>1||(Math.abs(tt)>1&&(1===Math.abs(tt+rt)?tt+=rt:1===Math.abs(tt-rt)&&(tt-=rt)),et.dem&&Ne.dem&&(Ne.dem.backfillBorder(et.dem,tt,nt),Ne.neighboringTiles&&Ne.neighboringTiles[it]&&(Ne.neighboringTiles[it].backfilled=!0)))}},i.prototype.getTile=function(Ne){return this.getTileByID(Ne.key)},i.prototype.getTileByID=function(Ne){return this._tiles[Ne]},i.prototype._retainLoadedChildren=function(Ne,et,tt,nt){for(var rt in this._tiles){var it=this._tiles[rt];if(!(nt[rt]||!it.hasData()||it.tileID.overscaledZ<=et||it.tileID.overscaledZ>tt)){for(var ot=it.tileID;it&&it.tileID.overscaledZ>et+1;){var at=it.tileID.scaledTo(it.tileID.overscaledZ-1);(it=this._tiles[at.key])&&it.hasData()&&(ot=at)}for(var st=ot;st.overscaledZ>et;)if(Ne[(st=st.scaledTo(st.overscaledZ-1)).key]){nt[ot.key]=ot;break}}}},i.prototype.findLoadedParent=function(Ne,et){if(Ne.key in this._loadedParentTiles){var tt=this._loadedParentTiles[Ne.key];return tt&&tt.tileID.overscaledZ>=et?tt:null}for(var nt=Ne.overscaledZ-1;nt>=et;nt--){var rt=Ne.scaledTo(nt),it=this._getLoadedTile(rt);if(it)return it}},i.prototype._getLoadedTile=function(Ne){var et=this._tiles[Ne.key];return et&&et.hasData()?et:this._cache.getByKey(Ne.wrapped().key)},i.prototype.updateCacheSize=function(Ne){var et=Math.ceil(Ne.width/this._source.tileSize)+1,tt=Math.ceil(Ne.height/this._source.tileSize)+1,nt=Math.floor(et*tt*5),rt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,nt):nt;this._cache.setMaxSize(rt)},i.prototype.handleWrapJump=function(Ne){var et=Math.round((Ne-(void 0===this._prevLng?Ne:this._prevLng))/360);if(this._prevLng=Ne,et){var tt={};for(var nt in this._tiles){var rt=this._tiles[nt];rt.tileID=rt.tileID.unwrapTo(rt.tileID.wrap+et),tt[rt.tileID.key]=rt}for(var it in this._tiles=tt,this._timers)clearTimeout(this._timers[it]),delete this._timers[it];for(var ot in this._tiles)this._setTileReloadTimer(ot,this._tiles[ot])}},i.prototype.update=function(et){var tt=this;if(this.transform=et,this._sourceLoaded&&!this._paused){var nt;this.updateCacheSize(et),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?nt=et.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(et){return new Ne.OverscaledTileID(et.canonical.z,et.wrap,et.canonical.z,et.canonical.x,et.canonical.y)})):(nt=et.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(nt=nt.filter((function(Ne){return tt._source.hasTile(Ne)})))):nt=[];var rt=et.coveringZoomLevel(this._source),it=Math.max(rt-i.maxOverzooming,this._source.minzoom),ot=Math.max(rt+i.maxUnderzooming,this._source.minzoom),at=this._updateRetainedTiles(nt,rt);if(Lt(this._source.type)){for(var st={},ct={},pt=0,dt=Object.keys(at);pt<dt.length;pt+=1){var ft=dt[pt],mt=at[ft],yt=this._tiles[ft];if(yt&&!(yt.fadeEndTime&&yt.fadeEndTime<=Ne.browser.now())){var vt=this.findLoadedParent(mt,it);vt&&(this._addTile(vt.tileID),st[vt.tileID.key]=vt.tileID),ct[ft]=mt}}for(var Ot in this._retainLoadedChildren(ct,rt,ot,at),st)at[Ot]||(this._coveredTiles[Ot]=!0,at[Ot]=st[Ot])}for(var Dt in at)this._tiles[Dt].clearFadeHold();for(var Rt=0,Bt=Ne.keysDifference(this._tiles,at);Rt<Bt.length;Rt+=1){var rn=Bt[Rt],vn=this._tiles[rn];vn.hasSymbolBuckets&&!vn.holdingForFade()?vn.setHoldDuration(this.map._fadeDuration):vn.hasSymbolBuckets&&!vn.symbolFadeFinished()||this._removeTile(rn)}this._updateLoadedParentTileCache()}},i.prototype.releaseSymbolFadeTiles=function(){for(var Ne in this._tiles)this._tiles[Ne].holdingForFade()&&this._removeTile(Ne)},i.prototype._updateRetainedTiles=function(Ne,et){for(var tt={},nt={},rt=Math.max(et-i.maxOverzooming,this._source.minzoom),it=Math.max(et+i.maxUnderzooming,this._source.minzoom),ot={},at=0,st=Ne;at<st.length;at+=1){var ct=st[at],pt=this._addTile(ct);tt[ct.key]=ct,pt.hasData()||et<this._source.maxzoom&&(ot[ct.key]=ct)}this._retainLoadedChildren(ot,et,it,tt);for(var dt=0,ft=Ne;dt<ft.length;dt+=1){var mt=ft[dt],yt=this._tiles[mt.key];if(!yt.hasData()){if(et+1>this._source.maxzoom){var vt=mt.children(this._source.maxzoom)[0],Ot=this.getTile(vt);if(Ot&&Ot.hasData()){tt[vt.key]=vt;continue}}else{var Dt=mt.children(this._source.maxzoom);if(tt[Dt[0].key]&&tt[Dt[1].key]&&tt[Dt[2].key]&&tt[Dt[3].key])continue}for(var Rt=yt.wasRequested(),Bt=mt.overscaledZ-1;Bt>=rt;--Bt){var rn=mt.scaledTo(Bt);if(nt[rn.key])break;if(nt[rn.key]=!0,!(yt=this.getTile(rn))&&Rt&&(yt=this._addTile(rn)),yt&&(tt[rn.key]=rn,Rt=yt.wasRequested(),yt.hasData()))break}}}return tt},i.prototype._updateLoadedParentTileCache=function(){for(var Ne in this._loadedParentTiles={},this._tiles){for(var et=[],tt=void 0,nt=this._tiles[Ne].tileID;nt.overscaledZ>0;){if(nt.key in this._loadedParentTiles){tt=this._loadedParentTiles[nt.key];break}et.push(nt.key);var rt=nt.scaledTo(nt.overscaledZ-1);if(tt=this._getLoadedTile(rt))break;nt=rt}for(var it=0,ot=et;it<ot.length;it+=1)this._loadedParentTiles[ot[it]]=tt}},i.prototype._addTile=function(et){var tt=this._tiles[et.key];if(tt)return tt;(tt=this._cache.getAndRemove(et))&&(this._setTileReloadTimer(et.key,tt),tt.tileID=et,this._state.initializeTileState(tt,this.map?this.map.painter:null),this._cacheTimers[et.key]&&(clearTimeout(this._cacheTimers[et.key]),delete this._cacheTimers[et.key],this._setTileReloadTimer(et.key,tt)));var nt=Boolean(tt);return nt||(tt=new Ne.Tile(et,this._source.tileSize*et.overscaleFactor()),this._loadTile(tt,this._tileLoaded.bind(this,tt,et.key,tt.state))),tt?(tt.uses++,this._tiles[et.key]=tt,nt||this._source.fire(new Ne.Event("dataloading",{tile:tt,coord:tt.tileID,dataType:"source"})),tt):null},i.prototype._setTileReloadTimer=function(Ne,et){var tt=this;Ne in this._timers&&(clearTimeout(this._timers[Ne]),delete this._timers[Ne]);var nt=et.getExpiryTimeout();nt&&(this._timers[Ne]=setTimeout((function(){tt._reloadTile(Ne,"expired"),delete tt._timers[Ne]}),nt))},i.prototype._removeTile=function(Ne){var et=this._tiles[Ne];et&&(et.uses--,delete this._tiles[Ne],this._timers[Ne]&&(clearTimeout(this._timers[Ne]),delete this._timers[Ne]),et.uses>0||(et.hasData()&&"reloading"!==et.state?this._cache.add(et.tileID,et,et.getExpiryTimeout()):(et.aborted=!0,this._abortTile(et),this._unloadTile(et))))},i.prototype.clearTiles=function(){for(var Ne in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(Ne);this._cache.reset()},i.prototype.tilesIn=function(et,tt,nt){var rt=this,it=[],ot=this.transform;if(!ot)return it;for(var at=nt?ot.getCameraQueryGeometry(et):et,st=et.map((function(Ne){return ot.pointCoordinate(Ne)})),ct=at.map((function(Ne){return ot.pointCoordinate(Ne)})),pt=this.getIds(),dt=1/0,ft=1/0,mt=-1/0,yt=-1/0,vt=0,Ot=ct;vt<Ot.length;vt+=1){var Dt=Ot[vt];dt=Math.min(dt,Dt.x),ft=Math.min(ft,Dt.y),mt=Math.max(mt,Dt.x),yt=Math.max(yt,Dt.y)}for(var v=function(et){var nt=rt._tiles[pt[et]];if(!nt.holdingForFade()){var at=nt.tileID,vt=Math.pow(2,ot.zoom-nt.tileID.overscaledZ),Ot=tt*nt.queryPadding*Ne.EXTENT/nt.tileSize/vt,Dt=[at.getTilePoint(new Ne.MercatorCoordinate(dt,ft)),at.getTilePoint(new Ne.MercatorCoordinate(mt,yt))];if(Dt[0].x-Ot<Ne.EXTENT&&Dt[0].y-Ot<Ne.EXTENT&&Dt[1].x+Ot>=0&&Dt[1].y+Ot>=0){var Rt=st.map((function(Ne){return at.getTilePoint(Ne)})),Bt=ct.map((function(Ne){return at.getTilePoint(Ne)}));it.push({tile:nt,tileID:at,queryGeometry:Rt,cameraQueryGeometry:Bt,scale:vt})}}},Rt=0;Rt<pt.length;Rt++)v(Rt);return it},i.prototype.getVisibleCoordinates=function(Ne){for(var et=this,tt=this.getRenderableIds(Ne).map((function(Ne){return et._tiles[Ne].tileID})),nt=0,rt=tt;nt<rt.length;nt+=1){var it=rt[nt];it.posMatrix=this.transform.calculatePosMatrix(it.toUnwrapped())}return tt},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Lt(this._source.type))for(var et in this._tiles){var tt=this._tiles[et];if(void 0!==tt.fadeEndTime&&tt.fadeEndTime>=Ne.browser.now())return!0}return!1},i.prototype.setFeatureState=function(Ne,et,tt){this._state.updateState(Ne=Ne||"_geojsonTileLayer",et,tt)},i.prototype.removeFeatureState=function(Ne,et,tt){this._state.removeFeatureState(Ne=Ne||"_geojsonTileLayer",et,tt)},i.prototype.getFeatureState=function(Ne,et){return this._state.getState(Ne=Ne||"_geojsonTileLayer",et)},i.prototype.setDependencies=function(Ne,et,tt){var nt=this._tiles[Ne];nt&&nt.setDependencies(et,tt)},i.prototype.reloadTilesForDependencies=function(Ne,et){for(var tt in this._tiles)this._tiles[tt].hasDependency(Ne,et)&&this._reloadTile(tt,"reloading");this._cache.filter((function(tt){return!tt.hasDependency(Ne,et)}))},i}(Ne.Evented);function Mt(Ne,et){var tt=Math.abs(2*Ne.wrap)-+(Ne.wrap<0),nt=Math.abs(2*et.wrap)-+(et.wrap<0);return Ne.overscaledZ-et.overscaledZ||nt-tt||et.canonical.y-Ne.canonical.y||et.canonical.x-Ne.canonical.x}function Lt(Ne){return"raster"===Ne||"image"===Ne||"video"===Ne}function At(){return new Ne.window.Worker(wp.workerUrl)}as.maxOverzooming=10,as.maxUnderzooming=3;var ss="mapboxgl_preloaded_worker_pool",kt=function(){this.active={}};kt.prototype.acquire=function(Ne){if(!this.workers)for(this.workers=[];this.workers.length<kt.workerCount;)this.workers.push(new At);return this.active[Ne]=!0,this.workers.slice()},kt.prototype.release=function(Ne){delete this.active[Ne],0===this.numActive()&&(this.workers.forEach((function(Ne){Ne.terminate()})),this.workers=null)},kt.prototype.isPreloaded=function(){return!!this.active[ss]},kt.prototype.numActive=function(){return Object.keys(this.active).length};var ls,us=Math.floor(Ne.browser.hardwareConcurrency/2);function Ft(){return ls||(ls=new kt),ls}function Ut(et,tt){var nt={};for(var rt in et)"ref"!==rt&&(nt[rt]=et[rt]);return Ne.refProperties.forEach((function(Ne){Ne in tt&&(nt[Ne]=tt[Ne])})),nt}function Nt(Ne){Ne=Ne.slice();for(var et=Object.create(null),tt=0;tt<Ne.length;tt++)et[Ne[tt].id]=Ne[tt];for(var nt=0;nt<Ne.length;nt++)"ref"in Ne[nt]&&(Ne[nt]=Ut(Ne[nt],et[Ne[nt].ref]));return Ne}kt.workerCount=Math.max(Math.min(us,6),1);var fs={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function jt(Ne,et,tt){tt.push({command:fs.addSource,args:[Ne,et[Ne]]})}function qt(Ne,et,tt){et.push({command:fs.removeSource,args:[Ne]}),tt[Ne]=!0}function Vt(Ne,et,tt,nt){qt(Ne,tt,nt),jt(Ne,et,tt)}function Gt(et,tt,nt){var rt;for(rt in et[nt])if(et[nt].hasOwnProperty(rt)&&"data"!==rt&&!Ne.deepEqual(et[nt][rt],tt[nt][rt]))return!1;for(rt in tt[nt])if(tt[nt].hasOwnProperty(rt)&&"data"!==rt&&!Ne.deepEqual(et[nt][rt],tt[nt][rt]))return!1;return!0}function Wt(et,tt,nt,rt,it,ot){var at;for(at in tt=tt||{},et=et||{})et.hasOwnProperty(at)&&(Ne.deepEqual(et[at],tt[at])||nt.push({command:ot,args:[rt,at,tt[at],it]}));for(at in tt)tt.hasOwnProperty(at)&&!et.hasOwnProperty(at)&&(Ne.deepEqual(et[at],tt[at])||nt.push({command:ot,args:[rt,at,tt[at],it]}))}function Xt(Ne){return Ne.id}function Ht(Ne,et){return Ne[et.id]=et,Ne}var Kt=function(Ne,et){this.reset(Ne,et)};Kt.prototype.reset=function(Ne,et){this.points=Ne||[],this._distances=[0];for(var tt=1;tt<this.points.length;tt++)this._distances[tt]=this._distances[tt-1]+this.points[tt].dist(this.points[tt-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(et||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Kt.prototype.lerp=function(et){if(1===this.points.length)return this.points[0];et=Ne.clamp(et,0,1);for(var tt=1,nt=this._distances[tt],rt=et*this.paddedLength+this.padding;nt<rt&&tt<this._distances.length;)nt=this._distances[++tt];var it=tt-1,ot=this._distances[it],at=nt-ot,st=at>0?(rt-ot)/at:0;return this.points[it].mult(1-st).add(this.points[tt].mult(st))};var Yt=function(Ne,et,tt){var nt=this.boxCells=[],rt=this.circleCells=[];this.xCellCount=Math.ceil(Ne/tt),this.yCellCount=Math.ceil(et/tt);for(var it=0;it<this.xCellCount*this.yCellCount;it++)nt.push([]),rt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Ne,this.height=et,this.xScale=this.xCellCount/Ne,this.yScale=this.yCellCount/et,this.boxUid=0,this.circleUid=0};function Jt(et,tt,nt,rt,it){var ot=Ne.create();return tt?(Ne.scale(ot,ot,[1/it,1/it,1]),nt||Ne.rotateZ(ot,ot,rt.angle)):Ne.multiply(ot,rt.labelPlaneMatrix,et),ot}function Qt(et,tt,nt,rt,it){if(tt){var ot=Ne.clone(et);return Ne.scale(ot,ot,[it,it,1]),nt||Ne.rotateZ(ot,ot,-rt.angle),ot}return rt.glCoordMatrix}function $t(et,tt){var nt=[et.x,et.y,0,1];ue(nt,nt,tt);var rt=nt[3];return{point:new Ne.Point(nt[0]/rt,nt[1]/rt),signedDistanceFromCamera:rt}}function te(Ne,et){return.5+Ne/et*.5}function ee(Ne,et){var tt=Ne[0]/Ne[3],nt=Ne[1]/Ne[3];return tt>=-et[0]&&tt<=et[0]&&nt>=-et[1]&&nt<=et[1]}function ie(et,tt,nt,rt,it,ot,at,st){var ct=rt?et.textSizeData:et.iconSizeData,pt=Ne.evaluateSizeForZoom(ct,nt.transform.zoom),dt=[256/nt.width*2+1,256/nt.height*2+1],ft=rt?et.text.dynamicLayoutVertexArray:et.icon.dynamicLayoutVertexArray;ft.clear();for(var mt=et.lineVertexArray,yt=rt?et.text.placedSymbolArray:et.icon.placedSymbolArray,vt=nt.transform.width/nt.transform.height,Ot=!1,Dt=0;Dt<yt.length;Dt++){var Rt=yt.get(Dt);if(Rt.hidden||Rt.writingMode===Ne.WritingMode.vertical&&!Ot)ce(Rt.numGlyphs,ft);else{Ot=!1;var Bt=[Rt.anchorX,Rt.anchorY,0,1];if(Ne.transformMat4(Bt,Bt,tt),ee(Bt,dt)){var rn=te(nt.transform.cameraToCenterDistance,Bt[3]),vn=Ne.evaluateSizeForFeature(ct,pt,Rt),bn=at?vn/rn:vn*rn,Tn=new Ne.Point(Rt.anchorX,Rt.anchorY),Cn=$t(Tn,it).point,In={},Ln=ae(Rt,bn,!1,st,tt,it,ot,et.glyphOffsetArray,mt,ft,Cn,Tn,In,vt);Ot=Ln.useVertical,(Ln.notEnoughRoom||Ot||Ln.needsFlipping&&ae(Rt,bn,!0,st,tt,it,ot,et.glyphOffsetArray,mt,ft,Cn,Tn,In,vt).notEnoughRoom)&&ce(Rt.numGlyphs,ft)}else ce(Rt.numGlyphs,ft)}}rt?et.text.dynamicLayoutVertexBuffer.updateData(ft):et.icon.dynamicLayoutVertexBuffer.updateData(ft)}function oe(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){var dt=at.glyphStartIndex+at.numGlyphs,ft=at.lineStartIndex,mt=at.lineStartIndex+at.lineLength,yt=et.getoffsetX(at.glyphStartIndex),vt=et.getoffsetX(dt-1),Ot=se(Ne*yt,tt,nt,rt,it,ot,at.segment,ft,mt,st,ct,pt);if(!Ot)return null;var Dt=se(Ne*vt,tt,nt,rt,it,ot,at.segment,ft,mt,st,ct,pt);return Dt?{first:Ot,last:Dt}:null}function re(et,tt,nt,rt){return et===Ne.WritingMode.horizontal&&Math.abs(nt.y-tt.y)>Math.abs(nt.x-tt.x)*rt?{useVertical:!0}:(et===Ne.WritingMode.vertical?tt.y<nt.y:tt.x>nt.x)?{needsFlipping:!0}:null}function ae(et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt){var vt,Ot=tt/24,Dt=et.lineOffsetX*Ot,Rt=et.lineOffsetY*Ot;if(et.numGlyphs>1){var Bt=et.glyphStartIndex+et.numGlyphs,rn=et.lineStartIndex,vn=et.lineStartIndex+et.lineLength,bn=oe(Ot,st,Dt,Rt,nt,dt,ft,et,ct,ot,mt);if(!bn)return{notEnoughRoom:!0};var Tn=$t(bn.first.point,at).point,Cn=$t(bn.last.point,at).point;if(rt&&!nt){var In=re(et.writingMode,Tn,Cn,yt);if(In)return In}vt=[bn.first];for(var Ln=et.glyphStartIndex+1;Ln<Bt-1;Ln++)vt.push(se(Ot*st.getoffsetX(Ln),Dt,Rt,nt,dt,ft,et.segment,rn,vn,ct,ot,mt));vt.push(bn.last)}else{if(rt&&!nt){var Mn=$t(ft,it).point,zn=et.lineStartIndex+et.segment+1,Fn=new Ne.Point(ct.getx(zn),ct.gety(zn)),Bn=$t(Fn,it),Nn=Bn.signedDistanceFromCamera>0?Bn.point:ne(ft,Fn,Mn,1,it),Vn=re(et.writingMode,Mn,Nn,yt);if(Vn)return Vn}var Wn=se(Ot*st.getoffsetX(et.glyphStartIndex),Dt,Rt,nt,dt,ft,et.segment,et.lineStartIndex,et.lineStartIndex+et.lineLength,ct,ot,mt);if(!Wn)return{notEnoughRoom:!0};vt=[Wn]}for(var $n=0,Yn=vt;$n<Yn.length;$n+=1){var er=Yn[$n];Ne.addDynamicAttributes(pt,er.point,er.angle)}return{}}function ne(Ne,et,tt,nt,rt){var it=$t(Ne.add(Ne.sub(et)._unit()),rt).point,ot=tt.sub(it);return tt.add(ot._mult(nt/ot.mag()))}function se(et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft){var mt=rt?et-tt:et+tt,yt=mt>0?1:-1,vt=0;rt&&(yt*=-1,vt=Math.PI),yt<0&&(vt+=Math.PI);for(var Ot=yt>0?st+at:st+at+1,Dt=it,Rt=it,Bt=0,rn=0,vn=Math.abs(mt),bn=[];Bt+rn<=vn;){if((Ot+=yt)<st||Ot>=ct)return null;if(Rt=Dt,bn.push(Dt),void 0===(Dt=ft[Ot])){var Tn=new Ne.Point(pt.getx(Ot),pt.gety(Ot)),Cn=$t(Tn,dt);if(Cn.signedDistanceFromCamera>0)Dt=ft[Ot]=Cn.point;else{var In=Ot-yt;Dt=ne(0===Bt?ot:new Ne.Point(pt.getx(In),pt.gety(In)),Tn,Rt,vn-Bt+1,dt)}}Bt+=rn,rn=Rt.dist(Dt)}var Ln=(vn-Bt)/rn,Mn=Dt.sub(Rt),zn=Mn.mult(Ln)._add(Rt);zn._add(Mn._unit()._perp()._mult(nt*yt));var Fn=vt+Math.atan2(Dt.y-Rt.y,Dt.x-Rt.x);return bn.push(zn),{point:zn,angle:Fn,path:bn}}Yt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Yt.prototype.insert=function(Ne,et,tt,nt,rt){this._forEachCell(et,tt,nt,rt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(nt),this.bboxes.push(rt)},Yt.prototype.insertCircle=function(Ne,et,tt,nt){this._forEachCell(et-nt,tt-nt,et+nt,tt+nt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Ne),this.circles.push(et),this.circles.push(tt),this.circles.push(nt)},Yt.prototype._insertBoxCell=function(Ne,et,tt,nt,rt,it){this.boxCells[rt].push(it)},Yt.prototype._insertCircleCell=function(Ne,et,tt,nt,rt,it){this.circleCells[rt].push(it)},Yt.prototype._query=function(Ne,et,tt,nt,rt,it){if(tt<0||Ne>this.width||nt<0||et>this.height)return!rt&&[];var ot=[];if(Ne<=0&&et<=0&&this.width<=tt&&this.height<=nt){if(rt)return!0;for(var at=0;at<this.boxKeys.length;at++)ot.push({key:this.boxKeys[at],x1:this.bboxes[4*at],y1:this.bboxes[4*at+1],x2:this.bboxes[4*at+2],y2:this.bboxes[4*at+3]});for(var st=0;st<this.circleKeys.length;st++){var ct=this.circles[3*st],pt=this.circles[3*st+1],dt=this.circles[3*st+2];ot.push({key:this.circleKeys[st],x1:ct-dt,y1:pt-dt,x2:ct+dt,y2:pt+dt})}return it?ot.filter(it):ot}return this._forEachCell(Ne,et,tt,nt,this._queryCell,ot,{hitTest:rt,seenUids:{box:{},circle:{}}},it),rt?ot.length>0:ot},Yt.prototype._queryCircle=function(Ne,et,tt,nt,rt){var it=Ne-tt,ot=Ne+tt,at=et-tt,st=et+tt;if(ot<0||it>this.width||st<0||at>this.height)return!nt&&[];var ct=[];return this._forEachCell(it,at,ot,st,this._queryCellCircle,ct,{hitTest:nt,circle:{x:Ne,y:et,radius:tt},seenUids:{box:{},circle:{}}},rt),nt?ct.length>0:ct},Yt.prototype.query=function(Ne,et,tt,nt,rt){return this._query(Ne,et,tt,nt,!1,rt)},Yt.prototype.hitTest=function(Ne,et,tt,nt,rt){return this._query(Ne,et,tt,nt,!0,rt)},Yt.prototype.hitTestCircle=function(Ne,et,tt,nt){return this._queryCircle(Ne,et,tt,!0,nt)},Yt.prototype._queryCell=function(Ne,et,tt,nt,rt,it,ot,at){var st=ot.seenUids,ct=this.boxCells[rt];if(null!==ct)for(var pt=this.bboxes,dt=0,ft=ct;dt<ft.length;dt+=1){var mt=ft[dt];if(!st.box[mt]){st.box[mt]=!0;var yt=4*mt;if(Ne<=pt[yt+2]&&et<=pt[yt+3]&&tt>=pt[yt+0]&&nt>=pt[yt+1]&&(!at||at(this.boxKeys[mt]))){if(ot.hitTest)return it.push(!0),!0;it.push({key:this.boxKeys[mt],x1:pt[yt],y1:pt[yt+1],x2:pt[yt+2],y2:pt[yt+3]})}}}var vt=this.circleCells[rt];if(null!==vt)for(var Ot=this.circles,Dt=0,Rt=vt;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];if(!st.circle[Bt]){st.circle[Bt]=!0;var rn=3*Bt;if(this._circleAndRectCollide(Ot[rn],Ot[rn+1],Ot[rn+2],Ne,et,tt,nt)&&(!at||at(this.circleKeys[Bt]))){if(ot.hitTest)return it.push(!0),!0;var vn=Ot[rn],bn=Ot[rn+1],Tn=Ot[rn+2];it.push({key:this.circleKeys[Bt],x1:vn-Tn,y1:bn-Tn,x2:vn+Tn,y2:bn+Tn})}}}},Yt.prototype._queryCellCircle=function(Ne,et,tt,nt,rt,it,ot,at){var st=ot.circle,ct=ot.seenUids,pt=this.boxCells[rt];if(null!==pt)for(var dt=this.bboxes,ft=0,mt=pt;ft<mt.length;ft+=1){var yt=mt[ft];if(!ct.box[yt]){ct.box[yt]=!0;var vt=4*yt;if(this._circleAndRectCollide(st.x,st.y,st.radius,dt[vt+0],dt[vt+1],dt[vt+2],dt[vt+3])&&(!at||at(this.boxKeys[yt])))return it.push(!0),!0}}var Ot=this.circleCells[rt];if(null!==Ot)for(var Dt=this.circles,Rt=0,Bt=Ot;Rt<Bt.length;Rt+=1){var rn=Bt[Rt];if(!ct.circle[rn]){ct.circle[rn]=!0;var vn=3*rn;if(this._circlesCollide(Dt[vn],Dt[vn+1],Dt[vn+2],st.x,st.y,st.radius)&&(!at||at(this.circleKeys[rn])))return it.push(!0),!0}}},Yt.prototype._forEachCell=function(Ne,et,tt,nt,rt,it,ot,at){for(var st=this._convertToXCellCoord(Ne),ct=this._convertToYCellCoord(et),pt=this._convertToXCellCoord(tt),dt=this._convertToYCellCoord(nt),ft=st;ft<=pt;ft++)for(var mt=ct;mt<=dt;mt++)if(rt.call(this,Ne,et,tt,nt,this.xCellCount*mt+ft,it,ot,at))return},Yt.prototype._convertToXCellCoord=function(Ne){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Ne*this.xScale)))},Yt.prototype._convertToYCellCoord=function(Ne){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Ne*this.yScale)))},Yt.prototype._circlesCollide=function(Ne,et,tt,nt,rt,it){var ot=nt-Ne,at=rt-et,st=tt+it;return st*st>ot*ot+at*at},Yt.prototype._circleAndRectCollide=function(Ne,et,tt,nt,rt,it,ot){var at=(it-nt)/2,st=Math.abs(Ne-(nt+at));if(st>at+tt)return!1;var ct=(ot-rt)/2,pt=Math.abs(et-(rt+ct));if(pt>ct+tt)return!1;if(st<=at||pt<=ct)return!0;var dt=st-at,ft=pt-ct;return dt*dt+ft*ft<=tt*tt};var gs=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ce(Ne,et){for(var tt=0;tt<Ne;tt++){var nt=et.length;et.resize(nt+4),et.float32.set(gs,3*nt)}}function ue(Ne,et,tt){var nt=et[0],rt=et[1];return Ne[0]=tt[0]*nt+tt[4]*rt+tt[12],Ne[1]=tt[1]*nt+tt[5]*rt+tt[13],Ne[3]=tt[3]*nt+tt[7]*rt+tt[15],Ne}var he=function(Ne,et,tt){void 0===et&&(et=new Yt(Ne.width+200,Ne.height+200,25)),void 0===tt&&(tt=new Yt(Ne.width+200,Ne.height+200,25)),this.transform=Ne,this.grid=et,this.ignoredGrid=tt,this.pitchfactor=Math.cos(Ne._pitch)*Ne.cameraToCenterDistance,this.screenRightBoundary=Ne.width+100,this.screenBottomBoundary=Ne.height+100,this.gridRightBoundary=Ne.width+200,this.gridBottomBoundary=Ne.height+200};function pe(et,tt,nt){return tt*(Ne.EXTENT/(et.tileSize*Math.pow(2,nt-et.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(Ne,et,tt,nt,rt){var it=this.projectAndGetPerspectiveRatio(nt,Ne.anchorPointX,Ne.anchorPointY),ot=tt*it.perspectiveRatio,at=Ne.x1*ot+it.point.x,st=Ne.y1*ot+it.point.y,ct=Ne.x2*ot+it.point.x,pt=Ne.y2*ot+it.point.y;return!this.isInsideGrid(at,st,ct,pt)||!et&&this.grid.hitTest(at,st,ct,pt,rt)?{box:[],offscreen:!1}:{box:[at,st,ct,pt],offscreen:this.isOffscreen(at,st,ct,pt)}},he.prototype.placeCollisionCircles=function(et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt){var yt=[],vt=new Ne.Point(tt.anchorX,tt.anchorY),Ot=$t(vt,ot),Dt=te(this.transform.cameraToCenterDistance,Ot.signedDistanceFromCamera),Rt=(pt?it/Dt:it*Dt)/Ne.ONE_EM,Bt=$t(vt,at).point,rn=oe(Rt,rt,tt.lineOffsetX*Rt,tt.lineOffsetY*Rt,!1,Bt,vt,tt,nt,at,{}),vn=!1,bn=!1,Tn=!0;if(rn){for(var Cn=.5*ft*Dt+mt,In=new Ne.Point(-100,-100),Ln=new Ne.Point(this.screenRightBoundary,this.screenBottomBoundary),Mn=new Kt,zn=rn.first,Fn=rn.last,Bn=[],Nn=zn.path.length-1;Nn>=1;Nn--)Bn.push(zn.path[Nn]);for(var Vn=1;Vn<Fn.path.length;Vn++)Bn.push(Fn.path[Vn]);var Wn=2.5*Cn;if(st){var $n=Bn.map((function(Ne){return $t(Ne,st)}));Bn=$n.some((function(Ne){return Ne.signedDistanceFromCamera<=0}))?[]:$n.map((function(Ne){return Ne.point}))}var Yn=[];if(Bn.length>0){for(var er=Bn[0].clone(),rr=Bn[0].clone(),vr=1;vr<Bn.length;vr++)er.x=Math.min(er.x,Bn[vr].x),er.y=Math.min(er.y,Bn[vr].y),rr.x=Math.max(rr.x,Bn[vr].x),rr.y=Math.max(rr.y,Bn[vr].y);Yn=er.x>=In.x&&rr.x<=Ln.x&&er.y>=In.y&&rr.y<=Ln.y?[Bn]:rr.x<In.x||er.x>Ln.x||rr.y<In.y||er.y>Ln.y?[]:Ne.clipLine([Bn],In.x,In.y,Ln.x,Ln.y)}for(var wr=0,Sr=Yn;wr<Sr.length;wr+=1){var ii;Mn.reset(Sr[wr],.25*Cn),ii=Mn.length<=.5*Cn?1:Math.ceil(Mn.paddedLength/Wn)+1;for(var qi=0;qi<ii;qi++){var uo=qi/Math.max(ii-1,1),po=Mn.lerp(uo),vo=po.x+100,So=po.y+100;yt.push(vo,So,Cn,0);var ta=vo-Cn,na=So-Cn,ia=vo+Cn,sa=So+Cn;if(Tn=Tn&&this.isOffscreen(ta,na,ia,sa),bn=bn||this.isInsideGrid(ta,na,ia,sa),!et&&this.grid.hitTestCircle(vo,So,Cn,dt)&&(vn=!0,!ct))return{circles:[],offscreen:!1,collisionDetected:vn}}}}return{circles:!ct&&vn||!bn?[]:yt,offscreen:Tn,collisionDetected:vn}},he.prototype.queryRenderedSymbols=function(et){if(0===et.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var tt=[],nt=1/0,rt=1/0,it=-1/0,ot=-1/0,at=0,st=et;at<st.length;at+=1){var ct=st[at],pt=new Ne.Point(ct.x+100,ct.y+100);nt=Math.min(nt,pt.x),rt=Math.min(rt,pt.y),it=Math.max(it,pt.x),ot=Math.max(ot,pt.y),tt.push(pt)}for(var dt={},ft={},mt=0,yt=this.grid.query(nt,rt,it,ot).concat(this.ignoredGrid.query(nt,rt,it,ot));mt<yt.length;mt+=1){var vt=yt[mt],Ot=vt.key;if(void 0===dt[Ot.bucketInstanceId]&&(dt[Ot.bucketInstanceId]={}),!dt[Ot.bucketInstanceId][Ot.featureIndex]){var Dt=[new Ne.Point(vt.x1,vt.y1),new Ne.Point(vt.x2,vt.y1),new Ne.Point(vt.x2,vt.y2),new Ne.Point(vt.x1,vt.y2)];Ne.polygonIntersectsPolygon(tt,Dt)&&(dt[Ot.bucketInstanceId][Ot.featureIndex]=!0,void 0===ft[Ot.bucketInstanceId]&&(ft[Ot.bucketInstanceId]=[]),ft[Ot.bucketInstanceId].push(Ot.featureIndex))}}return ft},he.prototype.insertCollisionBox=function(Ne,et,tt,nt,rt){(et?this.ignoredGrid:this.grid).insert({bucketInstanceId:tt,featureIndex:nt,collisionGroupID:rt},Ne[0],Ne[1],Ne[2],Ne[3])},he.prototype.insertCollisionCircles=function(Ne,et,tt,nt,rt){for(var it=et?this.ignoredGrid:this.grid,ot={bucketInstanceId:tt,featureIndex:nt,collisionGroupID:rt},at=0;at<Ne.length;at+=4)it.insertCircle(ot,Ne[at],Ne[at+1],Ne[at+2])},he.prototype.projectAndGetPerspectiveRatio=function(et,tt,nt){var rt=[tt,nt,0,1];return ue(rt,rt,et),{point:new Ne.Point((rt[0]/rt[3]+1)/2*this.transform.width+100,(-rt[1]/rt[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/rt[3]*.5}},he.prototype.isOffscreen=function(Ne,et,tt,nt){return tt<100||Ne>=this.screenRightBoundary||nt<100||et>this.screenBottomBoundary},he.prototype.isInsideGrid=function(Ne,et,tt,nt){return tt>=0&&Ne<this.gridRightBoundary&&nt>=0&&et<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var et=Ne.identity([]);return Ne.translate(et,et,[-100,-100,0]),et};var de=function(Ne,et,tt,nt){this.opacity=Ne?Math.max(0,Math.min(1,Ne.opacity+(Ne.placed?et:-et))):nt&&tt?1:0,this.placed=tt};de.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var _e=function(Ne,et,tt,nt,rt){this.text=new de(Ne?Ne.text:null,et,tt,rt),this.icon=new de(Ne?Ne.icon:null,et,nt,rt)};_e.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var fe=function(Ne,et,tt){this.text=Ne,this.icon=et,this.skipFade=tt},me=function(){this.invProjMatrix=Ne.create(),this.viewportMatrix=Ne.create(),this.circles=[]},ge=function(Ne,et,tt,nt,rt){this.bucketInstanceId=Ne,this.featureIndex=et,this.sourceLayerIndex=tt,this.bucketIndex=nt,this.tileID=rt},ve=function(Ne){this.crossSourceCollisions=Ne,this.maxGroupID=0,this.collisionGroups={}};function ye(et,tt,nt,rt,it){var ot=Ne.getAnchorAlignment(et),at=-(ot.horizontalAlign-.5)*tt,st=-(ot.verticalAlign-.5)*nt,ct=Ne.evaluateVariableOffset(et,rt);return new Ne.Point(at+ct[0]*it,st+ct[1]*it)}function xe(et,tt,nt,rt,it,ot){var at=et.x1,st=et.x2,ct=et.y1,pt=et.y2,dt=et.anchorPointX,ft=et.anchorPointY,mt=new Ne.Point(tt,nt);return rt&&mt._rotate(it?ot:-ot),{x1:at+mt.x,y1:ct+mt.y,x2:st+mt.x,y2:pt+mt.y,anchorPointX:dt,anchorPointY:ft}}ve.prototype.get=function(Ne){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Ne]){var et=++this.maxGroupID;this.collisionGroups[Ne]={ID:et,predicate:function(Ne){return Ne.collisionGroupID===et}}}return this.collisionGroups[Ne]};var be=function(Ne,et,tt,nt){this.transform=Ne.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=et,this.retainedQueryData={},this.collisionGroups=new ve(tt),this.collisionCircleArrays={},this.prevPlacement=nt,nt&&(nt.prevPlacement=void 0),this.placedOrientations={}};function we(Ne,et,tt,nt,rt){Ne.emplaceBack(et?1:0,tt?1:0,nt||0,rt||0),Ne.emplaceBack(et?1:0,tt?1:0,nt||0,rt||0),Ne.emplaceBack(et?1:0,tt?1:0,nt||0,rt||0),Ne.emplaceBack(et?1:0,tt?1:0,nt||0,rt||0)}be.prototype.getBucketParts=function(et,tt,nt,rt){var it=nt.getBucket(tt),ot=nt.latestFeatureIndex;if(it&&ot&&tt.id===it.layerIds[0]){var at=nt.collisionBoxArray,st=it.layers[0].layout,ct=Math.pow(2,this.transform.zoom-nt.tileID.overscaledZ),pt=nt.tileSize/Ne.EXTENT,dt=this.transform.calculatePosMatrix(nt.tileID.toUnwrapped()),ft="map"===st.get("text-pitch-alignment"),mt="map"===st.get("text-rotation-alignment"),yt=pe(nt,1,this.transform.zoom),vt=Jt(dt,ft,mt,this.transform,yt),Ot=null;if(ft){var Dt=Qt(dt,ft,mt,this.transform,yt);Ot=Ne.multiply([],this.transform.labelPlaneMatrix,Dt)}this.retainedQueryData[it.bucketInstanceId]=new ge(it.bucketInstanceId,ot,it.sourceLayerIndex,it.index,nt.tileID);var Rt={bucket:it,layout:st,posMatrix:dt,textLabelPlaneMatrix:vt,labelToScreenMatrix:Ot,scale:ct,textPixelRatio:pt,holdingForFade:nt.holdingForFade(),collisionBoxArray:at,partiallyEvaluatedTextSize:Ne.evaluateSizeForZoom(it.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(it.sourceID)};if(rt)for(var Bt=0,rn=it.sortKeyRanges;Bt<rn.length;Bt+=1){var vn=rn[Bt];et.push({sortKey:vn.sortKey,symbolInstanceStart:vn.symbolInstanceStart,symbolInstanceEnd:vn.symbolInstanceEnd,parameters:Rt})}else et.push({symbolInstanceStart:0,symbolInstanceEnd:it.symbolInstances.length,parameters:Rt})}},be.prototype.attemptAnchorPlacement=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt){var vt,Ot=[dt.textOffset0,dt.textOffset1],Dt=ye(Ne,tt,nt,Ot,rt),Rt=this.collisionIndex.placeCollisionBox(xe(et,Dt.x,Dt.y,it,ot,this.transform.angle),pt,at,st,ct.predicate);if(!yt||0!==this.collisionIndex.placeCollisionBox(xe(yt,Dt.x,Dt.y,it,ot,this.transform.angle),pt,at,st,ct.predicate).box.length)return Rt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[dt.crossTileID]&&this.prevPlacement.placements[dt.crossTileID]&&this.prevPlacement.placements[dt.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[dt.crossTileID].anchor),this.variableOffsets[dt.crossTileID]={textOffset:Ot,width:tt,height:nt,anchor:Ne,textBoxScale:rt,prevAnchor:vt},this.markUsedJustification(ft,Ne,dt,mt),ft.allowVerticalPlacement&&(this.markUsedOrientation(ft,mt,dt),this.placedOrientations[dt.crossTileID]=mt),{shift:Dt,placedGlyphBoxes:Rt}):void 0},be.prototype.placeLayerBucketPart=function(et,tt,nt){var rt=this,it=et.parameters,ot=it.bucket,at=it.layout,st=it.posMatrix,ct=it.textLabelPlaneMatrix,pt=it.labelToScreenMatrix,dt=it.textPixelRatio,ft=it.holdingForFade,mt=it.collisionBoxArray,yt=it.partiallyEvaluatedTextSize,vt=it.collisionGroup,Ot=at.get("text-optional"),Dt=at.get("icon-optional"),Rt=at.get("text-allow-overlap"),Bt=at.get("icon-allow-overlap"),rn="map"===at.get("text-rotation-alignment"),vn="map"===at.get("text-pitch-alignment"),bn="none"!==at.get("icon-text-fit"),Tn="viewport-y"===at.get("symbol-z-order"),Cn=Rt&&(Bt||!ot.hasIconData()||Dt),In=Bt&&(Rt||!ot.hasTextData()||Ot);!ot.collisionArrays&&mt&&ot.deserializeCollisionBoxes(mt);var P=function(et,it){if(!tt[et.crossTileID])if(ft)rt.placements[et.crossTileID]=new fe(!1,!1,!1);else{var mt,Tn=!1,Ln=!1,Mn=!0,zn=null,Fn={box:null,offscreen:null},Bn={box:null,offscreen:null},Nn=null,Vn=null,Wn=0,$n=0,Yn=0;it.textFeatureIndex?Wn=it.textFeatureIndex:et.useRuntimeCollisionCircles&&(Wn=et.featureIndex),it.verticalTextFeatureIndex&&($n=it.verticalTextFeatureIndex);var er=it.textBox;if(er){var O=function(tt){var nt=Ne.WritingMode.horizontal;if(ot.allowVerticalPlacement&&!tt&&rt.prevPlacement){var it=rt.prevPlacement.placedOrientations[et.crossTileID];it&&(rt.placedOrientations[et.crossTileID]=it,rt.markUsedOrientation(ot,nt=it,et))}return nt},F=function(tt,nt){if(ot.allowVerticalPlacement&&et.numVerticalGlyphVertices>0&&it.verticalTextBox)for(var rt=0,at=ot.writingModes;rt<at.length&&(at[rt]===Ne.WritingMode.vertical?(Fn=nt(),Bn=Fn):Fn=tt(),!(Fn&&Fn.box&&Fn.box.length));rt+=1);else Fn=tt()};if(at.get("text-variable-anchor")){var rr=at.get("text-variable-anchor");if(rt.prevPlacement&&rt.prevPlacement.variableOffsets[et.crossTileID]){var vr=rt.prevPlacement.variableOffsets[et.crossTileID];rr.indexOf(vr.anchor)>0&&(rr=rr.filter((function(Ne){return Ne!==vr.anchor}))).unshift(vr.anchor)}var Z=function(Ne,tt,nt){for(var it=Ne.x2-Ne.x1,at=Ne.y2-Ne.y1,ct=et.textBoxScale,pt=bn&&!Bt?tt:null,ft={box:[],offscreen:!1},mt=Rt?2*rr.length:rr.length,yt=0;yt<mt;++yt){var Ot=rt.attemptAnchorPlacement(rr[yt%rr.length],Ne,it,at,ct,rn,vn,dt,st,vt,yt>=rr.length,et,ot,nt,pt);if(Ot&&(ft=Ot.placedGlyphBoxes)&&ft.box&&ft.box.length){Tn=!0,zn=Ot.shift;break}}return ft};F((function(){return Z(er,it.iconBox,Ne.WritingMode.horizontal)}),(function(){var tt=it.verticalTextBox;return ot.allowVerticalPlacement&&!(Fn&&Fn.box&&Fn.box.length)&&et.numVerticalGlyphVertices>0&&tt?Z(tt,it.verticalIconBox,Ne.WritingMode.vertical):{box:null,offscreen:null}})),Fn&&(Tn=Fn.box,Mn=Fn.offscreen);var wr=O(Fn&&Fn.box);if(!Tn&&rt.prevPlacement){var Sr=rt.prevPlacement.variableOffsets[et.crossTileID];Sr&&(rt.variableOffsets[et.crossTileID]=Sr,rt.markUsedJustification(ot,Sr.anchor,et,wr))}}else{var V=function(Ne,tt){var nt=rt.collisionIndex.placeCollisionBox(Ne,Rt,dt,st,vt.predicate);return nt&&nt.box&&nt.box.length&&(rt.markUsedOrientation(ot,tt,et),rt.placedOrientations[et.crossTileID]=tt),nt};F((function(){return V(er,Ne.WritingMode.horizontal)}),(function(){var tt=it.verticalTextBox;return ot.allowVerticalPlacement&&et.numVerticalGlyphVertices>0&&tt?V(tt,Ne.WritingMode.vertical):{box:null,offscreen:null}})),O(Fn&&Fn.box&&Fn.box.length)}}if(Tn=(mt=Fn)&&mt.box&&mt.box.length>0,Mn=mt&&mt.offscreen,et.useRuntimeCollisionCircles){var ii=ot.text.placedSymbolArray.get(et.centerJustifiedTextSymbolIndex),qi=Ne.evaluateSizeForFeature(ot.textSizeData,yt,ii),uo=at.get("text-padding");Nn=rt.collisionIndex.placeCollisionCircles(Rt,ii,ot.lineVertexArray,ot.glyphOffsetArray,qi,st,ct,pt,nt,vn,vt.predicate,et.collisionCircleDiameter,uo),Tn=Rt||Nn.circles.length>0&&!Nn.collisionDetected,Mn=Mn&&Nn.offscreen}if(it.iconFeatureIndex&&(Yn=it.iconFeatureIndex),it.iconBox){var H=function(Ne){var et=bn&&zn?xe(Ne,zn.x,zn.y,rn,vn,rt.transform.angle):Ne;return rt.collisionIndex.placeCollisionBox(et,Bt,dt,st,vt.predicate)};Ln=Bn&&Bn.box&&Bn.box.length&&it.verticalIconBox?(Vn=H(it.verticalIconBox)).box.length>0:(Vn=H(it.iconBox)).box.length>0,Mn=Mn&&Vn.offscreen}var po=Ot||0===et.numHorizontalGlyphVertices&&0===et.numVerticalGlyphVertices,vo=Dt||0===et.numIconVertices;if(po||vo?vo?po||(Ln=Ln&&Tn):Tn=Ln&&Tn:Ln=Tn=Ln&&Tn,Tn&&mt&&mt.box&&rt.collisionIndex.insertCollisionBox(mt.box,at.get("text-ignore-placement"),ot.bucketInstanceId,Bn&&Bn.box&&$n?$n:Wn,vt.ID),Ln&&Vn&&rt.collisionIndex.insertCollisionBox(Vn.box,at.get("icon-ignore-placement"),ot.bucketInstanceId,Yn,vt.ID),Nn&&(Tn&&rt.collisionIndex.insertCollisionCircles(Nn.circles,at.get("text-ignore-placement"),ot.bucketInstanceId,Wn,vt.ID),nt)){var So=ot.bucketInstanceId,ta=rt.collisionCircleArrays[So];void 0===ta&&(ta=rt.collisionCircleArrays[So]=new me);for(var na=0;na<Nn.circles.length;na+=4)ta.circles.push(Nn.circles[na+0]),ta.circles.push(Nn.circles[na+1]),ta.circles.push(Nn.circles[na+2]),ta.circles.push(Nn.collisionDetected?1:0)}rt.placements[et.crossTileID]=new fe(Tn||Cn,Ln||In,Mn||ot.justReloaded),tt[et.crossTileID]=!0}};if(Tn)for(var Ln=ot.getSortedSymbolIndexes(this.transform.angle),Mn=Ln.length-1;Mn>=0;--Mn){var zn=Ln[Mn];P(ot.symbolInstances.get(zn),ot.collisionArrays[zn])}else for(var Fn=et.symbolInstanceStart;Fn<et.symbolInstanceEnd;Fn++)P(ot.symbolInstances.get(Fn),ot.collisionArrays[Fn]);if(nt&&ot.bucketInstanceId in this.collisionCircleArrays){var Bn=this.collisionCircleArrays[ot.bucketInstanceId];Ne.invert(Bn.invProjMatrix,st),Bn.viewportMatrix=this.collisionIndex.getViewportMatrix()}ot.justReloaded=!1},be.prototype.markUsedJustification=function(et,tt,nt,rt){var it;it=rt===Ne.WritingMode.vertical?nt.verticalPlacedTextSymbolIndex:{left:nt.leftJustifiedTextSymbolIndex,center:nt.centerJustifiedTextSymbolIndex,right:nt.rightJustifiedTextSymbolIndex}[Ne.getAnchorJustification(tt)];for(var ot=0,at=[nt.leftJustifiedTextSymbolIndex,nt.centerJustifiedTextSymbolIndex,nt.rightJustifiedTextSymbolIndex,nt.verticalPlacedTextSymbolIndex];ot<at.length;ot+=1){var st=at[ot];st>=0&&(et.text.placedSymbolArray.get(st).crossTileID=it>=0&&st!==it?0:nt.crossTileID)}},be.prototype.markUsedOrientation=function(et,tt,nt){for(var rt=tt===Ne.WritingMode.horizontal||tt===Ne.WritingMode.horizontalOnly?tt:0,it=tt===Ne.WritingMode.vertical?tt:0,ot=0,at=[nt.leftJustifiedTextSymbolIndex,nt.centerJustifiedTextSymbolIndex,nt.rightJustifiedTextSymbolIndex];ot<at.length;ot+=1)et.text.placedSymbolArray.get(at[ot]).placedOrientation=rt;nt.verticalPlacedTextSymbolIndex&&(et.text.placedSymbolArray.get(nt.verticalPlacedTextSymbolIndex).placedOrientation=it)},be.prototype.commit=function(Ne){this.commitTime=Ne,this.zoomAtLastRecencyCheck=this.transform.zoom;var et=this.prevPlacement,tt=!1;this.prevZoomAdjustment=et?et.zoomAdjustment(this.transform.zoom):0;var nt=et?et.symbolFadeChange(Ne):1,rt=et?et.opacities:{},it=et?et.variableOffsets:{},ot=et?et.placedOrientations:{};for(var at in this.placements){var st=this.placements[at],ct=rt[at];ct?(this.opacities[at]=new _e(ct,nt,st.text,st.icon),tt=tt||st.text!==ct.text.placed||st.icon!==ct.icon.placed):(this.opacities[at]=new _e(null,nt,st.text,st.icon,st.skipFade),tt=tt||st.text||st.icon)}for(var pt in rt){var dt=rt[pt];if(!this.opacities[pt]){var ft=new _e(dt,nt,!1,!1);ft.isHidden()||(this.opacities[pt]=ft,tt=tt||dt.text.placed||dt.icon.placed)}}for(var mt in it)this.variableOffsets[mt]||!this.opacities[mt]||this.opacities[mt].isHidden()||(this.variableOffsets[mt]=it[mt]);for(var yt in ot)this.placedOrientations[yt]||!this.opacities[yt]||this.opacities[yt].isHidden()||(this.placedOrientations[yt]=ot[yt]);tt?this.lastPlacementChangeTime=Ne:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=et?et.lastPlacementChangeTime:Ne)},be.prototype.updateLayerOpacities=function(Ne,et){for(var tt={},nt=0,rt=et;nt<rt.length;nt+=1){var it=rt[nt],ot=it.getBucket(Ne);ot&&it.latestFeatureIndex&&Ne.id===ot.layerIds[0]&&this.updateBucketOpacities(ot,tt,it.collisionBoxArray)}},be.prototype.updateBucketOpacities=function(et,tt,nt){var rt=this;et.hasTextData()&&et.text.opacityVertexArray.clear(),et.hasIconData()&&et.icon.opacityVertexArray.clear(),et.hasIconCollisionBoxData()&&et.iconCollisionBox.collisionVertexArray.clear(),et.hasTextCollisionBoxData()&&et.textCollisionBox.collisionVertexArray.clear();var it=et.layers[0].layout,ot=new _e(null,0,!1,!1,!0),at=it.get("text-allow-overlap"),st=it.get("icon-allow-overlap"),ct=it.get("text-variable-anchor"),pt="map"===it.get("text-rotation-alignment"),dt="map"===it.get("text-pitch-alignment"),ft="none"!==it.get("icon-text-fit"),mt=new _e(null,0,at&&(st||!et.hasIconData()||it.get("icon-optional")),st&&(at||!et.hasTextData()||it.get("text-optional")),!0);!et.collisionArrays&&nt&&(et.hasIconCollisionBoxData()||et.hasTextCollisionBoxData())&&et.deserializeCollisionBoxes(nt);for(var _=function(Ne,et,tt){for(var nt=0;nt<et/4;nt++)Ne.opacityVertexArray.emplaceBack(tt)},f=function(nt){var it=et.symbolInstances.get(nt),at=it.numHorizontalGlyphVertices,st=it.numVerticalGlyphVertices,yt=it.crossTileID,vt=rt.opacities[yt];tt[yt]?vt=ot:vt||(rt.opacities[yt]=vt=mt),tt[yt]=!0;var Ot=it.numIconVertices>0,Dt=rt.placedOrientations[it.crossTileID],Rt=Dt===Ne.WritingMode.vertical,Bt=Dt===Ne.WritingMode.horizontal||Dt===Ne.WritingMode.horizontalOnly;if(at>0||st>0){var rn=De(vt.text);_(et.text,at,Rt?Ls:rn),_(et.text,st,Bt?Ls:rn);var vn=vt.text.isHidden();[it.rightJustifiedTextSymbolIndex,it.centerJustifiedTextSymbolIndex,it.leftJustifiedTextSymbolIndex].forEach((function(Ne){Ne>=0&&(et.text.placedSymbolArray.get(Ne).hidden=vn||Rt?1:0)})),it.verticalPlacedTextSymbolIndex>=0&&(et.text.placedSymbolArray.get(it.verticalPlacedTextSymbolIndex).hidden=vn||Bt?1:0);var bn=rt.variableOffsets[it.crossTileID];bn&&rt.markUsedJustification(et,bn.anchor,it,Dt);var Tn=rt.placedOrientations[it.crossTileID];Tn&&(rt.markUsedJustification(et,"left",it,Tn),rt.markUsedOrientation(et,Tn,it))}if(Ot){var Cn=De(vt.icon),In=!(ft&&it.verticalPlacedIconSymbolIndex&&Rt);it.placedIconSymbolIndex>=0&&(_(et.icon,it.numIconVertices,In?Cn:Ls),et.icon.placedSymbolArray.get(it.placedIconSymbolIndex).hidden=vt.icon.isHidden()),it.verticalPlacedIconSymbolIndex>=0&&(_(et.icon,it.numVerticalIconVertices,In?Ls:Cn),et.icon.placedSymbolArray.get(it.verticalPlacedIconSymbolIndex).hidden=vt.icon.isHidden())}if(et.hasIconCollisionBoxData()||et.hasTextCollisionBoxData()){var Ln=et.collisionArrays[nt];if(Ln){var Mn=new Ne.Point(0,0);if(Ln.textBox||Ln.verticalTextBox){var zn=!0;if(ct){var Fn=rt.variableOffsets[yt];Fn?(Mn=ye(Fn.anchor,Fn.width,Fn.height,Fn.textOffset,Fn.textBoxScale),pt&&Mn._rotate(dt?rt.transform.angle:-rt.transform.angle)):zn=!1}Ln.textBox&&we(et.textCollisionBox.collisionVertexArray,vt.text.placed,!zn||Rt,Mn.x,Mn.y),Ln.verticalTextBox&&we(et.textCollisionBox.collisionVertexArray,vt.text.placed,!zn||Bt,Mn.x,Mn.y)}var Bn=Boolean(!Bt&&Ln.verticalIconBox);Ln.iconBox&&we(et.iconCollisionBox.collisionVertexArray,vt.icon.placed,Bn,ft?Mn.x:0,ft?Mn.y:0),Ln.verticalIconBox&&we(et.iconCollisionBox.collisionVertexArray,vt.icon.placed,!Bn,ft?Mn.x:0,ft?Mn.y:0)}}},yt=0;yt<et.symbolInstances.length;yt++)f(yt);if(et.sortFeatures(this.transform.angle),this.retainedQueryData[et.bucketInstanceId]&&(this.retainedQueryData[et.bucketInstanceId].featureSortOrder=et.featureSortOrder),et.hasTextData()&&et.text.opacityVertexBuffer&&et.text.opacityVertexBuffer.updateData(et.text.opacityVertexArray),et.hasIconData()&&et.icon.opacityVertexBuffer&&et.icon.opacityVertexBuffer.updateData(et.icon.opacityVertexArray),et.hasIconCollisionBoxData()&&et.iconCollisionBox.collisionVertexBuffer&&et.iconCollisionBox.collisionVertexBuffer.updateData(et.iconCollisionBox.collisionVertexArray),et.hasTextCollisionBoxData()&&et.textCollisionBox.collisionVertexBuffer&&et.textCollisionBox.collisionVertexBuffer.updateData(et.textCollisionBox.collisionVertexArray),et.bucketInstanceId in this.collisionCircleArrays){var vt=this.collisionCircleArrays[et.bucketInstanceId];et.placementInvProjMatrix=vt.invProjMatrix,et.placementViewportMatrix=vt.viewportMatrix,et.collisionCircleArray=vt.circles,delete this.collisionCircleArrays[et.bucketInstanceId]}},be.prototype.symbolFadeChange=function(Ne){return 0===this.fadeDuration?1:(Ne-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},be.prototype.zoomAdjustment=function(Ne){return Math.max(0,(this.transform.zoom-Ne)/1.5)},be.prototype.hasTransitions=function(Ne){return this.stale||Ne-this.lastPlacementChangeTime<this.fadeDuration},be.prototype.stillRecent=function(Ne,et){var tt=this.zoomAtLastRecencyCheck===et?1-this.zoomAdjustment(et):1;return this.zoomAtLastRecencyCheck=et,this.commitTime+this.fadeDuration*tt>Ne},be.prototype.setStale=function(){this.stale=!0};var vs=Math.pow(2,25),xs=Math.pow(2,24),Ss=Math.pow(2,17),Es=Math.pow(2,16),Cs=Math.pow(2,9),Ps=Math.pow(2,8),As=Math.pow(2,1);function De(Ne){if(0===Ne.opacity&&!Ne.placed)return 0;if(1===Ne.opacity&&Ne.placed)return 4294967295;var et=Ne.placed?1:0,tt=Math.floor(127*Ne.opacity);return tt*vs+et*xs+tt*Ss+et*Es+tt*Cs+et*Ps+tt*As+et}var Ls=0,Le=function(Ne){this._sortAcrossTiles="viewport-y"!==Ne.layout.get("symbol-z-order")&&void 0!==Ne.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Le.prototype.continuePlacement=function(Ne,et,tt,nt,rt){for(var it=this._bucketParts;this._currentTileIndex<Ne.length;)if(et.getBucketParts(it,nt,Ne[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,rt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,it.sort((function(Ne,et){return Ne.sortKey-et.sortKey})));this._currentPartIndex<it.length;)if(et.placeLayerBucketPart(it[this._currentPartIndex],this._seenCrossTileIDs,tt),this._currentPartIndex++,rt())return!0;return!1};var Ae=function(Ne,et,tt,nt,rt,it,ot){this.placement=new be(Ne,rt,it,ot),this._currentPlacementIndex=et.length-1,this._forceFullPlacement=tt,this._showCollisionBoxes=nt,this._done=!1};Ae.prototype.isDone=function(){return this._done},Ae.prototype.continuePlacement=function(et,tt,nt){for(var rt=this,it=Ne.browser.now(),n=function(){var et=Ne.browser.now()-it;return!rt._forceFullPlacement&&et>2};this._currentPlacementIndex>=0;){var ot=tt[et[this._currentPlacementIndex]],at=this.placement.collisionIndex.transform.zoom;if("symbol"===ot.type&&(!ot.minzoom||ot.minzoom<=at)&&(!ot.maxzoom||ot.maxzoom>at)){if(this._inProgressLayer||(this._inProgressLayer=new Le(ot)),this._inProgressLayer.continuePlacement(nt[ot.source],this.placement,this._showCollisionBoxes,ot,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ae.prototype.commit=function(Ne){return this.placement.commit(Ne),this.placement};var Ms=512/Ne.EXTENT/2,ke=function(Ne,et,tt){this.tileID=Ne,this.indexedSymbolInstances={},this.bucketInstanceId=tt;for(var nt=0;nt<et.length;nt++){var rt=et.get(nt),it=rt.key;this.indexedSymbolInstances[it]||(this.indexedSymbolInstances[it]=[]),this.indexedSymbolInstances[it].push({crossTileID:rt.crossTileID,coord:this.getScaledCoordinates(rt,Ne)})}};ke.prototype.getScaledCoordinates=function(et,tt){var nt=Ms/Math.pow(2,tt.canonical.z-this.tileID.canonical.z);return{x:Math.floor((tt.canonical.x*Ne.EXTENT+et.anchorX)*nt),y:Math.floor((tt.canonical.y*Ne.EXTENT+et.anchorY)*nt)}},ke.prototype.findMatches=function(Ne,et,tt){for(var nt=this.tileID.canonical.z<et.canonical.z?1:Math.pow(2,this.tileID.canonical.z-et.canonical.z),rt=0;rt<Ne.length;rt++){var it=Ne.get(rt);if(!it.crossTileID){var ot=this.indexedSymbolInstances[it.key];if(ot)for(var at=this.getScaledCoordinates(it,et),st=0,ct=ot;st<ct.length;st+=1){var pt=ct[st];if(Math.abs(pt.coord.x-at.x)<=nt&&Math.abs(pt.coord.y-at.y)<=nt&&!tt[pt.crossTileID]){tt[pt.crossTileID]=!0,it.crossTileID=pt.crossTileID;break}}}}};var Be=function(){this.maxCrossTileID=0};Be.prototype.generate=function(){return++this.maxCrossTileID};var Oe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Oe.prototype.handleWrapJump=function(Ne){var et=Math.round((Ne-this.lng)/360);if(0!==et)for(var tt in this.indexes){var nt=this.indexes[tt],rt={};for(var it in nt){var ot=nt[it];ot.tileID=ot.tileID.unwrapTo(ot.tileID.wrap+et),rt[ot.tileID.key]=ot}this.indexes[tt]=rt}this.lng=Ne},Oe.prototype.addBucket=function(Ne,et,tt){if(this.indexes[Ne.overscaledZ]&&this.indexes[Ne.overscaledZ][Ne.key]){if(this.indexes[Ne.overscaledZ][Ne.key].bucketInstanceId===et.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Ne.overscaledZ,this.indexes[Ne.overscaledZ][Ne.key])}for(var nt=0;nt<et.symbolInstances.length;nt++)et.symbolInstances.get(nt).crossTileID=0;this.usedCrossTileIDs[Ne.overscaledZ]||(this.usedCrossTileIDs[Ne.overscaledZ]={});var rt=this.usedCrossTileIDs[Ne.overscaledZ];for(var it in this.indexes){var ot=this.indexes[it];if(Number(it)>Ne.overscaledZ)for(var at in ot){var st=ot[at];st.tileID.isChildOf(Ne)&&st.findMatches(et.symbolInstances,Ne,rt)}else{var ct=ot[Ne.scaledTo(Number(it)).key];ct&&ct.findMatches(et.symbolInstances,Ne,rt)}}for(var pt=0;pt<et.symbolInstances.length;pt++){var dt=et.symbolInstances.get(pt);dt.crossTileID||(dt.crossTileID=tt.generate(),rt[dt.crossTileID]=!0)}return void 0===this.indexes[Ne.overscaledZ]&&(this.indexes[Ne.overscaledZ]={}),this.indexes[Ne.overscaledZ][Ne.key]=new ke(Ne,et.symbolInstances,et.bucketInstanceId),!0},Oe.prototype.removeBucketCrossTileIDs=function(Ne,et){for(var tt in et.indexedSymbolInstances)for(var nt=0,rt=et.indexedSymbolInstances[tt];nt<rt.length;nt+=1)delete this.usedCrossTileIDs[Ne][rt[nt].crossTileID]},Oe.prototype.removeStaleBuckets=function(Ne){var et=!1;for(var tt in this.indexes){var nt=this.indexes[tt];for(var rt in nt)Ne[nt[rt].bucketInstanceId]||(this.removeBucketCrossTileIDs(tt,nt[rt]),delete nt[rt],et=!0)}return et};var Fe=function(){this.layerIndexes={},this.crossTileIDs=new Be,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Fe.prototype.addLayer=function(Ne,et,tt){var nt=this.layerIndexes[Ne.id];void 0===nt&&(nt=this.layerIndexes[Ne.id]=new Oe);var rt=!1,it={};nt.handleWrapJump(tt);for(var ot=0,at=et;ot<at.length;ot+=1){var st=at[ot],ct=st.getBucket(Ne);ct&&Ne.id===ct.layerIds[0]&&(ct.bucketInstanceId||(ct.bucketInstanceId=++this.maxBucketInstanceId),nt.addBucket(st.tileID,ct,this.crossTileIDs)&&(rt=!0),it[ct.bucketInstanceId]=!0)}return nt.removeStaleBuckets(it)&&(rt=!0),rt},Fe.prototype.pruneUnusedLayers=function(Ne){var et={};for(var tt in Ne.forEach((function(Ne){et[Ne]=!0})),this.layerIndexes)et[tt]||delete this.layerIndexes[tt]};var Ue=function(et,tt){return Ne.emitValidationErrors(et,tt&&tt.filter((function(Ne){return"source.canvas"!==Ne.identifier})))},Os=Ne.pick(fs,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),zs=Ne.pick(fs,["setCenter","setZoom","setBearing","setPitch"]),Rs=function(){var et={},tt=Ne.styleSpec.$version;for(var nt in Ne.styleSpec.$root){var rt,it=Ne.styleSpec.$root[nt];it.required&&null!=(rt="version"===nt?tt:"array"===it.type?[]:{})&&(et[nt]=rt)}return et}(),Fs=function(et){function i(tt,nt){var rt=this;void 0===nt&&(nt={}),et.call(this),this.map=tt,this.dispatcher=new vt(Ft(),this),this.imageManager=new ct,this.imageManager.setEventedParent(this),this.glyphManager=new y(tt._requestManager,nt.localIdeographFontFamily),this.lineAtlas=new T(256,512),this.crossTileSymbolIndex=new Fe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new Ne.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",Ne.getReferrer());var it=this;this._rtlTextPluginCallback=i.registerForPluginStateChange((function(et){it.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:et.pluginStatus,pluginURL:et.pluginURL},(function(et,tt){if(Ne.triggerPluginCompletionEvent(et),tt&&tt.every((function(Ne){return Ne})))for(var nt in it.sourceCaches)it.sourceCaches[nt].reload()}))})),this.on("data",(function(Ne){if("source"===Ne.dataType&&"metadata"===Ne.sourceDataType){var et=rt.sourceCaches[Ne.sourceId];if(et){var tt=et.getSource();if(tt&&tt.vectorLayerIds)for(var nt in rt._layers){var it=rt._layers[nt];it.source===tt.id&&rt._validateLayer(it)}}}}))}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.loadURL=function(et,tt){var nt=this;void 0===tt&&(tt={}),this.fire(new Ne.Event("dataloading",{dataType:"style"}));var rt="boolean"==typeof tt.validate?tt.validate:!Ne.isMapboxURL(et);et=this.map._requestManager.normalizeStyleURL(et,tt.accessToken);var it=this.map._requestManager.transformRequest(et,Ne.ResourceType.Style);this._request=Ne.getJSON(it,(function(et,tt){nt._request=null,et?nt.fire(new Ne.ErrorEvent(et)):tt&&nt._load(tt,rt)}))},i.prototype.loadJSON=function(et,tt){var nt=this;void 0===tt&&(tt={}),this.fire(new Ne.Event("dataloading",{dataType:"style"})),this._request=Ne.browser.frame((function(){nt._request=null,nt._load(et,!1!==tt.validate)}))},i.prototype.loadEmpty=function(){this.fire(new Ne.Event("dataloading",{dataType:"style"})),this._load(Rs,!1)},i.prototype._load=function(et,tt){if(!tt||!Ue(this,Ne.validateStyle(et))){for(var nt in this._loaded=!0,this.stylesheet=et,et.sources)this.addSource(nt,et.sources[nt],{validate:!1});et.sprite?this._loadSprite(et.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(et.glyphs);var rt=Nt(this.stylesheet.layers);this._order=rt.map((function(Ne){return Ne.id})),this._layers={},this._serializedLayers={};for(var it=0,ot=rt;it<ot.length;it+=1){var at=ot[it];(at=Ne.createStyleLayer(at)).setEventedParent(this,{layer:{id:at.id}}),this._layers[at.id]=at,this._serializedLayers[at.id]=at.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new yt(this.stylesheet.light),this.fire(new Ne.Event("data",{dataType:"style"})),this.fire(new Ne.Event("style.load"))}},i.prototype._loadSprite=function(et){var tt=this;this._spriteRequest=function(et,tt,nt){var rt,it,ot,at=Ne.browser.devicePixelRatio>1?"@2x":"",st=Ne.getJSON(tt.transformRequest(tt.normalizeSpriteURL(et,at,".json"),Ne.ResourceType.SpriteJSON),(function(Ne,et){st=null,ot||(ot=Ne,rt=et,u())})),ct=Ne.getImage(tt.transformRequest(tt.normalizeSpriteURL(et,at,".png"),Ne.ResourceType.SpriteImage),(function(Ne,et){ct=null,ot||(ot=Ne,it=et,u())}));function u(){if(ot)nt(ot);else if(rt&&it){var et=Ne.browser.getImageData(it),tt={};for(var at in rt){var st=rt[at],ct=st.width,pt=st.height,dt=st.x,ft=st.y,mt=st.sdf,yt=st.pixelRatio,vt=st.stretchX,Ot=st.stretchY,Dt=st.content,Rt=new Ne.RGBAImage({width:ct,height:pt});Ne.RGBAImage.copy(et,Rt,{x:dt,y:ft},{x:0,y:0},{width:ct,height:pt}),tt[at]={data:Rt,pixelRatio:yt,sdf:mt,stretchX:vt,stretchY:Ot,content:Dt}}nt(null,tt)}}return{cancel:function(){st&&(st.cancel(),st=null),ct&&(ct.cancel(),ct=null)}}}(et,this.map._requestManager,(function(et,nt){if(tt._spriteRequest=null,et)tt.fire(new Ne.ErrorEvent(et));else if(nt)for(var rt in nt)tt.imageManager.addImage(rt,nt[rt]);tt.imageManager.setLoaded(!0),tt._availableImages=tt.imageManager.listImages(),tt.dispatcher.broadcast("setImages",tt._availableImages),tt.fire(new Ne.Event("data",{dataType:"style"}))}))},i.prototype._validateLayer=function(et){var tt=this.sourceCaches[et.source];if(tt){var nt=et.sourceLayer;if(nt){var rt=tt.getSource();("geojson"===rt.type||rt.vectorLayerIds&&-1===rt.vectorLayerIds.indexOf(nt))&&this.fire(new Ne.ErrorEvent(new Error('Source layer "'+nt+'" does not exist on source "'+rt.id+'" as specified by style layer "'+et.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var Ne in this.sourceCaches)if(!this.sourceCaches[Ne].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(Ne){for(var et=[],tt=0,nt=Ne;tt<nt.length;tt+=1){var rt=this._layers[nt[tt]];"custom"!==rt.type&&et.push(rt.serialize())}return et},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var Ne in this.sourceCaches)if(this.sourceCaches[Ne].hasTransition())return!0;for(var et in this._layers)if(this._layers[et].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(et){if(this._loaded){var tt=this._changed;if(this._changed){var nt=Object.keys(this._updatedLayers),rt=Object.keys(this._removedLayers);for(var it in(nt.length||rt.length)&&this._updateWorkerLayers(nt,rt),this._updatedSources){var ot=this._updatedSources[it];"reload"===ot?this._reloadSource(it):"clear"===ot&&this._clearSource(it)}for(var at in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[at].updateTransitions(et);this.light.updateTransitions(et),this._resetUpdates()}for(var st in this.sourceCaches)this.sourceCaches[st].used=!1;for(var ct=0,pt=this._order;ct<pt.length;ct+=1){var dt=this._layers[pt[ct]];dt.recalculate(et,this._availableImages),!dt.isHidden(et.zoom)&&dt.source&&(this.sourceCaches[dt.source].used=!0)}this.light.recalculate(et),this.z=et.zoom,tt&&this.fire(new Ne.Event("data",{dataType:"style"}))}},i.prototype._updateTilesForChangedImages=function(){var Ne=Object.keys(this._changedImages);if(Ne.length){for(var et in this.sourceCaches)this.sourceCaches[et].reloadTilesForDependencies(["icons","patterns"],Ne);this._changedImages={}}},i.prototype._updateWorkerLayers=function(Ne,et){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(Ne),removedIds:et})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},i.prototype.setState=function(et){var tt=this;if(this._checkLoaded(),Ue(this,Ne.validateStyle(et)))return!1;(et=Ne.clone$1(et)).layers=Nt(et.layers);var nt=function(et,tt){if(!et)return[{command:fs.setStyle,args:[tt]}];var nt=[];try{if(!Ne.deepEqual(et.version,tt.version))return[{command:fs.setStyle,args:[tt]}];Ne.deepEqual(et.center,tt.center)||nt.push({command:fs.setCenter,args:[tt.center]}),Ne.deepEqual(et.zoom,tt.zoom)||nt.push({command:fs.setZoom,args:[tt.zoom]}),Ne.deepEqual(et.bearing,tt.bearing)||nt.push({command:fs.setBearing,args:[tt.bearing]}),Ne.deepEqual(et.pitch,tt.pitch)||nt.push({command:fs.setPitch,args:[tt.pitch]}),Ne.deepEqual(et.sprite,tt.sprite)||nt.push({command:fs.setSprite,args:[tt.sprite]}),Ne.deepEqual(et.glyphs,tt.glyphs)||nt.push({command:fs.setGlyphs,args:[tt.glyphs]}),Ne.deepEqual(et.transition,tt.transition)||nt.push({command:fs.setTransition,args:[tt.transition]}),Ne.deepEqual(et.light,tt.light)||nt.push({command:fs.setLight,args:[tt.light]});var rt={},it=[];!function(et,tt,nt,rt){var it;for(it in tt=tt||{},et=et||{})et.hasOwnProperty(it)&&(tt.hasOwnProperty(it)||qt(it,nt,rt));for(it in tt)tt.hasOwnProperty(it)&&(et.hasOwnProperty(it)?Ne.deepEqual(et[it],tt[it])||("geojson"===et[it].type&&"geojson"===tt[it].type&&Gt(et,tt,it)?nt.push({command:fs.setGeoJSONSourceData,args:[it,tt[it].data]}):Vt(it,tt,nt,rt)):jt(it,tt,nt))}(et.sources,tt.sources,it,rt);var ot=[];et.layers&&et.layers.forEach((function(Ne){rt[Ne.source]?nt.push({command:fs.removeLayer,args:[Ne.id]}):ot.push(Ne)})),nt=nt.concat(it),function(et,tt,nt){tt=tt||[];var rt,it,ot,at,st,ct,pt,dt=(et=et||[]).map(Xt),ft=tt.map(Xt),mt=et.reduce(Ht,{}),yt=tt.reduce(Ht,{}),vt=dt.slice(),Ot=Object.create(null);for(rt=0,it=0;rt<dt.length;rt++)yt.hasOwnProperty(ot=dt[rt])?it++:(nt.push({command:fs.removeLayer,args:[ot]}),vt.splice(vt.indexOf(ot,it),1));for(rt=0,it=0;rt<ft.length;rt++)vt[vt.length-1-rt]!==(ot=ft[ft.length-1-rt])&&(mt.hasOwnProperty(ot)?(nt.push({command:fs.removeLayer,args:[ot]}),vt.splice(vt.lastIndexOf(ot,vt.length-it),1)):it++,nt.push({command:fs.addLayer,args:[yt[ot],ct=vt[vt.length-rt]]}),vt.splice(vt.length-rt,0,ot),Ot[ot]=!0);for(rt=0;rt<ft.length;rt++)if(at=mt[ot=ft[rt]],st=yt[ot],!Ot[ot]&&!Ne.deepEqual(at,st))if(Ne.deepEqual(at.source,st.source)&&Ne.deepEqual(at["source-layer"],st["source-layer"])&&Ne.deepEqual(at.type,st.type)){for(pt in Wt(at.layout,st.layout,nt,ot,null,fs.setLayoutProperty),Wt(at.paint,st.paint,nt,ot,null,fs.setPaintProperty),Ne.deepEqual(at.filter,st.filter)||nt.push({command:fs.setFilter,args:[ot,st.filter]}),Ne.deepEqual(at.minzoom,st.minzoom)&&Ne.deepEqual(at.maxzoom,st.maxzoom)||nt.push({command:fs.setLayerZoomRange,args:[ot,st.minzoom,st.maxzoom]}),at)at.hasOwnProperty(pt)&&"layout"!==pt&&"paint"!==pt&&"filter"!==pt&&"metadata"!==pt&&"minzoom"!==pt&&"maxzoom"!==pt&&(0===pt.indexOf("paint.")?Wt(at[pt],st[pt],nt,ot,pt.slice(6),fs.setPaintProperty):Ne.deepEqual(at[pt],st[pt])||nt.push({command:fs.setLayerProperty,args:[ot,pt,st[pt]]}));for(pt in st)st.hasOwnProperty(pt)&&!at.hasOwnProperty(pt)&&"layout"!==pt&&"paint"!==pt&&"filter"!==pt&&"metadata"!==pt&&"minzoom"!==pt&&"maxzoom"!==pt&&(0===pt.indexOf("paint.")?Wt(at[pt],st[pt],nt,ot,pt.slice(6),fs.setPaintProperty):Ne.deepEqual(at[pt],st[pt])||nt.push({command:fs.setLayerProperty,args:[ot,pt,st[pt]]}))}else nt.push({command:fs.removeLayer,args:[ot]}),ct=vt[vt.lastIndexOf(ot)+1],nt.push({command:fs.addLayer,args:[st,ct]})}(ot,tt.layers,nt)}catch(Ne){console.warn("Unable to compute style diff:",Ne),nt=[{command:fs.setStyle,args:[tt]}]}return nt}(this.serialize(),et).filter((function(Ne){return!(Ne.command in zs)}));if(0===nt.length)return!1;var rt=nt.filter((function(Ne){return!(Ne.command in Os)}));if(rt.length>0)throw new Error("Unimplemented: "+rt.map((function(Ne){return Ne.command})).join(", ")+".");return nt.forEach((function(Ne){"setTransition"!==Ne.command&&tt[Ne.command].apply(tt,Ne.args)})),this.stylesheet=et,!0},i.prototype.addImage=function(et,tt){if(this.getImage(et))return this.fire(new Ne.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(et,tt),this._availableImages=this.imageManager.listImages(),this._changedImages[et]=!0,this._changed=!0,this.fire(new Ne.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(Ne,et){this.imageManager.updateImage(Ne,et)},i.prototype.getImage=function(Ne){return this.imageManager.getImage(Ne)},i.prototype.removeImage=function(et){if(!this.getImage(et))return this.fire(new Ne.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(et),this._availableImages=this.imageManager.listImages(),this._changedImages[et]=!0,this._changed=!0,this.fire(new Ne.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(et,tt,nt){var rt=this;if(void 0===nt&&(nt={}),this._checkLoaded(),void 0!==this.sourceCaches[et])throw new Error("There is already a source with this ID");if(!tt.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(tt).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(tt.type)>=0&&this._validate(Ne.validateStyle.source,"sources."+et,tt,null,nt))){this.map&&this.map._collectResourceTiming&&(tt.collectResourceTiming=!0);var it=this.sourceCaches[et]=new as(et,tt,this.dispatcher);it.style=this,it.setEventedParent(this,(function(){return{isSourceLoaded:rt.loaded(),source:it.serialize(),sourceId:et}})),it.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(et){if(this._checkLoaded(),void 0===this.sourceCaches[et])throw new Error("There is no source with this ID");for(var tt in this._layers)if(this._layers[tt].source===et)return this.fire(new Ne.ErrorEvent(new Error('Source "'+et+'" cannot be removed while layer "'+tt+'" is using it.')));var nt=this.sourceCaches[et];delete this.sourceCaches[et],delete this._updatedSources[et],nt.fire(new Ne.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:et})),nt.setEventedParent(null),nt.clearTiles(),nt.onRemove&&nt.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(Ne,et){this._checkLoaded(),this.sourceCaches[Ne].getSource().setData(et),this._changed=!0},i.prototype.getSource=function(Ne){return this.sourceCaches[Ne]&&this.sourceCaches[Ne].getSource()},i.prototype.addLayer=function(et,tt,nt){void 0===nt&&(nt={}),this._checkLoaded();var rt=et.id;if(this.getLayer(rt))this.fire(new Ne.ErrorEvent(new Error('Layer with id "'+rt+'" already exists on this map')));else{var it;if("custom"===et.type){if(Ue(this,Ne.validateCustomStyleLayer(et)))return;it=Ne.createStyleLayer(et)}else{if("object"==typeof et.source&&(this.addSource(rt,et.source),et=Ne.clone$1(et),et=Ne.extend(et,{source:rt})),this._validate(Ne.validateStyle.layer,"layers."+rt,et,{arrayIndex:-1},nt))return;it=Ne.createStyleLayer(et),this._validateLayer(it),it.setEventedParent(this,{layer:{id:rt}}),this._serializedLayers[it.id]=it.serialize()}var ot=tt?this._order.indexOf(tt):this._order.length;if(tt&&-1===ot)this.fire(new Ne.ErrorEvent(new Error('Layer with id "'+tt+'" does not exist on this map.')));else{if(this._order.splice(ot,0,rt),this._layerOrderChanged=!0,this._layers[rt]=it,this._removedLayers[rt]&&it.source&&"custom"!==it.type){var at=this._removedLayers[rt];delete this._removedLayers[rt],at.type!==it.type?this._updatedSources[it.source]="clear":(this._updatedSources[it.source]="reload",this.sourceCaches[it.source].pause())}this._updateLayer(it),it.onAdd&&it.onAdd(this.map)}}},i.prototype.moveLayer=function(et,tt){if(this._checkLoaded(),this._changed=!0,this._layers[et]){if(et!==tt){var nt=this._order.indexOf(et);this._order.splice(nt,1);var rt=tt?this._order.indexOf(tt):this._order.length;tt&&-1===rt?this.fire(new Ne.ErrorEvent(new Error('Layer with id "'+tt+'" does not exist on this map.'))):(this._order.splice(rt,0,et),this._layerOrderChanged=!0)}}else this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(et){this._checkLoaded();var tt=this._layers[et];if(tt){tt.setEventedParent(null);var nt=this._order.indexOf(et);this._order.splice(nt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[et]=tt,delete this._layers[et],delete this._serializedLayers[et],delete this._updatedLayers[et],delete this._updatedPaintProps[et],tt.onRemove&&tt.onRemove(this.map)}else this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(Ne){return this._layers[Ne]},i.prototype.hasLayer=function(Ne){return Ne in this._layers},i.prototype.setLayerZoomRange=function(et,tt,nt){this._checkLoaded();var rt=this.getLayer(et);rt?rt.minzoom===tt&&rt.maxzoom===nt||(null!=tt&&(rt.minzoom=tt),null!=nt&&(rt.maxzoom=nt),this._updateLayer(rt)):this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(et,tt,nt){void 0===nt&&(nt={}),this._checkLoaded();var rt=this.getLayer(et);if(rt){if(!Ne.deepEqual(rt.filter,tt))return null==tt?(rt.filter=void 0,void this._updateLayer(rt)):void(this._validate(Ne.validateStyle.filter,"layers."+rt.id+".filter",tt,null,nt)||(rt.filter=Ne.clone$1(tt),this._updateLayer(rt)))}else this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(et){return Ne.clone$1(this.getLayer(et).filter)},i.prototype.setLayoutProperty=function(et,tt,nt,rt){void 0===rt&&(rt={}),this._checkLoaded();var it=this.getLayer(et);it?Ne.deepEqual(it.getLayoutProperty(tt),nt)||(it.setLayoutProperty(tt,nt,rt),this._updateLayer(it)):this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(et,tt){var nt=this.getLayer(et);if(nt)return nt.getLayoutProperty(tt);this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(et,tt,nt,rt){void 0===rt&&(rt={}),this._checkLoaded();var it=this.getLayer(et);it?Ne.deepEqual(it.getPaintProperty(tt),nt)||(it.setPaintProperty(tt,nt,rt)&&this._updateLayer(it),this._changed=!0,this._updatedPaintProps[et]=!0):this.fire(new Ne.ErrorEvent(new Error("The layer '"+et+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(Ne,et){return this.getLayer(Ne).getPaintProperty(et)},i.prototype.setFeatureState=function(et,tt){this._checkLoaded();var nt=et.source,rt=et.sourceLayer,it=this.sourceCaches[nt];if(void 0!==it){var ot=it.getSource().type;"geojson"===ot&&rt?this.fire(new Ne.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ot||rt?(void 0===et.id&&this.fire(new Ne.ErrorEvent(new Error("The feature id parameter must be provided."))),it.setFeatureState(rt,et.id,tt)):this.fire(new Ne.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ne.ErrorEvent(new Error("The source '"+nt+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(et,tt){this._checkLoaded();var nt=et.source,rt=this.sourceCaches[nt];if(void 0!==rt){var it=rt.getSource().type,ot="vector"===it?et.sourceLayer:void 0;"vector"!==it||ot?tt&&"string"!=typeof et.id&&"number"!=typeof et.id?this.fire(new Ne.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):rt.removeFeatureState(ot,et.id,tt):this.fire(new Ne.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ne.ErrorEvent(new Error("The source '"+nt+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(et){this._checkLoaded();var tt=et.source,nt=et.sourceLayer,rt=this.sourceCaches[tt];if(void 0!==rt){if("vector"!==rt.getSource().type||nt)return void 0===et.id&&this.fire(new Ne.ErrorEvent(new Error("The feature id parameter must be provided."))),rt.getFeatureState(nt,et.id);this.fire(new Ne.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new Ne.ErrorEvent(new Error("The source '"+tt+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return Ne.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return Ne.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:Ne.mapObject(this.sourceCaches,(function(Ne){return Ne.serialize()})),layers:this._serializeLayers(this._order)},(function(Ne){return void 0!==Ne}))},i.prototype._updateLayer=function(Ne){this._updatedLayers[Ne.id]=!0,Ne.source&&!this._updatedSources[Ne.source]&&"raster"!==this.sourceCaches[Ne.source].getSource().type&&(this._updatedSources[Ne.source]="reload",this.sourceCaches[Ne.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(Ne){for(var et=this,i=function(Ne){return"fill-extrusion"===et._layers[Ne].type},tt={},nt=[],rt=this._order.length-1;rt>=0;rt--){var it=this._order[rt];if(i(it)){tt[it]=rt;for(var ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot][it];if(st)for(var ct=0,pt=st;ct<pt.length;ct+=1)nt.push(pt[ct])}}}nt.sort((function(Ne,et){return et.intersectionZ-Ne.intersectionZ}));for(var dt=[],ft=this._order.length-1;ft>=0;ft--){var mt=this._order[ft];if(i(mt))for(var yt=nt.length-1;yt>=0;yt--){var vt=nt[yt].feature;if(tt[vt.layer.id]<ft)break;dt.push(vt),nt.pop()}else for(var Ot=0,Dt=Ne;Ot<Dt.length;Ot+=1){var Rt=Dt[Ot][mt];if(Rt)for(var Bt=0,rn=Rt;Bt<rn.length;Bt+=1)dt.push(rn[Bt].feature)}}return dt},i.prototype.queryRenderedFeatures=function(et,tt,nt){tt&&tt.filter&&this._validate(Ne.validateStyle.filter,"queryRenderedFeatures.filter",tt.filter,null,tt);var rt={};if(tt&&tt.layers){if(!Array.isArray(tt.layers))return this.fire(new Ne.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var it=0,ot=tt.layers;it<ot.length;it+=1){var at=ot[it],st=this._layers[at];if(!st)return this.fire(new Ne.ErrorEvent(new Error("The layer '"+at+"' does not exist in the map's style and cannot be queried for features."))),[];rt[st.source]=!0}}var ct=[];for(var pt in tt.availableImages=this._availableImages,this.sourceCaches)tt.layers&&!rt[pt]||ct.push(O(this.sourceCaches[pt],this._layers,this._serializedLayers,et,tt,nt));return this.placement&&ct.push(function(Ne,et,tt,nt,rt,it,ot){for(var at={},st=it.queryRenderedSymbols(nt),ct=[],pt=0,dt=Object.keys(st).map(Number);pt<dt.length;pt+=1)ct.push(ot[dt[pt]]);ct.sort(F);for(var p=function(){var tt=mt[ft],nt=tt.featureIndex.lookupSymbolFeatures(st[tt.bucketInstanceId],et,tt.bucketIndex,tt.sourceLayerIndex,rt.filter,rt.layers,rt.availableImages,Ne);for(var it in nt){var ot=at[it]=at[it]||[],ct=nt[it];ct.sort((function(Ne,et){var nt=tt.featureSortOrder;if(nt){var rt=nt.indexOf(Ne.featureIndex);return nt.indexOf(et.featureIndex)-rt}return et.featureIndex-Ne.featureIndex}));for(var pt=0,dt=ct;pt<dt.length;pt+=1)ot.push(dt[pt])}},ft=0,mt=ct;ft<mt.length;ft+=1)p();var f=function(et){at[et].forEach((function(nt){var rt=nt.feature,it=tt[Ne[et].source].getFeatureState(rt.layer["source-layer"],rt.id);rt.source=rt.layer.source,rt.layer["source-layer"]&&(rt.sourceLayer=rt.layer["source-layer"]),rt.state=it}))};for(var yt in at)f(yt);return at}(this._layers,this._serializedLayers,this.sourceCaches,et,tt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ct)},i.prototype.querySourceFeatures=function(et,tt){tt&&tt.filter&&this._validate(Ne.validateStyle.filter,"querySourceFeatures.filter",tt.filter,null,tt);var nt=this.sourceCaches[et];return nt?function(Ne,et){for(var tt=Ne.getRenderableIds().map((function(et){return Ne.getTileByID(et)})),nt=[],rt={},it=0;it<tt.length;it++){var ot=tt[it],at=ot.tileID.canonical.key;rt[at]||(rt[at]=!0,ot.querySourceFeatures(nt,et))}return nt}(nt,tt):[]},i.prototype.addSourceType=function(Ne,et,tt){return i.getSourceType(Ne)?tt(new Error('A source type called "'+Ne+'" already exists.')):(i.setSourceType(Ne,et),et.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:Ne,url:et.workerSourceURL},tt):tt(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(et,tt){void 0===tt&&(tt={}),this._checkLoaded();var nt=this.light.getLight(),rt=!1;for(var it in et)if(!Ne.deepEqual(et[it],nt[it])){rt=!0;break}if(rt){var ot={now:Ne.browser.now(),transition:Ne.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(et,tt),this.light.updateTransitions(ot)}},i.prototype._validate=function(et,tt,nt,rt,it){return void 0===it&&(it={}),(!it||!1!==it.validate)&&Ue(this,et.call(Ne.validateStyle,Ne.extend({key:tt,style:this.serialize(),value:nt,styleSpec:Ne.styleSpec},rt)))},i.prototype._remove=function(){for(var et in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),Ne.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[et].setEventedParent(null);for(var tt in this.sourceCaches)this.sourceCaches[tt].clearTiles(),this.sourceCaches[tt].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},i.prototype._clearSource=function(Ne){this.sourceCaches[Ne].clearTiles()},i.prototype._reloadSource=function(Ne){this.sourceCaches[Ne].resume(),this.sourceCaches[Ne].reload()},i.prototype._updateSources=function(Ne){for(var et in this.sourceCaches)this.sourceCaches[et].update(Ne)},i.prototype._generateCollisionBoxes=function(){for(var Ne in this.sourceCaches)this._reloadSource(Ne)},i.prototype._updatePlacement=function(et,tt,nt,rt,it){void 0===it&&(it=!1);for(var ot=!1,at=!1,st={},ct=0,pt=this._order;ct<pt.length;ct+=1){var dt=this._layers[pt[ct]];if("symbol"===dt.type){if(!st[dt.source]){var ft=this.sourceCaches[dt.source];st[dt.source]=ft.getRenderableIds(!0).map((function(Ne){return ft.getTileByID(Ne)})).sort((function(Ne,et){return et.tileID.overscaledZ-Ne.tileID.overscaledZ||(Ne.tileID.isLessThan(et.tileID)?-1:1)}))}var mt=this.crossTileSymbolIndex.addLayer(dt,st[dt.source],et.center.lng);ot=ot||mt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((it=it||this._layerOrderChanged||0===nt)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(Ne.browser.now(),et.zoom))&&(this.pauseablePlacement=new Ae(et,this._order,it,tt,nt,rt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,st),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(Ne.browser.now()),at=!0),ot&&this.pauseablePlacement.placement.setStale()),at||ot)for(var yt=0,vt=this._order;yt<vt.length;yt+=1){var Ot=this._layers[vt[yt]];"symbol"===Ot.type&&this.placement.updateLayerOpacities(Ot,st[Ot.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(Ne.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var Ne in this.sourceCaches)this.sourceCaches[Ne].releaseSymbolFadeTiles()},i.prototype.getImages=function(Ne,et,tt){this.imageManager.getImages(et.icons,tt),this._updateTilesForChangedImages();var nt=this.sourceCaches[et.source];nt&&nt.setDependencies(et.tileID.key,et.type,et.icons)},i.prototype.getGlyphs=function(Ne,et,tt){this.glyphManager.getGlyphs(et.stacks,tt)},i.prototype.getResource=function(et,tt,nt){return Ne.makeRequest(tt,nt)},i}(Ne.Evented);Fs.getSourceType=function(Ne){return Cn[Ne]},Fs.setSourceType=function(Ne,et){Cn[Ne]=et},Fs.registerForPluginStateChange=Ne.registerForPluginStateChange;var Bs=Ne.createLayout([{name:"a_pos",type:"Int16",components:2}]),js=gi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ns=gi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Vs=gi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Us=gi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Zs=gi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Js=gi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),tl=gi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ol=gi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),sl=gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),dl=gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),gl=gi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),yl=gi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),vl=gi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),_l=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),bl=gi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),xl=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),wl=gi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Sl=gi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Cl=gi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),kl=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Il=gi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Al=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),zl=gi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Fl=gi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Hl=gi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),du=gi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gi(Ne,et){var tt=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,nt=et.match(/attribute ([\w]+) ([\w]+)/g),rt=Ne.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),it=et.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ot=it?it.concat(rt):rt,at={};return{fragmentSource:Ne=Ne.replace(tt,(function(Ne,et,tt,nt,rt){return at[rt]=!0,"define"===et?"\n#ifndef HAS_UNIFORM_u_"+rt+"\nvarying "+tt+" "+nt+" "+rt+";\n#else\nuniform "+tt+" "+nt+" u_"+rt+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+rt+"\n    "+tt+" "+nt+" "+rt+" = u_"+rt+";\n#endif\n"})),vertexSource:et=et.replace(tt,(function(Ne,et,tt,nt,rt){var it="float"===nt?"vec2":"vec4",ot=rt.match(/color/)?"color":it;return at[rt]?"define"===et?"\n#ifndef HAS_UNIFORM_u_"+rt+"\nuniform lowp float u_"+rt+"_t;\nattribute "+tt+" "+it+" a_"+rt+";\nvarying "+tt+" "+nt+" "+rt+";\n#else\nuniform "+tt+" "+nt+" u_"+rt+";\n#endif\n":"vec4"===ot?"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+rt+" = a_"+rt+";\n#else\n    "+tt+" "+nt+" "+rt+" = u_"+rt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+rt+" = unpack_mix_"+ot+"(a_"+rt+", u_"+rt+"_t);\n#else\n    "+tt+" "+nt+" "+rt+" = u_"+rt+";\n#endif\n":"define"===et?"\n#ifndef HAS_UNIFORM_u_"+rt+"\nuniform lowp float u_"+rt+"_t;\nattribute "+tt+" "+it+" a_"+rt+";\n#else\nuniform "+tt+" "+nt+" u_"+rt+";\n#endif\n":"vec4"===ot?"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+tt+" "+nt+" "+rt+" = a_"+rt+";\n#else\n    "+tt+" "+nt+" "+rt+" = u_"+rt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+tt+" "+nt+" "+rt+" = unpack_mix_"+ot+"(a_"+rt+", u_"+rt+"_t);\n#else\n    "+tt+" "+nt+" "+rt+" = u_"+rt+";\n#endif\n"})),staticAttributes:nt,staticUniforms:ot}}var vu=Object.freeze({__proto__:null,prelude:js,background:Ns,backgroundPattern:Vs,circle:Us,clippingMask:Zs,heatmap:Js,heatmapTexture:tl,collisionBox:ol,collisionCircle:sl,debug:dl,fill:gl,fillOutline:yl,fillOutlinePattern:vl,fillPattern:_l,fillExtrusion:bl,fillExtrusionPattern:xl,hillshadePrepare:wl,hillshade:Sl,line:Cl,lineGradient:kl,linePattern:Il,lineSDF:Al,raster:zl,symbolIcon:Fl,symbolSDF:Hl,symbolTextAndIcon:du}),yi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xi(Ne){for(var et=[],tt=0;tt<Ne.length;tt++)if(null!==Ne[tt]){var nt=Ne[tt].split(" ");et.push(nt.pop())}return et}yi.prototype.bind=function(Ne,et,tt,nt,rt,it,ot,at){this.context=Ne;for(var st=this.boundPaintVertexBuffers.length!==nt.length,ct=0;!st&&ct<nt.length;ct++)this.boundPaintVertexBuffers[ct]!==nt[ct]&&(st=!0);Ne.extVertexArrayObject&&this.vao&&this.boundProgram===et&&this.boundLayoutVertexBuffer===tt&&!st&&this.boundIndexBuffer===rt&&this.boundVertexOffset===it&&this.boundDynamicVertexBuffer===ot&&this.boundDynamicVertexBuffer2===at?(Ne.bindVertexArrayOES.set(this.vao),ot&&ot.bind(),rt&&rt.dynamicDraw&&rt.bind(),at&&at.bind()):this.freshBind(et,tt,nt,rt,it,ot,at)},yi.prototype.freshBind=function(Ne,et,tt,nt,rt,it,ot){var at,st=Ne.numAttributes,ct=this.context,pt=ct.gl;if(ct.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ct.extVertexArrayObject.createVertexArrayOES(),ct.bindVertexArrayOES.set(this.vao),at=0,this.boundProgram=Ne,this.boundLayoutVertexBuffer=et,this.boundPaintVertexBuffers=tt,this.boundIndexBuffer=nt,this.boundVertexOffset=rt,this.boundDynamicVertexBuffer=it,this.boundDynamicVertexBuffer2=ot;else{at=ct.currentNumAttributes||0;for(var dt=st;dt<at;dt++)pt.disableVertexAttribArray(dt)}et.enableAttributes(pt,Ne);for(var ft=0,mt=tt;ft<mt.length;ft+=1)mt[ft].enableAttributes(pt,Ne);it&&it.enableAttributes(pt,Ne),ot&&ot.enableAttributes(pt,Ne),et.bind(),et.setVertexAttribPointers(pt,Ne,rt);for(var yt=0,vt=tt;yt<vt.length;yt+=1){var Ot=vt[yt];Ot.bind(),Ot.setVertexAttribPointers(pt,Ne,rt)}it&&(it.bind(),it.setVertexAttribPointers(pt,Ne,rt)),nt&&nt.bind(),ot&&(ot.bind(),ot.setVertexAttribPointers(pt,Ne,rt)),ct.currentNumAttributes=st},yi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var bi=function(Ne,et,tt,nt,rt,it){var ot=Ne.gl;this.program=ot.createProgram();for(var at=xi(tt.staticAttributes),st=nt?nt.getBinderAttributes():[],ct=at.concat(st),pt=tt.staticUniforms?xi(tt.staticUniforms):[],dt=nt?nt.getBinderUniforms():[],ft=[],mt=0,yt=pt.concat(dt);mt<yt.length;mt+=1){var vt=yt[mt];ft.indexOf(vt)<0&&ft.push(vt)}var Ot=nt?nt.defines():[];it&&Ot.push("#define OVERDRAW_INSPECTOR;");var Dt=Ot.concat(js.fragmentSource,tt.fragmentSource).join("\n"),Rt=Ot.concat(js.vertexSource,tt.vertexSource).join("\n"),Bt=ot.createShader(ot.FRAGMENT_SHADER);if(ot.isContextLost())this.failedToCreate=!0;else{ot.shaderSource(Bt,Dt),ot.compileShader(Bt),ot.attachShader(this.program,Bt);var rn=ot.createShader(ot.VERTEX_SHADER);if(ot.isContextLost())this.failedToCreate=!0;else{ot.shaderSource(rn,Rt),ot.compileShader(rn),ot.attachShader(this.program,rn),this.attributes={};var vn={};this.numAttributes=ct.length;for(var bn=0;bn<this.numAttributes;bn++)ct[bn]&&(ot.bindAttribLocation(this.program,bn,ct[bn]),this.attributes[ct[bn]]=bn);ot.linkProgram(this.program),ot.deleteShader(rn),ot.deleteShader(Bt);for(var Tn=0;Tn<ft.length;Tn++){var Cn=ft[Tn];if(Cn&&!vn[Cn]){var In=ot.getUniformLocation(this.program,Cn);In&&(vn[Cn]=In)}}this.fixedUniforms=rt(Ne,vn),this.binderUniforms=nt?nt.getUniforms(Ne,vn):[]}}};function wi(Ne,et,tt){var nt=1/pe(tt,1,et.transform.tileZoom),rt=Math.pow(2,tt.tileID.overscaledZ),it=tt.tileSize*Math.pow(2,et.transform.tileZoom)/rt,ot=it*(tt.tileID.canonical.x+tt.tileID.wrap*rt),at=it*tt.tileID.canonical.y;return{u_image:0,u_texsize:tt.imageAtlasTexture.size,u_scale:[nt,Ne.fromScale,Ne.toScale],u_fade:Ne.t,u_pixel_coord_upper:[ot>>16,at>>16],u_pixel_coord_lower:[65535&ot,65535&at]}}bi.prototype.draw=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft,mt,yt,vt){var Ot,Dt=Ne.gl;if(!this.failedToCreate){for(var Rt in Ne.program.set(this.program),Ne.setDepthMode(tt),Ne.setStencilMode(nt),Ne.setColorMode(rt),Ne.setCullFace(it),this.fixedUniforms)this.fixedUniforms[Rt].set(ot[Rt]);mt&&mt.setUniforms(Ne,this.binderUniforms,dt,{zoom:ft});for(var Bt=(Ot={},Ot[Dt.LINES]=2,Ot[Dt.TRIANGLES]=3,Ot[Dt.LINE_STRIP]=1,Ot)[et],rn=0,vn=pt.get();rn<vn.length;rn+=1){var bn=vn[rn],Tn=bn.vaos||(bn.vaos={});(Tn[at]||(Tn[at]=new yi)).bind(Ne,this,st,mt?mt.getPaintVertexBuffers():[],ct,bn.vertexOffset,yt,vt),Dt.drawElements(et,bn.primitiveLength*Bt,Dt.UNSIGNED_SHORT,bn.primitiveOffset*Bt*2)}}};var Ti=function(et,tt,nt,rt){var it=tt.style.light,ot=it.properties.get("position"),at=[ot.x,ot.y,ot.z],st=Ne.create$1();"viewport"===it.properties.get("anchor")&&Ne.fromRotation(st,-tt.transform.angle),Ne.transformMat3(at,at,st);var ct=it.properties.get("color");return{u_matrix:et,u_lightpos:at,u_lightintensity:it.properties.get("intensity"),u_lightcolor:[ct.r,ct.g,ct.b],u_vertical_gradient:+nt,u_opacity:rt}},Ei=function(et,tt,nt,rt,it,ot,at){return Ne.extend(Ti(et,tt,nt,rt),wi(ot,tt,at),{u_height_factor:-Math.pow(2,it.overscaledZ)/at.tileSize/8})},Ii=function(Ne){return{u_matrix:Ne}},Pi=function(et,tt,nt,rt){return Ne.extend(Ii(et),wi(nt,tt,rt))},Si=function(Ne,et){return{u_matrix:Ne,u_world:et}},Ci=function(et,tt,nt,rt,it){return Ne.extend(Pi(et,tt,nt,rt),{u_world:it})},zi=function(et,tt,nt,rt){var it,ot,at=et.transform;if("map"===rt.paint.get("circle-pitch-alignment")){var st=pe(nt,1,at.zoom);it=!0,ot=[st,st]}else it=!1,ot=at.pixelsToGLUnits;return{u_camera_to_center_distance:at.cameraToCenterDistance,u_scale_with_map:+("map"===rt.paint.get("circle-pitch-scale")),u_matrix:et.translatePosMatrix(tt.posMatrix,nt,rt.paint.get("circle-translate"),rt.paint.get("circle-translate-anchor")),u_pitch_with_map:+it,u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_extrude_scale:ot}},Di=function(Ne,et,tt){var nt=pe(tt,1,et.zoom),rt=Math.pow(2,et.zoom-tt.tileID.overscaledZ),it=tt.tileID.overscaleFactor();return{u_matrix:Ne,u_camera_to_center_distance:et.cameraToCenterDistance,u_pixels_to_tile_units:nt,u_extrude_scale:[et.pixelsToGLUnits[0]/(nt*rt),et.pixelsToGLUnits[1]/(nt*rt)],u_overscale_factor:it}},Mi=function(Ne,et,tt){return{u_matrix:Ne,u_inv_matrix:et,u_camera_to_center_distance:tt.cameraToCenterDistance,u_viewport_size:[tt.width,tt.height]}},Li=function(Ne,et,tt){return void 0===tt&&(tt=1),{u_matrix:Ne,u_color:et,u_overlay:0,u_overlay_scale:tt}},Ai=function(Ne){return{u_matrix:Ne}},Ri=function(Ne,et,tt,nt){return{u_matrix:Ne,u_extrude_scale:pe(et,1,tt),u_intensity:nt}},ki=function(et,tt,nt){var rt=et.transform;return{u_matrix:Ni(et,tt,nt),u_ratio:1/pe(tt,1,rt.zoom),u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_units_to_pixels:[1/rt.pixelsToGLUnits[0],1/rt.pixelsToGLUnits[1]]}},Bi=function(et,tt,nt){return Ne.extend(ki(et,tt,nt),{u_image:0})},Oi=function(et,tt,nt,rt){var it=et.transform,ot=Ui(tt,it);return{u_matrix:Ni(et,tt,nt),u_texsize:tt.imageAtlasTexture.size,u_ratio:1/pe(tt,1,it.zoom),u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_image:0,u_scale:[ot,rt.fromScale,rt.toScale],u_fade:rt.t,u_units_to_pixels:[1/it.pixelsToGLUnits[0],1/it.pixelsToGLUnits[1]]}},Fi=function(et,tt,nt,rt,it){var ot=et.lineAtlas,at=Ui(tt,et.transform),st="round"===nt.layout.get("line-cap"),ct=ot.getDash(rt.from,st),pt=ot.getDash(rt.to,st),dt=ct.width*it.fromScale,ft=pt.width*it.toScale;return Ne.extend(ki(et,tt,nt),{u_patternscale_a:[at/dt,-ct.height/2],u_patternscale_b:[at/ft,-pt.height/2],u_sdfgamma:ot.width/(256*Math.min(dt,ft)*Ne.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:ct.y,u_tex_y_b:pt.y,u_mix:it.t})};function Ui(Ne,et){return 1/pe(Ne,1,et.tileZoom)}function Ni(Ne,et,tt){return Ne.translatePosMatrix(et.tileID.posMatrix,et,tt.paint.get("line-translate"),tt.paint.get("line-translate-anchor"))}var Zi=function(Ne,et,tt,nt,rt){return{u_matrix:Ne,u_tl_parent:et,u_scale_parent:tt,u_buffer_scale:1,u_fade_t:nt.mix,u_opacity:nt.opacity*rt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:rt.paint.get("raster-brightness-min"),u_brightness_high:rt.paint.get("raster-brightness-max"),u_saturation_factor:(ot=rt.paint.get("raster-saturation"),ot>0?1-1/(1.001-ot):-ot),u_contrast_factor:(it=rt.paint.get("raster-contrast"),it>0?1/(1-it):1+it),u_spin_weights:ji(rt.paint.get("raster-hue-rotate"))};var it,ot};function ji(Ne){Ne*=Math.PI/180;var et=Math.sin(Ne),tt=Math.cos(Ne);return[(2*tt+1)/3,(-Math.sqrt(3)*et-tt+1)/3,(Math.sqrt(3)*et-tt+1)/3]}var _u,Vi=function(Ne,et,tt,nt,rt,it,ot,at,st,ct){var pt=rt.transform;return{u_is_size_zoom_constant:+("constant"===Ne||"source"===Ne),u_is_size_feature_constant:+("constant"===Ne||"camera"===Ne),u_size_t:et?et.uSizeT:0,u_size:et?et.uSize:0,u_camera_to_center_distance:pt.cameraToCenterDistance,u_pitch:pt.pitch/360*2*Math.PI,u_rotate_symbol:+tt,u_aspect_ratio:pt.width/pt.height,u_fade_change:rt.options.fadeDuration?rt.symbolFadeChange:1,u_matrix:it,u_label_plane_matrix:ot,u_coord_matrix:at,u_is_text:+st,u_pitch_with_map:+nt,u_texsize:ct,u_texture:0}},Gi=function(et,tt,nt,rt,it,ot,at,st,ct,pt,dt){var ft=it.transform;return Ne.extend(Vi(et,tt,nt,rt,it,ot,at,st,ct,pt),{u_gamma_scale:rt?Math.cos(ft._pitch)*ft.cameraToCenterDistance:1,u_device_pixel_ratio:Ne.browser.devicePixelRatio,u_is_halo:+dt})},Wi=function(et,tt,nt,rt,it,ot,at,st,ct,pt){return Ne.extend(Gi(et,tt,nt,rt,it,ot,at,st,!0,ct,!0),{u_texsize_icon:pt,u_texture_icon:1})},Xi=function(Ne,et,tt){return{u_matrix:Ne,u_opacity:et,u_color:tt}},Hi=function(et,tt,nt,rt,it,ot){return Ne.extend(function(Ne,et,tt,nt){var rt=tt.imageManager.getPattern(Ne.from.toString()),it=tt.imageManager.getPattern(Ne.to.toString()),ot=tt.imageManager.getPixelSize(),at=ot.width,st=ot.height,ct=Math.pow(2,nt.tileID.overscaledZ),pt=nt.tileSize*Math.pow(2,tt.transform.tileZoom)/ct,dt=pt*(nt.tileID.canonical.x+nt.tileID.wrap*ct),ft=pt*nt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:rt.tl,u_pattern_br_a:rt.br,u_pattern_tl_b:it.tl,u_pattern_br_b:it.br,u_texsize:[at,st],u_mix:et.t,u_pattern_size_a:rt.displaySize,u_pattern_size_b:it.displaySize,u_scale_a:et.fromScale,u_scale_b:et.toScale,u_tile_units_to_pixels:1/pe(nt,1,tt.transform.tileZoom),u_pixel_coord_upper:[dt>>16,ft>>16],u_pixel_coord_lower:[65535&dt,65535&ft]}}(rt,ot,nt,it),{u_matrix:et,u_opacity:tt})},wu={fillExtrusion:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_lightpos:new Ne.Uniform3f(et,tt.u_lightpos),u_lightintensity:new Ne.Uniform1f(et,tt.u_lightintensity),u_lightcolor:new Ne.Uniform3f(et,tt.u_lightcolor),u_vertical_gradient:new Ne.Uniform1f(et,tt.u_vertical_gradient),u_opacity:new Ne.Uniform1f(et,tt.u_opacity)}},fillExtrusionPattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_lightpos:new Ne.Uniform3f(et,tt.u_lightpos),u_lightintensity:new Ne.Uniform1f(et,tt.u_lightintensity),u_lightcolor:new Ne.Uniform3f(et,tt.u_lightcolor),u_vertical_gradient:new Ne.Uniform1f(et,tt.u_vertical_gradient),u_height_factor:new Ne.Uniform1f(et,tt.u_height_factor),u_image:new Ne.Uniform1i(et,tt.u_image),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade),u_opacity:new Ne.Uniform1f(et,tt.u_opacity)}},fill:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},fillPattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_image:new Ne.Uniform1i(et,tt.u_image),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade)}},fillOutline:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_world:new Ne.Uniform2f(et,tt.u_world)}},fillOutlinePattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_world:new Ne.Uniform2f(et,tt.u_world),u_image:new Ne.Uniform1i(et,tt.u_image),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade)}},circle:function(et,tt){return{u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_scale_with_map:new Ne.Uniform1i(et,tt.u_scale_with_map),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_extrude_scale:new Ne.Uniform2f(et,tt.u_extrude_scale),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},collisionBox:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pixels_to_tile_units:new Ne.Uniform1f(et,tt.u_pixels_to_tile_units),u_extrude_scale:new Ne.Uniform2f(et,tt.u_extrude_scale),u_overscale_factor:new Ne.Uniform1f(et,tt.u_overscale_factor)}},collisionCircle:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_inv_matrix:new Ne.UniformMatrix4f(et,tt.u_inv_matrix),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_viewport_size:new Ne.Uniform2f(et,tt.u_viewport_size)}},debug:function(et,tt){return{u_color:new Ne.UniformColor(et,tt.u_color),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_overlay:new Ne.Uniform1i(et,tt.u_overlay),u_overlay_scale:new Ne.Uniform1f(et,tt.u_overlay_scale)}},clippingMask:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},heatmap:function(et,tt){return{u_extrude_scale:new Ne.Uniform1f(et,tt.u_extrude_scale),u_intensity:new Ne.Uniform1f(et,tt.u_intensity),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix)}},heatmapTexture:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_world:new Ne.Uniform2f(et,tt.u_world),u_image:new Ne.Uniform1i(et,tt.u_image),u_color_ramp:new Ne.Uniform1i(et,tt.u_color_ramp),u_opacity:new Ne.Uniform1f(et,tt.u_opacity)}},hillshade:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_image:new Ne.Uniform1i(et,tt.u_image),u_latrange:new Ne.Uniform2f(et,tt.u_latrange),u_light:new Ne.Uniform2f(et,tt.u_light),u_shadow:new Ne.UniformColor(et,tt.u_shadow),u_highlight:new Ne.UniformColor(et,tt.u_highlight),u_accent:new Ne.UniformColor(et,tt.u_accent)}},hillshadePrepare:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_image:new Ne.Uniform1i(et,tt.u_image),u_dimension:new Ne.Uniform2f(et,tt.u_dimension),u_zoom:new Ne.Uniform1f(et,tt.u_zoom),u_maxzoom:new Ne.Uniform1f(et,tt.u_maxzoom),u_unpack:new Ne.Uniform4f(et,tt.u_unpack)}},line:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels)}},lineGradient:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels),u_image:new Ne.Uniform1i(et,tt.u_image)}},linePattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_image:new Ne.Uniform1i(et,tt.u_image),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels),u_scale:new Ne.Uniform3f(et,tt.u_scale),u_fade:new Ne.Uniform1f(et,tt.u_fade)}},lineSDF:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_ratio:new Ne.Uniform1f(et,tt.u_ratio),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_units_to_pixels:new Ne.Uniform2f(et,tt.u_units_to_pixels),u_patternscale_a:new Ne.Uniform2f(et,tt.u_patternscale_a),u_patternscale_b:new Ne.Uniform2f(et,tt.u_patternscale_b),u_sdfgamma:new Ne.Uniform1f(et,tt.u_sdfgamma),u_image:new Ne.Uniform1i(et,tt.u_image),u_tex_y_a:new Ne.Uniform1f(et,tt.u_tex_y_a),u_tex_y_b:new Ne.Uniform1f(et,tt.u_tex_y_b),u_mix:new Ne.Uniform1f(et,tt.u_mix)}},raster:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_tl_parent:new Ne.Uniform2f(et,tt.u_tl_parent),u_scale_parent:new Ne.Uniform1f(et,tt.u_scale_parent),u_buffer_scale:new Ne.Uniform1f(et,tt.u_buffer_scale),u_fade_t:new Ne.Uniform1f(et,tt.u_fade_t),u_opacity:new Ne.Uniform1f(et,tt.u_opacity),u_image0:new Ne.Uniform1i(et,tt.u_image0),u_image1:new Ne.Uniform1i(et,tt.u_image1),u_brightness_low:new Ne.Uniform1f(et,tt.u_brightness_low),u_brightness_high:new Ne.Uniform1f(et,tt.u_brightness_high),u_saturation_factor:new Ne.Uniform1f(et,tt.u_saturation_factor),u_contrast_factor:new Ne.Uniform1f(et,tt.u_contrast_factor),u_spin_weights:new Ne.Uniform3f(et,tt.u_spin_weights)}},symbolIcon:function(et,tt){return{u_is_size_zoom_constant:new Ne.Uniform1i(et,tt.u_is_size_zoom_constant),u_is_size_feature_constant:new Ne.Uniform1i(et,tt.u_is_size_feature_constant),u_size_t:new Ne.Uniform1f(et,tt.u_size_t),u_size:new Ne.Uniform1f(et,tt.u_size),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pitch:new Ne.Uniform1f(et,tt.u_pitch),u_rotate_symbol:new Ne.Uniform1i(et,tt.u_rotate_symbol),u_aspect_ratio:new Ne.Uniform1f(et,tt.u_aspect_ratio),u_fade_change:new Ne.Uniform1f(et,tt.u_fade_change),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_label_plane_matrix:new Ne.UniformMatrix4f(et,tt.u_label_plane_matrix),u_coord_matrix:new Ne.UniformMatrix4f(et,tt.u_coord_matrix),u_is_text:new Ne.Uniform1i(et,tt.u_is_text),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_texture:new Ne.Uniform1i(et,tt.u_texture)}},symbolSDF:function(et,tt){return{u_is_size_zoom_constant:new Ne.Uniform1i(et,tt.u_is_size_zoom_constant),u_is_size_feature_constant:new Ne.Uniform1i(et,tt.u_is_size_feature_constant),u_size_t:new Ne.Uniform1f(et,tt.u_size_t),u_size:new Ne.Uniform1f(et,tt.u_size),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pitch:new Ne.Uniform1f(et,tt.u_pitch),u_rotate_symbol:new Ne.Uniform1i(et,tt.u_rotate_symbol),u_aspect_ratio:new Ne.Uniform1f(et,tt.u_aspect_ratio),u_fade_change:new Ne.Uniform1f(et,tt.u_fade_change),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_label_plane_matrix:new Ne.UniformMatrix4f(et,tt.u_label_plane_matrix),u_coord_matrix:new Ne.UniformMatrix4f(et,tt.u_coord_matrix),u_is_text:new Ne.Uniform1i(et,tt.u_is_text),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_texture:new Ne.Uniform1i(et,tt.u_texture),u_gamma_scale:new Ne.Uniform1f(et,tt.u_gamma_scale),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_is_halo:new Ne.Uniform1i(et,tt.u_is_halo)}},symbolTextAndIcon:function(et,tt){return{u_is_size_zoom_constant:new Ne.Uniform1i(et,tt.u_is_size_zoom_constant),u_is_size_feature_constant:new Ne.Uniform1i(et,tt.u_is_size_feature_constant),u_size_t:new Ne.Uniform1f(et,tt.u_size_t),u_size:new Ne.Uniform1f(et,tt.u_size),u_camera_to_center_distance:new Ne.Uniform1f(et,tt.u_camera_to_center_distance),u_pitch:new Ne.Uniform1f(et,tt.u_pitch),u_rotate_symbol:new Ne.Uniform1i(et,tt.u_rotate_symbol),u_aspect_ratio:new Ne.Uniform1f(et,tt.u_aspect_ratio),u_fade_change:new Ne.Uniform1f(et,tt.u_fade_change),u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_label_plane_matrix:new Ne.UniformMatrix4f(et,tt.u_label_plane_matrix),u_coord_matrix:new Ne.UniformMatrix4f(et,tt.u_coord_matrix),u_is_text:new Ne.Uniform1i(et,tt.u_is_text),u_pitch_with_map:new Ne.Uniform1i(et,tt.u_pitch_with_map),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_texsize_icon:new Ne.Uniform2f(et,tt.u_texsize_icon),u_texture:new Ne.Uniform1i(et,tt.u_texture),u_texture_icon:new Ne.Uniform1i(et,tt.u_texture_icon),u_gamma_scale:new Ne.Uniform1f(et,tt.u_gamma_scale),u_device_pixel_ratio:new Ne.Uniform1f(et,tt.u_device_pixel_ratio),u_is_halo:new Ne.Uniform1i(et,tt.u_is_halo)}},background:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_opacity:new Ne.Uniform1f(et,tt.u_opacity),u_color:new Ne.UniformColor(et,tt.u_color)}},backgroundPattern:function(et,tt){return{u_matrix:new Ne.UniformMatrix4f(et,tt.u_matrix),u_opacity:new Ne.Uniform1f(et,tt.u_opacity),u_image:new Ne.Uniform1i(et,tt.u_image),u_pattern_tl_a:new Ne.Uniform2f(et,tt.u_pattern_tl_a),u_pattern_br_a:new Ne.Uniform2f(et,tt.u_pattern_br_a),u_pattern_tl_b:new Ne.Uniform2f(et,tt.u_pattern_tl_b),u_pattern_br_b:new Ne.Uniform2f(et,tt.u_pattern_br_b),u_texsize:new Ne.Uniform2f(et,tt.u_texsize),u_mix:new Ne.Uniform1f(et,tt.u_mix),u_pattern_size_a:new Ne.Uniform2f(et,tt.u_pattern_size_a),u_pattern_size_b:new Ne.Uniform2f(et,tt.u_pattern_size_b),u_scale_a:new Ne.Uniform1f(et,tt.u_scale_a),u_scale_b:new Ne.Uniform1f(et,tt.u_scale_b),u_pixel_coord_upper:new Ne.Uniform2f(et,tt.u_pixel_coord_upper),u_pixel_coord_lower:new Ne.Uniform2f(et,tt.u_pixel_coord_lower),u_tile_units_to_pixels:new Ne.Uniform1f(et,tt.u_tile_units_to_pixels)}}};function Yi(et,tt,nt,rt,it,ot,at){for(var st=et.context,ct=st.gl,pt=et.useProgram("collisionBox"),dt=[],ft=0,mt=0,yt=0;yt<rt.length;yt++){var vt=rt[yt],Ot=tt.getTile(vt),Dt=Ot.getBucket(nt);if(Dt){var Rt=vt.posMatrix;0===it[0]&&0===it[1]||(Rt=et.translatePosMatrix(vt.posMatrix,Ot,it,ot));var Bt=at?Dt.textCollisionBox:Dt.iconCollisionBox,rn=Dt.collisionCircleArray;if(rn.length>0){var vn=Ne.create(),bn=Rt;Ne.mul(vn,Dt.placementInvProjMatrix,et.transform.glCoordMatrix),Ne.mul(vn,vn,Dt.placementViewportMatrix),dt.push({circleArray:rn,circleOffset:mt,transform:bn,invTransform:vn}),mt=ft+=rn.length/4}Bt&&pt.draw(st,ct.LINES,It.disabled,Pt.disabled,et.colorModeForRenderPass(),Ct.disabled,Di(Rt,et.transform,Ot),nt.id,Bt.layoutVertexBuffer,Bt.indexBuffer,Bt.segments,null,et.transform.zoom,null,null,Bt.collisionVertexBuffer)}}if(at&&dt.length){var Tn=et.useProgram("collisionCircle"),Cn=new Ne.StructArrayLayout2f1f2i16;Cn.resize(4*ft),Cn._trim();for(var In=0,Ln=0,Mn=dt;Ln<Mn.length;Ln+=1)for(var zn=Mn[Ln],Fn=0;Fn<zn.circleArray.length/4;Fn++){var Bn=4*Fn,Nn=zn.circleArray[Bn+0],Vn=zn.circleArray[Bn+1],Wn=zn.circleArray[Bn+2],$n=zn.circleArray[Bn+3];Cn.emplace(In++,Nn,Vn,Wn,$n,0),Cn.emplace(In++,Nn,Vn,Wn,$n,1),Cn.emplace(In++,Nn,Vn,Wn,$n,2),Cn.emplace(In++,Nn,Vn,Wn,$n,3)}(!_u||_u.length<2*ft)&&(_u=function(et){var tt=2*et,nt=new Ne.StructArrayLayout3ui6;nt.resize(tt),nt._trim();for(var rt=0;rt<tt;rt++){var it=6*rt;nt.uint16[it+0]=4*rt+0,nt.uint16[it+1]=4*rt+1,nt.uint16[it+2]=4*rt+2,nt.uint16[it+3]=4*rt+2,nt.uint16[it+4]=4*rt+3,nt.uint16[it+5]=4*rt+0}return nt}(ft));for(var Yn=st.createIndexBuffer(_u,!0),er=st.createVertexBuffer(Cn,Ne.collisionCircleLayout.members,!0),rr=0,vr=dt;rr<vr.length;rr+=1){var wr=vr[rr],Sr=Mi(wr.transform,wr.invTransform,et.transform);Tn.draw(st,ct.TRIANGLES,It.disabled,Pt.disabled,et.colorModeForRenderPass(),Ct.disabled,Sr,nt.id,er,Yn,Ne.SegmentVector.simpleSegment(0,2*wr.circleOffset,wr.circleArray.length,wr.circleArray.length/2),null,et.transform.zoom,null,null,null)}er.destroy(),Yn.destroy()}}var Tu=Ne.identity(new Float32Array(16));function Qi(et,tt,nt,rt,it,ot){var at=Ne.getAnchorAlignment(et),st=-(at.horizontalAlign-.5)*tt,ct=-(at.verticalAlign-.5)*nt,pt=Ne.evaluateVariableOffset(et,rt);return new Ne.Point((st/it+pt[0])*ot,(ct/it+pt[1])*ot)}function $i(et,tt,nt,rt,it,ot,at,st,ct,pt,dt){var ft=et.text.placedSymbolArray,mt=et.text.dynamicLayoutVertexArray,yt=et.icon.dynamicLayoutVertexArray,vt={};mt.clear();for(var Ot=0;Ot<ft.length;Ot++){var Dt=ft.get(Ot),Rt=Dt.hidden||!Dt.crossTileID||et.allowVerticalPlacement&&!Dt.placedOrientation?null:rt[Dt.crossTileID];if(Rt){var Bt=new Ne.Point(Dt.anchorX,Dt.anchorY),rn=$t(Bt,nt?st:at),vn=te(ot.cameraToCenterDistance,rn.signedDistanceFromCamera),bn=it.evaluateSizeForFeature(et.textSizeData,pt,Dt)*vn/Ne.ONE_EM;nt&&(bn*=et.tilePixelRatio/ct);for(var Tn=Qi(Rt.anchor,Rt.width,Rt.height,Rt.textOffset,Rt.textBoxScale,bn),Cn=nt?$t(Bt.add(Tn),at).point:rn.point.add(tt?Tn.rotate(-ot.angle):Tn),In=et.allowVerticalPlacement&&Dt.placedOrientation===Ne.WritingMode.vertical?Math.PI/2:0,Ln=0;Ln<Dt.numGlyphs;Ln++)Ne.addDynamicAttributes(mt,Cn,In);dt&&Dt.associatedIconIndex>=0&&(vt[Dt.associatedIconIndex]={shiftedAnchor:Cn,angle:In})}else ce(Dt.numGlyphs,mt)}if(dt){yt.clear();for(var Mn=et.icon.placedSymbolArray,zn=0;zn<Mn.length;zn++){var Fn=Mn.get(zn);if(Fn.hidden)ce(Fn.numGlyphs,yt);else{var Bn=vt[zn];if(Bn)for(var Nn=0;Nn<Fn.numGlyphs;Nn++)Ne.addDynamicAttributes(yt,Bn.shiftedAnchor,Bn.angle);else ce(Fn.numGlyphs,yt)}}et.icon.dynamicLayoutVertexBuffer.updateData(yt)}et.text.dynamicLayoutVertexBuffer.updateData(mt)}function to(Ne,et,tt){return tt.iconsInText&&et?"symbolTextAndIcon":Ne?"symbolSDF":"symbolIcon"}function eo(et,tt,nt,rt,it,ot,at,st,ct,pt,dt,ft){for(var mt=et.context,yt=mt.gl,vt=et.transform,Ot="map"===st,Dt="map"===ct,Rt=Ot&&"point"!==nt.layout.get("symbol-placement"),Bt=Ot&&!Dt&&!Rt,rn=void 0!==nt.layout.get("symbol-sort-key").constantOr(1),vn=et.depthModeForSublayer(0,It.ReadOnly),bn=nt.layout.get("text-variable-anchor"),Tn=[],Cn=0,In=rt;Cn<In.length;Cn+=1){var Ln=In[Cn],Mn=tt.getTile(Ln),zn=Mn.getBucket(nt);if(zn){var Fn=it?zn.text:zn.icon;if(Fn&&Fn.segments.get().length){var Bn=Fn.programConfigurations.get(nt.id),Nn=it||zn.sdfIcons,Vn=it?zn.textSizeData:zn.iconSizeData,Wn=Dt||0!==vt.pitch,$n=et.useProgram(to(Nn,it,zn),Bn),Yn=Ne.evaluateSizeForZoom(Vn,vt.zoom),er=void 0,rr=[0,0],vr=void 0,wr=void 0,Sr=null,ii=void 0;if(it)vr=Mn.glyphAtlasTexture,wr=yt.LINEAR,er=Mn.glyphAtlasTexture.size,zn.iconsInText&&(rr=Mn.imageAtlasTexture.size,Sr=Mn.imageAtlasTexture,ii=Wn||et.options.rotating||et.options.zooming||"composite"===Vn.kind||"camera"===Vn.kind?yt.LINEAR:yt.NEAREST);else{var qi=1!==nt.layout.get("icon-size").constantOr(0)||zn.iconsNeedLinear;vr=Mn.imageAtlasTexture,wr=Nn||et.options.rotating||et.options.zooming||qi||Wn?yt.LINEAR:yt.NEAREST,er=Mn.imageAtlasTexture.size}var uo=pe(Mn,1,et.transform.zoom),po=Jt(Ln.posMatrix,Dt,Ot,et.transform,uo),vo=Qt(Ln.posMatrix,Dt,Ot,et.transform,uo),So=bn&&zn.hasTextData(),ta="none"!==nt.layout.get("icon-text-fit")&&So&&zn.hasIconData();Rt&&ie(zn,Ln.posMatrix,et,it,po,vo,Dt,pt);var na=et.translatePosMatrix(Ln.posMatrix,Mn,ot,at),ia=Rt||it&&bn||ta?Tu:po,sa=et.translatePosMatrix(vo,Mn,ot,at,!0),la=Nn&&0!==nt.paint.get(it?"text-halo-width":"icon-halo-width").constantOr(1),pa={program:$n,buffers:Fn,uniformValues:Nn?zn.iconsInText?Wi(Vn.kind,Yn,Bt,Dt,et,na,ia,sa,er,rr):Gi(Vn.kind,Yn,Bt,Dt,et,na,ia,sa,it,er,!0):Vi(Vn.kind,Yn,Bt,Dt,et,na,ia,sa,it,er),atlasTexture:vr,atlasTextureIcon:Sr,atlasInterpolation:wr,atlasInterpolationIcon:ii,isSDF:Nn,hasHalo:la};if(rn)for(var fa=0,ga=Fn.segments.get();fa<ga.length;fa+=1){var va=ga[fa];Tn.push({segments:new Ne.SegmentVector([va]),sortKey:va.sortKey,state:pa})}else Tn.push({segments:Fn.segments,sortKey:0,state:pa})}}}rn&&Tn.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var _a=0,wa=Tn;_a<wa.length;_a+=1){var Aa=wa[_a],os=Aa.state;if(mt.activeTexture.set(yt.TEXTURE0),os.atlasTexture.bind(os.atlasInterpolation,yt.CLAMP_TO_EDGE),os.atlasTextureIcon&&(mt.activeTexture.set(yt.TEXTURE1),os.atlasTextureIcon&&os.atlasTextureIcon.bind(os.atlasInterpolationIcon,yt.CLAMP_TO_EDGE)),os.isSDF){var as=os.uniformValues;os.hasHalo&&(as.u_is_halo=1,io(os.buffers,Aa.segments,nt,et,os.program,vn,dt,ft,as)),as.u_is_halo=0}io(os.buffers,Aa.segments,nt,et,os.program,vn,dt,ft,os.uniformValues)}}function io(Ne,et,tt,nt,rt,it,ot,at,st){var ct=nt.context;rt.draw(ct,ct.gl.TRIANGLES,it,ot,at,Ct.disabled,st,tt.id,Ne.layoutVertexBuffer,Ne.indexBuffer,et,tt.paint,nt.transform.zoom,Ne.programConfigurations.get(tt.id),Ne.dynamicLayoutVertexBuffer,Ne.opacityVertexBuffer)}function oo(Ne,et,tt,nt,rt,it,ot){var at,st,ct,pt,dt,ft=Ne.context.gl,mt=tt.paint.get("fill-pattern"),yt=mt&&mt.constantOr(1),vt=tt.getCrossfadeParameters();ot?(st=yt&&!tt.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",at=ft.LINES):(st=yt?"fillPattern":"fill",at=ft.TRIANGLES);for(var Ot=0,Dt=nt;Ot<Dt.length;Ot+=1){var Rt=Dt[Ot],Bt=et.getTile(Rt);if(!yt||Bt.patternsLoaded()){var rn=Bt.getBucket(tt);if(rn){var vn=rn.programConfigurations.get(tt.id),bn=Ne.useProgram(st,vn);yt&&(Ne.context.activeTexture.set(ft.TEXTURE0),Bt.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),vn.updatePaintBuffers(vt));var Tn=mt.constantOr(null);if(Tn&&Bt.imageAtlas){var Cn=Bt.imageAtlas,In=Cn.patternPositions[Tn.to.toString()],Ln=Cn.patternPositions[Tn.from.toString()];In&&Ln&&vn.setConstantPatternPositions(In,Ln)}var Mn=Ne.translatePosMatrix(Rt.posMatrix,Bt,tt.paint.get("fill-translate"),tt.paint.get("fill-translate-anchor"));if(ot){pt=rn.indexBuffer2,dt=rn.segments2;var zn=[ft.drawingBufferWidth,ft.drawingBufferHeight];ct="fillOutlinePattern"===st&&yt?Ci(Mn,Ne,vt,Bt,zn):Si(Mn,zn)}else pt=rn.indexBuffer,dt=rn.segments,ct=yt?Pi(Mn,Ne,vt,Bt):Ii(Mn);bn.draw(Ne.context,at,rt,Ne.stencilModeForClipping(Rt),it,Ct.disabled,ct,tt.id,rn.layoutVertexBuffer,pt,dt,tt.paint,Ne.transform.zoom,vn)}}}}function ro(Ne,et,tt,nt,rt,it,ot){for(var at=Ne.context,st=at.gl,ct=tt.paint.get("fill-extrusion-pattern"),pt=ct.constantOr(1),dt=tt.getCrossfadeParameters(),ft=tt.paint.get("fill-extrusion-opacity"),mt=0,yt=nt;mt<yt.length;mt+=1){var vt=yt[mt],Ot=et.getTile(vt),Dt=Ot.getBucket(tt);if(Dt){var Rt=Dt.programConfigurations.get(tt.id),Bt=Ne.useProgram(pt?"fillExtrusionPattern":"fillExtrusion",Rt);pt&&(Ne.context.activeTexture.set(st.TEXTURE0),Ot.imageAtlasTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE),Rt.updatePaintBuffers(dt));var rn=ct.constantOr(null);if(rn&&Ot.imageAtlas){var vn=Ot.imageAtlas,bn=vn.patternPositions[rn.to.toString()],Tn=vn.patternPositions[rn.from.toString()];bn&&Tn&&Rt.setConstantPatternPositions(bn,Tn)}var Cn=Ne.translatePosMatrix(vt.posMatrix,Ot,tt.paint.get("fill-extrusion-translate"),tt.paint.get("fill-extrusion-translate-anchor")),In=tt.paint.get("fill-extrusion-vertical-gradient"),Ln=pt?Ei(Cn,Ne,In,ft,vt,dt,Ot):Ti(Cn,Ne,In,ft);Bt.draw(at,at.gl.TRIANGLES,rt,it,ot,Ct.backCCW,Ln,tt.id,Dt.layoutVertexBuffer,Dt.indexBuffer,Dt.segments,tt.paint,Ne.transform.zoom,Rt)}}}function ao(et,tt,nt,rt,it,ot){var at=et.context,st=at.gl,ct=tt.fbo;if(ct){var pt=et.useProgram("hillshade");at.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,ct.colorAttachment.get());var dt=function(et,tt,nt){var rt=nt.paint.get("hillshade-shadow-color"),it=nt.paint.get("hillshade-highlight-color"),ot=nt.paint.get("hillshade-accent-color"),at=nt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===nt.paint.get("hillshade-illumination-anchor")&&(at-=et.transform.angle);var st,ct,pt,dt=!et.options.moving;return{u_matrix:et.transform.calculatePosMatrix(tt.tileID.toUnwrapped(),dt),u_image:0,u_latrange:(st=tt.tileID,ct=Math.pow(2,st.canonical.z),pt=st.canonical.y,[new Ne.MercatorCoordinate(0,pt/ct).toLngLat().lat,new Ne.MercatorCoordinate(0,(pt+1)/ct).toLngLat().lat]),u_light:[nt.paint.get("hillshade-exaggeration"),at],u_shadow:rt,u_highlight:it,u_accent:ot}}(et,tt,nt);pt.draw(at,st.TRIANGLES,rt,it,ot,Ct.disabled,dt,nt.id,et.rasterBoundsBuffer,et.quadTriangleIndexBuffer,et.rasterBoundsSegments)}}function no(et,tt,nt,rt,it,ot,at){var st=et.context,ct=st.gl,pt=tt.dem;if(pt&&pt.data){var dt=pt.dim,ft=pt.stride,mt=pt.getPixels();if(st.activeTexture.set(ct.TEXTURE1),st.pixelStoreUnpackPremultiplyAlpha.set(!1),tt.demTexture=tt.demTexture||et.getTileTexture(ft),tt.demTexture){var yt=tt.demTexture;yt.update(mt,{premultiply:!1}),yt.bind(ct.NEAREST,ct.CLAMP_TO_EDGE)}else tt.demTexture=new Ne.Texture(st,mt,ct.RGBA,{premultiply:!1}),tt.demTexture.bind(ct.NEAREST,ct.CLAMP_TO_EDGE);st.activeTexture.set(ct.TEXTURE0);var vt=tt.fbo;if(!vt){var Ot=new Ne.Texture(st,{width:dt,height:dt,data:null},ct.RGBA);Ot.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),(vt=tt.fbo=st.createFramebuffer(dt,dt,!0)).colorAttachment.set(Ot.texture)}st.bindFramebuffer.set(vt.framebuffer),st.viewport.set([0,0,dt,dt]),et.useProgram("hillshadePrepare").draw(st,ct.TRIANGLES,it,ot,at,Ct.disabled,function(et,tt,nt){var rt=tt.stride,it=Ne.create();return Ne.ortho(it,0,Ne.EXTENT,-Ne.EXTENT,0,0,1),Ne.translate(it,it,[0,-Ne.EXTENT,0]),{u_matrix:it,u_image:1,u_dimension:[rt,rt],u_zoom:et.overscaledZ,u_maxzoom:nt,u_unpack:tt.getUnpackVector()}}(tt.tileID,pt,rt),nt.id,et.rasterBoundsBuffer,et.quadTriangleIndexBuffer,et.rasterBoundsSegments),tt.needsHillshadePrepare=!1}}function so(et,tt,nt,rt,it){var ot=rt.paint.get("raster-fade-duration");if(ot>0){var at=Ne.browser.now(),st=(at-et.timeAdded)/ot,ct=tt?(at-tt.timeAdded)/ot:-1,pt=nt.getSource(),dt=it.coveringZoomLevel({tileSize:pt.tileSize,roundZoom:pt.roundZoom}),ft=!tt||Math.abs(tt.tileID.overscaledZ-dt)>Math.abs(et.tileID.overscaledZ-dt),mt=ft&&et.refreshedUponExpiration?1:Ne.clamp(ft?st:1-ct,0,1);return et.refreshedUponExpiration&&st>=1&&(et.refreshedUponExpiration=!1),tt?{opacity:1,mix:1-mt}:{opacity:mt,mix:0}}return{opacity:1,mix:0}}var Fu=new Ne.Color(1,0,0,1),ac=new Ne.Color(0,1,0,1),pc=new Ne.Color(0,0,1,1),yc=new Ne.Color(1,0,1,1),_c=new Ne.Color(0,1,1,1);function _o(Ne,et,tt,nt){mo(Ne,0,et+tt/2,Ne.transform.width,tt,nt)}function fo(Ne,et,tt,nt){mo(Ne,et-tt/2,0,tt,Ne.transform.height,nt)}function mo(et,tt,nt,rt,it,ot){var at=et.context,st=at.gl;st.enable(st.SCISSOR_TEST),st.scissor(tt*Ne.browser.devicePixelRatio,nt*Ne.browser.devicePixelRatio,rt*Ne.browser.devicePixelRatio,it*Ne.browser.devicePixelRatio),at.clear({color:ot}),st.disable(st.SCISSOR_TEST)}function go(et,tt,nt){var rt=et.context,it=rt.gl,ot=nt.posMatrix,at=et.useProgram("debug"),st=It.disabled,ct=Pt.disabled,pt=et.colorModeForRenderPass();rt.activeTexture.set(it.TEXTURE0),et.emptyTexture.bind(it.LINEAR,it.CLAMP_TO_EDGE),at.draw(rt,it.LINE_STRIP,st,ct,pt,Ct.disabled,Li(ot,Ne.Color.red),"$debug",et.debugBuffer,et.tileBorderIndexBuffer,et.debugSegments);var dt=tt.getTileByID(nt.key).latestRawTileData,ft=Math.floor((dt&&dt.byteLength||0)/1024),mt=tt.getTile(nt).tileSize,yt=512/Math.min(mt,512)*(nt.overscaledZ/et.transform.zoom)*.5,vt=nt.canonical.toString();nt.overscaledZ!==nt.canonical.z&&(vt+=" => "+nt.overscaledZ),function(Ne,et){Ne.initDebugOverlayCanvas();var tt=Ne.debugOverlayCanvas,nt=Ne.context.gl,rt=Ne.debugOverlayCanvas.getContext("2d");rt.clearRect(0,0,tt.width,tt.height),rt.shadowColor="white",rt.shadowBlur=2,rt.lineWidth=1.5,rt.strokeStyle="white",rt.textBaseline="top",rt.font="bold 36px Open Sans, sans-serif",rt.fillText(et,5,5),rt.strokeText(et,5,5),Ne.debugOverlayTexture.update(tt),Ne.debugOverlayTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE)}(et,vt+" "+ft+"kb"),at.draw(rt,it.TRIANGLES,st,ct,St.alphaBlended,Ct.disabled,Li(ot,Ne.Color.transparent,yt),"$debug",et.debugBuffer,et.quadTriangleIndexBuffer,et.debugSegments)}var bc={symbol:function(et,tt,nt,rt,it){if("translucent"===et.renderPass){var ot=Pt.disabled,at=et.colorModeForRenderPass();nt.layout.get("text-variable-anchor")&&function(et,tt,nt,rt,it,ot,at){for(var st=tt.transform,ct="map"===it,pt="map"===ot,dt=0,ft=et;dt<ft.length;dt+=1){var mt=ft[dt],yt=rt.getTile(mt),vt=yt.getBucket(nt);if(vt&&vt.text&&vt.text.segments.get().length){var Ot=Ne.evaluateSizeForZoom(vt.textSizeData,st.zoom),Dt=pe(yt,1,tt.transform.zoom),Rt=Jt(mt.posMatrix,pt,ct,tt.transform,Dt),Bt="none"!==nt.layout.get("icon-text-fit")&&vt.hasIconData();if(Ot){var rn=Math.pow(2,st.zoom-yt.tileID.overscaledZ);$i(vt,ct,pt,at,Ne.symbolSize,st,Rt,mt.posMatrix,rn,Ot,Bt)}}}}(rt,et,nt,tt,nt.layout.get("text-rotation-alignment"),nt.layout.get("text-pitch-alignment"),it),0!==nt.paint.get("icon-opacity").constantOr(1)&&eo(et,tt,nt,rt,!1,nt.paint.get("icon-translate"),nt.paint.get("icon-translate-anchor"),nt.layout.get("icon-rotation-alignment"),nt.layout.get("icon-pitch-alignment"),nt.layout.get("icon-keep-upright"),ot,at),0!==nt.paint.get("text-opacity").constantOr(1)&&eo(et,tt,nt,rt,!0,nt.paint.get("text-translate"),nt.paint.get("text-translate-anchor"),nt.layout.get("text-rotation-alignment"),nt.layout.get("text-pitch-alignment"),nt.layout.get("text-keep-upright"),ot,at),tt.map.showCollisionBoxes&&(Yi(et,tt,nt,rt,nt.paint.get("text-translate"),nt.paint.get("text-translate-anchor"),!0),Yi(et,tt,nt,rt,nt.paint.get("icon-translate"),nt.paint.get("icon-translate-anchor"),!1))}},circle:function(et,tt,nt,rt){if("translucent"===et.renderPass){var it=nt.paint.get("circle-opacity"),ot=nt.paint.get("circle-stroke-width"),at=nt.paint.get("circle-stroke-opacity"),st=void 0!==nt.layout.get("circle-sort-key").constantOr(1);if(0!==it.constantOr(1)||0!==ot.constantOr(1)&&0!==at.constantOr(1)){for(var ct=et.context,pt=ct.gl,dt=et.depthModeForSublayer(0,It.ReadOnly),ft=Pt.disabled,mt=et.colorModeForRenderPass(),yt=[],vt=0;vt<rt.length;vt++){var Ot=rt[vt],Dt=tt.getTile(Ot),Rt=Dt.getBucket(nt);if(Rt){var Bt=Rt.programConfigurations.get(nt.id),rn={programConfiguration:Bt,program:et.useProgram("circle",Bt),layoutVertexBuffer:Rt.layoutVertexBuffer,indexBuffer:Rt.indexBuffer,uniformValues:zi(et,Ot,Dt,nt)};if(st)for(var vn=0,bn=Rt.segments.get();vn<bn.length;vn+=1){var Tn=bn[vn];yt.push({segments:new Ne.SegmentVector([Tn]),sortKey:Tn.sortKey,state:rn})}else yt.push({segments:Rt.segments,sortKey:0,state:rn})}}st&&yt.sort((function(Ne,et){return Ne.sortKey-et.sortKey}));for(var Cn=0,In=yt;Cn<In.length;Cn+=1){var Ln=In[Cn],Mn=Ln.state;Mn.program.draw(ct,pt.TRIANGLES,dt,ft,mt,Ct.disabled,Mn.uniformValues,nt.id,Mn.layoutVertexBuffer,Mn.indexBuffer,Ln.segments,nt.paint,et.transform.zoom,Mn.programConfiguration)}}}},heatmap:function(et,tt,nt,rt){if(0!==nt.paint.get("heatmap-opacity"))if("offscreen"===et.renderPass){var it=et.context,ot=it.gl,at=Pt.disabled,st=new St([ot.ONE,ot.ONE],Ne.Color.transparent,[!0,!0,!0,!0]);!function(Ne,et,tt){var nt=Ne.gl;Ne.activeTexture.set(nt.TEXTURE1),Ne.viewport.set([0,0,et.width/4,et.height/4]);var rt=tt.heatmapFbo;if(rt)nt.bindTexture(nt.TEXTURE_2D,rt.colorAttachment.get()),Ne.bindFramebuffer.set(rt.framebuffer);else{var it=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,it),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.LINEAR),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.LINEAR),rt=tt.heatmapFbo=Ne.createFramebuffer(et.width/4,et.height/4,!1),function(Ne,et,tt,nt){var rt=Ne.gl;rt.texImage2D(rt.TEXTURE_2D,0,rt.RGBA,et.width/4,et.height/4,0,rt.RGBA,Ne.extRenderToTextureHalfFloat?Ne.extTextureHalfFloat.HALF_FLOAT_OES:rt.UNSIGNED_BYTE,null),nt.colorAttachment.set(tt)}(Ne,et,it,rt)}}(it,et,nt),it.clear({color:Ne.Color.transparent});for(var ct=0;ct<rt.length;ct++){var pt=rt[ct];if(!tt.hasRenderableParent(pt)){var dt=tt.getTile(pt),ft=dt.getBucket(nt);if(ft){var mt=ft.programConfigurations.get(nt.id);et.useProgram("heatmap",mt).draw(it,ot.TRIANGLES,It.disabled,at,st,Ct.disabled,Ri(pt.posMatrix,dt,et.transform.zoom,nt.paint.get("heatmap-intensity")),nt.id,ft.layoutVertexBuffer,ft.indexBuffer,ft.segments,nt.paint,et.transform.zoom,mt)}}}it.viewport.set([0,0,et.width,et.height])}else"translucent"===et.renderPass&&(et.context.setColorMode(et.colorModeForRenderPass()),function(et,tt){var nt=et.context,rt=nt.gl,it=tt.heatmapFbo;if(it){nt.activeTexture.set(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,it.colorAttachment.get()),nt.activeTexture.set(rt.TEXTURE1);var ot=tt.colorRampTexture;ot||(ot=tt.colorRampTexture=new Ne.Texture(nt,tt.colorRamp,rt.RGBA)),ot.bind(rt.LINEAR,rt.CLAMP_TO_EDGE),et.useProgram("heatmapTexture").draw(nt,rt.TRIANGLES,It.disabled,Pt.disabled,et.colorModeForRenderPass(),Ct.disabled,function(et,tt,nt,rt){var it=Ne.create();Ne.ortho(it,0,et.width,et.height,0,0,1);var ot=et.context.gl;return{u_matrix:it,u_world:[ot.drawingBufferWidth,ot.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:tt.paint.get("heatmap-opacity")}}(et,tt),tt.id,et.viewportBuffer,et.quadTriangleIndexBuffer,et.viewportSegments,tt.paint,et.transform.zoom)}}(et,nt))},line:function(et,tt,nt,rt){if("translucent"===et.renderPass){var it=nt.paint.get("line-opacity"),ot=nt.paint.get("line-width");if(0!==it.constantOr(1)&&0!==ot.constantOr(1)){var at=et.depthModeForSublayer(0,It.ReadOnly),st=et.colorModeForRenderPass(),ct=nt.paint.get("line-dasharray"),pt=nt.paint.get("line-pattern"),dt=pt.constantOr(1),ft=nt.paint.get("line-gradient"),mt=nt.getCrossfadeParameters(),yt=dt?"linePattern":ct?"lineSDF":ft?"lineGradient":"line",vt=et.context,Ot=vt.gl,Dt=!0;if(ft){vt.activeTexture.set(Ot.TEXTURE0);var Rt=nt.gradientTexture;if(!nt.gradient)return;Rt||(Rt=nt.gradientTexture=new Ne.Texture(vt,nt.gradient,Ot.RGBA)),Rt.bind(Ot.LINEAR,Ot.CLAMP_TO_EDGE)}for(var Bt=0,rn=rt;Bt<rn.length;Bt+=1){var vn=rn[Bt],bn=tt.getTile(vn);if(!dt||bn.patternsLoaded()){var Tn=bn.getBucket(nt);if(Tn){var Cn=Tn.programConfigurations.get(nt.id),In=et.context.program.get(),Ln=et.useProgram(yt,Cn),Mn=Dt||Ln.program!==In,zn=pt.constantOr(null);if(zn&&bn.imageAtlas){var Fn=bn.imageAtlas,Bn=Fn.patternPositions[zn.to.toString()],Nn=Fn.patternPositions[zn.from.toString()];Bn&&Nn&&Cn.setConstantPatternPositions(Bn,Nn)}var Vn=dt?Oi(et,bn,nt,mt):ct?Fi(et,bn,nt,ct,mt):ft?Bi(et,bn,nt):ki(et,bn,nt);dt?(vt.activeTexture.set(Ot.TEXTURE0),bn.imageAtlasTexture.bind(Ot.LINEAR,Ot.CLAMP_TO_EDGE),Cn.updatePaintBuffers(mt)):ct&&(Mn||et.lineAtlas.dirty)&&(vt.activeTexture.set(Ot.TEXTURE0),et.lineAtlas.bind(vt)),Ln.draw(vt,Ot.TRIANGLES,at,et.stencilModeForClipping(vn),st,Ct.disabled,Vn,nt.id,Tn.layoutVertexBuffer,Tn.indexBuffer,Tn.segments,nt.paint,et.transform.zoom,Cn),Dt=!1}}}}}},fill:function(et,tt,nt,rt){var it=nt.paint.get("fill-color"),ot=nt.paint.get("fill-opacity");if(0!==ot.constantOr(1)){var at=et.colorModeForRenderPass(),st=nt.paint.get("fill-pattern"),ct=et.opaquePassEnabledForLayer()&&!st.constantOr(1)&&1===it.constantOr(Ne.Color.transparent).a&&1===ot.constantOr(0)?"opaque":"translucent";if(et.renderPass===ct){var pt=et.depthModeForSublayer(1,"opaque"===et.renderPass?It.ReadWrite:It.ReadOnly);oo(et,tt,nt,rt,pt,at,!1)}if("translucent"===et.renderPass&&nt.paint.get("fill-antialias")){var dt=et.depthModeForSublayer(nt.getPaintProperty("fill-outline-color")?2:0,It.ReadOnly);oo(et,tt,nt,rt,dt,at,!0)}}},"fill-extrusion":function(Ne,et,tt,nt){var rt=tt.paint.get("fill-extrusion-opacity");if(0!==rt&&"translucent"===Ne.renderPass){var it=new It(Ne.context.gl.LEQUAL,It.ReadWrite,Ne.depthRangeFor3D);if(1!==rt||tt.paint.get("fill-extrusion-pattern").constantOr(1))ro(Ne,et,tt,nt,it,Pt.disabled,St.disabled),ro(Ne,et,tt,nt,it,Ne.stencilModeFor3D(),Ne.colorModeForRenderPass());else{var ot=Ne.colorModeForRenderPass();ro(Ne,et,tt,nt,it,Pt.disabled,ot)}}},hillshade:function(Ne,et,tt,nt){if("offscreen"===Ne.renderPass||"translucent"===Ne.renderPass){for(var rt=Ne.context,it=et.getSource().maxzoom,ot=Ne.depthModeForSublayer(0,It.ReadOnly),at=Ne.colorModeForRenderPass(),st="translucent"===Ne.renderPass?Ne.stencilConfigForOverlap(nt):[{},nt],ct=st[0],pt=0,dt=st[1];pt<dt.length;pt+=1){var ft=dt[pt],mt=et.getTile(ft);mt.needsHillshadePrepare&&"offscreen"===Ne.renderPass?no(Ne,mt,tt,it,ot,Pt.disabled,at):"translucent"===Ne.renderPass&&ao(Ne,mt,tt,ot,ct[ft.overscaledZ],at)}rt.viewport.set([0,0,Ne.width,Ne.height])}},raster:function(Ne,et,tt,nt){if("translucent"===Ne.renderPass&&0!==tt.paint.get("raster-opacity")&&nt.length)for(var rt=Ne.context,it=rt.gl,ot=et.getSource(),at=Ne.useProgram("raster"),st=Ne.colorModeForRenderPass(),ct=ot instanceof vn?[{},nt]:Ne.stencilConfigForOverlap(nt),pt=ct[0],dt=ct[1],ft=dt[dt.length-1].overscaledZ,mt=!Ne.options.moving,yt=0,vt=dt;yt<vt.length;yt+=1){var Ot=vt[yt],Dt=Ne.depthModeForSublayer(Ot.overscaledZ-ft,1===tt.paint.get("raster-opacity")?It.ReadWrite:It.ReadOnly,it.LESS),Rt=et.getTile(Ot),Bt=Ne.transform.calculatePosMatrix(Ot.toUnwrapped(),mt);Rt.registerFadeDuration(tt.paint.get("raster-fade-duration"));var rn=et.findLoadedParent(Ot,0),bn=so(Rt,rn,et,tt,Ne.transform),Tn=void 0,Cn=void 0,In="nearest"===tt.paint.get("raster-resampling")?it.NEAREST:it.LINEAR;rt.activeTexture.set(it.TEXTURE0),Rt.texture.bind(In,it.CLAMP_TO_EDGE,it.LINEAR_MIPMAP_NEAREST),rt.activeTexture.set(it.TEXTURE1),rn?(rn.texture.bind(In,it.CLAMP_TO_EDGE,it.LINEAR_MIPMAP_NEAREST),Tn=Math.pow(2,rn.tileID.overscaledZ-Rt.tileID.overscaledZ),Cn=[Rt.tileID.canonical.x*Tn%1,Rt.tileID.canonical.y*Tn%1]):Rt.texture.bind(In,it.CLAMP_TO_EDGE,it.LINEAR_MIPMAP_NEAREST);var Ln=Zi(Bt,Cn||[0,0],Tn||1,bn,tt);ot instanceof vn?at.draw(rt,it.TRIANGLES,Dt,Pt.disabled,st,Ct.disabled,Ln,tt.id,ot.boundsBuffer,Ne.quadTriangleIndexBuffer,ot.boundsSegments):at.draw(rt,it.TRIANGLES,Dt,pt[Ot.overscaledZ],st,Ct.disabled,Ln,tt.id,Ne.rasterBoundsBuffer,Ne.quadTriangleIndexBuffer,Ne.rasterBoundsSegments)}},background:function(Ne,et,tt){var nt=tt.paint.get("background-color"),rt=tt.paint.get("background-opacity");if(0!==rt){var it=Ne.context,ot=it.gl,at=Ne.transform,st=at.tileSize,ct=tt.paint.get("background-pattern");if(!Ne.isPatternMissing(ct)){var pt=!ct&&1===nt.a&&1===rt&&Ne.opaquePassEnabledForLayer()?"opaque":"translucent";if(Ne.renderPass===pt){var dt=Pt.disabled,ft=Ne.depthModeForSublayer(0,"opaque"===pt?It.ReadWrite:It.ReadOnly),mt=Ne.colorModeForRenderPass(),yt=Ne.useProgram(ct?"backgroundPattern":"background"),vt=at.coveringTiles({tileSize:st});ct&&(it.activeTexture.set(ot.TEXTURE0),Ne.imageManager.bind(Ne.context));for(var Ot=tt.getCrossfadeParameters(),Dt=0,Rt=vt;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt],rn=Ne.transform.calculatePosMatrix(Bt.toUnwrapped()),vn=ct?Hi(rn,rt,Ne,ct,{tileID:Bt,tileSize:st},Ot):Xi(rn,rt,nt);yt.draw(it,ot.TRIANGLES,ft,dt,mt,Ct.disabled,vn,tt.id,Ne.tileExtentBuffer,Ne.quadTriangleIndexBuffer,Ne.tileExtentSegments)}}}}},debug:function(Ne,et,tt){for(var nt=0;nt<tt.length;nt++)go(Ne,et,tt[nt])},custom:function(Ne,et,tt){var nt=Ne.context,rt=tt.implementation;if("offscreen"===Ne.renderPass){var it=rt.prerender;it&&(Ne.setCustomLayerDefaults(),nt.setColorMode(Ne.colorModeForRenderPass()),it.call(rt,nt.gl,Ne.transform.customLayerMatrix()),nt.setDirty(),Ne.setBaseState())}else if("translucent"===Ne.renderPass){Ne.setCustomLayerDefaults(),nt.setColorMode(Ne.colorModeForRenderPass()),nt.setStencilMode(Pt.disabled);var ot="3d"===rt.renderingMode?new It(Ne.context.gl.LEQUAL,It.ReadWrite,Ne.depthRangeFor3D):Ne.depthModeForSublayer(0,It.ReadOnly);nt.setDepthMode(ot),rt.render(nt.gl,Ne.transform.customLayerMatrix()),nt.setDirty(),Ne.setBaseState(),nt.bindFramebuffer.set(null)}}},yo=function(Ne,et){this.context=new zt(Ne),this.transform=et,this._tileTextures={},this.setup(),this.numSublayers=as.maxUnderzooming+as.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Fe,this.gpuTimers={}};yo.prototype.resize=function(et,tt){if(this.width=et*Ne.browser.devicePixelRatio,this.height=tt*Ne.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var nt=0,rt=this.style._order;nt<rt.length;nt+=1)this.style._layers[rt[nt]].resize()},yo.prototype.setup=function(){var et=this.context,tt=new Ne.StructArrayLayout2i4;tt.emplaceBack(0,0),tt.emplaceBack(Ne.EXTENT,0),tt.emplaceBack(0,Ne.EXTENT),tt.emplaceBack(Ne.EXTENT,Ne.EXTENT),this.tileExtentBuffer=et.createVertexBuffer(tt,Bs.members),this.tileExtentSegments=Ne.SegmentVector.simpleSegment(0,0,4,2);var nt=new Ne.StructArrayLayout2i4;nt.emplaceBack(0,0),nt.emplaceBack(Ne.EXTENT,0),nt.emplaceBack(0,Ne.EXTENT),nt.emplaceBack(Ne.EXTENT,Ne.EXTENT),this.debugBuffer=et.createVertexBuffer(nt,Bs.members),this.debugSegments=Ne.SegmentVector.simpleSegment(0,0,4,5);var rt=new Ne.StructArrayLayout4i8;rt.emplaceBack(0,0,0,0),rt.emplaceBack(Ne.EXTENT,0,Ne.EXTENT,0),rt.emplaceBack(0,Ne.EXTENT,0,Ne.EXTENT),rt.emplaceBack(Ne.EXTENT,Ne.EXTENT,Ne.EXTENT,Ne.EXTENT),this.rasterBoundsBuffer=et.createVertexBuffer(rt,rn.members),this.rasterBoundsSegments=Ne.SegmentVector.simpleSegment(0,0,4,2);var it=new Ne.StructArrayLayout2i4;it.emplaceBack(0,0),it.emplaceBack(1,0),it.emplaceBack(0,1),it.emplaceBack(1,1),this.viewportBuffer=et.createVertexBuffer(it,Bs.members),this.viewportSegments=Ne.SegmentVector.simpleSegment(0,0,4,2);var ot=new Ne.StructArrayLayout1ui2;ot.emplaceBack(0),ot.emplaceBack(1),ot.emplaceBack(3),ot.emplaceBack(2),ot.emplaceBack(0),this.tileBorderIndexBuffer=et.createIndexBuffer(ot);var at=new Ne.StructArrayLayout3ui6;at.emplaceBack(0,1,2),at.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=et.createIndexBuffer(at),this.emptyTexture=new Ne.Texture(et,{width:1,height:1,data:new Uint8Array([0,0,0,0])},et.gl.RGBA);var st=this.context.gl;this.stencilClearMode=new Pt({func:st.ALWAYS,mask:0},0,255,st.ZERO,st.ZERO,st.ZERO)},yo.prototype.clearStencil=function(){var et=this.context,tt=et.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var nt=Ne.create();Ne.ortho(nt,0,this.width,this.height,0,0,1),Ne.scale(nt,nt,[tt.drawingBufferWidth,tt.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(et,tt.TRIANGLES,It.disabled,this.stencilClearMode,St.disabled,Ct.disabled,Ai(nt),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},yo.prototype._renderTileClippingMasks=function(Ne,et){if(this.currentStencilSource!==Ne.source&&Ne.isTileClipped()&&et&&et.length){this.currentStencilSource=Ne.source;var tt=this.context,nt=tt.gl;this.nextStencilID+et.length>256&&this.clearStencil(),tt.setColorMode(St.disabled),tt.setDepthMode(It.disabled);var rt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var it=0,ot=et;it<ot.length;it+=1){var at=ot[it],st=this._tileClippingMaskIDs[at.key]=this.nextStencilID++;rt.draw(tt,nt.TRIANGLES,It.disabled,new Pt({func:nt.ALWAYS,mask:0},st,255,nt.KEEP,nt.KEEP,nt.REPLACE),St.disabled,Ct.disabled,Ai(at.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},yo.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Ne=this.nextStencilID++,et=this.context.gl;return new Pt({func:et.NOTEQUAL,mask:255},Ne,255,et.KEEP,et.KEEP,et.REPLACE)},yo.prototype.stencilModeForClipping=function(Ne){var et=this.context.gl;return new Pt({func:et.EQUAL,mask:255},this._tileClippingMaskIDs[Ne.key],0,et.KEEP,et.KEEP,et.REPLACE)},yo.prototype.stencilConfigForOverlap=function(Ne){var et,tt=this.context.gl,nt=Ne.sort((function(Ne,et){return et.overscaledZ-Ne.overscaledZ})),rt=nt[nt.length-1].overscaledZ,it=nt[0].overscaledZ-rt+1;if(it>1){this.currentStencilSource=void 0,this.nextStencilID+it>256&&this.clearStencil();for(var ot={},at=0;at<it;at++)ot[at+rt]=new Pt({func:tt.GEQUAL,mask:255},at+this.nextStencilID,255,tt.KEEP,tt.KEEP,tt.REPLACE);return this.nextStencilID+=it,[ot,nt]}return[(et={},et[rt]=Pt.disabled,et),nt]},yo.prototype.colorModeForRenderPass=function(){var et=this.context.gl;return this._showOverdrawInspector?new St([et.CONSTANT_COLOR,et.ONE],new Ne.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?St.unblended:St.alphaBlended},yo.prototype.depthModeForSublayer=function(Ne,et,tt){if(!this.opaquePassEnabledForLayer())return It.disabled;var nt=1-((1+this.currentLayer)*this.numSublayers+Ne)*this.depthEpsilon;return new It(tt||this.context.gl.LEQUAL,et,[nt,nt])},yo.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},yo.prototype.render=function(et,tt){var nt=this;this.style=et,this.options=tt,this.lineAtlas=et.lineAtlas,this.imageManager=et.imageManager,this.glyphManager=et.glyphManager,this.symbolFadeChange=et.placement.symbolFadeChange(Ne.browser.now()),this.imageManager.beginFrame();var rt=this.style._order,it=this.style.sourceCaches;for(var ot in it){var at=it[ot];at.used&&at.prepare(this.context)}var st,ct,pt={},dt={},ft={};for(var mt in it){var yt=it[mt];pt[mt]=yt.getVisibleCoordinates(),dt[mt]=pt[mt].slice().reverse(),ft[mt]=yt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var vt=0;vt<rt.length;vt++)if(this.style._layers[rt[vt]].is3D()){this.opaquePassCutoff=vt;break}this.renderPass="offscreen";for(var Ot=0,Dt=rt;Ot<Dt.length;Ot+=1){var Rt=this.style._layers[Dt[Ot]];if(Rt.hasOffscreenPass()&&!Rt.isHidden(this.transform.zoom)){var Bt=dt[Rt.source];("custom"===Rt.type||Bt.length)&&this.renderLayer(this,it[Rt.source],Rt,Bt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:tt.showOverdrawInspector?Ne.Color.black:Ne.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=tt.showOverdrawInspector,this.depthRangeFor3D=[0,1-(et._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=rt.length-1;this.currentLayer>=0;this.currentLayer--){var rn=this.style._layers[rt[this.currentLayer]],vn=it[rn.source],bn=pt[rn.source];this._renderTileClippingMasks(rn,bn),this.renderLayer(this,vn,rn,bn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<rt.length;this.currentLayer++){var Tn=this.style._layers[rt[this.currentLayer]],Cn=it[Tn.source],In=("symbol"===Tn.type?ft:dt)[Tn.source];this._renderTileClippingMasks(Tn,pt[Tn.source]),this.renderLayer(this,Cn,Tn,In)}this.options.showTileBoundaries&&(Ne.values(this.style._layers).forEach((function(Ne){Ne.source&&!Ne.isHidden(nt.transform.zoom)&&(Ne.source!==(ct&&ct.id)&&(ct=nt.style.sourceCaches[Ne.source]),(!st||st.getSource().maxzoom<ct.getSource().maxzoom)&&(st=ct))})),st&&bc.debug(this,st,st.getVisibleCoordinates())),this.options.showPadding&&function(Ne){var et=Ne.transform.padding;_o(Ne,Ne.transform.height-(et.top||0),3,Fu),_o(Ne,et.bottom||0,3,ac),fo(Ne,et.left||0,3,pc),fo(Ne,Ne.transform.width-(et.right||0),3,yc);var tt=Ne.transform.centerPoint;!function(Ne,et,tt,nt){mo(Ne,et-1,tt-10,2,20,nt),mo(Ne,et-10,tt-1,20,2,nt)}(Ne,tt.x,Ne.transform.height-tt.y,_c)}(this),this.context.setDefault()},yo.prototype.renderLayer=function(Ne,et,tt,nt){tt.isHidden(this.transform.zoom)||("background"===tt.type||"custom"===tt.type||nt.length)&&(this.id=tt.id,this.gpuTimingStart(tt),bc[tt.type](Ne,et,tt,nt,this.style.placement.variableOffsets),this.gpuTimingEnd())},yo.prototype.gpuTimingStart=function(Ne){if(this.options.gpuTiming){var et=this.context.extTimerQuery,tt=this.gpuTimers[Ne.id];tt||(tt=this.gpuTimers[Ne.id]={calls:0,cpuTime:0,query:et.createQueryEXT()}),tt.calls++,et.beginQueryEXT(et.TIME_ELAPSED_EXT,tt.query)}},yo.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Ne=this.context.extTimerQuery;Ne.endQueryEXT(Ne.TIME_ELAPSED_EXT)}},yo.prototype.collectGpuTimers=function(){var Ne=this.gpuTimers;return this.gpuTimers={},Ne},yo.prototype.queryGpuTimers=function(Ne){var et={};for(var tt in Ne){var nt=Ne[tt],rt=this.context.extTimerQuery,it=rt.getQueryObjectEXT(nt.query,rt.QUERY_RESULT_EXT)/1e6;rt.deleteQueryEXT(nt.query),et[tt]=it}return et},yo.prototype.translatePosMatrix=function(et,tt,nt,rt,it){if(!nt[0]&&!nt[1])return et;var ot=it?"map"===rt?this.transform.angle:0:"viewport"===rt?-this.transform.angle:0;if(ot){var at=Math.sin(ot),st=Math.cos(ot);nt=[nt[0]*st-nt[1]*at,nt[0]*at+nt[1]*st]}var ct=[it?nt[0]:pe(tt,nt[0],this.transform.zoom),it?nt[1]:pe(tt,nt[1],this.transform.zoom),0],pt=new Float32Array(16);return Ne.translate(pt,et,ct),pt},yo.prototype.saveTileTexture=function(Ne){var et=this._tileTextures[Ne.size[0]];et?et.push(Ne):this._tileTextures[Ne.size[0]]=[Ne]},yo.prototype.getTileTexture=function(Ne){var et=this._tileTextures[Ne];return et&&et.length>0?et.pop():null},yo.prototype.isPatternMissing=function(Ne){if(!Ne)return!1;if(!Ne.from||!Ne.to)return!0;var et=this.imageManager.getPattern(Ne.from.toString()),tt=this.imageManager.getPattern(Ne.to.toString());return!et||!tt},yo.prototype.useProgram=function(Ne,et){this.cache=this.cache||{};var tt=""+Ne+(et?et.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[tt]||(this.cache[tt]=new bi(this.context,Ne,vu[Ne],et,wu[Ne],this._showOverdrawInspector)),this.cache[tt]},yo.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},yo.prototype.setBaseState=function(){var Ne=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Ne.FUNC_ADD)},yo.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=Ne.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Ne.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},yo.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xo=function(Ne,et){this.points=Ne,this.planes=et};xo.fromInvProjectionMatrix=function(et,tt,nt){var rt=Math.pow(2,nt),it=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(tt){return Ne.transformMat4([],tt,et)})).map((function(et){return Ne.scale$1([],et,1/et[3]/tt*rt)})),ot=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(et){var tt=Ne.sub([],it[et[0]],it[et[1]]),nt=Ne.sub([],it[et[2]],it[et[1]]),rt=Ne.normalize([],Ne.cross([],tt,nt)),ot=-Ne.dot(rt,it[et[1]]);return rt.concat(ot)}));return new xo(it,ot)};var bo=function(et,tt){this.min=et,this.max=tt,this.center=Ne.scale$2([],Ne.add([],this.min,this.max),.5)};bo.prototype.quadrant=function(et){for(var tt=[et%2==0,et<2],nt=Ne.clone$2(this.min),rt=Ne.clone$2(this.max),it=0;it<tt.length;it++)nt[it]=tt[it]?this.min[it]:this.center[it],rt[it]=tt[it]?this.center[it]:this.max[it];return rt[2]=this.max[2],new bo(nt,rt)},bo.prototype.distanceX=function(Ne){return Math.max(Math.min(this.max[0],Ne[0]),this.min[0])-Ne[0]},bo.prototype.distanceY=function(Ne){return Math.max(Math.min(this.max[1],Ne[1]),this.min[1])-Ne[1]},bo.prototype.intersects=function(et){for(var tt=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],nt=!0,rt=0;rt<et.planes.length;rt++){for(var it=et.planes[rt],ot=0,at=0;at<tt.length;at++)ot+=Ne.dot$1(it,tt[at])>=0;if(0===ot)return 0;ot!==tt.length&&(nt=!1)}if(nt)return 2;for(var st=0;st<3;st++){for(var ct=Number.MAX_VALUE,pt=-Number.MAX_VALUE,dt=0;dt<et.points.length;dt++){var ft=et.points[dt][st]-this.min[st];ct=Math.min(ct,ft),pt=Math.max(pt,ft)}if(pt<0||ct>this.max[st]-this.min[st])return 0}return 1};var wo=function(Ne,et,tt,nt){if(void 0===Ne&&(Ne=0),void 0===et&&(et=0),void 0===tt&&(tt=0),void 0===nt&&(nt=0),isNaN(Ne)||Ne<0||isNaN(et)||et<0||isNaN(tt)||tt<0||isNaN(nt)||nt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Ne,this.bottom=et,this.left=tt,this.right=nt};wo.prototype.interpolate=function(et,tt,nt){return null!=tt.top&&null!=et.top&&(this.top=Ne.number(et.top,tt.top,nt)),null!=tt.bottom&&null!=et.bottom&&(this.bottom=Ne.number(et.bottom,tt.bottom,nt)),null!=tt.left&&null!=et.left&&(this.left=Ne.number(et.left,tt.left,nt)),null!=tt.right&&null!=et.right&&(this.right=Ne.number(et.right,tt.right,nt)),this},wo.prototype.getCenter=function(et,tt){var nt=Ne.clamp((this.left+et-this.right)/2,0,et),rt=Ne.clamp((this.top+tt-this.bottom)/2,0,tt);return new Ne.Point(nt,rt)},wo.prototype.equals=function(Ne){return this.top===Ne.top&&this.bottom===Ne.bottom&&this.left===Ne.left&&this.right===Ne.right},wo.prototype.clone=function(){return new wo(this.top,this.bottom,this.left,this.right)},wo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var To=function(et,tt,nt,rt,it){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===it||it,this._minZoom=et||0,this._maxZoom=tt||22,this._minPitch=null==nt?0:nt,this._maxPitch=null==rt?60:rt,this.setMaxBounds(),this.width=0,this.height=0,this._center=new Ne.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wo,this._posMatrixCache={},this._alignedPosMatrixCache={}},xc={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};To.prototype.clone=function(){var Ne=new To(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Ne.tileSize=this.tileSize,Ne.latRange=this.latRange,Ne.width=this.width,Ne.height=this.height,Ne._center=this._center,Ne.zoom=this.zoom,Ne.angle=this.angle,Ne._fov=this._fov,Ne._pitch=this._pitch,Ne._unmodified=this._unmodified,Ne._edgeInsets=this._edgeInsets.clone(),Ne._calcMatrices(),Ne},xc.minZoom.get=function(){return this._minZoom},xc.minZoom.set=function(Ne){this._minZoom!==Ne&&(this._minZoom=Ne,this.zoom=Math.max(this.zoom,Ne))},xc.maxZoom.get=function(){return this._maxZoom},xc.maxZoom.set=function(Ne){this._maxZoom!==Ne&&(this._maxZoom=Ne,this.zoom=Math.min(this.zoom,Ne))},xc.minPitch.get=function(){return this._minPitch},xc.minPitch.set=function(Ne){this._minPitch!==Ne&&(this._minPitch=Ne,this.pitch=Math.max(this.pitch,Ne))},xc.maxPitch.get=function(){return this._maxPitch},xc.maxPitch.set=function(Ne){this._maxPitch!==Ne&&(this._maxPitch=Ne,this.pitch=Math.min(this.pitch,Ne))},xc.renderWorldCopies.get=function(){return this._renderWorldCopies},xc.renderWorldCopies.set=function(Ne){void 0===Ne?Ne=!0:null===Ne&&(Ne=!1),this._renderWorldCopies=Ne},xc.worldSize.get=function(){return this.tileSize*this.scale},xc.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},xc.size.get=function(){return new Ne.Point(this.width,this.height)},xc.bearing.get=function(){return-this.angle/Math.PI*180},xc.bearing.set=function(et){var tt=-Ne.wrap(et,-180,180)*Math.PI/180;this.angle!==tt&&(this._unmodified=!1,this.angle=tt,this._calcMatrices(),this.rotationMatrix=Ne.create$2(),Ne.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},xc.pitch.get=function(){return this._pitch/Math.PI*180},xc.pitch.set=function(et){var tt=Ne.clamp(et,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==tt&&(this._unmodified=!1,this._pitch=tt,this._calcMatrices())},xc.fov.get=function(){return this._fov/Math.PI*180},xc.fov.set=function(Ne){Ne=Math.max(.01,Math.min(60,Ne)),this._fov!==Ne&&(this._unmodified=!1,this._fov=Ne/180*Math.PI,this._calcMatrices())},xc.zoom.get=function(){return this._zoom},xc.zoom.set=function(Ne){var et=Math.min(Math.max(Ne,this.minZoom),this.maxZoom);this._zoom!==et&&(this._unmodified=!1,this._zoom=et,this.scale=this.zoomScale(et),this.tileZoom=Math.floor(et),this.zoomFraction=et-this.tileZoom,this._constrain(),this._calcMatrices())},xc.center.get=function(){return this._center},xc.center.set=function(Ne){Ne.lat===this._center.lat&&Ne.lng===this._center.lng||(this._unmodified=!1,this._center=Ne,this._constrain(),this._calcMatrices())},xc.padding.get=function(){return this._edgeInsets.toJSON()},xc.padding.set=function(Ne){this._edgeInsets.equals(Ne)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,Ne,1),this._calcMatrices())},xc.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},To.prototype.isPaddingEqual=function(Ne){return this._edgeInsets.equals(Ne)},To.prototype.interpolatePadding=function(Ne,et,tt){this._unmodified=!1,this._edgeInsets.interpolate(Ne,et,tt),this._constrain(),this._calcMatrices()},To.prototype.coveringZoomLevel=function(Ne){var et=(Ne.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Ne.tileSize));return Math.max(0,et)},To.prototype.getVisibleUnwrappedCoordinates=function(et){var tt=[new Ne.UnwrappedTileID(0,et)];if(this._renderWorldCopies)for(var nt=this.pointCoordinate(new Ne.Point(0,0)),rt=this.pointCoordinate(new Ne.Point(this.width,0)),it=this.pointCoordinate(new Ne.Point(this.width,this.height)),ot=this.pointCoordinate(new Ne.Point(0,this.height)),at=Math.floor(Math.min(nt.x,rt.x,it.x,ot.x)),st=Math.floor(Math.max(nt.x,rt.x,it.x,ot.x)),ct=at-1;ct<=st+1;ct++)0!==ct&&tt.push(new Ne.UnwrappedTileID(ct,et));return tt},To.prototype.coveringTiles=function(et){var tt=this.coveringZoomLevel(et),nt=tt;if(void 0!==et.minzoom&&tt<et.minzoom)return[];void 0!==et.maxzoom&&tt>et.maxzoom&&(tt=et.maxzoom);var rt=Ne.MercatorCoordinate.fromLngLat(this.center),it=Math.pow(2,tt),ot=[it*rt.x,it*rt.y,0],at=xo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,tt),st=et.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(st=tt);var c=function(Ne){return{aabb:new bo([Ne*it,0,0],[(Ne+1)*it,it,0]),zoom:0,x:0,y:0,wrap:Ne,fullyVisible:!1}},ct=[],pt=[],dt=tt,ft=et.reparseOverscaled?nt:tt;if(this._renderWorldCopies)for(var mt=1;mt<=3;mt++)ct.push(c(-mt)),ct.push(c(mt));for(ct.push(c(0));ct.length>0;){var yt=ct.pop(),vt=yt.x,Ot=yt.y,Dt=yt.fullyVisible;if(!Dt){var Rt=yt.aabb.intersects(at);if(0===Rt)continue;Dt=2===Rt}var Bt=yt.aabb.distanceX(ot),rn=yt.aabb.distanceY(ot),vn=Math.max(Math.abs(Bt),Math.abs(rn));if(yt.zoom===dt||vn>3+(1<<dt-yt.zoom)-2&&yt.zoom>=st)pt.push({tileID:new Ne.OverscaledTileID(yt.zoom===dt?ft:yt.zoom,yt.wrap,yt.zoom,vt,Ot),distanceSq:Ne.sqrLen([ot[0]-.5-vt,ot[1]-.5-Ot])});else for(var bn=0;bn<4;bn++){var Tn=(vt<<1)+bn%2,Cn=(Ot<<1)+(bn>>1);ct.push({aabb:yt.aabb.quadrant(bn),zoom:yt.zoom+1,x:Tn,y:Cn,wrap:yt.wrap,fullyVisible:Dt})}}return pt.sort((function(Ne,et){return Ne.distanceSq-et.distanceSq})).map((function(Ne){return Ne.tileID}))},To.prototype.resize=function(Ne,et){this.width=Ne,this.height=et,this.pixelsToGLUnits=[2/Ne,-2/et],this._constrain(),this._calcMatrices()},xc.unmodified.get=function(){return this._unmodified},To.prototype.zoomScale=function(Ne){return Math.pow(2,Ne)},To.prototype.scaleZoom=function(Ne){return Math.log(Ne)/Math.LN2},To.prototype.project=function(et){var tt=Ne.clamp(et.lat,-this.maxValidLatitude,this.maxValidLatitude);return new Ne.Point(Ne.mercatorXfromLng(et.lng)*this.worldSize,Ne.mercatorYfromLat(tt)*this.worldSize)},To.prototype.unproject=function(et){return new Ne.MercatorCoordinate(et.x/this.worldSize,et.y/this.worldSize).toLngLat()},xc.point.get=function(){return this.project(this.center)},To.prototype.setLocationAtPoint=function(et,tt){var nt=this.pointCoordinate(tt),rt=this.pointCoordinate(this.centerPoint),it=this.locationCoordinate(et),ot=new Ne.MercatorCoordinate(it.x-(nt.x-rt.x),it.y-(nt.y-rt.y));this.center=this.coordinateLocation(ot),this._renderWorldCopies&&(this.center=this.center.wrap())},To.prototype.locationPoint=function(Ne){return this.coordinatePoint(this.locationCoordinate(Ne))},To.prototype.pointLocation=function(Ne){return this.coordinateLocation(this.pointCoordinate(Ne))},To.prototype.locationCoordinate=function(et){return Ne.MercatorCoordinate.fromLngLat(et)},To.prototype.coordinateLocation=function(Ne){return Ne.toLngLat()},To.prototype.pointCoordinate=function(et){var tt=[et.x,et.y,0,1],nt=[et.x,et.y,1,1];Ne.transformMat4(tt,tt,this.pixelMatrixInverse),Ne.transformMat4(nt,nt,this.pixelMatrixInverse);var rt=tt[3],it=nt[3],ot=tt[1]/rt,at=nt[1]/it,st=tt[2]/rt,ct=nt[2]/it,pt=st===ct?0:(0-st)/(ct-st);return new Ne.MercatorCoordinate(Ne.number(tt[0]/rt,nt[0]/it,pt)/this.worldSize,Ne.number(ot,at,pt)/this.worldSize)},To.prototype.coordinatePoint=function(et){var tt=[et.x*this.worldSize,et.y*this.worldSize,0,1];return Ne.transformMat4(tt,tt,this.pixelMatrix),new Ne.Point(tt[0]/tt[3],tt[1]/tt[3])},To.prototype.getBounds=function(){return(new Ne.LngLatBounds).extend(this.pointLocation(new Ne.Point(0,0))).extend(this.pointLocation(new Ne.Point(this.width,0))).extend(this.pointLocation(new Ne.Point(this.width,this.height))).extend(this.pointLocation(new Ne.Point(0,this.height)))},To.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new Ne.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},To.prototype.setMaxBounds=function(Ne){Ne?(this.lngRange=[Ne.getWest(),Ne.getEast()],this.latRange=[Ne.getSouth(),Ne.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},To.prototype.calculatePosMatrix=function(et,tt){void 0===tt&&(tt=!1);var nt=et.key,rt=tt?this._alignedPosMatrixCache:this._posMatrixCache;if(rt[nt])return rt[nt];var it=et.canonical,ot=this.worldSize/this.zoomScale(it.z),at=it.x+Math.pow(2,it.z)*et.wrap,st=Ne.identity(new Float64Array(16));return Ne.translate(st,st,[at*ot,it.y*ot,0]),Ne.scale(st,st,[ot/Ne.EXTENT,ot/Ne.EXTENT,1]),Ne.multiply(st,tt?this.alignedProjMatrix:this.projMatrix,st),rt[nt]=new Float32Array(st),rt[nt]},To.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},To.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var et,tt,nt,rt,it=-90,ot=90,at=-180,st=180,ct=this.size,pt=this._unmodified;if(this.latRange){var dt=this.latRange;it=Ne.mercatorYfromLat(dt[1])*this.worldSize,et=(ot=Ne.mercatorYfromLat(dt[0])*this.worldSize)-it<ct.y?ct.y/(ot-it):0}if(this.lngRange){var ft=this.lngRange;at=Ne.mercatorXfromLng(ft[0])*this.worldSize,tt=(st=Ne.mercatorXfromLng(ft[1])*this.worldSize)-at<ct.x?ct.x/(st-at):0}var mt=this.point,yt=Math.max(tt||0,et||0);if(yt)return this.center=this.unproject(new Ne.Point(tt?(st+at)/2:mt.x,et?(ot+it)/2:mt.y)),this.zoom+=this.scaleZoom(yt),this._unmodified=pt,void(this._constraining=!1);if(this.latRange){var vt=mt.y,Ot=ct.y/2;vt-Ot<it&&(rt=it+Ot),vt+Ot>ot&&(rt=ot-Ot)}if(this.lngRange){var Dt=mt.x,Rt=ct.x/2;Dt-Rt<at&&(nt=at+Rt),Dt+Rt>st&&(nt=st-Rt)}void 0===nt&&void 0===rt||(this.center=this.unproject(new Ne.Point(void 0!==nt?nt:mt.x,void 0!==rt?rt:mt.y))),this._unmodified=pt,this._constraining=!1}},To.prototype._calcMatrices=function(){if(this.height){var et=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var tt=Math.PI/2+this._pitch,nt=this._fov*(.5+et.y/this.height),rt=Math.sin(nt)*this.cameraToCenterDistance/Math.sin(Ne.clamp(Math.PI-tt-nt,.01,Math.PI-.01)),it=this.point,ot=it.x,at=it.y,st=1.01*(Math.cos(Math.PI/2-this._pitch)*rt+this.cameraToCenterDistance),ct=this.height/50,pt=new Float64Array(16);Ne.perspective(pt,this._fov,this.width/this.height,ct,st),pt[8]=2*-et.x/this.width,pt[9]=2*et.y/this.height,Ne.scale(pt,pt,[1,-1,1]),Ne.translate(pt,pt,[0,0,-this.cameraToCenterDistance]),Ne.rotateX(pt,pt,this._pitch),Ne.rotateZ(pt,pt,this.angle),Ne.translate(pt,pt,[-ot,-at,0]),this.mercatorMatrix=Ne.scale([],pt,[this.worldSize,this.worldSize,this.worldSize]),Ne.scale(pt,pt,[1,1,Ne.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=pt,this.invProjMatrix=Ne.invert([],this.projMatrix);var dt=this.width%2/2,ft=this.height%2/2,mt=Math.cos(this.angle),yt=Math.sin(this.angle),vt=ot-Math.round(ot)+mt*dt+yt*ft,Ot=at-Math.round(at)+mt*ft+yt*dt,Dt=new Float64Array(pt);if(Ne.translate(Dt,Dt,[vt>.5?vt-1:vt,Ot>.5?Ot-1:Ot,0]),this.alignedProjMatrix=Dt,pt=Ne.create(),Ne.scale(pt,pt,[this.width/2,-this.height/2,1]),Ne.translate(pt,pt,[1,-1,0]),this.labelPlaneMatrix=pt,pt=Ne.create(),Ne.scale(pt,pt,[1,-1,1]),Ne.translate(pt,pt,[-1,-1,0]),Ne.scale(pt,pt,[2/this.width,2/this.height,1]),this.glCoordMatrix=pt,this.pixelMatrix=Ne.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(pt=Ne.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=pt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},To.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var et=this.pointCoordinate(new Ne.Point(0,0)),tt=[et.x*this.worldSize,et.y*this.worldSize,0,1];return Ne.transformMat4(tt,tt,this.pixelMatrix)[3]/this.cameraToCenterDistance},To.prototype.getCameraPoint=function(){var et=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new Ne.Point(0,et))},To.prototype.getCameraQueryGeometry=function(et){var tt=this.getCameraPoint();if(1===et.length)return[et[0],tt];for(var nt=tt.x,rt=tt.y,it=tt.x,ot=tt.y,at=0,st=et;at<st.length;at+=1){var ct=st[at];nt=Math.min(nt,ct.x),rt=Math.min(rt,ct.y),it=Math.max(it,ct.x),ot=Math.max(ot,ct.y)}return[new Ne.Point(nt,rt),new Ne.Point(it,rt),new Ne.Point(it,ot),new Ne.Point(nt,ot),new Ne.Point(nt,rt)]},Object.defineProperties(To.prototype,xc);var Io=function(et){var tt,nt,rt,it;this._hashName=et&&encodeURIComponent(et),Ne.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(tt=this._updateHashUnthrottled.bind(this),nt=!1,rt=null,it=function(){rt=null,nt&&(tt(),rt=setTimeout(it,300),nt=!1)},function(){return nt=!0,rt||it(),rt})};Io.prototype.addTo=function(et){return this._map=et,Ne.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Io.prototype.remove=function(){return Ne.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Io.prototype.getHashString=function(et){var tt=this._map.getCenter(),nt=Math.round(100*this._map.getZoom())/100,rt=Math.ceil((nt*Math.LN2+Math.log(512/360/.5))/Math.LN10),it=Math.pow(10,rt),ot=Math.round(tt.lng*it)/it,at=Math.round(tt.lat*it)/it,st=this._map.getBearing(),ct=this._map.getPitch(),pt="";if(pt+=et?"/"+ot+"/"+at+"/"+nt:nt+"/"+at+"/"+ot,(st||ct)&&(pt+="/"+Math.round(10*st)/10),ct&&(pt+="/"+Math.round(ct)),this._hashName){var dt=this._hashName,ft=!1,mt=Ne.window.location.hash.slice(1).split("&").map((function(Ne){var et=Ne.split("=")[0];return et===dt?(ft=!0,et+"="+pt):Ne})).filter((function(Ne){return Ne}));return ft||mt.push(dt+"="+pt),"#"+mt.join("&")}return"#"+pt},Io.prototype._getCurrentHash=function(){var et,tt=this,nt=Ne.window.location.hash.replace("#","");return this._hashName?(nt.split("&").map((function(Ne){return Ne.split("=")})).forEach((function(Ne){Ne[0]===tt._hashName&&(et=Ne)})),(et&&et[1]||"").split("/")):nt.split("/")},Io.prototype._onHashChange=function(){var Ne=this._getCurrentHash();if(Ne.length>=3&&!Ne.some((function(Ne){return isNaN(Ne)}))){var et=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Ne[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Ne[2],+Ne[1]],zoom:+Ne[0],bearing:et,pitch:+(Ne[4]||0)}),!0}return!1},Io.prototype._updateHashUnthrottled=function(){var et=this.getHashString();try{Ne.window.history.replaceState(Ne.window.history.state,"",et)}catch(Ne){}};var wc={linearity:.3,easing:Ne.bezier(0,0,.3,1)},Ec=Ne.extend({deceleration:2500,maxSpeed:1400},wc),Cc=Ne.extend({deceleration:20,maxSpeed:1400},wc),kc=Ne.extend({deceleration:1e3,maxSpeed:360},wc),Ic=Ne.extend({deceleration:1e3,maxSpeed:90},wc),Mo=function(Ne){this._map=Ne,this.clear()};function Lo(Ne,et){(!Ne.duration||Ne.duration<et.duration)&&(Ne.duration=et.duration,Ne.easing=et.easing)}function Ao(et,tt,nt){var rt=nt.maxSpeed,it=nt.linearity,ot=nt.deceleration,at=Ne.clamp(et*it/(tt/1e3),-rt,rt),st=Math.abs(at)/(ot*it);return{easing:nt.easing,duration:1e3*st,amount:at*(st/2)}}Mo.prototype.clear=function(){this._inertiaBuffer=[]},Mo.prototype.record=function(et){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:Ne.browser.now(),settings:et})},Mo.prototype._drainInertiaBuffer=function(){for(var et=this._inertiaBuffer,tt=Ne.browser.now();et.length>0&&tt-et[0].time>160;)et.shift()},Mo.prototype._onMoveEnd=function(et){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var tt={zoom:0,bearing:0,pitch:0,pan:new Ne.Point(0,0),pinchAround:void 0,around:void 0},nt=0,rt=this._inertiaBuffer;nt<rt.length;nt+=1){var it=rt[nt].settings;tt.zoom+=it.zoomDelta||0,tt.bearing+=it.bearingDelta||0,tt.pitch+=it.pitchDelta||0,it.panDelta&&tt.pan._add(it.panDelta),it.around&&(tt.around=it.around),it.pinchAround&&(tt.pinchAround=it.pinchAround)}var ot=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,at={};if(tt.pan.mag()){var st=Ao(tt.pan.mag(),ot,Ne.extend({},Ec,et||{}));at.offset=tt.pan.mult(st.amount/tt.pan.mag()),at.center=this._map.transform.center,Lo(at,st)}if(tt.zoom){var ct=Ao(tt.zoom,ot,Cc);at.zoom=this._map.transform.zoom+ct.amount,Lo(at,ct)}if(tt.bearing){var pt=Ao(tt.bearing,ot,kc);at.bearing=this._map.transform.bearing+Ne.clamp(pt.amount,-179,179),Lo(at,pt)}if(tt.pitch){var dt=Ao(tt.pitch,ot,Ic);at.pitch=this._map.transform.pitch+dt.amount,Lo(at,dt)}if(at.zoom||at.bearing){var ft=void 0===tt.pinchAround?tt.around:tt.pinchAround;at.around=ft?this._map.unproject(ft):this._map.getCenter()}return this.clear(),Ne.extend(at,{noMoveStart:!0})}};var Ac=function(et){function o(nt,rt,it,ot){void 0===ot&&(ot={});var at=tt.mousePos(rt.getCanvasContainer(),it),st=rt.unproject(at);et.call(this,nt,Ne.extend({point:at,lngLat:st,originalEvent:it},ot)),this._defaultPrevented=!1,this.target=rt}et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o;var nt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},nt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,nt),o}(Ne.Event),zc=function(et){function o(nt,rt,it){var ot="touchend"===nt?it.changedTouches:it.touches,at=tt.touchPos(rt.getCanvasContainer(),ot),st=at.map((function(Ne){return rt.unproject(Ne)})),ct=at.reduce((function(Ne,et,tt,nt){return Ne.add(et.div(nt.length))}),new Ne.Point(0,0)),pt=rt.unproject(ct);et.call(this,nt,{points:at,point:ct,lngLats:st,lngLat:pt,originalEvent:it}),this._defaultPrevented=!1}et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o;var nt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},nt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,nt),o}(Ne.Event),Dc=function(Ne){function e(et,tt,nt){Ne.call(this,et,{originalEvent:nt}),this._defaultPrevented=!1}Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e;var et={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},et.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,et),e}(Ne.Event),Oo=function(Ne,et){this._map=Ne,this._clickTolerance=et.clickTolerance};Oo.prototype.reset=function(){delete this._mousedownPos},Oo.prototype.wheel=function(Ne){return this._firePreventable(new Dc(Ne.type,this._map,Ne))},Oo.prototype.mousedown=function(Ne,et){return this._mousedownPos=et,this._firePreventable(new Ac(Ne.type,this._map,Ne))},Oo.prototype.mouseup=function(Ne){this._map.fire(new Ac(Ne.type,this._map,Ne))},Oo.prototype.click=function(Ne,et){this._mousedownPos&&this._mousedownPos.dist(et)>=this._clickTolerance||this._map.fire(new Ac(Ne.type,this._map,Ne))},Oo.prototype.dblclick=function(Ne){return this._firePreventable(new Ac(Ne.type,this._map,Ne))},Oo.prototype.mouseover=function(Ne){this._map.fire(new Ac(Ne.type,this._map,Ne))},Oo.prototype.mouseout=function(Ne){this._map.fire(new Ac(Ne.type,this._map,Ne))},Oo.prototype.touchstart=function(Ne){return this._firePreventable(new zc(Ne.type,this._map,Ne))},Oo.prototype.touchmove=function(Ne){this._map.fire(new zc(Ne.type,this._map,Ne))},Oo.prototype.touchend=function(Ne){this._map.fire(new zc(Ne.type,this._map,Ne))},Oo.prototype.touchcancel=function(Ne){this._map.fire(new zc(Ne.type,this._map,Ne))},Oo.prototype._firePreventable=function(Ne){if(this._map.fire(Ne),Ne.defaultPrevented)return{}},Oo.prototype.isEnabled=function(){return!0},Oo.prototype.isActive=function(){return!1},Oo.prototype.enable=function(){},Oo.prototype.disable=function(){};var Fo=function(Ne){this._map=Ne};Fo.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fo.prototype.mousemove=function(Ne){this._map.fire(new Ac(Ne.type,this._map,Ne))},Fo.prototype.mousedown=function(){this._delayContextMenu=!0},Fo.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ac("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fo.prototype.contextmenu=function(Ne){this._delayContextMenu?this._contextMenuEvent=Ne:this._map.fire(new Ac(Ne.type,this._map,Ne)),this._map.listens("contextmenu")&&Ne.preventDefault()},Fo.prototype.isEnabled=function(){return!0},Fo.prototype.isActive=function(){return!1},Fo.prototype.enable=function(){},Fo.prototype.disable=function(){};var Uo=function(Ne,et){this._map=Ne,this._el=Ne.getCanvasContainer(),this._container=Ne.getContainer(),this._clickTolerance=et.clickTolerance||1};function No(Ne,et){for(var tt={},nt=0;nt<Ne.length;nt++)tt[Ne[nt].identifier]=et[nt];return tt}Uo.prototype.isEnabled=function(){return!!this._enabled},Uo.prototype.isActive=function(){return!!this._active},Uo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Uo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Uo.prototype.mousedown=function(Ne,et){this.isEnabled()&&Ne.shiftKey&&0===Ne.button&&(tt.disableDrag(),this._startPos=this._lastPos=et,this._active=!0)},Uo.prototype.mousemoveWindow=function(Ne,et){if(this._active){var nt=et;if(!(this._lastPos.equals(nt)||!this._box&&nt.dist(this._startPos)<this._clickTolerance)){var rt=this._startPos;this._lastPos=nt,this._box||(this._box=tt.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Ne));var it=Math.min(rt.x,nt.x),ot=Math.max(rt.x,nt.x),at=Math.min(rt.y,nt.y),st=Math.max(rt.y,nt.y);tt.setTransform(this._box,"translate("+it+"px,"+at+"px)"),this._box.style.width=ot-it+"px",this._box.style.height=st-at+"px"}}},Uo.prototype.mouseupWindow=function(et,nt){var rt=this;if(this._active&&0===et.button){var it=this._startPos,ot=nt;if(this.reset(),tt.suppressClick(),it.x!==ot.x||it.y!==ot.y)return this._map.fire(new Ne.Event("boxzoomend",{originalEvent:et})),{cameraAnimation:function(Ne){return Ne.fitScreenCoordinates(it,ot,rt._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",et)}},Uo.prototype.keydown=function(Ne){this._active&&27===Ne.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",Ne))},Uo.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(tt.remove(this._box),this._box=null),tt.enableDrag(),delete this._startPos,delete this._lastPos},Uo.prototype._fireEvent=function(et,tt){return this._map.fire(new Ne.Event(et,{originalEvent:tt}))};var Zo=function(Ne){this.reset(),this.numTouches=Ne.numTouches};Zo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zo.prototype.touchstart=function(et,tt,nt){(this.centroid||nt.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=et.timeStamp),nt.length===this.numTouches&&(this.centroid=function(et){for(var tt=new Ne.Point(0,0),nt=0,rt=et;nt<rt.length;nt+=1)tt._add(rt[nt]);return tt.div(et.length)}(tt),this.touches=No(nt,tt)))},Zo.prototype.touchmove=function(Ne,et,tt){if(!this.aborted&&this.centroid){var nt=No(tt,et);for(var rt in this.touches){var it=nt[rt];(!it||it.dist(this.touches[rt])>30)&&(this.aborted=!0)}}},Zo.prototype.touchend=function(Ne,et,tt){if((!this.centroid||Ne.timeStamp-this.startTime>500)&&(this.aborted=!0),0===tt.length){var nt=!this.aborted&&this.centroid;if(this.reset(),nt)return nt}};var jo=function(Ne){this.singleTap=new Zo(Ne),this.numTaps=Ne.numTaps,this.reset()};jo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},jo.prototype.touchstart=function(Ne,et,tt){this.singleTap.touchstart(Ne,et,tt)},jo.prototype.touchmove=function(Ne,et,tt){this.singleTap.touchmove(Ne,et,tt)},jo.prototype.touchend=function(Ne,et,tt){var nt=this.singleTap.touchend(Ne,et,tt);if(nt){var rt=Ne.timeStamp-this.lastTime<500,it=!this.lastTap||this.lastTap.dist(nt)<30;if(rt&&it||this.reset(),this.count++,this.lastTime=Ne.timeStamp,this.lastTap=nt,this.count===this.numTaps)return this.reset(),nt}};var qo=function(){this._zoomIn=new jo({numTouches:1,numTaps:2}),this._zoomOut=new jo({numTouches:2,numTaps:1}),this.reset()};qo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qo.prototype.touchstart=function(Ne,et,tt){this._zoomIn.touchstart(Ne,et,tt),this._zoomOut.touchstart(Ne,et,tt)},qo.prototype.touchmove=function(Ne,et,tt){this._zoomIn.touchmove(Ne,et,tt),this._zoomOut.touchmove(Ne,et,tt)},qo.prototype.touchend=function(Ne,et,tt){var nt=this,rt=this._zoomIn.touchend(Ne,et,tt),it=this._zoomOut.touchend(Ne,et,tt);return rt?(this._active=!0,Ne.preventDefault(),setTimeout((function(){return nt.reset()}),0),{cameraAnimation:function(et){return et.easeTo({duration:300,zoom:et.getZoom()+1,around:et.unproject(rt)},{originalEvent:Ne})}}):it?(this._active=!0,Ne.preventDefault(),setTimeout((function(){return nt.reset()}),0),{cameraAnimation:function(et){return et.easeTo({duration:300,zoom:et.getZoom()-1,around:et.unproject(it)},{originalEvent:Ne})}}):void 0},qo.prototype.touchcancel=function(){this.reset()},qo.prototype.enable=function(){this._enabled=!0},qo.prototype.disable=function(){this._enabled=!1,this.reset()},qo.prototype.isEnabled=function(){return this._enabled},qo.prototype.isActive=function(){return this._active};var Fc={0:1,2:2},Go=function(Ne){this.reset(),this._clickTolerance=Ne.clickTolerance||1};Go.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Go.prototype._correctButton=function(Ne,et){return!1},Go.prototype._move=function(Ne,et){return{}},Go.prototype.mousedown=function(Ne,et){if(!this._lastPoint){var nt=tt.mouseButton(Ne);this._correctButton(Ne,nt)&&(this._lastPoint=et,this._eventButton=nt)}},Go.prototype.mousemoveWindow=function(Ne,et){var tt=this._lastPoint;if(tt)if(Ne.preventDefault(),function(Ne,et){var tt=Fc[et];return void 0===Ne.buttons||(Ne.buttons&tt)!==tt}(Ne,this._eventButton))this.reset();else if(this._moved||!(et.dist(tt)<this._clickTolerance))return this._moved=!0,this._lastPoint=et,this._move(tt,et)},Go.prototype.mouseupWindow=function(Ne){this._lastPoint&&tt.mouseButton(Ne)===this._eventButton&&(this._moved&&tt.suppressClick(),this.reset())},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var Bc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.mousedown=function(et,tt){Ne.prototype.mousedown.call(this,et,tt),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(Ne,et){return 0===et&&!Ne.ctrlKey},e.prototype._move=function(Ne,et){return{around:et,panDelta:et.sub(Ne)}},e}(Go),Zc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._correctButton=function(Ne,et){return 0===et&&Ne.ctrlKey||2===et},e.prototype._move=function(Ne,et){var tt=.8*(et.x-Ne.x);if(tt)return this._active=!0,{bearingDelta:tt}},e.prototype.contextmenu=function(Ne){Ne.preventDefault()},e}(Go),Wc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype._correctButton=function(Ne,et){return 0===et&&Ne.ctrlKey||2===et},e.prototype._move=function(Ne,et){var tt=-.5*(et.y-Ne.y);if(tt)return this._active=!0,{pitchDelta:tt}},e.prototype.contextmenu=function(Ne){Ne.preventDefault()},e}(Go),Ko=function(Ne){this._minTouches=1,this._clickTolerance=Ne.clickTolerance||1,this.reset()};Ko.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new Ne.Point(0,0)},Ko.prototype.touchstart=function(Ne,et,tt){return this._calculateTransform(Ne,et,tt)},Ko.prototype.touchmove=function(Ne,et,tt){if(this._active)return Ne.preventDefault(),this._calculateTransform(Ne,et,tt)},Ko.prototype.touchend=function(Ne,et,tt){this._calculateTransform(Ne,et,tt),this._active&&tt.length<this._minTouches&&this.reset()},Ko.prototype.touchcancel=function(){this.reset()},Ko.prototype._calculateTransform=function(et,tt,nt){nt.length>0&&(this._active=!0);var rt=No(nt,tt),it=new Ne.Point(0,0),ot=new Ne.Point(0,0),at=0;for(var st in rt){var ct=rt[st],pt=this._touches[st];pt&&(it._add(ct),ot._add(ct.sub(pt)),at++,rt[st]=ct)}if(this._touches=rt,!(at<this._minTouches)&&ot.mag()){var dt=ot.div(at);if(this._sum._add(dt),!(this._sum.mag()<this._clickTolerance))return{around:it.div(at),panDelta:dt}}},Ko.prototype.enable=function(){this._enabled=!0},Ko.prototype.disable=function(){this._enabled=!1,this.reset()},Ko.prototype.isEnabled=function(){return this._enabled},Ko.prototype.isActive=function(){return this._active};var Yo=function(){this.reset()};function Jo(Ne,et,tt){for(var nt=0;nt<Ne.length;nt++)if(Ne[nt].identifier===tt)return et[nt]}function Qo(Ne,et){return Math.log(Ne/et)/Math.LN2}Yo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yo.prototype._start=function(Ne){},Yo.prototype._move=function(Ne,et,tt){return{}},Yo.prototype.touchstart=function(Ne,et,tt){this._firstTwoTouches||tt.length<2||(this._firstTwoTouches=[tt[0].identifier,tt[1].identifier],this._start([et[0],et[1]]))},Yo.prototype.touchmove=function(Ne,et,tt){if(this._firstTwoTouches){Ne.preventDefault();var nt=this._firstTwoTouches,rt=nt[1],it=Jo(tt,et,nt[0]),ot=Jo(tt,et,rt);if(it&&ot){var at=this._aroundCenter?null:it.add(ot).div(2);return this._move([it,ot],at,Ne)}}},Yo.prototype.touchend=function(Ne,et,nt){if(this._firstTwoTouches){var rt=this._firstTwoTouches,it=rt[1],ot=Jo(nt,et,rt[0]),at=Jo(nt,et,it);ot&&at||(this._active&&tt.suppressClick(),this.reset())}},Yo.prototype.touchcancel=function(){this.reset()},Yo.prototype.enable=function(Ne){this._enabled=!0,this._aroundCenter=!!Ne&&"center"===Ne.around},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var Hc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.reset=function(){Ne.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(Ne){this._startDistance=this._distance=Ne[0].dist(Ne[1])},e.prototype._move=function(Ne,et){var tt=this._distance;if(this._distance=Ne[0].dist(Ne[1]),this._active||!(Math.abs(Qo(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qo(this._distance,tt),pinchAround:et}},e}(Yo);function tr(Ne,et){return 180*Ne.angleWith(et)/Math.PI}var Gc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.reset=function(){Ne.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(Ne){this._startVector=this._vector=Ne[0].sub(Ne[1]),this._minDiameter=Ne[0].dist(Ne[1])},e.prototype._move=function(Ne,et){var tt=this._vector;if(this._vector=Ne[0].sub(Ne[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,tt),pinchAround:et}},e.prototype._isBelowThreshold=function(Ne){this._minDiameter=Math.min(this._minDiameter,Ne.mag());var et=25/(Math.PI*this._minDiameter)*360,tt=tr(Ne,this._startVector);return Math.abs(tt)<et},e}(Yo);function ir(Ne){return Math.abs(Ne.y)>Math.abs(Ne.x)}var Xc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e.prototype.reset=function(){Ne.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(Ne){this._lastPoints=Ne,ir(Ne[0].sub(Ne[1]))&&(this._valid=!1)},e.prototype._move=function(Ne,et,tt){var nt=Ne[0].sub(this._lastPoints[0]),rt=Ne[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(nt,rt,tt.timeStamp),this._valid)return this._lastPoints=Ne,this._active=!0,{pitchDelta:(nt.y+rt.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(Ne,et,tt){if(void 0!==this._valid)return this._valid;var nt=Ne.mag()>=2,rt=et.mag()>=2;if(nt||rt){if(!nt||!rt)return void 0===this._firstMove&&(this._firstMove=tt),tt-this._firstMove<100&&void 0;var it=Ne.y>0==et.y>0;return ir(Ne)&&ir(et)&&it}},e}(Yo),$c={panStep:100,bearingStep:15,pitchStep:10},ar=function(){var Ne=$c;this._panStep=Ne.panStep,this._bearingStep=Ne.bearingStep,this._pitchStep=Ne.pitchStep};function nr(Ne){return Ne*(2-Ne)}ar.prototype.reset=function(){this._active=!1},ar.prototype.keydown=function(Ne){var et=this;if(!(Ne.altKey||Ne.ctrlKey||Ne.metaKey)){var tt=0,nt=0,rt=0,it=0,ot=0;switch(Ne.keyCode){case 61:case 107:case 171:case 187:tt=1;break;case 189:case 109:case 173:tt=-1;break;case 37:Ne.shiftKey?nt=-1:(Ne.preventDefault(),it=-1);break;case 39:Ne.shiftKey?nt=1:(Ne.preventDefault(),it=1);break;case 38:Ne.shiftKey?rt=1:(Ne.preventDefault(),ot=-1);break;case 40:Ne.shiftKey?rt=-1:(Ne.preventDefault(),ot=1);break;default:return}return{cameraAnimation:function(at){var st=at.getZoom();at.easeTo({duration:300,easeId:"keyboardHandler",easing:nr,zoom:tt?Math.round(st)+tt*(Ne.shiftKey?2:1):st,bearing:at.getBearing()+nt*et._bearingStep,pitch:at.getPitch()+rt*et._pitchStep,offset:[-it*et._panStep,-ot*et._panStep],center:at.getCenter()},{originalEvent:Ne})}}}},ar.prototype.enable=function(){this._enabled=!0},ar.prototype.disable=function(){this._enabled=!1,this.reset()},ar.prototype.isEnabled=function(){return this._enabled},ar.prototype.isActive=function(){return this._active};var sr=function(et,tt){this._map=et,this._el=et.getCanvasContainer(),this._handler=tt,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,Ne.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};sr.prototype.setZoomRate=function(Ne){this._defaultZoomRate=Ne},sr.prototype.setWheelZoomRate=function(Ne){this._wheelZoomRate=Ne},sr.prototype.isEnabled=function(){return!!this._enabled},sr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},sr.prototype.isZooming=function(){return!!this._zooming},sr.prototype.enable=function(Ne){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Ne&&"center"===Ne.around)},sr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sr.prototype.wheel=function(et){if(this.isEnabled()){var tt=et.deltaMode===Ne.window.WheelEvent.DOM_DELTA_LINE?40*et.deltaY:et.deltaY,nt=Ne.browser.now(),rt=nt-(this._lastWheelEventTime||0);this._lastWheelEventTime=nt,0!==tt&&tt%4.000244140625==0?this._type="wheel":0!==tt&&Math.abs(tt)<4?this._type="trackpad":rt>400?(this._type=null,this._lastValue=tt,this._timeout=setTimeout(this._onTimeout,40,et)):this._type||(this._type=Math.abs(rt*tt)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,tt+=this._lastValue)),et.shiftKey&&tt&&(tt/=4),this._type&&(this._lastWheelEvent=et,this._delta-=tt,this._active||this._start(et)),et.preventDefault()}},sr.prototype._onTimeout=function(Ne){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Ne)},sr.prototype._start=function(et){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var nt=tt.mousePos(this._el,et);this._around=Ne.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(nt)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sr.prototype.renderFrame=function(){return this._onScrollFrame()},sr.prototype._onScrollFrame=function(){var et=this;if(this._frameId&&(this._frameId=null,this.isActive())){var tt=this._map.transform;if(0!==this._delta){var nt="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,rt=2/(1+Math.exp(-Math.abs(this._delta*nt)));this._delta<0&&0!==rt&&(rt=1/rt);var it="number"==typeof this._targetZoom?tt.zoomScale(this._targetZoom):tt.scale;this._targetZoom=Math.min(tt.maxZoom,Math.max(tt.minZoom,tt.scaleZoom(it*rt))),"wheel"===this._type&&(this._startZoom=tt.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ot,at="number"==typeof this._targetZoom?this._targetZoom:tt.zoom,st=this._startZoom,ct=this._easing,pt=!1;if("wheel"===this._type&&st&&ct){var dt=Math.min((Ne.browser.now()-this._lastWheelEventTime)/200,1),ft=ct(dt);ot=Ne.number(st,at,ft),dt<1?this._frameId||(this._frameId=!0):pt=!0}else ot=at,pt=!0;return this._active=!0,pt&&(this._active=!1,this._finishTimeout=setTimeout((function(){et._zooming=!1,et._handler._triggerRenderFrame(),delete et._targetZoom,delete et._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!pt,zoomDelta:ot-tt.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sr.prototype._smoothOutEasing=function(et){var tt=Ne.ease;if(this._prevEase){var nt=this._prevEase,rt=(Ne.browser.now()-nt.start)/nt.duration,it=nt.easing(rt+.01)-nt.easing(rt),ot=.27/Math.sqrt(it*it+1e-4)*.01,at=Math.sqrt(.0729-ot*ot);tt=Ne.bezier(ot,at,.25,1)}return this._prevEase={start:Ne.browser.now(),duration:et,easing:tt},tt},sr.prototype.reset=function(){this._active=!1};var lr=function(Ne,et){this._clickZoom=Ne,this._tapZoom=et};lr.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},lr.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},lr.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},lr.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var cr=function(){this.reset()};cr.prototype.reset=function(){this._active=!1},cr.prototype.dblclick=function(Ne,et){return Ne.preventDefault(),{cameraAnimation:function(tt){tt.easeTo({duration:300,zoom:tt.getZoom()+(Ne.shiftKey?-1:1),around:tt.unproject(et)},{originalEvent:Ne})}}},cr.prototype.enable=function(){this._enabled=!0},cr.prototype.disable=function(){this._enabled=!1,this.reset()},cr.prototype.isEnabled=function(){return this._enabled},cr.prototype.isActive=function(){return this._active};var ur=function(){this._tap=new jo({numTouches:1,numTaps:1}),this.reset()};ur.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ur.prototype.touchstart=function(Ne,et,tt){this._swipePoint||(this._tapTime&&Ne.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?tt.length>0&&(this._swipePoint=et[0],this._swipeTouch=tt[0].identifier):this._tap.touchstart(Ne,et,tt))},ur.prototype.touchmove=function(Ne,et,tt){if(this._tapTime){if(this._swipePoint){if(tt[0].identifier!==this._swipeTouch)return;var nt=et[0],rt=nt.y-this._swipePoint.y;return this._swipePoint=nt,Ne.preventDefault(),this._active=!0,{zoomDelta:rt/128}}}else this._tap.touchmove(Ne,et,tt)},ur.prototype.touchend=function(Ne,et,tt){this._tapTime?this._swipePoint&&0===tt.length&&this.reset():this._tap.touchend(Ne,et,tt)&&(this._tapTime=Ne.timeStamp)},ur.prototype.touchcancel=function(){this.reset()},ur.prototype.enable=function(){this._enabled=!0},ur.prototype.disable=function(){this._enabled=!1,this.reset()},ur.prototype.isEnabled=function(){return this._enabled},ur.prototype.isActive=function(){return this._active};var hr=function(Ne,et,tt){this._el=Ne,this._mousePan=et,this._touchPan=tt};hr.prototype.enable=function(Ne){this._inertiaOptions=Ne||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pr=function(Ne,et,tt){this._pitchWithRotate=Ne.pitchWithRotate,this._mouseRotate=et,this._mousePitch=tt};pr.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pr.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pr.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pr.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var dr=function(Ne,et,tt,nt){this._el=Ne,this._touchZoom=et,this._touchRotate=tt,this._tapDragZoom=nt,this._rotationDisabled=!1,this._enabled=!0};dr.prototype.enable=function(Ne){this._touchZoom.enable(Ne),this._rotationDisabled||this._touchRotate.enable(Ne),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},dr.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},dr.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},dr.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},dr.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},dr.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var _r=function(Ne){return Ne.zoom||Ne.drag||Ne.pitch||Ne.rotate},Yc=function(Ne){function e(){Ne.apply(this,arguments)}return Ne&&(e.__proto__=Ne),(e.prototype=Object.create(Ne&&Ne.prototype)).constructor=e,e}(Ne.Event);function mr(Ne){return Ne.panDelta&&Ne.panDelta.mag()||Ne.zoomDelta||Ne.bearingDelta||Ne.pitchDelta}var gr=function(et,nt){this._map=et,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mo(et),this._bearingSnap=nt.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(nt),Ne.bindAll(["handleEvent","handleWindowEvent"],this);var rt=this._el;this._listeners=[[rt,"touchstart",{passive:!0}],[rt,"touchmove",{passive:!1}],[rt,"touchend",void 0],[rt,"touchcancel",void 0],[rt,"mousedown",void 0],[rt,"mousemove",void 0],[rt,"mouseup",void 0],[Ne.window.document,"mousemove",{capture:!0}],[Ne.window.document,"mouseup",void 0],[rt,"mouseover",void 0],[rt,"mouseout",void 0],[rt,"dblclick",void 0],[rt,"click",void 0],[rt,"keydown",{capture:!1}],[rt,"keyup",void 0],[rt,"wheel",{passive:!1}],[rt,"contextmenu",void 0],[Ne.window,"blur",void 0]];for(var it=0,ot=this._listeners;it<ot.length;it+=1){var at=ot[it],st=at[0];tt.addEventListener(st,at[1],st===Ne.window.document?this.handleWindowEvent:this.handleEvent,at[2])}};gr.prototype.destroy=function(){for(var et=0,nt=this._listeners;et<nt.length;et+=1){var rt=nt[et],it=rt[0];tt.removeEventListener(it,rt[1],it===Ne.window.document?this.handleWindowEvent:this.handleEvent,rt[2])}},gr.prototype._addDefaultHandlers=function(Ne){var et=this._map,tt=et.getCanvasContainer();this._add("mapEvent",new Oo(et,Ne));var nt=et.boxZoom=new Uo(et,Ne);this._add("boxZoom",nt);var rt=new qo,it=new cr;et.doubleClickZoom=new lr(it,rt),this._add("tapZoom",rt),this._add("clickZoom",it);var ot=new ur;this._add("tapDragZoom",ot);var at=et.touchPitch=new Xc;this._add("touchPitch",at);var st=new Zc(Ne),ct=new Wc(Ne);et.dragRotate=new pr(Ne,st,ct),this._add("mouseRotate",st,["mousePitch"]),this._add("mousePitch",ct,["mouseRotate"]);var pt=new Bc(Ne),dt=new Ko(Ne);et.dragPan=new hr(tt,pt,dt),this._add("mousePan",pt),this._add("touchPan",dt,["touchZoom","touchRotate"]);var ft=new Gc,mt=new Hc;et.touchZoomRotate=new dr(tt,mt,ft,ot),this._add("touchRotate",ft,["touchPan","touchZoom"]),this._add("touchZoom",mt,["touchPan","touchRotate"]);var yt=et.scrollZoom=new sr(et,this);this._add("scrollZoom",yt,["mousePan"]);var vt=et.keyboard=new ar;this._add("keyboard",vt),this._add("blockableMapEvent",new Fo(et));for(var Ot=0,Dt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Ot<Dt.length;Ot+=1){var Rt=Dt[Ot];Ne.interactive&&Ne[Rt]&&et[Rt].enable(Ne[Rt])}},gr.prototype._add=function(Ne,et,tt){this._handlers.push({handlerName:Ne,handler:et,allowed:tt}),this._handlersById[Ne]=et},gr.prototype.stop=function(){if(!this._updatingCamera){for(var Ne=0,et=this._handlers;Ne<et.length;Ne+=1)et[Ne].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},gr.prototype.isActive=function(){for(var Ne=0,et=this._handlers;Ne<et.length;Ne+=1)if(et[Ne].handler.isActive())return!0;return!1},gr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gr.prototype.isMoving=function(){return Boolean(_r(this._eventsInProgress))||this.isZooming()},gr.prototype._blockedByActive=function(Ne,et,tt){for(var nt in Ne)if(nt!==tt&&(!et||et.indexOf(nt)<0))return!0;return!1},gr.prototype.handleWindowEvent=function(Ne){this.handleEvent(Ne,Ne.type+"Window")},gr.prototype._getMapTouches=function(Ne){for(var et=[],tt=0,nt=Ne;tt<nt.length;tt+=1){var rt=nt[tt];this._el.contains(rt.target)&&et.push(rt)}return et},gr.prototype.handleEvent=function(Ne,et){if("blur"!==Ne.type){this._updatingCamera=!0;for(var nt="renderFrame"===Ne.type?void 0:Ne,rt={needsRenderFrame:!1},it={},ot={},at=Ne.touches?this._getMapTouches(Ne.touches):void 0,st=at?tt.touchPos(this._el,at):tt.mousePos(this._el,Ne),ct=0,pt=this._handlers;ct<pt.length;ct+=1){var dt=pt[ct],ft=dt.handlerName,mt=dt.handler,yt=dt.allowed;if(mt.isEnabled()){var vt=void 0;this._blockedByActive(ot,yt,ft)?mt.reset():mt[et||Ne.type]&&(vt=mt[et||Ne.type](Ne,st,at),this.mergeHandlerResult(rt,it,vt,ft,nt),vt&&vt.needsRenderFrame&&this._triggerRenderFrame()),(vt||mt.isActive())&&(ot[ft]=mt)}}var Ot={};for(var Dt in this._previousActiveHandlers)ot[Dt]||(Ot[Dt]=nt);this._previousActiveHandlers=ot,(Object.keys(Ot).length||mr(rt))&&(this._changes.push([rt,it,Ot]),this._triggerRenderFrame()),(Object.keys(ot).length||mr(rt))&&this._map._stop(!0),this._updatingCamera=!1;var Rt=rt.cameraAnimation;Rt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],Rt(this._map))}else this.stop()},gr.prototype.mergeHandlerResult=function(et,tt,nt,rt,it){if(nt){Ne.extend(et,nt);var ot={handlerName:rt,originalEvent:nt.originalEvent||it};void 0!==nt.zoomDelta&&(tt.zoom=ot),void 0!==nt.panDelta&&(tt.drag=ot),void 0!==nt.pitchDelta&&(tt.pitch=ot),void 0!==nt.bearingDelta&&(tt.rotate=ot)}},gr.prototype._applyChanges=function(){for(var et={},tt={},nt={},rt=0,it=this._changes;rt<it.length;rt+=1){var ot=it[rt],at=ot[0],st=ot[1],ct=ot[2];at.panDelta&&(et.panDelta=(et.panDelta||new Ne.Point(0,0))._add(at.panDelta)),at.zoomDelta&&(et.zoomDelta=(et.zoomDelta||0)+at.zoomDelta),at.bearingDelta&&(et.bearingDelta=(et.bearingDelta||0)+at.bearingDelta),at.pitchDelta&&(et.pitchDelta=(et.pitchDelta||0)+at.pitchDelta),void 0!==at.around&&(et.around=at.around),void 0!==at.pinchAround&&(et.pinchAround=at.pinchAround),at.noInertia&&(et.noInertia=at.noInertia),Ne.extend(tt,st),Ne.extend(nt,ct)}this._updateMapTransform(et,tt,nt),this._changes=[]},gr.prototype._updateMapTransform=function(Ne,et,tt){var nt=this._map,rt=nt.transform;if(!mr(Ne))return this._fireEvents(et,tt);var it=Ne.panDelta,ot=Ne.zoomDelta,at=Ne.bearingDelta,st=Ne.pitchDelta,ct=Ne.around,pt=Ne.pinchAround;void 0!==pt&&(ct=pt),nt._stop(!0),ct=ct||nt.transform.centerPoint;var dt=rt.pointLocation(it?ct.sub(it):ct);at&&(rt.bearing+=at),st&&(rt.pitch+=st),ot&&(rt.zoom+=ot),rt.setLocationAtPoint(dt,ct),this._map._update(),Ne.noInertia||this._inertia.record(Ne),this._fireEvents(et,tt)},gr.prototype._fireEvents=function(et,tt){var nt=this,rt=_r(this._eventsInProgress),it=_r(et),ot={};for(var at in et)this._eventsInProgress[at]||(ot[at+"start"]=et[at].originalEvent),this._eventsInProgress[at]=et[at];for(var st in!rt&&it&&this._fireEvent("movestart",it.originalEvent),ot)this._fireEvent(st,ot[st]);for(var ct in et.rotate&&(this._bearingChanged=!0),it&&this._fireEvent("move",it.originalEvent),et)this._fireEvent(ct,et[ct].originalEvent);var pt,dt={};for(var ft in this._eventsInProgress){var mt=this._eventsInProgress[ft],yt=mt.handlerName,vt=mt.originalEvent;this._handlersById[yt].isActive()||(delete this._eventsInProgress[ft],dt[ft+"end"]=pt=tt[yt]||vt)}for(var Ot in dt)this._fireEvent(Ot,dt[Ot]);var Dt=_r(this._eventsInProgress);if((rt||it)&&!Dt){this._updatingCamera=!0;var Rt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),y=function(Ne){return 0!==Ne&&-nt._bearingSnap<Ne&&Ne<nt._bearingSnap};Rt?(y(Rt.bearing||this._map.getBearing())&&(Rt.bearing=0),this._map.easeTo(Rt,{originalEvent:pt})):(this._map.fire(new Ne.Event("moveend",{originalEvent:pt})),y(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},gr.prototype._fireEvent=function(et,tt){this._map.fire(new Ne.Event(et,tt?{originalEvent:tt}:{}))},gr.prototype._triggerRenderFrame=function(){var Ne=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame((function(et){delete Ne._frameId,Ne.handleEvent(new Yc("renderFrame",{timeStamp:et})),Ne._applyChanges()})))};var rp=function(et){function i(tt,nt){et.call(this),this._moving=!1,this._zooming=!1,this.transform=tt,this._bearingSnap=nt.bearingSnap,Ne.bindAll(["_renderFrameCallback"],this)}return et&&(i.__proto__=et),(i.prototype=Object.create(et&&et.prototype)).constructor=i,i.prototype.getCenter=function(){return new Ne.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(Ne,et){return this.jumpTo({center:Ne},et)},i.prototype.panBy=function(et,tt,nt){return et=Ne.Point.convert(et).mult(-1),this.panTo(this.transform.center,Ne.extend({offset:et},tt),nt)},i.prototype.panTo=function(et,tt,nt){return this.easeTo(Ne.extend({center:et},tt),nt)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(Ne,et){return this.jumpTo({zoom:Ne},et),this},i.prototype.zoomTo=function(et,tt,nt){return this.easeTo(Ne.extend({zoom:et},tt),nt)},i.prototype.zoomIn=function(Ne,et){return this.zoomTo(this.getZoom()+1,Ne,et),this},i.prototype.zoomOut=function(Ne,et){return this.zoomTo(this.getZoom()-1,Ne,et),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(Ne,et){return this.jumpTo({bearing:Ne},et),this},i.prototype.getPadding=function(){return this.transform.padding},i.prototype.setPadding=function(Ne,et){return this.jumpTo({padding:Ne},et),this},i.prototype.rotateTo=function(et,tt,nt){return this.easeTo(Ne.extend({bearing:et},tt),nt)},i.prototype.resetNorth=function(et,tt){return this.rotateTo(0,Ne.extend({duration:1e3},et),tt),this},i.prototype.resetNorthPitch=function(et,tt){return this.easeTo(Ne.extend({bearing:0,pitch:0,duration:1e3},et),tt),this},i.prototype.snapToNorth=function(Ne,et){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(Ne,et):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(Ne,et){return this.jumpTo({pitch:Ne},et),this},i.prototype.cameraForBounds=function(et,tt){return et=Ne.LngLatBounds.convert(et),this._cameraForBoxAndBearing(et.getNorthWest(),et.getSouthEast(),0,tt)},i.prototype._cameraForBoxAndBearing=function(et,tt,nt,rt){var it={top:0,bottom:0,right:0,left:0};if("number"==typeof(rt=Ne.extend({padding:it,offset:[0,0],maxZoom:this.transform.maxZoom},rt)).padding){var ot=rt.padding;rt.padding={top:ot,bottom:ot,right:ot,left:ot}}rt.padding=Ne.extend(it,rt.padding);var at=this.transform,st=at.padding,ct=at.project(Ne.LngLat.convert(et)),pt=at.project(Ne.LngLat.convert(tt)),dt=ct.rotate(-nt*Math.PI/180),ft=pt.rotate(-nt*Math.PI/180),mt=new Ne.Point(Math.max(dt.x,ft.x),Math.max(dt.y,ft.y)),yt=new Ne.Point(Math.min(dt.x,ft.x),Math.min(dt.y,ft.y)),vt=mt.sub(yt),Ot=(at.width-(st.left+st.right+rt.padding.left+rt.padding.right))/vt.x,Dt=(at.height-(st.top+st.bottom+rt.padding.top+rt.padding.bottom))/vt.y;if(!(Dt<0||Ot<0)){var Rt=Math.min(at.scaleZoom(at.scale*Math.min(Ot,Dt)),rt.maxZoom),Bt=Ne.Point.convert(rt.offset),rn=new Ne.Point(Bt.x+(rt.padding.left-rt.padding.right)/2,Bt.y+(rt.padding.top-rt.padding.bottom)/2).mult(at.scale/at.zoomScale(Rt));return{center:at.unproject(ct.add(pt).div(2).sub(rn)),zoom:Rt,bearing:nt}}Ne.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},i.prototype.fitBounds=function(Ne,et,tt){return this._fitInternal(this.cameraForBounds(Ne,et),et,tt)},i.prototype.fitScreenCoordinates=function(et,tt,nt,rt,it){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(Ne.Point.convert(et)),this.transform.pointLocation(Ne.Point.convert(tt)),nt,rt),rt,it)},i.prototype._fitInternal=function(et,tt,nt){return et?(delete(tt=Ne.extend(et,tt)).padding,tt.linear?this.easeTo(tt,nt):this.flyTo(tt,nt)):this},i.prototype.jumpTo=function(et,tt){this.stop();var nt=this.transform,rt=!1,it=!1,ot=!1;return"zoom"in et&&nt.zoom!==+et.zoom&&(rt=!0,nt.zoom=+et.zoom),void 0!==et.center&&(nt.center=Ne.LngLat.convert(et.center)),"bearing"in et&&nt.bearing!==+et.bearing&&(it=!0,nt.bearing=+et.bearing),"pitch"in et&&nt.pitch!==+et.pitch&&(ot=!0,nt.pitch=+et.pitch),null==et.padding||nt.isPaddingEqual(et.padding)||(nt.padding=et.padding),this.fire(new Ne.Event("movestart",tt)).fire(new Ne.Event("move",tt)),rt&&this.fire(new Ne.Event("zoomstart",tt)).fire(new Ne.Event("zoom",tt)).fire(new Ne.Event("zoomend",tt)),it&&this.fire(new Ne.Event("rotatestart",tt)).fire(new Ne.Event("rotate",tt)).fire(new Ne.Event("rotateend",tt)),ot&&this.fire(new Ne.Event("pitchstart",tt)).fire(new Ne.Event("pitch",tt)).fire(new Ne.Event("pitchend",tt)),this.fire(new Ne.Event("moveend",tt))},i.prototype.easeTo=function(et,tt){var nt=this;this._stop(!1,et.easeId),(!1===(et=Ne.extend({offset:[0,0],duration:500,easing:Ne.ease},et)).animate||!et.essential&&Ne.browser.prefersReducedMotion)&&(et.duration=0);var rt=this.transform,it=this.getZoom(),ot=this.getBearing(),at=this.getPitch(),st=this.getPadding(),ct="zoom"in et?+et.zoom:it,pt="bearing"in et?this._normalizeBearing(et.bearing,ot):ot,dt="pitch"in et?+et.pitch:at,ft="padding"in et?et.padding:rt.padding,mt=Ne.Point.convert(et.offset),yt=rt.centerPoint.add(mt),vt=rt.pointLocation(yt),Ot=Ne.LngLat.convert(et.center||vt);this._normalizeCenter(Ot);var Dt,Rt,Bt=rt.project(vt),rn=rt.project(Ot).sub(Bt),vn=rt.zoomScale(ct-it);et.around&&(Dt=Ne.LngLat.convert(et.around),Rt=rt.locationPoint(Dt));var bn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ct!==it,this._rotating=this._rotating||ot!==pt,this._pitching=this._pitching||dt!==at,this._padding=!rt.isPaddingEqual(ft),this._easeId=et.easeId,this._prepareEase(tt,et.noMoveStart,bn),clearTimeout(this._easeEndTimeoutID),this._ease((function(et){if(nt._zooming&&(rt.zoom=Ne.number(it,ct,et)),nt._rotating&&(rt.bearing=Ne.number(ot,pt,et)),nt._pitching&&(rt.pitch=Ne.number(at,dt,et)),nt._padding&&(rt.interpolatePadding(st,ft,et),yt=rt.centerPoint.add(mt)),Dt)rt.setLocationAtPoint(Dt,Rt);else{var vt=rt.zoomScale(rt.zoom-it),Ot=ct>it?Math.min(2,vn):Math.max(.5,vn),bn=Math.pow(Ot,1-et),Tn=rt.unproject(Bt.add(rn.mult(et*bn)).mult(vt));rt.setLocationAtPoint(rt.renderWorldCopies?Tn.wrap():Tn,yt)}nt._fireMoveEvents(tt)}),(function(Ne){nt._afterEase(tt,Ne)}),et),this},i.prototype._prepareEase=function(et,tt,nt){void 0===nt&&(nt={}),this._moving=!0,tt||nt.moving||this.fire(new Ne.Event("movestart",et)),this._zooming&&!nt.zooming&&this.fire(new Ne.Event("zoomstart",et)),this._rotating&&!nt.rotating&&this.fire(new Ne.Event("rotatestart",et)),this._pitching&&!nt.pitching&&this.fire(new Ne.Event("pitchstart",et))},i.prototype._fireMoveEvents=function(et){this.fire(new Ne.Event("move",et)),this._zooming&&this.fire(new Ne.Event("zoom",et)),this._rotating&&this.fire(new Ne.Event("rotate",et)),this._pitching&&this.fire(new Ne.Event("pitch",et))},i.prototype._afterEase=function(et,tt){if(!this._easeId||!tt||this._easeId!==tt){delete this._easeId;var nt=this._zooming,rt=this._rotating,it=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,nt&&this.fire(new Ne.Event("zoomend",et)),rt&&this.fire(new Ne.Event("rotateend",et)),it&&this.fire(new Ne.Event("pitchend",et)),this.fire(new Ne.Event("moveend",et))}},i.prototype.flyTo=function(et,tt){var nt=this;if(!et.essential&&Ne.browser.prefersReducedMotion){var rt=Ne.pick(et,["center","zoom","bearing","pitch","around"]);return this.jumpTo(rt,tt)}this.stop(),et=Ne.extend({offset:[0,0],speed:1.2,curve:1.42,easing:Ne.ease},et);var it=this.transform,ot=this.getZoom(),at=this.getBearing(),st=this.getPitch(),ct=this.getPadding(),pt="zoom"in et?Ne.clamp(+et.zoom,it.minZoom,it.maxZoom):ot,dt="bearing"in et?this._normalizeBearing(et.bearing,at):at,ft="pitch"in et?+et.pitch:st,mt="padding"in et?et.padding:it.padding,yt=it.zoomScale(pt-ot),vt=Ne.Point.convert(et.offset),Ot=it.centerPoint.add(vt),Dt=it.pointLocation(Ot),Rt=Ne.LngLat.convert(et.center||Dt);this._normalizeCenter(Rt);var Bt=it.project(Dt),rn=it.project(Rt).sub(Bt),vn=et.curve,bn=Math.max(it.width,it.height),Tn=bn/yt,Cn=rn.mag();if("minZoom"in et){var In=Ne.clamp(Math.min(et.minZoom,ot,pt),it.minZoom,it.maxZoom),Ln=bn/it.zoomScale(In-ot);vn=Math.sqrt(Ln/Cn*2)}var Mn=vn*vn;function C(Ne){var et=(Tn*Tn-bn*bn+(Ne?-1:1)*Mn*Mn*Cn*Cn)/(2*(Ne?Tn:bn)*Mn*Cn);return Math.log(Math.sqrt(et*et+1)-et)}function z(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function D(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}var zn=C(0),L=function(Ne){return D(zn)/D(zn+vn*Ne)},A=function(Ne){return bn*((D(zn)*(z(et=zn+vn*Ne)/D(et))-z(zn))/Mn)/Cn;var et},Fn=(C(1)-zn)/vn;if(Math.abs(Cn)<1e-6||!isFinite(Fn)){if(Math.abs(bn-Tn)<1e-6)return this.easeTo(et,tt);var Bn=Tn<bn?-1:1;Fn=Math.abs(Math.log(Tn/bn))/vn,A=function(){return 0},L=function(Ne){return Math.exp(Bn*vn*Ne)}}return et.duration="duration"in et?+et.duration:1e3*Fn/("screenSpeed"in et?+et.screenSpeed/vn:+et.speed),et.maxDuration&&et.duration>et.maxDuration&&(et.duration=0),this._zooming=!0,this._rotating=at!==dt,this._pitching=ft!==st,this._padding=!it.isPaddingEqual(mt),this._prepareEase(tt,!1),this._ease((function(et){var rt=et*Fn,yt=1/L(rt);it.zoom=1===et?pt:ot+it.scaleZoom(yt),nt._rotating&&(it.bearing=Ne.number(at,dt,et)),nt._pitching&&(it.pitch=Ne.number(st,ft,et)),nt._padding&&(it.interpolatePadding(ct,mt,et),Ot=it.centerPoint.add(vt));var Dt=1===et?Rt:it.unproject(Bt.add(rn.mult(A(rt))).mult(yt));it.setLocationAtPoint(it.renderWorldCopies?Dt.wrap():Dt,Ot),nt._fireMoveEvents(tt)}),(function(){return nt._afterEase(tt)}),et),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){return this._stop()},i.prototype._stop=function(Ne,et){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var tt=this._onEaseEnd;delete this._onEaseEnd,tt.call(this,et)}if(!Ne){var nt=this.handlers;nt&&nt.stop()}return this},i.prototype._ease=function(et,tt,nt){!1===nt.animate||0===nt.duration?(et(1),tt()):(this._easeStart=Ne.browser.now(),this._easeOptions=nt,this._onEaseFrame=et,this._onEaseEnd=tt,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var et=Math.min((Ne.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(et)),et<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(et,tt){et=Ne.wrap(et,-180,180);var nt=Math.abs(et-tt);return Math.abs(et-360-tt)<nt&&(et-=360),Math.abs(et+360-tt)<nt&&(et+=360),et},i.prototype._normalizeCenter=function(Ne){var et=this.transform;if(et.renderWorldCopies&&!et.lngRange){var tt=Ne.lng-et.center.lng;Ne.lng+=tt>180?-360:tt<-180?360:0}},i}(Ne.Evented),yr=function(et){void 0===et&&(et={}),this.options=et,Ne.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};yr.prototype.getDefaultPosition=function(){return"bottom-right"},yr.prototype.onAdd=function(Ne){var et=this.options&&this.options.compact;return this._map=Ne,this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=tt.create("div","mapboxgl-ctrl-attrib-inner",this._container),et&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===et&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},yr.prototype.onRemove=function(){tt.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},yr.prototype._updateEditLink=function(){var et=this._editLink;et||(et=this._editLink=this._container.querySelector(".mapbox-improve-map"));var tt=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||Ne.config.ACCESS_TOKEN}];if(et){var nt=tt.reduce((function(Ne,et,nt){return et.value&&(Ne+=et.key+"="+et.value+(nt<tt.length-1?"&":"")),Ne}),"?");et.href=Ne.config.FEEDBACK_URL+"/"+nt+(this._map._hash?this._map._hash.getHashString(!0):""),et.rel="noopener nofollow"}},yr.prototype._updateData=function(Ne){!Ne||"metadata"!==Ne.sourceDataType&&"style"!==Ne.dataType||(this._updateAttributions(),this._updateEditLink())},yr.prototype._updateAttributions=function(){if(this._map.style){var Ne=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Ne=Ne.concat(this.options.customAttribution.map((function(Ne){return"string"!=typeof Ne?"":Ne}))):"string"==typeof this.options.customAttribution&&Ne.push(this.options.customAttribution)),this._map.style.stylesheet){var et=this._map.style.stylesheet;this.styleOwner=et.owner,this.styleId=et.id}var tt=this._map.style.sourceCaches;for(var nt in tt){var rt=tt[nt];if(rt.used){var it=rt.getSource();it.attribution&&Ne.indexOf(it.attribution)<0&&Ne.push(it.attribution)}}Ne.sort((function(Ne,et){return Ne.length-et.length}));var ot=(Ne=Ne.filter((function(et,tt){for(var nt=tt+1;nt<Ne.length;nt++)if(Ne[nt].indexOf(et)>=0)return!1;return!0}))).join(" | ");ot!==this._attribHTML&&(this._attribHTML=ot,Ne.length?(this._innerContainer.innerHTML=ot,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},yr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var xr=function(){Ne.bindAll(["_updateLogo"],this),Ne.bindAll(["_updateCompact"],this)};xr.prototype.onAdd=function(Ne){this._map=Ne,this._container=tt.create("div","mapboxgl-ctrl");var et=tt.create("a","mapboxgl-ctrl-logo");return et.target="_blank",et.rel="noopener nofollow",et.href="https://www.mapbox.com/",et.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),et.setAttribute("rel","noopener nofollow"),this._container.appendChild(et),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},xr.prototype.onRemove=function(){tt.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},xr.prototype.getDefaultPosition=function(){return"bottom-left"},xr.prototype._updateLogo=function(Ne){Ne&&"metadata"!==Ne.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},xr.prototype._logoRequired=function(){if(this._map.style){var Ne=this._map.style.sourceCaches;for(var et in Ne)if(Ne[et].getSource().mapbox_logo)return!0;return!1}},xr.prototype._updateCompact=function(){var Ne=this._container.children;if(Ne.length){var et=Ne[0];this._map.getCanvasContainer().offsetWidth<250?et.classList.add("mapboxgl-compact"):et.classList.remove("mapboxgl-compact")}};var br=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};br.prototype.add=function(Ne){var et=++this._id;return this._queue.push({callback:Ne,id:et,cancelled:!1}),et},br.prototype.remove=function(Ne){for(var et=this._currentlyRunning,tt=0,nt=et?this._queue.concat(et):this._queue;tt<nt.length;tt+=1){var rt=nt[tt];if(rt.id===Ne)return void(rt.cancelled=!0)}},br.prototype.run=function(Ne){void 0===Ne&&(Ne=0);var et=this._currentlyRunning=this._queue;this._queue=[];for(var tt=0,nt=et;tt<nt.length;tt+=1){var rt=nt[tt];if(!rt.cancelled&&(rt.callback(Ne),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},br.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ip={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},op=Ne.window.HTMLImageElement,ap=Ne.window.HTMLElement,sp=Ne.window.ImageBitmap,lp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},cp=function(nt){function r(et){var tt=this;if(null!=(et=Ne.extend({},lp,et)).minZoom&&null!=et.maxZoom&&et.minZoom>et.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=et.minPitch&&null!=et.maxPitch&&et.minPitch>et.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=et.minPitch&&et.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=et.maxPitch&&et.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var rt=new To(et.minZoom,et.maxZoom,et.minPitch,et.maxPitch,et.renderWorldCopies);if(nt.call(this,rt,et),this._interactive=et.interactive,this._maxTileCacheSize=et.maxTileCacheSize,this._failIfMajorPerformanceCaveat=et.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=et.preserveDrawingBuffer,this._antialias=et.antialias,this._trackResize=et.trackResize,this._bearingSnap=et.bearingSnap,this._refreshExpiredTiles=et.refreshExpiredTiles,this._fadeDuration=et.fadeDuration,this._crossSourceCollisions=et.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=et.collectResourceTiming,this._renderTaskQueue=new br,this._controls=[],this._mapId=Ne.uniqueId(),this._locale=Ne.extend({},ip,et.locale),this._requestManager=new Ne.RequestManager(et.transformRequest,et.accessToken),"string"==typeof et.container){if(this._container=Ne.window.document.getElementById(et.container),!this._container)throw new Error("Container '"+et.container+"' not found.")}else{if(!(et.container instanceof ap))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=et.container}if(et.maxBounds&&this.setMaxBounds(et.maxBounds),Ne.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return tt._update(!1)})),this.on("moveend",(function(){return tt._update(!1)})),this.on("zoom",(function(){return tt._update(!0)})),void 0!==Ne.window&&(Ne.window.addEventListener("online",this._onWindowOnline,!1),Ne.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new gr(this,et),this._hash=et.hash&&new Io("string"==typeof et.hash&&et.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:et.center,zoom:et.zoom,bearing:et.bearing,pitch:et.pitch}),et.bounds&&(this.resize(),this.fitBounds(et.bounds,Ne.extend({},et.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=et.localIdeographFontFamily,et.style&&this.setStyle(et.style,{localIdeographFontFamily:et.localIdeographFontFamily}),et.attributionControl&&this.addControl(new yr({customAttribution:et.customAttribution})),this.addControl(new xr,et.logoPosition),this.on("style.load",(function(){tt.transform.unmodified&&tt.jumpTo(tt.style.stylesheet)})),this.on("data",(function(et){tt._update("style"===et.dataType),tt.fire(new Ne.Event(et.dataType+"data",et))})),this.on("dataloading",(function(et){tt.fire(new Ne.Event(et.dataType+"dataloading",et))}))}nt&&(r.__proto__=nt),(r.prototype=Object.create(nt&&nt.prototype)).constructor=r;var rt={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(et,tt){if(void 0===tt&&et.getDefaultPosition&&(tt=et.getDefaultPosition()),void 0===tt&&(tt="top-right"),!et||!et.onAdd)return this.fire(new Ne.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var nt=et.onAdd(this);this._controls.push(et);var rt=this._controlPositions[tt];return-1!==tt.indexOf("bottom")?rt.insertBefore(nt,rt.firstChild):rt.appendChild(nt),this},r.prototype.removeControl=function(et){if(!et||!et.onRemove)return this.fire(new Ne.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var tt=this._controls.indexOf(et);return tt>-1&&this._controls.splice(tt,1),et.onRemove(this),this},r.prototype.resize=function(et){var tt=this._containerDimensions(),nt=tt[0],rt=tt[1];this._resizeCanvas(nt,rt),this.transform.resize(nt,rt),this.painter.resize(nt,rt);var it=!this._moving;return it&&(this.stop(),this.fire(new Ne.Event("movestart",et)).fire(new Ne.Event("move",et))),this.fire(new Ne.Event("resize",et)),it&&this.fire(new Ne.Event("moveend",et)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(et){return this.transform.setMaxBounds(Ne.LngLatBounds.convert(et)),this._update()},r.prototype.setMinZoom=function(Ne){if((Ne=null==Ne?-2:Ne)>=-2&&Ne<=this.transform.maxZoom)return this.transform.minZoom=Ne,this._update(),this.getZoom()<Ne&&this.setZoom(Ne),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(Ne){if((Ne=null==Ne?22:Ne)>=this.transform.minZoom)return this.transform.maxZoom=Ne,this._update(),this.getZoom()>Ne&&this.setZoom(Ne),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(Ne){if((Ne=null==Ne?0:Ne)<0)throw new Error("minPitch must be greater than or equal to 0");if(Ne>=0&&Ne<=this.transform.maxPitch)return this.transform.minPitch=Ne,this._update(),this.getPitch()<Ne&&this.setPitch(Ne),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(Ne){if((Ne=null==Ne?60:Ne)>60)throw new Error("maxPitch must be less than or equal to 60");if(Ne>=this.transform.minPitch)return this.transform.maxPitch=Ne,this._update(),this.getPitch()>Ne&&this.setPitch(Ne),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(Ne){return this.transform.renderWorldCopies=Ne,this._update()},r.prototype.project=function(et){return this.transform.locationPoint(Ne.LngLat.convert(et))},r.prototype.unproject=function(et){return this.transform.pointLocation(Ne.Point.convert(et))},r.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},r.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},r.prototype._createDelegatedListener=function(Ne,et,tt){var nt,rt=this;if("mouseenter"===Ne||"mouseover"===Ne){var it=!1;return{layer:et,listener:tt,delegates:{mousemove:function(nt){var ot=rt.getLayer(et)?rt.queryRenderedFeatures(nt.point,{layers:[et]}):[];ot.length?it||(it=!0,tt.call(rt,new Ac(Ne,rt,nt.originalEvent,{features:ot}))):it=!1},mouseout:function(){it=!1}}}}if("mouseleave"===Ne||"mouseout"===Ne){var ot=!1;return{layer:et,listener:tt,delegates:{mousemove:function(nt){(rt.getLayer(et)?rt.queryRenderedFeatures(nt.point,{layers:[et]}):[]).length?ot=!0:ot&&(ot=!1,tt.call(rt,new Ac(Ne,rt,nt.originalEvent)))},mouseout:function(et){ot&&(ot=!1,tt.call(rt,new Ac(Ne,rt,et.originalEvent)))}}}}return{layer:et,listener:tt,delegates:(nt={},nt[Ne]=function(Ne){var nt=rt.getLayer(et)?rt.queryRenderedFeatures(Ne.point,{layers:[et]}):[];nt.length&&(Ne.features=nt,tt.call(rt,Ne),delete Ne.features)},nt)}},r.prototype.on=function(Ne,et,tt){if(void 0===tt)return nt.prototype.on.call(this,Ne,et);var rt=this._createDelegatedListener(Ne,et,tt);for(var it in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[Ne]=this._delegatedListeners[Ne]||[],this._delegatedListeners[Ne].push(rt),rt.delegates)this.on(it,rt.delegates[it]);return this},r.prototype.once=function(Ne,et,tt){if(void 0===tt)return nt.prototype.once.call(this,Ne,et);var rt=this._createDelegatedListener(Ne,et,tt);for(var it in rt.delegates)this.once(it,rt.delegates[it]);return this},r.prototype.off=function(Ne,et,tt){var rt=this;return void 0===tt?nt.prototype.off.call(this,Ne,et):(this._delegatedListeners&&this._delegatedListeners[Ne]&&function(nt){for(var it=nt[Ne],ot=0;ot<it.length;ot++){var at=it[ot];if(at.layer===et&&at.listener===tt){for(var st in at.delegates)rt.off(st,at.delegates[st]);return it.splice(ot,1),rt}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(et,tt){if(!this.style)return[];var nt;if(void 0!==tt||void 0===et||et instanceof Ne.Point||Array.isArray(et)||(tt=et,et=void 0),tt=tt||{},(et=et||[[0,0],[this.transform.width,this.transform.height]])instanceof Ne.Point||"number"==typeof et[0])nt=[Ne.Point.convert(et)];else{var rt=Ne.Point.convert(et[0]),it=Ne.Point.convert(et[1]);nt=[rt,new Ne.Point(it.x,rt.y),it,new Ne.Point(rt.x,it.y),rt]}return this.style.queryRenderedFeatures(nt,tt,this.transform)},r.prototype.querySourceFeatures=function(Ne,et){return this.style.querySourceFeatures(Ne,et)},r.prototype.setStyle=function(et,tt){return!1!==(tt=Ne.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},tt)).diff&&tt.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&et?(this._diffStyle(et,tt),this):(this._localIdeographFontFamily=tt.localIdeographFontFamily,this._updateStyle(et,tt))},r.prototype._getUIString=function(Ne){var et=this._locale[Ne];if(null==et)throw new Error("Missing UI string '"+Ne+"'");return et},r.prototype._updateStyle=function(Ne,et){return this.style&&(this.style.setEventedParent(null),this.style._remove()),Ne?(this.style=new Fs(this,et||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof Ne?this.style.loadURL(Ne):this.style.loadJSON(Ne),this):(delete this.style,this)},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Fs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(et,tt){var nt=this;if("string"==typeof et){var rt=this._requestManager.normalizeStyleURL(et),it=this._requestManager.transformRequest(rt,Ne.ResourceType.Style);Ne.getJSON(it,(function(et,rt){et?nt.fire(new Ne.ErrorEvent(et)):rt&&nt._updateDiff(rt,tt)}))}else"object"==typeof et&&this._updateDiff(et,tt)},r.prototype._updateDiff=function(et,tt){try{this.style.setState(et)&&this._update(!0)}catch(nt){Ne.warnOnce("Unable to perform style diff: "+(nt.message||nt.error||nt)+".  Rebuilding the style from scratch."),this._updateStyle(et,tt)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():Ne.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(Ne,et){return this._lazyInitEmptyStyle(),this.style.addSource(Ne,et),this._update(!0)},r.prototype.isSourceLoaded=function(et){var tt=this.style&&this.style.sourceCaches[et];if(void 0!==tt)return tt.loaded();this.fire(new Ne.ErrorEvent(new Error("There is no source with ID '"+et+"'")))},r.prototype.areTilesLoaded=function(){var Ne=this.style&&this.style.sourceCaches;for(var et in Ne){var tt=Ne[et]._tiles;for(var nt in tt){var rt=tt[nt];if("loaded"!==rt.state&&"errored"!==rt.state)return!1}}return!0},r.prototype.addSourceType=function(Ne,et,tt){return this._lazyInitEmptyStyle(),this.style.addSourceType(Ne,et,tt)},r.prototype.removeSource=function(Ne){return this.style.removeSource(Ne),this._update(!0)},r.prototype.getSource=function(Ne){return this.style.getSource(Ne)},r.prototype.addImage=function(et,tt,nt){void 0===nt&&(nt={});var rt=nt.pixelRatio;void 0===rt&&(rt=1);var it=nt.sdf;void 0===it&&(it=!1);var ot=nt.stretchX,at=nt.stretchY,st=nt.content;if(this._lazyInitEmptyStyle(),tt instanceof op||sp&&tt instanceof sp){var ct=Ne.browser.getImageData(tt);this.style.addImage(et,{data:new Ne.RGBAImage({width:ct.width,height:ct.height},ct.data),pixelRatio:rt,stretchX:ot,stretchY:at,content:st,sdf:it,version:0})}else{if(void 0===tt.width||void 0===tt.height)return this.fire(new Ne.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var pt=tt;this.style.addImage(et,{data:new Ne.RGBAImage({width:tt.width,height:tt.height},new Uint8Array(tt.data)),pixelRatio:rt,stretchX:ot,stretchY:at,content:st,sdf:it,version:0,userImage:pt}),pt.onAdd&&pt.onAdd(this,et)}},r.prototype.updateImage=function(et,tt){var nt=this.style.getImage(et);if(!nt)return this.fire(new Ne.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var rt=tt instanceof op||sp&&tt instanceof sp?Ne.browser.getImageData(tt):tt,it=rt.width,ot=rt.height,at=rt.data;return void 0===it||void 0===ot?this.fire(new Ne.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):it!==nt.data.width||ot!==nt.data.height?this.fire(new Ne.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(nt.data.replace(at,!(tt instanceof op||sp&&tt instanceof sp)),void this.style.updateImage(et,nt))},r.prototype.hasImage=function(et){return et?!!this.style.getImage(et):(this.fire(new Ne.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(Ne){this.style.removeImage(Ne)},r.prototype.loadImage=function(et,tt){Ne.getImage(this._requestManager.transformRequest(et,Ne.ResourceType.Image),tt)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(Ne,et){return this._lazyInitEmptyStyle(),this.style.addLayer(Ne,et),this._update(!0)},r.prototype.moveLayer=function(Ne,et){return this.style.moveLayer(Ne,et),this._update(!0)},r.prototype.removeLayer=function(Ne){return this.style.removeLayer(Ne),this._update(!0)},r.prototype.getLayer=function(Ne){return this.style.getLayer(Ne)},r.prototype.setLayerZoomRange=function(Ne,et,tt){return this.style.setLayerZoomRange(Ne,et,tt),this._update(!0)},r.prototype.setFilter=function(Ne,et,tt){return void 0===tt&&(tt={}),this.style.setFilter(Ne,et,tt),this._update(!0)},r.prototype.getFilter=function(Ne){return this.style.getFilter(Ne)},r.prototype.setPaintProperty=function(Ne,et,tt,nt){return void 0===nt&&(nt={}),this.style.setPaintProperty(Ne,et,tt,nt),this._update(!0)},r.prototype.getPaintProperty=function(Ne,et){return this.style.getPaintProperty(Ne,et)},r.prototype.setLayoutProperty=function(Ne,et,tt,nt){return void 0===nt&&(nt={}),this.style.setLayoutProperty(Ne,et,tt,nt),this._update(!0)},r.prototype.getLayoutProperty=function(Ne,et){return this.style.getLayoutProperty(Ne,et)},r.prototype.setLight=function(Ne,et){return void 0===et&&(et={}),this._lazyInitEmptyStyle(),this.style.setLight(Ne,et),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(Ne,et){return this.style.setFeatureState(Ne,et),this._update()},r.prototype.removeFeatureState=function(Ne,et){return this.style.removeFeatureState(Ne,et),this._update()},r.prototype.getFeatureState=function(Ne){return this.style.getFeatureState(Ne)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var Ne=0,et=0;return this._container&&(Ne=this._container.clientWidth||400,et=this._container.clientHeight||300),[Ne,et]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==Ne.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&Ne.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var Ne=this._container;Ne.classList.add("mapboxgl-map"),(this._missingCSSCanary=tt.create("div","mapboxgl-canary",Ne)).style.visibility="hidden",this._detectMissingCSS();var et=this._canvasContainer=tt.create("div","mapboxgl-canvas-container",Ne);this._interactive&&et.classList.add("mapboxgl-interactive"),this._canvas=tt.create("canvas","mapboxgl-canvas",et),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var nt=this._containerDimensions();this._resizeCanvas(nt[0],nt[1]);var rt=this._controlContainer=tt.create("div","mapboxgl-control-container",Ne),it=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(Ne){it[Ne]=tt.create("div","mapboxgl-ctrl-"+Ne,rt)}))},r.prototype._resizeCanvas=function(et,tt){var nt=Ne.browser.devicePixelRatio||1;this._canvas.width=nt*et,this._canvas.height=nt*tt,this._canvas.style.width=et+"px",this._canvas.style.height=tt+"px"},r.prototype._setupPainter=function(){var tt=Ne.extend({},et.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),nt=this._canvas.getContext("webgl",tt)||this._canvas.getContext("experimental-webgl",tt);nt?(this.painter=new yo(nt,this.transform),Ne.webpSupported.testSupport(nt)):this.fire(new Ne.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(et){et.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new Ne.Event("webglcontextlost",{originalEvent:et}))},r.prototype._contextRestored=function(et){this._setupPainter(),this.resize(),this._update(),this.fire(new Ne.Event("webglcontextrestored",{originalEvent:et}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(Ne){return this.style?(this._styleDirty=this._styleDirty||Ne,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(Ne){return this._update(),this._renderTaskQueue.add(Ne)},r.prototype._cancelRenderFrame=function(Ne){this._renderTaskQueue.remove(Ne)},r.prototype._render=function(et){var tt,nt=this,rt=0,it=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(tt=it.createQueryEXT(),it.beginQueryEXT(it.TIME_ELAPSED_EXT,tt),rt=Ne.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(et),!this._removed){var ot=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var at=this.transform.zoom,st=Ne.browser.now();this.style.zoomHistory.update(at,st);var ct=new Ne.EvaluationParameters(at,{now:st,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),pt=ct.crossFadingFactor();1===pt&&pt===this._crossFadingFactor||(ot=!0,this._crossFadingFactor=pt),this.style.update(ct)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new Ne.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new Ne.Event("load"))),this.style&&(this.style.hasTransitions()||ot)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var dt=Ne.browser.now()-rt;it.endQueryEXT(it.TIME_ELAPSED_EXT,tt),setTimeout((function(){var et=it.getQueryObjectEXT(tt,it.QUERY_RESULT_EXT)/1e6;it.deleteQueryEXT(tt),nt.fire(new Ne.Event("gpu-timing-frame",{cpuTime:dt,gpuTime:et}))}),50)}if(this.listens("gpu-timing-layer")){var ft=this.painter.collectGpuTimers();setTimeout((function(){var et=nt.painter.queryGpuTimers(ft);nt.fire(new Ne.Event("gpu-timing-layer",{layerTimes:et}))}),50)}var mt=this._sourcesDirty||this._styleDirty||this._placementDirty;return mt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new Ne.Event("idle")),!this._loaded||this._fullyLoaded||mt||(this._fullyLoaded=!0),this}},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var et=0,tt=this._controls;et<tt.length;et+=1)tt[et].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==Ne.window&&(Ne.window.removeEventListener("resize",this._onWindowResize,!1),Ne.window.removeEventListener("online",this._onWindowOnline,!1));var nt=this.painter.context.gl.getExtension("WEBGL_lose_context");nt&&nt.loseContext(),Cr(this._canvasContainer),Cr(this._controlContainer),Cr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new Ne.Event("remove"))},r.prototype.triggerRepaint=function(){var et=this;this.style&&!this._frame&&(this._frame=Ne.browser.frame((function(Ne){et._frame=null,et._render(Ne)})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(Ne){this._trackResize&&this.resize({originalEvent:Ne})._update()},rt.showTileBoundaries.get=function(){return!!this._showTileBoundaries},rt.showTileBoundaries.set=function(Ne){this._showTileBoundaries!==Ne&&(this._showTileBoundaries=Ne,this._update())},rt.showPadding.get=function(){return!!this._showPadding},rt.showPadding.set=function(Ne){this._showPadding!==Ne&&(this._showPadding=Ne,this._update())},rt.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},rt.showCollisionBoxes.set=function(Ne){this._showCollisionBoxes!==Ne&&(this._showCollisionBoxes=Ne,Ne?this.style._generateCollisionBoxes():this._update())},rt.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},rt.showOverdrawInspector.set=function(Ne){this._showOverdrawInspector!==Ne&&(this._showOverdrawInspector=Ne,this._update())},rt.repaint.get=function(){return!!this._repaint},rt.repaint.set=function(Ne){this._repaint!==Ne&&(this._repaint=Ne,this.triggerRepaint())},rt.vertices.get=function(){return!!this._vertices},rt.vertices.set=function(Ne){this._vertices=Ne,this._update()},r.prototype._setCacheLimits=function(et,tt){Ne.setCacheLimits(et,tt)},rt.version.get=function(){return Ne.version},Object.defineProperties(r.prototype,rt),r}(rp);function Cr(Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)}var pp={showCompass:!0,showZoom:!0,visualizePitch:!1},Dr=function(et){var nt=this;this.options=Ne.extend({},pp,et),this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(Ne){return Ne.preventDefault()})),this.options.showZoom&&(Ne.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(Ne){return nt._map.zoomIn({},{originalEvent:Ne})})),tt.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(Ne){return nt._map.zoomOut({},{originalEvent:Ne})})),tt.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(Ne.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(Ne){nt.options.visualizePitch?nt._map.resetNorthPitch({},{originalEvent:Ne}):nt._map.resetNorth({},{originalEvent:Ne})})),this._compassIcon=tt.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Dr.prototype._updateZoomButtons=function(){var Ne=this._map.getZoom();this._zoomInButton.disabled=Ne===this._map.getMaxZoom(),this._zoomOutButton.disabled=Ne===this._map.getMinZoom()},Dr.prototype._rotateCompassArrow=function(){var Ne=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Ne},Dr.prototype.onAdd=function(Ne){return this._map=Ne,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Mr(this._map,this._compass,this.options.visualizePitch)),this._container},Dr.prototype.onRemove=function(){tt.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Dr.prototype._createButton=function(Ne,et){var nt=tt.create("button",Ne,this._container);return nt.type="button",nt.addEventListener("click",et),nt},Dr.prototype._setButtonTitle=function(Ne,et){var tt=this._map._getUIString("NavigationControl."+et);Ne.title=tt,Ne.setAttribute("aria-label",tt)};var Mr=function(et,nt,rt){void 0===rt&&(rt=!1),this._clickTolerance=10,this.element=nt,this.mouseRotate=new Zc({clickTolerance:et.dragRotate._mouseRotate._clickTolerance}),this.map=et,rt&&(this.mousePitch=new Wc({clickTolerance:et.dragRotate._mousePitch._clickTolerance})),Ne.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),tt.addEventListener(nt,"mousedown",this.mousedown),tt.addEventListener(nt,"touchstart",this.touchstart,{passive:!1}),tt.addEventListener(nt,"touchmove",this.touchmove),tt.addEventListener(nt,"touchend",this.touchend),tt.addEventListener(nt,"touchcancel",this.reset)};function Lr(et,tt,nt){if(et=new Ne.LngLat(et.lng,et.lat),tt){var rt=new Ne.LngLat(et.lng-360,et.lat),it=new Ne.LngLat(et.lng+360,et.lat),ot=nt.locationPoint(et).distSqr(tt);nt.locationPoint(rt).distSqr(tt)<ot?et=rt:nt.locationPoint(it).distSqr(tt)<ot&&(et=it)}for(;Math.abs(et.lng-nt.center.lng)>180;){var at=nt.locationPoint(et);if(at.x>=0&&at.y>=0&&at.x<=nt.width&&at.y<=nt.height)break;et.lng>nt.center.lng?et.lng-=360:et.lng+=360}return et}Mr.prototype.down=function(Ne,et){this.mouseRotate.mousedown(Ne,et),this.mousePitch&&this.mousePitch.mousedown(Ne,et),tt.disableDrag()},Mr.prototype.move=function(Ne,et){var tt=this.map,nt=this.mouseRotate.mousemoveWindow(Ne,et);if(nt&&nt.bearingDelta&&tt.setBearing(tt.getBearing()+nt.bearingDelta),this.mousePitch){var rt=this.mousePitch.mousemoveWindow(Ne,et);rt&&rt.pitchDelta&&tt.setPitch(tt.getPitch()+rt.pitchDelta)}},Mr.prototype.off=function(){var Ne=this.element;tt.removeEventListener(Ne,"mousedown",this.mousedown),tt.removeEventListener(Ne,"touchstart",this.touchstart,{passive:!1}),tt.removeEventListener(Ne,"touchmove",this.touchmove),tt.removeEventListener(Ne,"touchend",this.touchend),tt.removeEventListener(Ne,"touchcancel",this.reset),this.offTemp()},Mr.prototype.offTemp=function(){tt.enableDrag(),tt.removeEventListener(Ne.window,"mousemove",this.mousemove),tt.removeEventListener(Ne.window,"mouseup",this.mouseup)},Mr.prototype.mousedown=function(et){this.down(Ne.extend({},et,{ctrlKey:!0,preventDefault:function(){return et.preventDefault()}}),tt.mousePos(this.element,et)),tt.addEventListener(Ne.window,"mousemove",this.mousemove),tt.addEventListener(Ne.window,"mouseup",this.mouseup)},Mr.prototype.mousemove=function(Ne){this.move(Ne,tt.mousePos(this.element,Ne))},Mr.prototype.mouseup=function(Ne){this.mouseRotate.mouseupWindow(Ne),this.mousePitch&&this.mousePitch.mouseupWindow(Ne),this.offTemp()},Mr.prototype.touchstart=function(Ne){1!==Ne.targetTouches.length?this.reset():(this._startPos=this._lastPos=tt.touchPos(this.element,Ne.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Ne.preventDefault()}},this._startPos))},Mr.prototype.touchmove=function(Ne){1!==Ne.targetTouches.length?this.reset():(this._lastPos=tt.touchPos(this.element,Ne.targetTouches)[0],this.move({preventDefault:function(){return Ne.preventDefault()}},this._lastPos))},Mr.prototype.touchend=function(Ne){0===Ne.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Mr.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var hp={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rr(Ne,et,tt){var nt=Ne.classList;for(var rt in hp)nt.remove("mapboxgl-"+tt+"-anchor-"+rt);nt.add("mapboxgl-"+tt+"-anchor-"+et)}var dp,fp=function(et){function o(nt,rt){var it=this;if(et.call(this),(nt instanceof Ne.window.HTMLElement||rt)&&(nt=Ne.extend({element:nt},rt)),Ne.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=nt&&nt.anchor||"center",this._color=nt&&nt.color||"#3FB1CE",this._scale=nt&&nt.scale||1,this._draggable=nt&&nt.draggable||!1,this._state="inactive",this._rotation=nt&&nt.rotation||0,this._rotationAlignment=nt&&nt.rotationAlignment||"auto",this._pitchAlignment=nt&&nt.pitchAlignment&&"auto"!==nt.pitchAlignment?nt.pitchAlignment:this._rotationAlignment,nt&&nt.element)this._element=nt.element,this._offset=Ne.Point.convert(nt&&nt.offset||[0,0]);else{this._defaultMarker=!0,this._element=tt.create("div"),this._element.setAttribute("aria-label","Map marker");var ot=tt.createNS("http://www.w3.org/2000/svg","svg");ot.setAttributeNS(null,"display","block"),ot.setAttributeNS(null,"height","41px"),ot.setAttributeNS(null,"width","27px"),ot.setAttributeNS(null,"viewBox","0 0 27 41");var at=tt.createNS("http://www.w3.org/2000/svg","g");at.setAttributeNS(null,"stroke","none"),at.setAttributeNS(null,"stroke-width","1"),at.setAttributeNS(null,"fill","none"),at.setAttributeNS(null,"fill-rule","evenodd");var st=tt.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"fill-rule","nonzero");var ct=tt.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ct.setAttributeNS(null,"fill","#000000");for(var pt=0,dt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];pt<dt.length;pt+=1){var ft=dt[pt],mt=tt.createNS("http://www.w3.org/2000/svg","ellipse");mt.setAttributeNS(null,"opacity","0.04"),mt.setAttributeNS(null,"cx","10.5"),mt.setAttributeNS(null,"cy","5.80029008"),mt.setAttributeNS(null,"rx",ft.rx),mt.setAttributeNS(null,"ry",ft.ry),ct.appendChild(mt)}var yt=tt.createNS("http://www.w3.org/2000/svg","g");yt.setAttributeNS(null,"fill",this._color);var vt=tt.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),yt.appendChild(vt);var Ot=tt.createNS("http://www.w3.org/2000/svg","g");Ot.setAttributeNS(null,"opacity","0.25"),Ot.setAttributeNS(null,"fill","#000000");var Dt=tt.createNS("http://www.w3.org/2000/svg","path");Dt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ot.appendChild(Dt);var Rt=tt.createNS("http://www.w3.org/2000/svg","g");Rt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Rt.setAttributeNS(null,"fill","#FFFFFF");var Bt=tt.createNS("http://www.w3.org/2000/svg","g");Bt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var rn=tt.createNS("http://www.w3.org/2000/svg","circle");rn.setAttributeNS(null,"fill","#000000"),rn.setAttributeNS(null,"opacity","0.25"),rn.setAttributeNS(null,"cx","5.5"),rn.setAttributeNS(null,"cy","5.5"),rn.setAttributeNS(null,"r","5.4999962");var vn=tt.createNS("http://www.w3.org/2000/svg","circle");vn.setAttributeNS(null,"fill","#FFFFFF"),vn.setAttributeNS(null,"cx","5.5"),vn.setAttributeNS(null,"cy","5.5"),vn.setAttributeNS(null,"r","5.4999962"),Bt.appendChild(rn),Bt.appendChild(vn),st.appendChild(ct),st.appendChild(yt),st.appendChild(Ot),st.appendChild(Rt),st.appendChild(Bt),ot.appendChild(st),ot.setAttributeNS(null,"height",41*this._scale+"px"),ot.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(ot),this._offset=Ne.Point.convert(nt&&nt.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(Ne){Ne.preventDefault()})),this._element.addEventListener("mousedown",(function(Ne){Ne.preventDefault()})),this._element.addEventListener("focus",(function(){var Ne=it._map.getContainer();Ne.scrollTop=0,Ne.scrollLeft=0})),Rr(this._element,this._anchor,"marker"),this._popup=null}return et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o,o.prototype.addTo=function(Ne){return this.remove(),this._map=Ne,Ne.getCanvasContainer().appendChild(this._element),Ne.on("move",this._update),Ne.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},o.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),tt.remove(this._element),this._popup&&this._popup.remove(),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(et){return this._lngLat=Ne.LngLat.convert(et),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},o.prototype.getElement=function(){return this._element},o.prototype.setPopup=function(Ne){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),Ne){if(!("offset"in Ne.options)){var et=Math.sqrt(Math.pow(13.5,2)/2);Ne.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[et,-1*(24.6+et)],"bottom-right":[-et,-1*(24.6+et)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=Ne,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},o.prototype._onKeyPress=function(Ne){var et=Ne.code,tt=Ne.charCode||Ne.keyCode;"Space"!==et&&"Enter"!==et&&32!==tt&&13!==tt||this.togglePopup()},o.prototype._onMapClick=function(Ne){var et=Ne.originalEvent.target,tt=this._element;this._popup&&(et===tt||tt.contains(et))&&this.togglePopup()},o.prototype.getPopup=function(){return this._popup},o.prototype.togglePopup=function(){var Ne=this._popup;return Ne?(Ne.isOpen()?Ne.remove():Ne.addTo(this._map),this):this},o.prototype._update=function(Ne){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var et="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?et="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(et="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var nt="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?nt="rotateX(0deg)":"map"===this._pitchAlignment&&(nt="rotateX("+this._map.getPitch()+"deg)"),Ne&&"moveend"!==Ne.type||(this._pos=this._pos.round()),tt.setTransform(this._element,hp[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+nt+" "+et)}},o.prototype.getOffset=function(){return this._offset},o.prototype.setOffset=function(et){return this._offset=Ne.Point.convert(et),this._update(),this},o.prototype._onMove=function(et){this._pos=et.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new Ne.Event("dragstart"))),this.fire(new Ne.Event("drag"))},o.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new Ne.Event("dragend")),this._state="inactive"},o.prototype._addDragHandler=function(Ne){this._element.contains(Ne.originalEvent.target)&&(Ne.preventDefault(),this._positionDelta=Ne.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},o.prototype.setDraggable=function(Ne){return this._draggable=!!Ne,this._map&&(Ne?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},o.prototype.isDraggable=function(){return this._draggable},o.prototype.setRotation=function(Ne){return this._rotation=Ne||0,this._update(),this},o.prototype.getRotation=function(){return this._rotation},o.prototype.setRotationAlignment=function(Ne){return this._rotationAlignment=Ne||"auto",this._update(),this},o.prototype.getRotationAlignment=function(){return this._rotationAlignment},o.prototype.setPitchAlignment=function(Ne){return this._pitchAlignment=Ne&&"auto"!==Ne?Ne:this._rotationAlignment,this._update(),this},o.prototype.getPitchAlignment=function(){return this._pitchAlignment},o}(Ne.Evented),mp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},gp=0,yp=!1,vp=function(et){function o(tt){et.call(this),this.options=Ne.extend({},mp,tt),Ne.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o,o.prototype.onAdd=function(et){var nt;return this._map=et,this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),nt=this._setupUI,void 0!==dp?nt(dp):void 0!==Ne.window.navigator.permissions?Ne.window.navigator.permissions.query({name:"geolocation"}).then((function(Ne){nt(dp="denied"!==Ne.state)})):nt(dp=!!Ne.window.navigator.geolocation),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(Ne.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),tt.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,gp=0,yp=!1},o.prototype._isOutOfMapMaxBounds=function(Ne){var et=this._map.getMaxBounds(),tt=Ne.coords;return et&&(tt.longitude<et.getWest()||tt.longitude>et.getEast()||tt.latitude<et.getSouth()||tt.latitude>et.getNorth())},o.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},o.prototype._onSuccess=function(et){if(this._map){if(this._isOutOfMapMaxBounds(et))return this._setErrorState(),this.fire(new Ne.Event("outofmaxbounds",et)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=et,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(et),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(et),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new Ne.Event("geolocate",et)),this._finish()}},o.prototype._updateCamera=function(et){var tt=new Ne.LngLat(et.coords.longitude,et.coords.latitude),nt=et.coords.accuracy,rt=this._map.getBearing(),it=Ne.extend({bearing:rt},this.options.fitBoundsOptions);this._map.fitBounds(tt.toBounds(nt),it,{geolocateSource:!0})},o.prototype._updateMarker=function(et){if(et){var tt=new Ne.LngLat(et.coords.longitude,et.coords.latitude);this._accuracyCircleMarker.setLngLat(tt).addTo(this._map),this._userLocationDotMarker.setLngLat(tt).addTo(this._map),this._accuracy=et.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},o.prototype._updateCircleRadius=function(){var Ne=this._map._container.clientHeight/2,et=this._map.unproject([0,Ne]),tt=this._map.unproject([1,Ne]),nt=et.distanceTo(tt),rt=Math.ceil(2*this._accuracy/nt);this._circleElement.style.width=rt+"px",this._circleElement.style.height=rt+"px"},o.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},o.prototype._onError=function(et){if(this._map){if(this.options.trackUserLocation)if(1===et.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var tt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=tt,this._geolocateButton.setAttribute("aria-label",tt),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===et.code&&yp)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new Ne.Event("error",et)),this._finish()}},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(et){var nt=this;if(this._container.addEventListener("contextmenu",(function(Ne){return Ne.preventDefault()})),this._geolocateButton=tt.create("button","mapboxgl-ctrl-geolocate",this._container),tt.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===et){Ne.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var rt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=rt,this._geolocateButton.setAttribute("aria-label",rt)}else{var it=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=it,this._geolocateButton.setAttribute("aria-label",it)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=tt.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new fp(this._dotElement),this._circleElement=tt.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fp({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(et){et.geolocateSource||"ACTIVE_LOCK"!==nt._watchState||et.originalEvent&&"resize"===et.originalEvent.type||(nt._watchState="BACKGROUND",nt._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),nt._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),nt.fire(new Ne.Event("trackuserlocationend")))}))},o.prototype.trigger=function(){if(!this._setup)return Ne.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new Ne.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":gp--,yp=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new Ne.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new Ne.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var et;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++gp>1?(et={maximumAge:6e5,timeout:0},yp=!0):(et=this.options.positionOptions,yp=!1),this._geolocationWatchID=Ne.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,et)}}else Ne.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},o.prototype._clearWatch=function(){Ne.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(Ne.Evented),_p={maxWidth:100,unit:"metric"},jr=function(et){this.options=Ne.extend({},_p,et),Ne.bindAll(["_onMove","setUnit"],this)};function qr(Ne,et,tt){var nt=tt&&tt.maxWidth||100,rt=Ne._container.clientHeight/2,it=Ne.unproject([0,rt]),ot=Ne.unproject([nt,rt]),at=it.distanceTo(ot);if(tt&&"imperial"===tt.unit){var st=3.2808*at;st>5280?Vr(et,nt,st/5280,Ne._getUIString("ScaleControl.Miles")):Vr(et,nt,st,Ne._getUIString("ScaleControl.Feet"))}else tt&&"nautical"===tt.unit?Vr(et,nt,at/1852,Ne._getUIString("ScaleControl.NauticalMiles")):at>=1e3?Vr(et,nt,at/1e3,Ne._getUIString("ScaleControl.Kilometers")):Vr(et,nt,at,Ne._getUIString("ScaleControl.Meters"))}function Vr(Ne,et,tt,nt){var rt,it,ot,at=(rt=tt,(it=Math.pow(10,(""+Math.floor(rt)).length-1))*(ot=(ot=rt/it)>=10?10:ot>=5?5:ot>=3?3:ot>=2?2:ot>=1?1:function(Ne){var et=Math.pow(10,Math.ceil(-Math.log(Ne)/Math.LN10));return Math.round(Ne*et)/et}(ot)));Ne.style.width=et*(at/tt)+"px",Ne.innerHTML=at+"&nbsp;"+nt}jr.prototype.getDefaultPosition=function(){return"bottom-left"},jr.prototype._onMove=function(){qr(this._map,this._container,this.options)},jr.prototype.onAdd=function(Ne){return this._map=Ne,this._container=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Ne.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jr.prototype.onRemove=function(){tt.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jr.prototype.setUnit=function(Ne){this.options.unit=Ne,qr(this._map,this._container,this.options)};var Gr=function(et){this._fullscreen=!1,et&&et.container&&(et.container instanceof Ne.window.HTMLElement?this._container=et.container:Ne.warnOnce("Full screen control 'container' must be a DOM element.")),Ne.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in Ne.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in Ne.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in Ne.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in Ne.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gr.prototype.onAdd=function(et){return this._map=et,this._container||(this._container=this._map.getContainer()),this._controlContainer=tt.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",Ne.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gr.prototype.onRemove=function(){tt.remove(this._controlContainer),this._map=null,Ne.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._checkFullscreenSupport=function(){return!!(Ne.window.document.fullscreenEnabled||Ne.window.document.mozFullScreenEnabled||Ne.window.document.msFullscreenEnabled||Ne.window.document.webkitFullscreenEnabled)},Gr.prototype._setupUI=function(){var et=this._fullscreenButton=tt.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);tt.create("span","mapboxgl-ctrl-icon",et).setAttribute("aria-hidden",!0),et.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),Ne.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._updateTitle=function(){var Ne=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Ne),this._fullscreenButton.title=Ne},Gr.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gr.prototype._isFullscreen=function(){return this._fullscreen},Gr.prototype._changeIcon=function(){(Ne.window.document.fullscreenElement||Ne.window.document.mozFullScreenElement||Ne.window.document.webkitFullscreenElement||Ne.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gr.prototype._onClickFullscreen=function(){this._isFullscreen()?Ne.window.document.exitFullscreen?Ne.window.document.exitFullscreen():Ne.window.document.mozCancelFullScreen?Ne.window.document.mozCancelFullScreen():Ne.window.document.msExitFullscreen?Ne.window.document.msExitFullscreen():Ne.window.document.webkitCancelFullScreen&&Ne.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var bp={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},xp=function(et){function o(tt){et.call(this),this.options=Ne.extend(Object.create(bp),tt),Ne.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return et&&(o.__proto__=et),(o.prototype=Object.create(et&&et.prototype)).constructor=o,o.prototype.addTo=function(et){return this._map&&this.remove(),this._map=et,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new Ne.Event("open")),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&tt.remove(this._content),this._container&&(tt.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new Ne.Event("close")),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(et){return this._lngLat=Ne.LngLat.convert(et),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},o.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},o.prototype.getElement=function(){return this._container},o.prototype.setText=function(et){return this.setDOMContent(Ne.window.document.createTextNode(et))},o.prototype.setHTML=function(et){var tt,nt=Ne.window.document.createDocumentFragment(),rt=Ne.window.document.createElement("body");for(rt.innerHTML=et;tt=rt.firstChild;)nt.appendChild(tt);return this.setDOMContent(nt)},o.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},o.prototype.setMaxWidth=function(Ne){return this.options.maxWidth=Ne,this._update(),this},o.prototype.setDOMContent=function(Ne){return this._createContent(),this._content.appendChild(Ne),this._update(),this},o.prototype.addClassName=function(Ne){this._container&&this._container.classList.add(Ne)},o.prototype.removeClassName=function(Ne){this._container&&this._container.classList.remove(Ne)},o.prototype.toggleClassName=function(Ne){if(this._container)return this._container.classList.toggle(Ne)},o.prototype._createContent=function(){this._content&&tt.remove(this._content),this._content=tt.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=tt.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},o.prototype._onMouseUp=function(Ne){this._update(Ne.point)},o.prototype._onMouseMove=function(Ne){this._update(Ne.point)},o.prototype._onDrag=function(Ne){this._update(Ne.point)},o.prototype._update=function(et){var nt=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=tt.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=tt.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(Ne){return nt._container.classList.add(Ne)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||et)){var rt=this._pos=this._trackPointer&&et?et:this._map.project(this._lngLat),it=this.options.anchor,ot=function e(et){if(et){if("number"==typeof et){var tt=Math.round(Math.sqrt(.5*Math.pow(et,2)));return{center:new Ne.Point(0,0),top:new Ne.Point(0,et),"top-left":new Ne.Point(tt,tt),"top-right":new Ne.Point(-tt,tt),bottom:new Ne.Point(0,-et),"bottom-left":new Ne.Point(tt,-tt),"bottom-right":new Ne.Point(-tt,-tt),left:new Ne.Point(et,0),right:new Ne.Point(-et,0)}}if(et instanceof Ne.Point||Array.isArray(et)){var nt=Ne.Point.convert(et);return{center:nt,top:nt,"top-left":nt,"top-right":nt,bottom:nt,"bottom-left":nt,"bottom-right":nt,left:nt,right:nt}}return{center:Ne.Point.convert(et.center||[0,0]),top:Ne.Point.convert(et.top||[0,0]),"top-left":Ne.Point.convert(et["top-left"]||[0,0]),"top-right":Ne.Point.convert(et["top-right"]||[0,0]),bottom:Ne.Point.convert(et.bottom||[0,0]),"bottom-left":Ne.Point.convert(et["bottom-left"]||[0,0]),"bottom-right":Ne.Point.convert(et["bottom-right"]||[0,0]),left:Ne.Point.convert(et.left||[0,0]),right:Ne.Point.convert(et.right||[0,0])}}return e(new Ne.Point(0,0))}(this.options.offset);if(!it){var at,st=this._container.offsetWidth,ct=this._container.offsetHeight;at=rt.y+ot.bottom.y<ct?["top"]:rt.y>this._map.transform.height-ct?["bottom"]:[],rt.x<st/2?at.push("left"):rt.x>this._map.transform.width-st/2&&at.push("right"),it=0===at.length?"bottom":at.join("-")}var pt=rt.add(ot[it]).round();tt.setTransform(this._container,hp[it]+" translate("+pt.x+"px,"+pt.y+"px)"),Rr(this._container,it,"popup")}},o.prototype._onClose=function(){this.remove()},o}(Ne.Evented),wp={version:Ne.version,supported:et,setRTLTextPlugin:Ne.setRTLTextPlugin,getRTLTextPluginStatus:Ne.getRTLTextPluginStatus,Map:cp,NavigationControl:Dr,GeolocateControl:vp,AttributionControl:yr,ScaleControl:jr,FullscreenControl:Gr,Popup:xp,Marker:fp,Style:Fs,LngLat:Ne.LngLat,LngLatBounds:Ne.LngLatBounds,Point:Ne.Point,MercatorCoordinate:Ne.MercatorCoordinate,Evented:Ne.Evented,config:Ne.config,prewarm:function(){Ft().acquire(ss)},clearPrewarmedResources:function(){var Ne=ls;Ne&&(Ne.isPreloaded()&&1===Ne.numActive()?(Ne.release(ss),ls=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return Ne.config.ACCESS_TOKEN},set accessToken(et){Ne.config.ACCESS_TOKEN=et},get baseApiUrl(){return Ne.config.API_URL},set baseApiUrl(et){Ne.config.API_URL=et},get workerCount(){return kt.workerCount},set workerCount(Ne){kt.workerCount=Ne},get maxParallelImageRequests(){return Ne.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(et){Ne.config.MAX_PARALLEL_IMAGE_REQUESTS=et},clearStorage:function(et){Ne.clearTileCache(et)},workerUrl:""};return wp})),tt}()},function(Ne,et,tt){"use strict";Ne.exports=tt(143)},function(Ne,et,tt){var nt=tt(26);Ne.exports=!nt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(Ne,et,tt){var nt=tt(42),rt=tt(64),it=tt(91);Ne.exports=nt?function(Ne,et,tt){return rt.f(Ne,et,it(1,tt))}:function(Ne,et,tt){return Ne[et]=tt,Ne}},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(183);nt({target:"Set",proto:!0,real:!0,forced:rt},{addAll:function addAll(){return it.apply(this,arguments)}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(108);nt({target:"Set",proto:!0,real:!0,forced:rt},{deleteAll:function deleteAll(){return it.apply(this,arguments)}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(23),ct=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{difference:function difference(Ne){var et=ot(this),tt=new(st(et,it("Set")))(et),nt=at(tt.delete);return ct(Ne,(function(Ne){nt.call(tt,Ne)})),tt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(19),at=tt(32),st=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{every:function every(Ne){var et=it(this),tt=at(et),nt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return!st(tt,(function(Ne){if(!nt(Ne,Ne,et))return st.stop()}),void 0,!1,!0).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(19),ct=tt(23),pt=tt(32),dt=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{filter:function filter(Ne){var et=ot(this),tt=pt(et),nt=st(Ne,arguments.length>1?arguments[1]:void 0,3),rt=new(ct(et,it("Set"))),ft=at(rt.add);return dt(tt,(function(Ne){nt(Ne,Ne,et)&&ft.call(rt,Ne)}),void 0,!1,!0),rt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(19),at=tt(32),st=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{find:function find(Ne){var et=it(this),tt=at(et),nt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne){if(nt(Ne,Ne,et))return st.stop(Ne)}),void 0,!1,!0).result}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(23),ct=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{intersection:function intersection(Ne){var et=ot(this),tt=new(st(et,it("Set"))),nt=at(et.has),rt=at(tt.add);return ct(Ne,(function(Ne){nt.call(et,Ne)&&rt.call(tt,Ne)})),tt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(13),at=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{isDisjointFrom:function isDisjointFrom(Ne){var et=it(this),tt=ot(et.has);return!at(Ne,(function(Ne){if(!0===tt.call(et,Ne))return at.stop()})).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(79),ct=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{isSubsetOf:function isSubsetOf(Ne){var et=st(this),tt=ot(Ne),nt=tt.has;return"function"!=typeof nt&&(tt=new(it("Set"))(Ne),nt=at(tt.has)),!ct(et,(function(Ne){if(!1===nt.call(tt,Ne))return ct.stop()}),void 0,!1,!0).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(13),at=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{isSupersetOf:function isSupersetOf(Ne){var et=it(this),tt=ot(et.has);return!at(Ne,(function(Ne){if(!1===tt.call(et,Ne))return at.stop()})).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(32),at=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{join:function join(Ne){var et=it(this),tt=ot(et),nt=void 0===Ne?",":String(Ne),rt=[];return at(tt,rt.push,rt,!1,!0),rt.join(nt)}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(19),ct=tt(23),pt=tt(32),dt=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{map:function map(Ne){var et=ot(this),tt=pt(et),nt=st(Ne,arguments.length>1?arguments[1]:void 0,3),rt=new(ct(et,it("Set"))),ft=at(rt.add);return dt(tt,(function(Ne){ft.call(rt,nt(Ne,Ne,et))}),void 0,!1,!0),rt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(13),at=tt(32),st=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{reduce:function reduce(Ne){var et=it(this),tt=at(et),nt=arguments.length<2,rt=nt?void 0:arguments[1];if(ot(Ne),st(tt,(function(tt){nt?(nt=!1,rt=tt):rt=Ne(rt,tt,tt,et)}),void 0,!1,!0),nt)throw TypeError("Reduce of empty set with no initial value");return rt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(19),at=tt(32),st=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{some:function some(Ne){var et=it(this),tt=at(et),nt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne){if(nt(Ne,Ne,et))return st.stop()}),void 0,!1,!0).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(23),ct=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{symmetricDifference:function symmetricDifference(Ne){var et=ot(this),tt=new(st(et,it("Set")))(et),nt=at(tt.delete),rt=at(tt.add);return ct(Ne,(function(Ne){nt.call(tt,Ne)||rt.call(tt,Ne)})),tt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(23),ct=tt(11);nt({target:"Set",proto:!0,real:!0,forced:rt},{union:function union(Ne){var et=ot(this),tt=new(st(et,it("Set")))(et);return ct(Ne,at(tt.add),tt),tt}})},function(Ne,et,tt){"use strict";function _assertThisInitialized(Ne){if(void 0===Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ne}tt.d(et,"a",(function(){return _assertThisInitialized}))},function(Ne,et,tt){"use strict";function _arrayLikeToArray(Ne,et){(null==et||et>Ne.length)&&(et=Ne.length);for(var tt=0,nt=new Array(et);tt<et;tt++)nt[tt]=Ne[tt];return nt}tt.d(et,"a",(function(){return _arrayLikeToArray}))},,function(Ne,et){Ne.exports=function(Ne){if(null==Ne)throw TypeError("Can't call method on "+Ne);return Ne}},function(Ne,et,tt){var nt=tt(42),rt=tt(93),it=tt(6),ot=tt(92),at=Object.defineProperty;et.f=nt?at:function defineProperty(Ne,et,tt){if(it(Ne),et=ot(et,!0),it(tt),rt)try{return at(Ne,et,tt)}catch(Ne){}if("get"in tt||"set"in tt)throw TypeError("Accessors not supported");return"value"in tt&&(Ne[et]=tt.value),Ne}},function(Ne,et,tt){var nt=tt(16),rt=tt(43),it=tt(31),ot=tt(75),at=tt(76),st=tt(96),ct=st.get,pt=st.enforce,dt=String(String).split("String");(Ne.exports=function(Ne,et,tt,at){var st=!!at&&!!at.unsafe,ct=!!at&&!!at.enumerable,ft=!!at&&!!at.noTargetGet;"function"==typeof tt&&("string"!=typeof et||it(tt,"name")||rt(tt,"name",et),pt(tt).source=dt.join("string"==typeof et?et:"")),Ne!==nt?(st?!ft&&Ne[et]&&(ct=!0):delete Ne[et],ct?Ne[et]=tt:rt(Ne,et,tt)):ct?Ne[et]=tt:ot(et,tt)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&ct(this).source||at(this)}))},function(Ne,et){var tt=Math.ceil,nt=Math.floor;Ne.exports=function(Ne){return isNaN(Ne=+Ne)?0:(Ne>0?nt:tt)(Ne)}},function(Ne,et,tt){"use strict";var nt=tt(41),rt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},it={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ot={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},at={};function getStatics(Ne){return nt.isMemo(Ne)?ot:at[Ne.$$typeof]||rt}at[nt.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},at[nt.Memo]=ot;var st=Object.defineProperty,ct=Object.getOwnPropertyNames,pt=Object.getOwnPropertySymbols,dt=Object.getOwnPropertyDescriptor,ft=Object.getPrototypeOf,mt=Object.prototype;Ne.exports=function hoistNonReactStatics(Ne,et,tt){if("string"!=typeof et){if(mt){var nt=ft(et);nt&&nt!==mt&&hoistNonReactStatics(Ne,nt,tt)}var rt=ct(et);pt&&(rt=rt.concat(pt(et)));for(var ot=getStatics(Ne),at=getStatics(et),yt=0;yt<rt.length;++yt){var vt=rt[yt];if(!(it[vt]||tt&&tt[vt]||at&&at[vt]||ot&&ot[vt])){var Ot=dt(et,vt);try{st(Ne,vt,Ot)}catch(Ne){}}}}return Ne}},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return _unsupportedIterableToArray}));var nt=tt(61);function _unsupportedIterableToArray(Ne,et){if(Ne){if("string"==typeof Ne)return Object(nt.a)(Ne,et);var tt=Object.prototype.toString.call(Ne).slice(8,-1);return"Object"===tt&&Ne.constructor&&(tt=Ne.constructor.name),"Map"===tt||"Set"===tt?Array.from(Ne):"Arguments"===tt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?Object(nt.a)(Ne,et):void 0}}},function(Ne,et,tt){"use strict";et.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(Ne,et,tt){var nt=tt(29),rt=tt(184);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[Ne.i,rt,""]]);var it={insert:"head",singleton:!1},ot=(nt(rt,it),rt.locals?rt.locals:{});Ne.exports=ot},function(Ne,et,tt){"use strict";et.a={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},function(Ne,et,tt){"use strict";var nt,rt,it,ot,at=tt(8),st=tt(7),ct=tt(16),pt=tt(17),dt=tt(157),ft=tt(65),mt=tt(158),yt=tt(159),vt=tt(161),Ot=tt(37),Dt=tt(13),Rt=tt(162),Bt=tt(36),rn=tt(76),vn=tt(11),bn=tt(167),Tn=tt(23),Cn=tt(104).set,In=tt(169),Ln=tt(170),Mn=tt(171),zn=tt(107),Fn=tt(172),Bn=tt(96),Nn=tt(100),Vn=tt(22),Wn=tt(173),$n=Vn("species"),Yn="Promise",er=Bn.get,rr=Bn.set,vr=Bn.getterFor(Yn),wr=dt,Sr=ct.TypeError,ii=ct.document,qi=ct.process,uo=pt("fetch"),po=zn.f,vo=po,So="process"==Bt(qi),ta=!!(ii&&ii.createEvent&&ct.dispatchEvent),na=Nn(Yn,(function(){if(!(rn(wr)!==String(wr))){if(66===Wn)return!0;if(!So&&"function"!=typeof PromiseRejectionEvent)return!0}if(st&&!wr.prototype.finally)return!0;if(Wn>=51&&/native code/.test(wr))return!1;var Ne=wr.resolve(1),FakePromise=function(Ne){Ne((function(){}),(function(){}))};return(Ne.constructor={})[$n]=FakePromise,!(Ne.then((function(){}))instanceof FakePromise)})),ia=na||!bn((function(Ne){wr.all(Ne).catch((function(){}))})),isThenable=function(Ne){var et;return!(!Ot(Ne)||"function"!=typeof(et=Ne.then))&&et},notify=function(Ne,et,tt){if(!et.notified){et.notified=!0;var nt=et.reactions;In((function(){for(var rt=et.value,it=1==et.state,ot=0;nt.length>ot;){var at,st,ct,pt=nt[ot++],dt=it?pt.ok:pt.fail,ft=pt.resolve,mt=pt.reject,yt=pt.domain;try{dt?(it||(2===et.rejection&&onHandleUnhandled(Ne,et),et.rejection=1),!0===dt?at=rt:(yt&&yt.enter(),at=dt(rt),yt&&(yt.exit(),ct=!0)),at===pt.promise?mt(Sr("Promise-chain cycle")):(st=isThenable(at))?st.call(at,ft,mt):ft(at)):mt(rt)}catch(Ne){yt&&!ct&&yt.exit(),mt(Ne)}}et.reactions=[],et.notified=!1,tt&&!et.rejection&&onUnhandled(Ne,et)}))}},dispatchEvent=function(Ne,et,tt){var nt,rt;ta?((nt=ii.createEvent("Event")).promise=et,nt.reason=tt,nt.initEvent(Ne,!1,!0),ct.dispatchEvent(nt)):nt={promise:et,reason:tt},(rt=ct["on"+Ne])?rt(nt):"unhandledrejection"===Ne&&Mn("Unhandled promise rejection",tt)},onUnhandled=function(Ne,et){Cn.call(ct,(function(){var tt,nt=et.value;if(isUnhandled(et)&&(tt=Fn((function(){So?qi.emit("unhandledRejection",nt,Ne):dispatchEvent("unhandledrejection",Ne,nt)})),et.rejection=So||isUnhandled(et)?2:1,tt.error))throw tt.value}))},isUnhandled=function(Ne){return 1!==Ne.rejection&&!Ne.parent},onHandleUnhandled=function(Ne,et){Cn.call(ct,(function(){So?qi.emit("rejectionHandled",Ne):dispatchEvent("rejectionhandled",Ne,et.value)}))},bind=function(Ne,et,tt,nt){return function(rt){Ne(et,tt,rt,nt)}},internalReject=function(Ne,et,tt,nt){et.done||(et.done=!0,nt&&(et=nt),et.value=tt,et.state=2,notify(Ne,et,!0))},internalResolve=function(Ne,et,tt,nt){if(!et.done){et.done=!0,nt&&(et=nt);try{if(Ne===tt)throw Sr("Promise can't be resolved itself");var rt=isThenable(tt);rt?In((function(){var nt={done:!1};try{rt.call(tt,bind(internalResolve,Ne,nt,et),bind(internalReject,Ne,nt,et))}catch(tt){internalReject(Ne,nt,tt,et)}})):(et.value=tt,et.state=1,notify(Ne,et,!1))}catch(tt){internalReject(Ne,{done:!1},tt,et)}}};na&&(wr=function Promise(Ne){Rt(this,wr,Yn),Dt(Ne),nt.call(this);var et=er(this);try{Ne(bind(internalResolve,this,et),bind(internalReject,this,et))}catch(Ne){internalReject(this,et,Ne)}},(nt=function Promise(Ne){rr(this,{type:Yn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=mt(wr.prototype,{then:function then(Ne,et){var tt=vr(this),nt=po(Tn(this,wr));return nt.ok="function"!=typeof Ne||Ne,nt.fail="function"==typeof et&&et,nt.domain=So?qi.domain:void 0,tt.parent=!0,tt.reactions.push(nt),0!=tt.state&&notify(this,tt,!1),nt.promise},catch:function(Ne){return this.then(void 0,Ne)}}),rt=function(){var Ne=new nt,et=er(Ne);this.promise=Ne,this.resolve=bind(internalResolve,Ne,et),this.reject=bind(internalReject,Ne,et)},zn.f=po=function(Ne){return Ne===wr||Ne===it?new rt(Ne):vo(Ne)},st||"function"!=typeof dt||(ot=dt.prototype.then,ft(dt.prototype,"then",(function then(Ne,et){var tt=this;return new wr((function(Ne,et){ot.call(tt,Ne,et)})).then(Ne,et)}),{unsafe:!0}),"function"==typeof uo&&at({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(Ne){return Ln(wr,uo.apply(ct,arguments))}}))),at({global:!0,wrap:!0,forced:na},{Promise:wr}),yt(wr,Yn,!1,!0),vt(Yn),it=pt(Yn),at({target:Yn,stat:!0,forced:na},{reject:function reject(Ne){var et=po(this);return et.reject.call(void 0,Ne),et.promise}}),at({target:Yn,stat:!0,forced:st||na},{resolve:function resolve(Ne){return Ln(st&&this===it?wr:this,Ne)}}),at({target:Yn,stat:!0,forced:ia},{all:function all(Ne){var et=this,tt=po(et),nt=tt.resolve,rt=tt.reject,it=Fn((function(){var tt=Dt(et.resolve),it=[],ot=0,at=1;vn(Ne,(function(Ne){var st=ot++,ct=!1;it.push(void 0),at++,tt.call(et,Ne).then((function(Ne){ct||(ct=!0,it[st]=Ne,--at||nt(it))}),rt)})),--at||nt(it)}));return it.error&&rt(it.value),tt.promise},race:function race(Ne){var et=this,tt=po(et),nt=tt.reject,rt=Fn((function(){var rt=Dt(et.resolve);vn(Ne,(function(Ne){rt.call(et,Ne).then(tt.resolve,nt)}))}));return rt.error&&nt(rt.value),tt.promise}})},function(Ne,et,tt){var nt=tt(42),rt=tt(144),it=tt(91),ot=tt(74),at=tt(92),st=tt(31),ct=tt(93),pt=Object.getOwnPropertyDescriptor;et.f=nt?pt:function getOwnPropertyDescriptor(Ne,et){if(Ne=ot(Ne),et=at(et,!0),ct)try{return pt(Ne,et)}catch(Ne){}if(st(Ne,et))return it(!rt.f.call(Ne,et),Ne[et])}},function(Ne,et,tt){var nt=tt(145),rt=tt(63);Ne.exports=function(Ne){return nt(rt(Ne))}},function(Ne,et,tt){var nt=tt(16),rt=tt(43);Ne.exports=function(Ne,et){try{rt(nt,Ne,et)}catch(tt){nt[Ne]=et}return et}},function(Ne,et,tt){var nt=tt(95),rt=Function.toString;"function"!=typeof nt.inspectSource&&(nt.inspectSource=function(Ne){return rt.call(Ne)}),Ne.exports=nt.inspectSource},function(Ne,et,tt){var nt=tt(66),rt=Math.min;Ne.exports=function(Ne){return Ne>0?rt(nt(Ne),9007199254740991):0}},function(Ne,et,tt){"use strict";var nt,rt,it=tt(177),ot=tt(178),at=RegExp.prototype.exec,st=String.prototype.replace,ct=at,pt=(nt=/a/,rt=/b*/g,at.call(nt,"a"),at.call(rt,"a"),0!==nt.lastIndex||0!==rt.lastIndex),dt=ot.UNSUPPORTED_Y||ot.BROKEN_CARET,ft=void 0!==/()??/.exec("")[1];(pt||ft||dt)&&(ct=function exec(Ne){var et,tt,nt,rt,ot=this,ct=dt&&ot.sticky,mt=it.call(ot),yt=ot.source,vt=0,Ot=Ne;return ct&&(-1===(mt=mt.replace("y","")).indexOf("g")&&(mt+="g"),Ot=String(Ne).slice(ot.lastIndex),ot.lastIndex>0&&(!ot.multiline||ot.multiline&&"\n"!==Ne[ot.lastIndex-1])&&(yt="(?: "+yt+")",Ot=" "+Ot,vt++),tt=new RegExp("^(?:"+yt+")",mt)),ft&&(tt=new RegExp("^"+yt+"$(?!\\s)",mt)),pt&&(et=ot.lastIndex),nt=at.call(ct?tt:ot,Ot),ct?nt?(nt.input=nt.input.slice(vt),nt[0]=nt[0].slice(vt),nt.index=ot.lastIndex,ot.lastIndex+=nt[0].length):ot.lastIndex=0:pt&&nt&&(ot.lastIndex=ot.global?nt.index+nt[0].length:et),ft&&nt&&nt.length>1&&st.call(nt[0],tt,(function(){for(rt=1;rt<arguments.length-2;rt++)void 0===arguments[rt]&&(nt[rt]=void 0)})),nt}),Ne.exports=ct},function(Ne,et,tt){var nt=tt(6),rt=tt(103);Ne.exports=function(Ne){var et=rt(Ne);if("function"!=typeof et)throw TypeError(String(Ne)+" is not iterable");return nt(et.call(Ne))}},function(Ne,et){Ne.exports=function _interopRequireDefault(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}},function(Ne,et,tt){"use strict";Object.defineProperty(et,"__esModule",{value:!0});var nt=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne},rt=function(){function defineProperties(Ne,et){for(var tt=0;tt<et.length;tt++){var nt=et[tt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(Ne,nt.key,nt)}}return function(Ne,et,tt){return et&&defineProperties(Ne.prototype,et),tt&&defineProperties(Ne,tt),Ne}}(),it=tt(0),ot=_interopRequireDefault(it),at=_interopRequireDefault(tt(4));function _interopRequireDefault(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}var st={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},ct=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],pt=function copyStyles(Ne,et){et.style.fontSize=Ne.fontSize,et.style.fontFamily=Ne.fontFamily,et.style.fontWeight=Ne.fontWeight,et.style.fontStyle=Ne.fontStyle,et.style.letterSpacing=Ne.letterSpacing,et.style.textTransform=Ne.textTransform},dt=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),ft=function generateId(){return dt?"_"+Math.random().toString(36).substr(2,12):void 0},mt=function(Ne){function AutosizeInput(Ne){!function _classCallCheck(Ne,et){if(!(Ne instanceof et))throw new TypeError("Cannot call a class as a function")}(this,AutosizeInput);var et=function _possibleConstructorReturn(Ne,et){if(!Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!et||"object"!=typeof et&&"function"!=typeof et?Ne:et}(this,(AutosizeInput.__proto__||Object.getPrototypeOf(AutosizeInput)).call(this,Ne));return et.inputRef=function(Ne){et.input=Ne,"function"==typeof et.props.inputRef&&et.props.inputRef(Ne)},et.placeHolderSizerRef=function(Ne){et.placeHolderSizer=Ne},et.sizerRef=function(Ne){et.sizer=Ne},et.state={inputWidth:Ne.minWidth,inputId:Ne.id||ft()},et}return function _inherits(Ne,et){if("function"!=typeof et&&null!==et)throw new TypeError("Super expression must either be null or a function, not "+typeof et);Ne.prototype=Object.create(et&&et.prototype,{constructor:{value:Ne,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(Ne,et):Ne.__proto__=et)}(AutosizeInput,Ne),rt(AutosizeInput,[{key:"componentDidMount",value:function componentDidMount(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(Ne){var et=Ne.id;et!==this.props.id&&this.setState({inputId:et||ft()})}},{key:"componentDidUpdate",value:function componentDidUpdate(Ne,et){et.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1}},{key:"copyInputStyles",value:function copyInputStyles(){if(this.mounted&&window.getComputedStyle){var Ne=this.input&&window.getComputedStyle(this.input);Ne&&(pt(Ne,this.sizer),this.placeHolderSizer&&pt(Ne,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function updateInputWidth(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var Ne=void 0;Ne=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(Ne+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(Ne=this.props.minWidth),Ne!==this.state.inputWidth&&this.setState({inputWidth:Ne})}}},{key:"getInput",value:function getInput(){return this.input}},{key:"focus",value:function focus(){this.input.focus()}},{key:"blur",value:function blur(){this.input.blur()}},{key:"select",value:function select(){this.input.select()}},{key:"renderStyles",value:function renderStyles(){var Ne=this.props.injectStyles;return dt&&Ne?ot.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function render(){var Ne=[this.props.defaultValue,this.props.value,""].reduce((function(Ne,et){return null!=Ne?Ne:et})),et=nt({},this.props.style);et.display||(et.display="inline-block");var tt=nt({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),rt=function _objectWithoutProperties(Ne,et){var tt={};for(var nt in Ne)et.indexOf(nt)>=0||Object.prototype.hasOwnProperty.call(Ne,nt)&&(tt[nt]=Ne[nt]);return tt}(this.props,[]);return function cleanInputProps(Ne){ct.forEach((function(et){return delete Ne[et]}))}(rt),rt.className=this.props.inputClassName,rt.id=this.state.inputId,rt.style=tt,ot.default.createElement("div",{className:this.props.className,style:et},this.renderStyles(),ot.default.createElement("input",nt({},rt,{ref:this.inputRef})),ot.default.createElement("div",{ref:this.sizerRef,style:st},Ne),this.props.placeholder?ot.default.createElement("div",{ref:this.placeHolderSizerRef,style:st},this.props.placeholder):null)}}]),AutosizeInput}(it.Component);mt.propTypes={className:at.default.string,defaultValue:at.default.any,extraWidth:at.default.oneOfType([at.default.number,at.default.string]),id:at.default.string,injectStyles:at.default.bool,inputClassName:at.default.string,inputRef:at.default.func,inputStyle:at.default.object,minWidth:at.default.oneOfType([at.default.number,at.default.string]),onAutosize:at.default.func,onChange:at.default.func,placeholder:at.default.string,placeholderIsMinWidth:at.default.bool,style:at.default.object,value:at.default.any},mt.defaultProps={minWidth:1,injectStyles:!0},et.default=mt},function(Ne,et,tt){var nt=tt(29),rt=tt(189);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[Ne.i,rt,""]]);var it={insert:"head",singleton:!1},ot=(nt(rt,it),rt.locals?rt.locals:{});Ne.exports=ot},function(Ne,et,tt){var nt=tt(29),rt=tt(139);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[Ne.i,rt,""]]);var it={insert:"head",singleton:!1},ot=(nt(rt,it),rt.locals?rt.locals:{});Ne.exports=ot},function(Ne,et,tt){"use strict";(function(Ne){var nt=tt(0),rt=tt.n(nt),it=tt(14),ot=tt(4),at=tt.n(ot),st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Ne?Ne:{};function createEventEmitter(Ne){var et=[];return{on:function on(Ne){et.push(Ne)},off:function off(Ne){et=et.filter((function(et){return et!==Ne}))},get:function get(){return Ne},set:function set(tt,nt){Ne=tt,et.forEach((function(et){return et(Ne,nt)}))}}}var ct=rt.a.createContext||function createReactContext(Ne,et){var tt,rt,ot="__create-react-context-"+function getUniqueId(){var Ne="__global_unique_id__";return st[Ne]=(st[Ne]||0)+1}()+"__",ct=function(Ne){function Provider(){var et;return(et=Ne.apply(this,arguments)||this).emitter=createEventEmitter(et.props.value),et}Object(it.a)(Provider,Ne);var tt=Provider.prototype;return tt.getChildContext=function getChildContext(){var Ne;return(Ne={})[ot]=this.emitter,Ne},tt.componentWillReceiveProps=function componentWillReceiveProps(Ne){if(this.props.value!==Ne.value){var tt,nt=this.props.value,rt=Ne.value;!function objectIs(Ne,et){return Ne===et?0!==Ne||1/Ne==1/et:Ne!=Ne&&et!=et}(nt,rt)?(tt="function"==typeof et?et(nt,rt):1073741823,0!==(tt|=0)&&this.emitter.set(Ne.value,tt)):tt=0}},tt.render=function render(){return this.props.children},Provider}(nt.Component);ct.childContextTypes=((tt={})[ot]=at.a.object.isRequired,tt);var pt=function(et){function Consumer(){var Ne;return(Ne=et.apply(this,arguments)||this).state={value:Ne.getValue()},Ne.onUpdate=function(et,tt){0!=((0|Ne.observedBits)&tt)&&Ne.setState({value:Ne.getValue()})},Ne}Object(it.a)(Consumer,et);var tt=Consumer.prototype;return tt.componentWillReceiveProps=function componentWillReceiveProps(Ne){var et=Ne.observedBits;this.observedBits=null==et?1073741823:et},tt.componentDidMount=function componentDidMount(){this.context[ot]&&this.context[ot].on(this.onUpdate);var Ne=this.props.observedBits;this.observedBits=null==Ne?1073741823:Ne},tt.componentWillUnmount=function componentWillUnmount(){this.context[ot]&&this.context[ot].off(this.onUpdate)},tt.getValue=function getValue(){return this.context[ot]?this.context[ot].get():Ne},tt.render=function render(){return function onlyChild(Ne){return Array.isArray(Ne)?Ne[0]:Ne}(this.props.children)(this.state.value)},Consumer}(nt.Component);return pt.contextTypes=((rt={})[ot]=at.a.object,rt),{Provider:ct,Consumer:pt}};et.a=ct}).call(this,tt(90))},function(Ne,et,tt){var nt=tt(142);Ne.exports=pathToRegexp,Ne.exports.parse=parse,Ne.exports.compile=function compile(Ne,et){return tokensToFunction(parse(Ne,et),et)},Ne.exports.tokensToFunction=tokensToFunction,Ne.exports.tokensToRegExp=tokensToRegExp;var rt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(Ne,et){for(var tt,nt=[],it=0,ot=0,at="",st=et&&et.delimiter||"/";null!=(tt=rt.exec(Ne));){var ct=tt[0],pt=tt[1],dt=tt.index;if(at+=Ne.slice(ot,dt),ot=dt+ct.length,pt)at+=pt[1];else{var ft=Ne[ot],mt=tt[2],yt=tt[3],vt=tt[4],Ot=tt[5],Dt=tt[6],Rt=tt[7];at&&(nt.push(at),at="");var Bt=null!=mt&&null!=ft&&ft!==mt,rn="+"===Dt||"*"===Dt,vn="?"===Dt||"*"===Dt,bn=tt[2]||st,Tn=vt||Ot;nt.push({name:yt||it++,prefix:mt||"",delimiter:bn,optional:vn,repeat:rn,partial:Bt,asterisk:!!Rt,pattern:Tn?escapeGroup(Tn):Rt?".*":"[^"+escapeString(bn)+"]+?"})}}return ot<Ne.length&&(at+=Ne.substr(ot)),at&&nt.push(at),nt}function encodeURIComponentPretty(Ne){return encodeURI(Ne).replace(/[\/?#]/g,(function(Ne){return"%"+Ne.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(Ne,et){for(var tt=new Array(Ne.length),rt=0;rt<Ne.length;rt++)"object"==typeof Ne[rt]&&(tt[rt]=new RegExp("^(?:"+Ne[rt].pattern+")$",flags(et)));return function(et,rt){for(var it="",ot=et||{},at=(rt||{}).pretty?encodeURIComponentPretty:encodeURIComponent,st=0;st<Ne.length;st++){var ct=Ne[st];if("string"!=typeof ct){var pt,dt=ot[ct.name];if(null==dt){if(ct.optional){ct.partial&&(it+=ct.prefix);continue}throw new TypeError('Expected "'+ct.name+'" to be defined')}if(nt(dt)){if(!ct.repeat)throw new TypeError('Expected "'+ct.name+'" to not repeat, but received `'+JSON.stringify(dt)+"`");if(0===dt.length){if(ct.optional)continue;throw new TypeError('Expected "'+ct.name+'" to not be empty')}for(var ft=0;ft<dt.length;ft++){if(pt=at(dt[ft]),!tt[st].test(pt))throw new TypeError('Expected all "'+ct.name+'" to match "'+ct.pattern+'", but received `'+JSON.stringify(pt)+"`");it+=(0===ft?ct.prefix:ct.delimiter)+pt}}else{if(pt=ct.asterisk?encodeURI(dt).replace(/[?#]/g,(function(Ne){return"%"+Ne.charCodeAt(0).toString(16).toUpperCase()})):at(dt),!tt[st].test(pt))throw new TypeError('Expected "'+ct.name+'" to match "'+ct.pattern+'", but received "'+pt+'"');it+=ct.prefix+pt}}else it+=ct}return it}}function escapeString(Ne){return Ne.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(Ne){return Ne.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(Ne,et){return Ne.keys=et,Ne}function flags(Ne){return Ne&&Ne.sensitive?"":"i"}function tokensToRegExp(Ne,et,tt){nt(et)||(tt=et||tt,et=[]);for(var rt=(tt=tt||{}).strict,it=!1!==tt.end,ot="",at=0;at<Ne.length;at++){var st=Ne[at];if("string"==typeof st)ot+=escapeString(st);else{var ct=escapeString(st.prefix),pt="(?:"+st.pattern+")";et.push(st),st.repeat&&(pt+="(?:"+ct+pt+")*"),ot+=pt=st.optional?st.partial?ct+"("+pt+")?":"(?:"+ct+"("+pt+"))?":ct+"("+pt+")"}}var dt=escapeString(tt.delimiter||"/"),ft=ot.slice(-dt.length)===dt;return rt||(ot=(ft?ot.slice(0,-dt.length):ot)+"(?:"+dt+"(?=$))?"),ot+=it?"$":rt&&ft?"":"(?="+dt+"|$)",attachKeys(new RegExp("^"+ot,flags(tt)),et)}function pathToRegexp(Ne,et,tt){return nt(et)||(tt=et||tt,et=[]),tt=tt||{},Ne instanceof RegExp?function regexpToRegexp(Ne,et){var tt=Ne.source.match(/\((?!\?)/g);if(tt)for(var nt=0;nt<tt.length;nt++)et.push({name:nt,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(Ne,et)}(Ne,et):nt(Ne)?function arrayToRegexp(Ne,et,tt){for(var nt=[],rt=0;rt<Ne.length;rt++)nt.push(pathToRegexp(Ne[rt],et,tt).source);return attachKeys(new RegExp("(?:"+nt.join("|")+")",flags(tt)),et)}(Ne,et,tt):function stringToRegexp(Ne,et,tt){return tokensToRegExp(parse(Ne,tt),et,tt)}(Ne,et,tt)}},function(Ne,et,tt){var nt=tt(29),rt=tt(190);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[Ne.i,rt,""]]);var it={insert:"head",singleton:!1},ot=(nt(rt,it),rt.locals?rt.locals:{});Ne.exports=ot},,,function(Ne,et,tt){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;function toObject(Ne){if(null==Ne)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Ne)}Ne.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var Ne=new String("abc");if(Ne[5]="de","5"===Object.getOwnPropertyNames(Ne)[0])return!1;for(var et={},tt=0;tt<10;tt++)et["_"+String.fromCharCode(tt)]=tt;if("0123456789"!==Object.getOwnPropertyNames(et).map((function(Ne){return et[Ne]})).join(""))return!1;var nt={};return"abcdefghijklmnopqrst".split("").forEach((function(Ne){nt[Ne]=Ne})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},nt)).join("")}catch(Ne){return!1}}()?Object.assign:function(Ne,et){for(var tt,ot,at=toObject(Ne),st=1;st<arguments.length;st++){for(var ct in tt=Object(arguments[st]))rt.call(tt,ct)&&(at[ct]=tt[ct]);if(nt){ot=nt(tt);for(var pt=0;pt<ot.length;pt++)it.call(tt,ot[pt])&&(at[ot[pt]]=tt[ot[pt]])}}return at}},function(Ne,et){var tt;tt=function(){return this}();try{tt=tt||new Function("return this")()}catch(Ne){"object"==typeof window&&(tt=window)}Ne.exports=tt},function(Ne,et){Ne.exports=function(Ne,et){return{enumerable:!(1&Ne),configurable:!(2&Ne),writable:!(4&Ne),value:et}}},function(Ne,et,tt){var nt=tt(37);Ne.exports=function(Ne,et){if(!nt(Ne))return Ne;var tt,rt;if(et&&"function"==typeof(tt=Ne.toString)&&!nt(rt=tt.call(Ne)))return rt;if("function"==typeof(tt=Ne.valueOf)&&!nt(rt=tt.call(Ne)))return rt;if(!et&&"function"==typeof(tt=Ne.toString)&&!nt(rt=tt.call(Ne)))return rt;throw TypeError("Can't convert object to primitive value")}},function(Ne,et,tt){var nt=tt(42),rt=tt(26),it=tt(94);Ne.exports=!nt&&!rt((function(){return 7!=Object.defineProperty(it("div"),"a",{get:function(){return 7}}).a}))},function(Ne,et,tt){var nt=tt(16),rt=tt(37),it=nt.document,ot=rt(it)&&rt(it.createElement);Ne.exports=function(Ne){return ot?it.createElement(Ne):{}}},function(Ne,et,tt){var nt=tt(16),rt=tt(75),it=nt["__core-js_shared__"]||rt("__core-js_shared__",{});Ne.exports=it},function(Ne,et,tt){var nt,rt,it,ot=tt(146),at=tt(16),st=tt(37),ct=tt(43),pt=tt(31),dt=tt(147),ft=tt(99),mt=at.WeakMap;if(ot){var yt=new mt,vt=yt.get,Ot=yt.has,Dt=yt.set;nt=function(Ne,et){return Dt.call(yt,Ne,et),et},rt=function(Ne){return vt.call(yt,Ne)||{}},it=function(Ne){return Ot.call(yt,Ne)}}else{var Rt=dt("state");ft[Rt]=!0,nt=function(Ne,et){return ct(Ne,Rt,et),et},rt=function(Ne){return pt(Ne,Rt)?Ne[Rt]:{}},it=function(Ne){return pt(Ne,Rt)}}Ne.exports={set:nt,get:rt,has:it,enforce:function(Ne){return it(Ne)?rt(Ne):nt(Ne,{})},getterFor:function(Ne){return function(et){var tt;if(!st(et)||(tt=rt(et)).type!==Ne)throw TypeError("Incompatible receiver, "+Ne+" required");return tt}}}},function(Ne,et,tt){var nt=tt(7),rt=tt(95);(Ne.exports=function(Ne,et){return rt[Ne]||(rt[Ne]=void 0!==et?et:{})})("versions",[]).push({version:"3.6.5",mode:nt?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(Ne,et){var tt=0,nt=Math.random();Ne.exports=function(Ne){return"Symbol("+String(void 0===Ne?"":Ne)+")_"+(++tt+nt).toString(36)}},function(Ne,et){Ne.exports={}},function(Ne,et,tt){var nt=tt(26),rt=/#|\.prototype\./,isForced=function(Ne,et){var tt=ot[it(Ne)];return tt==st||tt!=at&&("function"==typeof et?nt(et):!!et)},it=isForced.normalize=function(Ne){return String(Ne).replace(rt,".").toLowerCase()},ot=isForced.data={},at=isForced.NATIVE="N",st=isForced.POLYFILL="P";Ne.exports=isForced},function(Ne,et,tt){var nt=tt(26);Ne.exports=!!Object.getOwnPropertySymbols&&!nt((function(){return!String(Symbol())}))},function(Ne,et){Ne.exports={}},function(Ne,et,tt){var nt=tt(164),rt=tt(102),it=tt(22)("iterator");Ne.exports=function(Ne){if(null!=Ne)return Ne[it]||Ne["@@iterator"]||rt[nt(Ne)]}},function(Ne,et,tt){var nt,rt,it,ot=tt(16),at=tt(26),st=tt(36),ct=tt(19),pt=tt(168),dt=tt(94),ft=tt(105),mt=ot.location,yt=ot.setImmediate,vt=ot.clearImmediate,Ot=ot.process,Dt=ot.MessageChannel,Rt=ot.Dispatch,Bt=0,rn={},run=function(Ne){if(rn.hasOwnProperty(Ne)){var et=rn[Ne];delete rn[Ne],et()}},runner=function(Ne){return function(){run(Ne)}},listener=function(Ne){run(Ne.data)},post=function(Ne){ot.postMessage(Ne+"",mt.protocol+"//"+mt.host)};yt&&vt||(yt=function setImmediate(Ne){for(var et=[],tt=1;arguments.length>tt;)et.push(arguments[tt++]);return rn[++Bt]=function(){("function"==typeof Ne?Ne:Function(Ne)).apply(void 0,et)},nt(Bt),Bt},vt=function clearImmediate(Ne){delete rn[Ne]},"process"==st(Ot)?nt=function(Ne){Ot.nextTick(runner(Ne))}:Rt&&Rt.now?nt=function(Ne){Rt.now(runner(Ne))}:Dt&&!ft?(it=(rt=new Dt).port2,rt.port1.onmessage=listener,nt=ct(it.postMessage,it,1)):!ot.addEventListener||"function"!=typeof postMessage||ot.importScripts||at(post)||"file:"===mt.protocol?nt="onreadystatechange"in dt("script")?function(Ne){pt.appendChild(dt("script")).onreadystatechange=function(){pt.removeChild(this),run(Ne)}}:function(Ne){setTimeout(runner(Ne),0)}:(nt=post,ot.addEventListener("message",listener,!1))),Ne.exports={set:yt,clear:vt}},function(Ne,et,tt){var nt=tt(106);Ne.exports=/(iphone|ipod|ipad).*applewebkit/i.test(nt)},function(Ne,et,tt){var nt=tt(17);Ne.exports=nt("navigator","userAgent")||""},function(Ne,et,tt){"use strict";var nt=tt(13),PromiseCapability=function(Ne){var et,tt;this.promise=new Ne((function(Ne,nt){if(void 0!==et||void 0!==tt)throw TypeError("Bad Promise constructor");et=Ne,tt=nt})),this.resolve=nt(et),this.reject=nt(tt)};Ne.exports.f=function(Ne){return new PromiseCapability(Ne)}},function(Ne,et,tt){"use strict";var nt=tt(6),rt=tt(13);Ne.exports=function(){for(var Ne,et=nt(this),tt=rt(et.delete),it=!0,ot=0,at=arguments.length;ot<at;ot++)Ne=tt.call(et,arguments[ot]),it=it&&Ne;return!!it}},function(Ne,et,tt){"use strict";var nt=tt(1),rt=tt(2),it=tt(0),ot=(tt(4),tt(3)),at=tt(5),st=tt(12),ct=it.forwardRef((function SvgIcon(Ne,et){var tt=Ne.children,at=Ne.classes,ct=Ne.className,pt=Ne.color,dt=void 0===pt?"inherit":pt,ft=Ne.component,mt=void 0===ft?"svg":ft,yt=Ne.fontSize,vt=void 0===yt?"default":yt,Ot=Ne.htmlColor,Dt=Ne.titleAccess,Rt=Ne.viewBox,Bt=void 0===Rt?"0 0 24 24":Rt,rn=Object(rt.a)(Ne,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return it.createElement(mt,Object(nt.a)({className:Object(ot.a)(at.root,ct,"inherit"!==dt&&at["color".concat(Object(st.a)(dt))],"default"!==vt&&at["fontSize".concat(Object(st.a)(vt))]),focusable:"false",viewBox:Bt,color:Ot,"aria-hidden":!Dt||void 0,role:Dt?"img":void 0,ref:et},rn),tt,Dt?it.createElement("title",null,Dt):null)}));ct.muiName="SvgIcon",et.a=Object(at.a)((function styles(Ne){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:Ne.typography.pxToRem(24),transition:Ne.transitions.create("fill",{duration:Ne.transitions.duration.shorter})},colorPrimary:{color:Ne.palette.primary.main},colorSecondary:{color:Ne.palette.secondary.main},colorAction:{color:Ne.palette.action.active},colorError:{color:Ne.palette.error.main},colorDisabled:{color:Ne.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:Ne.typography.pxToRem(20)},fontSizeLarge:{fontSize:Ne.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(ct)},function(Ne,et,tt){"use strict";var nt=tt(80);Object.defineProperty(et,"__esModule",{value:!0}),et.default=function createSvgIcon(Ne,et){var tt=it.default.memo(it.default.forwardRef((function(et,tt){return it.default.createElement(ot.default,(0,rt.default)({ref:tt},et),Ne)})));0;return tt.muiName=ot.default.muiName,tt};var rt=nt(tt(186)),it=nt(tt(0)),ot=nt(tt(111))},function(Ne,et,tt){"use strict";tt.r(et);var nt=tt(109);tt.d(et,"default",(function(){return nt.a}))},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(108);nt({target:"Map",proto:!0,real:!0,forced:rt},{deleteAll:function deleteAll(){return it.apply(this,arguments)}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(19),at=tt(24),st=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{every:function every(Ne){var et=it(this),tt=at(et),nt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return!st(tt,(function(Ne,tt){if(!nt(tt,Ne,et))return st.stop()}),void 0,!0,!0).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(19),ct=tt(23),pt=tt(24),dt=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{filter:function filter(Ne){var et=ot(this),tt=pt(et),nt=st(Ne,arguments.length>1?arguments[1]:void 0,3),rt=new(ct(et,it("Map"))),ft=at(rt.set);return dt(tt,(function(Ne,tt){nt(tt,Ne,et)&&ft.call(rt,Ne,tt)}),void 0,!0,!0),rt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(19),at=tt(24),st=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{find:function find(Ne){var et=it(this),tt=at(et),nt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt){if(nt(tt,Ne,et))return st.stop(tt)}),void 0,!0,!0).result}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(19),at=tt(24),st=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{findKey:function findKey(Ne){var et=it(this),tt=at(et),nt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt){if(nt(tt,Ne,et))return st.stop(Ne)}),void 0,!0,!0).result}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(24),at=tt(187),st=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{includes:function includes(Ne){return st(ot(it(this)),(function(et,tt){if(at(tt,Ne))return st.stop()}),void 0,!0,!0).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(24),at=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{keyOf:function keyOf(Ne){return at(ot(it(this)),(function(et,tt){if(tt===Ne)return at.stop(et)}),void 0,!0,!0).result}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(19),ct=tt(23),pt=tt(24),dt=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{mapKeys:function mapKeys(Ne){var et=ot(this),tt=pt(et),nt=st(Ne,arguments.length>1?arguments[1]:void 0,3),rt=new(ct(et,it("Map"))),ft=at(rt.set);return dt(tt,(function(Ne,tt){ft.call(rt,nt(tt,Ne,et),tt)}),void 0,!0,!0),rt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(17),ot=tt(6),at=tt(13),st=tt(19),ct=tt(23),pt=tt(24),dt=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{mapValues:function mapValues(Ne){var et=ot(this),tt=pt(et),nt=st(Ne,arguments.length>1?arguments[1]:void 0,3),rt=new(ct(et,it("Map"))),ft=at(rt.set);return dt(tt,(function(Ne,tt){ft.call(rt,Ne,nt(tt,Ne,et))}),void 0,!0,!0),rt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(13),at=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{merge:function merge(Ne){for(var et=it(this),tt=ot(et.set),nt=0;nt<arguments.length;)at(arguments[nt++],tt,et,!0);return et}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(13),at=tt(24),st=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{reduce:function reduce(Ne){var et=it(this),tt=at(et),nt=arguments.length<2,rt=nt?void 0:arguments[1];if(ot(Ne),st(tt,(function(tt,it){nt?(nt=!1,rt=it):rt=Ne(rt,it,tt,et)}),void 0,!0,!0),nt)throw TypeError("Reduce of empty map with no initial value");return rt}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(19),at=tt(24),st=tt(11);nt({target:"Map",proto:!0,real:!0,forced:rt},{some:function some(Ne){var et=it(this),tt=at(et),nt=ot(Ne,arguments.length>1?arguments[1]:void 0,3);return st(tt,(function(Ne,tt){if(nt(tt,Ne,et))return st.stop()}),void 0,!0,!0).stopped}})},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(7),it=tt(6),ot=tt(13);nt({target:"Map",proto:!0,real:!0,forced:rt},{update:function update(Ne,et){var tt=it(this),nt=arguments.length;ot(et);var rt=tt.has(Ne);if(!rt&&nt<3)throw TypeError("Updating absent value");var at=rt?tt.get(Ne):ot(nt>2?arguments[2]:void 0)(Ne,tt);return tt.set(Ne,et(at,Ne,tt)),tt}})},function(Ne,et,tt){"use strict";var nt=tt(80);Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var rt=nt(tt(0)),it=(0,nt(tt(110)).default)(rt.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");et.default=it},function(Ne,et,tt){"use strict";var nt=tt(80);Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var rt=nt(tt(0)),it=(0,nt(tt(110)).default)(rt.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");et.default=it},function(Ne,et){Ne.exports=function _inheritsLoose(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}},function(Ne,et,tt){"use strict";function formatMuiErrorMessage(Ne){for(var et="https://material-ui.com/production-error/?code="+Ne,tt=1;tt<arguments.length;tt+=1)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified Material-UI error #"+Ne+"; visit "+et+" for the full message."}tt.d(et,"a",(function(){return formatMuiErrorMessage}))},,,,function(Ne,et,tt){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=tt(89),rt="function"==typeof Symbol&&Symbol.for,it=rt?Symbol.for("react.element"):60103,ot=rt?Symbol.for("react.portal"):60106,at=rt?Symbol.for("react.fragment"):60107,st=rt?Symbol.for("react.strict_mode"):60108,ct=rt?Symbol.for("react.profiler"):60114,pt=rt?Symbol.for("react.provider"):60109,dt=rt?Symbol.for("react.context"):60110,ft=rt?Symbol.for("react.forward_ref"):60112,mt=rt?Symbol.for("react.suspense"):60113,yt=rt?Symbol.for("react.memo"):60115,vt=rt?Symbol.for("react.lazy"):60116,Ot="function"==typeof Symbol&&Symbol.iterator;function C(Ne){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+Ne,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+Ne+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rt={};function F(Ne,et,tt){this.props=Ne,this.context=et,this.refs=Rt,this.updater=tt||Dt}function G(){}function H(Ne,et,tt){this.props=Ne,this.context=et,this.refs=Rt,this.updater=tt||Dt}F.prototype.isReactComponent={},F.prototype.setState=function(Ne,et){if("object"!=typeof Ne&&"function"!=typeof Ne&&null!=Ne)throw Error(C(85));this.updater.enqueueSetState(this,Ne,et,"setState")},F.prototype.forceUpdate=function(Ne){this.updater.enqueueForceUpdate(this,Ne,"forceUpdate")},G.prototype=F.prototype;var Bt=H.prototype=new G;Bt.constructor=H,nt(Bt,F.prototype),Bt.isPureReactComponent=!0;var rn={current:null},vn=Object.prototype.hasOwnProperty,bn={key:!0,ref:!0,__self:!0,__source:!0};function M(Ne,et,tt){var nt,rt={},ot=null,at=null;if(null!=et)for(nt in void 0!==et.ref&&(at=et.ref),void 0!==et.key&&(ot=""+et.key),et)vn.call(et,nt)&&!bn.hasOwnProperty(nt)&&(rt[nt]=et[nt]);var st=arguments.length-2;if(1===st)rt.children=tt;else if(1<st){for(var ct=Array(st),pt=0;pt<st;pt++)ct[pt]=arguments[pt+2];rt.children=ct}if(Ne&&Ne.defaultProps)for(nt in st=Ne.defaultProps)void 0===rt[nt]&&(rt[nt]=st[nt]);return{$$typeof:it,type:Ne,key:ot,ref:at,props:rt,_owner:rn.current}}function O(Ne){return"object"==typeof Ne&&null!==Ne&&Ne.$$typeof===it}var Tn=/\/+/g,Cn=[];function R(Ne,et,tt,nt){if(Cn.length){var rt=Cn.pop();return rt.result=Ne,rt.keyPrefix=et,rt.func=tt,rt.context=nt,rt.count=0,rt}return{result:Ne,keyPrefix:et,func:tt,context:nt,count:0}}function S(Ne){Ne.result=null,Ne.keyPrefix=null,Ne.func=null,Ne.context=null,Ne.count=0,10>Cn.length&&Cn.push(Ne)}function V(Ne,et,tt){return null==Ne?0:function T(Ne,et,tt,nt){var rt=typeof Ne;"undefined"!==rt&&"boolean"!==rt||(Ne=null);var at=!1;if(null===Ne)at=!0;else switch(rt){case"string":case"number":at=!0;break;case"object":switch(Ne.$$typeof){case it:case ot:at=!0}}if(at)return tt(nt,Ne,""===et?"."+U(Ne,0):et),1;if(at=0,et=""===et?".":et+":",Array.isArray(Ne))for(var st=0;st<Ne.length;st++){var ct=et+U(rt=Ne[st],st);at+=T(rt,ct,tt,nt)}else if(null===Ne||"object"!=typeof Ne?ct=null:ct="function"==typeof(ct=Ot&&Ne[Ot]||Ne["@@iterator"])?ct:null,"function"==typeof ct)for(Ne=ct.call(Ne),st=0;!(rt=Ne.next()).done;)at+=T(rt=rt.value,ct=et+U(rt,st++),tt,nt);else if("object"===rt)throw tt=""+Ne,Error(C(31,"[object Object]"===tt?"object with keys {"+Object.keys(Ne).join(", ")+"}":tt,""));return at}(Ne,"",et,tt)}function U(Ne,et){return"object"==typeof Ne&&null!==Ne&&null!=Ne.key?function escape(Ne){var et={"=":"=0",":":"=2"};return"$"+(""+Ne).replace(/[=:]/g,(function(Ne){return et[Ne]}))}(Ne.key):et.toString(36)}function W(Ne,et){Ne.func.call(Ne.context,et,Ne.count++)}function aa(Ne,et,tt){var nt=Ne.result,rt=Ne.keyPrefix;Ne=Ne.func.call(Ne.context,et,Ne.count++),Array.isArray(Ne)?X(Ne,nt,tt,(function(Ne){return Ne})):null!=Ne&&(O(Ne)&&(Ne=function N(Ne,et){return{$$typeof:it,type:Ne.type,key:et,ref:Ne.ref,props:Ne.props,_owner:Ne._owner}}(Ne,rt+(!Ne.key||et&&et.key===Ne.key?"":(""+Ne.key).replace(Tn,"$&/")+"/")+tt)),nt.push(Ne))}function X(Ne,et,tt,nt,rt){var it="";null!=tt&&(it=(""+tt).replace(Tn,"$&/")+"/"),V(Ne,aa,et=R(et,it,nt,rt)),S(et)}var In={current:null};function Z(){var Ne=In.current;if(null===Ne)throw Error(C(321));return Ne}var Ln={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:rn,IsSomeRendererActing:{current:!1},assign:nt};et.Children={map:function(Ne,et,tt){if(null==Ne)return Ne;var nt=[];return X(Ne,nt,null,et,tt),nt},forEach:function(Ne,et,tt){if(null==Ne)return Ne;V(Ne,W,et=R(null,null,et,tt)),S(et)},count:function(Ne){return V(Ne,(function(){return null}),null)},toArray:function(Ne){var et=[];return X(Ne,et,null,(function(Ne){return Ne})),et},only:function(Ne){if(!O(Ne))throw Error(C(143));return Ne}},et.Component=F,et.Fragment=at,et.Profiler=ct,et.PureComponent=H,et.StrictMode=st,et.Suspense=mt,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ln,et.cloneElement=function(Ne,et,tt){if(null==Ne)throw Error(C(267,Ne));var rt=nt({},Ne.props),ot=Ne.key,at=Ne.ref,st=Ne._owner;if(null!=et){if(void 0!==et.ref&&(at=et.ref,st=rn.current),void 0!==et.key&&(ot=""+et.key),Ne.type&&Ne.type.defaultProps)var ct=Ne.type.defaultProps;for(pt in et)vn.call(et,pt)&&!bn.hasOwnProperty(pt)&&(rt[pt]=void 0===et[pt]&&void 0!==ct?ct[pt]:et[pt])}var pt=arguments.length-2;if(1===pt)rt.children=tt;else if(1<pt){ct=Array(pt);for(var dt=0;dt<pt;dt++)ct[dt]=arguments[dt+2];rt.children=ct}return{$$typeof:it,type:Ne.type,key:ot,ref:at,props:rt,_owner:st}},et.createContext=function(Ne,et){return void 0===et&&(et=null),(Ne={$$typeof:dt,_calculateChangedBits:et,_currentValue:Ne,_currentValue2:Ne,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:pt,_context:Ne},Ne.Consumer=Ne},et.createElement=M,et.createFactory=function(Ne){var et=M.bind(null,Ne);return et.type=Ne,et},et.createRef=function(){return{current:null}},et.forwardRef=function(Ne){return{$$typeof:ft,render:Ne}},et.isValidElement=O,et.lazy=function(Ne){return{$$typeof:vt,_ctor:Ne,_status:-1,_result:null}},et.memo=function(Ne,et){return{$$typeof:yt,type:Ne,compare:void 0===et?null:et}},et.useCallback=function(Ne,et){return Z().useCallback(Ne,et)},et.useContext=function(Ne,et){return Z().useContext(Ne,et)},et.useDebugValue=function(){},et.useEffect=function(Ne,et){return Z().useEffect(Ne,et)},et.useImperativeHandle=function(Ne,et,tt){return Z().useImperativeHandle(Ne,et,tt)},et.useLayoutEffect=function(Ne,et){return Z().useLayoutEffect(Ne,et)},et.useMemo=function(Ne,et){return Z().useMemo(Ne,et)},et.useReducer=function(Ne,et,tt){return Z().useReducer(Ne,et,tt)},et.useRef=function(Ne){return Z().useRef(Ne)},et.useState=function(Ne){return Z().useState(Ne)},et.version="16.13.1"},function(Ne,et,tt){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=tt(0),rt=tt(89),it=tt(134);function u(Ne){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+Ne,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+Ne+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!nt)throw Error(u(227));function ba(Ne,et,tt,nt,rt,it,ot,at,st){var ct=Array.prototype.slice.call(arguments,3);try{et.apply(tt,ct)}catch(Ne){this.onError(Ne)}}var ot=!1,at=null,st=!1,ct=null,pt={onError:function(Ne){ot=!0,at=Ne}};function ja(Ne,et,tt,nt,rt,it,st,ct,dt){ot=!1,at=null,ba.apply(pt,arguments)}var dt=null,ft=null,mt=null;function oa(Ne,et,tt){var nt=Ne.type||"unknown-event";Ne.currentTarget=mt(tt),function ka(Ne,et,tt,nt,rt,it,pt,dt,ft){if(ja.apply(this,arguments),ot){if(!ot)throw Error(u(198));var mt=at;ot=!1,at=null,st||(st=!0,ct=mt)}}(nt,et,void 0,Ne),Ne.currentTarget=null}var yt=null,vt={};function ra(){if(yt)for(var Ne in vt){var et=vt[Ne],tt=yt.indexOf(Ne);if(!(-1<tt))throw Error(u(96,Ne));if(!Ot[tt]){if(!et.extractEvents)throw Error(u(97,Ne));for(var nt in Ot[tt]=et,tt=et.eventTypes){var rt=void 0,it=tt[nt],ot=et,at=nt;if(Dt.hasOwnProperty(at))throw Error(u(99,at));Dt[at]=it;var st=it.phasedRegistrationNames;if(st){for(rt in st)st.hasOwnProperty(rt)&&ua(st[rt],ot,at);rt=!0}else it.registrationName?(ua(it.registrationName,ot,at),rt=!0):rt=!1;if(!rt)throw Error(u(98,nt,Ne))}}}}function ua(Ne,et,tt){if(Rt[Ne])throw Error(u(100,Ne));Rt[Ne]=et,Bt[Ne]=et.eventTypes[tt].dependencies}var Ot=[],Dt={},Rt={},Bt={};function xa(Ne){var et,tt=!1;for(et in Ne)if(Ne.hasOwnProperty(et)){var nt=Ne[et];if(!vt.hasOwnProperty(et)||vt[et]!==nt){if(vt[et])throw Error(u(102,et));vt[et]=nt,tt=!0}}tt&&ra()}var rn=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),vn=null,bn=null,Tn=null;function Ca(Ne){if(Ne=ft(Ne)){if("function"!=typeof vn)throw Error(u(280));var et=Ne.stateNode;et&&(et=dt(et),vn(Ne.stateNode,Ne.type,et))}}function Da(Ne){bn?Tn?Tn.push(Ne):Tn=[Ne]:bn=Ne}function Ea(){if(bn){var Ne=bn,et=Tn;if(Tn=bn=null,Ca(Ne),et)for(Ne=0;Ne<et.length;Ne++)Ca(et[Ne])}}function Fa(Ne,et){return Ne(et)}function Ga(Ne,et,tt,nt,rt){return Ne(et,tt,nt,rt)}function Ha(){}var Cn=Fa,In=!1,Ln=!1;function La(){null===bn&&null===Tn||(Ha(),Ea())}function Ma(Ne,et,tt){if(Ln)return Ne(et,tt);Ln=!0;try{return Cn(Ne,et,tt)}finally{Ln=!1,La()}}var Mn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zn=Object.prototype.hasOwnProperty,Fn={},Bn={};function v(Ne,et,tt,nt,rt,it){this.acceptsBooleans=2===et||3===et||4===et,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=tt,this.propertyName=Ne,this.type=et,this.sanitizeURL=it}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(Ne){Nn[Ne]=new v(Ne,0,!1,Ne,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(Ne){var et=Ne[0];Nn[et]=new v(et,1,!1,Ne[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(Ne){Nn[Ne]=new v(Ne,2,!1,Ne.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(Ne){Nn[Ne]=new v(Ne,2,!1,Ne,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(Ne){Nn[Ne]=new v(Ne,3,!1,Ne.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(Ne){Nn[Ne]=new v(Ne,3,!0,Ne,null,!1)})),["capture","download"].forEach((function(Ne){Nn[Ne]=new v(Ne,4,!1,Ne,null,!1)})),["cols","rows","size","span"].forEach((function(Ne){Nn[Ne]=new v(Ne,6,!1,Ne,null,!1)})),["rowSpan","start"].forEach((function(Ne){Nn[Ne]=new v(Ne,5,!1,Ne.toLowerCase(),null,!1)}));var Vn=/[\-:]([a-z])/g;function Va(Ne){return Ne[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(Ne){var et=Ne.replace(Vn,Va);Nn[et]=new v(et,1,!1,Ne,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(Ne){var et=Ne.replace(Vn,Va);Nn[et]=new v(et,1,!1,Ne,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(Ne){var et=Ne.replace(Vn,Va);Nn[et]=new v(et,1,!1,Ne,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(Ne){Nn[Ne]=new v(Ne,1,!1,Ne.toLowerCase(),null,!1)})),Nn.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(Ne){Nn[Ne]=new v(Ne,1,!1,Ne.toLowerCase(),null,!0)}));var Wn=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Xa(Ne,et,tt,nt){var rt=Nn.hasOwnProperty(et)?Nn[et]:null;(null!==rt?0===rt.type:!nt&&(2<et.length&&("o"===et[0]||"O"===et[0])&&("n"===et[1]||"N"===et[1])))||(function Ta(Ne,et,tt,nt){if(null==et||function Sa(Ne,et,tt,nt){if(null!==tt&&0===tt.type)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return!nt&&(null!==tt?!tt.acceptsBooleans:"data-"!==(Ne=Ne.toLowerCase().slice(0,5))&&"aria-"!==Ne);default:return!1}}(Ne,et,tt,nt))return!0;if(nt)return!1;if(null!==tt)switch(tt.type){case 3:return!et;case 4:return!1===et;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}(et,tt,rt,nt)&&(tt=null),nt||null===rt?function Ra(Ne){return!!zn.call(Bn,Ne)||!zn.call(Fn,Ne)&&(Mn.test(Ne)?Bn[Ne]=!0:(Fn[Ne]=!0,!1))}(et)&&(null===tt?Ne.removeAttribute(et):Ne.setAttribute(et,""+tt)):rt.mustUseProperty?Ne[rt.propertyName]=null===tt?3!==rt.type&&"":tt:(et=rt.attributeName,nt=rt.attributeNamespace,null===tt?Ne.removeAttribute(et):(tt=3===(rt=rt.type)||4===rt&&!0===tt?"":""+tt,nt?Ne.setAttributeNS(nt,et,tt):Ne.setAttribute(et,tt))))}Wn.hasOwnProperty("ReactCurrentDispatcher")||(Wn.ReactCurrentDispatcher={current:null}),Wn.hasOwnProperty("ReactCurrentBatchConfig")||(Wn.ReactCurrentBatchConfig={suspense:null});var $n=/^(.*)[\\\/]/,Yn="function"==typeof Symbol&&Symbol.for,er=Yn?Symbol.for("react.element"):60103,rr=Yn?Symbol.for("react.portal"):60106,vr=Yn?Symbol.for("react.fragment"):60107,wr=Yn?Symbol.for("react.strict_mode"):60108,Sr=Yn?Symbol.for("react.profiler"):60114,ii=Yn?Symbol.for("react.provider"):60109,qi=Yn?Symbol.for("react.context"):60110,uo=Yn?Symbol.for("react.concurrent_mode"):60111,po=Yn?Symbol.for("react.forward_ref"):60112,vo=Yn?Symbol.for("react.suspense"):60113,So=Yn?Symbol.for("react.suspense_list"):60120,ta=Yn?Symbol.for("react.memo"):60115,na=Yn?Symbol.for("react.lazy"):60116,ia=Yn?Symbol.for("react.block"):60121,sa="function"==typeof Symbol&&Symbol.iterator;function nb(Ne){return null===Ne||"object"!=typeof Ne?null:"function"==typeof(Ne=sa&&Ne[sa]||Ne["@@iterator"])?Ne:null}function pb(Ne){if(null==Ne)return null;if("function"==typeof Ne)return Ne.displayName||Ne.name||null;if("string"==typeof Ne)return Ne;switch(Ne){case vr:return"Fragment";case rr:return"Portal";case Sr:return"Profiler";case wr:return"StrictMode";case vo:return"Suspense";case So:return"SuspenseList"}if("object"==typeof Ne)switch(Ne.$$typeof){case qi:return"Context.Consumer";case ii:return"Context.Provider";case po:var et=Ne.render;return et=et.displayName||et.name||"",Ne.displayName||(""!==et?"ForwardRef("+et+")":"ForwardRef");case ta:return pb(Ne.type);case ia:return pb(Ne.render);case na:if(Ne=1===Ne._status?Ne._result:null)return pb(Ne)}return null}function qb(Ne){var et="";do{e:switch(Ne.tag){case 3:case 4:case 6:case 7:case 10:case 9:var tt="";break e;default:var nt=Ne._debugOwner,rt=Ne._debugSource,it=pb(Ne.type);tt=null,nt&&(tt=pb(nt.type)),nt=it,it="",rt?it=" (at "+rt.fileName.replace($n,"")+":"+rt.lineNumber+")":tt&&(it=" (created by "+tt+")"),tt="\n    in "+(nt||"Unknown")+it}et+=tt,Ne=Ne.return}while(Ne);return et}function rb(Ne){switch(typeof Ne){case"boolean":case"number":case"object":case"string":case"undefined":return Ne;default:return""}}function sb(Ne){var et=Ne.type;return(Ne=Ne.nodeName)&&"input"===Ne.toLowerCase()&&("checkbox"===et||"radio"===et)}function xb(Ne){Ne._valueTracker||(Ne._valueTracker=function tb(Ne){var et=sb(Ne)?"checked":"value",tt=Object.getOwnPropertyDescriptor(Ne.constructor.prototype,et),nt=""+Ne[et];if(!Ne.hasOwnProperty(et)&&void 0!==tt&&"function"==typeof tt.get&&"function"==typeof tt.set){var rt=tt.get,it=tt.set;return Object.defineProperty(Ne,et,{configurable:!0,get:function(){return rt.call(this)},set:function(Ne){nt=""+Ne,it.call(this,Ne)}}),Object.defineProperty(Ne,et,{enumerable:tt.enumerable}),{getValue:function(){return nt},setValue:function(Ne){nt=""+Ne},stopTracking:function(){Ne._valueTracker=null,delete Ne[et]}}}}(Ne))}function yb(Ne){if(!Ne)return!1;var et=Ne._valueTracker;if(!et)return!0;var tt=et.getValue(),nt="";return Ne&&(nt=sb(Ne)?Ne.checked?"true":"false":Ne.value),(Ne=nt)!==tt&&(et.setValue(Ne),!0)}function zb(Ne,et){var tt=et.checked;return rt({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=tt?tt:Ne._wrapperState.initialChecked})}function Ab(Ne,et){var tt=null==et.defaultValue?"":et.defaultValue,nt=null!=et.checked?et.checked:et.defaultChecked;tt=rb(null!=et.value?et.value:tt),Ne._wrapperState={initialChecked:nt,initialValue:tt,controlled:"checkbox"===et.type||"radio"===et.type?null!=et.checked:null!=et.value}}function Bb(Ne,et){null!=(et=et.checked)&&Xa(Ne,"checked",et,!1)}function Cb(Ne,et){Bb(Ne,et);var tt=rb(et.value),nt=et.type;if(null!=tt)"number"===nt?(0===tt&&""===Ne.value||Ne.value!=tt)&&(Ne.value=""+tt):Ne.value!==""+tt&&(Ne.value=""+tt);else if("submit"===nt||"reset"===nt)return void Ne.removeAttribute("value");et.hasOwnProperty("value")?Db(Ne,et.type,tt):et.hasOwnProperty("defaultValue")&&Db(Ne,et.type,rb(et.defaultValue)),null==et.checked&&null!=et.defaultChecked&&(Ne.defaultChecked=!!et.defaultChecked)}function Eb(Ne,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var nt=et.type;if(!("submit"!==nt&&"reset"!==nt||void 0!==et.value&&null!==et.value))return;et=""+Ne._wrapperState.initialValue,tt||et===Ne.value||(Ne.value=et),Ne.defaultValue=et}""!==(tt=Ne.name)&&(Ne.name=""),Ne.defaultChecked=!!Ne._wrapperState.initialChecked,""!==tt&&(Ne.name=tt)}function Db(Ne,et,tt){"number"===et&&Ne.ownerDocument.activeElement===Ne||(null==tt?Ne.defaultValue=""+Ne._wrapperState.initialValue:Ne.defaultValue!==""+tt&&(Ne.defaultValue=""+tt))}function Gb(Ne,et){return Ne=rt({children:void 0},et),(et=function Fb(Ne){var et="";return nt.Children.forEach(Ne,(function(Ne){null!=Ne&&(et+=Ne)})),et}(et.children))&&(Ne.children=et),Ne}function Hb(Ne,et,tt,nt){if(Ne=Ne.options,et){et={};for(var rt=0;rt<tt.length;rt++)et["$"+tt[rt]]=!0;for(tt=0;tt<Ne.length;tt++)rt=et.hasOwnProperty("$"+Ne[tt].value),Ne[tt].selected!==rt&&(Ne[tt].selected=rt),rt&&nt&&(Ne[tt].defaultSelected=!0)}else{for(tt=""+rb(tt),et=null,rt=0;rt<Ne.length;rt++){if(Ne[rt].value===tt)return Ne[rt].selected=!0,void(nt&&(Ne[rt].defaultSelected=!0));null!==et||Ne[rt].disabled||(et=Ne[rt])}null!==et&&(et.selected=!0)}}function Ib(Ne,et){if(null!=et.dangerouslySetInnerHTML)throw Error(u(91));return rt({},et,{value:void 0,defaultValue:void 0,children:""+Ne._wrapperState.initialValue})}function Jb(Ne,et){var tt=et.value;if(null==tt){if(tt=et.children,et=et.defaultValue,null!=tt){if(null!=et)throw Error(u(92));if(Array.isArray(tt)){if(!(1>=tt.length))throw Error(u(93));tt=tt[0]}et=tt}null==et&&(et=""),tt=et}Ne._wrapperState={initialValue:rb(tt)}}function Kb(Ne,et){var tt=rb(et.value),nt=rb(et.defaultValue);null!=tt&&((tt=""+tt)!==Ne.value&&(Ne.value=tt),null==et.defaultValue&&Ne.defaultValue!==tt&&(Ne.defaultValue=tt)),null!=nt&&(Ne.defaultValue=""+nt)}function Lb(Ne){var et=Ne.textContent;et===Ne._wrapperState.initialValue&&""!==et&&null!==et&&(Ne.value=et)}var la="http://www.w3.org/1999/xhtml",pa="http://www.w3.org/2000/svg";function Nb(Ne){switch(Ne){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ob(Ne,et){return null==Ne||"http://www.w3.org/1999/xhtml"===Ne?Nb(et):"http://www.w3.org/2000/svg"===Ne&&"foreignObject"===et?"http://www.w3.org/1999/xhtml":Ne}var fa,ga=function(Ne){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(et,tt,nt,rt){MSApp.execUnsafeLocalFunction((function(){return Ne(et,tt)}))}:Ne}((function(Ne,et){if(Ne.namespaceURI!==pa||"innerHTML"in Ne)Ne.innerHTML=et;else{for((fa=fa||document.createElement("div")).innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=fa.firstChild;Ne.firstChild;)Ne.removeChild(Ne.firstChild);for(;et.firstChild;)Ne.appendChild(et.firstChild)}}));function Rb(Ne,et){if(et){var tt=Ne.firstChild;if(tt&&tt===Ne.lastChild&&3===tt.nodeType)return void(tt.nodeValue=et)}Ne.textContent=et}function Sb(Ne,et){var tt={};return tt[Ne.toLowerCase()]=et.toLowerCase(),tt["Webkit"+Ne]="webkit"+et,tt["Moz"+Ne]="moz"+et,tt}var va={animationend:Sb("Animation","AnimationEnd"),animationiteration:Sb("Animation","AnimationIteration"),animationstart:Sb("Animation","AnimationStart"),transitionend:Sb("Transition","TransitionEnd")},_a={},wa={};function Wb(Ne){if(_a[Ne])return _a[Ne];if(!va[Ne])return Ne;var et,tt=va[Ne];for(et in tt)if(tt.hasOwnProperty(et)&&et in wa)return _a[Ne]=tt[et];return Ne}rn&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);var Aa=Wb("animationend"),os=Wb("animationiteration"),as=Wb("animationstart"),ss=Wb("transitionend"),ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),us=new("function"==typeof WeakMap?WeakMap:Map);function cc(Ne){var et=us.get(Ne);return void 0===et&&(et=new Map,us.set(Ne,et)),et}function dc(Ne){var et=Ne,tt=Ne;if(Ne.alternate)for(;et.return;)et=et.return;else{Ne=et;do{0!=(1026&(et=Ne).effectTag)&&(tt=et.return),Ne=et.return}while(Ne)}return 3===et.tag?tt:null}function ec(Ne){if(13===Ne.tag){var et=Ne.memoizedState;if(null===et&&(null!==(Ne=Ne.alternate)&&(et=Ne.memoizedState)),null!==et)return et.dehydrated}return null}function fc(Ne){if(dc(Ne)!==Ne)throw Error(u(188))}function hc(Ne){if(!(Ne=function gc(Ne){var et=Ne.alternate;if(!et){if(null===(et=dc(Ne)))throw Error(u(188));return et!==Ne?null:Ne}for(var tt=Ne,nt=et;;){var rt=tt.return;if(null===rt)break;var it=rt.alternate;if(null===it){if(null!==(nt=rt.return)){tt=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===tt)return fc(rt),Ne;if(it===nt)return fc(rt),et;it=it.sibling}throw Error(u(188))}if(tt.return!==nt.return)tt=rt,nt=it;else{for(var ot=!1,at=rt.child;at;){if(at===tt){ot=!0,tt=rt,nt=it;break}if(at===nt){ot=!0,nt=rt,tt=it;break}at=at.sibling}if(!ot){for(at=it.child;at;){if(at===tt){ot=!0,tt=it,nt=rt;break}if(at===nt){ot=!0,nt=it,tt=rt;break}at=at.sibling}if(!ot)throw Error(u(189))}}if(tt.alternate!==nt)throw Error(u(190))}if(3!==tt.tag)throw Error(u(188));return tt.stateNode.current===tt?Ne:et}(Ne)))return null;for(var et=Ne;;){if(5===et.tag||6===et.tag)return et;if(et.child)et.child.return=et,et=et.child;else{if(et===Ne)break;for(;!et.sibling;){if(!et.return||et.return===Ne)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}}return null}function ic(Ne,et){if(null==et)throw Error(u(30));return null==Ne?et:Array.isArray(Ne)?Array.isArray(et)?(Ne.push.apply(Ne,et),Ne):(Ne.push(et),Ne):Array.isArray(et)?[Ne].concat(et):[Ne,et]}function jc(Ne,et,tt){Array.isArray(Ne)?Ne.forEach(et,tt):Ne&&et.call(tt,Ne)}var fs=null;function lc(Ne){if(Ne){var et=Ne._dispatchListeners,tt=Ne._dispatchInstances;if(Array.isArray(et))for(var nt=0;nt<et.length&&!Ne.isPropagationStopped();nt++)oa(Ne,et[nt],tt[nt]);else et&&oa(Ne,et,tt);Ne._dispatchListeners=null,Ne._dispatchInstances=null,Ne.isPersistent()||Ne.constructor.release(Ne)}}function mc(Ne){if(null!==Ne&&(fs=ic(fs,Ne)),Ne=fs,fs=null,Ne){if(jc(Ne,lc),fs)throw Error(u(95));if(st)throw Ne=ct,st=!1,ct=null,Ne}}function nc(Ne){return(Ne=Ne.target||Ne.srcElement||window).correspondingUseElement&&(Ne=Ne.correspondingUseElement),3===Ne.nodeType?Ne.parentNode:Ne}function oc(Ne){if(!rn)return!1;var et=(Ne="on"+Ne)in document;return et||((et=document.createElement("div")).setAttribute(Ne,"return;"),et="function"==typeof et[Ne]),et}var gs=[];function qc(Ne){Ne.topLevelType=null,Ne.nativeEvent=null,Ne.targetInst=null,Ne.ancestors.length=0,10>gs.length&&gs.push(Ne)}function rc(Ne,et,tt,nt){if(gs.length){var rt=gs.pop();return rt.topLevelType=Ne,rt.eventSystemFlags=nt,rt.nativeEvent=et,rt.targetInst=tt,rt}return{topLevelType:Ne,eventSystemFlags:nt,nativeEvent:et,targetInst:tt,ancestors:[]}}function sc(Ne){var et=Ne.targetInst,tt=et;do{if(!tt){Ne.ancestors.push(tt);break}var nt=tt;if(3===nt.tag)nt=nt.stateNode.containerInfo;else{for(;nt.return;)nt=nt.return;nt=3!==nt.tag?null:nt.stateNode.containerInfo}if(!nt)break;5!==(et=tt.tag)&&6!==et||Ne.ancestors.push(tt),tt=tc(nt)}while(tt);for(tt=0;tt<Ne.ancestors.length;tt++){et=Ne.ancestors[tt];var rt=nc(Ne.nativeEvent);nt=Ne.topLevelType;var it=Ne.nativeEvent,ot=Ne.eventSystemFlags;0===tt&&(ot|=64);for(var at=null,st=0;st<Ot.length;st++){var ct=Ot[st];ct&&(ct=ct.extractEvents(nt,et,it,rt,ot))&&(at=ic(at,ct))}mc(at)}}function uc(Ne,et,tt){if(!tt.has(Ne)){switch(Ne){case"scroll":vc(et,"scroll",!0);break;case"focus":case"blur":vc(et,"focus",!0),vc(et,"blur",!0),tt.set("blur",null),tt.set("focus",null);break;case"cancel":case"close":oc(Ne)&&vc(et,Ne,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ls.indexOf(Ne)&&F(Ne,et)}tt.set(Ne,null)}}var vs,xs,Ss,Es=!1,Cs=[],Ps=null,As=null,Ls=null,Ms=new Map,Os=new Map,zs=[],Rs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Fs="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Kc(Ne,et,tt,nt,rt){return{blockedOn:Ne,topLevelType:et,eventSystemFlags:32|tt,nativeEvent:rt,container:nt}}function Lc(Ne,et){switch(Ne){case"focus":case"blur":Ps=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Ms.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(et.pointerId)}}function Mc(Ne,et,tt,nt,rt,it){return null===Ne||Ne.nativeEvent!==it?(Ne=Kc(et,tt,nt,rt,it),null!==et&&(null!==(et=Nc(et))&&xs(et)),Ne):(Ne.eventSystemFlags|=nt,Ne)}function Pc(Ne){var et=tc(Ne.target);if(null!==et){var tt=dc(et);if(null!==tt)if(13===(et=tt.tag)){if(null!==(et=ec(tt)))return Ne.blockedOn=et,void it.unstable_runWithPriority(Ne.priority,(function(){Ss(tt)}))}else if(3===et&&tt.stateNode.hydrate)return void(Ne.blockedOn=3===tt.tag?tt.stateNode.containerInfo:null)}Ne.blockedOn=null}function Qc(Ne){if(null!==Ne.blockedOn)return!1;var et=Rc(Ne.topLevelType,Ne.eventSystemFlags,Ne.container,Ne.nativeEvent);if(null!==et){var tt=Nc(et);return null!==tt&&xs(tt),Ne.blockedOn=et,!1}return!0}function Sc(Ne,et,tt){Qc(Ne)&&tt.delete(et)}function Tc(){for(Es=!1;0<Cs.length;){var Ne=Cs[0];if(null!==Ne.blockedOn){null!==(Ne=Nc(Ne.blockedOn))&&vs(Ne);break}var et=Rc(Ne.topLevelType,Ne.eventSystemFlags,Ne.container,Ne.nativeEvent);null!==et?Ne.blockedOn=et:Cs.shift()}null!==Ps&&Qc(Ps)&&(Ps=null),null!==As&&Qc(As)&&(As=null),null!==Ls&&Qc(Ls)&&(Ls=null),Ms.forEach(Sc),Os.forEach(Sc)}function Uc(Ne,et){Ne.blockedOn===et&&(Ne.blockedOn=null,Es||(Es=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Tc)))}function Vc(Ne){function b(et){return Uc(et,Ne)}if(0<Cs.length){Uc(Cs[0],Ne);for(var et=1;et<Cs.length;et++){var tt=Cs[et];tt.blockedOn===Ne&&(tt.blockedOn=null)}}for(null!==Ps&&Uc(Ps,Ne),null!==As&&Uc(As,Ne),null!==Ls&&Uc(Ls,Ne),Ms.forEach(b),Os.forEach(b),et=0;et<zs.length;et++)(tt=zs[et]).blockedOn===Ne&&(tt.blockedOn=null);for(;0<zs.length&&null===(et=zs[0]).blockedOn;)Pc(et),null===et.blockedOn&&zs.shift()}var Bs={},js=new Map,Ns=new Map,Vs=["abort","abort",Aa,"animationEnd",os,"animationIteration",as,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ss,"transitionEnd","waiting","waiting"];function ad(Ne,et){for(var tt=0;tt<Ne.length;tt+=2){var nt=Ne[tt],rt=Ne[tt+1],it="on"+(rt[0].toUpperCase()+rt.slice(1));it={phasedRegistrationNames:{bubbled:it,captured:it+"Capture"},dependencies:[nt],eventPriority:et},Ns.set(nt,et),js.set(nt,it),Bs[rt]=it}}ad("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ad("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ad(Vs,2);for(var Us="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Zs=0;Zs<Us.length;Zs++)Ns.set(Us[Zs],0);var Js=it.unstable_UserBlockingPriority,tl=it.unstable_runWithPriority,ol=!0;function F(Ne,et){vc(et,Ne,!1)}function vc(Ne,et,tt){var nt=Ns.get(et);switch(void 0===nt?2:nt){case 0:nt=gd.bind(null,et,1,Ne);break;case 1:nt=hd.bind(null,et,1,Ne);break;default:nt=id.bind(null,et,1,Ne)}tt?Ne.addEventListener(et,nt,!0):Ne.addEventListener(et,nt,!1)}function gd(Ne,et,tt,nt){In||Ha();var rt=id,it=In;In=!0;try{Ga(rt,Ne,et,tt,nt)}finally{(In=it)||La()}}function hd(Ne,et,tt,nt){tl(Js,id.bind(null,Ne,et,tt,nt))}function id(Ne,et,tt,nt){if(ol)if(0<Cs.length&&-1<Rs.indexOf(Ne))Ne=Kc(null,Ne,et,tt,nt),Cs.push(Ne);else{var rt=Rc(Ne,et,tt,nt);if(null===rt)Lc(Ne,nt);else if(-1<Rs.indexOf(Ne))Ne=Kc(rt,Ne,et,tt,nt),Cs.push(Ne);else if(!function Oc(Ne,et,tt,nt,rt){switch(et){case"focus":return Ps=Mc(Ps,Ne,et,tt,nt,rt),!0;case"dragenter":return As=Mc(As,Ne,et,tt,nt,rt),!0;case"mouseover":return Ls=Mc(Ls,Ne,et,tt,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Ms.set(it,Mc(Ms.get(it)||null,Ne,et,tt,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Os.set(it,Mc(Os.get(it)||null,Ne,et,tt,nt,rt)),!0}return!1}(rt,Ne,et,tt,nt)){Lc(Ne,nt),Ne=rc(Ne,nt,null,et);try{Ma(sc,Ne)}finally{qc(Ne)}}}}function Rc(Ne,et,tt,nt){if(null!==(tt=tc(tt=nc(nt)))){var rt=dc(tt);if(null===rt)tt=null;else{var it=rt.tag;if(13===it){if(null!==(tt=ec(rt)))return tt;tt=null}else if(3===it){if(rt.stateNode.hydrate)return 3===rt.tag?rt.stateNode.containerInfo:null;tt=null}else rt!==tt&&(tt=null)}}Ne=rc(Ne,nt,tt,et);try{Ma(sc,Ne)}finally{qc(Ne)}return null}var sl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dl=["Webkit","ms","Moz","O"];function ld(Ne,et,tt){return null==et||"boolean"==typeof et||""===et?"":tt||"number"!=typeof et||0===et||sl.hasOwnProperty(Ne)&&sl[Ne]?(""+et).trim():et+"px"}function md(Ne,et){for(var tt in Ne=Ne.style,et)if(et.hasOwnProperty(tt)){var nt=0===tt.indexOf("--"),rt=ld(tt,et[tt],nt);"float"===tt&&(tt="cssFloat"),nt?Ne.setProperty(tt,rt):Ne[tt]=rt}}Object.keys(sl).forEach((function(Ne){dl.forEach((function(et){et=et+Ne.charAt(0).toUpperCase()+Ne.substring(1),sl[et]=sl[Ne]}))}));var gl=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(Ne,et){if(et){if(gl[Ne]&&(null!=et.children||null!=et.dangerouslySetInnerHTML))throw Error(u(137,Ne,""));if(null!=et.dangerouslySetInnerHTML){if(null!=et.children)throw Error(u(60));if("object"!=typeof et.dangerouslySetInnerHTML||!("__html"in et.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=et.style&&"object"!=typeof et.style)throw Error(u(62,""))}}function pd(Ne,et){if(-1===Ne.indexOf("-"))return"string"==typeof et.is;switch(Ne){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=la;function rd(Ne,et){var tt=cc(Ne=9===Ne.nodeType||11===Ne.nodeType?Ne:Ne.ownerDocument);et=Bt[et];for(var nt=0;nt<et.length;nt++)uc(et[nt],Ne,tt)}function sd(){}function td(Ne){if(void 0===(Ne=Ne||("undefined"!=typeof document?document:void 0)))return null;try{return Ne.activeElement||Ne.body}catch(et){return Ne.body}}function ud(Ne){for(;Ne&&Ne.firstChild;)Ne=Ne.firstChild;return Ne}function vd(Ne,et){var tt,nt=ud(Ne);for(Ne=0;nt;){if(3===nt.nodeType){if(tt=Ne+nt.textContent.length,Ne<=et&&tt>=et)return{node:nt,offset:et-Ne};Ne=tt}e:{for(;nt;){if(nt.nextSibling){nt=nt.nextSibling;break e}nt=nt.parentNode}nt=void 0}nt=ud(nt)}}function xd(){for(var Ne=window,et=td();et instanceof Ne.HTMLIFrameElement;){try{var tt="string"==typeof et.contentWindow.location.href}catch(Ne){tt=!1}if(!tt)break;et=td((Ne=et.contentWindow).document)}return et}function yd(Ne){var et=Ne&&Ne.nodeName&&Ne.nodeName.toLowerCase();return et&&("input"===et&&("text"===Ne.type||"search"===Ne.type||"tel"===Ne.type||"url"===Ne.type||"password"===Ne.type)||"textarea"===et||"true"===Ne.contentEditable)}var vl=null,_l=null;function Fd(Ne,et){switch(Ne){case"button":case"input":case"select":case"textarea":return!!et.autoFocus}return!1}function Gd(Ne,et){return"textarea"===Ne||"option"===Ne||"noscript"===Ne||"string"==typeof et.children||"number"==typeof et.children||"object"==typeof et.dangerouslySetInnerHTML&&null!==et.dangerouslySetInnerHTML&&null!=et.dangerouslySetInnerHTML.__html}var bl="function"==typeof setTimeout?setTimeout:void 0,xl="function"==typeof clearTimeout?clearTimeout:void 0;function Jd(Ne){for(;null!=Ne;Ne=Ne.nextSibling){var et=Ne.nodeType;if(1===et||3===et)break}return Ne}function Kd(Ne){Ne=Ne.previousSibling;for(var et=0;Ne;){if(8===Ne.nodeType){var tt=Ne.data;if("$"===tt||"$!"===tt||"$?"===tt){if(0===et)return Ne;et--}else"/$"===tt&&et++}Ne=Ne.previousSibling}return null}var wl=Math.random().toString(36).slice(2),Sl="__reactInternalInstance$"+wl,Cl="__reactEventHandlers$"+wl,kl="__reactContainere$"+wl;function tc(Ne){var et=Ne[Sl];if(et)return et;for(var tt=Ne.parentNode;tt;){if(et=tt[kl]||tt[Sl]){if(tt=et.alternate,null!==et.child||null!==tt&&null!==tt.child)for(Ne=Kd(Ne);null!==Ne;){if(tt=Ne[Sl])return tt;Ne=Kd(Ne)}return et}tt=(Ne=tt).parentNode}return null}function Nc(Ne){return!(Ne=Ne[Sl]||Ne[kl])||5!==Ne.tag&&6!==Ne.tag&&13!==Ne.tag&&3!==Ne.tag?null:Ne}function Pd(Ne){if(5===Ne.tag||6===Ne.tag)return Ne.stateNode;throw Error(u(33))}function Qd(Ne){return Ne[Cl]||null}function Rd(Ne){do{Ne=Ne.return}while(Ne&&5!==Ne.tag);return Ne||null}function Sd(Ne,et){var tt=Ne.stateNode;if(!tt)return null;var nt=dt(tt);if(!nt)return null;tt=nt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(nt=!("button"===(Ne=Ne.type)||"input"===Ne||"select"===Ne||"textarea"===Ne)),Ne=!nt;break e;default:Ne=!1}if(Ne)return null;if(tt&&"function"!=typeof tt)throw Error(u(231,et,typeof tt));return tt}function Td(Ne,et,tt){(et=Sd(Ne,tt.dispatchConfig.phasedRegistrationNames[et]))&&(tt._dispatchListeners=ic(tt._dispatchListeners,et),tt._dispatchInstances=ic(tt._dispatchInstances,Ne))}function Ud(Ne){if(Ne&&Ne.dispatchConfig.phasedRegistrationNames){for(var et=Ne._targetInst,tt=[];et;)tt.push(et),et=Rd(et);for(et=tt.length;0<et--;)Td(tt[et],"captured",Ne);for(et=0;et<tt.length;et++)Td(tt[et],"bubbled",Ne)}}function Vd(Ne,et,tt){Ne&&tt&&tt.dispatchConfig.registrationName&&(et=Sd(Ne,tt.dispatchConfig.registrationName))&&(tt._dispatchListeners=ic(tt._dispatchListeners,et),tt._dispatchInstances=ic(tt._dispatchInstances,Ne))}function Wd(Ne){Ne&&Ne.dispatchConfig.registrationName&&Vd(Ne._targetInst,null,Ne)}function Xd(Ne){jc(Ne,Ud)}var Il=null,Al=null,zl=null;function ae(){if(zl)return zl;var Ne,et,tt=Al,nt=tt.length,rt="value"in Il?Il.value:Il.textContent,it=rt.length;for(Ne=0;Ne<nt&&tt[Ne]===rt[Ne];Ne++);var ot=nt-Ne;for(et=1;et<=ot&&tt[nt-et]===rt[it-et];et++);return zl=rt.slice(Ne,1<et?1-et:void 0)}function be(){return!0}function ce(){return!1}function G(Ne,et,tt,nt){for(var rt in this.dispatchConfig=Ne,this._targetInst=et,this.nativeEvent=tt,Ne=this.constructor.Interface)Ne.hasOwnProperty(rt)&&((et=Ne[rt])?this[rt]=et(tt):"target"===rt?this.target=nt:this[rt]=tt[rt]);return this.isDefaultPrevented=(null!=tt.defaultPrevented?tt.defaultPrevented:!1===tt.returnValue)?be:ce,this.isPropagationStopped=ce,this}function ee(Ne,et,tt,nt){if(this.eventPool.length){var rt=this.eventPool.pop();return this.call(rt,Ne,et,tt,nt),rt}return new this(Ne,et,tt,nt)}function fe(Ne){if(!(Ne instanceof this))throw Error(u(279));Ne.destructor(),10>this.eventPool.length&&this.eventPool.push(Ne)}function de(Ne){Ne.eventPool=[],Ne.getPooled=ee,Ne.release=fe}rt(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ne=this.nativeEvent;Ne&&(Ne.preventDefault?Ne.preventDefault():"unknown"!=typeof Ne.returnValue&&(Ne.returnValue=!1),this.isDefaultPrevented=be)},stopPropagation:function(){var Ne=this.nativeEvent;Ne&&(Ne.stopPropagation?Ne.stopPropagation():"unknown"!=typeof Ne.cancelBubble&&(Ne.cancelBubble=!0),this.isPropagationStopped=be)},persist:function(){this.isPersistent=be},isPersistent:ce,destructor:function(){var Ne,et=this.constructor.Interface;for(Ne in et)this[Ne]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),G.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(Ne){return Ne.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},G.extend=function(Ne){function b(){}function c(){return et.apply(this,arguments)}var et=this;b.prototype=et.prototype;var tt=new b;return rt(tt,c.prototype),c.prototype=tt,c.prototype.constructor=c,c.Interface=rt({},et.Interface,Ne),c.extend=et.extend,de(c),c},de(G);var Fl=G.extend({data:null}),Hl=G.extend({data:null}),du=[9,13,27,32],vu=rn&&"CompositionEvent"in window,_u=null;rn&&"documentMode"in document&&(_u=document.documentMode);var wu=rn&&"TextEvent"in window&&!_u,Tu=rn&&(!vu||_u&&8<_u&&11>=_u),Fu=String.fromCharCode(32),ac={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},pc=!1;function qe(Ne,et){switch(Ne){case"keyup":return-1!==du.indexOf(et.keyCode);case"keydown":return 229!==et.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function re(Ne){return"object"==typeof(Ne=Ne.detail)&&"data"in Ne?Ne.data:null}var yc=!1;var _c={eventTypes:ac,extractEvents:function(Ne,et,tt,nt){var rt;if(vu)e:{switch(Ne){case"compositionstart":var it=ac.compositionStart;break e;case"compositionend":it=ac.compositionEnd;break e;case"compositionupdate":it=ac.compositionUpdate;break e}it=void 0}else yc?qe(Ne,tt)&&(it=ac.compositionEnd):"keydown"===Ne&&229===tt.keyCode&&(it=ac.compositionStart);return it?(Tu&&"ko"!==tt.locale&&(yc||it!==ac.compositionStart?it===ac.compositionEnd&&yc&&(rt=ae()):(Al="value"in(Il=nt)?Il.value:Il.textContent,yc=!0)),it=Fl.getPooled(it,et,tt,nt),rt?it.data=rt:null!==(rt=re(tt))&&(it.data=rt),Xd(it),rt=it):rt=null,(Ne=wu?function te(Ne,et){switch(Ne){case"compositionend":return re(et);case"keypress":return 32!==et.which?null:(pc=!0,Fu);case"textInput":return(Ne=et.data)===Fu&&pc?null:Ne;default:return null}}(Ne,tt):function ue(Ne,et){if(yc)return"compositionend"===Ne||!vu&&qe(Ne,et)?(Ne=ae(),zl=Al=Il=null,yc=!1,Ne):null;switch(Ne){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return Tu&&"ko"!==et.locale?null:et.data;default:return null}}(Ne,tt))?((et=Hl.getPooled(ac.beforeInput,et,tt,nt)).data=Ne,Xd(et)):et=null,null===rt?et:null===et?rt:[rt,et]}},bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(Ne){var et=Ne&&Ne.nodeName&&Ne.nodeName.toLowerCase();return"input"===et?!!bc[Ne.type]:"textarea"===et}var xc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ze(Ne,et,tt){return(Ne=G.getPooled(xc.change,Ne,et,tt)).type="change",Da(tt),Xd(Ne),Ne}var wc=null,Ec=null;function Ce(Ne){mc(Ne)}function De(Ne){if(yb(Pd(Ne)))return Ne}function Ee(Ne,et){if("change"===Ne)return et}var Cc=!1;function Ge(){wc&&(wc.detachEvent("onpropertychange",He),Ec=wc=null)}function He(Ne){if("value"===Ne.propertyName&&De(Ec))if(Ne=ze(Ec,Ne,nc(Ne)),In)mc(Ne);else{In=!0;try{Fa(Ce,Ne)}finally{In=!1,La()}}}function Ie(Ne,et,tt){"focus"===Ne?(Ge(),Ec=tt,(wc=et).attachEvent("onpropertychange",He)):"blur"===Ne&&Ge()}function Je(Ne){if("selectionchange"===Ne||"keyup"===Ne||"keydown"===Ne)return De(Ec)}function Ke(Ne,et){if("click"===Ne)return De(et)}function Le(Ne,et){if("input"===Ne||"change"===Ne)return De(et)}rn&&(Cc=oc("input")&&(!document.documentMode||9<document.documentMode));var kc={eventTypes:xc,_isInputEventSupported:Cc,extractEvents:function(Ne,et,tt,nt){var rt=et?Pd(et):window,it=rt.nodeName&&rt.nodeName.toLowerCase();if("select"===it||"input"===it&&"file"===rt.type)var ot=Ee;else if(xe(rt))if(Cc)ot=Le;else{ot=Je;var at=Ie}else(it=rt.nodeName)&&"input"===it.toLowerCase()&&("checkbox"===rt.type||"radio"===rt.type)&&(ot=Ke);if(ot&&(ot=ot(Ne,et)))return ze(ot,tt,nt);at&&at(Ne,rt,et),"blur"===Ne&&(Ne=rt._wrapperState)&&Ne.controlled&&"number"===rt.type&&Db(rt,"number",rt.value)}},Ic=G.extend({view:null,detail:null}),Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(Ne){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(Ne):!!(Ne=Ac[Ne])&&!!et[Ne]}function Qe(){return Pe}var zc=0,Dc=0,Fc=!1,Bc=!1,Zc=Ic.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:function(Ne){return Ne.relatedTarget||(Ne.fromElement===Ne.srcElement?Ne.toElement:Ne.fromElement)},movementX:function(Ne){if("movementX"in Ne)return Ne.movementX;var et=zc;return zc=Ne.screenX,Fc?"mousemove"===Ne.type?Ne.screenX-et:0:(Fc=!0,0)},movementY:function(Ne){if("movementY"in Ne)return Ne.movementY;var et=Dc;return Dc=Ne.screenY,Bc?"mousemove"===Ne.type?Ne.screenY-et:0:(Bc=!0,0)}}),Wc=Zc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Hc={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Gc={eventTypes:Hc,extractEvents:function(Ne,et,tt,nt,rt){var it="mouseover"===Ne||"pointerover"===Ne,ot="mouseout"===Ne||"pointerout"===Ne;if(it&&0==(32&rt)&&(tt.relatedTarget||tt.fromElement)||!ot&&!it)return null;(it=nt.window===nt?nt:(it=nt.ownerDocument)?it.defaultView||it.parentWindow:window,ot)?(ot=et,null!==(et=(et=tt.relatedTarget||tt.toElement)?tc(et):null)&&(et!==dc(et)||5!==et.tag&&6!==et.tag)&&(et=null)):ot=null;if(ot===et)return null;if("mouseout"===Ne||"mouseover"===Ne)var at=Zc,st=Hc.mouseLeave,ct=Hc.mouseEnter,pt="mouse";else"pointerout"!==Ne&&"pointerover"!==Ne||(at=Wc,st=Hc.pointerLeave,ct=Hc.pointerEnter,pt="pointer");if(Ne=null==ot?it:Pd(ot),it=null==et?it:Pd(et),(st=at.getPooled(st,ot,tt,nt)).type=pt+"leave",st.target=Ne,st.relatedTarget=it,(tt=at.getPooled(ct,et,tt,nt)).type=pt+"enter",tt.target=it,tt.relatedTarget=Ne,pt=et,(nt=ot)&&pt)e:{for(ct=pt,ot=0,Ne=at=nt;Ne;Ne=Rd(Ne))ot++;for(Ne=0,et=ct;et;et=Rd(et))Ne++;for(;0<ot-Ne;)at=Rd(at),ot--;for(;0<Ne-ot;)ct=Rd(ct),Ne--;for(;ot--;){if(at===ct||at===ct.alternate)break e;at=Rd(at),ct=Rd(ct)}at=null}else at=null;for(ct=at,at=[];nt&&nt!==ct&&(null===(ot=nt.alternate)||ot!==ct);)at.push(nt),nt=Rd(nt);for(nt=[];pt&&pt!==ct&&(null===(ot=pt.alternate)||ot!==ct);)nt.push(pt),pt=Rd(pt);for(pt=0;pt<at.length;pt++)Vd(at[pt],"bubbled",st);for(pt=nt.length;0<pt--;)Vd(nt[pt],"captured",tt);return 0==(64&rt)?[st]:[st,tt]}};var Xc="function"==typeof Object.is?Object.is:function Ze(Ne,et){return Ne===et&&(0!==Ne||1/Ne==1/et)||Ne!=Ne&&et!=et},$c=Object.prototype.hasOwnProperty;function bf(Ne,et){if(Xc(Ne,et))return!0;if("object"!=typeof Ne||null===Ne||"object"!=typeof et||null===et)return!1;var tt=Object.keys(Ne),nt=Object.keys(et);if(tt.length!==nt.length)return!1;for(nt=0;nt<tt.length;nt++)if(!$c.call(et,tt[nt])||!Xc(Ne[tt[nt]],et[tt[nt]]))return!1;return!0}var Yc=rn&&"documentMode"in document&&11>=document.documentMode,rp={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ip=null,op=null,ap=null,sp=!1;function jf(Ne,et){var tt=et.window===et?et.document:9===et.nodeType?et:et.ownerDocument;return sp||null==ip||ip!==td(tt)?null:("selectionStart"in(tt=ip)&&yd(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:tt={anchorNode:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset},ap&&bf(ap,tt)?null:(ap=tt,(Ne=G.getPooled(rp.select,op,Ne,et)).type="select",Ne.target=ip,Xd(Ne),Ne))}var lp={eventTypes:rp,extractEvents:function(Ne,et,tt,nt,rt,it){if(!(it=!(rt=it||(nt.window===nt?nt.document:9===nt.nodeType?nt:nt.ownerDocument)))){e:{rt=cc(rt),it=Bt.onSelect;for(var ot=0;ot<it.length;ot++)if(!rt.has(it[ot])){rt=!1;break e}rt=!0}it=!rt}if(it)return null;switch(rt=et?Pd(et):window,Ne){case"focus":(xe(rt)||"true"===rt.contentEditable)&&(ip=rt,op=et,ap=null);break;case"blur":ap=op=ip=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":return sp=!1,jf(tt,nt);case"selectionchange":if(Yc)break;case"keydown":case"keyup":return jf(tt,nt)}return null}},cp=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),pp=G.extend({clipboardData:function(Ne){return"clipboardData"in Ne?Ne.clipboardData:window.clipboardData}}),hp=Ic.extend({relatedTarget:null});function of(Ne){var et=Ne.keyCode;return"charCode"in Ne?0===(Ne=Ne.charCode)&&13===et&&(Ne=13):Ne=et,10===Ne&&(Ne=13),32<=Ne||13===Ne?Ne:0}var dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mp=Ic.extend({key:function(Ne){if(Ne.key){var et=dp[Ne.key]||Ne.key;if("Unidentified"!==et)return et}return"keypress"===Ne.type?13===(Ne=of(Ne))?"Enter":String.fromCharCode(Ne):"keydown"===Ne.type||"keyup"===Ne.type?fp[Ne.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:function(Ne){return"keypress"===Ne.type?of(Ne):0},keyCode:function(Ne){return"keydown"===Ne.type||"keyup"===Ne.type?Ne.keyCode:0},which:function(Ne){return"keypress"===Ne.type?of(Ne):"keydown"===Ne.type||"keyup"===Ne.type?Ne.keyCode:0}}),gp=Zc.extend({dataTransfer:null}),yp=Ic.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),vp=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),_p=Zc.extend({deltaX:function(Ne){return"deltaX"in Ne?Ne.deltaX:"wheelDeltaX"in Ne?-Ne.wheelDeltaX:0},deltaY:function(Ne){return"deltaY"in Ne?Ne.deltaY:"wheelDeltaY"in Ne?-Ne.wheelDeltaY:"wheelDelta"in Ne?-Ne.wheelDelta:0},deltaZ:null,deltaMode:null}),bp={eventTypes:Bs,extractEvents:function(Ne,et,tt,nt){var rt=js.get(Ne);if(!rt)return null;switch(Ne){case"keypress":if(0===of(tt))return null;case"keydown":case"keyup":Ne=mp;break;case"blur":case"focus":Ne=hp;break;case"click":if(2===tt.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=yp;break;case Aa:case os:case as:Ne=cp;break;case ss:Ne=vp;break;case"scroll":Ne=Ic;break;case"wheel":Ne=_p;break;case"copy":case"cut":case"paste":Ne=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Wc;break;default:Ne=G}return Xd(et=Ne.getPooled(rt,et,tt,nt)),et}};if(yt)throw Error(u(101));yt=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ra(),dt=Qd,ft=Nc,mt=Pd,xa({SimpleEventPlugin:bp,EnterLeaveEventPlugin:Gc,ChangeEventPlugin:kc,SelectEventPlugin:lp,BeforeInputEventPlugin:_c});var xp=[],wp=-1;function H(Ne){0>wp||(Ne.current=xp[wp],xp[wp]=null,wp--)}function I(Ne,et){wp++,xp[wp]=Ne.current,Ne.current=et}var Sp={},Ep={current:Sp},Tp={current:!1},Cp=Sp;function Cf(Ne,et){var tt=Ne.type.contextTypes;if(!tt)return Sp;var nt=Ne.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===et)return nt.__reactInternalMemoizedMaskedChildContext;var rt,it={};for(rt in tt)it[rt]=et[rt];return nt&&((Ne=Ne.stateNode).__reactInternalMemoizedUnmaskedChildContext=et,Ne.__reactInternalMemoizedMaskedChildContext=it),it}function L(Ne){return null!=(Ne=Ne.childContextTypes)}function Df(){H(Tp),H(Ep)}function Ef(Ne,et,tt){if(Ep.current!==Sp)throw Error(u(168));I(Ep,et),I(Tp,tt)}function Ff(Ne,et,tt){var nt=Ne.stateNode;if(Ne=et.childContextTypes,"function"!=typeof nt.getChildContext)return tt;for(var it in nt=nt.getChildContext())if(!(it in Ne))throw Error(u(108,pb(et)||"Unknown",it));return rt({},tt,{},nt)}function Gf(Ne){return Ne=(Ne=Ne.stateNode)&&Ne.__reactInternalMemoizedMergedChildContext||Sp,Cp=Ep.current,I(Ep,Ne),I(Tp,Tp.current),!0}function Hf(Ne,et,tt){var nt=Ne.stateNode;if(!nt)throw Error(u(169));tt?(Ne=Ff(Ne,et,Cp),nt.__reactInternalMemoizedMergedChildContext=Ne,H(Tp),H(Ep),I(Ep,Ne)):H(Tp),I(Tp,tt)}var Pp=it.unstable_runWithPriority,kp=it.unstable_scheduleCallback,Ip=it.unstable_cancelCallback,Ap=it.unstable_requestPaint,Lp=it.unstable_now,Mp=it.unstable_getCurrentPriorityLevel,Op=it.unstable_ImmediatePriority,zp=it.unstable_UserBlockingPriority,Dp=it.unstable_NormalPriority,Rp=it.unstable_LowPriority,Fp=it.unstable_IdlePriority,Bp={},jp=it.unstable_shouldYield,Np=void 0!==Ap?Ap:function(){},Vp=null,Up=null,Zp=!1,qp=Lp(),Wp=1e4>qp?Lp:function(){return Lp()-qp};function ag(){switch(Mp()){case Op:return 99;case zp:return 98;case Dp:return 97;case Rp:return 96;case Fp:return 95;default:throw Error(u(332))}}function bg(Ne){switch(Ne){case 99:return Op;case 98:return zp;case 97:return Dp;case 96:return Rp;case 95:return Fp;default:throw Error(u(332))}}function cg(Ne,et){return Ne=bg(Ne),Pp(Ne,et)}function dg(Ne,et,tt){return Ne=bg(Ne),kp(Ne,et,tt)}function eg(Ne){return null===Vp?(Vp=[Ne],Up=kp(Op,fg)):Vp.push(Ne),Bp}function gg(){if(null!==Up){var Ne=Up;Up=null,Ip(Ne)}fg()}function fg(){if(!Zp&&null!==Vp){Zp=!0;var Ne=0;try{var et=Vp;cg(99,(function(){for(;Ne<et.length;Ne++){var tt=et[Ne];do{tt=tt(!0)}while(null!==tt)}})),Vp=null}catch(et){throw null!==Vp&&(Vp=Vp.slice(Ne+1)),kp(Op,gg),et}finally{Zp=!1}}}function hg(Ne,et,tt){return 1073741821-(1+((1073741821-Ne+et/10)/(tt/=10)|0))*tt}function ig(Ne,et){if(Ne&&Ne.defaultProps)for(var tt in et=rt({},et),Ne=Ne.defaultProps)void 0===et[tt]&&(et[tt]=Ne[tt]);return et}var Hp={current:null},Gp=null,Xp=null,$p=null;function ng(){$p=Xp=Gp=null}function og(Ne){var et=Hp.current;H(Hp),Ne.type._context._currentValue=et}function pg(Ne,et){for(;null!==Ne;){var tt=Ne.alternate;if(Ne.childExpirationTime<et)Ne.childExpirationTime=et,null!==tt&&tt.childExpirationTime<et&&(tt.childExpirationTime=et);else{if(!(null!==tt&&tt.childExpirationTime<et))break;tt.childExpirationTime=et}Ne=Ne.return}}function qg(Ne,et){Gp=Ne,$p=Xp=null,null!==(Ne=Ne.dependencies)&&null!==Ne.firstContext&&(Ne.expirationTime>=et&&(Cd=!0),Ne.firstContext=null)}function sg(Ne,et){if($p!==Ne&&!1!==et&&0!==et)if("number"==typeof et&&1073741823!==et||($p=Ne,et=1073741823),et={context:Ne,observedBits:et,next:null},null===Xp){if(null===Gp)throw Error(u(308));Xp=et,Gp.dependencies={expirationTime:0,firstContext:et,responders:null}}else Xp=Xp.next=et;return Ne._currentValue}var Kp=!1;function ug(Ne){Ne.updateQueue={baseState:Ne.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function vg(Ne,et){Ne=Ne.updateQueue,et.updateQueue===Ne&&(et.updateQueue={baseState:Ne.baseState,baseQueue:Ne.baseQueue,shared:Ne.shared,effects:Ne.effects})}function wg(Ne,et){return(Ne={expirationTime:Ne,suspenseConfig:et,tag:0,payload:null,callback:null,next:null}).next=Ne}function xg(Ne,et){if(null!==(Ne=Ne.updateQueue)){var tt=(Ne=Ne.shared).pending;null===tt?et.next=et:(et.next=tt.next,tt.next=et),Ne.pending=et}}function yg(Ne,et){var tt=Ne.alternate;null!==tt&&vg(tt,Ne),null===(tt=(Ne=Ne.updateQueue).baseQueue)?(Ne.baseQueue=et.next=et,et.next=et):(et.next=tt.next,tt.next=et)}function zg(Ne,et,tt,nt){var it=Ne.updateQueue;Kp=!1;var ot=it.baseQueue,at=it.shared.pending;if(null!==at){if(null!==ot){var st=ot.next;ot.next=at.next,at.next=st}ot=at,it.shared.pending=null,null!==(st=Ne.alternate)&&(null!==(st=st.updateQueue)&&(st.baseQueue=at))}if(null!==ot){st=ot.next;var ct=it.baseState,pt=0,dt=null,ft=null,mt=null;if(null!==st)for(var yt=st;;){if((at=yt.expirationTime)<nt){var vt={expirationTime:yt.expirationTime,suspenseConfig:yt.suspenseConfig,tag:yt.tag,payload:yt.payload,callback:yt.callback,next:null};null===mt?(ft=mt=vt,dt=ct):mt=mt.next=vt,at>pt&&(pt=at)}else{null!==mt&&(mt=mt.next={expirationTime:1073741823,suspenseConfig:yt.suspenseConfig,tag:yt.tag,payload:yt.payload,callback:yt.callback,next:null}),Ag(at,yt.suspenseConfig);e:{var Ot=Ne,Dt=yt;switch(at=et,vt=tt,Dt.tag){case 1:if("function"==typeof(Ot=Dt.payload)){ct=Ot.call(vt,ct,at);break e}ct=Ot;break e;case 3:Ot.effectTag=-4097&Ot.effectTag|64;case 0:if(null==(at="function"==typeof(Ot=Dt.payload)?Ot.call(vt,ct,at):Ot))break e;ct=rt({},ct,at);break e;case 2:Kp=!0}}null!==yt.callback&&(Ne.effectTag|=32,null===(at=it.effects)?it.effects=[yt]:at.push(yt))}if(null===(yt=yt.next)||yt===st){if(null===(at=it.shared.pending))break;yt=ot.next=at.next,at.next=st,it.baseQueue=ot=at,it.shared.pending=null}}null===mt?dt=ct:mt.next=ft,it.baseState=dt,it.baseQueue=mt,Bg(pt),Ne.expirationTime=pt,Ne.memoizedState=ct}}function Cg(Ne,et,tt){if(Ne=et.effects,et.effects=null,null!==Ne)for(et=0;et<Ne.length;et++){var nt=Ne[et],rt=nt.callback;if(null!==rt){if(nt.callback=null,nt=rt,rt=tt,"function"!=typeof nt)throw Error(u(191,nt));nt.call(rt)}}}var Yp=Wn.ReactCurrentBatchConfig,Jp=(new nt.Component).refs;function Fg(Ne,et,tt,nt){tt=null==(tt=tt(nt,et=Ne.memoizedState))?et:rt({},et,tt),Ne.memoizedState=tt,0===Ne.expirationTime&&(Ne.updateQueue.baseState=tt)}var Qp={isMounted:function(Ne){return!!(Ne=Ne._reactInternalFiber)&&dc(Ne)===Ne},enqueueSetState:function(Ne,et,tt){Ne=Ne._reactInternalFiber;var nt=Gg(),rt=Yp.suspense;(rt=wg(nt=Hg(nt,Ne,rt),rt)).payload=et,null!=tt&&(rt.callback=tt),xg(Ne,rt),Ig(Ne,nt)},enqueueReplaceState:function(Ne,et,tt){Ne=Ne._reactInternalFiber;var nt=Gg(),rt=Yp.suspense;(rt=wg(nt=Hg(nt,Ne,rt),rt)).tag=1,rt.payload=et,null!=tt&&(rt.callback=tt),xg(Ne,rt),Ig(Ne,nt)},enqueueForceUpdate:function(Ne,et){Ne=Ne._reactInternalFiber;var tt=Gg(),nt=Yp.suspense;(nt=wg(tt=Hg(tt,Ne,nt),nt)).tag=2,null!=et&&(nt.callback=et),xg(Ne,nt),Ig(Ne,tt)}};function Kg(Ne,et,tt,nt,rt,it,ot){return"function"==typeof(Ne=Ne.stateNode).shouldComponentUpdate?Ne.shouldComponentUpdate(nt,it,ot):!et.prototype||!et.prototype.isPureReactComponent||(!bf(tt,nt)||!bf(rt,it))}function Lg(Ne,et,tt){var nt=!1,rt=Sp,it=et.contextType;return"object"==typeof it&&null!==it?it=sg(it):(rt=L(et)?Cp:Ep.current,it=(nt=null!=(nt=et.contextTypes))?Cf(Ne,rt):Sp),et=new et(tt,it),Ne.memoizedState=null!==et.state&&void 0!==et.state?et.state:null,et.updater=Qp,Ne.stateNode=et,et._reactInternalFiber=Ne,nt&&((Ne=Ne.stateNode).__reactInternalMemoizedUnmaskedChildContext=rt,Ne.__reactInternalMemoizedMaskedChildContext=it),et}function Mg(Ne,et,tt,nt){Ne=et.state,"function"==typeof et.componentWillReceiveProps&&et.componentWillReceiveProps(tt,nt),"function"==typeof et.UNSAFE_componentWillReceiveProps&&et.UNSAFE_componentWillReceiveProps(tt,nt),et.state!==Ne&&Qp.enqueueReplaceState(et,et.state,null)}function Ng(Ne,et,tt,nt){var rt=Ne.stateNode;rt.props=tt,rt.state=Ne.memoizedState,rt.refs=Jp,ug(Ne);var it=et.contextType;"object"==typeof it&&null!==it?rt.context=sg(it):(it=L(et)?Cp:Ep.current,rt.context=Cf(Ne,it)),zg(Ne,tt,rt,nt),rt.state=Ne.memoizedState,"function"==typeof(it=et.getDerivedStateFromProps)&&(Fg(Ne,et,it,tt),rt.state=Ne.memoizedState),"function"==typeof et.getDerivedStateFromProps||"function"==typeof rt.getSnapshotBeforeUpdate||"function"!=typeof rt.UNSAFE_componentWillMount&&"function"!=typeof rt.componentWillMount||(et=rt.state,"function"==typeof rt.componentWillMount&&rt.componentWillMount(),"function"==typeof rt.UNSAFE_componentWillMount&&rt.UNSAFE_componentWillMount(),et!==rt.state&&Qp.enqueueReplaceState(rt,rt.state,null),zg(Ne,tt,rt,nt),rt.state=Ne.memoizedState),"function"==typeof rt.componentDidMount&&(Ne.effectTag|=4)}var rh=Array.isArray;function Pg(Ne,et,tt){if(null!==(Ne=tt.ref)&&"function"!=typeof Ne&&"object"!=typeof Ne){if(tt._owner){if(tt=tt._owner){if(1!==tt.tag)throw Error(u(309));var nt=tt.stateNode}if(!nt)throw Error(u(147,Ne));var rt=""+Ne;return null!==et&&null!==et.ref&&"function"==typeof et.ref&&et.ref._stringRef===rt?et.ref:((et=function(Ne){var et=nt.refs;et===Jp&&(et=nt.refs={}),null===Ne?delete et[rt]:et[rt]=Ne})._stringRef=rt,et)}if("string"!=typeof Ne)throw Error(u(284));if(!tt._owner)throw Error(u(290,Ne))}return Ne}function Qg(Ne,et){if("textarea"!==Ne.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(et)?"object with keys {"+Object.keys(et).join(", ")+"}":et,""))}function Rg(Ne){function b(et,tt){if(Ne){var nt=et.lastEffect;null!==nt?(nt.nextEffect=tt,et.lastEffect=tt):et.firstEffect=et.lastEffect=tt,tt.nextEffect=null,tt.effectTag=8}}function c(et,tt){if(!Ne)return null;for(;null!==tt;)b(et,tt),tt=tt.sibling;return null}function d(Ne,et){for(Ne=new Map;null!==et;)null!==et.key?Ne.set(et.key,et):Ne.set(et.index,et),et=et.sibling;return Ne}function e(Ne,et){return(Ne=Sg(Ne,et)).index=0,Ne.sibling=null,Ne}function f(et,tt,nt){return et.index=nt,Ne?null!==(nt=et.alternate)?(nt=nt.index)<tt?(et.effectTag=2,tt):nt:(et.effectTag=2,tt):tt}function g(et){return Ne&&null===et.alternate&&(et.effectTag=2),et}function h(Ne,et,tt,nt){return null===et||6!==et.tag?((et=Tg(tt,Ne.mode,nt)).return=Ne,et):((et=e(et,tt)).return=Ne,et)}function k(Ne,et,tt,nt){return null!==et&&et.elementType===tt.type?((nt=e(et,tt.props)).ref=Pg(Ne,et,tt),nt.return=Ne,nt):((nt=Ug(tt.type,tt.key,tt.props,null,Ne.mode,nt)).ref=Pg(Ne,et,tt),nt.return=Ne,nt)}function l(Ne,et,tt,nt){return null===et||4!==et.tag||et.stateNode.containerInfo!==tt.containerInfo||et.stateNode.implementation!==tt.implementation?((et=Vg(tt,Ne.mode,nt)).return=Ne,et):((et=e(et,tt.children||[])).return=Ne,et)}function m(Ne,et,tt,nt,rt){return null===et||7!==et.tag?((et=Wg(tt,Ne.mode,nt,rt)).return=Ne,et):((et=e(et,tt)).return=Ne,et)}function p(Ne,et,tt){if("string"==typeof et||"number"==typeof et)return(et=Tg(""+et,Ne.mode,tt)).return=Ne,et;if("object"==typeof et&&null!==et){switch(et.$$typeof){case er:return(tt=Ug(et.type,et.key,et.props,null,Ne.mode,tt)).ref=Pg(Ne,null,et),tt.return=Ne,tt;case rr:return(et=Vg(et,Ne.mode,tt)).return=Ne,et}if(rh(et)||nb(et))return(et=Wg(et,Ne.mode,tt,null)).return=Ne,et;Qg(Ne,et)}return null}function x(Ne,et,tt,nt){var rt=null!==et?et.key:null;if("string"==typeof tt||"number"==typeof tt)return null!==rt?null:h(Ne,et,""+tt,nt);if("object"==typeof tt&&null!==tt){switch(tt.$$typeof){case er:return tt.key===rt?tt.type===vr?m(Ne,et,tt.props.children,nt,rt):k(Ne,et,tt,nt):null;case rr:return tt.key===rt?l(Ne,et,tt,nt):null}if(rh(tt)||nb(tt))return null!==rt?null:m(Ne,et,tt,nt,null);Qg(Ne,tt)}return null}function z(Ne,et,tt,nt,rt){if("string"==typeof nt||"number"==typeof nt)return h(et,Ne=Ne.get(tt)||null,""+nt,rt);if("object"==typeof nt&&null!==nt){switch(nt.$$typeof){case er:return Ne=Ne.get(null===nt.key?tt:nt.key)||null,nt.type===vr?m(et,Ne,nt.props.children,rt,nt.key):k(et,Ne,nt,rt);case rr:return l(et,Ne=Ne.get(null===nt.key?tt:nt.key)||null,nt,rt)}if(rh(nt)||nb(nt))return m(et,Ne=Ne.get(tt)||null,nt,rt,null);Qg(et,nt)}return null}function ca(et,tt,nt,rt){for(var it=null,ot=null,at=tt,st=tt=0,ct=null;null!==at&&st<nt.length;st++){at.index>st?(ct=at,at=null):ct=at.sibling;var pt=x(et,at,nt[st],rt);if(null===pt){null===at&&(at=ct);break}Ne&&at&&null===pt.alternate&&b(et,at),tt=f(pt,tt,st),null===ot?it=pt:ot.sibling=pt,ot=pt,at=ct}if(st===nt.length)return c(et,at),it;if(null===at){for(;st<nt.length;st++)null!==(at=p(et,nt[st],rt))&&(tt=f(at,tt,st),null===ot?it=at:ot.sibling=at,ot=at);return it}for(at=d(et,at);st<nt.length;st++)null!==(ct=z(at,et,st,nt[st],rt))&&(Ne&&null!==ct.alternate&&at.delete(null===ct.key?st:ct.key),tt=f(ct,tt,st),null===ot?it=ct:ot.sibling=ct,ot=ct);return Ne&&at.forEach((function(Ne){return b(et,Ne)})),it}function D(et,tt,nt,rt){var it=nb(nt);if("function"!=typeof it)throw Error(u(150));if(null==(nt=it.call(nt)))throw Error(u(151));for(var ot=it=null,at=tt,st=tt=0,ct=null,pt=nt.next();null!==at&&!pt.done;st++,pt=nt.next()){at.index>st?(ct=at,at=null):ct=at.sibling;var dt=x(et,at,pt.value,rt);if(null===dt){null===at&&(at=ct);break}Ne&&at&&null===dt.alternate&&b(et,at),tt=f(dt,tt,st),null===ot?it=dt:ot.sibling=dt,ot=dt,at=ct}if(pt.done)return c(et,at),it;if(null===at){for(;!pt.done;st++,pt=nt.next())null!==(pt=p(et,pt.value,rt))&&(tt=f(pt,tt,st),null===ot?it=pt:ot.sibling=pt,ot=pt);return it}for(at=d(et,at);!pt.done;st++,pt=nt.next())null!==(pt=z(at,et,st,pt.value,rt))&&(Ne&&null!==pt.alternate&&at.delete(null===pt.key?st:pt.key),tt=f(pt,tt,st),null===ot?it=pt:ot.sibling=pt,ot=pt);return Ne&&at.forEach((function(Ne){return b(et,Ne)})),it}return function(Ne,et,tt,nt){var rt="object"==typeof tt&&null!==tt&&tt.type===vr&&null===tt.key;rt&&(tt=tt.props.children);var it="object"==typeof tt&&null!==tt;if(it)switch(tt.$$typeof){case er:e:{for(it=tt.key,rt=et;null!==rt;){if(rt.key===it){switch(rt.tag){case 7:if(tt.type===vr){c(Ne,rt.sibling),(et=e(rt,tt.props.children)).return=Ne,Ne=et;break e}break;default:if(rt.elementType===tt.type){c(Ne,rt.sibling),(et=e(rt,tt.props)).ref=Pg(Ne,rt,tt),et.return=Ne,Ne=et;break e}}c(Ne,rt);break}b(Ne,rt),rt=rt.sibling}tt.type===vr?((et=Wg(tt.props.children,Ne.mode,nt,tt.key)).return=Ne,Ne=et):((nt=Ug(tt.type,tt.key,tt.props,null,Ne.mode,nt)).ref=Pg(Ne,et,tt),nt.return=Ne,Ne=nt)}return g(Ne);case rr:e:{for(rt=tt.key;null!==et;){if(et.key===rt){if(4===et.tag&&et.stateNode.containerInfo===tt.containerInfo&&et.stateNode.implementation===tt.implementation){c(Ne,et.sibling),(et=e(et,tt.children||[])).return=Ne,Ne=et;break e}c(Ne,et);break}b(Ne,et),et=et.sibling}(et=Vg(tt,Ne.mode,nt)).return=Ne,Ne=et}return g(Ne)}if("string"==typeof tt||"number"==typeof tt)return tt=""+tt,null!==et&&6===et.tag?(c(Ne,et.sibling),(et=e(et,tt)).return=Ne,Ne=et):(c(Ne,et),(et=Tg(tt,Ne.mode,nt)).return=Ne,Ne=et),g(Ne);if(rh(tt))return ca(Ne,et,tt,nt);if(nb(tt))return D(Ne,et,tt,nt);if(it&&Qg(Ne,tt),void 0===tt&&!rt)switch(Ne.tag){case 1:case 0:throw Ne=Ne.type,Error(u(152,Ne.displayName||Ne.name||"Component"))}return c(Ne,et)}}var ah=Rg(!0),sh=Rg(!1),lh={},ph={current:lh},mh={current:lh},_h={current:lh};function ch(Ne){if(Ne===lh)throw Error(u(174));return Ne}function dh(Ne,et){switch(I(_h,et),I(mh,Ne),I(ph,lh),Ne=et.nodeType){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:Ob(null,"");break;default:et=Ob(et=(Ne=8===Ne?et.parentNode:et).namespaceURI||null,Ne=Ne.tagName)}H(ph),I(ph,et)}function eh(){H(ph),H(mh),H(_h)}function fh(Ne){ch(_h.current);var et=ch(ph.current),tt=Ob(et,Ne.type);et!==tt&&(I(mh,Ne),I(ph,tt))}function gh(Ne){mh.current===Ne&&(H(ph),H(mh))}var bh={current:0};function hh(Ne){for(var et=Ne;null!==et;){if(13===et.tag){var tt=et.memoizedState;if(null!==tt&&(null===(tt=tt.dehydrated)||"$?"===tt.data||"$!"===tt.data))return et}else if(19===et.tag&&void 0!==et.memoizedProps.revealOrder){if(0!=(64&et.effectTag))return et}else if(null!==et.child){et.child.return=et,et=et.child;continue}if(et===Ne)break;for(;null===et.sibling;){if(null===et.return||et.return===Ne)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}function ih(Ne,et){return{responder:Ne,props:et}}var Ph=Wn.ReactCurrentDispatcher,kh=Wn.ReactCurrentBatchConfig,Oh=0,jh=null,qh=null,Yh=null,Qh=!1;function Q(){throw Error(u(321))}function nh(Ne,et){if(null===et)return!1;for(var tt=0;tt<et.length&&tt<Ne.length;tt++)if(!Xc(Ne[tt],et[tt]))return!1;return!0}function oh(Ne,et,tt,nt,rt,it){if(Oh=it,jh=et,et.memoizedState=null,et.updateQueue=null,et.expirationTime=0,Ph.current=null===Ne||null===Ne.memoizedState?nd:cd,Ne=tt(nt,rt),et.expirationTime===Oh){it=0;do{if(et.expirationTime=0,!(25>it))throw Error(u(301));it+=1,Yh=qh=null,et.updateQueue=null,Ph.current=dd,Ne=tt(nt,rt)}while(et.expirationTime===Oh)}if(Ph.current=ed,et=null!==qh&&null!==qh.next,Oh=0,Yh=qh=jh=null,Qh=!1,et)throw Error(u(300));return Ne}function th(){var Ne={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yh?jh.memoizedState=Yh=Ne:Yh=Yh.next=Ne,Yh}function uh(){if(null===qh){var Ne=jh.alternate;Ne=null!==Ne?Ne.memoizedState:null}else Ne=qh.next;var et=null===Yh?jh.memoizedState:Yh.next;if(null!==et)Yh=et,qh=Ne;else{if(null===Ne)throw Error(u(310));Ne={memoizedState:(qh=Ne).memoizedState,baseState:qh.baseState,baseQueue:qh.baseQueue,queue:qh.queue,next:null},null===Yh?jh.memoizedState=Yh=Ne:Yh=Yh.next=Ne}return Yh}function vh(Ne,et){return"function"==typeof et?et(Ne):et}function wh(Ne){var et=uh(),tt=et.queue;if(null===tt)throw Error(u(311));tt.lastRenderedReducer=Ne;var nt=qh,rt=nt.baseQueue,it=tt.pending;if(null!==it){if(null!==rt){var ot=rt.next;rt.next=it.next,it.next=ot}nt.baseQueue=rt=it,tt.pending=null}if(null!==rt){rt=rt.next,nt=nt.baseState;var at=ot=it=null,st=rt;do{var ct=st.expirationTime;if(ct<Oh){var pt={expirationTime:st.expirationTime,suspenseConfig:st.suspenseConfig,action:st.action,eagerReducer:st.eagerReducer,eagerState:st.eagerState,next:null};null===at?(ot=at=pt,it=nt):at=at.next=pt,ct>jh.expirationTime&&(jh.expirationTime=ct,Bg(ct))}else null!==at&&(at=at.next={expirationTime:1073741823,suspenseConfig:st.suspenseConfig,action:st.action,eagerReducer:st.eagerReducer,eagerState:st.eagerState,next:null}),Ag(ct,st.suspenseConfig),nt=st.eagerReducer===Ne?st.eagerState:Ne(nt,st.action);st=st.next}while(null!==st&&st!==rt);null===at?it=nt:at.next=ot,Xc(nt,et.memoizedState)||(Cd=!0),et.memoizedState=nt,et.baseState=it,et.baseQueue=at,tt.lastRenderedState=nt}return[et.memoizedState,tt.dispatch]}function xh(Ne){var et=uh(),tt=et.queue;if(null===tt)throw Error(u(311));tt.lastRenderedReducer=Ne;var nt=tt.dispatch,rt=tt.pending,it=et.memoizedState;if(null!==rt){tt.pending=null;var ot=rt=rt.next;do{it=Ne(it,ot.action),ot=ot.next}while(ot!==rt);Xc(it,et.memoizedState)||(Cd=!0),et.memoizedState=it,null===et.baseQueue&&(et.baseState=it),tt.lastRenderedState=it}return[it,nt]}function yh(Ne){var et=th();return"function"==typeof Ne&&(Ne=Ne()),et.memoizedState=et.baseState=Ne,Ne=(Ne=et.queue={pending:null,dispatch:null,lastRenderedReducer:vh,lastRenderedState:Ne}).dispatch=zh.bind(null,jh,Ne),[et.memoizedState,Ne]}function Ah(Ne,et,tt,nt){return Ne={tag:Ne,create:et,destroy:tt,deps:nt,next:null},null===(et=jh.updateQueue)?(et={lastEffect:null},jh.updateQueue=et,et.lastEffect=Ne.next=Ne):null===(tt=et.lastEffect)?et.lastEffect=Ne.next=Ne:(nt=tt.next,tt.next=Ne,Ne.next=nt,et.lastEffect=Ne),Ne}function Bh(){return uh().memoizedState}function Ch(Ne,et,tt,nt){var rt=th();jh.effectTag|=Ne,rt.memoizedState=Ah(1|et,tt,void 0,void 0===nt?null:nt)}function Dh(Ne,et,tt,nt){var rt=uh();nt=void 0===nt?null:nt;var it=void 0;if(null!==qh){var ot=qh.memoizedState;if(it=ot.destroy,null!==nt&&nh(nt,ot.deps))return void Ah(et,tt,it,nt)}jh.effectTag|=Ne,rt.memoizedState=Ah(1|et,tt,it,nt)}function Eh(Ne,et){return Ch(516,4,Ne,et)}function Fh(Ne,et){return Dh(516,4,Ne,et)}function Gh(Ne,et){return Dh(4,2,Ne,et)}function Hh(Ne,et){return"function"==typeof et?(Ne=Ne(),et(Ne),function(){et(null)}):null!=et?(Ne=Ne(),et.current=Ne,function(){et.current=null}):void 0}function Ih(Ne,et,tt){return tt=null!=tt?tt.concat([Ne]):null,Dh(4,2,Hh.bind(null,et,Ne),tt)}function Jh(){}function Kh(Ne,et){return th().memoizedState=[Ne,void 0===et?null:et],Ne}function Lh(Ne,et){var tt=uh();et=void 0===et?null:et;var nt=tt.memoizedState;return null!==nt&&null!==et&&nh(et,nt[1])?nt[0]:(tt.memoizedState=[Ne,et],Ne)}function Mh(Ne,et){var tt=uh();et=void 0===et?null:et;var nt=tt.memoizedState;return null!==nt&&null!==et&&nh(et,nt[1])?nt[0]:(Ne=Ne(),tt.memoizedState=[Ne,et],Ne)}function Nh(Ne,et,tt){var nt=ag();cg(98>nt?98:nt,(function(){Ne(!0)})),cg(97<nt?97:nt,(function(){var nt=kh.suspense;kh.suspense=void 0===et?null:et;try{Ne(!1),tt()}finally{kh.suspense=nt}}))}function zh(Ne,et,tt){var nt=Gg(),rt=Yp.suspense;rt={expirationTime:nt=Hg(nt,Ne,rt),suspenseConfig:rt,action:tt,eagerReducer:null,eagerState:null,next:null};var it=et.pending;if(null===it?rt.next=rt:(rt.next=it.next,it.next=rt),et.pending=rt,it=Ne.alternate,Ne===jh||null!==it&&it===jh)Qh=!0,rt.expirationTime=Oh,jh.expirationTime=Oh;else{if(0===Ne.expirationTime&&(null===it||0===it.expirationTime)&&null!==(it=et.lastRenderedReducer))try{var ot=et.lastRenderedState,at=it(ot,tt);if(rt.eagerReducer=it,rt.eagerState=at,Xc(at,ot))return}catch(Ne){}Ig(Ne,nt)}}var ed={readContext:sg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},nd={readContext:sg,useCallback:Kh,useContext:sg,useEffect:Eh,useImperativeHandle:function(Ne,et,tt){return tt=null!=tt?tt.concat([Ne]):null,Ch(4,2,Hh.bind(null,et,Ne),tt)},useLayoutEffect:function(Ne,et){return Ch(4,2,Ne,et)},useMemo:function(Ne,et){var tt=th();return et=void 0===et?null:et,Ne=Ne(),tt.memoizedState=[Ne,et],Ne},useReducer:function(Ne,et,tt){var nt=th();return et=void 0!==tt?tt(et):et,nt.memoizedState=nt.baseState=et,Ne=(Ne=nt.queue={pending:null,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:et}).dispatch=zh.bind(null,jh,Ne),[nt.memoizedState,Ne]},useRef:function(Ne){return Ne={current:Ne},th().memoizedState=Ne},useState:yh,useDebugValue:Jh,useResponder:ih,useDeferredValue:function(Ne,et){var tt=yh(Ne),nt=tt[0],rt=tt[1];return Eh((function(){var tt=kh.suspense;kh.suspense=void 0===et?null:et;try{rt(Ne)}finally{kh.suspense=tt}}),[Ne,et]),nt},useTransition:function(Ne){var et=yh(!1),tt=et[0];return et=et[1],[Kh(Nh.bind(null,et,Ne),[et,Ne]),tt]}},cd={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:wh,useRef:Bh,useState:function(){return wh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(Ne,et){var tt=wh(vh),nt=tt[0],rt=tt[1];return Fh((function(){var tt=kh.suspense;kh.suspense=void 0===et?null:et;try{rt(Ne)}finally{kh.suspense=tt}}),[Ne,et]),nt},useTransition:function(Ne){var et=wh(vh),tt=et[0];return et=et[1],[Lh(Nh.bind(null,et,Ne),[et,Ne]),tt]}},dd={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:xh,useRef:Bh,useState:function(){return xh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(Ne,et){var tt=xh(vh),nt=tt[0],rt=tt[1];return Fh((function(){var tt=kh.suspense;kh.suspense=void 0===et?null:et;try{rt(Ne)}finally{kh.suspense=tt}}),[Ne,et]),nt},useTransition:function(Ne){var et=xh(vh),tt=et[0];return et=et[1],[Lh(Nh.bind(null,et,Ne),[et,Ne]),tt]}},fd=null,_d=null,bd=!1;function Rh(Ne,et){var tt=Sh(5,null,null,0);tt.elementType="DELETED",tt.type="DELETED",tt.stateNode=et,tt.return=Ne,tt.effectTag=8,null!==Ne.lastEffect?(Ne.lastEffect.nextEffect=tt,Ne.lastEffect=tt):Ne.firstEffect=Ne.lastEffect=tt}function Th(Ne,et){switch(Ne.tag){case 5:var tt=Ne.type;return null!==(et=1!==et.nodeType||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et)&&(Ne.stateNode=et,!0);case 6:return null!==(et=""===Ne.pendingProps||3!==et.nodeType?null:et)&&(Ne.stateNode=et,!0);case 13:default:return!1}}function Uh(Ne){if(bd){var et=_d;if(et){var tt=et;if(!Th(Ne,et)){if(!(et=Jd(tt.nextSibling))||!Th(Ne,et))return Ne.effectTag=-1025&Ne.effectTag|2,bd=!1,void(fd=Ne);Rh(fd,tt)}fd=Ne,_d=Jd(et.firstChild)}else Ne.effectTag=-1025&Ne.effectTag|2,bd=!1,fd=Ne}}function Vh(Ne){for(Ne=Ne.return;null!==Ne&&5!==Ne.tag&&3!==Ne.tag&&13!==Ne.tag;)Ne=Ne.return;fd=Ne}function Wh(Ne){if(Ne!==fd)return!1;if(!bd)return Vh(Ne),bd=!0,!1;var et=Ne.type;if(5!==Ne.tag||"head"!==et&&"body"!==et&&!Gd(et,Ne.memoizedProps))for(et=_d;et;)Rh(Ne,et),et=Jd(et.nextSibling);if(Vh(Ne),13===Ne.tag){if(!(Ne=null!==(Ne=Ne.memoizedState)?Ne.dehydrated:null))throw Error(u(317));e:{for(Ne=Ne.nextSibling,et=0;Ne;){if(8===Ne.nodeType){var tt=Ne.data;if("/$"===tt){if(0===et){_d=Jd(Ne.nextSibling);break e}et--}else"$"!==tt&&"$!"!==tt&&"$?"!==tt||et++}Ne=Ne.nextSibling}_d=null}}else _d=fd?Jd(Ne.stateNode.nextSibling):null;return!0}function Xh(){_d=fd=null,bd=!1}var Ed=Wn.ReactCurrentOwner,Cd=!1;function R(Ne,et,tt,nt){et.child=null===Ne?sh(et,null,tt,nt):ah(et,Ne.child,tt,nt)}function Zh(Ne,et,tt,nt,rt){tt=tt.render;var it=et.ref;return qg(et,rt),nt=oh(Ne,et,tt,nt,it,rt),null===Ne||Cd?(et.effectTag|=1,R(Ne,et,nt,rt),et.child):(et.updateQueue=Ne.updateQueue,et.effectTag&=-517,Ne.expirationTime<=rt&&(Ne.expirationTime=0),$h(Ne,et,rt))}function ai(Ne,et,tt,nt,rt,it){if(null===Ne){var ot=tt.type;return"function"!=typeof ot||bi(ot)||void 0!==ot.defaultProps||null!==tt.compare||void 0!==tt.defaultProps?((Ne=Ug(tt.type,null,nt,null,et.mode,it)).ref=et.ref,Ne.return=et,et.child=Ne):(et.tag=15,et.type=ot,ci(Ne,et,ot,nt,rt,it))}return ot=Ne.child,rt<it&&(rt=ot.memoizedProps,(tt=null!==(tt=tt.compare)?tt:bf)(rt,nt)&&Ne.ref===et.ref)?$h(Ne,et,it):(et.effectTag|=1,(Ne=Sg(ot,nt)).ref=et.ref,Ne.return=et,et.child=Ne)}function ci(Ne,et,tt,nt,rt,it){return null!==Ne&&bf(Ne.memoizedProps,nt)&&Ne.ref===et.ref&&(Cd=!1,rt<it)?(et.expirationTime=Ne.expirationTime,$h(Ne,et,it)):di(Ne,et,tt,nt,it)}function ei(Ne,et){var tt=et.ref;(null===Ne&&null!==tt||null!==Ne&&Ne.ref!==tt)&&(et.effectTag|=128)}function di(Ne,et,tt,nt,rt){var it=L(tt)?Cp:Ep.current;return it=Cf(et,it),qg(et,rt),tt=oh(Ne,et,tt,nt,it,rt),null===Ne||Cd?(et.effectTag|=1,R(Ne,et,tt,rt),et.child):(et.updateQueue=Ne.updateQueue,et.effectTag&=-517,Ne.expirationTime<=rt&&(Ne.expirationTime=0),$h(Ne,et,rt))}function fi(Ne,et,tt,nt,rt){if(L(tt)){var it=!0;Gf(et)}else it=!1;if(qg(et,rt),null===et.stateNode)null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),Lg(et,tt,nt),Ng(et,tt,nt,rt),nt=!0;else if(null===Ne){var ot=et.stateNode,at=et.memoizedProps;ot.props=at;var st=ot.context,ct=tt.contextType;"object"==typeof ct&&null!==ct?ct=sg(ct):ct=Cf(et,ct=L(tt)?Cp:Ep.current);var pt=tt.getDerivedStateFromProps,dt="function"==typeof pt||"function"==typeof ot.getSnapshotBeforeUpdate;dt||"function"!=typeof ot.UNSAFE_componentWillReceiveProps&&"function"!=typeof ot.componentWillReceiveProps||(at!==nt||st!==ct)&&Mg(et,ot,nt,ct),Kp=!1;var ft=et.memoizedState;ot.state=ft,zg(et,nt,ot,rt),st=et.memoizedState,at!==nt||ft!==st||Tp.current||Kp?("function"==typeof pt&&(Fg(et,tt,pt,nt),st=et.memoizedState),(at=Kp||Kg(et,tt,at,nt,ft,st,ct))?(dt||"function"!=typeof ot.UNSAFE_componentWillMount&&"function"!=typeof ot.componentWillMount||("function"==typeof ot.componentWillMount&&ot.componentWillMount(),"function"==typeof ot.UNSAFE_componentWillMount&&ot.UNSAFE_componentWillMount()),"function"==typeof ot.componentDidMount&&(et.effectTag|=4)):("function"==typeof ot.componentDidMount&&(et.effectTag|=4),et.memoizedProps=nt,et.memoizedState=st),ot.props=nt,ot.state=st,ot.context=ct,nt=at):("function"==typeof ot.componentDidMount&&(et.effectTag|=4),nt=!1)}else ot=et.stateNode,vg(Ne,et),at=et.memoizedProps,ot.props=et.type===et.elementType?at:ig(et.type,at),st=ot.context,"object"==typeof(ct=tt.contextType)&&null!==ct?ct=sg(ct):ct=Cf(et,ct=L(tt)?Cp:Ep.current),(dt="function"==typeof(pt=tt.getDerivedStateFromProps)||"function"==typeof ot.getSnapshotBeforeUpdate)||"function"!=typeof ot.UNSAFE_componentWillReceiveProps&&"function"!=typeof ot.componentWillReceiveProps||(at!==nt||st!==ct)&&Mg(et,ot,nt,ct),Kp=!1,st=et.memoizedState,ot.state=st,zg(et,nt,ot,rt),ft=et.memoizedState,at!==nt||st!==ft||Tp.current||Kp?("function"==typeof pt&&(Fg(et,tt,pt,nt),ft=et.memoizedState),(pt=Kp||Kg(et,tt,at,nt,st,ft,ct))?(dt||"function"!=typeof ot.UNSAFE_componentWillUpdate&&"function"!=typeof ot.componentWillUpdate||("function"==typeof ot.componentWillUpdate&&ot.componentWillUpdate(nt,ft,ct),"function"==typeof ot.UNSAFE_componentWillUpdate&&ot.UNSAFE_componentWillUpdate(nt,ft,ct)),"function"==typeof ot.componentDidUpdate&&(et.effectTag|=4),"function"==typeof ot.getSnapshotBeforeUpdate&&(et.effectTag|=256)):("function"!=typeof ot.componentDidUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=4),"function"!=typeof ot.getSnapshotBeforeUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=256),et.memoizedProps=nt,et.memoizedState=ft),ot.props=nt,ot.state=ft,ot.context=ct,nt=pt):("function"!=typeof ot.componentDidUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=4),"function"!=typeof ot.getSnapshotBeforeUpdate||at===Ne.memoizedProps&&st===Ne.memoizedState||(et.effectTag|=256),nt=!1);return gi(Ne,et,tt,nt,it,rt)}function gi(Ne,et,tt,nt,rt,it){ei(Ne,et);var ot=0!=(64&et.effectTag);if(!nt&&!ot)return rt&&Hf(et,tt,!1),$h(Ne,et,it);nt=et.stateNode,Ed.current=et;var at=ot&&"function"!=typeof tt.getDerivedStateFromError?null:nt.render();return et.effectTag|=1,null!==Ne&&ot?(et.child=ah(et,Ne.child,null,it),et.child=ah(et,null,at,it)):R(Ne,et,at,it),et.memoizedState=nt.state,rt&&Hf(et,tt,!0),et.child}function hi(Ne){var et=Ne.stateNode;et.pendingContext?Ef(0,et.pendingContext,et.pendingContext!==et.context):et.context&&Ef(0,et.context,!1),dh(Ne,et.containerInfo)}var kd,Id,Ad,Ld={dehydrated:null,retryTime:0};function ji(Ne,et,tt){var nt,rt=et.mode,it=et.pendingProps,ot=bh.current,at=!1;if((nt=0!=(64&et.effectTag))||(nt=0!=(2&ot)&&(null===Ne||null!==Ne.memoizedState)),nt?(at=!0,et.effectTag&=-65):null!==Ne&&null===Ne.memoizedState||void 0===it.fallback||!0===it.unstable_avoidThisFallback||(ot|=1),I(bh,1&ot),null===Ne){if(void 0!==it.fallback&&Uh(et),at){if(at=it.fallback,(it=Wg(null,rt,0,null)).return=et,0==(2&et.mode))for(Ne=null!==et.memoizedState?et.child.child:et.child,it.child=Ne;null!==Ne;)Ne.return=it,Ne=Ne.sibling;return(tt=Wg(at,rt,tt,null)).return=et,it.sibling=tt,et.memoizedState=Ld,et.child=it,tt}return rt=it.children,et.memoizedState=null,et.child=sh(et,null,rt,tt)}if(null!==Ne.memoizedState){if(rt=(Ne=Ne.child).sibling,at){if(it=it.fallback,(tt=Sg(Ne,Ne.pendingProps)).return=et,0==(2&et.mode)&&(at=null!==et.memoizedState?et.child.child:et.child)!==Ne.child)for(tt.child=at;null!==at;)at.return=tt,at=at.sibling;return(rt=Sg(rt,it)).return=et,tt.sibling=rt,tt.childExpirationTime=0,et.memoizedState=Ld,et.child=tt,rt}return tt=ah(et,Ne.child,it.children,tt),et.memoizedState=null,et.child=tt}if(Ne=Ne.child,at){if(at=it.fallback,(it=Wg(null,rt,0,null)).return=et,it.child=Ne,null!==Ne&&(Ne.return=it),0==(2&et.mode))for(Ne=null!==et.memoizedState?et.child.child:et.child,it.child=Ne;null!==Ne;)Ne.return=it,Ne=Ne.sibling;return(tt=Wg(at,rt,tt,null)).return=et,it.sibling=tt,tt.effectTag|=2,it.childExpirationTime=0,et.memoizedState=Ld,et.child=it,tt}return et.memoizedState=null,et.child=ah(et,Ne,it.children,tt)}function ki(Ne,et){Ne.expirationTime<et&&(Ne.expirationTime=et);var tt=Ne.alternate;null!==tt&&tt.expirationTime<et&&(tt.expirationTime=et),pg(Ne.return,et)}function li(Ne,et,tt,nt,rt,it){var ot=Ne.memoizedState;null===ot?Ne.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:nt,tail:tt,tailExpiration:0,tailMode:rt,lastEffect:it}:(ot.isBackwards=et,ot.rendering=null,ot.renderingStartTime=0,ot.last=nt,ot.tail=tt,ot.tailExpiration=0,ot.tailMode=rt,ot.lastEffect=it)}function mi(Ne,et,tt){var nt=et.pendingProps,rt=nt.revealOrder,it=nt.tail;if(R(Ne,et,nt.children,tt),0!=(2&(nt=bh.current)))nt=1&nt|2,et.effectTag|=64;else{if(null!==Ne&&0!=(64&Ne.effectTag))e:for(Ne=et.child;null!==Ne;){if(13===Ne.tag)null!==Ne.memoizedState&&ki(Ne,tt);else if(19===Ne.tag)ki(Ne,tt);else if(null!==Ne.child){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===et)break e;for(;null===Ne.sibling;){if(null===Ne.return||Ne.return===et)break e;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}nt&=1}if(I(bh,nt),0==(2&et.mode))et.memoizedState=null;else switch(rt){case"forwards":for(tt=et.child,rt=null;null!==tt;)null!==(Ne=tt.alternate)&&null===hh(Ne)&&(rt=tt),tt=tt.sibling;null===(tt=rt)?(rt=et.child,et.child=null):(rt=tt.sibling,tt.sibling=null),li(et,!1,rt,tt,it,et.lastEffect);break;case"backwards":for(tt=null,rt=et.child,et.child=null;null!==rt;){if(null!==(Ne=rt.alternate)&&null===hh(Ne)){et.child=rt;break}Ne=rt.sibling,rt.sibling=tt,tt=rt,rt=Ne}li(et,!0,tt,null,it,et.lastEffect);break;case"together":li(et,!1,null,null,void 0,et.lastEffect);break;default:et.memoizedState=null}return et.child}function $h(Ne,et,tt){null!==Ne&&(et.dependencies=Ne.dependencies);var nt=et.expirationTime;if(0!==nt&&Bg(nt),et.childExpirationTime<tt)return null;if(null!==Ne&&et.child!==Ne.child)throw Error(u(153));if(null!==et.child){for(tt=Sg(Ne=et.child,Ne.pendingProps),et.child=tt,tt.return=et;null!==Ne.sibling;)Ne=Ne.sibling,(tt=tt.sibling=Sg(Ne,Ne.pendingProps)).return=et;tt.sibling=null}return et.child}function ri(Ne,et){switch(Ne.tailMode){case"hidden":et=Ne.tail;for(var tt=null;null!==et;)null!==et.alternate&&(tt=et),et=et.sibling;null===tt?Ne.tail=null:tt.sibling=null;break;case"collapsed":tt=Ne.tail;for(var nt=null;null!==tt;)null!==tt.alternate&&(nt=tt),tt=tt.sibling;null===nt?et||null===Ne.tail?Ne.tail=null:Ne.tail.sibling=null:nt.sibling=null}}function si(Ne,et,tt){var nt=et.pendingProps;switch(et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return L(et.type)&&Df(),null;case 3:return eh(),H(Tp),H(Ep),(tt=et.stateNode).pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),null!==Ne&&null!==Ne.child||!Wh(et)||(et.effectTag|=4),null;case 5:gh(et),tt=ch(_h.current);var it=et.type;if(null!==Ne&&null!=et.stateNode)Id(Ne,et,it,nt,tt),Ne.ref!==et.ref&&(et.effectTag|=128);else{if(!nt){if(null===et.stateNode)throw Error(u(166));return null}if(Ne=ch(ph.current),Wh(et)){nt=et.stateNode,it=et.type;var ot=et.memoizedProps;switch(nt[Sl]=et,nt[Cl]=ot,it){case"iframe":case"object":case"embed":F("load",nt);break;case"video":case"audio":for(Ne=0;Ne<ls.length;Ne++)F(ls[Ne],nt);break;case"source":F("error",nt);break;case"img":case"image":case"link":F("error",nt),F("load",nt);break;case"form":F("reset",nt),F("submit",nt);break;case"details":F("toggle",nt);break;case"input":Ab(nt,ot),F("invalid",nt),rd(tt,"onChange");break;case"select":nt._wrapperState={wasMultiple:!!ot.multiple},F("invalid",nt),rd(tt,"onChange");break;case"textarea":Jb(nt,ot),F("invalid",nt),rd(tt,"onChange")}for(var at in od(it,ot),Ne=null,ot)if(ot.hasOwnProperty(at)){var st=ot[at];"children"===at?"string"==typeof st?nt.textContent!==st&&(Ne=["children",st]):"number"==typeof st&&nt.textContent!==""+st&&(Ne=["children",""+st]):Rt.hasOwnProperty(at)&&null!=st&&rd(tt,at)}switch(it){case"input":xb(nt),Eb(nt,ot,!0);break;case"textarea":xb(nt),Lb(nt);break;case"select":case"option":break;default:"function"==typeof ot.onClick&&(nt.onclick=sd)}tt=Ne,et.updateQueue=tt,null!==tt&&(et.effectTag|=4)}else{switch(at=9===tt.nodeType?tt:tt.ownerDocument,Ne===yl&&(Ne=Nb(it)),Ne===yl?"script"===it?((Ne=at.createElement("div")).innerHTML="<script><\/script>",Ne=Ne.removeChild(Ne.firstChild)):"string"==typeof nt.is?Ne=at.createElement(it,{is:nt.is}):(Ne=at.createElement(it),"select"===it&&(at=Ne,nt.multiple?at.multiple=!0:nt.size&&(at.size=nt.size))):Ne=at.createElementNS(Ne,it),Ne[Sl]=et,Ne[Cl]=nt,kd(Ne,et),et.stateNode=Ne,at=pd(it,nt),it){case"iframe":case"object":case"embed":F("load",Ne),st=nt;break;case"video":case"audio":for(st=0;st<ls.length;st++)F(ls[st],Ne);st=nt;break;case"source":F("error",Ne),st=nt;break;case"img":case"image":case"link":F("error",Ne),F("load",Ne),st=nt;break;case"form":F("reset",Ne),F("submit",Ne),st=nt;break;case"details":F("toggle",Ne),st=nt;break;case"input":Ab(Ne,nt),st=zb(Ne,nt),F("invalid",Ne),rd(tt,"onChange");break;case"option":st=Gb(Ne,nt);break;case"select":Ne._wrapperState={wasMultiple:!!nt.multiple},st=rt({},nt,{value:void 0}),F("invalid",Ne),rd(tt,"onChange");break;case"textarea":Jb(Ne,nt),st=Ib(Ne,nt),F("invalid",Ne),rd(tt,"onChange");break;default:st=nt}od(it,st);var ct=st;for(ot in ct)if(ct.hasOwnProperty(ot)){var pt=ct[ot];"style"===ot?md(Ne,pt):"dangerouslySetInnerHTML"===ot?null!=(pt=pt?pt.__html:void 0)&&ga(Ne,pt):"children"===ot?"string"==typeof pt?("textarea"!==it||""!==pt)&&Rb(Ne,pt):"number"==typeof pt&&Rb(Ne,""+pt):"suppressContentEditableWarning"!==ot&&"suppressHydrationWarning"!==ot&&"autoFocus"!==ot&&(Rt.hasOwnProperty(ot)?null!=pt&&rd(tt,ot):null!=pt&&Xa(Ne,ot,pt,at))}switch(it){case"input":xb(Ne),Eb(Ne,nt,!1);break;case"textarea":xb(Ne),Lb(Ne);break;case"option":null!=nt.value&&Ne.setAttribute("value",""+rb(nt.value));break;case"select":Ne.multiple=!!nt.multiple,null!=(tt=nt.value)?Hb(Ne,!!nt.multiple,tt,!1):null!=nt.defaultValue&&Hb(Ne,!!nt.multiple,nt.defaultValue,!0);break;default:"function"==typeof st.onClick&&(Ne.onclick=sd)}Fd(it,nt)&&(et.effectTag|=4)}null!==et.ref&&(et.effectTag|=128)}return null;case 6:if(Ne&&null!=et.stateNode)Ad(0,et,Ne.memoizedProps,nt);else{if("string"!=typeof nt&&null===et.stateNode)throw Error(u(166));tt=ch(_h.current),ch(ph.current),Wh(et)?(tt=et.stateNode,nt=et.memoizedProps,tt[Sl]=et,tt.nodeValue!==nt&&(et.effectTag|=4)):((tt=(9===tt.nodeType?tt:tt.ownerDocument).createTextNode(nt))[Sl]=et,et.stateNode=tt)}return null;case 13:return H(bh),nt=et.memoizedState,0!=(64&et.effectTag)?(et.expirationTime=tt,et):(tt=null!==nt,nt=!1,null===Ne?void 0!==et.memoizedProps.fallback&&Wh(et):(nt=null!==(it=Ne.memoizedState),tt||null===it||null!==(it=Ne.child.sibling)&&(null!==(ot=et.firstEffect)?(et.firstEffect=it,it.nextEffect=ot):(et.firstEffect=et.lastEffect=it,it.nextEffect=null),it.effectTag=8)),tt&&!nt&&0!=(2&et.mode)&&(null===Ne&&!0!==et.memoizedProps.unstable_avoidThisFallback||0!=(1&bh.current)?tf===Nd&&(tf=Zd):(tf!==Nd&&tf!==Zd||(tf=qd),0!==lf&&null!==$d&&(xi($d,ef),yi($d,lf)))),(tt||nt)&&(et.effectTag|=4),null);case 4:return eh(),null;case 10:return og(et),null;case 17:return L(et.type)&&Df(),null;case 19:if(H(bh),null===(nt=et.memoizedState))return null;if(it=0!=(64&et.effectTag),null===(ot=nt.rendering)){if(it)ri(nt,!1);else if(tf!==Nd||null!==Ne&&0!=(64&Ne.effectTag))for(ot=et.child;null!==ot;){if(null!==(Ne=hh(ot))){for(et.effectTag|=64,ri(nt,!1),null!==(it=Ne.updateQueue)&&(et.updateQueue=it,et.effectTag|=4),null===nt.lastEffect&&(et.firstEffect=null),et.lastEffect=nt.lastEffect,nt=et.child;null!==nt;)ot=tt,(it=nt).effectTag&=2,it.nextEffect=null,it.firstEffect=null,it.lastEffect=null,null===(Ne=it.alternate)?(it.childExpirationTime=0,it.expirationTime=ot,it.child=null,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null):(it.childExpirationTime=Ne.childExpirationTime,it.expirationTime=Ne.expirationTime,it.child=Ne.child,it.memoizedProps=Ne.memoizedProps,it.memoizedState=Ne.memoizedState,it.updateQueue=Ne.updateQueue,ot=Ne.dependencies,it.dependencies=null===ot?null:{expirationTime:ot.expirationTime,firstContext:ot.firstContext,responders:ot.responders}),nt=nt.sibling;return I(bh,1&bh.current|2),et.child}ot=ot.sibling}}else{if(!it)if(null!==(Ne=hh(ot))){if(et.effectTag|=64,it=!0,null!==(tt=Ne.updateQueue)&&(et.updateQueue=tt,et.effectTag|=4),ri(nt,!0),null===nt.tail&&"hidden"===nt.tailMode&&!ot.alternate)return null!==(et=et.lastEffect=nt.lastEffect)&&(et.nextEffect=null),null}else 2*Wp()-nt.renderingStartTime>nt.tailExpiration&&1<tt&&(et.effectTag|=64,it=!0,ri(nt,!1),et.expirationTime=et.childExpirationTime=tt-1);nt.isBackwards?(ot.sibling=et.child,et.child=ot):(null!==(tt=nt.last)?tt.sibling=ot:et.child=ot,nt.last=ot)}return null!==nt.tail?(0===nt.tailExpiration&&(nt.tailExpiration=Wp()+500),tt=nt.tail,nt.rendering=tt,nt.tail=tt.sibling,nt.lastEffect=et.lastEffect,nt.renderingStartTime=Wp(),tt.sibling=null,et=bh.current,I(bh,it?1&et|2:1&et),tt):null}throw Error(u(156,et.tag))}function zi(Ne){switch(Ne.tag){case 1:L(Ne.type)&&Df();var et=Ne.effectTag;return 4096&et?(Ne.effectTag=-4097&et|64,Ne):null;case 3:if(eh(),H(Tp),H(Ep),0!=(64&(et=Ne.effectTag)))throw Error(u(285));return Ne.effectTag=-4097&et|64,Ne;case 5:return gh(Ne),null;case 13:return H(bh),4096&(et=Ne.effectTag)?(Ne.effectTag=-4097&et|64,Ne):null;case 19:return H(bh),null;case 4:return eh(),null;case 10:return og(Ne),null;default:return null}}function Ai(Ne,et){return{value:Ne,source:et,stack:qb(et)}}kd=function(Ne,et){for(var tt=et.child;null!==tt;){if(5===tt.tag||6===tt.tag)Ne.appendChild(tt.stateNode);else if(4!==tt.tag&&null!==tt.child){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;null===tt.sibling;){if(null===tt.return||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}},Id=function(Ne,et,tt,nt,it){var ot=Ne.memoizedProps;if(ot!==nt){var at,st,ct=et.stateNode;switch(ch(ph.current),Ne=null,tt){case"input":ot=zb(ct,ot),nt=zb(ct,nt),Ne=[];break;case"option":ot=Gb(ct,ot),nt=Gb(ct,nt),Ne=[];break;case"select":ot=rt({},ot,{value:void 0}),nt=rt({},nt,{value:void 0}),Ne=[];break;case"textarea":ot=Ib(ct,ot),nt=Ib(ct,nt),Ne=[];break;default:"function"!=typeof ot.onClick&&"function"==typeof nt.onClick&&(ct.onclick=sd)}for(at in od(tt,nt),tt=null,ot)if(!nt.hasOwnProperty(at)&&ot.hasOwnProperty(at)&&null!=ot[at])if("style"===at)for(st in ct=ot[at])ct.hasOwnProperty(st)&&(tt||(tt={}),tt[st]="");else"dangerouslySetInnerHTML"!==at&&"children"!==at&&"suppressContentEditableWarning"!==at&&"suppressHydrationWarning"!==at&&"autoFocus"!==at&&(Rt.hasOwnProperty(at)?Ne||(Ne=[]):(Ne=Ne||[]).push(at,null));for(at in nt){var pt=nt[at];if(ct=null!=ot?ot[at]:void 0,nt.hasOwnProperty(at)&&pt!==ct&&(null!=pt||null!=ct))if("style"===at)if(ct){for(st in ct)!ct.hasOwnProperty(st)||pt&&pt.hasOwnProperty(st)||(tt||(tt={}),tt[st]="");for(st in pt)pt.hasOwnProperty(st)&&ct[st]!==pt[st]&&(tt||(tt={}),tt[st]=pt[st])}else tt||(Ne||(Ne=[]),Ne.push(at,tt)),tt=pt;else"dangerouslySetInnerHTML"===at?(pt=pt?pt.__html:void 0,ct=ct?ct.__html:void 0,null!=pt&&ct!==pt&&(Ne=Ne||[]).push(at,pt)):"children"===at?ct===pt||"string"!=typeof pt&&"number"!=typeof pt||(Ne=Ne||[]).push(at,""+pt):"suppressContentEditableWarning"!==at&&"suppressHydrationWarning"!==at&&(Rt.hasOwnProperty(at)?(null!=pt&&rd(it,at),Ne||ct===pt||(Ne=[])):(Ne=Ne||[]).push(at,pt))}tt&&(Ne=Ne||[]).push("style",tt),it=Ne,(et.updateQueue=it)&&(et.effectTag|=4)}},Ad=function(Ne,et,tt,nt){tt!==nt&&(et.effectTag|=4)};var Md="function"==typeof WeakSet?WeakSet:Set;function Ci(Ne,et){var tt=et.source,nt=et.stack;null===nt&&null!==tt&&(nt=qb(tt)),null!==tt&&pb(tt.type),et=et.value,null!==Ne&&1===Ne.tag&&pb(Ne.type);try{console.error(et)}catch(Ne){setTimeout((function(){throw Ne}))}}function Fi(Ne){var et=Ne.ref;if(null!==et)if("function"==typeof et)try{et(null)}catch(et){Ei(Ne,et)}else et.current=null}function Gi(Ne,et){switch(et.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&et.effectTag&&null!==Ne){var tt=Ne.memoizedProps,nt=Ne.memoizedState;et=(Ne=et.stateNode).getSnapshotBeforeUpdate(et.elementType===et.type?tt:ig(et.type,tt),nt),Ne.__reactInternalSnapshotBeforeUpdate=et}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function Hi(Ne,et){if(null!==(et=null!==(et=et.updateQueue)?et.lastEffect:null)){var tt=et=et.next;do{if((tt.tag&Ne)===Ne){var nt=tt.destroy;tt.destroy=void 0,void 0!==nt&&nt()}tt=tt.next}while(tt!==et)}}function Ii(Ne,et){if(null!==(et=null!==(et=et.updateQueue)?et.lastEffect:null)){var tt=et=et.next;do{if((tt.tag&Ne)===Ne){var nt=tt.create;tt.destroy=nt()}tt=tt.next}while(tt!==et)}}function Ji(Ne,et,tt){switch(tt.tag){case 0:case 11:case 15:case 22:return void Ii(3,tt);case 1:if(Ne=tt.stateNode,4&tt.effectTag)if(null===et)Ne.componentDidMount();else{var nt=tt.elementType===tt.type?et.memoizedProps:ig(tt.type,et.memoizedProps);Ne.componentDidUpdate(nt,et.memoizedState,Ne.__reactInternalSnapshotBeforeUpdate)}return void(null!==(et=tt.updateQueue)&&Cg(tt,et,Ne));case 3:if(null!==(et=tt.updateQueue)){if(Ne=null,null!==tt.child)switch(tt.child.tag){case 5:Ne=tt.child.stateNode;break;case 1:Ne=tt.child.stateNode}Cg(tt,et,Ne)}return;case 5:return Ne=tt.stateNode,void(null===et&&4&tt.effectTag&&Fd(tt.type,tt.memoizedProps)&&Ne.focus());case 6:case 4:case 12:return;case 13:return void(null===tt.memoizedState&&(tt=tt.alternate,null!==tt&&(tt=tt.memoizedState,null!==tt&&(tt=tt.dehydrated,null!==tt&&Vc(tt)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function Ki(Ne,et,tt){switch("function"==typeof Tf&&Tf(et),et.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(Ne=et.updateQueue)&&null!==(Ne=Ne.lastEffect)){var nt=Ne.next;cg(97<tt?97:tt,(function(){var Ne=nt;do{var tt=Ne.destroy;if(void 0!==tt){var rt=et;try{tt()}catch(Ne){Ei(rt,Ne)}}Ne=Ne.next}while(Ne!==nt)}))}break;case 1:Fi(et),"function"==typeof(tt=et.stateNode).componentWillUnmount&&function Di(Ne,et){try{et.props=Ne.memoizedProps,et.state=Ne.memoizedState,et.componentWillUnmount()}catch(et){Ei(Ne,et)}}(et,tt);break;case 5:Fi(et);break;case 4:Mi(Ne,et,tt)}}function Ni(Ne){var et=Ne.alternate;Ne.return=null,Ne.child=null,Ne.memoizedState=null,Ne.updateQueue=null,Ne.dependencies=null,Ne.alternate=null,Ne.firstEffect=null,Ne.lastEffect=null,Ne.pendingProps=null,Ne.memoizedProps=null,Ne.stateNode=null,null!==et&&Ni(et)}function Oi(Ne){return 5===Ne.tag||3===Ne.tag||4===Ne.tag}function Pi(Ne){e:{for(var et=Ne.return;null!==et;){if(Oi(et)){var tt=et;break e}et=et.return}throw Error(u(160))}switch(et=tt.stateNode,tt.tag){case 5:var nt=!1;break;case 3:case 4:et=et.containerInfo,nt=!0;break;default:throw Error(u(161))}16&tt.effectTag&&(Rb(et,""),tt.effectTag&=-17);e:t:for(tt=Ne;;){for(;null===tt.sibling;){if(null===tt.return||Oi(tt.return)){tt=null;break e}tt=tt.return}for(tt.sibling.return=tt.return,tt=tt.sibling;5!==tt.tag&&6!==tt.tag&&18!==tt.tag;){if(2&tt.effectTag)continue t;if(null===tt.child||4===tt.tag)continue t;tt.child.return=tt,tt=tt.child}if(!(2&tt.effectTag)){tt=tt.stateNode;break e}}nt?function Qi(Ne,et,tt){var nt=Ne.tag,rt=5===nt||6===nt;if(rt)Ne=rt?Ne.stateNode:Ne.stateNode.instance,et?8===tt.nodeType?tt.parentNode.insertBefore(Ne,et):tt.insertBefore(Ne,et):(8===tt.nodeType?(et=tt.parentNode).insertBefore(Ne,tt):(et=tt).appendChild(Ne),null!==(tt=tt._reactRootContainer)&&void 0!==tt||null!==et.onclick||(et.onclick=sd));else if(4!==nt&&null!==(Ne=Ne.child))for(Qi(Ne,et,tt),Ne=Ne.sibling;null!==Ne;)Qi(Ne,et,tt),Ne=Ne.sibling}(Ne,tt,et):function Ri(Ne,et,tt){var nt=Ne.tag,rt=5===nt||6===nt;if(rt)Ne=rt?Ne.stateNode:Ne.stateNode.instance,et?tt.insertBefore(Ne,et):tt.appendChild(Ne);else if(4!==nt&&null!==(Ne=Ne.child))for(Ri(Ne,et,tt),Ne=Ne.sibling;null!==Ne;)Ri(Ne,et,tt),Ne=Ne.sibling}(Ne,tt,et)}function Mi(Ne,et,tt){for(var nt,rt,it=et,ot=!1;;){if(!ot){ot=it.return;e:for(;;){if(null===ot)throw Error(u(160));switch(nt=ot.stateNode,ot.tag){case 5:rt=!1;break e;case 3:case 4:nt=nt.containerInfo,rt=!0;break e}ot=ot.return}ot=!0}if(5===it.tag||6===it.tag){e:for(var at=Ne,st=it,ct=tt,pt=st;;)if(Ki(at,pt,ct),null!==pt.child&&4!==pt.tag)pt.child.return=pt,pt=pt.child;else{if(pt===st)break e;for(;null===pt.sibling;){if(null===pt.return||pt.return===st)break e;pt=pt.return}pt.sibling.return=pt.return,pt=pt.sibling}rt?(at=nt,st=it.stateNode,8===at.nodeType?at.parentNode.removeChild(st):at.removeChild(st)):nt.removeChild(it.stateNode)}else if(4===it.tag){if(null!==it.child){nt=it.stateNode.containerInfo,rt=!0,it.child.return=it,it=it.child;continue}}else if(Ki(Ne,it,tt),null!==it.child){it.child.return=it,it=it.child;continue}if(it===et)break;for(;null===it.sibling;){if(null===it.return||it.return===et)return;4===(it=it.return).tag&&(ot=!1)}it.sibling.return=it.return,it=it.sibling}}function Si(Ne,et){switch(et.tag){case 0:case 11:case 14:case 15:case 22:return void Hi(3,et);case 1:return;case 5:var tt=et.stateNode;if(null!=tt){var nt=et.memoizedProps,rt=null!==Ne?Ne.memoizedProps:nt;Ne=et.type;var it=et.updateQueue;if(et.updateQueue=null,null!==it){for(tt[Cl]=nt,"input"===Ne&&"radio"===nt.type&&null!=nt.name&&Bb(tt,nt),pd(Ne,rt),et=pd(Ne,nt),rt=0;rt<it.length;rt+=2){var ot=it[rt],at=it[rt+1];"style"===ot?md(tt,at):"dangerouslySetInnerHTML"===ot?ga(tt,at):"children"===ot?Rb(tt,at):Xa(tt,ot,at,et)}switch(Ne){case"input":Cb(tt,nt);break;case"textarea":Kb(tt,nt);break;case"select":et=tt._wrapperState.wasMultiple,tt._wrapperState.wasMultiple=!!nt.multiple,null!=(Ne=nt.value)?Hb(tt,!!nt.multiple,Ne,!1):et!==!!nt.multiple&&(null!=nt.defaultValue?Hb(tt,!!nt.multiple,nt.defaultValue,!0):Hb(tt,!!nt.multiple,nt.multiple?[]:"",!1))}}}return;case 6:if(null===et.stateNode)throw Error(u(162));return void(et.stateNode.nodeValue=et.memoizedProps);case 3:return void((et=et.stateNode).hydrate&&(et.hydrate=!1,Vc(et.containerInfo)));case 12:return;case 13:if(tt=et,null===et.memoizedState?nt=!1:(nt=!0,tt=et.child,cf=Wp()),null!==tt)e:for(Ne=tt;;){if(5===Ne.tag)it=Ne.stateNode,nt?"function"==typeof(it=it.style).setProperty?it.setProperty("display","none","important"):it.display="none":(it=Ne.stateNode,rt=null!=(rt=Ne.memoizedProps.style)&&rt.hasOwnProperty("display")?rt.display:null,it.style.display=ld("display",rt));else if(6===Ne.tag)Ne.stateNode.nodeValue=nt?"":Ne.memoizedProps;else{if(13===Ne.tag&&null!==Ne.memoizedState&&null===Ne.memoizedState.dehydrated){(it=Ne.child.sibling).return=Ne,Ne=it;continue}if(null!==Ne.child){Ne.child.return=Ne,Ne=Ne.child;continue}}if(Ne===tt)break;for(;null===Ne.sibling;){if(null===Ne.return||Ne.return===tt)break e;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}return void Ui(et);case 19:return void Ui(et);case 17:return}throw Error(u(163))}function Ui(Ne){var et=Ne.updateQueue;if(null!==et){Ne.updateQueue=null;var tt=Ne.stateNode;null===tt&&(tt=Ne.stateNode=new Md),et.forEach((function(et){var nt=Vi.bind(null,Ne,et);tt.has(et)||(tt.add(et),et.then(nt,nt))}))}}var Od="function"==typeof WeakMap?WeakMap:Map;function Xi(Ne,et,tt){(tt=wg(tt,null)).tag=3,tt.payload={element:null};var nt=et.value;return tt.callback=function(){hf||(hf=!0,df=nt),Ci(Ne,et)},tt}function $i(Ne,et,tt){(tt=wg(tt,null)).tag=3;var nt=Ne.type.getDerivedStateFromError;if("function"==typeof nt){var rt=et.value;tt.payload=function(){return Ci(Ne,et),nt(rt)}}var it=Ne.stateNode;return null!==it&&"function"==typeof it.componentDidCatch&&(tt.callback=function(){"function"!=typeof nt&&(null===ff?ff=new Set([this]):ff.add(this),Ci(Ne,et));var tt=et.stack;this.componentDidCatch(et.value,{componentStack:null!==tt?tt:""})}),tt}var zd,Dd=Math.ceil,Bd=Wn.ReactCurrentDispatcher,jd=Wn.ReactCurrentOwner,Nd=0,Zd=3,qd=4,Hd=0,$d=null,Yd=null,ef=0,tf=Nd,nf=null,rf=1073741823,af=1073741823,sf=null,lf=0,uf=!1,cf=0,pf=null,hf=!1,df=null,ff=null,mf=!1,gf=null,yf=90,vf=null,_f=0,xf=null,wf=0;function Gg(){return 0!=(48&Hd)?1073741821-(Wp()/10|0):0!==wf?wf:wf=1073741821-(Wp()/10|0)}function Hg(Ne,et,tt){if(0==(2&(et=et.mode)))return 1073741823;var nt=ag();if(0==(4&et))return 99===nt?1073741823:1073741822;if(0!=(16&Hd))return ef;if(null!==tt)Ne=hg(Ne,0|tt.timeoutMs||5e3,250);else switch(nt){case 99:Ne=1073741823;break;case 98:Ne=hg(Ne,150,100);break;case 97:case 96:Ne=hg(Ne,5e3,250);break;case 95:Ne=2;break;default:throw Error(u(326))}return null!==$d&&Ne===ef&&--Ne,Ne}function Ig(Ne,et){if(50<_f)throw _f=0,xf=null,Error(u(185));if(null!==(Ne=xj(Ne,et))){var tt=ag();1073741823===et?0!=(8&Hd)&&0==(48&Hd)?yj(Ne):(Z(Ne),0===Hd&&gg()):Z(Ne),0==(4&Hd)||98!==tt&&99!==tt||(null===vf?vf=new Map([[Ne,et]]):(void 0===(tt=vf.get(Ne))||tt>et)&&vf.set(Ne,et))}}function xj(Ne,et){Ne.expirationTime<et&&(Ne.expirationTime=et);var tt=Ne.alternate;null!==tt&&tt.expirationTime<et&&(tt.expirationTime=et);var nt=Ne.return,rt=null;if(null===nt&&3===Ne.tag)rt=Ne.stateNode;else for(;null!==nt;){if(tt=nt.alternate,nt.childExpirationTime<et&&(nt.childExpirationTime=et),null!==tt&&tt.childExpirationTime<et&&(tt.childExpirationTime=et),null===nt.return&&3===nt.tag){rt=nt.stateNode;break}nt=nt.return}return null!==rt&&($d===rt&&(Bg(et),tf===qd&&xi(rt,ef)),yi(rt,et)),rt}function zj(Ne){var et=Ne.lastExpiredTime;if(0!==et)return et;if(!Aj(Ne,et=Ne.firstPendingTime))return et;var tt=Ne.lastPingedTime;return 2>=(Ne=tt>(Ne=Ne.nextKnownPendingLevel)?tt:Ne)&&et!==Ne?0:Ne}function Z(Ne){if(0!==Ne.lastExpiredTime)Ne.callbackExpirationTime=1073741823,Ne.callbackPriority=99,Ne.callbackNode=eg(yj.bind(null,Ne));else{var et=zj(Ne),tt=Ne.callbackNode;if(0===et)null!==tt&&(Ne.callbackNode=null,Ne.callbackExpirationTime=0,Ne.callbackPriority=90);else{var nt=Gg();if(1073741823===et?nt=99:1===et||2===et?nt=95:nt=0>=(nt=10*(1073741821-et)-10*(1073741821-nt))?99:250>=nt?98:5250>=nt?97:95,null!==tt){var rt=Ne.callbackPriority;if(Ne.callbackExpirationTime===et&&rt>=nt)return;tt!==Bp&&Ip(tt)}Ne.callbackExpirationTime=et,Ne.callbackPriority=nt,et=1073741823===et?eg(yj.bind(null,Ne)):dg(nt,Bj.bind(null,Ne),{timeout:10*(1073741821-et)-Wp()}),Ne.callbackNode=et}}}function Bj(Ne,et){if(wf=0,et)return Cj(Ne,et=Gg()),Z(Ne),null;var tt=zj(Ne);if(0!==tt){if(et=Ne.callbackNode,0!=(48&Hd))throw Error(u(327));if(Dj(),Ne===$d&&tt===ef||Ej(Ne,tt),null!==Yd){var nt=Hd;Hd|=16;for(var rt=Fj();;)try{Gj();break}catch(et){Hj(Ne,et)}if(ng(),Hd=nt,Bd.current=rt,1===tf)throw et=nf,Ej(Ne,tt),xi(Ne,tt),Z(Ne),et;if(null===Yd)switch(rt=Ne.finishedWork=Ne.current.alternate,Ne.finishedExpirationTime=tt,nt=tf,$d=null,nt){case Nd:case 1:throw Error(u(345));case 2:Cj(Ne,2<tt?2:tt);break;case Zd:if(xi(Ne,tt),tt===(nt=Ne.lastSuspendedTime)&&(Ne.nextKnownPendingLevel=Ij(rt)),1073741823===rf&&10<(rt=cf+500-Wp())){if(uf){var it=Ne.lastPingedTime;if(0===it||it>=tt){Ne.lastPingedTime=tt,Ej(Ne,tt);break}}if(0!==(it=zj(Ne))&&it!==tt)break;if(0!==nt&&nt!==tt){Ne.lastPingedTime=nt;break}Ne.timeoutHandle=bl(Jj.bind(null,Ne),rt);break}Jj(Ne);break;case qd:if(xi(Ne,tt),tt===(nt=Ne.lastSuspendedTime)&&(Ne.nextKnownPendingLevel=Ij(rt)),uf&&(0===(rt=Ne.lastPingedTime)||rt>=tt)){Ne.lastPingedTime=tt,Ej(Ne,tt);break}if(0!==(rt=zj(Ne))&&rt!==tt)break;if(0!==nt&&nt!==tt){Ne.lastPingedTime=nt;break}if(1073741823!==af?nt=10*(1073741821-af)-Wp():1073741823===rf?nt=0:(nt=10*(1073741821-rf)-5e3,0>(nt=(rt=Wp())-nt)&&(nt=0),(tt=10*(1073741821-tt)-rt)<(nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*Dd(nt/1960))-nt)&&(nt=tt)),10<nt){Ne.timeoutHandle=bl(Jj.bind(null,Ne),nt);break}Jj(Ne);break;case 5:if(1073741823!==rf&&null!==sf){it=rf;var ot=sf;if(0>=(nt=0|ot.busyMinDurationMs)?nt=0:(rt=0|ot.busyDelayMs,nt=(it=Wp()-(10*(1073741821-it)-(0|ot.timeoutMs||5e3)))<=rt?0:rt+nt-it),10<nt){xi(Ne,tt),Ne.timeoutHandle=bl(Jj.bind(null,Ne),nt);break}}Jj(Ne);break;default:throw Error(u(329))}if(Z(Ne),Ne.callbackNode===et)return Bj.bind(null,Ne)}}return null}function yj(Ne){var et=Ne.lastExpiredTime;if(et=0!==et?et:1073741823,0!=(48&Hd))throw Error(u(327));if(Dj(),Ne===$d&&et===ef||Ej(Ne,et),null!==Yd){var tt=Hd;Hd|=16;for(var nt=Fj();;)try{Kj();break}catch(et){Hj(Ne,et)}if(ng(),Hd=tt,Bd.current=nt,1===tf)throw tt=nf,Ej(Ne,et),xi(Ne,et),Z(Ne),tt;if(null!==Yd)throw Error(u(261));Ne.finishedWork=Ne.current.alternate,Ne.finishedExpirationTime=et,$d=null,Jj(Ne),Z(Ne)}return null}function Mj(Ne,et){var tt=Hd;Hd|=1;try{return Ne(et)}finally{0===(Hd=tt)&&gg()}}function Nj(Ne,et){var tt=Hd;Hd&=-2,Hd|=8;try{return Ne(et)}finally{0===(Hd=tt)&&gg()}}function Ej(Ne,et){Ne.finishedWork=null,Ne.finishedExpirationTime=0;var tt=Ne.timeoutHandle;if(-1!==tt&&(Ne.timeoutHandle=-1,xl(tt)),null!==Yd)for(tt=Yd.return;null!==tt;){var nt=tt;switch(nt.tag){case 1:null!=(nt=nt.type.childContextTypes)&&Df();break;case 3:eh(),H(Tp),H(Ep);break;case 5:gh(nt);break;case 4:eh();break;case 13:case 19:H(bh);break;case 10:og(nt)}tt=tt.return}$d=Ne,Yd=Sg(Ne.current,null),ef=et,tf=Nd,nf=null,af=rf=1073741823,sf=null,lf=0,uf=!1}function Hj(Ne,et){for(;;){try{if(ng(),Ph.current=ed,Qh)for(var tt=jh.memoizedState;null!==tt;){var nt=tt.queue;null!==nt&&(nt.pending=null),tt=tt.next}if(Oh=0,Yh=qh=jh=null,Qh=!1,null===Yd||null===Yd.return)return tf=1,nf=et,Yd=null;e:{var rt=Ne,it=Yd.return,ot=Yd,at=et;if(et=ef,ot.effectTag|=2048,ot.firstEffect=ot.lastEffect=null,null!==at&&"object"==typeof at&&"function"==typeof at.then){var st=at;if(0==(2&ot.mode)){var ct=ot.alternate;ct?(ot.updateQueue=ct.updateQueue,ot.memoizedState=ct.memoizedState,ot.expirationTime=ct.expirationTime):(ot.updateQueue=null,ot.memoizedState=null)}var pt=0!=(1&bh.current),dt=it;do{var ft;if(ft=13===dt.tag){var mt=dt.memoizedState;if(null!==mt)ft=null!==mt.dehydrated;else{var yt=dt.memoizedProps;ft=void 0!==yt.fallback&&(!0!==yt.unstable_avoidThisFallback||!pt)}}if(ft){var vt=dt.updateQueue;if(null===vt){var Ot=new Set;Ot.add(st),dt.updateQueue=Ot}else vt.add(st);if(0==(2&dt.mode)){if(dt.effectTag|=64,ot.effectTag&=-2981,1===ot.tag)if(null===ot.alternate)ot.tag=17;else{var Dt=wg(1073741823,null);Dt.tag=2,xg(ot,Dt)}ot.expirationTime=1073741823;break e}at=void 0,ot=et;var Rt=rt.pingCache;if(null===Rt?(Rt=rt.pingCache=new Od,at=new Set,Rt.set(st,at)):void 0===(at=Rt.get(st))&&(at=new Set,Rt.set(st,at)),!at.has(ot)){at.add(ot);var Bt=Oj.bind(null,rt,st,ot);st.then(Bt,Bt)}dt.effectTag|=4096,dt.expirationTime=et;break e}dt=dt.return}while(null!==dt);at=Error((pb(ot.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+qb(ot))}5!==tf&&(tf=2),at=Ai(at,ot),dt=it;do{switch(dt.tag){case 3:st=at,dt.effectTag|=4096,dt.expirationTime=et,yg(dt,Xi(dt,st,et));break e;case 1:st=at;var rn=dt.type,vn=dt.stateNode;if(0==(64&dt.effectTag)&&("function"==typeof rn.getDerivedStateFromError||null!==vn&&"function"==typeof vn.componentDidCatch&&(null===ff||!ff.has(vn)))){dt.effectTag|=4096,dt.expirationTime=et,yg(dt,$i(dt,st,et));break e}}dt=dt.return}while(null!==dt)}Yd=Pj(Yd)}catch(Ne){et=Ne;continue}break}}function Fj(){var Ne=Bd.current;return Bd.current=ed,null===Ne?ed:Ne}function Ag(Ne,et){Ne<rf&&2<Ne&&(rf=Ne),null!==et&&Ne<af&&2<Ne&&(af=Ne,sf=et)}function Bg(Ne){Ne>lf&&(lf=Ne)}function Kj(){for(;null!==Yd;)Yd=Qj(Yd)}function Gj(){for(;null!==Yd&&!jp();)Yd=Qj(Yd)}function Qj(Ne){var et=zd(Ne.alternate,Ne,ef);return Ne.memoizedProps=Ne.pendingProps,null===et&&(et=Pj(Ne)),jd.current=null,et}function Pj(Ne){Yd=Ne;do{var et=Yd.alternate;if(Ne=Yd.return,0==(2048&Yd.effectTag)){if(et=si(et,Yd,ef),1===ef||1!==Yd.childExpirationTime){for(var tt=0,nt=Yd.child;null!==nt;){var rt=nt.expirationTime,it=nt.childExpirationTime;rt>tt&&(tt=rt),it>tt&&(tt=it),nt=nt.sibling}Yd.childExpirationTime=tt}if(null!==et)return et;null!==Ne&&0==(2048&Ne.effectTag)&&(null===Ne.firstEffect&&(Ne.firstEffect=Yd.firstEffect),null!==Yd.lastEffect&&(null!==Ne.lastEffect&&(Ne.lastEffect.nextEffect=Yd.firstEffect),Ne.lastEffect=Yd.lastEffect),1<Yd.effectTag&&(null!==Ne.lastEffect?Ne.lastEffect.nextEffect=Yd:Ne.firstEffect=Yd,Ne.lastEffect=Yd))}else{if(null!==(et=zi(Yd)))return et.effectTag&=2047,et;null!==Ne&&(Ne.firstEffect=Ne.lastEffect=null,Ne.effectTag|=2048)}if(null!==(et=Yd.sibling))return et;Yd=Ne}while(null!==Yd);return tf===Nd&&(tf=5),null}function Ij(Ne){var et=Ne.expirationTime;return et>(Ne=Ne.childExpirationTime)?et:Ne}function Jj(Ne){var et=ag();return cg(99,Sj.bind(null,Ne,et)),null}function Sj(Ne,et){do{Dj()}while(null!==gf);if(0!=(48&Hd))throw Error(u(327));var tt=Ne.finishedWork,nt=Ne.finishedExpirationTime;if(null===tt)return null;if(Ne.finishedWork=null,Ne.finishedExpirationTime=0,tt===Ne.current)throw Error(u(177));Ne.callbackNode=null,Ne.callbackExpirationTime=0,Ne.callbackPriority=90,Ne.nextKnownPendingLevel=0;var rt=Ij(tt);if(Ne.firstPendingTime=rt,nt<=Ne.lastSuspendedTime?Ne.firstSuspendedTime=Ne.lastSuspendedTime=Ne.nextKnownPendingLevel=0:nt<=Ne.firstSuspendedTime&&(Ne.firstSuspendedTime=nt-1),nt<=Ne.lastPingedTime&&(Ne.lastPingedTime=0),nt<=Ne.lastExpiredTime&&(Ne.lastExpiredTime=0),Ne===$d&&(Yd=$d=null,ef=0),1<tt.effectTag?null!==tt.lastEffect?(tt.lastEffect.nextEffect=tt,rt=tt.firstEffect):rt=tt:rt=tt.firstEffect,null!==rt){var it=Hd;Hd|=32,jd.current=null,vl=ol;var ot=xd();if(yd(ot)){if("selectionStart"in ot)var at={start:ot.selectionStart,end:ot.selectionEnd};else e:{var st=(at=(at=ot.ownerDocument)&&at.defaultView||window).getSelection&&at.getSelection();if(st&&0!==st.rangeCount){at=st.anchorNode;var ct=st.anchorOffset,pt=st.focusNode;st=st.focusOffset;try{at.nodeType,pt.nodeType}catch(Ne){at=null;break e}var dt=0,ft=-1,mt=-1,yt=0,vt=0,Ot=ot,Dt=null;t:for(;;){for(var Rt;Ot!==at||0!==ct&&3!==Ot.nodeType||(ft=dt+ct),Ot!==pt||0!==st&&3!==Ot.nodeType||(mt=dt+st),3===Ot.nodeType&&(dt+=Ot.nodeValue.length),null!==(Rt=Ot.firstChild);)Dt=Ot,Ot=Rt;for(;;){if(Ot===ot)break t;if(Dt===at&&++yt===ct&&(ft=dt),Dt===pt&&++vt===st&&(mt=dt),null!==(Rt=Ot.nextSibling))break;Dt=(Ot=Dt).parentNode}Ot=Rt}at=-1===ft||-1===mt?null:{start:ft,end:mt}}else at=null}at=at||{start:0,end:0}}else at=null;_l={activeElementDetached:null,focusedElem:ot,selectionRange:at},ol=!1,pf=rt;do{try{Tj()}catch(Ne){if(null===pf)throw Error(u(330));Ei(pf,Ne),pf=pf.nextEffect}}while(null!==pf);pf=rt;do{try{for(ot=Ne,at=et;null!==pf;){var Bt=pf.effectTag;if(16&Bt&&Rb(pf.stateNode,""),128&Bt){var rn=pf.alternate;if(null!==rn){var vn=rn.ref;null!==vn&&("function"==typeof vn?vn(null):vn.current=null)}}switch(1038&Bt){case 2:Pi(pf),pf.effectTag&=-3;break;case 6:Pi(pf),pf.effectTag&=-3,Si(pf.alternate,pf);break;case 1024:pf.effectTag&=-1025;break;case 1028:pf.effectTag&=-1025,Si(pf.alternate,pf);break;case 4:Si(pf.alternate,pf);break;case 8:Mi(ot,ct=pf,at),Ni(ct)}pf=pf.nextEffect}}catch(Ne){if(null===pf)throw Error(u(330));Ei(pf,Ne),pf=pf.nextEffect}}while(null!==pf);if(vn=_l,rn=xd(),Bt=vn.focusedElem,at=vn.selectionRange,rn!==Bt&&Bt&&Bt.ownerDocument&&function wd(Ne,et){return!(!Ne||!et)&&(Ne===et||(!Ne||3!==Ne.nodeType)&&(et&&3===et.nodeType?wd(Ne,et.parentNode):"contains"in Ne?Ne.contains(et):!!Ne.compareDocumentPosition&&!!(16&Ne.compareDocumentPosition(et))))}(Bt.ownerDocument.documentElement,Bt)){null!==at&&yd(Bt)&&(rn=at.start,void 0===(vn=at.end)&&(vn=rn),"selectionStart"in Bt?(Bt.selectionStart=rn,Bt.selectionEnd=Math.min(vn,Bt.value.length)):(vn=(rn=Bt.ownerDocument||document)&&rn.defaultView||window).getSelection&&(vn=vn.getSelection(),ct=Bt.textContent.length,ot=Math.min(at.start,ct),at=void 0===at.end?ot:Math.min(at.end,ct),!vn.extend&&ot>at&&(ct=at,at=ot,ot=ct),ct=vd(Bt,ot),pt=vd(Bt,at),ct&&pt&&(1!==vn.rangeCount||vn.anchorNode!==ct.node||vn.anchorOffset!==ct.offset||vn.focusNode!==pt.node||vn.focusOffset!==pt.offset)&&((rn=rn.createRange()).setStart(ct.node,ct.offset),vn.removeAllRanges(),ot>at?(vn.addRange(rn),vn.extend(pt.node,pt.offset)):(rn.setEnd(pt.node,pt.offset),vn.addRange(rn))))),rn=[];for(vn=Bt;vn=vn.parentNode;)1===vn.nodeType&&rn.push({element:vn,left:vn.scrollLeft,top:vn.scrollTop});for("function"==typeof Bt.focus&&Bt.focus(),Bt=0;Bt<rn.length;Bt++)(vn=rn[Bt]).element.scrollLeft=vn.left,vn.element.scrollTop=vn.top}ol=!!vl,_l=vl=null,Ne.current=tt,pf=rt;do{try{for(Bt=Ne;null!==pf;){var bn=pf.effectTag;if(36&bn&&Ji(Bt,pf.alternate,pf),128&bn){rn=void 0;var Tn=pf.ref;if(null!==Tn){var Cn=pf.stateNode;switch(pf.tag){case 5:rn=Cn;break;default:rn=Cn}"function"==typeof Tn?Tn(rn):Tn.current=rn}}pf=pf.nextEffect}}catch(Ne){if(null===pf)throw Error(u(330));Ei(pf,Ne),pf=pf.nextEffect}}while(null!==pf);pf=null,Np(),Hd=it}else Ne.current=tt;if(mf)mf=!1,gf=Ne,yf=et;else for(pf=rt;null!==pf;)et=pf.nextEffect,pf.nextEffect=null,pf=et;if(0===(et=Ne.firstPendingTime)&&(ff=null),1073741823===et?Ne===xf?_f++:(_f=0,xf=Ne):_f=0,"function"==typeof Sf&&Sf(tt.stateNode,nt),Z(Ne),hf)throw hf=!1,Ne=df,df=null,Ne;return 0!=(8&Hd)||gg(),null}function Tj(){for(;null!==pf;){var Ne=pf.effectTag;0!=(256&Ne)&&Gi(pf.alternate,pf),0==(512&Ne)||mf||(mf=!0,dg(97,(function(){return Dj(),null}))),pf=pf.nextEffect}}function Dj(){if(90!==yf){var Ne=97<yf?97:yf;return yf=90,cg(Ne,Vj)}}function Vj(){if(null===gf)return!1;var Ne=gf;if(gf=null,0!=(48&Hd))throw Error(u(331));var et=Hd;for(Hd|=32,Ne=Ne.current.firstEffect;null!==Ne;){try{var tt=Ne;if(0!=(512&tt.effectTag))switch(tt.tag){case 0:case 11:case 15:case 22:Hi(5,tt),Ii(5,tt)}}catch(et){if(null===Ne)throw Error(u(330));Ei(Ne,et)}tt=Ne.nextEffect,Ne.nextEffect=null,Ne=tt}return Hd=et,gg(),!0}function Wj(Ne,et,tt){xg(Ne,et=Xi(Ne,et=Ai(tt,et),1073741823)),null!==(Ne=xj(Ne,1073741823))&&Z(Ne)}function Ei(Ne,et){if(3===Ne.tag)Wj(Ne,Ne,et);else for(var tt=Ne.return;null!==tt;){if(3===tt.tag){Wj(tt,Ne,et);break}if(1===tt.tag){var nt=tt.stateNode;if("function"==typeof tt.type.getDerivedStateFromError||"function"==typeof nt.componentDidCatch&&(null===ff||!ff.has(nt))){xg(tt,Ne=$i(tt,Ne=Ai(et,Ne),1073741823)),null!==(tt=xj(tt,1073741823))&&Z(tt);break}}tt=tt.return}}function Oj(Ne,et,tt){var nt=Ne.pingCache;null!==nt&&nt.delete(et),$d===Ne&&ef===tt?tf===qd||tf===Zd&&1073741823===rf&&Wp()-cf<500?Ej(Ne,ef):uf=!0:Aj(Ne,tt)&&(0!==(et=Ne.lastPingedTime)&&et<tt||(Ne.lastPingedTime=tt,Z(Ne)))}function Vi(Ne,et){var tt=Ne.stateNode;null!==tt&&tt.delete(et),0===(et=0)&&(et=Hg(et=Gg(),Ne,null)),null!==(Ne=xj(Ne,et))&&Z(Ne)}zd=function(Ne,et,tt){var nt=et.expirationTime;if(null!==Ne){var rt=et.pendingProps;if(Ne.memoizedProps!==rt||Tp.current)Cd=!0;else{if(nt<tt){switch(Cd=!1,et.tag){case 3:hi(et),Xh();break;case 5:if(fh(et),4&et.mode&&1!==tt&&rt.hidden)return et.expirationTime=et.childExpirationTime=1,null;break;case 1:L(et.type)&&Gf(et);break;case 4:dh(et,et.stateNode.containerInfo);break;case 10:nt=et.memoizedProps.value,rt=et.type._context,I(Hp,rt._currentValue),rt._currentValue=nt;break;case 13:if(null!==et.memoizedState)return 0!==(nt=et.child.childExpirationTime)&&nt>=tt?ji(Ne,et,tt):(I(bh,1&bh.current),null!==(et=$h(Ne,et,tt))?et.sibling:null);I(bh,1&bh.current);break;case 19:if(nt=et.childExpirationTime>=tt,0!=(64&Ne.effectTag)){if(nt)return mi(Ne,et,tt);et.effectTag|=64}if(null!==(rt=et.memoizedState)&&(rt.rendering=null,rt.tail=null),I(bh,bh.current),!nt)return null}return $h(Ne,et,tt)}Cd=!1}}else Cd=!1;switch(et.expirationTime=0,et.tag){case 2:if(nt=et.type,null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),Ne=et.pendingProps,rt=Cf(et,Ep.current),qg(et,tt),rt=oh(null,et,nt,Ne,rt,tt),et.effectTag|=1,"object"==typeof rt&&null!==rt&&"function"==typeof rt.render&&void 0===rt.$$typeof){if(et.tag=1,et.memoizedState=null,et.updateQueue=null,L(nt)){var it=!0;Gf(et)}else it=!1;et.memoizedState=null!==rt.state&&void 0!==rt.state?rt.state:null,ug(et);var ot=nt.getDerivedStateFromProps;"function"==typeof ot&&Fg(et,nt,ot,Ne),rt.updater=Qp,et.stateNode=rt,rt._reactInternalFiber=et,Ng(et,nt,Ne,tt),et=gi(null,et,nt,!0,it,tt)}else et.tag=0,R(null,et,rt,tt),et=et.child;return et;case 16:e:{if(rt=et.elementType,null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),Ne=et.pendingProps,function ob(Ne){if(-1===Ne._status){Ne._status=0;var et=Ne._ctor;et=et(),Ne._result=et,et.then((function(et){0===Ne._status&&(et=et.default,Ne._status=1,Ne._result=et)}),(function(et){0===Ne._status&&(Ne._status=2,Ne._result=et)}))}}(rt),1!==rt._status)throw rt._result;switch(rt=rt._result,et.type=rt,it=et.tag=function Xj(Ne){if("function"==typeof Ne)return bi(Ne)?1:0;if(null!=Ne){if((Ne=Ne.$$typeof)===po)return 11;if(Ne===ta)return 14}return 2}(rt),Ne=ig(rt,Ne),it){case 0:et=di(null,et,rt,Ne,tt);break e;case 1:et=fi(null,et,rt,Ne,tt);break e;case 11:et=Zh(null,et,rt,Ne,tt);break e;case 14:et=ai(null,et,rt,ig(rt.type,Ne),nt,tt);break e}throw Error(u(306,rt,""))}return et;case 0:return nt=et.type,rt=et.pendingProps,di(Ne,et,nt,rt=et.elementType===nt?rt:ig(nt,rt),tt);case 1:return nt=et.type,rt=et.pendingProps,fi(Ne,et,nt,rt=et.elementType===nt?rt:ig(nt,rt),tt);case 3:if(hi(et),nt=et.updateQueue,null===Ne||null===nt)throw Error(u(282));if(nt=et.pendingProps,rt=null!==(rt=et.memoizedState)?rt.element:null,vg(Ne,et),zg(et,nt,null,tt),(nt=et.memoizedState.element)===rt)Xh(),et=$h(Ne,et,tt);else{if((rt=et.stateNode.hydrate)&&(_d=Jd(et.stateNode.containerInfo.firstChild),fd=et,rt=bd=!0),rt)for(tt=sh(et,null,nt,tt),et.child=tt;tt;)tt.effectTag=-3&tt.effectTag|1024,tt=tt.sibling;else R(Ne,et,nt,tt),Xh();et=et.child}return et;case 5:return fh(et),null===Ne&&Uh(et),nt=et.type,rt=et.pendingProps,it=null!==Ne?Ne.memoizedProps:null,ot=rt.children,Gd(nt,rt)?ot=null:null!==it&&Gd(nt,it)&&(et.effectTag|=16),ei(Ne,et),4&et.mode&&1!==tt&&rt.hidden?(et.expirationTime=et.childExpirationTime=1,et=null):(R(Ne,et,ot,tt),et=et.child),et;case 6:return null===Ne&&Uh(et),null;case 13:return ji(Ne,et,tt);case 4:return dh(et,et.stateNode.containerInfo),nt=et.pendingProps,null===Ne?et.child=ah(et,null,nt,tt):R(Ne,et,nt,tt),et.child;case 11:return nt=et.type,rt=et.pendingProps,Zh(Ne,et,nt,rt=et.elementType===nt?rt:ig(nt,rt),tt);case 7:return R(Ne,et,et.pendingProps,tt),et.child;case 8:case 12:return R(Ne,et,et.pendingProps.children,tt),et.child;case 10:e:{nt=et.type._context,rt=et.pendingProps,ot=et.memoizedProps,it=rt.value;var at=et.type._context;if(I(Hp,at._currentValue),at._currentValue=it,null!==ot)if(at=ot.value,0===(it=Xc(at,it)?0:0|("function"==typeof nt._calculateChangedBits?nt._calculateChangedBits(at,it):1073741823))){if(ot.children===rt.children&&!Tp.current){et=$h(Ne,et,tt);break e}}else for(null!==(at=et.child)&&(at.return=et);null!==at;){var st=at.dependencies;if(null!==st){ot=at.child;for(var ct=st.firstContext;null!==ct;){if(ct.context===nt&&0!=(ct.observedBits&it)){1===at.tag&&((ct=wg(tt,null)).tag=2,xg(at,ct)),at.expirationTime<tt&&(at.expirationTime=tt),null!==(ct=at.alternate)&&ct.expirationTime<tt&&(ct.expirationTime=tt),pg(at.return,tt),st.expirationTime<tt&&(st.expirationTime=tt);break}ct=ct.next}}else ot=10===at.tag&&at.type===et.type?null:at.child;if(null!==ot)ot.return=at;else for(ot=at;null!==ot;){if(ot===et){ot=null;break}if(null!==(at=ot.sibling)){at.return=ot.return,ot=at;break}ot=ot.return}at=ot}R(Ne,et,rt.children,tt),et=et.child}return et;case 9:return rt=et.type,nt=(it=et.pendingProps).children,qg(et,tt),nt=nt(rt=sg(rt,it.unstable_observedBits)),et.effectTag|=1,R(Ne,et,nt,tt),et.child;case 14:return it=ig(rt=et.type,et.pendingProps),ai(Ne,et,rt,it=ig(rt.type,it),nt,tt);case 15:return ci(Ne,et,et.type,et.pendingProps,nt,tt);case 17:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:ig(nt,rt),null!==Ne&&(Ne.alternate=null,et.alternate=null,et.effectTag|=2),et.tag=1,L(nt)?(Ne=!0,Gf(et)):Ne=!1,qg(et,tt),Lg(et,nt,rt),Ng(et,nt,rt,tt),gi(null,et,nt,!0,Ne,tt);case 19:return mi(Ne,et,tt)}throw Error(u(156,et.tag))};var Sf=null,Tf=null;function Zj(Ne,et,tt,nt){this.tag=Ne,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sh(Ne,et,tt,nt){return new Zj(Ne,et,tt,nt)}function bi(Ne){return!(!(Ne=Ne.prototype)||!Ne.isReactComponent)}function Sg(Ne,et){var tt=Ne.alternate;return null===tt?((tt=Sh(Ne.tag,et,Ne.key,Ne.mode)).elementType=Ne.elementType,tt.type=Ne.type,tt.stateNode=Ne.stateNode,tt.alternate=Ne,Ne.alternate=tt):(tt.pendingProps=et,tt.effectTag=0,tt.nextEffect=null,tt.firstEffect=null,tt.lastEffect=null),tt.childExpirationTime=Ne.childExpirationTime,tt.expirationTime=Ne.expirationTime,tt.child=Ne.child,tt.memoizedProps=Ne.memoizedProps,tt.memoizedState=Ne.memoizedState,tt.updateQueue=Ne.updateQueue,et=Ne.dependencies,tt.dependencies=null===et?null:{expirationTime:et.expirationTime,firstContext:et.firstContext,responders:et.responders},tt.sibling=Ne.sibling,tt.index=Ne.index,tt.ref=Ne.ref,tt}function Ug(Ne,et,tt,nt,rt,it){var ot=2;if(nt=Ne,"function"==typeof Ne)bi(Ne)&&(ot=1);else if("string"==typeof Ne)ot=5;else e:switch(Ne){case vr:return Wg(tt.children,rt,it,et);case uo:ot=8,rt|=7;break;case wr:ot=8,rt|=1;break;case Sr:return(Ne=Sh(12,tt,et,8|rt)).elementType=Sr,Ne.type=Sr,Ne.expirationTime=it,Ne;case vo:return(Ne=Sh(13,tt,et,rt)).type=vo,Ne.elementType=vo,Ne.expirationTime=it,Ne;case So:return(Ne=Sh(19,tt,et,rt)).elementType=So,Ne.expirationTime=it,Ne;default:if("object"==typeof Ne&&null!==Ne)switch(Ne.$$typeof){case ii:ot=10;break e;case qi:ot=9;break e;case po:ot=11;break e;case ta:ot=14;break e;case na:ot=16,nt=null;break e;case ia:ot=22;break e}throw Error(u(130,null==Ne?Ne:typeof Ne,""))}return(et=Sh(ot,tt,et,rt)).elementType=Ne,et.type=nt,et.expirationTime=it,et}function Wg(Ne,et,tt,nt){return(Ne=Sh(7,Ne,nt,et)).expirationTime=tt,Ne}function Tg(Ne,et,tt){return(Ne=Sh(6,Ne,null,et)).expirationTime=tt,Ne}function Vg(Ne,et,tt){return(et=Sh(4,null!==Ne.children?Ne.children:[],Ne.key,et)).expirationTime=tt,et.stateNode={containerInfo:Ne.containerInfo,pendingChildren:null,implementation:Ne.implementation},et}function ak(Ne,et,tt){this.tag=et,this.current=null,this.containerInfo=Ne,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=tt,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Aj(Ne,et){var tt=Ne.firstSuspendedTime;return Ne=Ne.lastSuspendedTime,0!==tt&&tt>=et&&Ne<=et}function xi(Ne,et){var tt=Ne.firstSuspendedTime,nt=Ne.lastSuspendedTime;tt<et&&(Ne.firstSuspendedTime=et),(nt>et||0===tt)&&(Ne.lastSuspendedTime=et),et<=Ne.lastPingedTime&&(Ne.lastPingedTime=0),et<=Ne.lastExpiredTime&&(Ne.lastExpiredTime=0)}function yi(Ne,et){et>Ne.firstPendingTime&&(Ne.firstPendingTime=et);var tt=Ne.firstSuspendedTime;0!==tt&&(et>=tt?Ne.firstSuspendedTime=Ne.lastSuspendedTime=Ne.nextKnownPendingLevel=0:et>=Ne.lastSuspendedTime&&(Ne.lastSuspendedTime=et+1),et>Ne.nextKnownPendingLevel&&(Ne.nextKnownPendingLevel=et))}function Cj(Ne,et){var tt=Ne.lastExpiredTime;(0===tt||tt>et)&&(Ne.lastExpiredTime=et)}function bk(Ne,et,tt,nt){var rt=et.current,it=Gg(),ot=Yp.suspense;it=Hg(it,rt,ot);e:if(tt){t:{if(dc(tt=tt._reactInternalFiber)!==tt||1!==tt.tag)throw Error(u(170));var at=tt;do{switch(at.tag){case 3:at=at.stateNode.context;break t;case 1:if(L(at.type)){at=at.stateNode.__reactInternalMemoizedMergedChildContext;break t}}at=at.return}while(null!==at);throw Error(u(171))}if(1===tt.tag){var st=tt.type;if(L(st)){tt=Ff(tt,st,at);break e}}tt=at}else tt=Sp;return null===et.context?et.context=tt:et.pendingContext=tt,(et=wg(it,ot)).payload={element:Ne},null!==(nt=void 0===nt?null:nt)&&(et.callback=nt),xg(rt,et),Ig(rt,it),it}function ck(Ne){if(!(Ne=Ne.current).child)return null;switch(Ne.child.tag){case 5:default:return Ne.child.stateNode}}function dk(Ne,et){null!==(Ne=Ne.memoizedState)&&null!==Ne.dehydrated&&Ne.retryTime<et&&(Ne.retryTime=et)}function ek(Ne,et){dk(Ne,et),(Ne=Ne.alternate)&&dk(Ne,et)}function fk(Ne,et,tt){var nt=new ak(Ne,et,tt=null!=tt&&!0===tt.hydrate),rt=Sh(3,null,null,2===et?7:1===et?3:0);nt.current=rt,rt.stateNode=nt,ug(rt),Ne[kl]=nt.current,tt&&0!==et&&function Jc(Ne,et){var tt=cc(et);Rs.forEach((function(Ne){uc(Ne,et,tt)})),Fs.forEach((function(Ne){uc(Ne,et,tt)}))}(0,9===Ne.nodeType?Ne:Ne.ownerDocument),this._internalRoot=nt}function gk(Ne){return!(!Ne||1!==Ne.nodeType&&9!==Ne.nodeType&&11!==Ne.nodeType&&(8!==Ne.nodeType||" react-mount-point-unstable "!==Ne.nodeValue))}function ik(Ne,et,tt,nt,rt){var it=tt._reactRootContainer;if(it){var ot=it._internalRoot;if("function"==typeof rt){var at=rt;rt=function(){var Ne=ck(ot);at.call(Ne)}}bk(et,ot,Ne,rt)}else{if(it=tt._reactRootContainer=function hk(Ne,et){if(et||(et=!(!(et=Ne?9===Ne.nodeType?Ne.documentElement:Ne.firstChild:null)||1!==et.nodeType||!et.hasAttribute("data-reactroot"))),!et)for(var tt;tt=Ne.lastChild;)Ne.removeChild(tt);return new fk(Ne,0,et?{hydrate:!0}:void 0)}(tt,nt),ot=it._internalRoot,"function"==typeof rt){var st=rt;rt=function(){var Ne=ck(ot);st.call(Ne)}}Nj((function(){bk(et,ot,Ne,rt)}))}return ck(ot)}function jk(Ne,et,tt){var nt=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:rr,key:null==nt?null:""+nt,children:Ne,containerInfo:et,implementation:tt}}function kk(Ne,et){var tt=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gk(et))throw Error(u(200));return jk(Ne,et,null,tt)}fk.prototype.render=function(Ne){bk(Ne,this._internalRoot,null,null)},fk.prototype.unmount=function(){var Ne=this._internalRoot,et=Ne.containerInfo;bk(null,Ne,null,(function(){et[kl]=null}))},vs=function(Ne){if(13===Ne.tag){var et=hg(Gg(),150,100);Ig(Ne,et),ek(Ne,et)}},xs=function(Ne){13===Ne.tag&&(Ig(Ne,3),ek(Ne,3))},Ss=function(Ne){if(13===Ne.tag){var et=Gg();Ig(Ne,et=Hg(et,Ne,null)),ek(Ne,et)}},vn=function(Ne,et,tt){switch(et){case"input":if(Cb(Ne,tt),et=tt.name,"radio"===tt.type&&null!=et){for(tt=Ne;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var nt=tt[et];if(nt!==Ne&&nt.form===Ne.form){var rt=Qd(nt);if(!rt)throw Error(u(90));yb(nt),Cb(nt,rt)}}}break;case"textarea":Kb(Ne,tt);break;case"select":null!=(et=tt.value)&&Hb(Ne,!!tt.multiple,et,!1)}},Fa=Mj,Ga=function(Ne,et,tt,nt,rt){var it=Hd;Hd|=4;try{return cg(98,Ne.bind(null,et,tt,nt,rt))}finally{0===(Hd=it)&&gg()}},Ha=function(){0==(49&Hd)&&(function Lj(){if(null!==vf){var Ne=vf;vf=null,Ne.forEach((function(Ne,et){Cj(et,Ne),Z(et)})),gg()}}(),Dj())},Cn=function(Ne,et){var tt=Hd;Hd|=2;try{return Ne(et)}finally{0===(Hd=tt)&&gg()}};var Pf,kf,If={Events:[Nc,Pd,Qd,xa,Dt,Xd,function(Ne){jc(Ne,Wd)},Da,Ea,id,mc,Dj,{current:!1}]};kf=(Pf={findFiberByHostInstance:tc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function Yj(Ne){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var et=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(et.isDisabled||!et.supportsFiber)return!0;try{var tt=et.inject(Ne);Sf=function(Ne){try{et.onCommitFiberRoot(tt,Ne,void 0,64==(64&Ne.current.effectTag))}catch(Ne){}},Tf=function(Ne){try{et.onCommitFiberUnmount(tt,Ne)}catch(Ne){}}}catch(Ne){}return!0}(rt({},Pf,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(Ne){return null===(Ne=hc(Ne))?null:Ne.stateNode},findFiberByHostInstance:function(Ne){return kf?kf(Ne):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=If,et.createPortal=kk,et.findDOMNode=function(Ne){if(null==Ne)return null;if(1===Ne.nodeType)return Ne;var et=Ne._reactInternalFiber;if(void 0===et){if("function"==typeof Ne.render)throw Error(u(188));throw Error(u(268,Object.keys(Ne)))}return Ne=null===(Ne=hc(et))?null:Ne.stateNode},et.flushSync=function(Ne,et){if(0!=(48&Hd))throw Error(u(187));var tt=Hd;Hd|=1;try{return cg(99,Ne.bind(null,et))}finally{Hd=tt,gg()}},et.hydrate=function(Ne,et,tt){if(!gk(et))throw Error(u(200));return ik(null,Ne,et,!0,tt)},et.render=function(Ne,et,tt){if(!gk(et))throw Error(u(200));return ik(null,Ne,et,!1,tt)},et.unmountComponentAtNode=function(Ne){if(!gk(Ne))throw Error(u(40));return!!Ne._reactRootContainer&&(Nj((function(){ik(null,null,Ne,!1,(function(){Ne._reactRootContainer=null,Ne[kl]=null}))})),!0)},et.unstable_batchedUpdates=Mj,et.unstable_createPortal=function(Ne,et){return kk(Ne,et,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},et.unstable_renderSubtreeIntoContainer=function(Ne,et,tt,nt){if(!gk(tt))throw Error(u(200));if(null==Ne||void 0===Ne._reactInternalFiber)throw Error(u(38));return ik(Ne,et,tt,!1,nt)},et.version="16.13.1"},function(Ne,et,tt){"use strict";Ne.exports=tt(135)},function(Ne,et,tt){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt,rt,it,ot,at;if("undefined"==typeof window||"function"!=typeof MessageChannel){var st=null,ct=null,t=function(){if(null!==st)try{var Ne=et.unstable_now();st(!0,Ne),st=null}catch(Ne){throw setTimeout(t,0),Ne}},pt=Date.now();et.unstable_now=function(){return Date.now()-pt},nt=function(Ne){null!==st?setTimeout(nt,0,Ne):(st=Ne,setTimeout(t,0))},rt=function(Ne,et){ct=setTimeout(Ne,et)},it=function(){clearTimeout(ct)},ot=function(){return!1},at=et.unstable_forceFrameRate=function(){}}else{var dt=window.performance,ft=window.Date,mt=window.setTimeout,yt=window.clearTimeout;if("undefined"!=typeof console){var vt=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof vt&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof dt&&"function"==typeof dt.now)et.unstable_now=function(){return dt.now()};else{var Ot=ft.now();et.unstable_now=function(){return ft.now()-Ot}}var Dt=!1,Rt=null,Bt=-1,rn=5,vn=0;ot=function(){return et.unstable_now()>=vn},at=function(){},et.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):rn=0<Ne?Math.floor(1e3/Ne):5};var bn=new MessageChannel,Tn=bn.port2;bn.port1.onmessage=function(){if(null!==Rt){var Ne=et.unstable_now();vn=Ne+rn;try{Rt(!0,Ne)?Tn.postMessage(null):(Dt=!1,Rt=null)}catch(Ne){throw Tn.postMessage(null),Ne}}else Dt=!1},nt=function(Ne){Rt=Ne,Dt||(Dt=!0,Tn.postMessage(null))},rt=function(Ne,tt){Bt=mt((function(){Ne(et.unstable_now())}),tt)},it=function(){yt(Bt),Bt=-1}}function J(Ne,et){var tt=Ne.length;Ne.push(et);e:for(;;){var nt=tt-1>>>1,rt=Ne[nt];if(!(void 0!==rt&&0<K(rt,et)))break e;Ne[nt]=et,Ne[tt]=rt,tt=nt}}function L(Ne){return void 0===(Ne=Ne[0])?null:Ne}function M(Ne){var et=Ne[0];if(void 0!==et){var tt=Ne.pop();if(tt!==et){Ne[0]=tt;e:for(var nt=0,rt=Ne.length;nt<rt;){var it=2*(nt+1)-1,ot=Ne[it],at=it+1,st=Ne[at];if(void 0!==ot&&0>K(ot,tt))void 0!==st&&0>K(st,ot)?(Ne[nt]=st,Ne[at]=tt,nt=at):(Ne[nt]=ot,Ne[it]=tt,nt=it);else{if(!(void 0!==st&&0>K(st,tt)))break e;Ne[nt]=st,Ne[at]=tt,nt=at}}}return et}return null}function K(Ne,et){var tt=Ne.sortIndex-et.sortIndex;return 0!==tt?tt:Ne.id-et.id}var Cn=[],In=[],Ln=1,Mn=null,zn=3,Fn=!1,Bn=!1,Nn=!1;function V(Ne){for(var et=L(In);null!==et;){if(null===et.callback)M(In);else{if(!(et.startTime<=Ne))break;M(In),et.sortIndex=et.expirationTime,J(Cn,et)}et=L(In)}}function W(Ne){if(Nn=!1,V(Ne),!Bn)if(null!==L(Cn))Bn=!0,nt(X);else{var et=L(In);null!==et&&rt(W,et.startTime-Ne)}}function X(Ne,tt){Bn=!1,Nn&&(Nn=!1,it()),Fn=!0;var nt=zn;try{for(V(tt),Mn=L(Cn);null!==Mn&&(!(Mn.expirationTime>tt)||Ne&&!ot());){var at=Mn.callback;if(null!==at){Mn.callback=null,zn=Mn.priorityLevel;var st=at(Mn.expirationTime<=tt);tt=et.unstable_now(),"function"==typeof st?Mn.callback=st:Mn===L(Cn)&&M(Cn),V(tt)}else M(Cn);Mn=L(Cn)}if(null!==Mn)var ct=!0;else{var pt=L(In);null!==pt&&rt(W,pt.startTime-tt),ct=!1}return ct}finally{Mn=null,zn=nt,Fn=!1}}function Y(Ne){switch(Ne){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Vn=at;et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Ne){Ne.callback=null},et.unstable_continueExecution=function(){Bn||Fn||(Bn=!0,nt(X))},et.unstable_getCurrentPriorityLevel=function(){return zn},et.unstable_getFirstCallbackNode=function(){return L(Cn)},et.unstable_next=function(Ne){switch(zn){case 1:case 2:case 3:var et=3;break;default:et=zn}var tt=zn;zn=et;try{return Ne()}finally{zn=tt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=Vn,et.unstable_runWithPriority=function(Ne,et){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var tt=zn;zn=Ne;try{return et()}finally{zn=tt}},et.unstable_scheduleCallback=function(Ne,tt,ot){var at=et.unstable_now();if("object"==typeof ot&&null!==ot){var st=ot.delay;st="number"==typeof st&&0<st?at+st:at,ot="number"==typeof ot.timeout?ot.timeout:Y(Ne)}else ot=Y(Ne),st=at;return Ne={id:Ln++,callback:tt,priorityLevel:Ne,startTime:st,expirationTime:ot=st+ot,sortIndex:-1},st>at?(Ne.sortIndex=st,J(In,Ne),null===L(Cn)&&Ne===L(In)&&(Nn?it():Nn=!0,rt(W,st-at))):(Ne.sortIndex=ot,J(Cn,Ne),Bn||Fn||(Bn=!0,nt(X))),Ne},et.unstable_shouldYield=function(){var Ne=et.unstable_now();V(Ne);var tt=L(Cn);return tt!==Mn&&null!==Mn&&null!==tt&&null!==tt.callback&&tt.startTime<=Ne&&tt.expirationTime<Mn.expirationTime||ot()},et.unstable_wrapCallback=function(Ne){var et=zn;return function(){var tt=zn;zn=et;try{return Ne.apply(this,arguments)}finally{zn=tt}}}},function(Ne,et,tt){var nt=tt(29),rt=tt(137);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[Ne.i,rt,""]]);var it={insert:"head",singleton:!1},ot=(nt(rt,it),rt.locals?rt.locals:{});Ne.exports=ot},function(Ne,et,tt){(et=tt(30)(!1)).push([Ne.i,"body {\n\tmargin: 0;\n\twidth: 100vw;\n}\n\n/* stylelint-disable */\n@media (--phablet) {\n\thtml {\n\t\tfont-size: 0.875rem;\n\t}\n}\n\nh1 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 2.125rem;\n\tline-height: 2.875rem;\n}\n\nh2 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.625rem;\n\tline-height: 2.1875rem;\n}\n\nh3 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.25rem;\n\tline-height: 1.6875rem;\n}\n\nh4 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 700;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh5 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh6 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.75rem;\n\tline-height: 0.9rem;\n}\n\nsmall {\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.625rem;\n\tline-height: 0.875rem;\n}\n\np:not(:last-of-type) {\n\tmargin-bottom: 0.375rem;\n}\np {\n\tmargin-bottom: 0;\n\tmargin-top: 0;\n\t-webkit-margin-before: 0;\n\t-webkit-margin-after: 0;\n}\n\nstrong {\n\tfont-family: var(--font-extraBold);\n}\n\nhr {\n\tmargin: 0;\n\tborder: 0.03125rem solid var(--color-grey4);\n\tclear: both;\n}\n\n#styles_root-3WD {\n\twidth: 100%;\n\theight: 100%;\n}\n\nhtml {\n\tcolor: var(--color-base);\n\theight: 100%;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n}\nhtml,\nbody {\n\tposition: relative;\n\twidth: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: white;\n\tbox-sizing: border-box;\n\t-moz-osx-font-smoothing: grayscale; /* fixes bold fonts in firefox */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-font-smoothing: antialiased;\n\t-o-font-smoothing: antialiased;\n\tline-height: 1;\n}\n\nbody {\n\tmin-width: 64rem;\n\tmin-height: 100%;\n\theight: auto;\n\toverflow: auto;\n\tfont-size: 0.875rem;\n\tline-height: 1.1875rem;\n}\n\na {\n\ttext-decoration: none;\n\tcolor: var(--color-customDark);\n}\n\na:hover,\na:focus {\n\ttext-decoration: underline;\n\tcolor: var(--color-customDark);\n}\n\n*,\n*:before,\n*:after {\n\tbox-sizing: border-box;\n}\n\n*:focus {\n\toutline: 0;\n}\n\n::-moz-selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\n::selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\nimg {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\ninput,\ntextarea,\nbody,\ntext {\n\tcolor: var(--color-base);\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-weight: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\nbutton,\nselect,\ntextarea,\ninput,\ntext {\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\npre {\n\tfont-family: inherit;\n}\n\n/* Typography resets */\ndiv,\ndl,\ndt,\ndd,\nul,\nol,\nli,\npre,\nform,\nth,\ntd {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n/* Unordered Lists */\nul li {\n\tlist-style: none;\n}\n\n",""]),et.locals={root:"styles_root-3WD"},Ne.exports=et},function(Ne,et,tt){(et=tt(30)(!1)).push([Ne.i,".styles_appWrapper-36G{\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n}\n\n.styles_headerWrapper-2hQ{\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 5.625rem;\n}\n\n.styles_header-1h9{\n    padding: 0.625rem;\n    margin-left: 25rem;\n}\n\n.styles_navigation-2Jt{\n    padding-left: 25.25rem;\n    background: rgb(0, 152, 72);\n    color: white;\n}\n\n/*.link{*/\n/*    &:active{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*    &:hover{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*}*/\n\n.styles_link-3od{\n    display: inline-block;\n    padding: 0.375rem 1.25rem;\n    text-decoration: none;\n}\n\n.styles_link-3od.styles_active-hyt{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-3od:hover{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-3od:hover,\n.styles_link-3od:focus {\n    text-decoration: none;\n}\n\n.styles_bodyWrapper-38M{\n    position: relative;\n    height: calc(100% - 5.625rem);\n}\n\n\n",""]),et.locals={appWrapper:"styles_appWrapper-36G",headerWrapper:"styles_headerWrapper-2hQ",header:"styles_header-1h9",navigation:"styles_navigation-2Jt",link:"styles_link-3od",active:"styles_active-hyt",bodyWrapper:"styles_bodyWrapper-38M"},Ne.exports=et},function(Ne,et,tt){(et=tt(30)(!1)).push([Ne.i,".styles_exploreWrapper-2R1{\n    display: flex;\n    height: 100%;\n    padding: 1.875rem;\n}\n\n.styles_header-Jg9{\n    font-weight: bold;\n}\n\n",""]),et.locals={exploreWrapper:"styles_exploreWrapper-2R1",header:"styles_header-Jg9"},Ne.exports=et},function(Ne,et,tt){"use strict";var nt=tt(141);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,Ne.exports=function(){function shim(Ne,et,tt,rt,it,ot){if(ot!==nt){var at=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw at.name="Invariant Violation",at}}function getShim(){return shim}shim.isRequired=shim;var Ne={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return Ne.PropTypes=Ne,Ne}},function(Ne,et,tt){"use strict";Ne.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(Ne,et){Ne.exports=Array.isArray||function(Ne){return"[object Array]"==Object.prototype.toString.call(Ne)}},function(Ne,et,tt){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt="function"==typeof Symbol&&Symbol.for,rt=nt?Symbol.for("react.element"):60103,it=nt?Symbol.for("react.portal"):60106,ot=nt?Symbol.for("react.fragment"):60107,at=nt?Symbol.for("react.strict_mode"):60108,st=nt?Symbol.for("react.profiler"):60114,ct=nt?Symbol.for("react.provider"):60109,pt=nt?Symbol.for("react.context"):60110,dt=nt?Symbol.for("react.async_mode"):60111,ft=nt?Symbol.for("react.concurrent_mode"):60111,mt=nt?Symbol.for("react.forward_ref"):60112,yt=nt?Symbol.for("react.suspense"):60113,vt=nt?Symbol.for("react.suspense_list"):60120,Ot=nt?Symbol.for("react.memo"):60115,Dt=nt?Symbol.for("react.lazy"):60116,Rt=nt?Symbol.for("react.block"):60121,Bt=nt?Symbol.for("react.fundamental"):60117,rn=nt?Symbol.for("react.responder"):60118,vn=nt?Symbol.for("react.scope"):60119;function z(Ne){if("object"==typeof Ne&&null!==Ne){var et=Ne.$$typeof;switch(et){case rt:switch(Ne=Ne.type){case dt:case ft:case ot:case st:case at:case yt:return Ne;default:switch(Ne=Ne&&Ne.$$typeof){case pt:case mt:case Dt:case Ot:case ct:return Ne;default:return et}}case it:return et}}}function A(Ne){return z(Ne)===ft}et.AsyncMode=dt,et.ConcurrentMode=ft,et.ContextConsumer=pt,et.ContextProvider=ct,et.Element=rt,et.ForwardRef=mt,et.Fragment=ot,et.Lazy=Dt,et.Memo=Ot,et.Portal=it,et.Profiler=st,et.StrictMode=at,et.Suspense=yt,et.isAsyncMode=function(Ne){return A(Ne)||z(Ne)===dt},et.isConcurrentMode=A,et.isContextConsumer=function(Ne){return z(Ne)===pt},et.isContextProvider=function(Ne){return z(Ne)===ct},et.isElement=function(Ne){return"object"==typeof Ne&&null!==Ne&&Ne.$$typeof===rt},et.isForwardRef=function(Ne){return z(Ne)===mt},et.isFragment=function(Ne){return z(Ne)===ot},et.isLazy=function(Ne){return z(Ne)===Dt},et.isMemo=function(Ne){return z(Ne)===Ot},et.isPortal=function(Ne){return z(Ne)===it},et.isProfiler=function(Ne){return z(Ne)===st},et.isStrictMode=function(Ne){return z(Ne)===at},et.isSuspense=function(Ne){return z(Ne)===yt},et.isValidElementType=function(Ne){return"string"==typeof Ne||"function"==typeof Ne||Ne===ot||Ne===ft||Ne===st||Ne===at||Ne===yt||Ne===vt||"object"==typeof Ne&&null!==Ne&&(Ne.$$typeof===Dt||Ne.$$typeof===Ot||Ne.$$typeof===ct||Ne.$$typeof===pt||Ne.$$typeof===mt||Ne.$$typeof===Bt||Ne.$$typeof===rn||Ne.$$typeof===vn||Ne.$$typeof===Rt)},et.typeOf=z},function(Ne,et,tt){"use strict";var nt={}.propertyIsEnumerable,rt=Object.getOwnPropertyDescriptor,it=rt&&!nt.call({1:2},1);et.f=it?function propertyIsEnumerable(Ne){var et=rt(this,Ne);return!!et&&et.enumerable}:nt},function(Ne,et,tt){var nt=tt(26),rt=tt(36),it="".split;Ne.exports=nt((function(){return!Object("z").propertyIsEnumerable(0)}))?function(Ne){return"String"==rt(Ne)?it.call(Ne,""):Object(Ne)}:Object},function(Ne,et,tt){var nt=tt(16),rt=tt(76),it=nt.WeakMap;Ne.exports="function"==typeof it&&/native code/.test(rt(it))},function(Ne,et,tt){var nt=tt(97),rt=tt(98),it=nt("keys");Ne.exports=function(Ne){return it[Ne]||(it[Ne]=rt(Ne))}},function(Ne,et,tt){var nt=tt(31),rt=tt(149),it=tt(73),ot=tt(64);Ne.exports=function(Ne,et){for(var tt=rt(et),at=ot.f,st=it.f,ct=0;ct<tt.length;ct++){var pt=tt[ct];nt(Ne,pt)||at(Ne,pt,st(et,pt))}}},function(Ne,et,tt){var nt=tt(17),rt=tt(151),it=tt(156),ot=tt(6);Ne.exports=nt("Reflect","ownKeys")||function ownKeys(Ne){var et=rt.f(ot(Ne)),tt=it.f;return tt?et.concat(tt(Ne)):et}},function(Ne,et,tt){var nt=tt(16);Ne.exports=nt},function(Ne,et,tt){var nt=tt(152),rt=tt(155).concat("length","prototype");et.f=Object.getOwnPropertyNames||function getOwnPropertyNames(Ne){return nt(Ne,rt)}},function(Ne,et,tt){var nt=tt(31),rt=tt(74),it=tt(153).indexOf,ot=tt(99);Ne.exports=function(Ne,et){var tt,at=rt(Ne),st=0,ct=[];for(tt in at)!nt(ot,tt)&&nt(at,tt)&&ct.push(tt);for(;et.length>st;)nt(at,tt=et[st++])&&(~it(ct,tt)||ct.push(tt));return ct}},function(Ne,et,tt){var nt=tt(74),rt=tt(77),it=tt(154),createMethod=function(Ne){return function(et,tt,ot){var at,st=nt(et),ct=rt(st.length),pt=it(ot,ct);if(Ne&&tt!=tt){for(;ct>pt;)if((at=st[pt++])!=at)return!0}else for(;ct>pt;pt++)if((Ne||pt in st)&&st[pt]===tt)return Ne||pt||0;return!Ne&&-1}};Ne.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(Ne,et,tt){var nt=tt(66),rt=Math.max,it=Math.min;Ne.exports=function(Ne,et){var tt=nt(Ne);return tt<0?rt(tt+et,0):it(tt,et)}},function(Ne,et){Ne.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(Ne,et){et.f=Object.getOwnPropertySymbols},function(Ne,et,tt){var nt=tt(16);Ne.exports=nt.Promise},function(Ne,et,tt){var nt=tt(65);Ne.exports=function(Ne,et,tt){for(var rt in et)nt(Ne,rt,et[rt],tt);return Ne}},function(Ne,et,tt){var nt=tt(64).f,rt=tt(31),it=tt(22)("toStringTag");Ne.exports=function(Ne,et,tt){Ne&&!rt(Ne=tt?Ne:Ne.prototype,it)&&nt(Ne,it,{configurable:!0,value:et})}},function(Ne,et,tt){var nt=tt(101);Ne.exports=nt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(Ne,et,tt){"use strict";var nt=tt(17),rt=tt(64),it=tt(22),ot=tt(42),at=it("species");Ne.exports=function(Ne){var et=nt(Ne),tt=rt.f;ot&&et&&!et[at]&&tt(et,at,{configurable:!0,get:function(){return this}})}},function(Ne,et){Ne.exports=function(Ne,et,tt){if(!(Ne instanceof et))throw TypeError("Incorrect "+(tt?tt+" ":"")+"invocation");return Ne}},function(Ne,et,tt){var nt=tt(22),rt=tt(102),it=nt("iterator"),ot=Array.prototype;Ne.exports=function(Ne){return void 0!==Ne&&(rt.Array===Ne||ot[it]===Ne)}},function(Ne,et,tt){var nt=tt(165),rt=tt(36),it=tt(22)("toStringTag"),ot="Arguments"==rt(function(){return arguments}());Ne.exports=nt?rt:function(Ne){var et,tt,nt;return void 0===Ne?"Undefined":null===Ne?"Null":"string"==typeof(tt=function(Ne,et){try{return Ne[et]}catch(Ne){}}(et=Object(Ne),it))?tt:ot?rt(et):"Object"==(nt=rt(et))&&"function"==typeof et.callee?"Arguments":nt}},function(Ne,et,tt){var nt={};nt[tt(22)("toStringTag")]="z",Ne.exports="[object z]"===String(nt)},function(Ne,et,tt){var nt=tt(6);Ne.exports=function(Ne,et,tt,rt){try{return rt?et(nt(tt)[0],tt[1]):et(tt)}catch(et){var it=Ne.return;throw void 0!==it&&nt(it.call(Ne)),et}}},function(Ne,et,tt){var nt=tt(22)("iterator"),rt=!1;try{var it=0,ot={next:function(){return{done:!!it++}},return:function(){rt=!0}};ot[nt]=function(){return this},Array.from(ot,(function(){throw 2}))}catch(Ne){}Ne.exports=function(Ne,et){if(!et&&!rt)return!1;var tt=!1;try{var it={};it[nt]=function(){return{next:function(){return{done:tt=!0}}}},Ne(it)}catch(Ne){}return tt}},function(Ne,et,tt){var nt=tt(17);Ne.exports=nt("document","documentElement")},function(Ne,et,tt){var nt,rt,it,ot,at,st,ct,pt,dt=tt(16),ft=tt(73).f,mt=tt(36),yt=tt(104).set,vt=tt(105),Ot=dt.MutationObserver||dt.WebKitMutationObserver,Dt=dt.process,Rt=dt.Promise,Bt="process"==mt(Dt),rn=ft(dt,"queueMicrotask"),vn=rn&&rn.value;vn||(nt=function(){var Ne,et;for(Bt&&(Ne=Dt.domain)&&Ne.exit();rt;){et=rt.fn,rt=rt.next;try{et()}catch(Ne){throw rt?ot():it=void 0,Ne}}it=void 0,Ne&&Ne.enter()},Bt?ot=function(){Dt.nextTick(nt)}:Ot&&!vt?(at=!0,st=document.createTextNode(""),new Ot(nt).observe(st,{characterData:!0}),ot=function(){st.data=at=!at}):Rt&&Rt.resolve?(ct=Rt.resolve(void 0),pt=ct.then,ot=function(){pt.call(ct,nt)}):ot=function(){yt.call(dt,nt)}),Ne.exports=vn||function(Ne){var et={fn:Ne,next:void 0};it&&(it.next=et),rt||(rt=et,ot()),it=et}},function(Ne,et,tt){var nt=tt(6),rt=tt(37),it=tt(107);Ne.exports=function(Ne,et){if(nt(Ne),rt(et)&&et.constructor===Ne)return et;var tt=it.f(Ne);return(0,tt.resolve)(et),tt.promise}},function(Ne,et,tt){var nt=tt(16);Ne.exports=function(Ne,et){var tt=nt.console;tt&&tt.error&&(1===arguments.length?tt.error(Ne):tt.error(Ne,et))}},function(Ne,et){Ne.exports=function(Ne){try{return{error:!1,value:Ne()}}catch(Ne){return{error:!0,value:Ne}}}},function(Ne,et,tt){var nt,rt,it=tt(16),ot=tt(106),at=it.process,st=at&&at.versions,ct=st&&st.v8;ct?rt=(nt=ct.split("."))[0]+nt[1]:ot&&(!(nt=ot.match(/Edge\/(\d+)/))||nt[1]>=74)&&(nt=ot.match(/Chrome\/(\d+)/))&&(rt=nt[1]),Ne.exports=rt&&+rt},function(Ne,et,tt){"use strict";var nt=tt(175),rt=tt(6),it=tt(179),ot=tt(77),at=tt(66),st=tt(63),ct=tt(180),pt=tt(182),dt=Math.max,ft=Math.min,mt=Math.floor,yt=/\$([$&'`]|\d\d?|<[^>]*>)/g,vt=/\$([$&'`]|\d\d?)/g;nt("replace",2,(function(Ne,et,tt,nt){var Ot=nt.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Dt=nt.REPLACE_KEEPS_$0,Rt=Ot?"$":"$0";return[function replace(tt,nt){var rt=st(this),it=null==tt?void 0:tt[Ne];return void 0!==it?it.call(tt,rt,nt):et.call(String(rt),tt,nt)},function(Ne,nt){if(!Ot&&Dt||"string"==typeof nt&&-1===nt.indexOf(Rt)){var it=tt(et,Ne,this,nt);if(it.done)return it.value}var st=rt(Ne),mt=String(this),yt="function"==typeof nt;yt||(nt=String(nt));var vt=st.global;if(vt){var Bt=st.unicode;st.lastIndex=0}for(var rn=[];;){var vn=pt(st,mt);if(null===vn)break;if(rn.push(vn),!vt)break;""===String(vn[0])&&(st.lastIndex=ct(mt,ot(st.lastIndex),Bt))}for(var bn,Tn="",Cn=0,In=0;In<rn.length;In++){vn=rn[In];for(var Ln=String(vn[0]),Mn=dt(ft(at(vn.index),mt.length),0),zn=[],Fn=1;Fn<vn.length;Fn++)zn.push(void 0===(bn=vn[Fn])?bn:String(bn));var Bn=vn.groups;if(yt){var Nn=[Ln].concat(zn,Mn,mt);void 0!==Bn&&Nn.push(Bn);var Vn=String(nt.apply(void 0,Nn))}else Vn=getSubstitution(Ln,mt,Mn,zn,Bn,nt);Mn>=Cn&&(Tn+=mt.slice(Cn,Mn)+Vn,Cn=Mn+Ln.length)}return Tn+mt.slice(Cn)}];function getSubstitution(Ne,tt,nt,rt,ot,at){var st=nt+Ne.length,ct=rt.length,pt=vt;return void 0!==ot&&(ot=it(ot),pt=yt),et.call(at,pt,(function(et,it){var at;switch(it.charAt(0)){case"$":return"$";case"&":return Ne;case"`":return tt.slice(0,nt);case"'":return tt.slice(st);case"<":at=ot[it.slice(1,-1)];break;default:var pt=+it;if(0===pt)return et;if(pt>ct){var dt=mt(pt/10);return 0===dt?et:dt<=ct?void 0===rt[dt-1]?it.charAt(1):rt[dt-1]+it.charAt(1):et}at=rt[pt-1]}return void 0===at?"":at}))}}))},function(Ne,et,tt){"use strict";tt(176);var nt=tt(65),rt=tt(26),it=tt(22),ot=tt(78),at=tt(43),st=it("species"),ct=!rt((function(){var Ne=/./;return Ne.exec=function(){var Ne=[];return Ne.groups={a:"7"},Ne},"7"!=="".replace(Ne,"$<a>")})),pt="$0"==="a".replace(/./,"$0"),dt=it("replace"),ft=!!/./[dt]&&""===/./[dt]("a","$0"),mt=!rt((function(){var Ne=/(?:)/,et=Ne.exec;Ne.exec=function(){return et.apply(this,arguments)};var tt="ab".split(Ne);return 2!==tt.length||"a"!==tt[0]||"b"!==tt[1]}));Ne.exports=function(Ne,et,tt,dt){var yt=it(Ne),vt=!rt((function(){var et={};return et[yt]=function(){return 7},7!=""[Ne](et)})),Ot=vt&&!rt((function(){var et=!1,tt=/a/;return"split"===Ne&&((tt={}).constructor={},tt.constructor[st]=function(){return tt},tt.flags="",tt[yt]=/./[yt]),tt.exec=function(){return et=!0,null},tt[yt](""),!et}));if(!vt||!Ot||"replace"===Ne&&(!ct||!pt||ft)||"split"===Ne&&!mt){var Dt=/./[yt],Rt=tt(yt,""[Ne],(function(Ne,et,tt,nt,rt){return et.exec===ot?vt&&!rt?{done:!0,value:Dt.call(et,tt,nt)}:{done:!0,value:Ne.call(tt,et,nt)}:{done:!1}}),{REPLACE_KEEPS_$0:pt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ft}),Bt=Rt[0],rn=Rt[1];nt(String.prototype,Ne,Bt),nt(RegExp.prototype,yt,2==et?function(Ne,et){return rn.call(Ne,this,et)}:function(Ne){return rn.call(Ne,this)})}dt&&at(RegExp.prototype[yt],"sham",!0)}},function(Ne,et,tt){"use strict";var nt=tt(8),rt=tt(78);nt({target:"RegExp",proto:!0,forced:/./.exec!==rt},{exec:rt})},function(Ne,et,tt){"use strict";var nt=tt(6);Ne.exports=function(){var Ne=nt(this),et="";return Ne.global&&(et+="g"),Ne.ignoreCase&&(et+="i"),Ne.multiline&&(et+="m"),Ne.dotAll&&(et+="s"),Ne.unicode&&(et+="u"),Ne.sticky&&(et+="y"),et}},function(Ne,et,tt){"use strict";var nt=tt(26);function RE(Ne,et){return RegExp(Ne,et)}et.UNSUPPORTED_Y=nt((function(){var Ne=RE("a","y");return Ne.lastIndex=2,null!=Ne.exec("abcd")})),et.BROKEN_CARET=nt((function(){var Ne=RE("^r","gy");return Ne.lastIndex=2,null!=Ne.exec("str")}))},function(Ne,et,tt){var nt=tt(63);Ne.exports=function(Ne){return Object(nt(Ne))}},function(Ne,et,tt){"use strict";var nt=tt(181).charAt;Ne.exports=function(Ne,et,tt){return et+(tt?nt(Ne,et).length:1)}},function(Ne,et,tt){var nt=tt(66),rt=tt(63),createMethod=function(Ne){return function(et,tt){var it,ot,at=String(rt(et)),st=nt(tt),ct=at.length;return st<0||st>=ct?Ne?"":void 0:(it=at.charCodeAt(st))<55296||it>56319||st+1===ct||(ot=at.charCodeAt(st+1))<56320||ot>57343?Ne?at.charAt(st):it:Ne?at.slice(st,st+2):ot-56320+(it-55296<<10)+65536}};Ne.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(Ne,et,tt){var nt=tt(36),rt=tt(78);Ne.exports=function(Ne,et){var tt=Ne.exec;if("function"==typeof tt){var it=tt.call(Ne,et);if("object"!=typeof it)throw TypeError("RegExp exec method returned something other than an Object or null");return it}if("RegExp"!==nt(Ne))throw TypeError("RegExp#exec called on incompatible receiver");return rt.call(Ne,et)}},function(Ne,et,tt){"use strict";var nt=tt(6),rt=tt(13);Ne.exports=function(){for(var Ne=nt(this),et=rt(Ne.add),tt=0,it=arguments.length;tt<it;tt++)et.call(Ne,arguments[tt]);return Ne}},function(Ne,et,tt){(et=tt(30)(!1)).push([Ne.i,".styles_mapWrapper-3J7{\n    height: 100%;\n}\n\n.styles_filters-2Uv{\n    position: absolute;\n    height: 100%;\n    overflow: auto;\n    display: inline-block;\n    float: left;\n    width: 25.25rem;\n    z-index: 1;\n    border-radius: 0 0.25rem 0.25rem 0;\n    background-color: white;\n}\n\n.styles_map-1zv{\n    position: absolute;\n    height: 100%;\n    left: 25rem;\n    display: inline-block;\n    float: left;\n    width: calc(100% - 25rem);\n}\n\n\n",""]),et.locals={mapWrapper:"styles_mapWrapper-3J7",filters:"styles_filters-2Uv",map:"styles_map-1zv"},Ne.exports=et},function(Ne,et,tt){(et=tt(30)(!1)).push([Ne.i,".styles_sideBarWrapper-ars{\n    overflow: auto;\n    padding: 1.875rem;\n    border-radius: 0 0.1875rem 0.1875rem 0;\n}\n\n.styles_bodyWrapper-2cj{\n\n}\n\n.styles_vectorFiltersWrapper-2az{\n    margin-top: 1.25rem;\n}\n\n.styles_sectionWrapper-EPe{\n    margin-bottom: 1.25rem;\n}\n.styles_sectionWrapper-EPe:last-child{\n    margin-bottom: 0;\n}\n.styles_sectionHeader-joQ{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_vectorName-1o2{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_filterWrapper-1M7{\n    border: 0.0625rem solid hsl(0, 0%, 80%);\n    border-radius: 0.1875rem;\n    margin-top: 0.625rem;\n    padding: 1.25rem;\n}\n\n.styles_filter-3N0{\n    margin-top: 0.625rem;\n}\n\n.styles_filterName-3Ch{\n    margin-bottom: 0.3125rem;\n    border-bottom: 0.0625rem solid hsl(0, 0%, 80%);\n}\n\n.styles_empty-2GV{\n    font-style: italic;\n    color: hsl(0, 0%, 60%);\n}\n\n.styles_groupWrapper-1hP{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.styles_groupBadge-2eI {\n    background-color: #EBECF0;\n    border-radius: 2em;\n    color: #172B4D;\n    display: inline-block;\n    font-size: 12;\n    font-weight: normal;\n    line-height: 1;\n    min-width: 1;\n    padding: 0.16666666666667em 0.5em;\n    text-align: center;\n}",""]),et.locals={sideBarWrapper:"styles_sideBarWrapper-ars",bodyWrapper:"styles_bodyWrapper-2cj",vectorFiltersWrapper:"styles_vectorFiltersWrapper-2az",sectionWrapper:"styles_sectionWrapper-EPe",sectionHeader:"styles_sectionHeader-joQ",vectorName:"styles_vectorName-1o2",filterWrapper:"styles_filterWrapper-1M7",filter:"styles_filter-3N0",filterName:"styles_filterName-3Ch",empty:"styles_empty-2GV",groupWrapper:"styles_groupWrapper-1hP",groupBadge:"styles_groupBadge-2eI"},Ne.exports=et},function(Ne,et){function _extends(){return Ne.exports=_extends=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne},_extends.apply(this,arguments)}Ne.exports=_extends},function(Ne,et){Ne.exports=function(Ne,et){return Ne===et||Ne!=Ne&&et!=et}},function(Ne,et,tt){
/* @preserve
 * Leaflet 1.6.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(Ne){"use strict";var et=Object.freeze;function extend(Ne){var et,tt,nt,rt;for(tt=1,nt=arguments.length;tt<nt;tt++)for(et in rt=arguments[tt])Ne[et]=rt[et];return Ne}Object.freeze=function(Ne){return Ne};var tt=Object.create||function(){function F(){}return function(Ne){return F.prototype=Ne,new F}}();function bind(Ne,et){var tt=Array.prototype.slice;if(Ne.bind)return Ne.bind.apply(Ne,tt.call(arguments,1));var nt=tt.call(arguments,2);return function(){return Ne.apply(et,nt.length?nt.concat(tt.call(arguments)):arguments)}}var nt=0;function stamp(Ne){return Ne._leaflet_id=Ne._leaflet_id||++nt,Ne._leaflet_id}function throttle(Ne,et,tt){var nt,rt,it,ot;return ot=function(){nt=!1,rt&&(it.apply(tt,rt),rt=!1)},it=function(){nt?rt=arguments:(Ne.apply(tt,arguments),setTimeout(ot,et),nt=!0)}}function wrapNum(Ne,et,tt){var nt=et[1],rt=et[0],it=nt-rt;return Ne===nt&&tt?Ne:((Ne-rt)%it+it)%it+rt}function falseFn(){return!1}function formatNum(Ne,et){var tt=Math.pow(10,void 0===et?6:et);return Math.round(Ne*tt)/tt}function trim(Ne){return Ne.trim?Ne.trim():Ne.replace(/^\s+|\s+$/g,"")}function splitWords(Ne){return trim(Ne).split(/\s+/)}function setOptions(Ne,et){for(var nt in Ne.hasOwnProperty("options")||(Ne.options=Ne.options?tt(Ne.options):{}),et)Ne.options[nt]=et[nt];return Ne.options}function getParamString(Ne,et,tt){var nt=[];for(var rt in Ne)nt.push(encodeURIComponent(tt?rt.toUpperCase():rt)+"="+encodeURIComponent(Ne[rt]));return(et&&-1!==et.indexOf("?")?"&":"?")+nt.join("&")}var rt=/\{ *([\w_-]+) *\}/g;function template(Ne,et){return Ne.replace(rt,(function(Ne,tt){var nt=et[tt];if(void 0===nt)throw new Error("No value provided for variable "+Ne);return"function"==typeof nt&&(nt=nt(et)),nt}))}var it=Array.isArray||function(Ne){return"[object Array]"===Object.prototype.toString.call(Ne)};function indexOf(Ne,et){for(var tt=0;tt<Ne.length;tt++)if(Ne[tt]===et)return tt;return-1}var ot="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function getPrefixed(Ne){return window["webkit"+Ne]||window["moz"+Ne]||window["ms"+Ne]}var at=0;function timeoutDefer(Ne){var et=+new Date,tt=Math.max(0,16-(et-at));return at=et+tt,window.setTimeout(Ne,tt)}var st=window.requestAnimationFrame||getPrefixed("RequestAnimationFrame")||timeoutDefer,ct=window.cancelAnimationFrame||getPrefixed("CancelAnimationFrame")||getPrefixed("CancelRequestAnimationFrame")||function(Ne){window.clearTimeout(Ne)};function requestAnimFrame(Ne,et,tt){if(!tt||st!==timeoutDefer)return st.call(window,bind(Ne,et));Ne.call(et)}function cancelAnimFrame(Ne){Ne&&ct.call(window,Ne)}var pt=(Object.freeze||Object)({freeze:et,extend:extend,create:tt,bind:bind,lastId:nt,stamp:stamp,throttle:throttle,wrapNum:wrapNum,falseFn:falseFn,formatNum:formatNum,trim:trim,splitWords:splitWords,setOptions:setOptions,getParamString:getParamString,template:template,isArray:it,indexOf:indexOf,emptyImageUrl:ot,requestFn:st,cancelFn:ct,requestAnimFrame:requestAnimFrame,cancelAnimFrame:cancelAnimFrame});function Class(){}Class.extend=function(Ne){var NewClass=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},et=NewClass.__super__=this.prototype,nt=tt(et);for(var rt in nt.constructor=NewClass,NewClass.prototype=nt,this)this.hasOwnProperty(rt)&&"prototype"!==rt&&"__super__"!==rt&&(NewClass[rt]=this[rt]);return Ne.statics&&(extend(NewClass,Ne.statics),delete Ne.statics),Ne.includes&&(function checkDeprecatedMixinEvents(Ne){if("undefined"!=typeof L&&L&&L.Mixin){Ne=it(Ne)?Ne:[Ne];for(var et=0;et<Ne.length;et++)Ne[et]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(Ne.includes),extend.apply(null,[nt].concat(Ne.includes)),delete Ne.includes),nt.options&&(Ne.options=extend(tt(nt.options),Ne.options)),extend(nt,Ne),nt._initHooks=[],nt.callInitHooks=function(){if(!this._initHooksCalled){et.callInitHooks&&et.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ne=0,tt=nt._initHooks.length;Ne<tt;Ne++)nt._initHooks[Ne].call(this)}},NewClass},Class.include=function(Ne){return extend(this.prototype,Ne),this},Class.mergeOptions=function(Ne){return extend(this.prototype.options,Ne),this},Class.addInitHook=function(Ne){var et=Array.prototype.slice.call(arguments,1),tt="function"==typeof Ne?Ne:function(){this[Ne].apply(this,et)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(tt),this};var dt={on:function(Ne,et,tt){if("object"==typeof Ne)for(var nt in Ne)this._on(nt,Ne[nt],et);else for(var rt=0,it=(Ne=splitWords(Ne)).length;rt<it;rt++)this._on(Ne[rt],et,tt);return this},off:function(Ne,et,tt){if(Ne)if("object"==typeof Ne)for(var nt in Ne)this._off(nt,Ne[nt],et);else for(var rt=0,it=(Ne=splitWords(Ne)).length;rt<it;rt++)this._off(Ne[rt],et,tt);else delete this._events;return this},_on:function(Ne,et,tt){this._events=this._events||{};var nt=this._events[Ne];nt||(nt=[],this._events[Ne]=nt),tt===this&&(tt=void 0);for(var rt={fn:et,ctx:tt},it=nt,ot=0,at=it.length;ot<at;ot++)if(it[ot].fn===et&&it[ot].ctx===tt)return;it.push(rt)},_off:function(Ne,et,tt){var nt,rt,it;if(this._events&&(nt=this._events[Ne]))if(et){if(tt===this&&(tt=void 0),nt)for(rt=0,it=nt.length;rt<it;rt++){var ot=nt[rt];if(ot.ctx===tt&&ot.fn===et)return ot.fn=falseFn,this._firingCount&&(this._events[Ne]=nt=nt.slice()),void nt.splice(rt,1)}}else{for(rt=0,it=nt.length;rt<it;rt++)nt[rt].fn=falseFn;delete this._events[Ne]}},fire:function(Ne,et,tt){if(!this.listens(Ne,tt))return this;var nt=extend({},et,{type:Ne,target:this,sourceTarget:et&&et.sourceTarget||this});if(this._events){var rt=this._events[Ne];if(rt){this._firingCount=this._firingCount+1||1;for(var it=0,ot=rt.length;it<ot;it++){var at=rt[it];at.fn.call(at.ctx||this,nt)}this._firingCount--}}return tt&&this._propagateEvent(nt),this},listens:function(Ne,et){var tt=this._events&&this._events[Ne];if(tt&&tt.length)return!0;if(et)for(var nt in this._eventParents)if(this._eventParents[nt].listens(Ne,et))return!0;return!1},once:function(Ne,et,tt){if("object"==typeof Ne){for(var nt in Ne)this.once(nt,Ne[nt],et);return this}var rt=bind((function(){this.off(Ne,et,tt).off(Ne,rt,tt)}),this);return this.on(Ne,et,tt).on(Ne,rt,tt)},addEventParent:function(Ne){return this._eventParents=this._eventParents||{},this._eventParents[stamp(Ne)]=Ne,this},removeEventParent:function(Ne){return this._eventParents&&delete this._eventParents[stamp(Ne)],this},_propagateEvent:function(Ne){for(var et in this._eventParents)this._eventParents[et].fire(Ne.type,extend({layer:Ne.target,propagatedFrom:Ne.target},Ne),!0)}};dt.addEventListener=dt.on,dt.removeEventListener=dt.clearAllEventListeners=dt.off,dt.addOneTimeEventListener=dt.once,dt.fireEvent=dt.fire,dt.hasEventListeners=dt.listens;var ft=Class.extend(dt);function Point(Ne,et,tt){this.x=tt?Math.round(Ne):Ne,this.y=tt?Math.round(et):et}var mt=Math.trunc||function(Ne){return Ne>0?Math.floor(Ne):Math.ceil(Ne)};function toPoint(Ne,et,tt){return Ne instanceof Point?Ne:it(Ne)?new Point(Ne[0],Ne[1]):null==Ne?Ne:"object"==typeof Ne&&"x"in Ne&&"y"in Ne?new Point(Ne.x,Ne.y):new Point(Ne,et,tt)}function Bounds(Ne,et){if(Ne)for(var tt=et?[Ne,et]:Ne,nt=0,rt=tt.length;nt<rt;nt++)this.extend(tt[nt])}function toBounds(Ne,et){return!Ne||Ne instanceof Bounds?Ne:new Bounds(Ne,et)}function LatLngBounds(Ne,et){if(Ne)for(var tt=et?[Ne,et]:Ne,nt=0,rt=tt.length;nt<rt;nt++)this.extend(tt[nt])}function toLatLngBounds(Ne,et){return Ne instanceof LatLngBounds?Ne:new LatLngBounds(Ne,et)}function LatLng(Ne,et,tt){if(isNaN(Ne)||isNaN(et))throw new Error("Invalid LatLng object: ("+Ne+", "+et+")");this.lat=+Ne,this.lng=+et,void 0!==tt&&(this.alt=+tt)}function toLatLng(Ne,et,tt){return Ne instanceof LatLng?Ne:it(Ne)&&"object"!=typeof Ne[0]?3===Ne.length?new LatLng(Ne[0],Ne[1],Ne[2]):2===Ne.length?new LatLng(Ne[0],Ne[1]):null:null==Ne?Ne:"object"==typeof Ne&&"lat"in Ne?new LatLng(Ne.lat,"lng"in Ne?Ne.lng:Ne.lon,Ne.alt):void 0===et?null:new LatLng(Ne,et,tt)}Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(Ne){return this.clone()._add(toPoint(Ne))},_add:function(Ne){return this.x+=Ne.x,this.y+=Ne.y,this},subtract:function(Ne){return this.clone()._subtract(toPoint(Ne))},_subtract:function(Ne){return this.x-=Ne.x,this.y-=Ne.y,this},divideBy:function(Ne){return this.clone()._divideBy(Ne)},_divideBy:function(Ne){return this.x/=Ne,this.y/=Ne,this},multiplyBy:function(Ne){return this.clone()._multiplyBy(Ne)},_multiplyBy:function(Ne){return this.x*=Ne,this.y*=Ne,this},scaleBy:function(Ne){return new Point(this.x*Ne.x,this.y*Ne.y)},unscaleBy:function(Ne){return new Point(this.x/Ne.x,this.y/Ne.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=mt(this.x),this.y=mt(this.y),this},distanceTo:function(Ne){var et=(Ne=toPoint(Ne)).x-this.x,tt=Ne.y-this.y;return Math.sqrt(et*et+tt*tt)},equals:function(Ne){return(Ne=toPoint(Ne)).x===this.x&&Ne.y===this.y},contains:function(Ne){return Ne=toPoint(Ne),Math.abs(Ne.x)<=Math.abs(this.x)&&Math.abs(Ne.y)<=Math.abs(this.y)},toString:function(){return"Point("+formatNum(this.x)+", "+formatNum(this.y)+")"}},Bounds.prototype={extend:function(Ne){return Ne=toPoint(Ne),this.min||this.max?(this.min.x=Math.min(Ne.x,this.min.x),this.max.x=Math.max(Ne.x,this.max.x),this.min.y=Math.min(Ne.y,this.min.y),this.max.y=Math.max(Ne.y,this.max.y)):(this.min=Ne.clone(),this.max=Ne.clone()),this},getCenter:function(Ne){return new Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,Ne)},getBottomLeft:function(){return new Point(this.min.x,this.max.y)},getTopRight:function(){return new Point(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(Ne){var et,tt;return(Ne="number"==typeof Ne[0]||Ne instanceof Point?toPoint(Ne):toBounds(Ne))instanceof Bounds?(et=Ne.min,tt=Ne.max):et=tt=Ne,et.x>=this.min.x&&tt.x<=this.max.x&&et.y>=this.min.y&&tt.y<=this.max.y},intersects:function(Ne){Ne=toBounds(Ne);var et=this.min,tt=this.max,nt=Ne.min,rt=Ne.max,it=rt.x>=et.x&&nt.x<=tt.x,ot=rt.y>=et.y&&nt.y<=tt.y;return it&&ot},overlaps:function(Ne){Ne=toBounds(Ne);var et=this.min,tt=this.max,nt=Ne.min,rt=Ne.max,it=rt.x>et.x&&nt.x<tt.x,ot=rt.y>et.y&&nt.y<tt.y;return it&&ot},isValid:function(){return!(!this.min||!this.max)}},LatLngBounds.prototype={extend:function(Ne){var et,tt,nt=this._southWest,rt=this._northEast;if(Ne instanceof LatLng)et=Ne,tt=Ne;else{if(!(Ne instanceof LatLngBounds))return Ne?this.extend(toLatLng(Ne)||toLatLngBounds(Ne)):this;if(et=Ne._southWest,tt=Ne._northEast,!et||!tt)return this}return nt||rt?(nt.lat=Math.min(et.lat,nt.lat),nt.lng=Math.min(et.lng,nt.lng),rt.lat=Math.max(tt.lat,rt.lat),rt.lng=Math.max(tt.lng,rt.lng)):(this._southWest=new LatLng(et.lat,et.lng),this._northEast=new LatLng(tt.lat,tt.lng)),this},pad:function(Ne){var et=this._southWest,tt=this._northEast,nt=Math.abs(et.lat-tt.lat)*Ne,rt=Math.abs(et.lng-tt.lng)*Ne;return new LatLngBounds(new LatLng(et.lat-nt,et.lng-rt),new LatLng(tt.lat+nt,tt.lng+rt))},getCenter:function(){return new LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(Ne){Ne="number"==typeof Ne[0]||Ne instanceof LatLng||"lat"in Ne?toLatLng(Ne):toLatLngBounds(Ne);var et,tt,nt=this._southWest,rt=this._northEast;return Ne instanceof LatLngBounds?(et=Ne.getSouthWest(),tt=Ne.getNorthEast()):et=tt=Ne,et.lat>=nt.lat&&tt.lat<=rt.lat&&et.lng>=nt.lng&&tt.lng<=rt.lng},intersects:function(Ne){Ne=toLatLngBounds(Ne);var et=this._southWest,tt=this._northEast,nt=Ne.getSouthWest(),rt=Ne.getNorthEast(),it=rt.lat>=et.lat&&nt.lat<=tt.lat,ot=rt.lng>=et.lng&&nt.lng<=tt.lng;return it&&ot},overlaps:function(Ne){Ne=toLatLngBounds(Ne);var et=this._southWest,tt=this._northEast,nt=Ne.getSouthWest(),rt=Ne.getNorthEast(),it=rt.lat>et.lat&&nt.lat<tt.lat,ot=rt.lng>et.lng&&nt.lng<tt.lng;return it&&ot},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(Ne,et){return!!Ne&&(Ne=toLatLngBounds(Ne),this._southWest.equals(Ne.getSouthWest(),et)&&this._northEast.equals(Ne.getNorthEast(),et))},isValid:function(){return!(!this._southWest||!this._northEast)}},LatLng.prototype={equals:function(Ne,et){return!!Ne&&(Ne=toLatLng(Ne),Math.max(Math.abs(this.lat-Ne.lat),Math.abs(this.lng-Ne.lng))<=(void 0===et?1e-9:et))},toString:function(Ne){return"LatLng("+formatNum(this.lat,Ne)+", "+formatNum(this.lng,Ne)+")"},distanceTo:function(Ne){return Ot.distance(this,toLatLng(Ne))},wrap:function(){return Ot.wrapLatLng(this)},toBounds:function(Ne){var et=180*Ne/40075017,tt=et/Math.cos(Math.PI/180*this.lat);return toLatLngBounds([this.lat-et,this.lng-tt],[this.lat+et,this.lng+tt])},clone:function(){return new LatLng(this.lat,this.lng,this.alt)}};var yt,vt={latLngToPoint:function(Ne,et){var tt=this.projection.project(Ne),nt=this.scale(et);return this.transformation._transform(tt,nt)},pointToLatLng:function(Ne,et){var tt=this.scale(et),nt=this.transformation.untransform(Ne,tt);return this.projection.unproject(nt)},project:function(Ne){return this.projection.project(Ne)},unproject:function(Ne){return this.projection.unproject(Ne)},scale:function(Ne){return 256*Math.pow(2,Ne)},zoom:function(Ne){return Math.log(Ne/256)/Math.LN2},getProjectedBounds:function(Ne){if(this.infinite)return null;var et=this.projection.bounds,tt=this.scale(Ne);return new Bounds(this.transformation.transform(et.min,tt),this.transformation.transform(et.max,tt))},infinite:!1,wrapLatLng:function(Ne){var et=this.wrapLng?wrapNum(Ne.lng,this.wrapLng,!0):Ne.lng;return new LatLng(this.wrapLat?wrapNum(Ne.lat,this.wrapLat,!0):Ne.lat,et,Ne.alt)},wrapLatLngBounds:function(Ne){var et=Ne.getCenter(),tt=this.wrapLatLng(et),nt=et.lat-tt.lat,rt=et.lng-tt.lng;if(0===nt&&0===rt)return Ne;var it=Ne.getSouthWest(),ot=Ne.getNorthEast();return new LatLngBounds(new LatLng(it.lat-nt,it.lng-rt),new LatLng(ot.lat-nt,ot.lng-rt))}},Ot=extend({},vt,{wrapLng:[-180,180],R:6371e3,distance:function(Ne,et){var tt=Math.PI/180,nt=Ne.lat*tt,rt=et.lat*tt,it=Math.sin((et.lat-Ne.lat)*tt/2),ot=Math.sin((et.lng-Ne.lng)*tt/2),at=it*it+Math.cos(nt)*Math.cos(rt)*ot*ot,st=2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at));return this.R*st}}),Dt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(Ne){var et=Math.PI/180,tt=this.MAX_LATITUDE,nt=Math.max(Math.min(tt,Ne.lat),-tt),rt=Math.sin(nt*et);return new Point(this.R*Ne.lng*et,this.R*Math.log((1+rt)/(1-rt))/2)},unproject:function(Ne){var et=180/Math.PI;return new LatLng((2*Math.atan(Math.exp(Ne.y/this.R))-Math.PI/2)*et,Ne.x*et/this.R)},bounds:(yt=6378137*Math.PI,new Bounds([-yt,-yt],[yt,yt]))};function Transformation(Ne,et,tt,nt){if(it(Ne))return this._a=Ne[0],this._b=Ne[1],this._c=Ne[2],void(this._d=Ne[3]);this._a=Ne,this._b=et,this._c=tt,this._d=nt}function toTransformation(Ne,et,tt,nt){return new Transformation(Ne,et,tt,nt)}Transformation.prototype={transform:function(Ne,et){return this._transform(Ne.clone(),et)},_transform:function(Ne,et){return et=et||1,Ne.x=et*(this._a*Ne.x+this._b),Ne.y=et*(this._c*Ne.y+this._d),Ne},untransform:function(Ne,et){return et=et||1,new Point((Ne.x/et-this._b)/this._a,(Ne.y/et-this._d)/this._c)}};var Rt=extend({},Ot,{code:"EPSG:3857",projection:Dt,transformation:function(){var Ne=.5/(Math.PI*Dt.R);return toTransformation(Ne,.5,-Ne,.5)}()}),Bt=extend({},Rt,{code:"EPSG:900913"});function svgCreate(Ne){return document.createElementNS("http://www.w3.org/2000/svg",Ne)}function pointsToPath(Ne,et){var tt,nt,rt,it,ot,at,st="";for(tt=0,rt=Ne.length;tt<rt;tt++){for(nt=0,it=(ot=Ne[tt]).length;nt<it;nt++)st+=(nt?"L":"M")+(at=ot[nt]).x+" "+at.y;st+=et?sa?"z":"x":""}return st||"M0 0"}var rn=document.documentElement.style,vn="ActiveXObject"in window,bn=vn&&!document.addEventListener,Tn="msLaunchUri"in navigator&&!("documentMode"in document),Cn=userAgentContains("webkit"),In=userAgentContains("android"),Ln=userAgentContains("android 2")||userAgentContains("android 3"),Mn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zn=In&&userAgentContains("Google")&&Mn<537&&!("AudioNode"in window),Fn=!!window.opera,Bn=userAgentContains("chrome"),Nn=userAgentContains("gecko")&&!Cn&&!Fn&&!vn,Vn=!Bn&&userAgentContains("safari"),Wn=userAgentContains("phantom"),$n="OTransition"in rn,Yn=0===navigator.platform.indexOf("Win"),er=vn&&"transition"in rn,rr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ln,vr="MozPerspective"in rn,wr=!window.L_DISABLE_3D&&(er||rr||vr)&&!$n&&!Wn,Sr="undefined"!=typeof orientation||userAgentContains("mobile"),ii=Sr&&Cn,qi=Sr&&rr,uo=!window.PointerEvent&&window.MSPointerEvent,po=!(Cn||!window.PointerEvent&&!uo),vo=!window.L_NO_TOUCH&&(po||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),So=Sr&&Fn,ta=Sr&&Nn,na=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,passiveEvents=function(){var Ne=!1;try{var et=Object.defineProperty({},"passive",{get:function(){Ne=!0}});window.addEventListener("testPassiveEventSupport",falseFn,et),window.removeEventListener("testPassiveEventSupport",falseFn,et)}catch(Ne){}return Ne},ia=!!document.createElement("canvas").getContext,sa=!(!document.createElementNS||!svgCreate("svg").createSVGRect),la=!sa&&function(){try{var Ne=document.createElement("div");Ne.innerHTML='<v:shape adj="1"/>';var et=Ne.firstChild;return et.style.behavior="url(#default#VML)",et&&"object"==typeof et.adj}catch(Ne){return!1}}();function userAgentContains(Ne){return navigator.userAgent.toLowerCase().indexOf(Ne)>=0}var pa=(Object.freeze||Object)({ie:vn,ielt9:bn,edge:Tn,webkit:Cn,android:In,android23:Ln,androidStock:zn,opera:Fn,chrome:Bn,gecko:Nn,safari:Vn,phantom:Wn,opera12:$n,win:Yn,ie3d:er,webkit3d:rr,gecko3d:vr,any3d:wr,mobile:Sr,mobileWebkit:ii,mobileWebkit3d:qi,msPointer:uo,pointer:po,touch:vo,mobileOpera:So,mobileGecko:ta,retina:na,passiveEvents:passiveEvents,canvas:ia,svg:sa,vml:la}),fa=uo?"MSPointerDown":"pointerdown",ga=uo?"MSPointerMove":"pointermove",va=uo?"MSPointerUp":"pointerup",_a=uo?"MSPointerCancel":"pointercancel",wa=["INPUT","SELECT","OPTION"],Aa={},os=!1,as=0;function addPointerListener(Ne,et,tt,nt){return"touchstart"===et?function _addPointerStart(Ne,et,tt){var nt=bind((function(Ne){if("mouse"!==Ne.pointerType&&Ne.MSPOINTER_TYPE_MOUSE&&Ne.pointerType!==Ne.MSPOINTER_TYPE_MOUSE){if(!(wa.indexOf(Ne.target.tagName)<0))return;preventDefault(Ne)}_handlePointer(Ne,et)}));Ne["_leaflet_touchstart"+tt]=nt,Ne.addEventListener(fa,nt,!1),os||(document.documentElement.addEventListener(fa,_globalPointerDown,!0),document.documentElement.addEventListener(ga,_globalPointerMove,!0),document.documentElement.addEventListener(va,_globalPointerUp,!0),document.documentElement.addEventListener(_a,_globalPointerUp,!0),os=!0)}(Ne,tt,nt):"touchmove"===et?function _addPointerMove(Ne,et,tt){var onMove=function(Ne){(Ne.pointerType!==Ne.MSPOINTER_TYPE_MOUSE&&"mouse"!==Ne.pointerType||0!==Ne.buttons)&&_handlePointer(Ne,et)};Ne["_leaflet_touchmove"+tt]=onMove,Ne.addEventListener(ga,onMove,!1)}(Ne,tt,nt):"touchend"===et&&function _addPointerEnd(Ne,et,tt){var onUp=function(Ne){_handlePointer(Ne,et)};Ne["_leaflet_touchend"+tt]=onUp,Ne.addEventListener(va,onUp,!1),Ne.addEventListener(_a,onUp,!1)}(Ne,tt,nt),this}function _globalPointerDown(Ne){Aa[Ne.pointerId]=Ne,as++}function _globalPointerMove(Ne){Aa[Ne.pointerId]&&(Aa[Ne.pointerId]=Ne)}function _globalPointerUp(Ne){delete Aa[Ne.pointerId],as--}function _handlePointer(Ne,et){for(var tt in Ne.touches=[],Aa)Ne.touches.push(Aa[tt]);Ne.changedTouches=[Ne],et(Ne)}var ss=uo?"MSPointerDown":po?"pointerdown":"touchstart",ls=uo?"MSPointerUp":po?"pointerup":"touchend",us="_leaflet_";function addDoubleTapListener(Ne,et,tt){var nt,rt,it=!1;function onTouchStart(Ne){var et;if(po){if(!Tn||"mouse"===Ne.pointerType)return;et=as}else et=Ne.touches.length;if(!(et>1)){var tt=Date.now(),ot=tt-(nt||tt);rt=Ne.touches?Ne.touches[0]:Ne,it=ot>0&&ot<=250,nt=tt}}function onTouchEnd(Ne){if(it&&!rt.cancelBubble){if(po){if(!Tn||"mouse"===Ne.pointerType)return;var tt,ot,at={};for(ot in rt)tt=rt[ot],at[ot]=tt&&tt.bind?tt.bind(rt):tt;rt=at}rt.type="dblclick",rt.button=0,et(rt),nt=null}}return Ne[us+ss+tt]=onTouchStart,Ne[us+ls+tt]=onTouchEnd,Ne[us+"dblclick"+tt]=et,Ne.addEventListener(ss,onTouchStart,!!passiveEvents&&{passive:!1}),Ne.addEventListener(ls,onTouchEnd,!!passiveEvents&&{passive:!1}),Ne.addEventListener("dblclick",et,!1),this}function removeDoubleTapListener(Ne,et){var tt=Ne[us+ss+et],nt=Ne[us+ls+et],rt=Ne[us+"dblclick"+et];return Ne.removeEventListener(ss,tt,!!passiveEvents&&{passive:!1}),Ne.removeEventListener(ls,nt,!!passiveEvents&&{passive:!1}),Tn||Ne.removeEventListener("dblclick",rt,!1),this}var fs,gs,vs,xs,Ss,Es=testProp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Cs=testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ps="webkitTransition"===Cs||"OTransition"===Cs?Cs+"End":"transitionend";function get(Ne){return"string"==typeof Ne?document.getElementById(Ne):Ne}function getStyle(Ne,et){var tt=Ne.style[et]||Ne.currentStyle&&Ne.currentStyle[et];if((!tt||"auto"===tt)&&document.defaultView){var nt=document.defaultView.getComputedStyle(Ne,null);tt=nt?nt[et]:null}return"auto"===tt?null:tt}function create$1(Ne,et,tt){var nt=document.createElement(Ne);return nt.className=et||"",tt&&tt.appendChild(nt),nt}function remove(Ne){var et=Ne.parentNode;et&&et.removeChild(Ne)}function empty(Ne){for(;Ne.firstChild;)Ne.removeChild(Ne.firstChild)}function toFront(Ne){var et=Ne.parentNode;et&&et.lastChild!==Ne&&et.appendChild(Ne)}function toBack(Ne){var et=Ne.parentNode;et&&et.firstChild!==Ne&&et.insertBefore(Ne,et.firstChild)}function hasClass(Ne,et){if(void 0!==Ne.classList)return Ne.classList.contains(et);var tt=getClass(Ne);return tt.length>0&&new RegExp("(^|\\s)"+et+"(\\s|$)").test(tt)}function addClass(Ne,et){if(void 0!==Ne.classList)for(var tt=splitWords(et),nt=0,rt=tt.length;nt<rt;nt++)Ne.classList.add(tt[nt]);else if(!hasClass(Ne,et)){var it=getClass(Ne);setClass(Ne,(it?it+" ":"")+et)}}function removeClass(Ne,et){void 0!==Ne.classList?Ne.classList.remove(et):setClass(Ne,trim((" "+getClass(Ne)+" ").replace(" "+et+" "," ")))}function setClass(Ne,et){void 0===Ne.className.baseVal?Ne.className=et:Ne.className.baseVal=et}function getClass(Ne){return Ne.correspondingElement&&(Ne=Ne.correspondingElement),void 0===Ne.className.baseVal?Ne.className:Ne.className.baseVal}function setOpacity(Ne,et){"opacity"in Ne.style?Ne.style.opacity=et:"filter"in Ne.style&&function _setOpacityIE(Ne,et){var tt=!1,nt="DXImageTransform.Microsoft.Alpha";try{tt=Ne.filters.item(nt)}catch(Ne){if(1===et)return}et=Math.round(100*et),tt?(tt.Enabled=100!==et,tt.Opacity=et):Ne.style.filter+=" progid:"+nt+"(opacity="+et+")"}(Ne,et)}function testProp(Ne){for(var et=document.documentElement.style,tt=0;tt<Ne.length;tt++)if(Ne[tt]in et)return Ne[tt];return!1}function setTransform(Ne,et,tt){var nt=et||new Point(0,0);Ne.style[Es]=(er?"translate("+nt.x+"px,"+nt.y+"px)":"translate3d("+nt.x+"px,"+nt.y+"px,0)")+(tt?" scale("+tt+")":"")}function setPosition(Ne,et){Ne._leaflet_pos=et,wr?setTransform(Ne,et):(Ne.style.left=et.x+"px",Ne.style.top=et.y+"px")}function getPosition(Ne){return Ne._leaflet_pos||new Point(0,0)}if("onselectstart"in document)fs=function(){on(window,"selectstart",preventDefault)},gs=function(){off(window,"selectstart",preventDefault)};else{var As=testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fs=function(){if(As){var Ne=document.documentElement.style;vs=Ne[As],Ne[As]="none"}},gs=function(){As&&(document.documentElement.style[As]=vs,vs=void 0)}}function disableImageDrag(){on(window,"dragstart",preventDefault)}function enableImageDrag(){off(window,"dragstart",preventDefault)}function preventOutline(Ne){for(;-1===Ne.tabIndex;)Ne=Ne.parentNode;Ne.style&&(restoreOutline(),xs=Ne,Ss=Ne.style.outline,Ne.style.outline="none",on(window,"keydown",restoreOutline))}function restoreOutline(){xs&&(xs.style.outline=Ss,xs=void 0,Ss=void 0,off(window,"keydown",restoreOutline))}function getSizedParentNode(Ne){do{Ne=Ne.parentNode}while(!(Ne.offsetWidth&&Ne.offsetHeight||Ne===document.body));return Ne}function getScale(Ne){var et=Ne.getBoundingClientRect();return{x:et.width/Ne.offsetWidth||1,y:et.height/Ne.offsetHeight||1,boundingClientRect:et}}var Ls=(Object.freeze||Object)({TRANSFORM:Es,TRANSITION:Cs,TRANSITION_END:Ps,get:get,getStyle:getStyle,create:create$1,remove:remove,empty:empty,toFront:toFront,toBack:toBack,hasClass:hasClass,addClass:addClass,removeClass:removeClass,setClass:setClass,getClass:getClass,setOpacity:setOpacity,testProp:testProp,setTransform:setTransform,setPosition:setPosition,getPosition:getPosition,disableTextSelection:fs,enableTextSelection:gs,disableImageDrag:disableImageDrag,enableImageDrag:enableImageDrag,preventOutline:preventOutline,restoreOutline:restoreOutline,getSizedParentNode:getSizedParentNode,getScale:getScale});function on(Ne,et,tt,nt){if("object"==typeof et)for(var rt in et)addOne(Ne,rt,et[rt],tt);else for(var it=0,ot=(et=splitWords(et)).length;it<ot;it++)addOne(Ne,et[it],tt,nt);return this}var Ms="_leaflet_events";function off(Ne,et,tt,nt){if("object"==typeof et)for(var rt in et)removeOne(Ne,rt,et[rt],tt);else if(et)for(var it=0,ot=(et=splitWords(et)).length;it<ot;it++)removeOne(Ne,et[it],tt,nt);else{for(var at in Ne[Ms])removeOne(Ne,at,Ne[Ms][at]);delete Ne[Ms]}return this}function addOne(Ne,et,tt,nt){var rt=et+stamp(tt)+(nt?"_"+stamp(nt):"");if(Ne[Ms]&&Ne[Ms][rt])return this;var handler=function(et){return tt.call(nt||Ne,et||window.event)},it=handler;po&&0===et.indexOf("touch")?addPointerListener(Ne,et,handler,rt):!vo||"dblclick"!==et||!addDoubleTapListener||po&&Bn?"addEventListener"in Ne?"mousewheel"===et?Ne.addEventListener("onwheel"in Ne?"wheel":"mousewheel",handler,!!passiveEvents&&{passive:!1}):"mouseenter"===et||"mouseleave"===et?(handler=function(et){et=et||window.event,isExternalTarget(Ne,et)&&it(et)},Ne.addEventListener("mouseenter"===et?"mouseover":"mouseout",handler,!1)):("click"===et&&In&&(handler=function(Ne){!function filterClick(Ne,et){var tt=Ne.timeStamp||Ne.originalEvent&&Ne.originalEvent.timeStamp,nt=zs&&tt-zs;nt&&nt>100&&nt<500||Ne.target._simulatedClick&&!Ne._simulated?stop(Ne):(zs=tt,et(Ne))}(Ne,it)}),Ne.addEventListener(et,handler,!1)):"attachEvent"in Ne&&Ne.attachEvent("on"+et,handler):addDoubleTapListener(Ne,handler,rt),Ne[Ms]=Ne[Ms]||{},Ne[Ms][rt]=handler}function removeOne(Ne,et,tt,nt){var rt=et+stamp(tt)+(nt?"_"+stamp(nt):""),it=Ne[Ms]&&Ne[Ms][rt];if(!it)return this;po&&0===et.indexOf("touch")?function removePointerListener(Ne,et,tt){var nt=Ne["_leaflet_"+et+tt];return"touchstart"===et?Ne.removeEventListener(fa,nt,!1):"touchmove"===et?Ne.removeEventListener(ga,nt,!1):"touchend"===et&&(Ne.removeEventListener(va,nt,!1),Ne.removeEventListener(_a,nt,!1)),this}(Ne,et,rt):!vo||"dblclick"!==et||!removeDoubleTapListener||po&&Bn?"removeEventListener"in Ne?"mousewheel"===et?Ne.removeEventListener("onwheel"in Ne?"wheel":"mousewheel",it,!!passiveEvents&&{passive:!1}):Ne.removeEventListener("mouseenter"===et?"mouseover":"mouseleave"===et?"mouseout":et,it,!1):"detachEvent"in Ne&&Ne.detachEvent("on"+et,it):removeDoubleTapListener(Ne,rt),Ne[Ms][rt]=null}function stopPropagation(Ne){return Ne.stopPropagation?Ne.stopPropagation():Ne.originalEvent?Ne.originalEvent._stopped=!0:Ne.cancelBubble=!0,skipped(Ne),this}function disableScrollPropagation(Ne){return addOne(Ne,"mousewheel",stopPropagation),this}function disableClickPropagation(Ne){return on(Ne,"mousedown touchstart dblclick",stopPropagation),addOne(Ne,"click",fakeStop),this}function preventDefault(Ne){return Ne.preventDefault?Ne.preventDefault():Ne.returnValue=!1,this}function stop(Ne){return preventDefault(Ne),stopPropagation(Ne),this}function getMousePosition(Ne,et){if(!et)return new Point(Ne.clientX,Ne.clientY);var tt=getScale(et),nt=tt.boundingClientRect;return new Point((Ne.clientX-nt.left)/tt.x-et.clientLeft,(Ne.clientY-nt.top)/tt.y-et.clientTop)}var Os=Yn&&Bn?2*window.devicePixelRatio:Nn?window.devicePixelRatio:1;function getWheelDelta(Ne){return Tn?Ne.wheelDeltaY/2:Ne.deltaY&&0===Ne.deltaMode?-Ne.deltaY/Os:Ne.deltaY&&1===Ne.deltaMode?20*-Ne.deltaY:Ne.deltaY&&2===Ne.deltaMode?60*-Ne.deltaY:Ne.deltaX||Ne.deltaZ?0:Ne.wheelDelta?(Ne.wheelDeltaY||Ne.wheelDelta)/2:Ne.detail&&Math.abs(Ne.detail)<32765?20*-Ne.detail:Ne.detail?Ne.detail/-32765*60:0}var zs,Rs={};function fakeStop(Ne){Rs[Ne.type]=!0}function skipped(Ne){var et=Rs[Ne.type];return Rs[Ne.type]=!1,et}function isExternalTarget(Ne,et){var tt=et.relatedTarget;if(!tt)return!0;try{for(;tt&&tt!==Ne;)tt=tt.parentNode}catch(Ne){return!1}return tt!==Ne}var Fs=(Object.freeze||Object)({on:on,off:off,stopPropagation:stopPropagation,disableScrollPropagation:disableScrollPropagation,disableClickPropagation:disableClickPropagation,preventDefault:preventDefault,stop:stop,getMousePosition:getMousePosition,getWheelDelta:getWheelDelta,fakeStop:fakeStop,skipped:skipped,isExternalTarget:isExternalTarget,addListener:on,removeListener:off}),Bs=ft.extend({run:function(Ne,et,tt,nt){this.stop(),this._el=Ne,this._inProgress=!0,this._duration=tt||.25,this._easeOutPower=1/Math.max(nt||.5,.2),this._startPos=getPosition(Ne),this._offset=et.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=requestAnimFrame(this._animate,this),this._step()},_step:function(Ne){var et=+new Date-this._startTime,tt=1e3*this._duration;et<tt?this._runFrame(this._easeOut(et/tt),Ne):(this._runFrame(1),this._complete())},_runFrame:function(Ne,et){var tt=this._startPos.add(this._offset.multiplyBy(Ne));et&&tt._round(),setPosition(this._el,tt),this.fire("step")},_complete:function(){cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(Ne){return 1-Math.pow(1-Ne,this._easeOutPower)}}),js=ft.extend({options:{crs:Rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(Ne,et){et=setOptions(this,et),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(Ne),this._initLayout(),this._onResize=bind(this._onResize,this),this._initEvents(),et.maxBounds&&this.setMaxBounds(et.maxBounds),void 0!==et.zoom&&(this._zoom=this._limitZoom(et.zoom)),et.center&&void 0!==et.zoom&&this.setView(toLatLng(et.center),et.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Cs&&wr&&!So&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),on(this._proxy,Ps,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(Ne,et,tt){return et=void 0===et?this._zoom:this._limitZoom(et),Ne=this._limitCenter(toLatLng(Ne),et,this.options.maxBounds),tt=tt||{},this._stop(),this._loaded&&!tt.reset&&!0!==tt&&(void 0!==tt.animate&&(tt.zoom=extend({animate:tt.animate},tt.zoom),tt.pan=extend({animate:tt.animate,duration:tt.duration},tt.pan)),this._zoom!==et?this._tryAnimatedZoom&&this._tryAnimatedZoom(Ne,et,tt.zoom):this._tryAnimatedPan(Ne,tt.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(Ne,et),this)},setZoom:function(Ne,et){return this._loaded?this.setView(this.getCenter(),Ne,{zoom:et}):(this._zoom=Ne,this)},zoomIn:function(Ne,et){return Ne=Ne||(wr?this.options.zoomDelta:1),this.setZoom(this._zoom+Ne,et)},zoomOut:function(Ne,et){return Ne=Ne||(wr?this.options.zoomDelta:1),this.setZoom(this._zoom-Ne,et)},setZoomAround:function(Ne,et,tt){var nt=this.getZoomScale(et),rt=this.getSize().divideBy(2),it=(Ne instanceof Point?Ne:this.latLngToContainerPoint(Ne)).subtract(rt).multiplyBy(1-1/nt),ot=this.containerPointToLatLng(rt.add(it));return this.setView(ot,et,{zoom:tt})},_getBoundsCenterZoom:function(Ne,et){et=et||{},Ne=Ne.getBounds?Ne.getBounds():toLatLngBounds(Ne);var tt=toPoint(et.paddingTopLeft||et.padding||[0,0]),nt=toPoint(et.paddingBottomRight||et.padding||[0,0]),rt=this.getBoundsZoom(Ne,!1,tt.add(nt));if((rt="number"==typeof et.maxZoom?Math.min(et.maxZoom,rt):rt)===1/0)return{center:Ne.getCenter(),zoom:rt};var it=nt.subtract(tt).divideBy(2),ot=this.project(Ne.getSouthWest(),rt),at=this.project(Ne.getNorthEast(),rt);return{center:this.unproject(ot.add(at).divideBy(2).add(it),rt),zoom:rt}},fitBounds:function(Ne,et){if(!(Ne=toLatLngBounds(Ne)).isValid())throw new Error("Bounds are not valid.");var tt=this._getBoundsCenterZoom(Ne,et);return this.setView(tt.center,tt.zoom,et)},fitWorld:function(Ne){return this.fitBounds([[-90,-180],[90,180]],Ne)},panTo:function(Ne,et){return this.setView(Ne,this._zoom,{pan:et})},panBy:function(Ne,et){if(et=et||{},!(Ne=toPoint(Ne).round()).x&&!Ne.y)return this.fire("moveend");if(!0!==et.animate&&!this.getSize().contains(Ne))return this._resetView(this.unproject(this.project(this.getCenter()).add(Ne)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),et.noMoveStart||this.fire("movestart"),!1!==et.animate){addClass(this._mapPane,"leaflet-pan-anim");var tt=this._getMapPanePos().subtract(Ne).round();this._panAnim.run(this._mapPane,tt,et.duration||.25,et.easeLinearity)}else this._rawPanBy(Ne),this.fire("move").fire("moveend");return this},flyTo:function(Ne,et,tt){if(!1===(tt=tt||{}).animate||!wr)return this.setView(Ne,et,tt);this._stop();var nt=this.project(this.getCenter()),rt=this.project(Ne),it=this.getSize(),ot=this._zoom;Ne=toLatLng(Ne),et=void 0===et?ot:et;var at=Math.max(it.x,it.y),st=at*this.getZoomScale(ot,et),ct=rt.distanceTo(nt)||1;function r(Ne){var et=(st*st-at*at+2.0164*(Ne?-1:1)*2.0164*ct*ct)/(2*(Ne?st:at)*2.0164*ct),tt=Math.sqrt(et*et+1)-et;return tt<1e-9?-18:Math.log(tt)}function sinh(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function cosh(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}var pt=r(0);function u(Ne){return at*(cosh(pt)*function tanh(Ne){return sinh(Ne)/cosh(Ne)}(pt+1.42*Ne)-sinh(pt))/2.0164}var dt=Date.now(),ft=(r(1)-pt)/1.42,mt=tt.duration?1e3*tt.duration:1e3*ft*.8;return this._moveStart(!0,tt.noMoveStart),function frame(){var tt=(Date.now()-dt)/mt,it=function easeOut(Ne){return 1-Math.pow(1-Ne,1.5)}(tt)*ft;tt<=1?(this._flyToFrame=requestAnimFrame(frame,this),this._move(this.unproject(nt.add(rt.subtract(nt).multiplyBy(u(it)/ct)),ot),this.getScaleZoom(at/function w(Ne){return at*(cosh(pt)/cosh(pt+1.42*Ne))}(it),ot),{flyTo:!0})):this._move(Ne,et)._moveEnd(!0)}.call(this),this},flyToBounds:function(Ne,et){var tt=this._getBoundsCenterZoom(Ne,et);return this.flyTo(tt.center,tt.zoom,et)},setMaxBounds:function(Ne){return(Ne=toLatLngBounds(Ne)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=Ne,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(Ne){var et=this.options.minZoom;return this.options.minZoom=Ne,this._loaded&&et!==Ne&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(Ne):this},setMaxZoom:function(Ne){var et=this.options.maxZoom;return this.options.maxZoom=Ne,this._loaded&&et!==Ne&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(Ne):this},panInsideBounds:function(Ne,et){this._enforcingBounds=!0;var tt=this.getCenter(),nt=this._limitCenter(tt,this._zoom,toLatLngBounds(Ne));return tt.equals(nt)||this.panTo(nt,et),this._enforcingBounds=!1,this},panInside:function(Ne,et){var tt=toPoint((et=et||{}).paddingTopLeft||et.padding||[0,0]),nt=toPoint(et.paddingBottomRight||et.padding||[0,0]),rt=this.getCenter(),it=this.project(rt),ot=this.project(Ne),at=this.getPixelBounds(),st=at.getSize().divideBy(2),ct=toBounds([at.min.add(tt),at.max.subtract(nt)]);if(!ct.contains(ot)){this._enforcingBounds=!0;var pt=it.subtract(ot),dt=toPoint(ot.x+pt.x,ot.y+pt.y);(ot.x<ct.min.x||ot.x>ct.max.x)&&(dt.x=it.x-pt.x,pt.x>0?dt.x+=st.x-tt.x:dt.x-=st.x-nt.x),(ot.y<ct.min.y||ot.y>ct.max.y)&&(dt.y=it.y-pt.y,pt.y>0?dt.y+=st.y-tt.y:dt.y-=st.y-nt.y),this.panTo(this.unproject(dt),et),this._enforcingBounds=!1}return this},invalidateSize:function(Ne){if(!this._loaded)return this;Ne=extend({animate:!1,pan:!0},!0===Ne?{animate:!0}:Ne);var et=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var tt=this.getSize(),nt=et.divideBy(2).round(),rt=tt.divideBy(2).round(),it=nt.subtract(rt);return it.x||it.y?(Ne.animate&&Ne.pan?this.panBy(it):(Ne.pan&&this._rawPanBy(it),this.fire("move"),Ne.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:et,newSize:tt})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(Ne){if(Ne=this._locateOptions=extend({timeout:1e4,watch:!1},Ne),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var et=bind(this._handleGeolocationResponse,this),tt=bind(this._handleGeolocationError,this);return Ne.watch?this._locationWatchId=navigator.geolocation.watchPosition(et,tt,Ne):navigator.geolocation.getCurrentPosition(et,tt,Ne),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(Ne){var et=Ne.code,tt=Ne.message||(1===et?"permission denied":2===et?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:et,message:"Geolocation error: "+tt+"."})},_handleGeolocationResponse:function(Ne){var et=new LatLng(Ne.coords.latitude,Ne.coords.longitude),tt=et.toBounds(2*Ne.coords.accuracy),nt=this._locateOptions;if(nt.setView){var rt=this.getBoundsZoom(tt);this.setView(et,nt.maxZoom?Math.min(rt,nt.maxZoom):rt)}var it={latlng:et,bounds:tt,timestamp:Ne.timestamp};for(var ot in Ne.coords)"number"==typeof Ne.coords[ot]&&(it[ot]=Ne.coords[ot]);this.fire("locationfound",it)},addHandler:function(Ne,et){if(!et)return this;var tt=this[Ne]=new et(this);return this._handlers.push(tt),this.options[Ne]&&tt.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(Ne){this._container._leaflet_id=void 0,this._containerId=void 0}var Ne;for(Ne in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(cancelAnimFrame(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[Ne].remove();for(Ne in this._panes)remove(this._panes[Ne]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(Ne,et){var tt=create$1("div","leaflet-pane"+(Ne?" leaflet-"+Ne.replace("Pane","")+"-pane":""),et||this._mapPane);return Ne&&(this._panes[Ne]=tt),tt},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var Ne=this.getPixelBounds();return new LatLngBounds(this.unproject(Ne.getBottomLeft()),this.unproject(Ne.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Ne,et,tt){Ne=toLatLngBounds(Ne),tt=toPoint(tt||[0,0]);var nt=this.getZoom()||0,rt=this.getMinZoom(),it=this.getMaxZoom(),ot=Ne.getNorthWest(),at=Ne.getSouthEast(),st=this.getSize().subtract(tt),ct=toBounds(this.project(at,nt),this.project(ot,nt)).getSize(),pt=wr?this.options.zoomSnap:1,dt=st.x/ct.x,ft=st.y/ct.y,mt=et?Math.max(dt,ft):Math.min(dt,ft);return nt=this.getScaleZoom(mt,nt),pt&&(nt=Math.round(nt/(pt/100))*(pt/100),nt=et?Math.ceil(nt/pt)*pt:Math.floor(nt/pt)*pt),Math.max(rt,Math.min(it,nt))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(Ne,et){var tt=this._getTopLeftPoint(Ne,et);return new Bounds(tt,tt.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(Ne){return this.options.crs.getProjectedBounds(void 0===Ne?this.getZoom():Ne)},getPane:function(Ne){return"string"==typeof Ne?this._panes[Ne]:Ne},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(Ne,et){var tt=this.options.crs;return et=void 0===et?this._zoom:et,tt.scale(Ne)/tt.scale(et)},getScaleZoom:function(Ne,et){var tt=this.options.crs;et=void 0===et?this._zoom:et;var nt=tt.zoom(Ne*tt.scale(et));return isNaN(nt)?1/0:nt},project:function(Ne,et){return et=void 0===et?this._zoom:et,this.options.crs.latLngToPoint(toLatLng(Ne),et)},unproject:function(Ne,et){return et=void 0===et?this._zoom:et,this.options.crs.pointToLatLng(toPoint(Ne),et)},layerPointToLatLng:function(Ne){var et=toPoint(Ne).add(this.getPixelOrigin());return this.unproject(et)},latLngToLayerPoint:function(Ne){return this.project(toLatLng(Ne))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(Ne){return this.options.crs.wrapLatLng(toLatLng(Ne))},wrapLatLngBounds:function(Ne){return this.options.crs.wrapLatLngBounds(toLatLngBounds(Ne))},distance:function(Ne,et){return this.options.crs.distance(toLatLng(Ne),toLatLng(et))},containerPointToLayerPoint:function(Ne){return toPoint(Ne).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(Ne){return toPoint(Ne).add(this._getMapPanePos())},containerPointToLatLng:function(Ne){var et=this.containerPointToLayerPoint(toPoint(Ne));return this.layerPointToLatLng(et)},latLngToContainerPoint:function(Ne){return this.layerPointToContainerPoint(this.latLngToLayerPoint(toLatLng(Ne)))},mouseEventToContainerPoint:function(Ne){return getMousePosition(Ne,this._container)},mouseEventToLayerPoint:function(Ne){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(Ne))},mouseEventToLatLng:function(Ne){return this.layerPointToLatLng(this.mouseEventToLayerPoint(Ne))},_initContainer:function(Ne){var et=this._container=get(Ne);if(!et)throw new Error("Map container not found.");if(et._leaflet_id)throw new Error("Map container is already initialized.");on(et,"scroll",this._onScroll,this),this._containerId=stamp(et)},_initLayout:function(){var Ne=this._container;this._fadeAnimated=this.options.fadeAnimation&&wr,addClass(Ne,"leaflet-container"+(vo?" leaflet-touch":"")+(na?" leaflet-retina":"")+(bn?" leaflet-oldie":"")+(Vn?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var et=getStyle(Ne,"position");"absolute"!==et&&"relative"!==et&&"fixed"!==et&&(Ne.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var Ne=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),setPosition(this._mapPane,new Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(addClass(Ne.markerPane,"leaflet-zoom-hide"),addClass(Ne.shadowPane,"leaflet-zoom-hide"))},_resetView:function(Ne,et){setPosition(this._mapPane,new Point(0,0));var tt=!this._loaded;this._loaded=!0,et=this._limitZoom(et),this.fire("viewprereset");var nt=this._zoom!==et;this._moveStart(nt,!1)._move(Ne,et)._moveEnd(nt),this.fire("viewreset"),tt&&this.fire("load")},_moveStart:function(Ne,et){return Ne&&this.fire("zoomstart"),et||this.fire("movestart"),this},_move:function(Ne,et,tt){void 0===et&&(et=this._zoom);var nt=this._zoom!==et;return this._zoom=et,this._lastCenter=Ne,this._pixelOrigin=this._getNewPixelOrigin(Ne),(nt||tt&&tt.pinch)&&this.fire("zoom",tt),this.fire("move",tt)},_moveEnd:function(Ne){return Ne&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(Ne){setPosition(this._mapPane,this._getMapPanePos().subtract(Ne))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(Ne){this._targets={},this._targets[stamp(this._container)]=this;var et=Ne?off:on;et(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&et(window,"resize",this._onResize,this),wr&&this.options.transform3DLimit&&(Ne?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){cancelAnimFrame(this._resizeRequest),this._resizeRequest=requestAnimFrame((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var Ne=this._getMapPanePos();Math.max(Math.abs(Ne.x),Math.abs(Ne.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(Ne,et){for(var tt,nt=[],rt="mouseout"===et||"mouseover"===et,it=Ne.target||Ne.srcElement,ot=!1;it;){if((tt=this._targets[stamp(it)])&&("click"===et||"preclick"===et)&&!Ne._simulated&&this._draggableMoved(tt)){ot=!0;break}if(tt&&tt.listens(et,!0)){if(rt&&!isExternalTarget(it,Ne))break;if(nt.push(tt),rt)break}if(it===this._container)break;it=it.parentNode}return nt.length||ot||rt||!isExternalTarget(it,Ne)||(nt=[this]),nt},_handleDOMEvent:function(Ne){if(this._loaded&&!skipped(Ne)){var et=Ne.type;"mousedown"!==et&&"keypress"!==et&&"keyup"!==et&&"keydown"!==et||preventOutline(Ne.target||Ne.srcElement),this._fireDOMEvent(Ne,et)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(Ne,et,tt){if("click"===Ne.type){var nt=extend({},Ne);nt.type="preclick",this._fireDOMEvent(nt,nt.type,tt)}if(!Ne._stopped&&(tt=(tt||[]).concat(this._findEventTargets(Ne,et))).length){var rt=tt[0];"contextmenu"===et&&rt.listens(et,!0)&&preventDefault(Ne);var it={originalEvent:Ne};if("keypress"!==Ne.type&&"keydown"!==Ne.type&&"keyup"!==Ne.type){var ot=rt.getLatLng&&(!rt._radius||rt._radius<=10);it.containerPoint=ot?this.latLngToContainerPoint(rt.getLatLng()):this.mouseEventToContainerPoint(Ne),it.layerPoint=this.containerPointToLayerPoint(it.containerPoint),it.latlng=ot?rt.getLatLng():this.layerPointToLatLng(it.layerPoint)}for(var at=0;at<tt.length;at++)if(tt[at].fire(et,it,!0),it.originalEvent._stopped||!1===tt[at].options.bubblingMouseEvents&&-1!==indexOf(this._mouseEvents,et))return}},_draggableMoved:function(Ne){return(Ne=Ne.dragging&&Ne.dragging.enabled()?Ne:this).dragging&&Ne.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var Ne=0,et=this._handlers.length;Ne<et;Ne++)this._handlers[Ne].disable()},whenReady:function(Ne,et){return this._loaded?Ne.call(et||this,{target:this}):this.on("load",Ne,et),this},_getMapPanePos:function(){return getPosition(this._mapPane)||new Point(0,0)},_moved:function(){var Ne=this._getMapPanePos();return Ne&&!Ne.equals([0,0])},_getTopLeftPoint:function(Ne,et){return(Ne&&void 0!==et?this._getNewPixelOrigin(Ne,et):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(Ne,et){var tt=this.getSize()._divideBy(2);return this.project(Ne,et)._subtract(tt)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(Ne,et,tt){var nt=this._getNewPixelOrigin(tt,et);return this.project(Ne,et)._subtract(nt)},_latLngBoundsToNewLayerBounds:function(Ne,et,tt){var nt=this._getNewPixelOrigin(tt,et);return toBounds([this.project(Ne.getSouthWest(),et)._subtract(nt),this.project(Ne.getNorthWest(),et)._subtract(nt),this.project(Ne.getSouthEast(),et)._subtract(nt),this.project(Ne.getNorthEast(),et)._subtract(nt)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(Ne){return this.latLngToLayerPoint(Ne).subtract(this._getCenterLayerPoint())},_limitCenter:function(Ne,et,tt){if(!tt)return Ne;var nt=this.project(Ne,et),rt=this.getSize().divideBy(2),it=new Bounds(nt.subtract(rt),nt.add(rt)),ot=this._getBoundsOffset(it,tt,et);return ot.round().equals([0,0])?Ne:this.unproject(nt.add(ot),et)},_limitOffset:function(Ne,et){if(!et)return Ne;var tt=this.getPixelBounds(),nt=new Bounds(tt.min.add(Ne),tt.max.add(Ne));return Ne.add(this._getBoundsOffset(nt,et))},_getBoundsOffset:function(Ne,et,tt){var nt=toBounds(this.project(et.getNorthEast(),tt),this.project(et.getSouthWest(),tt)),rt=nt.min.subtract(Ne.min),it=nt.max.subtract(Ne.max);return new Point(this._rebound(rt.x,-it.x),this._rebound(rt.y,-it.y))},_rebound:function(Ne,et){return Ne+et>0?Math.round(Ne-et)/2:Math.max(0,Math.ceil(Ne))-Math.max(0,Math.floor(et))},_limitZoom:function(Ne){var et=this.getMinZoom(),tt=this.getMaxZoom(),nt=wr?this.options.zoomSnap:1;return nt&&(Ne=Math.round(Ne/nt)*nt),Math.max(et,Math.min(tt,Ne))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(Ne,et){var tt=this._getCenterOffset(Ne)._trunc();return!(!0!==(et&&et.animate)&&!this.getSize().contains(tt)||(this.panBy(tt,et),0))},_createAnimProxy:function(){var Ne=this._proxy=create$1("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(Ne),this.on("zoomanim",(function(Ne){var et=Es,tt=this._proxy.style[et];setTransform(this._proxy,this.project(Ne.center,Ne.zoom),this.getZoomScale(Ne.zoom,1)),tt===this._proxy.style[et]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){remove(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var Ne=this.getCenter(),et=this.getZoom();setTransform(this._proxy,this.project(Ne,et),this.getZoomScale(et,1))},_catchTransitionEnd:function(Ne){this._animatingZoom&&Ne.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(Ne,et,tt){if(this._animatingZoom)return!0;if(tt=tt||{},!this._zoomAnimated||!1===tt.animate||this._nothingToAnimate()||Math.abs(et-this._zoom)>this.options.zoomAnimationThreshold)return!1;var nt=this.getZoomScale(et),rt=this._getCenterOffset(Ne)._divideBy(1-1/nt);return!(!0!==tt.animate&&!this.getSize().contains(rt)||(requestAnimFrame((function(){this._moveStart(!0,!1)._animateZoom(Ne,et,!0)}),this),0))},_animateZoom:function(Ne,et,tt,nt){this._mapPane&&(tt&&(this._animatingZoom=!0,this._animateToCenter=Ne,this._animateToZoom=et,addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:Ne,zoom:et,noUpdate:nt}),setTimeout(bind(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),requestAnimFrame((function(){this._moveEnd(!0)}),this))}}),Ns=Class.extend({options:{position:"topright"},initialize:function(Ne){setOptions(this,Ne)},getPosition:function(){return this.options.position},setPosition:function(Ne){var et=this._map;return et&&et.removeControl(this),this.options.position=Ne,et&&et.addControl(this),this},getContainer:function(){return this._container},addTo:function(Ne){this.remove(),this._map=Ne;var et=this._container=this.onAdd(Ne),tt=this.getPosition(),nt=Ne._controlCorners[tt];return addClass(et,"leaflet-control"),-1!==tt.indexOf("bottom")?nt.insertBefore(et,nt.firstChild):nt.appendChild(et),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(remove(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(Ne){this._map&&Ne&&Ne.screenX>0&&Ne.screenY>0&&this._map.getContainer().focus()}}),control=function(Ne){return new Ns(Ne)};js.include({addControl:function(Ne){return Ne.addTo(this),this},removeControl:function(Ne){return Ne.remove(),this},_initControlPos:function(){var Ne=this._controlCorners={},et="leaflet-",tt=this._controlContainer=create$1("div",et+"control-container",this._container);function createCorner(nt,rt){var it=et+nt+" "+et+rt;Ne[nt+rt]=create$1("div",it,tt)}createCorner("top","left"),createCorner("top","right"),createCorner("bottom","left"),createCorner("bottom","right")},_clearControlPos:function(){for(var Ne in this._controlCorners)remove(this._controlCorners[Ne]);remove(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vs=Ns.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(Ne,et,tt,nt){return tt<nt?-1:nt<tt?1:0}},initialize:function(Ne,et,tt){for(var nt in setOptions(this,tt),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,Ne)this._addLayer(Ne[nt],nt);for(nt in et)this._addLayer(et[nt],nt,!0)},onAdd:function(Ne){this._initLayout(),this._update(),this._map=Ne,Ne.on("zoomend",this._checkDisabledLayers,this);for(var et=0;et<this._layers.length;et++)this._layers[et].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(Ne){return Ns.prototype.addTo.call(this,Ne),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var Ne=0;Ne<this._layers.length;Ne++)this._layers[Ne].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(Ne,et){return this._addLayer(Ne,et),this._map?this._update():this},addOverlay:function(Ne,et){return this._addLayer(Ne,et,!0),this._map?this._update():this},removeLayer:function(Ne){Ne.off("add remove",this._onLayerChange,this);var et=this._getLayer(stamp(Ne));return et&&this._layers.splice(this._layers.indexOf(et),1),this._map?this._update():this},expand:function(){addClass(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var Ne=this._map.getSize().y-(this._container.offsetTop+50);return Ne<this._section.clientHeight?(addClass(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=Ne+"px"):removeClass(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var Ne="leaflet-control-layers",et=this._container=create$1("div",Ne),tt=this.options.collapsed;et.setAttribute("aria-haspopup",!0),disableClickPropagation(et),disableScrollPropagation(et);var nt=this._section=create$1("section",Ne+"-list");tt&&(this._map.on("click",this.collapse,this),In||on(et,{mouseenter:this.expand,mouseleave:this.collapse},this));var rt=this._layersLink=create$1("a",Ne+"-toggle",et);rt.href="#",rt.title="Layers",vo?(on(rt,"click",stop),on(rt,"click",this.expand,this)):on(rt,"focus",this.expand,this),tt||this.expand(),this._baseLayersList=create$1("div",Ne+"-base",nt),this._separator=create$1("div",Ne+"-separator",nt),this._overlaysList=create$1("div",Ne+"-overlays",nt),et.appendChild(nt)},_getLayer:function(Ne){for(var et=0;et<this._layers.length;et++)if(this._layers[et]&&stamp(this._layers[et].layer)===Ne)return this._layers[et]},_addLayer:function(Ne,et,tt){this._map&&Ne.on("add remove",this._onLayerChange,this),this._layers.push({layer:Ne,name:et,overlay:tt}),this.options.sortLayers&&this._layers.sort(bind((function(Ne,et){return this.options.sortFunction(Ne.layer,et.layer,Ne.name,et.name)}),this)),this.options.autoZIndex&&Ne.setZIndex&&(this._lastZIndex++,Ne.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;empty(this._baseLayersList),empty(this._overlaysList),this._layerControlInputs=[];var Ne,et,tt,nt,rt=0;for(tt=0;tt<this._layers.length;tt++)nt=this._layers[tt],this._addItem(nt),et=et||nt.overlay,Ne=Ne||!nt.overlay,rt+=nt.overlay?0:1;return this.options.hideSingleBase&&(Ne=Ne&&rt>1,this._baseLayersList.style.display=Ne?"":"none"),this._separator.style.display=et&&Ne?"":"none",this},_onLayerChange:function(Ne){this._handlingClick||this._update();var et=this._getLayer(stamp(Ne.target)),tt=et.overlay?"add"===Ne.type?"overlayadd":"overlayremove":"add"===Ne.type?"baselayerchange":null;tt&&this._map.fire(tt,et)},_createRadioElement:function(Ne,et){var tt='<input type="radio" class="leaflet-control-layers-selector" name="'+Ne+'"'+(et?' checked="checked"':"")+"/>",nt=document.createElement("div");return nt.innerHTML=tt,nt.firstChild},_addItem:function(Ne){var et,tt=document.createElement("label"),nt=this._map.hasLayer(Ne.layer);Ne.overlay?((et=document.createElement("input")).type="checkbox",et.className="leaflet-control-layers-selector",et.defaultChecked=nt):et=this._createRadioElement("leaflet-base-layers_"+stamp(this),nt),this._layerControlInputs.push(et),et.layerId=stamp(Ne.layer),on(et,"click",this._onInputClick,this);var rt=document.createElement("span");rt.innerHTML=" "+Ne.name;var it=document.createElement("div");return tt.appendChild(it),it.appendChild(et),it.appendChild(rt),(Ne.overlay?this._overlaysList:this._baseLayersList).appendChild(tt),this._checkDisabledLayers(),tt},_onInputClick:function(){var Ne,et,tt=this._layerControlInputs,nt=[],rt=[];this._handlingClick=!0;for(var it=tt.length-1;it>=0;it--)Ne=tt[it],et=this._getLayer(Ne.layerId).layer,Ne.checked?nt.push(et):Ne.checked||rt.push(et);for(it=0;it<rt.length;it++)this._map.hasLayer(rt[it])&&this._map.removeLayer(rt[it]);for(it=0;it<nt.length;it++)this._map.hasLayer(nt[it])||this._map.addLayer(nt[it]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var Ne,et,tt=this._layerControlInputs,nt=this._map.getZoom(),rt=tt.length-1;rt>=0;rt--)Ne=tt[rt],et=this._getLayer(Ne.layerId).layer,Ne.disabled=void 0!==et.options.minZoom&&nt<et.options.minZoom||void 0!==et.options.maxZoom&&nt>et.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Us=Ns.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(Ne){var et="leaflet-control-zoom",tt=create$1("div",et+" leaflet-bar"),nt=this.options;return this._zoomInButton=this._createButton(nt.zoomInText,nt.zoomInTitle,et+"-in",tt,this._zoomIn),this._zoomOutButton=this._createButton(nt.zoomOutText,nt.zoomOutTitle,et+"-out",tt,this._zoomOut),this._updateDisabled(),Ne.on("zoomend zoomlevelschange",this._updateDisabled,this),tt},onRemove:function(Ne){Ne.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(Ne){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(Ne.shiftKey?3:1))},_zoomOut:function(Ne){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(Ne.shiftKey?3:1))},_createButton:function(Ne,et,tt,nt,rt){var it=create$1("a",tt,nt);return it.innerHTML=Ne,it.href="#",it.title=et,it.setAttribute("role","button"),it.setAttribute("aria-label",et),disableClickPropagation(it),on(it,"click",stop),on(it,"click",rt,this),on(it,"click",this._refocusOnMap,this),it},_updateDisabled:function(){var Ne=this._map,et="leaflet-disabled";removeClass(this._zoomInButton,et),removeClass(this._zoomOutButton,et),(this._disabled||Ne._zoom===Ne.getMinZoom())&&addClass(this._zoomOutButton,et),(this._disabled||Ne._zoom===Ne.getMaxZoom())&&addClass(this._zoomInButton,et)}});js.mergeOptions({zoomControl:!0}),js.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Us,this.addControl(this.zoomControl))}));var Zs=Ns.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(Ne){var et=create$1("div","leaflet-control-scale"),tt=this.options;return this._addScales(tt,"leaflet-control-scale-line",et),Ne.on(tt.updateWhenIdle?"moveend":"move",this._update,this),Ne.whenReady(this._update,this),et},onRemove:function(Ne){Ne.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(Ne,et,tt){Ne.metric&&(this._mScale=create$1("div",et,tt)),Ne.imperial&&(this._iScale=create$1("div",et,tt))},_update:function(){var Ne=this._map,et=Ne.getSize().y/2,tt=Ne.distance(Ne.containerPointToLatLng([0,et]),Ne.containerPointToLatLng([this.options.maxWidth,et]));this._updateScales(tt)},_updateScales:function(Ne){this.options.metric&&Ne&&this._updateMetric(Ne),this.options.imperial&&Ne&&this._updateImperial(Ne)},_updateMetric:function(Ne){var et=this._getRoundNum(Ne),tt=et<1e3?et+" m":et/1e3+" km";this._updateScale(this._mScale,tt,et/Ne)},_updateImperial:function(Ne){var et,tt,nt,rt=3.2808399*Ne;rt>5280?(et=rt/5280,tt=this._getRoundNum(et),this._updateScale(this._iScale,tt+" mi",tt/et)):(nt=this._getRoundNum(rt),this._updateScale(this._iScale,nt+" ft",nt/rt))},_updateScale:function(Ne,et,tt){Ne.style.width=Math.round(this.options.maxWidth*tt)+"px",Ne.innerHTML=et},_getRoundNum:function(Ne){var et=Math.pow(10,(Math.floor(Ne)+"").length-1),tt=Ne/et;return et*(tt=tt>=10?10:tt>=5?5:tt>=3?3:tt>=2?2:1)}}),Js=Ns.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(Ne){setOptions(this,Ne),this._attributions={}},onAdd:function(Ne){for(var et in Ne.attributionControl=this,this._container=create$1("div","leaflet-control-attribution"),disableClickPropagation(this._container),Ne._layers)Ne._layers[et].getAttribution&&this.addAttribution(Ne._layers[et].getAttribution());return this._update(),this._container},setPrefix:function(Ne){return this.options.prefix=Ne,this._update(),this},addAttribution:function(Ne){return Ne?(this._attributions[Ne]||(this._attributions[Ne]=0),this._attributions[Ne]++,this._update(),this):this},removeAttribution:function(Ne){return Ne?(this._attributions[Ne]&&(this._attributions[Ne]--,this._update()),this):this},_update:function(){if(this._map){var Ne=[];for(var et in this._attributions)this._attributions[et]&&Ne.push(et);var tt=[];this.options.prefix&&tt.push(this.options.prefix),Ne.length&&tt.push(Ne.join(", ")),this._container.innerHTML=tt.join(" | ")}}});js.mergeOptions({attributionControl:!0}),js.addInitHook((function(){this.options.attributionControl&&(new Js).addTo(this)})),Ns.Layers=Vs,Ns.Zoom=Us,Ns.Scale=Zs,Ns.Attribution=Js,control.layers=function(Ne,et,tt){return new Vs(Ne,et,tt)},control.zoom=function(Ne){return new Us(Ne)},control.scale=function(Ne){return new Zs(Ne)},control.attribution=function(Ne){return new Js(Ne)};var tl=Class.extend({initialize:function(Ne){this._map=Ne},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tl.addTo=function(Ne,et){return Ne.addHandler(et,this),this};var ol,sl={Events:dt},dl=vo?"touchstart mousedown":"mousedown",gl={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},yl={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},vl=ft.extend({options:{clickTolerance:3},initialize:function(Ne,et,tt,nt){setOptions(this,nt),this._element=Ne,this._dragStartTarget=et||Ne,this._preventOutline=tt},enable:function(){this._enabled||(on(this._dragStartTarget,dl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vl._dragging===this&&this.finishDrag(),off(this._dragStartTarget,dl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(Ne){if(!Ne._simulated&&this._enabled&&(this._moved=!1,!hasClass(this._element,"leaflet-zoom-anim")&&!(vl._dragging||Ne.shiftKey||1!==Ne.which&&1!==Ne.button&&!Ne.touches||(vl._dragging=this,this._preventOutline&&preventOutline(this._element),disableImageDrag(),fs(),this._moving)))){this.fire("down");var et=Ne.touches?Ne.touches[0]:Ne,tt=getSizedParentNode(this._element);this._startPoint=new Point(et.clientX,et.clientY),this._parentScale=getScale(tt),on(document,yl[Ne.type],this._onMove,this),on(document,gl[Ne.type],this._onUp,this)}},_onMove:function(Ne){if(!Ne._simulated&&this._enabled)if(Ne.touches&&Ne.touches.length>1)this._moved=!0;else{var et=Ne.touches&&1===Ne.touches.length?Ne.touches[0]:Ne,tt=new Point(et.clientX,et.clientY)._subtract(this._startPoint);(tt.x||tt.y)&&(Math.abs(tt.x)+Math.abs(tt.y)<this.options.clickTolerance||(tt.x/=this._parentScale.x,tt.y/=this._parentScale.y,preventDefault(Ne),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=getPosition(this._element).subtract(tt),addClass(document.body,"leaflet-dragging"),this._lastTarget=Ne.target||Ne.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(tt),this._moving=!0,cancelAnimFrame(this._animRequest),this._lastEvent=Ne,this._animRequest=requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var Ne={originalEvent:this._lastEvent};this.fire("predrag",Ne),setPosition(this._element,this._newPos),this.fire("drag",Ne)},_onUp:function(Ne){!Ne._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var Ne in removeClass(document.body,"leaflet-dragging"),this._lastTarget&&(removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yl)off(document,yl[Ne],this._onMove,this),off(document,gl[Ne],this._onUp,this);enableImageDrag(),gs(),this._moved&&this._moving&&(cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,vl._dragging=!1}});function simplify(Ne,et){if(!et||!Ne.length)return Ne.slice();var tt=et*et;return Ne=function _simplifyDP(Ne,et){var tt=Ne.length,nt=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(tt);nt[0]=nt[tt-1]=1,function _simplifyDPStep(Ne,et,tt,nt,rt){var it,ot,at,st=0;for(ot=nt+1;ot<=rt-1;ot++)(at=_sqClosestPointOnSegment(Ne[ot],Ne[nt],Ne[rt],!0))>st&&(it=ot,st=at);st>tt&&(et[it]=1,_simplifyDPStep(Ne,et,tt,nt,it),_simplifyDPStep(Ne,et,tt,it,rt))}(Ne,nt,et,0,tt-1);var rt,it=[];for(rt=0;rt<tt;rt++)nt[rt]&&it.push(Ne[rt]);return it}(Ne=function _reducePoints(Ne,et){for(var tt=[Ne[0]],nt=1,rt=0,it=Ne.length;nt<it;nt++)ot=Ne[nt],at=Ne[rt],st=void 0,ct=void 0,st=at.x-ot.x,ct=at.y-ot.y,st*st+ct*ct>et&&(tt.push(Ne[nt]),rt=nt);var ot,at,st,ct;return rt<it-1&&tt.push(Ne[it-1]),tt}(Ne,tt),tt)}function pointToSegmentDistance(Ne,et,tt){return Math.sqrt(_sqClosestPointOnSegment(Ne,et,tt,!0))}function clipSegment(Ne,et,tt,nt,rt){var it,ot,at,st=nt?ol:_getBitCode(Ne,tt),ct=_getBitCode(et,tt);for(ol=ct;;){if(!(st|ct))return[Ne,et];if(st&ct)return!1;at=_getBitCode(ot=_getEdgeIntersection(Ne,et,it=st||ct,tt,rt),tt),it===st?(Ne=ot,st=at):(et=ot,ct=at)}}function _getEdgeIntersection(Ne,et,tt,nt,rt){var it,ot,at=et.x-Ne.x,st=et.y-Ne.y,ct=nt.min,pt=nt.max;return 8&tt?(it=Ne.x+at*(pt.y-Ne.y)/st,ot=pt.y):4&tt?(it=Ne.x+at*(ct.y-Ne.y)/st,ot=ct.y):2&tt?(it=pt.x,ot=Ne.y+st*(pt.x-Ne.x)/at):1&tt&&(it=ct.x,ot=Ne.y+st*(ct.x-Ne.x)/at),new Point(it,ot,rt)}function _getBitCode(Ne,et){var tt=0;return Ne.x<et.min.x?tt|=1:Ne.x>et.max.x&&(tt|=2),Ne.y<et.min.y?tt|=4:Ne.y>et.max.y&&(tt|=8),tt}function _sqClosestPointOnSegment(Ne,et,tt,nt){var rt,it=et.x,ot=et.y,at=tt.x-it,st=tt.y-ot,ct=at*at+st*st;return ct>0&&((rt=((Ne.x-it)*at+(Ne.y-ot)*st)/ct)>1?(it=tt.x,ot=tt.y):rt>0&&(it+=at*rt,ot+=st*rt)),at=Ne.x-it,st=Ne.y-ot,nt?at*at+st*st:new Point(it,ot)}function isFlat(Ne){return!it(Ne[0])||"object"!=typeof Ne[0][0]&&void 0!==Ne[0][0]}function _flat(Ne){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),isFlat(Ne)}var _l=(Object.freeze||Object)({simplify:simplify,pointToSegmentDistance:pointToSegmentDistance,closestPointOnSegment:function closestPointOnSegment(Ne,et,tt){return _sqClosestPointOnSegment(Ne,et,tt)},clipSegment:clipSegment,_getEdgeIntersection:_getEdgeIntersection,_getBitCode:_getBitCode,_sqClosestPointOnSegment:_sqClosestPointOnSegment,isFlat:isFlat,_flat:_flat});function clipPolygon(Ne,et,tt){var nt,rt,it,ot,at,st,ct,pt,dt,ft=[1,4,2,8];for(rt=0,ct=Ne.length;rt<ct;rt++)Ne[rt]._code=_getBitCode(Ne[rt],et);for(ot=0;ot<4;ot++){for(pt=ft[ot],nt=[],rt=0,it=(ct=Ne.length)-1;rt<ct;it=rt++)at=Ne[rt],st=Ne[it],at._code&pt?st._code&pt||((dt=_getEdgeIntersection(st,at,pt,et,tt))._code=_getBitCode(dt,et),nt.push(dt)):(st._code&pt&&((dt=_getEdgeIntersection(st,at,pt,et,tt))._code=_getBitCode(dt,et),nt.push(dt)),nt.push(at));Ne=nt}return Ne}var bl=(Object.freeze||Object)({clipPolygon:clipPolygon}),xl={project:function(Ne){return new Point(Ne.lng,Ne.lat)},unproject:function(Ne){return new LatLng(Ne.y,Ne.x)},bounds:new Bounds([-180,-90],[180,90])},wl={R:6378137,R_MINOR:6356752.314245179,bounds:new Bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(Ne){var et=Math.PI/180,tt=this.R,nt=Ne.lat*et,rt=this.R_MINOR/tt,it=Math.sqrt(1-rt*rt),ot=it*Math.sin(nt),at=Math.tan(Math.PI/4-nt/2)/Math.pow((1-ot)/(1+ot),it/2);return nt=-tt*Math.log(Math.max(at,1e-10)),new Point(Ne.lng*et*tt,nt)},unproject:function(Ne){for(var et,tt=180/Math.PI,nt=this.R,rt=this.R_MINOR/nt,it=Math.sqrt(1-rt*rt),ot=Math.exp(-Ne.y/nt),at=Math.PI/2-2*Math.atan(ot),st=0,ct=.1;st<15&&Math.abs(ct)>1e-7;st++)et=it*Math.sin(at),et=Math.pow((1-et)/(1+et),it/2),at+=ct=Math.PI/2-2*Math.atan(ot*et)-at;return new LatLng(at*tt,Ne.x*tt/nt)}},Sl=(Object.freeze||Object)({LonLat:xl,Mercator:wl,SphericalMercator:Dt}),Cl=extend({},Ot,{code:"EPSG:3395",projection:wl,transformation:function(){var Ne=.5/(Math.PI*wl.R);return toTransformation(Ne,.5,-Ne,.5)}()}),kl=extend({},Ot,{code:"EPSG:4326",projection:xl,transformation:toTransformation(1/180,1,-1/180,.5)}),Il=extend({},vt,{projection:xl,transformation:toTransformation(1,0,-1,0),scale:function(Ne){return Math.pow(2,Ne)},zoom:function(Ne){return Math.log(Ne)/Math.LN2},distance:function(Ne,et){var tt=et.lng-Ne.lng,nt=et.lat-Ne.lat;return Math.sqrt(tt*tt+nt*nt)},infinite:!0});vt.Earth=Ot,vt.EPSG3395=Cl,vt.EPSG3857=Rt,vt.EPSG900913=Bt,vt.EPSG4326=kl,vt.Simple=Il;var Al=ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(Ne){return Ne.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(Ne){return Ne&&Ne.removeLayer(this),this},getPane:function(Ne){return this._map.getPane(Ne?this.options[Ne]||Ne:this.options.pane)},addInteractiveTarget:function(Ne){return this._map._targets[stamp(Ne)]=this,this},removeInteractiveTarget:function(Ne){return delete this._map._targets[stamp(Ne)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(Ne){var et=Ne.target;if(et.hasLayer(this)){if(this._map=et,this._zoomAnimated=et._zoomAnimated,this.getEvents){var tt=this.getEvents();et.on(tt,this),this.once("remove",(function(){et.off(tt,this)}),this)}this.onAdd(et),this.getAttribution&&et.attributionControl&&et.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),et.fire("layeradd",{layer:this})}}});js.include({addLayer:function(Ne){if(!Ne._layerAdd)throw new Error("The provided object is not a Layer.");var et=stamp(Ne);return this._layers[et]||(this._layers[et]=Ne,Ne._mapToAdd=this,Ne.beforeAdd&&Ne.beforeAdd(this),this.whenReady(Ne._layerAdd,Ne)),this},removeLayer:function(Ne){var et=stamp(Ne);return this._layers[et]?(this._loaded&&Ne.onRemove(this),Ne.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(Ne.getAttribution()),delete this._layers[et],this._loaded&&(this.fire("layerremove",{layer:Ne}),Ne.fire("remove")),Ne._map=Ne._mapToAdd=null,this):this},hasLayer:function(Ne){return!!Ne&&stamp(Ne)in this._layers},eachLayer:function(Ne,et){for(var tt in this._layers)Ne.call(et,this._layers[tt]);return this},_addLayers:function(Ne){for(var et=0,tt=(Ne=Ne?it(Ne)?Ne:[Ne]:[]).length;et<tt;et++)this.addLayer(Ne[et])},_addZoomLimit:function(Ne){!isNaN(Ne.options.maxZoom)&&isNaN(Ne.options.minZoom)||(this._zoomBoundLayers[stamp(Ne)]=Ne,this._updateZoomLevels())},_removeZoomLimit:function(Ne){var et=stamp(Ne);this._zoomBoundLayers[et]&&(delete this._zoomBoundLayers[et],this._updateZoomLevels())},_updateZoomLevels:function(){var Ne=1/0,et=-1/0,tt=this._getZoomSpan();for(var nt in this._zoomBoundLayers){var rt=this._zoomBoundLayers[nt].options;Ne=void 0===rt.minZoom?Ne:Math.min(Ne,rt.minZoom),et=void 0===rt.maxZoom?et:Math.max(et,rt.maxZoom)}this._layersMaxZoom=et===-1/0?void 0:et,this._layersMinZoom=Ne===1/0?void 0:Ne,tt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zl=Al.extend({initialize:function(Ne,et){var tt,nt;if(setOptions(this,et),this._layers={},Ne)for(tt=0,nt=Ne.length;tt<nt;tt++)this.addLayer(Ne[tt])},addLayer:function(Ne){var et=this.getLayerId(Ne);return this._layers[et]=Ne,this._map&&this._map.addLayer(Ne),this},removeLayer:function(Ne){var et=Ne in this._layers?Ne:this.getLayerId(Ne);return this._map&&this._layers[et]&&this._map.removeLayer(this._layers[et]),delete this._layers[et],this},hasLayer:function(Ne){return!!Ne&&(Ne in this._layers||this.getLayerId(Ne)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(Ne){var et,tt,nt=Array.prototype.slice.call(arguments,1);for(et in this._layers)(tt=this._layers[et])[Ne]&&tt[Ne].apply(tt,nt);return this},onAdd:function(Ne){this.eachLayer(Ne.addLayer,Ne)},onRemove:function(Ne){this.eachLayer(Ne.removeLayer,Ne)},eachLayer:function(Ne,et){for(var tt in this._layers)Ne.call(et,this._layers[tt]);return this},getLayer:function(Ne){return this._layers[Ne]},getLayers:function(){var Ne=[];return this.eachLayer(Ne.push,Ne),Ne},setZIndex:function(Ne){return this.invoke("setZIndex",Ne)},getLayerId:function(Ne){return stamp(Ne)}}),Fl=zl.extend({addLayer:function(Ne){return this.hasLayer(Ne)?this:(Ne.addEventParent(this),zl.prototype.addLayer.call(this,Ne),this.fire("layeradd",{layer:Ne}))},removeLayer:function(Ne){return this.hasLayer(Ne)?(Ne in this._layers&&(Ne=this._layers[Ne]),Ne.removeEventParent(this),zl.prototype.removeLayer.call(this,Ne),this.fire("layerremove",{layer:Ne})):this},setStyle:function(Ne){return this.invoke("setStyle",Ne)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var Ne=new LatLngBounds;for(var et in this._layers){var tt=this._layers[et];Ne.extend(tt.getBounds?tt.getBounds():tt.getLatLng())}return Ne}}),Hl=Class.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(Ne){setOptions(this,Ne)},createIcon:function(Ne){return this._createIcon("icon",Ne)},createShadow:function(Ne){return this._createIcon("shadow",Ne)},_createIcon:function(Ne,et){var tt=this._getIconUrl(Ne);if(!tt){if("icon"===Ne)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var nt=this._createImg(tt,et&&"IMG"===et.tagName?et:null);return this._setIconStyles(nt,Ne),nt},_setIconStyles:function(Ne,et){var tt=this.options,nt=tt[et+"Size"];"number"==typeof nt&&(nt=[nt,nt]);var rt=toPoint(nt),it=toPoint("shadow"===et&&tt.shadowAnchor||tt.iconAnchor||rt&&rt.divideBy(2,!0));Ne.className="leaflet-marker-"+et+" "+(tt.className||""),it&&(Ne.style.marginLeft=-it.x+"px",Ne.style.marginTop=-it.y+"px"),rt&&(Ne.style.width=rt.x+"px",Ne.style.height=rt.y+"px")},_createImg:function(Ne,et){return(et=et||document.createElement("img")).src=Ne,et},_getIconUrl:function(Ne){return na&&this.options[Ne+"RetinaUrl"]||this.options[Ne+"Url"]}}),du=Hl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(Ne){return du.imagePath||(du.imagePath=this._detectIconPath()),(this.options.imagePath||du.imagePath)+Hl.prototype._getIconUrl.call(this,Ne)},_detectIconPath:function(){var Ne=create$1("div","leaflet-default-icon-path",document.body),et=getStyle(Ne,"background-image")||getStyle(Ne,"backgroundImage");return document.body.removeChild(Ne),et=null===et||0!==et.indexOf("url")?"":et.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),vu=tl.extend({initialize:function(Ne){this._marker=Ne},addHooks:function(){var Ne=this._marker._icon;this._draggable||(this._draggable=new vl(Ne,Ne,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),addClass(Ne,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(Ne){var et=this._marker,tt=et._map,nt=this._marker.options.autoPanSpeed,rt=this._marker.options.autoPanPadding,it=getPosition(et._icon),ot=tt.getPixelBounds(),at=tt.getPixelOrigin(),st=toBounds(ot.min._subtract(at).add(rt),ot.max._subtract(at).subtract(rt));if(!st.contains(it)){var ct=toPoint((Math.max(st.max.x,it.x)-st.max.x)/(ot.max.x-st.max.x)-(Math.min(st.min.x,it.x)-st.min.x)/(ot.min.x-st.min.x),(Math.max(st.max.y,it.y)-st.max.y)/(ot.max.y-st.max.y)-(Math.min(st.min.y,it.y)-st.min.y)/(ot.min.y-st.min.y)).multiplyBy(nt);tt.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),setPosition(et._icon,this._draggable._newPos),this._onDrag(Ne),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,Ne))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(Ne){this._marker.options.autoPan&&(cancelAnimFrame(this._panRequest),this._panRequest=requestAnimFrame(this._adjustPan.bind(this,Ne)))},_onDrag:function(Ne){var et=this._marker,tt=et._shadow,nt=getPosition(et._icon),rt=et._map.layerPointToLatLng(nt);tt&&setPosition(tt,nt),et._latlng=rt,Ne.latlng=rt,Ne.oldLatLng=this._oldLatLng,et.fire("move",Ne).fire("drag",Ne)},_onDragEnd:function(Ne){cancelAnimFrame(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",Ne)}}),_u=Al.extend({options:{icon:new du,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(Ne,et){setOptions(this,et),this._latlng=toLatLng(Ne)},onAdd:function(Ne){this._zoomAnimated=this._zoomAnimated&&Ne.options.markerZoomAnimation,this._zoomAnimated&&Ne.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(Ne){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&Ne.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(Ne){var et=this._latlng;return this._latlng=toLatLng(Ne),this.update(),this.fire("move",{oldLatLng:et,latlng:this._latlng})},setZIndexOffset:function(Ne){return this.options.zIndexOffset=Ne,this.update()},getIcon:function(){return this.options.icon},setIcon:function(Ne){return this.options.icon=Ne,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var Ne=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(Ne)}return this},_initIcon:function(){var Ne=this.options,et="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),tt=Ne.icon.createIcon(this._icon),nt=!1;tt!==this._icon&&(this._icon&&this._removeIcon(),nt=!0,Ne.title&&(tt.title=Ne.title),"IMG"===tt.tagName&&(tt.alt=Ne.alt||"")),addClass(tt,et),Ne.keyboard&&(tt.tabIndex="0"),this._icon=tt,Ne.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var rt=Ne.icon.createShadow(this._shadow),it=!1;rt!==this._shadow&&(this._removeShadow(),it=!0),rt&&(addClass(rt,et),rt.alt=""),this._shadow=rt,Ne.opacity<1&&this._updateOpacity(),nt&&this.getPane().appendChild(this._icon),this._initInteraction(),rt&&it&&this.getPane(Ne.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&remove(this._shadow),this._shadow=null},_setPos:function(Ne){this._icon&&setPosition(this._icon,Ne),this._shadow&&setPosition(this._shadow,Ne),this._zIndex=Ne.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(Ne){this._icon&&(this._icon.style.zIndex=this._zIndex+Ne)},_animateZoom:function(Ne){var et=this._map._latLngToNewLayerPoint(this._latlng,Ne.zoom,Ne.center).round();this._setPos(et)},_initInteraction:function(){if(this.options.interactive&&(addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vu)){var Ne=this.options.draggable;this.dragging&&(Ne=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vu(this),Ne&&this.dragging.enable()}},setOpacity:function(Ne){return this.options.opacity=Ne,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var Ne=this.options.opacity;this._icon&&setOpacity(this._icon,Ne),this._shadow&&setOpacity(this._shadow,Ne)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),wu=Al.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(Ne){this._renderer=Ne.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(Ne){return setOptions(this,Ne),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&Ne&&Ne.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Tu=wu.extend({options:{fill:!0,radius:10},initialize:function(Ne,et){setOptions(this,et),this._latlng=toLatLng(Ne),this._radius=this.options.radius},setLatLng:function(Ne){var et=this._latlng;return this._latlng=toLatLng(Ne),this.redraw(),this.fire("move",{oldLatLng:et,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(Ne){return this.options.radius=this._radius=Ne,this.redraw()},getRadius:function(){return this._radius},setStyle:function(Ne){var et=Ne&&Ne.radius||this._radius;return wu.prototype.setStyle.call(this,Ne),this.setRadius(et),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var Ne=this._radius,et=this._radiusY||Ne,tt=this._clickTolerance(),nt=[Ne+tt,et+tt];this._pxBounds=new Bounds(this._point.subtract(nt),this._point.add(nt))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(Ne){return Ne.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Fu=Tu.extend({initialize:function(Ne,et,tt){if("number"==typeof et&&(et=extend({},tt,{radius:et})),setOptions(this,et),this._latlng=toLatLng(Ne),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(Ne){return this._mRadius=Ne,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var Ne=[this._radius,this._radiusY||this._radius];return new LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(Ne)),this._map.layerPointToLatLng(this._point.add(Ne)))},setStyle:wu.prototype.setStyle,_project:function(){var Ne=this._latlng.lng,et=this._latlng.lat,tt=this._map,nt=tt.options.crs;if(nt.distance===Ot.distance){var rt=Math.PI/180,it=this._mRadius/Ot.R/rt,ot=tt.project([et+it,Ne]),at=tt.project([et-it,Ne]),st=ot.add(at).divideBy(2),ct=tt.unproject(st).lat,pt=Math.acos((Math.cos(it*rt)-Math.sin(et*rt)*Math.sin(ct*rt))/(Math.cos(et*rt)*Math.cos(ct*rt)))/rt;(isNaN(pt)||0===pt)&&(pt=it/Math.cos(Math.PI/180*et)),this._point=st.subtract(tt.getPixelOrigin()),this._radius=isNaN(pt)?0:st.x-tt.project([ct,Ne-pt]).x,this._radiusY=st.y-ot.y}else{var dt=nt.unproject(nt.project(this._latlng).subtract([this._mRadius,0]));this._point=tt.latLngToLayerPoint(this._latlng),this._radius=this._point.x-tt.latLngToLayerPoint(dt).x}this._updateBounds()}}),ac=wu.extend({options:{smoothFactor:1,noClip:!1},initialize:function(Ne,et){setOptions(this,et),this._setLatLngs(Ne)},getLatLngs:function(){return this._latlngs},setLatLngs:function(Ne){return this._setLatLngs(Ne),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(Ne){for(var et,tt,nt=1/0,rt=null,it=_sqClosestPointOnSegment,ot=0,at=this._parts.length;ot<at;ot++)for(var st=this._parts[ot],ct=1,pt=st.length;ct<pt;ct++){var dt=it(Ne,et=st[ct-1],tt=st[ct],!0);dt<nt&&(nt=dt,rt=it(Ne,et,tt))}return rt&&(rt.distance=Math.sqrt(nt)),rt},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var Ne,et,tt,nt,rt,it,ot,at=this._rings[0],st=at.length;if(!st)return null;for(Ne=0,et=0;Ne<st-1;Ne++)et+=at[Ne].distanceTo(at[Ne+1])/2;if(0===et)return this._map.layerPointToLatLng(at[0]);for(Ne=0,nt=0;Ne<st-1;Ne++)if(rt=at[Ne],it=at[Ne+1],(nt+=tt=rt.distanceTo(it))>et)return ot=(nt-et)/tt,this._map.layerPointToLatLng([it.x-ot*(it.x-rt.x),it.y-ot*(it.y-rt.y)])},getBounds:function(){return this._bounds},addLatLng:function(Ne,et){return et=et||this._defaultShape(),Ne=toLatLng(Ne),et.push(Ne),this._bounds.extend(Ne),this.redraw()},_setLatLngs:function(Ne){this._bounds=new LatLngBounds,this._latlngs=this._convertLatLngs(Ne)},_defaultShape:function(){return isFlat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(Ne){for(var et=[],tt=isFlat(Ne),nt=0,rt=Ne.length;nt<rt;nt++)tt?(et[nt]=toLatLng(Ne[nt]),this._bounds.extend(et[nt])):et[nt]=this._convertLatLngs(Ne[nt]);return et},_project:function(){var Ne=new Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,Ne),this._bounds.isValid()&&Ne.isValid()&&(this._rawPxBounds=Ne,this._updateBounds())},_updateBounds:function(){var Ne=this._clickTolerance(),et=new Point(Ne,Ne);this._pxBounds=new Bounds([this._rawPxBounds.min.subtract(et),this._rawPxBounds.max.add(et)])},_projectLatlngs:function(Ne,et,tt){var nt,rt,it=Ne[0]instanceof LatLng,ot=Ne.length;if(it){for(rt=[],nt=0;nt<ot;nt++)rt[nt]=this._map.latLngToLayerPoint(Ne[nt]),tt.extend(rt[nt]);et.push(rt)}else for(nt=0;nt<ot;nt++)this._projectLatlngs(Ne[nt],et,tt)},_clipPoints:function(){var Ne=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(Ne))if(this.options.noClip)this._parts=this._rings;else{var et,tt,nt,rt,it,ot,at,st=this._parts;for(et=0,nt=0,rt=this._rings.length;et<rt;et++)for(tt=0,it=(at=this._rings[et]).length;tt<it-1;tt++)(ot=clipSegment(at[tt],at[tt+1],Ne,tt,!0))&&(st[nt]=st[nt]||[],st[nt].push(ot[0]),ot[1]===at[tt+1]&&tt!==it-2||(st[nt].push(ot[1]),nt++))}},_simplifyPoints:function(){for(var Ne=this._parts,et=this.options.smoothFactor,tt=0,nt=Ne.length;tt<nt;tt++)Ne[tt]=simplify(Ne[tt],et)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(Ne,et){var tt,nt,rt,it,ot,at,st=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(Ne))return!1;for(tt=0,it=this._parts.length;tt<it;tt++)for(nt=0,rt=(ot=(at=this._parts[tt]).length)-1;nt<ot;rt=nt++)if((et||0!==nt)&&pointToSegmentDistance(Ne,at[rt],at[nt])<=st)return!0;return!1}});ac._flat=_flat;var pc=ac.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var Ne,et,tt,nt,rt,it,ot,at,st,ct=this._rings[0],pt=ct.length;if(!pt)return null;for(it=ot=at=0,Ne=0,et=pt-1;Ne<pt;et=Ne++)tt=ct[Ne],nt=ct[et],rt=tt.y*nt.x-nt.y*tt.x,ot+=(tt.x+nt.x)*rt,at+=(tt.y+nt.y)*rt,it+=3*rt;return st=0===it?ct[0]:[ot/it,at/it],this._map.layerPointToLatLng(st)},_convertLatLngs:function(Ne){var et=ac.prototype._convertLatLngs.call(this,Ne),tt=et.length;return tt>=2&&et[0]instanceof LatLng&&et[0].equals(et[tt-1])&&et.pop(),et},_setLatLngs:function(Ne){ac.prototype._setLatLngs.call(this,Ne),isFlat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return isFlat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var Ne=this._renderer._bounds,et=this.options.weight,tt=new Point(et,et);if(Ne=new Bounds(Ne.min.subtract(tt),Ne.max.add(tt)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(Ne))if(this.options.noClip)this._parts=this._rings;else for(var nt,rt=0,it=this._rings.length;rt<it;rt++)(nt=clipPolygon(this._rings[rt],Ne,!0)).length&&this._parts.push(nt)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(Ne){var et,tt,nt,rt,it,ot,at,st,ct=!1;if(!this._pxBounds||!this._pxBounds.contains(Ne))return!1;for(rt=0,at=this._parts.length;rt<at;rt++)for(it=0,ot=(st=(et=this._parts[rt]).length)-1;it<st;ot=it++)tt=et[it],nt=et[ot],tt.y>Ne.y!=nt.y>Ne.y&&Ne.x<(nt.x-tt.x)*(Ne.y-tt.y)/(nt.y-tt.y)+tt.x&&(ct=!ct);return ct||ac.prototype._containsPoint.call(this,Ne,!0)}}),yc=Fl.extend({initialize:function(Ne,et){setOptions(this,et),this._layers={},Ne&&this.addData(Ne)},addData:function(Ne){var et,tt,nt,rt=it(Ne)?Ne:Ne.features;if(rt){for(et=0,tt=rt.length;et<tt;et++)((nt=rt[et]).geometries||nt.geometry||nt.features||nt.coordinates)&&this.addData(nt);return this}var ot=this.options;if(ot.filter&&!ot.filter(Ne))return this;var at=geometryToLayer(Ne,ot);return at?(at.feature=asFeature(Ne),at.defaultOptions=at.options,this.resetStyle(at),ot.onEachFeature&&ot.onEachFeature(Ne,at),this.addLayer(at)):this},resetStyle:function(Ne){return void 0===Ne?this.eachLayer(this.resetStyle,this):(Ne.options=extend({},Ne.defaultOptions),this._setLayerStyle(Ne,this.options.style),this)},setStyle:function(Ne){return this.eachLayer((function(et){this._setLayerStyle(et,Ne)}),this)},_setLayerStyle:function(Ne,et){Ne.setStyle&&("function"==typeof et&&(et=et(Ne.feature)),Ne.setStyle(et))}});function geometryToLayer(Ne,et){var tt,nt,rt,it,ot="Feature"===Ne.type?Ne.geometry:Ne,at=ot?ot.coordinates:null,st=[],ct=et&&et.pointToLayer,pt=et&&et.coordsToLatLng||coordsToLatLng;if(!at&&!ot)return null;switch(ot.type){case"Point":return _pointToLayer(ct,Ne,tt=pt(at),et);case"MultiPoint":for(rt=0,it=at.length;rt<it;rt++)tt=pt(at[rt]),st.push(_pointToLayer(ct,Ne,tt,et));return new Fl(st);case"LineString":case"MultiLineString":return nt=coordsToLatLngs(at,"LineString"===ot.type?0:1,pt),new ac(nt,et);case"Polygon":case"MultiPolygon":return nt=coordsToLatLngs(at,"Polygon"===ot.type?1:2,pt),new pc(nt,et);case"GeometryCollection":for(rt=0,it=ot.geometries.length;rt<it;rt++){var dt=geometryToLayer({geometry:ot.geometries[rt],type:"Feature",properties:Ne.properties},et);dt&&st.push(dt)}return new Fl(st);default:throw new Error("Invalid GeoJSON object.")}}function _pointToLayer(Ne,et,tt,nt){return Ne?Ne(et,tt):new _u(tt,nt&&nt.markersInheritOptions&&nt)}function coordsToLatLng(Ne){return new LatLng(Ne[1],Ne[0],Ne[2])}function coordsToLatLngs(Ne,et,tt){for(var nt,rt=[],it=0,ot=Ne.length;it<ot;it++)nt=et?coordsToLatLngs(Ne[it],et-1,tt):(tt||coordsToLatLng)(Ne[it]),rt.push(nt);return rt}function latLngToCoords(Ne,et){return et="number"==typeof et?et:6,void 0!==Ne.alt?[formatNum(Ne.lng,et),formatNum(Ne.lat,et),formatNum(Ne.alt,et)]:[formatNum(Ne.lng,et),formatNum(Ne.lat,et)]}function latLngsToCoords(Ne,et,tt,nt){for(var rt=[],it=0,ot=Ne.length;it<ot;it++)rt.push(et?latLngsToCoords(Ne[it],et-1,tt,nt):latLngToCoords(Ne[it],nt));return!et&&tt&&rt.push(rt[0]),rt}function getFeature(Ne,et){return Ne.feature?extend({},Ne.feature,{geometry:et}):asFeature(et)}function asFeature(Ne){return"Feature"===Ne.type||"FeatureCollection"===Ne.type?Ne:{type:"Feature",properties:{},geometry:Ne}}var _c={toGeoJSON:function(Ne){return getFeature(this,{type:"Point",coordinates:latLngToCoords(this.getLatLng(),Ne)})}};function geoJSON(Ne,et){return new yc(Ne,et)}_u.include(_c),Fu.include(_c),Tu.include(_c),ac.include({toGeoJSON:function(Ne){var et=!isFlat(this._latlngs);return getFeature(this,{type:(et?"Multi":"")+"LineString",coordinates:latLngsToCoords(this._latlngs,et?1:0,!1,Ne)})}}),pc.include({toGeoJSON:function(Ne){var et=!isFlat(this._latlngs),tt=et&&!isFlat(this._latlngs[0]),nt=latLngsToCoords(this._latlngs,tt?2:et?1:0,!0,Ne);return et||(nt=[nt]),getFeature(this,{type:(tt?"Multi":"")+"Polygon",coordinates:nt})}}),zl.include({toMultiPoint:function(Ne){var et=[];return this.eachLayer((function(tt){et.push(tt.toGeoJSON(Ne).geometry.coordinates)})),getFeature(this,{type:"MultiPoint",coordinates:et})},toGeoJSON:function(Ne){var et=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===et)return this.toMultiPoint(Ne);var tt="GeometryCollection"===et,nt=[];return this.eachLayer((function(et){if(et.toGeoJSON){var rt=et.toGeoJSON(Ne);if(tt)nt.push(rt.geometry);else{var it=asFeature(rt);"FeatureCollection"===it.type?nt.push.apply(nt,it.features):nt.push(it)}}})),tt?getFeature(this,{geometries:nt,type:"GeometryCollection"}):{type:"FeatureCollection",features:nt}}});var bc=geoJSON,xc=Al.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(Ne,et,tt){this._url=Ne,this._bounds=toLatLngBounds(et),setOptions(this,tt)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(Ne){return this.options.opacity=Ne,this._image&&this._updateOpacity(),this},setStyle:function(Ne){return Ne.opacity&&this.setOpacity(Ne.opacity),this},bringToFront:function(){return this._map&&toFront(this._image),this},bringToBack:function(){return this._map&&toBack(this._image),this},setUrl:function(Ne){return this._url=Ne,this._image&&(this._image.src=Ne),this},setBounds:function(Ne){return this._bounds=toLatLngBounds(Ne),this._map&&this._reset(),this},getEvents:function(){var Ne={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(Ne.zoomanim=this._animateZoom),Ne},setZIndex:function(Ne){return this.options.zIndex=Ne,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var Ne="IMG"===this._url.tagName,et=this._image=Ne?this._url:create$1("img");addClass(et,"leaflet-image-layer"),this._zoomAnimated&&addClass(et,"leaflet-zoom-animated"),this.options.className&&addClass(et,this.options.className),et.onselectstart=falseFn,et.onmousemove=falseFn,et.onload=bind(this.fire,this,"load"),et.onerror=bind(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(et.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),Ne?this._url=et.src:(et.src=this._url,et.alt=this.options.alt)},_animateZoom:function(Ne){var et=this._map.getZoomScale(Ne.zoom),tt=this._map._latLngBoundsToNewLayerBounds(this._bounds,Ne.zoom,Ne.center).min;setTransform(this._image,tt,et)},_reset:function(){var Ne=this._image,et=new Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),tt=et.getSize();setPosition(Ne,et.min),Ne.style.width=tt.x+"px",Ne.style.height=tt.y+"px"},_updateOpacity:function(){setOpacity(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var Ne=this.options.errorOverlayUrl;Ne&&this._url!==Ne&&(this._url=Ne,this._image.src=Ne)}}),wc=xc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var Ne="VIDEO"===this._url.tagName,et=this._image=Ne?this._url:create$1("video");if(addClass(et,"leaflet-image-layer"),this._zoomAnimated&&addClass(et,"leaflet-zoom-animated"),this.options.className&&addClass(et,this.options.className),et.onselectstart=falseFn,et.onmousemove=falseFn,et.onloadeddata=bind(this.fire,this,"load"),Ne){for(var tt=et.getElementsByTagName("source"),nt=[],rt=0;rt<tt.length;rt++)nt.push(tt[rt].src);this._url=tt.length>0?nt:[et.src]}else{it(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&et.style.hasOwnProperty("objectFit")&&(et.style.objectFit="fill"),et.autoplay=!!this.options.autoplay,et.loop=!!this.options.loop;for(var ot=0;ot<this._url.length;ot++){var at=create$1("source");at.src=this._url[ot],et.appendChild(at)}}}}),Ec=xc.extend({_initImage:function(){var Ne=this._image=this._url;addClass(Ne,"leaflet-image-layer"),this._zoomAnimated&&addClass(Ne,"leaflet-zoom-animated"),this.options.className&&addClass(Ne,this.options.className),Ne.onselectstart=falseFn,Ne.onmousemove=falseFn}}),Cc=Al.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(Ne,et){setOptions(this,Ne),this._source=et},onAdd:function(Ne){this._zoomAnimated=Ne._zoomAnimated,this._container||this._initLayout(),Ne._fadeAnimated&&setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),Ne._fadeAnimated&&setOpacity(this._container,1),this.bringToFront()},onRemove:function(Ne){Ne._fadeAnimated?(setOpacity(this._container,0),this._removeTimeout=setTimeout(bind(remove,void 0,this._container),200)):remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(Ne){return this._latlng=toLatLng(Ne),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(Ne){return this._content=Ne,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var Ne={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(Ne.zoomanim=this._animateZoom),Ne},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&toFront(this._container),this},bringToBack:function(){return this._map&&toBack(this._container),this},_prepareOpen:function(Ne,et,tt){if(et instanceof Al||(tt=et,et=Ne),et instanceof Fl)for(var nt in Ne._layers){et=Ne._layers[nt];break}if(!tt)if(et.getCenter)tt=et.getCenter();else{if(!et.getLatLng)throw new Error("Unable to get source layer LatLng.");tt=et.getLatLng()}return this._source=et,this.update(),tt},_updateContent:function(){if(this._content){var Ne=this._contentNode,et="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof et)Ne.innerHTML=et;else{for(;Ne.hasChildNodes();)Ne.removeChild(Ne.firstChild);Ne.appendChild(et)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var Ne=this._map.latLngToLayerPoint(this._latlng),et=toPoint(this.options.offset),tt=this._getAnchor();this._zoomAnimated?setPosition(this._container,Ne.add(tt)):et=et.add(Ne).add(tt);var nt=this._containerBottom=-et.y,rt=this._containerLeft=-Math.round(this._containerWidth/2)+et.x;this._container.style.bottom=nt+"px",this._container.style.left=rt+"px"}},_getAnchor:function(){return[0,0]}}),kc=Cc.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(Ne){return Ne.openPopup(this),this},onAdd:function(Ne){Cc.prototype.onAdd.call(this,Ne),Ne.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wu||this._source.on("preclick",stopPropagation))},onRemove:function(Ne){Cc.prototype.onRemove.call(this,Ne),Ne.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wu||this._source.off("preclick",stopPropagation))},getEvents:function(){var Ne=Cc.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(Ne.preclick=this._close),this.options.keepInView&&(Ne.moveend=this._adjustPan),Ne},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var Ne="leaflet-popup",et=this._container=create$1("div",Ne+" "+(this.options.className||"")+" leaflet-zoom-animated"),tt=this._wrapper=create$1("div",Ne+"-content-wrapper",et);if(this._contentNode=create$1("div",Ne+"-content",tt),disableClickPropagation(tt),disableScrollPropagation(this._contentNode),on(tt,"contextmenu",stopPropagation),this._tipContainer=create$1("div",Ne+"-tip-container",et),this._tip=create$1("div",Ne+"-tip",this._tipContainer),this.options.closeButton){var nt=this._closeButton=create$1("a",Ne+"-close-button",et);nt.href="#close",nt.innerHTML="&#215;",on(nt,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var Ne=this._contentNode,et=Ne.style;et.width="",et.whiteSpace="nowrap";var tt=Ne.offsetWidth;tt=Math.min(tt,this.options.maxWidth),tt=Math.max(tt,this.options.minWidth),et.width=tt+1+"px",et.whiteSpace="",et.height="";var nt=Ne.offsetHeight,rt=this.options.maxHeight;rt&&nt>rt?(et.height=rt+"px",addClass(Ne,"leaflet-popup-scrolled")):removeClass(Ne,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(Ne){var et=this._map._latLngToNewLayerPoint(this._latlng,Ne.zoom,Ne.center),tt=this._getAnchor();setPosition(this._container,et.add(tt))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var Ne=this._map,et=parseInt(getStyle(this._container,"marginBottom"),10)||0,tt=this._container.offsetHeight+et,nt=this._containerWidth,rt=new Point(this._containerLeft,-tt-this._containerBottom);rt._add(getPosition(this._container));var it=Ne.layerPointToContainerPoint(rt),ot=toPoint(this.options.autoPanPadding),at=toPoint(this.options.autoPanPaddingTopLeft||ot),st=toPoint(this.options.autoPanPaddingBottomRight||ot),ct=Ne.getSize(),pt=0,dt=0;it.x+nt+st.x>ct.x&&(pt=it.x+nt-ct.x+st.x),it.x-pt-at.x<0&&(pt=it.x-at.x),it.y+tt+st.y>ct.y&&(dt=it.y+tt-ct.y+st.y),it.y-dt-at.y<0&&(dt=it.y-at.y),(pt||dt)&&Ne.fire("autopanstart").panBy([pt,dt])}},_onCloseButtonClick:function(Ne){this._close(),stop(Ne)},_getAnchor:function(){return toPoint(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});js.mergeOptions({closePopupOnClick:!0}),js.include({openPopup:function(Ne,et,tt){return Ne instanceof kc||(Ne=new kc(tt).setContent(Ne)),et&&Ne.setLatLng(et),this.hasLayer(Ne)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=Ne,this.addLayer(Ne))},closePopup:function(Ne){return Ne&&Ne!==this._popup||(Ne=this._popup,this._popup=null),Ne&&this.removeLayer(Ne),this}}),Al.include({bindPopup:function(Ne,et){return Ne instanceof kc?(setOptions(Ne,et),this._popup=Ne,Ne._source=this):(this._popup&&!et||(this._popup=new kc(et,this)),this._popup.setContent(Ne)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(Ne,et){return this._popup&&this._map&&(et=this._popup._prepareOpen(this,Ne,et),this._map.openPopup(this._popup,et)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(Ne){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(Ne)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(Ne){return this._popup&&this._popup.setContent(Ne),this},getPopup:function(){return this._popup},_openPopup:function(Ne){var et=Ne.layer||Ne.target;this._popup&&this._map&&(stop(Ne),et instanceof wu?this.openPopup(Ne.layer||Ne.target,Ne.latlng):this._map.hasLayer(this._popup)&&this._popup._source===et?this.closePopup():this.openPopup(et,Ne.latlng))},_movePopup:function(Ne){this._popup.setLatLng(Ne.latlng)},_onKeyPress:function(Ne){13===Ne.originalEvent.keyCode&&this._openPopup(Ne)}});var Ic=Cc.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(Ne){Cc.prototype.onAdd.call(this,Ne),this.setOpacity(this.options.opacity),Ne.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(Ne){Cc.prototype.onRemove.call(this,Ne),Ne.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var Ne=Cc.prototype.getEvents.call(this);return vo&&!this.options.permanent&&(Ne.preclick=this._close),Ne},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var Ne="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=create$1("div",Ne)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(Ne){var et=this._map,tt=this._container,nt=et.latLngToContainerPoint(et.getCenter()),rt=et.layerPointToContainerPoint(Ne),it=this.options.direction,ot=tt.offsetWidth,at=tt.offsetHeight,st=toPoint(this.options.offset),ct=this._getAnchor();"top"===it?Ne=Ne.add(toPoint(-ot/2+st.x,-at+st.y+ct.y,!0)):"bottom"===it?Ne=Ne.subtract(toPoint(ot/2-st.x,-st.y,!0)):"center"===it?Ne=Ne.subtract(toPoint(ot/2+st.x,at/2-ct.y+st.y,!0)):"right"===it||"auto"===it&&rt.x<nt.x?(it="right",Ne=Ne.add(toPoint(st.x+ct.x,ct.y-at/2+st.y,!0))):(it="left",Ne=Ne.subtract(toPoint(ot+ct.x-st.x,at/2-ct.y-st.y,!0))),removeClass(tt,"leaflet-tooltip-right"),removeClass(tt,"leaflet-tooltip-left"),removeClass(tt,"leaflet-tooltip-top"),removeClass(tt,"leaflet-tooltip-bottom"),addClass(tt,"leaflet-tooltip-"+it),setPosition(tt,Ne)},_updatePosition:function(){var Ne=this._map.latLngToLayerPoint(this._latlng);this._setPosition(Ne)},setOpacity:function(Ne){this.options.opacity=Ne,this._container&&setOpacity(this._container,Ne)},_animateZoom:function(Ne){var et=this._map._latLngToNewLayerPoint(this._latlng,Ne.zoom,Ne.center);this._setPosition(et)},_getAnchor:function(){return toPoint(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});js.include({openTooltip:function(Ne,et,tt){return Ne instanceof Ic||(Ne=new Ic(tt).setContent(Ne)),et&&Ne.setLatLng(et),this.hasLayer(Ne)?this:this.addLayer(Ne)},closeTooltip:function(Ne){return Ne&&this.removeLayer(Ne),this}}),Al.include({bindTooltip:function(Ne,et){return Ne instanceof Ic?(setOptions(Ne,et),this._tooltip=Ne,Ne._source=this):(this._tooltip&&!et||(this._tooltip=new Ic(et,this)),this._tooltip.setContent(Ne)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(Ne){if(Ne||!this._tooltipHandlersAdded){var et=Ne?"off":"on",tt={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?tt.add=this._openTooltip:(tt.mouseover=this._openTooltip,tt.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(tt.mousemove=this._moveTooltip),vo&&(tt.click=this._openTooltip)),this[et](tt),this._tooltipHandlersAdded=!Ne}},openTooltip:function(Ne,et){return this._tooltip&&this._map&&(et=this._tooltip._prepareOpen(this,Ne,et),this._map.openTooltip(this._tooltip,et),this._tooltip.options.interactive&&this._tooltip._container&&(addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(Ne){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(Ne)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(Ne){return this._tooltip&&this._tooltip.setContent(Ne),this},getTooltip:function(){return this._tooltip},_openTooltip:function(Ne){var et=Ne.layer||Ne.target;this._tooltip&&this._map&&this.openTooltip(et,this._tooltip.options.sticky?Ne.latlng:void 0)},_moveTooltip:function(Ne){var et,tt,nt=Ne.latlng;this._tooltip.options.sticky&&Ne.originalEvent&&(et=this._map.mouseEventToContainerPoint(Ne.originalEvent),tt=this._map.containerPointToLayerPoint(et),nt=this._map.layerPointToLatLng(tt)),this._tooltip.setLatLng(nt)}});var Ac=Hl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(Ne){var et=Ne&&"DIV"===Ne.tagName?Ne:document.createElement("div"),tt=this.options;if(tt.html instanceof Element?(empty(et),et.appendChild(tt.html)):et.innerHTML=!1!==tt.html?tt.html:"",tt.bgPos){var nt=toPoint(tt.bgPos);et.style.backgroundPosition=-nt.x+"px "+-nt.y+"px"}return this._setIconStyles(et,"icon"),et},createShadow:function(){return null}});Hl.Default=du;var zc=Al.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Sr,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(Ne){setOptions(this,Ne)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(Ne){Ne._addZoomLimit(this)},onRemove:function(Ne){this._removeAllTiles(),remove(this._container),Ne._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(Ne){return this.options.opacity=Ne,this._updateOpacity(),this},setZIndex:function(Ne){return this.options.zIndex=Ne,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var Ne={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=throttle(this._onMoveEnd,this.options.updateInterval,this)),Ne.move=this._onMove),this._zoomAnimated&&(Ne.zoomanim=this._animateZoom),Ne},createTile:function(){return document.createElement("div")},getTileSize:function(){var Ne=this.options.tileSize;return Ne instanceof Point?Ne:new Point(Ne,Ne)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(Ne){for(var et,tt=this.getPane().children,nt=-Ne(-1/0,1/0),rt=0,it=tt.length;rt<it;rt++)et=tt[rt].style.zIndex,tt[rt]!==this._container&&et&&(nt=Ne(nt,+et));isFinite(nt)&&(this.options.zIndex=nt+Ne(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!bn){setOpacity(this._container,this.options.opacity);var Ne=+new Date,et=!1,tt=!1;for(var nt in this._tiles){var rt=this._tiles[nt];if(rt.current&&rt.loaded){var it=Math.min(1,(Ne-rt.loaded)/200);setOpacity(rt.el,it),it<1?et=!0:(rt.active?tt=!0:this._onOpaqueTile(rt),rt.active=!0)}}tt&&!this._noPrune&&this._pruneTiles(),et&&(cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this))}},_onOpaqueTile:falseFn,_initContainer:function(){this._container||(this._container=create$1("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var Ne=this._tileZoom,et=this.options.maxZoom;if(void 0!==Ne){for(var tt in this._levels)this._levels[tt].el.children.length||tt===Ne?(this._levels[tt].el.style.zIndex=et-Math.abs(Ne-tt),this._onUpdateLevel(tt)):(remove(this._levels[tt].el),this._removeTilesAtZoom(tt),this._onRemoveLevel(tt),delete this._levels[tt]);var nt=this._levels[Ne],rt=this._map;return nt||((nt=this._levels[Ne]={}).el=create$1("div","leaflet-tile-container leaflet-zoom-animated",this._container),nt.el.style.zIndex=et,nt.origin=rt.project(rt.unproject(rt.getPixelOrigin()),Ne).round(),nt.zoom=Ne,this._setZoomTransform(nt,rt.getCenter(),rt.getZoom()),nt.el.offsetWidth,this._onCreateLevel(nt)),this._level=nt,nt}},_onUpdateLevel:falseFn,_onRemoveLevel:falseFn,_onCreateLevel:falseFn,_pruneTiles:function(){if(this._map){var Ne,et,tt=this._map.getZoom();if(tt>this.options.maxZoom||tt<this.options.minZoom)this._removeAllTiles();else{for(Ne in this._tiles)(et=this._tiles[Ne]).retain=et.current;for(Ne in this._tiles)if((et=this._tiles[Ne]).current&&!et.active){var nt=et.coords;this._retainParent(nt.x,nt.y,nt.z,nt.z-5)||this._retainChildren(nt.x,nt.y,nt.z,nt.z+2)}for(Ne in this._tiles)this._tiles[Ne].retain||this._removeTile(Ne)}}},_removeTilesAtZoom:function(Ne){for(var et in this._tiles)this._tiles[et].coords.z===Ne&&this._removeTile(et)},_removeAllTiles:function(){for(var Ne in this._tiles)this._removeTile(Ne)},_invalidateAll:function(){for(var Ne in this._levels)remove(this._levels[Ne].el),this._onRemoveLevel(Ne),delete this._levels[Ne];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(Ne,et,tt,nt){var rt=Math.floor(Ne/2),it=Math.floor(et/2),ot=tt-1,at=new Point(+rt,+it);at.z=+ot;var st=this._tileCoordsToKey(at),ct=this._tiles[st];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),ot>nt&&this._retainParent(rt,it,ot,nt))},_retainChildren:function(Ne,et,tt,nt){for(var rt=2*Ne;rt<2*Ne+2;rt++)for(var it=2*et;it<2*et+2;it++){var ot=new Point(rt,it);ot.z=tt+1;var at=this._tileCoordsToKey(ot),st=this._tiles[at];st&&st.active?st.retain=!0:(st&&st.loaded&&(st.retain=!0),tt+1<nt&&this._retainChildren(rt,it,tt+1,nt))}},_resetView:function(Ne){var et=Ne&&(Ne.pinch||Ne.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),et,et)},_animateZoom:function(Ne){this._setView(Ne.center,Ne.zoom,!0,Ne.noUpdate)},_clampZoom:function(Ne){var et=this.options;return void 0!==et.minNativeZoom&&Ne<et.minNativeZoom?et.minNativeZoom:void 0!==et.maxNativeZoom&&et.maxNativeZoom<Ne?et.maxNativeZoom:Ne},_setView:function(Ne,et,tt,nt){var rt=this._clampZoom(Math.round(et));(void 0!==this.options.maxZoom&&rt>this.options.maxZoom||void 0!==this.options.minZoom&&rt<this.options.minZoom)&&(rt=void 0);var it=this.options.updateWhenZooming&&rt!==this._tileZoom;nt&&!it||(this._tileZoom=rt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==rt&&this._update(Ne),tt||this._pruneTiles(),this._noPrune=!!tt),this._setZoomTransforms(Ne,et)},_setZoomTransforms:function(Ne,et){for(var tt in this._levels)this._setZoomTransform(this._levels[tt],Ne,et)},_setZoomTransform:function(Ne,et,tt){var nt=this._map.getZoomScale(tt,Ne.zoom),rt=Ne.origin.multiplyBy(nt).subtract(this._map._getNewPixelOrigin(et,tt)).round();wr?setTransform(Ne.el,rt,nt):setPosition(Ne.el,rt)},_resetGrid:function(){var Ne=this._map,et=Ne.options.crs,tt=this._tileSize=this.getTileSize(),nt=this._tileZoom,rt=this._map.getPixelWorldBounds(this._tileZoom);rt&&(this._globalTileRange=this._pxBoundsToTileRange(rt)),this._wrapX=et.wrapLng&&!this.options.noWrap&&[Math.floor(Ne.project([0,et.wrapLng[0]],nt).x/tt.x),Math.ceil(Ne.project([0,et.wrapLng[1]],nt).x/tt.y)],this._wrapY=et.wrapLat&&!this.options.noWrap&&[Math.floor(Ne.project([et.wrapLat[0],0],nt).y/tt.x),Math.ceil(Ne.project([et.wrapLat[1],0],nt).y/tt.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(Ne){var et=this._map,tt=et._animatingZoom?Math.max(et._animateToZoom,et.getZoom()):et.getZoom(),nt=et.getZoomScale(tt,this._tileZoom),rt=et.project(Ne,this._tileZoom).floor(),it=et.getSize().divideBy(2*nt);return new Bounds(rt.subtract(it),rt.add(it))},_update:function(Ne){var et=this._map;if(et){var tt=this._clampZoom(et.getZoom());if(void 0===Ne&&(Ne=et.getCenter()),void 0!==this._tileZoom){var nt=this._getTiledPixelBounds(Ne),rt=this._pxBoundsToTileRange(nt),it=rt.getCenter(),ot=[],at=this.options.keepBuffer,st=new Bounds(rt.getBottomLeft().subtract([at,-at]),rt.getTopRight().add([at,-at]));if(!(isFinite(rt.min.x)&&isFinite(rt.min.y)&&isFinite(rt.max.x)&&isFinite(rt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var pt=this._tiles[ct].coords;pt.z===this._tileZoom&&st.contains(new Point(pt.x,pt.y))||(this._tiles[ct].current=!1)}if(Math.abs(tt-this._tileZoom)>1)this._setView(Ne,tt);else{for(var dt=rt.min.y;dt<=rt.max.y;dt++)for(var ft=rt.min.x;ft<=rt.max.x;ft++){var mt=new Point(ft,dt);if(mt.z=this._tileZoom,this._isValidTile(mt)){var yt=this._tiles[this._tileCoordsToKey(mt)];yt?yt.current=!0:ot.push(mt)}}if(ot.sort((function(Ne,et){return Ne.distanceTo(it)-et.distanceTo(it)})),0!==ot.length){this._loading||(this._loading=!0,this.fire("loading"));var vt=document.createDocumentFragment();for(ft=0;ft<ot.length;ft++)this._addTile(ot[ft],vt);this._level.el.appendChild(vt)}}}}},_isValidTile:function(Ne){var et=this._map.options.crs;if(!et.infinite){var tt=this._globalTileRange;if(!et.wrapLng&&(Ne.x<tt.min.x||Ne.x>tt.max.x)||!et.wrapLat&&(Ne.y<tt.min.y||Ne.y>tt.max.y))return!1}if(!this.options.bounds)return!0;var nt=this._tileCoordsToBounds(Ne);return toLatLngBounds(this.options.bounds).overlaps(nt)},_keyToBounds:function(Ne){return this._tileCoordsToBounds(this._keyToTileCoords(Ne))},_tileCoordsToNwSe:function(Ne){var et=this._map,tt=this.getTileSize(),nt=Ne.scaleBy(tt),rt=nt.add(tt);return[et.unproject(nt,Ne.z),et.unproject(rt,Ne.z)]},_tileCoordsToBounds:function(Ne){var et=this._tileCoordsToNwSe(Ne),tt=new LatLngBounds(et[0],et[1]);return this.options.noWrap||(tt=this._map.wrapLatLngBounds(tt)),tt},_tileCoordsToKey:function(Ne){return Ne.x+":"+Ne.y+":"+Ne.z},_keyToTileCoords:function(Ne){var et=Ne.split(":"),tt=new Point(+et[0],+et[1]);return tt.z=+et[2],tt},_removeTile:function(Ne){var et=this._tiles[Ne];et&&(remove(et.el),delete this._tiles[Ne],this.fire("tileunload",{tile:et.el,coords:this._keyToTileCoords(Ne)}))},_initTile:function(Ne){addClass(Ne,"leaflet-tile");var et=this.getTileSize();Ne.style.width=et.x+"px",Ne.style.height=et.y+"px",Ne.onselectstart=falseFn,Ne.onmousemove=falseFn,bn&&this.options.opacity<1&&setOpacity(Ne,this.options.opacity),In&&!Ln&&(Ne.style.WebkitBackfaceVisibility="hidden")},_addTile:function(Ne,et){var tt=this._getTilePos(Ne),nt=this._tileCoordsToKey(Ne),rt=this.createTile(this._wrapCoords(Ne),bind(this._tileReady,this,Ne));this._initTile(rt),this.createTile.length<2&&requestAnimFrame(bind(this._tileReady,this,Ne,null,rt)),setPosition(rt,tt),this._tiles[nt]={el:rt,coords:Ne,current:!0},et.appendChild(rt),this.fire("tileloadstart",{tile:rt,coords:Ne})},_tileReady:function(Ne,et,tt){et&&this.fire("tileerror",{error:et,tile:tt,coords:Ne});var nt=this._tileCoordsToKey(Ne);(tt=this._tiles[nt])&&(tt.loaded=+new Date,this._map._fadeAnimated?(setOpacity(tt.el,0),cancelAnimFrame(this._fadeFrame),this._fadeFrame=requestAnimFrame(this._updateOpacity,this)):(tt.active=!0,this._pruneTiles()),et||(addClass(tt.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:tt.el,coords:Ne})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),bn||!this._map._fadeAnimated?requestAnimFrame(this._pruneTiles,this):setTimeout(bind(this._pruneTiles,this),250)))},_getTilePos:function(Ne){return Ne.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(Ne){var et=new Point(this._wrapX?wrapNum(Ne.x,this._wrapX):Ne.x,this._wrapY?wrapNum(Ne.y,this._wrapY):Ne.y);return et.z=Ne.z,et},_pxBoundsToTileRange:function(Ne){var et=this.getTileSize();return new Bounds(Ne.min.unscaleBy(et).floor(),Ne.max.unscaleBy(et).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var Ne in this._tiles)if(!this._tiles[Ne].loaded)return!1;return!0}}),Dc=zc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(Ne,et){this._url=Ne,(et=setOptions(this,et)).detectRetina&&na&&et.maxZoom>0&&(et.tileSize=Math.floor(et.tileSize/2),et.zoomReverse?(et.zoomOffset--,et.minZoom++):(et.zoomOffset++,et.maxZoom--),et.minZoom=Math.max(0,et.minZoom)),"string"==typeof et.subdomains&&(et.subdomains=et.subdomains.split("")),In||this.on("tileunload",this._onTileRemove)},setUrl:function(Ne,et){return this._url===Ne&&void 0===et&&(et=!0),this._url=Ne,et||this.redraw(),this},createTile:function(Ne,et){var tt=document.createElement("img");return on(tt,"load",bind(this._tileOnLoad,this,et,tt)),on(tt,"error",bind(this._tileOnError,this,et,tt)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(tt.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),tt.alt="",tt.setAttribute("role","presentation"),tt.src=this.getTileUrl(Ne),tt},getTileUrl:function(Ne){var et={r:na?"@2x":"",s:this._getSubdomain(Ne),x:Ne.x,y:Ne.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var tt=this._globalTileRange.max.y-Ne.y;this.options.tms&&(et.y=tt),et["-y"]=tt}return template(this._url,extend(et,this.options))},_tileOnLoad:function(Ne,et){bn?setTimeout(bind(Ne,this,null,et),0):Ne(null,et)},_tileOnError:function(Ne,et,tt){var nt=this.options.errorTileUrl;nt&&et.getAttribute("src")!==nt&&(et.src=nt),Ne(tt,et)},_onTileRemove:function(Ne){Ne.tile.onload=null},_getZoomForUrl:function(){var Ne=this._tileZoom,et=this.options.maxZoom;return this.options.zoomReverse&&(Ne=et-Ne),Ne+this.options.zoomOffset},_getSubdomain:function(Ne){var et=Math.abs(Ne.x+Ne.y)%this.options.subdomains.length;return this.options.subdomains[et]},_abortLoading:function(){var Ne,et;for(Ne in this._tiles)this._tiles[Ne].coords.z!==this._tileZoom&&((et=this._tiles[Ne].el).onload=falseFn,et.onerror=falseFn,et.complete||(et.src=ot,remove(et),delete this._tiles[Ne]))},_removeTile:function(Ne){var et=this._tiles[Ne];if(et)return zn||et.el.setAttribute("src",ot),zc.prototype._removeTile.call(this,Ne)},_tileReady:function(Ne,et,tt){if(this._map&&(!tt||tt.getAttribute("src")!==ot))return zc.prototype._tileReady.call(this,Ne,et,tt)}});function tileLayer(Ne,et){return new Dc(Ne,et)}var Fc=Dc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Ne,et){this._url=Ne;var tt=extend({},this.defaultWmsParams);for(var nt in et)nt in this.options||(tt[nt]=et[nt]);var rt=(et=setOptions(this,et)).detectRetina&&na?2:1,it=this.getTileSize();tt.width=it.x*rt,tt.height=it.y*rt,this.wmsParams=tt},onAdd:function(Ne){this._crs=this.options.crs||Ne.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var et=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[et]=this._crs.code,Dc.prototype.onAdd.call(this,Ne)},getTileUrl:function(Ne){var et=this._tileCoordsToNwSe(Ne),tt=this._crs,nt=toBounds(tt.project(et[0]),tt.project(et[1])),rt=nt.min,it=nt.max,ot=(this._wmsVersion>=1.3&&this._crs===kl?[rt.y,rt.x,it.y,it.x]:[rt.x,rt.y,it.x,it.y]).join(","),at=Dc.prototype.getTileUrl.call(this,Ne);return at+getParamString(this.wmsParams,at,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ot},setParams:function(Ne,et){return extend(this.wmsParams,Ne),et||this.redraw(),this}});Dc.WMS=Fc,tileLayer.wms=function tileLayerWMS(Ne,et){return new Fc(Ne,et)};var Bc=Al.extend({options:{padding:.1,tolerance:0},initialize:function(Ne){setOptions(this,Ne),stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var Ne={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(Ne.zoomanim=this._onAnimZoom),Ne},_onAnimZoom:function(Ne){this._updateTransform(Ne.center,Ne.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(Ne,et){var tt=this._map.getZoomScale(et,this._zoom),nt=getPosition(this._container),rt=this._map.getSize().multiplyBy(.5+this.options.padding),it=this._map.project(this._center,et),ot=this._map.project(Ne,et).subtract(it),at=rt.multiplyBy(-tt).add(nt).add(rt).subtract(ot);wr?setTransform(this._container,at,tt):setPosition(this._container,at)},_reset:function(){for(var Ne in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[Ne]._reset()},_onZoomEnd:function(){for(var Ne in this._layers)this._layers[Ne]._project()},_updatePaths:function(){for(var Ne in this._layers)this._layers[Ne]._update()},_update:function(){var Ne=this.options.padding,et=this._map.getSize(),tt=this._map.containerPointToLayerPoint(et.multiplyBy(-Ne)).round();this._bounds=new Bounds(tt,tt.add(et.multiplyBy(1+2*Ne)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zc=Bc.extend({getEvents:function(){var Ne=Bc.prototype.getEvents.call(this);return Ne.viewprereset=this._onViewPreReset,Ne},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Bc.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var Ne=this._container=document.createElement("canvas");on(Ne,"mousemove",this._onMouseMove,this),on(Ne,"click dblclick mousedown mouseup contextmenu",this._onClick,this),on(Ne,"mouseout",this._handleMouseOut,this),this._ctx=Ne.getContext("2d")},_destroyContainer:function(){cancelAnimFrame(this._redrawRequest),delete this._ctx,remove(this._container),off(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var Ne in this._redrawBounds=null,this._layers)this._layers[Ne]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Bc.prototype._update.call(this);var Ne=this._bounds,et=this._container,tt=Ne.getSize(),nt=na?2:1;setPosition(et,Ne.min),et.width=nt*tt.x,et.height=nt*tt.y,et.style.width=tt.x+"px",et.style.height=tt.y+"px",na&&this._ctx.scale(2,2),this._ctx.translate(-Ne.min.x,-Ne.min.y),this.fire("update")}},_reset:function(){Bc.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(Ne){this._updateDashArray(Ne),this._layers[stamp(Ne)]=Ne;var et=Ne._order={layer:Ne,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=et),this._drawLast=et,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(Ne){this._requestRedraw(Ne)},_removePath:function(Ne){var et=Ne._order,tt=et.next,nt=et.prev;tt?tt.prev=nt:this._drawLast=nt,nt?nt.next=tt:this._drawFirst=tt,delete Ne._order,delete this._layers[stamp(Ne)],this._requestRedraw(Ne)},_updatePath:function(Ne){this._extendRedrawBounds(Ne),Ne._project(),Ne._update(),this._requestRedraw(Ne)},_updateStyle:function(Ne){this._updateDashArray(Ne),this._requestRedraw(Ne)},_updateDashArray:function(Ne){if("string"==typeof Ne.options.dashArray){var et,tt,nt=Ne.options.dashArray.split(/[, ]+/),rt=[];for(tt=0;tt<nt.length;tt++){if(et=Number(nt[tt]),isNaN(et))return;rt.push(et)}Ne.options._dashArray=rt}else Ne.options._dashArray=Ne.options.dashArray},_requestRedraw:function(Ne){this._map&&(this._extendRedrawBounds(Ne),this._redrawRequest=this._redrawRequest||requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(Ne){if(Ne._pxBounds){var et=(Ne.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Bounds,this._redrawBounds.extend(Ne._pxBounds.min.subtract([et,et])),this._redrawBounds.extend(Ne._pxBounds.max.add([et,et]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var Ne=this._redrawBounds;if(Ne){var et=Ne.getSize();this._ctx.clearRect(Ne.min.x,Ne.min.y,et.x,et.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var Ne,et=this._redrawBounds;if(this._ctx.save(),et){var tt=et.getSize();this._ctx.beginPath(),this._ctx.rect(et.min.x,et.min.y,tt.x,tt.y),this._ctx.clip()}this._drawing=!0;for(var nt=this._drawFirst;nt;nt=nt.next)Ne=nt.layer,(!et||Ne._pxBounds&&Ne._pxBounds.intersects(et))&&Ne._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(Ne,et){if(this._drawing){var tt,nt,rt,it,ot=Ne._parts,at=ot.length,st=this._ctx;if(at){for(st.beginPath(),tt=0;tt<at;tt++){for(nt=0,rt=ot[tt].length;nt<rt;nt++)it=ot[tt][nt],st[nt?"lineTo":"moveTo"](it.x,it.y);et&&st.closePath()}this._fillStroke(st,Ne)}}},_updateCircle:function(Ne){if(this._drawing&&!Ne._empty()){var et=Ne._point,tt=this._ctx,nt=Math.max(Math.round(Ne._radius),1),rt=(Math.max(Math.round(Ne._radiusY),1)||nt)/nt;1!==rt&&(tt.save(),tt.scale(1,rt)),tt.beginPath(),tt.arc(et.x,et.y/rt,nt,0,2*Math.PI,!1),1!==rt&&tt.restore(),this._fillStroke(tt,Ne)}},_fillStroke:function(Ne,et){var tt=et.options;tt.fill&&(Ne.globalAlpha=tt.fillOpacity,Ne.fillStyle=tt.fillColor||tt.color,Ne.fill(tt.fillRule||"evenodd")),tt.stroke&&0!==tt.weight&&(Ne.setLineDash&&Ne.setLineDash(et.options&&et.options._dashArray||[]),Ne.globalAlpha=tt.opacity,Ne.lineWidth=tt.weight,Ne.strokeStyle=tt.color,Ne.lineCap=tt.lineCap,Ne.lineJoin=tt.lineJoin,Ne.stroke())},_onClick:function(Ne){for(var et,tt,nt=this._map.mouseEventToLayerPoint(Ne),rt=this._drawFirst;rt;rt=rt.next)(et=rt.layer).options.interactive&&et._containsPoint(nt)&&!this._map._draggableMoved(et)&&(tt=et);tt&&(fakeStop(Ne),this._fireEvent([tt],Ne))},_onMouseMove:function(Ne){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var et=this._map.mouseEventToLayerPoint(Ne);this._handleMouseHover(Ne,et)}},_handleMouseOut:function(Ne){var et=this._hoveredLayer;et&&(removeClass(this._container,"leaflet-interactive"),this._fireEvent([et],Ne,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(Ne,et){if(!this._mouseHoverThrottled){for(var tt,nt,rt=this._drawFirst;rt;rt=rt.next)(tt=rt.layer).options.interactive&&tt._containsPoint(et)&&(nt=tt);nt!==this._hoveredLayer&&(this._handleMouseOut(Ne),nt&&(addClass(this._container,"leaflet-interactive"),this._fireEvent([nt],Ne,"mouseover"),this._hoveredLayer=nt)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],Ne),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(Ne,et,tt){this._map._fireDOMEvent(et,tt||et.type,Ne)},_bringToFront:function(Ne){var et=Ne._order;if(et){var tt=et.next,nt=et.prev;tt&&(tt.prev=nt,nt?nt.next=tt:tt&&(this._drawFirst=tt),et.prev=this._drawLast,this._drawLast.next=et,et.next=null,this._drawLast=et,this._requestRedraw(Ne))}},_bringToBack:function(Ne){var et=Ne._order;if(et){var tt=et.next,nt=et.prev;nt&&(nt.next=tt,tt?tt.prev=nt:nt&&(this._drawLast=nt),et.prev=null,et.next=this._drawFirst,this._drawFirst.prev=et,this._drawFirst=et,this._requestRedraw(Ne))}}});function canvas$1(Ne){return ia?new Zc(Ne):null}var Wc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(Ne){return document.createElement("<lvml:"+Ne+' class="lvml">')}}catch(Ne){return function(Ne){return document.createElement("<"+Ne+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Hc={_initContainer:function(){this._container=create$1("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Bc.prototype._update.call(this),this.fire("update"))},_initPath:function(Ne){var et=Ne._container=Wc("shape");addClass(et,"leaflet-vml-shape "+(this.options.className||"")),et.coordsize="1 1",Ne._path=Wc("path"),et.appendChild(Ne._path),this._updateStyle(Ne),this._layers[stamp(Ne)]=Ne},_addPath:function(Ne){var et=Ne._container;this._container.appendChild(et),Ne.options.interactive&&Ne.addInteractiveTarget(et)},_removePath:function(Ne){var et=Ne._container;remove(et),Ne.removeInteractiveTarget(et),delete this._layers[stamp(Ne)]},_updateStyle:function(Ne){var et=Ne._stroke,tt=Ne._fill,nt=Ne.options,rt=Ne._container;rt.stroked=!!nt.stroke,rt.filled=!!nt.fill,nt.stroke?(et||(et=Ne._stroke=Wc("stroke")),rt.appendChild(et),et.weight=nt.weight+"px",et.color=nt.color,et.opacity=nt.opacity,nt.dashArray?et.dashStyle=it(nt.dashArray)?nt.dashArray.join(" "):nt.dashArray.replace(/( *, *)/g," "):et.dashStyle="",et.endcap=nt.lineCap.replace("butt","flat"),et.joinstyle=nt.lineJoin):et&&(rt.removeChild(et),Ne._stroke=null),nt.fill?(tt||(tt=Ne._fill=Wc("fill")),rt.appendChild(tt),tt.color=nt.fillColor||nt.color,tt.opacity=nt.fillOpacity):tt&&(rt.removeChild(tt),Ne._fill=null)},_updateCircle:function(Ne){var et=Ne._point.round(),tt=Math.round(Ne._radius),nt=Math.round(Ne._radiusY||tt);this._setPath(Ne,Ne._empty()?"M0 0":"AL "+et.x+","+et.y+" "+tt+","+nt+" 0,23592600")},_setPath:function(Ne,et){Ne._path.v=et},_bringToFront:function(Ne){toFront(Ne._container)},_bringToBack:function(Ne){toBack(Ne._container)}},Gc=la?Wc:svgCreate,Xc=Bc.extend({getEvents:function(){var Ne=Bc.prototype.getEvents.call(this);return Ne.zoomstart=this._onZoomStart,Ne},_initContainer:function(){this._container=Gc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){remove(this._container),off(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Bc.prototype._update.call(this);var Ne=this._bounds,et=Ne.getSize(),tt=this._container;this._svgSize&&this._svgSize.equals(et)||(this._svgSize=et,tt.setAttribute("width",et.x),tt.setAttribute("height",et.y)),setPosition(tt,Ne.min),tt.setAttribute("viewBox",[Ne.min.x,Ne.min.y,et.x,et.y].join(" ")),this.fire("update")}},_initPath:function(Ne){var et=Ne._path=Gc("path");Ne.options.className&&addClass(et,Ne.options.className),Ne.options.interactive&&addClass(et,"leaflet-interactive"),this._updateStyle(Ne),this._layers[stamp(Ne)]=Ne},_addPath:function(Ne){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(Ne._path),Ne.addInteractiveTarget(Ne._path)},_removePath:function(Ne){remove(Ne._path),Ne.removeInteractiveTarget(Ne._path),delete this._layers[stamp(Ne)]},_updatePath:function(Ne){Ne._project(),Ne._update()},_updateStyle:function(Ne){var et=Ne._path,tt=Ne.options;et&&(tt.stroke?(et.setAttribute("stroke",tt.color),et.setAttribute("stroke-opacity",tt.opacity),et.setAttribute("stroke-width",tt.weight),et.setAttribute("stroke-linecap",tt.lineCap),et.setAttribute("stroke-linejoin",tt.lineJoin),tt.dashArray?et.setAttribute("stroke-dasharray",tt.dashArray):et.removeAttribute("stroke-dasharray"),tt.dashOffset?et.setAttribute("stroke-dashoffset",tt.dashOffset):et.removeAttribute("stroke-dashoffset")):et.setAttribute("stroke","none"),tt.fill?(et.setAttribute("fill",tt.fillColor||tt.color),et.setAttribute("fill-opacity",tt.fillOpacity),et.setAttribute("fill-rule",tt.fillRule||"evenodd")):et.setAttribute("fill","none"))},_updatePoly:function(Ne,et){this._setPath(Ne,pointsToPath(Ne._parts,et))},_updateCircle:function(Ne){var et=Ne._point,tt=Math.max(Math.round(Ne._radius),1),nt="a"+tt+","+(Math.max(Math.round(Ne._radiusY),1)||tt)+" 0 1,0 ",rt=Ne._empty()?"M0 0":"M"+(et.x-tt)+","+et.y+nt+2*tt+",0 "+nt+2*-tt+",0 ";this._setPath(Ne,rt)},_setPath:function(Ne,et){Ne._path.setAttribute("d",et)},_bringToFront:function(Ne){toFront(Ne._path)},_bringToBack:function(Ne){toBack(Ne._path)}});function svg$1(Ne){return sa||la?new Xc(Ne):null}la&&Xc.include(Hc),js.include({getRenderer:function(Ne){var et=Ne.options.renderer||this._getPaneRenderer(Ne.options.pane)||this.options.renderer||this._renderer;return et||(et=this._renderer=this._createRenderer()),this.hasLayer(et)||this.addLayer(et),et},_getPaneRenderer:function(Ne){if("overlayPane"===Ne||void 0===Ne)return!1;var et=this._paneRenderers[Ne];return void 0===et&&(et=this._createRenderer({pane:Ne}),this._paneRenderers[Ne]=et),et},_createRenderer:function(Ne){return this.options.preferCanvas&&canvas$1(Ne)||svg$1(Ne)}});var $c=pc.extend({initialize:function(Ne,et){pc.prototype.initialize.call(this,this._boundsToLatLngs(Ne),et)},setBounds:function(Ne){return this.setLatLngs(this._boundsToLatLngs(Ne))},_boundsToLatLngs:function(Ne){return[(Ne=toLatLngBounds(Ne)).getSouthWest(),Ne.getNorthWest(),Ne.getNorthEast(),Ne.getSouthEast()]}});Xc.create=Gc,Xc.pointsToPath=pointsToPath,yc.geometryToLayer=geometryToLayer,yc.coordsToLatLng=coordsToLatLng,yc.coordsToLatLngs=coordsToLatLngs,yc.latLngToCoords=latLngToCoords,yc.latLngsToCoords=latLngsToCoords,yc.getFeature=getFeature,yc.asFeature=asFeature,js.mergeOptions({boxZoom:!0});var Yc=tl.extend({initialize:function(Ne){this._map=Ne,this._container=Ne._container,this._pane=Ne._panes.overlayPane,this._resetStateTimeout=0,Ne.on("unload",this._destroy,this)},addHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){remove(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(Ne){if(!Ne.shiftKey||1!==Ne.which&&1!==Ne.button)return!1;this._clearDeferredResetState(),this._resetState(),fs(),disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(Ne),on(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(Ne){this._moved||(this._moved=!0,this._box=create$1("div","leaflet-zoom-box",this._container),addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(Ne);var et=new Bounds(this._point,this._startPoint),tt=et.getSize();setPosition(this._box,et.min),this._box.style.width=tt.x+"px",this._box.style.height=tt.y+"px"},_finish:function(){this._moved&&(remove(this._box),removeClass(this._container,"leaflet-crosshair")),gs(),enableImageDrag(),off(document,{contextmenu:stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(Ne){if((1===Ne.which||1===Ne.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(bind(this._resetState,this),0);var et=new LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(et).fire("boxzoomend",{boxZoomBounds:et})}},_onKeyDown:function(Ne){27===Ne.keyCode&&this._finish()}});js.addInitHook("addHandler","boxZoom",Yc),js.mergeOptions({doubleClickZoom:!0});var rp=tl.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(Ne){var et=this._map,tt=et.getZoom(),nt=et.options.zoomDelta,rt=Ne.originalEvent.shiftKey?tt-nt:tt+nt;"center"===et.options.doubleClickZoom?et.setZoom(rt):et.setZoomAround(Ne.containerPoint,rt)}});js.addInitHook("addHandler","doubleClickZoom",rp),js.mergeOptions({dragging:!0,inertia:!Ln,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ip=tl.extend({addHooks:function(){if(!this._draggable){var Ne=this._map;this._draggable=new vl(Ne._mapPane,Ne._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),Ne.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),Ne.on("zoomend",this._onZoomEnd,this),Ne.whenReady(this._onZoomEnd,this))}addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){removeClass(this._map._container,"leaflet-grab"),removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var Ne=this._map;if(Ne._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var et=toLatLngBounds(this._map.options.maxBounds);this._offsetLimit=toBounds(this._map.latLngToContainerPoint(et.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(et.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;Ne.fire("movestart").fire("dragstart"),Ne.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(Ne){if(this._map.options.inertia){var et=this._lastTime=+new Date,tt=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(tt),this._times.push(et),this._prunePositions(et)}this._map.fire("move",Ne).fire("drag",Ne)},_prunePositions:function(Ne){for(;this._positions.length>1&&Ne-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var Ne=this._map.getSize().divideBy(2),et=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=et.subtract(Ne).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(Ne,et){return Ne-(Ne-et)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var Ne=this._draggable._newPos.subtract(this._draggable._startPos),et=this._offsetLimit;Ne.x<et.min.x&&(Ne.x=this._viscousLimit(Ne.x,et.min.x)),Ne.y<et.min.y&&(Ne.y=this._viscousLimit(Ne.y,et.min.y)),Ne.x>et.max.x&&(Ne.x=this._viscousLimit(Ne.x,et.max.x)),Ne.y>et.max.y&&(Ne.y=this._viscousLimit(Ne.y,et.max.y)),this._draggable._newPos=this._draggable._startPos.add(Ne)}},_onPreDragWrap:function(){var Ne=this._worldWidth,et=Math.round(Ne/2),tt=this._initialWorldOffset,nt=this._draggable._newPos.x,rt=(nt-et+tt)%Ne+et-tt,it=(nt+et+tt)%Ne-et-tt,ot=Math.abs(rt+tt)<Math.abs(it+tt)?rt:it;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ot},_onDragEnd:function(Ne){var et=this._map,tt=et.options,nt=!tt.inertia||this._times.length<2;if(et.fire("dragend",Ne),nt)et.fire("moveend");else{this._prunePositions(+new Date);var rt=this._lastPos.subtract(this._positions[0]),it=(this._lastTime-this._times[0])/1e3,ot=tt.easeLinearity,at=rt.multiplyBy(ot/it),st=at.distanceTo([0,0]),ct=Math.min(tt.inertiaMaxSpeed,st),pt=at.multiplyBy(ct/st),dt=ct/(tt.inertiaDeceleration*ot),ft=pt.multiplyBy(-dt/2).round();ft.x||ft.y?(ft=et._limitOffset(ft,et.options.maxBounds),requestAnimFrame((function(){et.panBy(ft,{duration:dt,easeLinearity:ot,noMoveStart:!0,animate:!0})}))):et.fire("moveend")}}});js.addInitHook("addHandler","dragging",ip),js.mergeOptions({keyboard:!0,keyboardPanDelta:80});var op=tl.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(Ne){this._map=Ne,this._setPanDelta(Ne.options.keyboardPanDelta),this._setZoomDelta(Ne.options.zoomDelta)},addHooks:function(){var Ne=this._map._container;Ne.tabIndex<=0&&(Ne.tabIndex="0"),on(Ne,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var Ne=document.body,et=document.documentElement,tt=Ne.scrollTop||et.scrollTop,nt=Ne.scrollLeft||et.scrollLeft;this._map._container.focus(),window.scrollTo(nt,tt)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(Ne){var et,tt,nt=this._panKeys={},rt=this.keyCodes;for(et=0,tt=rt.left.length;et<tt;et++)nt[rt.left[et]]=[-1*Ne,0];for(et=0,tt=rt.right.length;et<tt;et++)nt[rt.right[et]]=[Ne,0];for(et=0,tt=rt.down.length;et<tt;et++)nt[rt.down[et]]=[0,Ne];for(et=0,tt=rt.up.length;et<tt;et++)nt[rt.up[et]]=[0,-1*Ne]},_setZoomDelta:function(Ne){var et,tt,nt=this._zoomKeys={},rt=this.keyCodes;for(et=0,tt=rt.zoomIn.length;et<tt;et++)nt[rt.zoomIn[et]]=Ne;for(et=0,tt=rt.zoomOut.length;et<tt;et++)nt[rt.zoomOut[et]]=-Ne},_addHooks:function(){on(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){off(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(Ne){if(!(Ne.altKey||Ne.ctrlKey||Ne.metaKey)){var et,tt=Ne.keyCode,nt=this._map;if(tt in this._panKeys)nt._panAnim&&nt._panAnim._inProgress||(et=this._panKeys[tt],Ne.shiftKey&&(et=toPoint(et).multiplyBy(3)),nt.panBy(et),nt.options.maxBounds&&nt.panInsideBounds(nt.options.maxBounds));else if(tt in this._zoomKeys)nt.setZoom(nt.getZoom()+(Ne.shiftKey?3:1)*this._zoomKeys[tt]);else{if(27!==tt||!nt._popup||!nt._popup.options.closeOnEscapeKey)return;nt.closePopup()}stop(Ne)}}});js.addInitHook("addHandler","keyboard",op),js.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ap=tl.extend({addHooks:function(){on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(Ne){var et=getWheelDelta(Ne),tt=this._map.options.wheelDebounceTime;this._delta+=et,this._lastMousePos=this._map.mouseEventToContainerPoint(Ne),this._startTime||(this._startTime=+new Date);var nt=Math.max(tt-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(bind(this._performZoom,this),nt),stop(Ne)},_performZoom:function(){var Ne=this._map,et=Ne.getZoom(),tt=this._map.options.zoomSnap||0;Ne._stop();var nt=this._delta/(4*this._map.options.wheelPxPerZoomLevel),rt=4*Math.log(2/(1+Math.exp(-Math.abs(nt))))/Math.LN2,it=tt?Math.ceil(rt/tt)*tt:rt,ot=Ne._limitZoom(et+(this._delta>0?it:-it))-et;this._delta=0,this._startTime=null,ot&&("center"===Ne.options.scrollWheelZoom?Ne.setZoom(et+ot):Ne.setZoomAround(this._lastMousePos,et+ot))}});js.addInitHook("addHandler","scrollWheelZoom",ap),js.mergeOptions({tap:!0,tapTolerance:15});var sp=tl.extend({addHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(Ne){if(Ne.touches){if(preventDefault(Ne),this._fireClick=!0,Ne.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var et=Ne.touches[0],tt=et.target;this._startPos=this._newPos=new Point(et.clientX,et.clientY),tt.tagName&&"a"===tt.tagName.toLowerCase()&&addClass(tt,"leaflet-active"),this._holdTimeout=setTimeout(bind((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",et))}),this),1e3),this._simulateEvent("mousedown",et),on(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(Ne){if(clearTimeout(this._holdTimeout),off(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&Ne&&Ne.changedTouches){var et=Ne.changedTouches[0],tt=et.target;tt&&tt.tagName&&"a"===tt.tagName.toLowerCase()&&removeClass(tt,"leaflet-active"),this._simulateEvent("mouseup",et),this._isTapValid()&&this._simulateEvent("click",et)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(Ne){var et=Ne.touches[0];this._newPos=new Point(et.clientX,et.clientY),this._simulateEvent("mousemove",et)},_simulateEvent:function(Ne,et){var tt=document.createEvent("MouseEvents");tt._simulated=!0,et.target._simulatedClick=!0,tt.initMouseEvent(Ne,!0,!0,window,1,et.screenX,et.screenY,et.clientX,et.clientY,!1,!1,!1,!1,0,null),et.target.dispatchEvent(tt)}});vo&&!po&&js.addInitHook("addHandler","tap",sp),js.mergeOptions({touchZoom:vo&&!Ln,bounceAtZoomLimits:!0});var lp=tl.extend({addHooks:function(){addClass(this._map._container,"leaflet-touch-zoom"),on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){removeClass(this._map._container,"leaflet-touch-zoom"),off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(Ne){var et=this._map;if(Ne.touches&&2===Ne.touches.length&&!et._animatingZoom&&!this._zooming){var tt=et.mouseEventToContainerPoint(Ne.touches[0]),nt=et.mouseEventToContainerPoint(Ne.touches[1]);this._centerPoint=et.getSize()._divideBy(2),this._startLatLng=et.containerPointToLatLng(this._centerPoint),"center"!==et.options.touchZoom&&(this._pinchStartLatLng=et.containerPointToLatLng(tt.add(nt)._divideBy(2))),this._startDist=tt.distanceTo(nt),this._startZoom=et.getZoom(),this._moved=!1,this._zooming=!0,et._stop(),on(document,"touchmove",this._onTouchMove,this),on(document,"touchend",this._onTouchEnd,this),preventDefault(Ne)}},_onTouchMove:function(Ne){if(Ne.touches&&2===Ne.touches.length&&this._zooming){var et=this._map,tt=et.mouseEventToContainerPoint(Ne.touches[0]),nt=et.mouseEventToContainerPoint(Ne.touches[1]),rt=tt.distanceTo(nt)/this._startDist;if(this._zoom=et.getScaleZoom(rt,this._startZoom),!et.options.bounceAtZoomLimits&&(this._zoom<et.getMinZoom()&&rt<1||this._zoom>et.getMaxZoom()&&rt>1)&&(this._zoom=et._limitZoom(this._zoom)),"center"===et.options.touchZoom){if(this._center=this._startLatLng,1===rt)return}else{var it=tt._add(nt)._divideBy(2)._subtract(this._centerPoint);if(1===rt&&0===it.x&&0===it.y)return;this._center=et.unproject(et.project(this._pinchStartLatLng,this._zoom).subtract(it),this._zoom)}this._moved||(et._moveStart(!0,!1),this._moved=!0),cancelAnimFrame(this._animRequest);var ot=bind(et._move,et,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=requestAnimFrame(ot,this,!0),preventDefault(Ne)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,cancelAnimFrame(this._animRequest),off(document,"touchmove",this._onTouchMove),off(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});js.addInitHook("addHandler","touchZoom",lp),js.BoxZoom=Yc,js.DoubleClickZoom=rp,js.Drag=ip,js.Keyboard=op,js.ScrollWheelZoom=ap,js.Tap=sp,js.TouchZoom=lp,Object.freeze=et,Ne.version="1.6.0",Ne.Control=Ns,Ne.control=control,Ne.Browser=pa,Ne.Evented=ft,Ne.Mixin=sl,Ne.Util=pt,Ne.Class=Class,Ne.Handler=tl,Ne.extend=extend,Ne.bind=bind,Ne.stamp=stamp,Ne.setOptions=setOptions,Ne.DomEvent=Fs,Ne.DomUtil=Ls,Ne.PosAnimation=Bs,Ne.Draggable=vl,Ne.LineUtil=_l,Ne.PolyUtil=bl,Ne.Point=Point,Ne.point=toPoint,Ne.Bounds=Bounds,Ne.bounds=toBounds,Ne.Transformation=Transformation,Ne.transformation=toTransformation,Ne.Projection=Sl,Ne.LatLng=LatLng,Ne.latLng=toLatLng,Ne.LatLngBounds=LatLngBounds,Ne.latLngBounds=toLatLngBounds,Ne.CRS=vt,Ne.GeoJSON=yc,Ne.geoJSON=geoJSON,Ne.geoJson=bc,Ne.Layer=Al,Ne.LayerGroup=zl,Ne.layerGroup=function(Ne,et){return new zl(Ne,et)},Ne.FeatureGroup=Fl,Ne.featureGroup=function(Ne){return new Fl(Ne)},Ne.ImageOverlay=xc,Ne.imageOverlay=function(Ne,et,tt){return new xc(Ne,et,tt)},Ne.VideoOverlay=wc,Ne.videoOverlay=function videoOverlay(Ne,et,tt){return new wc(Ne,et,tt)},Ne.SVGOverlay=Ec,Ne.svgOverlay=function svgOverlay(Ne,et,tt){return new Ec(Ne,et,tt)},Ne.DivOverlay=Cc,Ne.Popup=kc,Ne.popup=function(Ne,et){return new kc(Ne,et)},Ne.Tooltip=Ic,Ne.tooltip=function(Ne,et){return new Ic(Ne,et)},Ne.Icon=Hl,Ne.icon=function icon(Ne){return new Hl(Ne)},Ne.DivIcon=Ac,Ne.divIcon=function divIcon(Ne){return new Ac(Ne)},Ne.Marker=_u,Ne.marker=function marker(Ne,et){return new _u(Ne,et)},Ne.TileLayer=Dc,Ne.tileLayer=tileLayer,Ne.GridLayer=zc,Ne.gridLayer=function gridLayer(Ne){return new zc(Ne)},Ne.SVG=Xc,Ne.svg=svg$1,Ne.Renderer=Bc,Ne.Canvas=Zc,Ne.canvas=canvas$1,Ne.Path=wu,Ne.CircleMarker=Tu,Ne.circleMarker=function circleMarker(Ne,et){return new Tu(Ne,et)},Ne.Circle=Fu,Ne.circle=function circle(Ne,et,tt){return new Fu(Ne,et,tt)},Ne.Polyline=ac,Ne.polyline=function polyline(Ne,et){return new ac(Ne,et)},Ne.Polygon=pc,Ne.polygon=function polygon(Ne,et){return new pc(Ne,et)},Ne.Rectangle=$c,Ne.rectangle=function rectangle(Ne,et){return new $c(Ne,et)},Ne.Map=js,Ne.map=function createMap(Ne,et){return new js(Ne,et)};var cp=window.L;Ne.noConflict=function(){return window.L=cp,this},window.L=Ne}(et)},function(Ne,et,tt){(et=tt(30)(!1)).push([Ne.i,".styles_wrapper-2VT{\n    width: 100%;\n    height: 100%;\n}",""]),et.locals={wrapper:"styles_wrapper-2VT"},Ne.exports=et},function(Ne,et,tt){(et=tt(30)(!1)).push([Ne.i,".styles_aboutWrapper-2FR{\n    display: flex;\n    height: 100%;\n    padding: 1.875rem;\n}\n\n.styles_header-2Co{\n    font-weight: bold;\n}\n\n\n\n",""]),et.locals={aboutWrapper:"styles_aboutWrapper-2FR",header:"styles_header-2Co"},Ne.exports=et},function(Ne,et,tt){"use strict";tt.r(et);var nt=tt(0),rt=tt.n(nt),it=tt(10),ot=tt.n(it),at=tt(14),st=tt(4),ct=tt.n(st),pt=tt(1);function isAbsolute(Ne){return"/"===Ne.charAt(0)}function spliceOne(Ne,et){for(var tt=et,nt=tt+1,rt=Ne.length;nt<rt;tt+=1,nt+=1)Ne[tt]=Ne[nt];Ne.pop()}var dt=function resolvePathname(Ne,et){void 0===et&&(et="");var tt,nt=Ne&&Ne.split("/")||[],rt=et&&et.split("/")||[],it=Ne&&isAbsolute(Ne),ot=et&&isAbsolute(et),at=it||ot;if(Ne&&isAbsolute(Ne)?rt=nt:nt.length&&(rt.pop(),rt=rt.concat(nt)),!rt.length)return"/";if(rt.length){var st=rt[rt.length-1];tt="."===st||".."===st||""===st}else tt=!1;for(var ct=0,pt=rt.length;pt>=0;pt--){var dt=rt[pt];"."===dt?spliceOne(rt,pt):".."===dt?(spliceOne(rt,pt),ct++):ct&&(spliceOne(rt,pt),ct--)}if(!at)for(;ct--;ct)rt.unshift("..");!at||""===rt[0]||rt[0]&&isAbsolute(rt[0])||rt.unshift("");var ft=rt.join("/");return tt&&"/"!==ft.substr(-1)&&(ft+="/"),ft};var ft=function invariant(Ne,et){if(!Ne)throw new Error("Invariant failed")};function addLeadingSlash(Ne){return"/"===Ne.charAt(0)?Ne:"/"+Ne}function stripLeadingSlash(Ne){return"/"===Ne.charAt(0)?Ne.substr(1):Ne}function stripBasename(Ne,et){return function hasBasename(Ne,et){return 0===Ne.toLowerCase().indexOf(et.toLowerCase())&&-1!=="/?#".indexOf(Ne.charAt(et.length))}(Ne,et)?Ne.substr(et.length):Ne}function stripTrailingSlash(Ne){return"/"===Ne.charAt(Ne.length-1)?Ne.slice(0,-1):Ne}function createPath(Ne){var et=Ne.pathname,tt=Ne.search,nt=Ne.hash,rt=et||"/";return tt&&"?"!==tt&&(rt+="?"===tt.charAt(0)?tt:"?"+tt),nt&&"#"!==nt&&(rt+="#"===nt.charAt(0)?nt:"#"+nt),rt}function createLocation(Ne,et,tt,nt){var rt;"string"==typeof Ne?(rt=function parsePath(Ne){var et=Ne||"/",tt="",nt="",rt=et.indexOf("#");-1!==rt&&(nt=et.substr(rt),et=et.substr(0,rt));var it=et.indexOf("?");return-1!==it&&(tt=et.substr(it),et=et.substr(0,it)),{pathname:et,search:"?"===tt?"":tt,hash:"#"===nt?"":nt}}(Ne)).state=et:(void 0===(rt=Object(pt.a)({},Ne)).pathname&&(rt.pathname=""),rt.search?"?"!==rt.search.charAt(0)&&(rt.search="?"+rt.search):rt.search="",rt.hash?"#"!==rt.hash.charAt(0)&&(rt.hash="#"+rt.hash):rt.hash="",void 0!==et&&void 0===rt.state&&(rt.state=et));try{rt.pathname=decodeURI(rt.pathname)}catch(Ne){throw Ne instanceof URIError?new URIError('Pathname "'+rt.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Ne}return tt&&(rt.key=tt),nt?rt.pathname?"/"!==rt.pathname.charAt(0)&&(rt.pathname=dt(rt.pathname,nt.pathname)):rt.pathname=nt.pathname:rt.pathname||(rt.pathname="/"),rt}function createTransitionManager(){var Ne=null;var et=[];return{setPrompt:function setPrompt(et){return Ne=et,function(){Ne===et&&(Ne=null)}},confirmTransitionTo:function confirmTransitionTo(et,tt,nt,rt){if(null!=Ne){var it="function"==typeof Ne?Ne(et,tt):Ne;"string"==typeof it?"function"==typeof nt?nt(it,rt):rt(!0):rt(!1!==it)}else rt(!0)},appendListener:function appendListener(Ne){var tt=!0;function listener(){tt&&Ne.apply(void 0,arguments)}return et.push(listener),function(){tt=!1,et=et.filter((function(Ne){return Ne!==listener}))}},notifyListeners:function notifyListeners(){for(var Ne=arguments.length,tt=new Array(Ne),nt=0;nt<Ne;nt++)tt[nt]=arguments[nt];et.forEach((function(Ne){return Ne.apply(void 0,tt)}))}}}var mt=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(Ne,et){et(window.confirm(Ne))}function getHistoryState(){try{return window.history.state||{}}catch(Ne){return{}}}function createBrowserHistory(Ne){void 0===Ne&&(Ne={}),mt||ft(!1);var et=window.history,tt=function supportsHistory(){var Ne=window.navigator.userAgent;return(-1===Ne.indexOf("Android 2.")&&-1===Ne.indexOf("Android 4.0")||-1===Ne.indexOf("Mobile Safari")||-1!==Ne.indexOf("Chrome")||-1!==Ne.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),nt=!function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}(),rt=Ne,it=rt.forceRefresh,ot=void 0!==it&&it,at=rt.getUserConfirmation,st=void 0===at?getConfirmation:at,ct=rt.keyLength,dt=void 0===ct?6:ct,yt=Ne.basename?stripTrailingSlash(addLeadingSlash(Ne.basename)):"";function getDOMLocation(Ne){var et=Ne||{},tt=et.key,nt=et.state,rt=window.location,it=rt.pathname+rt.search+rt.hash;return yt&&(it=stripBasename(it,yt)),createLocation(it,nt,tt)}function createKey(){return Math.random().toString(36).substr(2,dt)}var vt=createTransitionManager();function setState(Ne){Object(pt.a)(vn,Ne),vn.length=et.length,vt.notifyListeners(vn.location,vn.action)}function handlePopState(Ne){(function isExtraneousPopstateEvent(Ne){return void 0===Ne.state&&-1===navigator.userAgent.indexOf("CriOS")})(Ne)||handlePop(getDOMLocation(Ne.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var Ot=!1;function handlePop(Ne){if(Ot)Ot=!1,setState();else{vt.confirmTransitionTo(Ne,"POP",st,(function(et){et?setState({action:"POP",location:Ne}):function revertPop(Ne){var et=vn.location,tt=Rt.indexOf(et.key);-1===tt&&(tt=0);var nt=Rt.indexOf(Ne.key);-1===nt&&(nt=0);var rt=tt-nt;rt&&(Ot=!0,go(rt))}(Ne)}))}}var Dt=getDOMLocation(getHistoryState()),Rt=[Dt.key];function createHref(Ne){return yt+createPath(Ne)}function go(Ne){et.go(Ne)}var Bt=0;function checkDOMListeners(Ne){1===(Bt+=Ne)&&1===Ne?(window.addEventListener("popstate",handlePopState),nt&&window.addEventListener("hashchange",handleHashChange)):0===Bt&&(window.removeEventListener("popstate",handlePopState),nt&&window.removeEventListener("hashchange",handleHashChange))}var rn=!1;var vn={length:et.length,action:"POP",location:Dt,createHref:createHref,push:function push(Ne,nt){var rt=createLocation(Ne,nt,createKey(),vn.location);vt.confirmTransitionTo(rt,"PUSH",st,(function(Ne){if(Ne){var nt=createHref(rt),it=rt.key,at=rt.state;if(tt)if(et.pushState({key:it,state:at},null,nt),ot)window.location.href=nt;else{var st=Rt.indexOf(vn.location.key),ct=Rt.slice(0,st+1);ct.push(rt.key),Rt=ct,setState({action:"PUSH",location:rt})}else window.location.href=nt}}))},replace:function replace(Ne,nt){var rt=createLocation(Ne,nt,createKey(),vn.location);vt.confirmTransitionTo(rt,"REPLACE",st,(function(Ne){if(Ne){var nt=createHref(rt),it=rt.key,at=rt.state;if(tt)if(et.replaceState({key:it,state:at},null,nt),ot)window.location.replace(nt);else{var st=Rt.indexOf(vn.location.key);-1!==st&&(Rt[st]=rt.key),setState({action:"REPLACE",location:rt})}else window.location.replace(nt)}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(Ne){void 0===Ne&&(Ne=!1);var et=vt.setPrompt(Ne);return rn||(checkDOMListeners(1),rn=!0),function(){return rn&&(rn=!1,checkDOMListeners(-1)),et()}},listen:function listen(Ne){var et=vt.appendListener(Ne);return checkDOMListeners(1),function(){checkDOMListeners(-1),et()}}};return vn}var yt={hashbang:{encodePath:function encodePath(Ne){return"!"===Ne.charAt(0)?Ne:"!/"+stripLeadingSlash(Ne)},decodePath:function decodePath(Ne){return"!"===Ne.charAt(0)?Ne.substr(1):Ne}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(Ne){var et=Ne.indexOf("#");return-1===et?Ne:Ne.slice(0,et)}function getHashPath(){var Ne=window.location.href,et=Ne.indexOf("#");return-1===et?"":Ne.substring(et+1)}function replaceHashPath(Ne){window.location.replace(stripHash(window.location.href)+"#"+Ne)}function createHashHistory(Ne){void 0===Ne&&(Ne={}),mt||ft(!1);var et=window.history,tt=(function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}(),Ne),nt=tt.getUserConfirmation,rt=void 0===nt?getConfirmation:nt,it=tt.hashType,ot=void 0===it?"slash":it,at=Ne.basename?stripTrailingSlash(addLeadingSlash(Ne.basename)):"",st=yt[ot],ct=st.encodePath,dt=st.decodePath;function getDOMLocation(){var Ne=dt(getHashPath());return at&&(Ne=stripBasename(Ne,at)),createLocation(Ne)}var vt=createTransitionManager();function setState(Ne){Object(pt.a)(Cn,Ne),Cn.length=et.length,vt.notifyListeners(Cn.location,Cn.action)}var Ot=!1,Dt=null;function handleHashChange(){var Ne=getHashPath(),et=ct(Ne);if(Ne!==et)replaceHashPath(et);else{var tt=getDOMLocation(),nt=Cn.location;if(!Ot&&function locationsAreEqual$$1(Ne,et){return Ne.pathname===et.pathname&&Ne.search===et.search&&Ne.hash===et.hash}(nt,tt))return;if(Dt===createPath(tt))return;Dt=null,function handlePop(Ne){if(Ot)Ot=!1,setState();else{vt.confirmTransitionTo(Ne,"POP",rt,(function(et){et?setState({action:"POP",location:Ne}):function revertPop(Ne){var et=Cn.location,tt=vn.lastIndexOf(createPath(et));-1===tt&&(tt=0);var nt=vn.lastIndexOf(createPath(Ne));-1===nt&&(nt=0);var rt=tt-nt;rt&&(Ot=!0,go(rt))}(Ne)}))}}(tt)}}var Rt=getHashPath(),Bt=ct(Rt);Rt!==Bt&&replaceHashPath(Bt);var rn=getDOMLocation(),vn=[createPath(rn)];function go(Ne){et.go(Ne)}var bn=0;function checkDOMListeners(Ne){1===(bn+=Ne)&&1===Ne?window.addEventListener("hashchange",handleHashChange):0===bn&&window.removeEventListener("hashchange",handleHashChange)}var Tn=!1;var Cn={length:et.length,action:"POP",location:rn,createHref:function createHref(Ne){var et=document.querySelector("base"),tt="";return et&&et.getAttribute("href")&&(tt=stripHash(window.location.href)),tt+"#"+ct(at+createPath(Ne))},push:function push(Ne,et){var tt=createLocation(Ne,void 0,void 0,Cn.location);vt.confirmTransitionTo(tt,"PUSH",rt,(function(Ne){if(Ne){var et=createPath(tt),nt=ct(at+et);if(getHashPath()!==nt){Dt=et,function pushHashPath(Ne){window.location.hash=Ne}(nt);var rt=vn.lastIndexOf(createPath(Cn.location)),it=vn.slice(0,rt+1);it.push(et),vn=it,setState({action:"PUSH",location:tt})}else setState()}}))},replace:function replace(Ne,et){var tt=createLocation(Ne,void 0,void 0,Cn.location);vt.confirmTransitionTo(tt,"REPLACE",rt,(function(Ne){if(Ne){var et=createPath(tt),nt=ct(at+et);getHashPath()!==nt&&(Dt=et,replaceHashPath(nt));var rt=vn.indexOf(createPath(Cn.location));-1!==rt&&(vn[rt]=et),setState({action:"REPLACE",location:tt})}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(Ne){void 0===Ne&&(Ne=!1);var et=vt.setPrompt(Ne);return Tn||(checkDOMListeners(1),Tn=!0),function(){return Tn&&(Tn=!1,checkDOMListeners(-1)),et()}},listen:function listen(Ne){var et=vt.appendListener(Ne);return checkDOMListeners(1),function(){checkDOMListeners(-1),et()}}};return Cn}function clamp(Ne,et,tt){return Math.min(Math.max(Ne,et),tt)}function createMemoryHistory(Ne){void 0===Ne&&(Ne={});var et=Ne,tt=et.getUserConfirmation,nt=et.initialEntries,rt=void 0===nt?["/"]:nt,it=et.initialIndex,ot=void 0===it?0:it,at=et.keyLength,st=void 0===at?6:at,ct=createTransitionManager();function setState(Ne){Object(pt.a)(yt,Ne),yt.length=yt.entries.length,ct.notifyListeners(yt.location,yt.action)}function createKey(){return Math.random().toString(36).substr(2,st)}var dt=clamp(ot,0,rt.length-1),ft=rt.map((function(Ne){return createLocation(Ne,void 0,"string"==typeof Ne?createKey():Ne.key||createKey())})),mt=createPath;function go(Ne){var et=clamp(yt.index+Ne,0,yt.entries.length-1),nt=yt.entries[et];ct.confirmTransitionTo(nt,"POP",tt,(function(Ne){Ne?setState({action:"POP",location:nt,index:et}):setState()}))}var yt={length:ft.length,action:"POP",location:ft[dt],index:dt,entries:ft,createHref:mt,push:function push(Ne,et){var nt=createLocation(Ne,et,createKey(),yt.location);ct.confirmTransitionTo(nt,"PUSH",tt,(function(Ne){if(Ne){var et=yt.index+1,tt=yt.entries.slice(0);tt.length>et?tt.splice(et,tt.length-et,nt):tt.push(nt),setState({action:"PUSH",location:nt,index:et,entries:tt})}}))},replace:function replace(Ne,et){var nt=createLocation(Ne,et,createKey(),yt.location);ct.confirmTransitionTo(nt,"REPLACE",tt,(function(Ne){Ne&&(yt.entries[yt.index]=nt,setState({action:"REPLACE",location:nt}))}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},canGo:function canGo(Ne){var et=yt.index+Ne;return et>=0&&et<yt.entries.length},block:function block(Ne){return void 0===Ne&&(Ne=!1),ct.setPrompt(Ne)},listen:function listen(Ne){return ct.appendListener(Ne)}};return yt}var vt=tt(84),Ot=tt(85),Dt=tt.n(Ot),Rt=(tt(41),tt(18)),Bt=tt(67),rn=tt.n(Bt),vn=function createNamedContext(Ne){var et=Object(vt.a)();return et.displayName=Ne,et}("Router-History"),bn=function createNamedContext(Ne){var et=Object(vt.a)();return et.displayName=Ne,et}("Router"),Tn=function(Ne){function Router(et){var tt;return(tt=Ne.call(this,et)||this).state={location:et.history.location},tt._isMounted=!1,tt._pendingLocation=null,et.staticContext||(tt.unlisten=et.history.listen((function(Ne){tt._isMounted?tt.setState({location:Ne}):tt._pendingLocation=Ne}))),tt}Object(at.a)(Router,Ne),Router.computeRootMatch=function computeRootMatch(Ne){return{path:"/",url:"/",params:{},isExact:"/"===Ne}};var et=Router.prototype;return et.componentDidMount=function componentDidMount(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},et.componentWillUnmount=function componentWillUnmount(){this.unlisten&&this.unlisten()},et.render=function render(){return rt.a.createElement(bn.Provider,{value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},rt.a.createElement(vn.Provider,{children:this.props.children||null,value:this.props.history}))},Router}(rt.a.Component);rt.a.Component;rt.a.Component;var Cn={},In=0;function matchPath(Ne,et){void 0===et&&(et={}),("string"==typeof et||Array.isArray(et))&&(et={path:et});var tt=et,nt=tt.path,rt=tt.exact,it=void 0!==rt&&rt,ot=tt.strict,at=void 0!==ot&&ot,st=tt.sensitive,ct=void 0!==st&&st;return[].concat(nt).reduce((function(et,tt){if(!tt&&""!==tt)return null;if(et)return et;var nt=function compilePath$1(Ne,et){var tt=""+et.end+et.strict+et.sensitive,nt=Cn[tt]||(Cn[tt]={});if(nt[Ne])return nt[Ne];var rt=[],it={regexp:Dt()(Ne,rt,et),keys:rt};return In<1e4&&(nt[Ne]=it,In++),it}(tt,{end:it,strict:at,sensitive:ct}),rt=nt.regexp,ot=nt.keys,st=rt.exec(Ne);if(!st)return null;var pt=st[0],dt=st.slice(1),ft=Ne===pt;return it&&!ft?null:{path:tt,url:"/"===tt&&""===pt?"/":pt,isExact:ft,params:ot.reduce((function(Ne,et,tt){return Ne[et.name]=dt[tt],Ne}),{})}}),null)}var Ln=function(Ne){function Route(){return Ne.apply(this,arguments)||this}return Object(at.a)(Route,Ne),Route.prototype.render=function render(){var Ne=this;return rt.a.createElement(bn.Consumer,null,(function(et){et||ft(!1);var tt=Ne.props.location||et.location,nt=Ne.props.computedMatch?Ne.props.computedMatch:Ne.props.path?matchPath(tt.pathname,Ne.props):et.match,it=Object(pt.a)({},et,{location:tt,match:nt}),ot=Ne.props,at=ot.children,st=ot.component,ct=ot.render;return Array.isArray(at)&&0===at.length&&(at=null),rt.a.createElement(bn.Provider,{value:it},it.match?at?"function"==typeof at?at(it):at:st?rt.a.createElement(st,it):ct?ct(it):null:"function"==typeof at?at(it):null)}))},Route}(rt.a.Component);function react_router_addLeadingSlash(Ne){return"/"===Ne.charAt(0)?Ne:"/"+Ne}function react_router_stripBasename(Ne,et){if(!Ne)return et;var tt=react_router_addLeadingSlash(Ne);return 0!==et.pathname.indexOf(tt)?et:Object(pt.a)({},et,{pathname:et.pathname.substr(tt.length)})}function createURL(Ne){return"string"==typeof Ne?Ne:createPath(Ne)}function staticHandler(Ne){return function(){ft(!1)}}function noop(){}rt.a.Component;var Mn=function(Ne){function Switch(){return Ne.apply(this,arguments)||this}return Object(at.a)(Switch,Ne),Switch.prototype.render=function render(){var Ne=this;return rt.a.createElement(bn.Consumer,null,(function(et){et||ft(!1);var tt,nt,it=Ne.props.location||et.location;return rt.a.Children.forEach(Ne.props.children,(function(Ne){if(null==nt&&rt.a.isValidElement(Ne)){tt=Ne;var ot=Ne.props.path||Ne.props.from;nt=ot?matchPath(it.pathname,Object(pt.a)({},Ne.props,{path:ot})):et.match}})),nt?rt.a.cloneElement(tt,{location:it,computedMatch:nt}):null}))},Switch}(rt.a.Component);function withRouter(Ne){var et="withRouter("+(Ne.displayName||Ne.name)+")",tt=function C(et){var tt=et.wrappedComponentRef,nt=Object(Rt.a)(et,["wrappedComponentRef"]);return rt.a.createElement(bn.Consumer,null,(function(et){return et||ft(!1),rt.a.createElement(Ne,Object(pt.a)({},nt,et,{ref:tt}))}))};return tt.displayName=et,tt.WrappedComponent=Ne,rn()(tt,Ne)}rt.a.useContext;var zn=function(Ne){function BrowserRouter(){for(var et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(et=Ne.call.apply(Ne,[this].concat(nt))||this).history=createBrowserHistory(et.props),et}return Object(at.a)(BrowserRouter,Ne),BrowserRouter.prototype.render=function render(){return rt.a.createElement(Tn,{history:this.history,children:this.props.children})},BrowserRouter}(rt.a.Component);rt.a.Component;var Fn=function resolveToLocation(Ne,et){return"function"==typeof Ne?Ne(et):Ne},Bn=function normalizeToLocation(Ne,et){return"string"==typeof Ne?createLocation(Ne,null,null,et):Ne},Nn=function forwardRefShim(Ne){return Ne},Vn=rt.a.forwardRef;void 0===Vn&&(Vn=Nn);var Wn=Vn((function(Ne,et){var tt=Ne.innerRef,nt=Ne.navigate,it=Ne.onClick,ot=Object(Rt.a)(Ne,["innerRef","navigate","onClick"]),at=ot.target,st=Object(pt.a)({},ot,{onClick:function onClick(Ne){try{it&&it(Ne)}catch(et){throw Ne.preventDefault(),et}Ne.defaultPrevented||0!==Ne.button||at&&"_self"!==at||function isModifiedEvent(Ne){return!!(Ne.metaKey||Ne.altKey||Ne.ctrlKey||Ne.shiftKey)}(Ne)||(Ne.preventDefault(),nt())}});return st.ref=Nn!==Vn&&et||tt,rt.a.createElement("a",st)}));var $n=Vn((function(Ne,et){var tt=Ne.component,nt=void 0===tt?Wn:tt,it=Ne.replace,ot=Ne.to,at=Ne.innerRef,st=Object(Rt.a)(Ne,["component","replace","to","innerRef"]);return rt.a.createElement(bn.Consumer,null,(function(Ne){Ne||ft(!1);var tt=Ne.history,ct=Bn(Fn(ot,Ne.location),Ne.location),dt=ct?tt.createHref(ct):"",mt=Object(pt.a)({},st,{href:dt,navigate:function navigate(){var et=Fn(ot,Ne.location);(it?tt.replace:tt.push)(et)}});return Nn!==Vn?mt.ref=et||at:mt.innerRef=at,rt.a.createElement(nt,mt)}))})),Yn=function forwardRefShim(Ne){return Ne},er=rt.a.forwardRef;void 0===er&&(er=Yn);var rr=er((function(Ne,et){var tt=Ne["aria-current"],nt=void 0===tt?"page":tt,it=Ne.activeClassName,ot=void 0===it?"active":it,at=Ne.activeStyle,st=Ne.className,ct=Ne.exact,dt=Ne.isActive,mt=Ne.location,yt=Ne.sensitive,vt=Ne.strict,Ot=Ne.style,Dt=Ne.to,Bt=Ne.innerRef,rn=Object(Rt.a)(Ne,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return rt.a.createElement(bn.Consumer,null,(function(Ne){Ne||ft(!1);var tt=mt||Ne.location,it=Bn(Fn(Dt,tt),tt),Rt=it.pathname,vn=Rt&&Rt.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),bn=vn?matchPath(tt.pathname,{path:vn,exact:ct,sensitive:yt,strict:vt}):null,Tn=!!(dt?dt(bn,tt):bn),Cn=Tn?function joinClassnames(){for(var Ne=arguments.length,et=new Array(Ne),tt=0;tt<Ne;tt++)et[tt]=arguments[tt];return et.filter((function(Ne){return Ne})).join(" ")}(st,ot):st,In=Tn?Object(pt.a)({},Ot,{},at):Ot,Ln=Object(pt.a)({"aria-current":Tn&&nt||null,className:Cn,style:In,to:it},rn);return Yn!==er?Ln.ref=et||Bt:Ln.innerRef=Bt,rt.a.createElement($n,Ln)}))})),vr=(tt(136),tt(20)),wr=tt(83);class Explore_Explore extends nt.Component{render(){return rt.a.createElement("div",{className:wr.exploreWrapper},rt.a.createElement("span",{className:wr.header},"Explore data"))}}var Sr=withRouter(Explore_Explore),ii=(tt(72),tt(174),tt(44),tt(45),tt(46),tt(47),tt(48),tt(49),tt(50),tt(51),tt(52),tt(53),tt(54),tt(55),tt(56),tt(57),tt(58),tt(59),tt(70));function areInputsEqual(Ne,et){if(Ne.length!==et.length)return!1;for(var tt=0;tt<Ne.length;tt++)if(Ne[tt]!==et[tt])return!1;return!0}var qi=function memoizeOne(Ne,et){var tt;void 0===et&&(et=areInputsEqual);var nt,rt=[],it=!1;return function memoized(){for(var ot=[],at=0;at<arguments.length;at++)ot[at]=arguments[at];return it&&tt===this&&et(ot,rt)||(nt=Ne.apply(this,ot),it=!0,tt=this,rt=ot),nt}},uo=tt(127),po=tt.n(uo);var vo=function(){function StyleSheet(Ne){this.isSpeedy=void 0===Ne.speedy||Ne.speedy,this.tags=[],this.ctr=0,this.nonce=Ne.nonce,this.key=Ne.key,this.container=Ne.container,this.before=null}var Ne=StyleSheet.prototype;return Ne.insert=function insert(Ne){if(this.ctr%(this.isSpeedy?65e3:1)==0){var et,tt=function createStyleElement(Ne){var et=document.createElement("style");return et.setAttribute("data-emotion",Ne.key),void 0!==Ne.nonce&&et.setAttribute("nonce",Ne.nonce),et.appendChild(document.createTextNode("")),et}(this);et=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(tt,et),this.tags.push(tt)}var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var rt=function sheetForTag(Ne){if(Ne.sheet)return Ne.sheet;for(var et=0;et<document.styleSheets.length;et++)if(document.styleSheets[et].ownerNode===Ne)return document.styleSheets[et]}(nt);try{var it=105===Ne.charCodeAt(1)&&64===Ne.charCodeAt(0);rt.insertRule(Ne,it?0:rt.cssRules.length)}catch(Ne){0}}else nt.appendChild(document.createTextNode(Ne));this.ctr++},Ne.flush=function flush(){this.tags.forEach((function(Ne){return Ne.parentNode.removeChild(Ne)})),this.tags=[],this.ctr=0},StyleSheet}();var So=function stylis_min(Ne){function X(Ne,et,tt){var nt=et.trim().split(ot);et=nt;var rt=nt.length,it=Ne.length;switch(it){case 0:case 1:var at=0;for(Ne=0===it?"":Ne[0]+" ";at<rt;++at)et[at]=Z(Ne,et[at],tt).trim();break;default:var st=at=0;for(et=[];at<rt;++at)for(var ct=0;ct<it;++ct)et[st++]=Z(Ne[ct]+" ",nt[at],tt).trim()}return et}function Z(Ne,et,tt){var nt=et.charCodeAt(0);switch(33>nt&&(nt=(et=et.trim()).charCodeAt(0)),nt){case 38:return et.replace(at,"$1"+Ne.trim());case 58:return Ne.trim()+et.replace(at,"$1"+Ne.trim());default:if(0<1*tt&&0<et.indexOf("\f"))return et.replace(at,(58===Ne.charCodeAt(0)?"":"$1")+Ne.trim())}return Ne+et}function P(Ne,et,tt,ot){var at=Ne+";",st=2*et+3*tt+4*ot;if(944===st){Ne=at.indexOf(":",9)+1;var ct=at.substring(Ne,at.length-1).trim();return ct=at.substring(0,Ne).trim()+ct+";",1===vn||2===vn&&L(ct,1)?"-webkit-"+ct+ct:ct}if(0===vn||2===vn&&!L(at,1))return at;switch(st){case 1015:return 97===at.charCodeAt(10)?"-webkit-"+at+at:at;case 951:return 116===at.charCodeAt(3)?"-webkit-"+at+at:at;case 963:return 110===at.charCodeAt(5)?"-webkit-"+at+at:at;case 1009:if(100!==at.charCodeAt(4))break;case 969:case 942:return"-webkit-"+at+at;case 978:return"-webkit-"+at+"-moz-"+at+at;case 1019:case 983:return"-webkit-"+at+"-moz-"+at+"-ms-"+at+at;case 883:if(45===at.charCodeAt(8))return"-webkit-"+at+at;if(0<at.indexOf("image-set(",11))return at.replace(Dt,"$1-webkit-$2")+at;break;case 932:if(45===at.charCodeAt(4))switch(at.charCodeAt(5)){case 103:return"-webkit-box-"+at.replace("-grow","")+"-webkit-"+at+"-ms-"+at.replace("grow","positive")+at;case 115:return"-webkit-"+at+"-ms-"+at.replace("shrink","negative")+at;case 98:return"-webkit-"+at+"-ms-"+at.replace("basis","preferred-size")+at}return"-webkit-"+at+"-ms-"+at+at;case 964:return"-webkit-"+at+"-ms-flex-"+at+at;case 1023:if(99!==at.charCodeAt(8))break;return"-webkit-box-pack"+(ct=at.substring(at.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+at+"-ms-flex-pack"+ct+at;case 1005:return rt.test(at)?at.replace(nt,":-webkit-")+at.replace(nt,":-moz-")+at:at;case 1e3:switch(et=(ct=at.substring(13).trim()).indexOf("-")+1,ct.charCodeAt(0)+ct.charCodeAt(et)){case 226:ct=at.replace(dt,"tb");break;case 232:ct=at.replace(dt,"tb-rl");break;case 220:ct=at.replace(dt,"lr");break;default:return at}return"-webkit-"+at+"-ms-"+ct+at;case 1017:if(-1===at.indexOf("sticky",9))break;case 975:switch(et=(at=Ne).length-10,st=(ct=(33===at.charCodeAt(et)?at.substring(0,et):at).substring(Ne.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|ct.charCodeAt(7))){case 203:if(111>ct.charCodeAt(8))break;case 115:at=at.replace(ct,"-webkit-"+ct)+";"+at;break;case 207:case 102:at=at.replace(ct,"-webkit-"+(102<st?"inline-":"")+"box")+";"+at.replace(ct,"-webkit-"+ct)+";"+at.replace(ct,"-ms-"+ct+"box")+";"+at}return at+";";case 938:if(45===at.charCodeAt(5))switch(at.charCodeAt(6)){case 105:return ct=at.replace("-items",""),"-webkit-"+at+"-webkit-box-"+ct+"-ms-flex-"+ct+at;case 115:return"-webkit-"+at+"-ms-flex-item-"+at.replace(yt,"")+at;default:return"-webkit-"+at+"-ms-flex-line-pack"+at.replace("align-content","").replace(yt,"")+at}break;case 973:case 989:if(45!==at.charCodeAt(3)||122===at.charCodeAt(4))break;case 931:case 953:if(!0===Ot.test(Ne))return 115===(ct=Ne.substring(Ne.indexOf(":")+1)).charCodeAt(0)?P(Ne.replace("stretch","fill-available"),et,tt,ot).replace(":fill-available",":stretch"):at.replace(ct,"-webkit-"+ct)+at.replace(ct,"-moz-"+ct.replace("fill-",""))+at;break;case 962:if(at="-webkit-"+at+(102===at.charCodeAt(5)?"-ms-"+at:"")+at,211===tt+ot&&105===at.charCodeAt(13)&&0<at.indexOf("transform",10))return at.substring(0,at.indexOf(";",27)+1).replace(it,"$1-webkit-$2")+at}return at}function L(Ne,et){var tt=Ne.indexOf(1===et?":":"{"),nt=Ne.substring(0,3!==et?tt:10);return tt=Ne.substring(tt+1,Ne.length-1),In(2!==et?nt:nt.replace(vt,"$1"),tt,et)}function ea(Ne,et){var tt=P(et,et.charCodeAt(0),et.charCodeAt(1),et.charCodeAt(2));return tt!==et+";"?tt.replace(mt," or ($1)").substring(4):"("+et+")"}function H(Ne,et,tt,nt,rt,it,ot,at,st,ct){for(var pt,dt=0,ft=et;dt<Cn;++dt)switch(pt=Tn[dt].call(B,Ne,ft,tt,nt,rt,it,ot,at,st,ct)){case void 0:case!1:case!0:case null:break;default:ft=pt}if(ft!==et)return ft}function U(Ne){return void 0!==(Ne=Ne.prefix)&&(In=null,Ne?"function"!=typeof Ne?vn=1:(vn=2,In=Ne):vn=0),U}function B(Ne,nt){var rt=Ne;if(33>rt.charCodeAt(0)&&(rt=rt.trim()),rt=[rt],0<Cn){var it=H(-1,nt,rt,rt,Bt,Rt,0,0,0,0);void 0!==it&&"string"==typeof it&&(nt=it)}var ot=function M(Ne,nt,rt,it,ot){for(var at,dt,mt,yt,vt,Ot=0,Dt=0,Tn=0,In=0,Mn=0,zn=0,Fn=mt=at=0,Bn=0,Nn=0,Vn=0,Wn=0,$n=rt.length,Yn=$n-1,er="",rr="",vr="",wr="";Bn<$n;){if(dt=rt.charCodeAt(Bn),Bn===Yn&&0!==Dt+In+Tn+Ot&&(0!==Dt&&(dt=47===Dt?10:47),In=Tn=Ot=0,$n++,Yn++),0===Dt+In+Tn+Ot){if(Bn===Yn&&(0<Nn&&(er=er.replace(tt,"")),0<er.trim().length)){switch(dt){case 32:case 9:case 59:case 13:case 10:break;default:er+=rt.charAt(Bn)}dt=59}switch(dt){case 123:for(at=(er=er.trim()).charCodeAt(0),mt=1,Wn=++Bn;Bn<$n;){switch(dt=rt.charCodeAt(Bn)){case 123:mt++;break;case 125:mt--;break;case 47:switch(dt=rt.charCodeAt(Bn+1)){case 42:case 47:e:{for(Fn=Bn+1;Fn<Yn;++Fn)switch(rt.charCodeAt(Fn)){case 47:if(42===dt&&42===rt.charCodeAt(Fn-1)&&Bn+2!==Fn){Bn=Fn+1;break e}break;case 10:if(47===dt){Bn=Fn+1;break e}}Bn=Fn}}break;case 91:dt++;case 40:dt++;case 34:case 39:for(;Bn++<Yn&&rt.charCodeAt(Bn)!==dt;);}if(0===mt)break;Bn++}switch(mt=rt.substring(Wn,Bn),0===at&&(at=(er=er.replace(et,"").trim()).charCodeAt(0)),at){case 64:switch(0<Nn&&(er=er.replace(tt,"")),dt=er.charCodeAt(1)){case 100:case 109:case 115:case 45:Nn=nt;break;default:Nn=bn}if(Wn=(mt=M(nt,Nn,mt,dt,ot+1)).length,0<Cn&&(vt=H(3,mt,Nn=X(bn,er,Vn),nt,Bt,Rt,Wn,dt,ot,it),er=Nn.join(""),void 0!==vt&&0===(Wn=(mt=vt.trim()).length)&&(dt=0,mt="")),0<Wn)switch(dt){case 115:er=er.replace(ft,ea);case 100:case 109:case 45:mt=er+"{"+mt+"}";break;case 107:mt=(er=er.replace(st,"$1 $2"))+"{"+mt+"}",mt=1===vn||2===vn&&L("@"+mt,3)?"@-webkit-"+mt+"@"+mt:"@"+mt;break;default:mt=er+mt,112===it&&(rr+=mt,mt="")}else mt="";break;default:mt=M(nt,X(nt,er,Vn),mt,it,ot+1)}vr+=mt,mt=Vn=Nn=Fn=at=0,er="",dt=rt.charCodeAt(++Bn);break;case 125:case 59:if(1<(Wn=(er=(0<Nn?er.replace(tt,""):er).trim()).length))switch(0===Fn&&(at=er.charCodeAt(0),45===at||96<at&&123>at)&&(Wn=(er=er.replace(" ",":")).length),0<Cn&&void 0!==(vt=H(1,er,nt,Ne,Bt,Rt,rr.length,it,ot,it))&&0===(Wn=(er=vt.trim()).length)&&(er="\0\0"),at=er.charCodeAt(0),dt=er.charCodeAt(1),at){case 0:break;case 64:if(105===dt||99===dt){wr+=er+rt.charAt(Bn);break}default:58!==er.charCodeAt(Wn-1)&&(rr+=P(er,at,dt,er.charCodeAt(2)))}Vn=Nn=Fn=at=0,er="",dt=rt.charCodeAt(++Bn)}}switch(dt){case 13:case 10:47===Dt?Dt=0:0===1+at&&107!==it&&0<er.length&&(Nn=1,er+="\0"),0<Cn*Ln&&H(0,er,nt,Ne,Bt,Rt,rr.length,it,ot,it),Rt=1,Bt++;break;case 59:case 125:if(0===Dt+In+Tn+Ot){Rt++;break}default:switch(Rt++,yt=rt.charAt(Bn),dt){case 9:case 32:if(0===In+Ot+Dt)switch(Mn){case 44:case 58:case 9:case 32:yt="";break;default:32!==dt&&(yt=" ")}break;case 0:yt="\\0";break;case 12:yt="\\f";break;case 11:yt="\\v";break;case 38:0===In+Dt+Ot&&(Nn=Vn=1,yt="\f"+yt);break;case 108:if(0===In+Dt+Ot+rn&&0<Fn)switch(Bn-Fn){case 2:112===Mn&&58===rt.charCodeAt(Bn-3)&&(rn=Mn);case 8:111===zn&&(rn=zn)}break;case 58:0===In+Dt+Ot&&(Fn=Bn);break;case 44:0===Dt+Tn+In+Ot&&(Nn=1,yt+="\r");break;case 34:case 39:0===Dt&&(In=In===dt?0:0===In?dt:In);break;case 91:0===In+Dt+Tn&&Ot++;break;case 93:0===In+Dt+Tn&&Ot--;break;case 41:0===In+Dt+Ot&&Tn--;break;case 40:if(0===In+Dt+Ot){if(0===at)switch(2*Mn+3*zn){case 533:break;default:at=1}Tn++}break;case 64:0===Dt+Tn+In+Ot+Fn+mt&&(mt=1);break;case 42:case 47:if(!(0<In+Ot+Tn))switch(Dt){case 0:switch(2*dt+3*rt.charCodeAt(Bn+1)){case 235:Dt=47;break;case 220:Wn=Bn,Dt=42}break;case 42:47===dt&&42===Mn&&Wn+2!==Bn&&(33===rt.charCodeAt(Wn+2)&&(rr+=rt.substring(Wn,Bn+1)),yt="",Dt=0)}}0===Dt&&(er+=yt)}zn=Mn,Mn=dt,Bn++}if(0<(Wn=rr.length)){if(Nn=nt,0<Cn&&(void 0!==(vt=H(2,rr,Nn,Ne,Bt,Rt,Wn,it,ot,it))&&0===(rr=vt).length))return wr+rr+vr;if(rr=Nn.join(",")+"{"+rr+"}",0!=vn*rn){switch(2!==vn||L(rr,2)||(rn=0),rn){case 111:rr=rr.replace(pt,":-moz-$1")+rr;break;case 112:rr=rr.replace(ct,"::-webkit-input-$1")+rr.replace(ct,"::-moz-$1")+rr.replace(ct,":-ms-input-$1")+rr}rn=0}}return wr+rr+vr}(bn,rt,nt,0,0);return 0<Cn&&(void 0!==(it=H(-2,ot,rt,rt,Bt,Rt,ot.length,0,0,0))&&(ot=it)),"",rn=0,Rt=Bt=1,ot}var et=/^\0+/g,tt=/[\0\r\f]/g,nt=/: */g,rt=/zoo|gra/,it=/([,: ])(transform)/g,ot=/,\r+?/g,at=/([\t\r\n ])*\f?&/g,st=/@(k\w+)\s*(\S*)\s*/,ct=/::(place)/g,pt=/:(read-only)/g,dt=/[svh]\w+-[tblr]{2}/,ft=/\(\s*(.*)\s*\)/g,mt=/([\s\S]*?);/g,yt=/-self|flex-/g,vt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Ot=/stretch|:\s*\w+\-(?:conte|avail)/,Dt=/([^-])(image-set\()/,Rt=1,Bt=1,rn=0,vn=1,bn=[],Tn=[],Cn=0,In=null,Ln=0;return B.use=function T(Ne){switch(Ne){case void 0:case null:Cn=Tn.length=0;break;default:if("function"==typeof Ne)Tn[Cn++]=Ne;else if("object"==typeof Ne)for(var et=0,tt=Ne.length;et<tt;++et)T(Ne[et]);else Ln=0|!!Ne}return T},B.set=U,void 0!==Ne&&U(Ne),B};function toSheet(Ne){Ne&&ta.current.insert(Ne+"}")}var ta={current:null},na=function ruleSheet(Ne,et,tt,nt,rt,it,ot,at,st,ct){switch(Ne){case 1:switch(et.charCodeAt(0)){case 64:return ta.current.insert(et+";"),"";case 108:if(98===et.charCodeAt(2))return""}break;case 2:if(0===at)return et+"/*|*/";break;case 3:switch(at){case 102:case 112:return ta.current.insert(tt[0]+et),"";default:return et+(0===ct?"/*|*/":"")}case-2:et.split("/*|*/}").forEach(toSheet)}},ia=function createCache(Ne){void 0===Ne&&(Ne={});var et,tt=Ne.key||"css";void 0!==Ne.prefix&&(et={prefix:Ne.prefix});var nt=new So(et);var rt,it={};rt=Ne.container||document.head;var ot,at=document.querySelectorAll("style[data-emotion-"+tt+"]");Array.prototype.forEach.call(at,(function(Ne){Ne.getAttribute("data-emotion-"+tt).split(" ").forEach((function(Ne){it[Ne]=!0})),Ne.parentNode!==rt&&rt.appendChild(Ne)})),nt.use(Ne.stylisPlugins)(na),ot=function insert(Ne,et,tt,rt){var it=et.name;ta.current=tt,nt(Ne,et.styles),rt&&(st.inserted[it]=!0)};var st={key:tt,sheet:new vo({key:tt,container:rt,nonce:Ne.nonce,speedy:Ne.speedy}),nonce:Ne.nonce,inserted:it,registered:{},insert:ot};return st};function getRegisteredStyles(Ne,et,tt){var nt="";return tt.split(" ").forEach((function(tt){void 0!==Ne[tt]?et.push(Ne[tt]):nt+=tt+" "})),nt}var sa=function insertStyles(Ne,et,tt){var nt=Ne.key+"-"+et.name;if(!1===tt&&void 0===Ne.registered[nt]&&(Ne.registered[nt]=et.styles),void 0===Ne.inserted[et.name]){var rt=et;do{Ne.insert("."+nt,rt,Ne.sheet,!0);rt=rt.next}while(void 0!==rt)}};var la=function murmur2(Ne){for(var et,tt=0,nt=0,rt=Ne.length;rt>=4;++nt,rt-=4)et=1540483477*(65535&(et=255&Ne.charCodeAt(nt)|(255&Ne.charCodeAt(++nt))<<8|(255&Ne.charCodeAt(++nt))<<16|(255&Ne.charCodeAt(++nt))<<24))+(59797*(et>>>16)<<16),tt=1540483477*(65535&(et^=et>>>24))+(59797*(et>>>16)<<16)^1540483477*(65535&tt)+(59797*(tt>>>16)<<16);switch(rt){case 3:tt^=(255&Ne.charCodeAt(nt+2))<<16;case 2:tt^=(255&Ne.charCodeAt(nt+1))<<8;case 1:tt=1540483477*(65535&(tt^=255&Ne.charCodeAt(nt)))+(59797*(tt>>>16)<<16)}return(((tt=1540483477*(65535&(tt^=tt>>>13))+(59797*(tt>>>16)<<16))^tt>>>15)>>>0).toString(36)},pa={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var fa=/[A-Z]|^ms/g,ga=/_EMO_([^_]+?)_([^]*?)_EMO_/g,va=function isCustomProperty(Ne){return 45===Ne.charCodeAt(1)},_a=function isProcessableValue(Ne){return null!=Ne&&"boolean"!=typeof Ne},wa=function memoize(Ne){var et={};return function(tt){return void 0===et[tt]&&(et[tt]=Ne(tt)),et[tt]}}((function(Ne){return va(Ne)?Ne:Ne.replace(fa,"-$&").toLowerCase()})),Aa=function processStyleValue(Ne,et){switch(Ne){case"animation":case"animationName":if("string"==typeof et)return et.replace(ga,(function(Ne,et,tt){return os={name:et,styles:tt,next:os},et}))}return 1===pa[Ne]||va(Ne)||"number"!=typeof et||0===et?et:et+"px"};function handleInterpolation(Ne,et,tt,nt){if(null==tt)return"";if(void 0!==tt.__emotion_styles)return tt;switch(typeof tt){case"boolean":return"";case"object":if(1===tt.anim)return os={name:tt.name,styles:tt.styles,next:os},tt.name;if(void 0!==tt.styles){var rt=tt.next;if(void 0!==rt)for(;void 0!==rt;)os={name:rt.name,styles:rt.styles,next:os},rt=rt.next;return tt.styles+";"}return function createStringFromObject(Ne,et,tt){var nt="";if(Array.isArray(tt))for(var rt=0;rt<tt.length;rt++)nt+=handleInterpolation(Ne,et,tt[rt],!1);else for(var it in tt){var ot=tt[it];if("object"!=typeof ot)null!=et&&void 0!==et[ot]?nt+=it+"{"+et[ot]+"}":_a(ot)&&(nt+=wa(it)+":"+Aa(it,ot)+";");else if(!Array.isArray(ot)||"string"!=typeof ot[0]||null!=et&&void 0!==et[ot[0]]){var at=handleInterpolation(Ne,et,ot,!1);switch(it){case"animation":case"animationName":nt+=wa(it)+":"+at+";";break;default:nt+=it+"{"+at+"}"}}else for(var st=0;st<ot.length;st++)_a(ot[st])&&(nt+=wa(it)+":"+Aa(it,ot[st])+";")}return nt}(Ne,et,tt);case"function":if(void 0!==Ne){var it=os,ot=tt(Ne);return os=it,handleInterpolation(Ne,et,ot,nt)}break;case"string":}if(null==et)return tt;var at=et[tt];return void 0===at||nt?tt:at}var os,as=/label:\s*([^\s;\n{]+)\s*;/g;var ss=function serializeStyles(Ne,et,tt){if(1===Ne.length&&"object"==typeof Ne[0]&&null!==Ne[0]&&void 0!==Ne[0].styles)return Ne[0];var nt=!0,rt="";os=void 0;var it=Ne[0];null==it||void 0===it.raw?(nt=!1,rt+=handleInterpolation(tt,et,it,!1)):rt+=it[0];for(var ot=1;ot<Ne.length;ot++)rt+=handleInterpolation(tt,et,Ne[ot],46===rt.charCodeAt(rt.length-1)),nt&&(rt+=it[ot]);as.lastIndex=0;for(var at,st="";null!==(at=as.exec(rt));)st+="-"+at[1];return{name:la(rt)+st,styles:rt,next:os}};var ls=function css_browser_esm_css(){for(var Ne=arguments.length,et=new Array(Ne),tt=0;tt<Ne;tt++)et[tt]=arguments[tt];return ss(et)},us=Object(nt.createContext)("undefined"!=typeof HTMLElement?ia():null),fs=Object(nt.createContext)({}),gs=us.Provider,vs=function withEmotionCache(Ne){return Object(nt.forwardRef)((function render(et,tt){return Object(nt.createElement)(us.Consumer,null,(function(nt){return Ne(et,nt,tt)}))}))},xs="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ss=Object.prototype.hasOwnProperty,Es=function render(Ne,et,tt,rt){var it=null===tt?et.css:et.css(tt);"string"==typeof it&&void 0!==Ne.registered[it]&&(it=Ne.registered[it]);var ot=et[xs],at=[it],st="";"string"==typeof et.className?st=getRegisteredStyles(Ne.registered,at,et.className):null!=et.className&&(st=et.className+" ");var ct=ss(at);sa(Ne,ct,"string"==typeof ot);st+=Ne.key+"-"+ct.name;var pt={};for(var dt in et)Ss.call(et,dt)&&"css"!==dt&&dt!==xs&&(pt[dt]=et[dt]);return pt.ref=rt,pt.className=st,Object(nt.createElement)(ot,pt)},Cs=vs((function(Ne,et,tt){return"function"==typeof Ne.css?Object(nt.createElement)(fs.Consumer,null,(function(nt){return Es(et,Ne,nt,tt)})):Es(et,Ne,null,tt)}));var Ps=function jsx(Ne,et){var tt=arguments;if(null==et||!Ss.call(et,"css"))return nt.createElement.apply(void 0,tt);var rt=tt.length,it=new Array(rt);it[0]=Cs;var ot={};for(var at in et)Ss.call(et,at)&&(ot[at]=et[at]);ot[xs]=Ne,it[1]=ot;for(var st=2;st<rt;st++)it[st]=tt[st];return nt.createElement.apply(null,it)},As=(nt.Component,function classnames(Ne){for(var et=Ne.length,tt=0,nt="";tt<et;tt++){var rt=Ne[tt];if(null!=rt){var it=void 0;switch(typeof rt){case"boolean":break;case"object":if(Array.isArray(rt))it=classnames(rt);else for(var ot in it="",rt)rt[ot]&&ot&&(it&&(it+=" "),it+=ot);break;default:it=rt}it&&(nt&&(nt+=" "),nt+=it)}}return nt});function merge(Ne,et,tt){var nt=[],rt=getRegisteredStyles(Ne,nt,tt);return nt.length<2?tt:rt+et(nt)}var Ls=vs((function(Ne,et){return Object(nt.createElement)(fs.Consumer,null,(function(tt){var nt=function css(){for(var Ne=arguments.length,tt=new Array(Ne),nt=0;nt<Ne;nt++)tt[nt]=arguments[nt];var rt=ss(tt,et.registered);return sa(et,rt,!1),et.key+"-"+rt.name},rt={css:nt,cx:function cx(){for(var Ne=arguments.length,tt=new Array(Ne),rt=0;rt<Ne;rt++)tt[rt]=arguments[rt];return merge(et.registered,nt,As(tt))},theme:tt},it=Ne.children(rt);return!0,it}))})),Ms=function noop(){};function applyPrefixToName(Ne,et){return et?"-"===et[0]?Ne+et:Ne+"__"+et:Ne}function classNames(Ne,et,tt){var nt=[tt];if(et&&Ne)for(var rt in et)et.hasOwnProperty(rt)&&et[rt]&&nt.push(""+applyPrefixToName(Ne,rt));return nt.filter((function(Ne){return Ne})).map((function(Ne){return String(Ne).trim()})).join(" ")}var Os=function cleanValue(Ne){return Array.isArray(Ne)?Ne.filter(Boolean):"object"==typeof Ne&&null!==Ne?[Ne]:[]};function isDocumentElement(Ne){return[document.documentElement,document.body,window].indexOf(Ne)>-1}function getScrollTop(Ne){return isDocumentElement(Ne)?window.pageYOffset:Ne.scrollTop}function scrollTo(Ne,et){isDocumentElement(Ne)?window.scrollTo(0,et):Ne.scrollTop=et}function animatedScrollTo(Ne,et,tt,nt){void 0===tt&&(tt=200),void 0===nt&&(nt=Ms);var rt=getScrollTop(Ne),it=et-rt,ot=0;!function animateScroll(){var et=function easeOutCubic(Ne,et,tt,nt){return tt*((Ne=Ne/nt-1)*Ne*Ne+1)+et}(ot+=10,rt,it,tt);scrollTo(Ne,et),ot<tt?window.requestAnimationFrame(animateScroll):nt(Ne)}()}function isTouchCapable(){try{return document.createEvent("TouchEvent"),!0}catch(Ne){return!1}}var zs=tt(81),Rs=tt.n(zs);function _extends(){return(_extends=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}function _inheritsLoose(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}function getMenuPlacement(Ne){var et=Ne.maxHeight,tt=Ne.menuEl,nt=Ne.minHeight,rt=Ne.placement,it=Ne.shouldScroll,ot=Ne.isFixedPosition,at=Ne.theme.spacing,st=function getScrollParent(Ne){var et=getComputedStyle(Ne),tt="absolute"===et.position,nt=/(auto|scroll)/,rt=document.documentElement;if("fixed"===et.position)return rt;for(var it=Ne;it=it.parentElement;)if(et=getComputedStyle(it),(!tt||"static"!==et.position)&&nt.test(et.overflow+et.overflowY+et.overflowX))return it;return rt}(tt),ct={placement:"bottom",maxHeight:et};if(!tt||!tt.offsetParent)return ct;var pt=st.getBoundingClientRect().height,dt=tt.getBoundingClientRect(),ft=dt.bottom,mt=dt.height,yt=dt.top,vt=tt.offsetParent.getBoundingClientRect().top,Ot=window.innerHeight,Dt=getScrollTop(st),Rt=parseInt(getComputedStyle(tt).marginBottom,10),Bt=parseInt(getComputedStyle(tt).marginTop,10),rn=vt-Bt,vn=Ot-yt,bn=rn+Dt,Tn=pt-Dt-yt,Cn=ft-Ot+Dt+Rt,In=Dt+yt-Bt;switch(rt){case"auto":case"bottom":if(vn>=mt)return{placement:"bottom",maxHeight:et};if(Tn>=mt&&!ot)return it&&animatedScrollTo(st,Cn,160),{placement:"bottom",maxHeight:et};if(!ot&&Tn>=nt||ot&&vn>=nt)return it&&animatedScrollTo(st,Cn,160),{placement:"bottom",maxHeight:ot?vn-Rt:Tn-Rt};if("auto"===rt||ot){var Ln=et,Mn=ot?rn:bn;return Mn>=nt&&(Ln=Math.min(Mn-Rt-at.controlHeight,et)),{placement:"top",maxHeight:Ln}}if("bottom"===rt)return scrollTo(st,Cn),{placement:"bottom",maxHeight:et};break;case"top":if(rn>=mt)return{placement:"top",maxHeight:et};if(bn>=mt&&!ot)return it&&animatedScrollTo(st,In,160),{placement:"top",maxHeight:et};if(!ot&&bn>=nt||ot&&rn>=nt){var zn=et;return(!ot&&bn>=nt||ot&&rn>=nt)&&(zn=ot?rn-Bt:bn-Bt),it&&animatedScrollTo(st,In,160),{placement:"top",maxHeight:zn}}return{placement:"bottom",maxHeight:et};default:throw new Error('Invalid placement provided "'+rt+'".')}return ct}var Fs=function coercePlacement(Ne){return"auto"===Ne?"bottom":Ne},Bs=function(Ne){function MenuPlacer(){for(var et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(et=Ne.call.apply(Ne,[this].concat(nt))||this).state={maxHeight:et.props.maxMenuHeight,placement:null},et.getPlacement=function(Ne){var tt=et.props,nt=tt.minMenuHeight,rt=tt.maxMenuHeight,it=tt.menuPlacement,ot=tt.menuPosition,at=tt.menuShouldScrollIntoView,st=tt.theme,ct=et.context.getPortalPlacement;if(Ne){var pt="fixed"===ot,dt=getMenuPlacement({maxHeight:rt,menuEl:Ne,minHeight:nt,placement:it,shouldScroll:at&&!pt,isFixedPosition:pt,theme:st});ct&&ct(dt),et.setState(dt)}},et.getUpdatedProps=function(){var Ne=et.props.menuPlacement,tt=et.state.placement||Fs(Ne);return _extends({},et.props,{placement:tt,maxHeight:et.state.maxHeight})},et}return _inheritsLoose(MenuPlacer,Ne),MenuPlacer.prototype.render=function render(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})},MenuPlacer}(nt.Component);Bs.contextTypes={getPortalPlacement:ct.a.func};var js=function noticeCSS(Ne){var et=Ne.theme,tt=et.spacing.baseUnit;return{color:et.colors.neutral40,padding:2*tt+"px "+3*tt+"px",textAlign:"center"}},Ns=js,Vs=js,Us=function NoOptionsMessage(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.innerProps;return Ps("div",_extends({css:rt("noOptionsMessage",Ne),className:nt({"menu-notice":!0,"menu-notice--no-options":!0},tt)},it),et)};Us.defaultProps={children:"No options"};var Zs=function LoadingMessage(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.innerProps;return Ps("div",_extends({css:rt("loadingMessage",Ne),className:nt({"menu-notice":!0,"menu-notice--loading":!0},tt)},it),et)};Zs.defaultProps={children:"Loading..."};var Js=function(Ne){function MenuPortal(){for(var et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(et=Ne.call.apply(Ne,[this].concat(nt))||this).state={placement:null},et.getPortalPlacement=function(Ne){var tt=Ne.placement;tt!==Fs(et.props.menuPlacement)&&et.setState({placement:tt})},et}_inheritsLoose(MenuPortal,Ne);var et=MenuPortal.prototype;return et.getChildContext=function getChildContext(){return{getPortalPlacement:this.getPortalPlacement}},et.render=function render(){var Ne=this.props,et=Ne.appendTo,tt=Ne.children,nt=Ne.controlElement,rt=Ne.menuPlacement,ot=Ne.menuPosition,at=Ne.getStyles,st="fixed"===ot;if(!et&&!st||!nt)return null;var ct=this.state.placement||Fs(rt),pt=function getBoundingClientObj(Ne){var et=Ne.getBoundingClientRect();return{bottom:et.bottom,height:et.height,left:et.left,right:et.right,top:et.top,width:et.width}}(nt),dt=st?0:window.pageYOffset,ft=pt[ct]+dt,mt=Ps("div",{css:at("menuPortal",{offset:ft,position:ot,rect:pt})},tt);return et?Object(it.createPortal)(mt,et):mt},MenuPortal}(nt.Component);Js.childContextTypes={getPortalPlacement:ct.a.func};var tl=Array.isArray,ol=Object.keys,sl=Object.prototype.hasOwnProperty;function exportedEqual(Ne,et){try{return function equal(Ne,et){if(Ne===et)return!0;if(Ne&&et&&"object"==typeof Ne&&"object"==typeof et){var tt,nt,rt,it=tl(Ne),ot=tl(et);if(it&&ot){if((nt=Ne.length)!=et.length)return!1;for(tt=nt;0!=tt--;)if(!equal(Ne[tt],et[tt]))return!1;return!0}if(it!=ot)return!1;var at=Ne instanceof Date,st=et instanceof Date;if(at!=st)return!1;if(at&&st)return Ne.getTime()==et.getTime();var ct=Ne instanceof RegExp,pt=et instanceof RegExp;if(ct!=pt)return!1;if(ct&&pt)return Ne.toString()==et.toString();var dt=ol(Ne);if((nt=dt.length)!==ol(et).length)return!1;for(tt=nt;0!=tt--;)if(!sl.call(et,dt[tt]))return!1;for(tt=nt;0!=tt--;)if(!("_owner"===(rt=dt[tt])&&Ne.$$typeof||equal(Ne[rt],et[rt])))return!1;return!0}return Ne!=Ne&&et!=et}(Ne,et)}catch(Ne){if(Ne.message&&Ne.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",Ne.name,Ne.message),!1;throw Ne}}function _extends$1(){return(_extends$1=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}function _templateObject(){var Ne=function _taggedTemplateLiteralLoose(Ne,et){et||(et=Ne.slice(0));return Ne.raw=et,Ne}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]);return _templateObject=function _templateObject(){return Ne},Ne}function _extends$2(){return(_extends$2=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}var dl={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},gl=function Svg(Ne){var et=Ne.size,tt=function _objectWithoutPropertiesLoose(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}(Ne,["size"]);return Ps("svg",_extends$2({height:et,width:et,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:dl},tt))},yl=function CrossIcon(Ne){return Ps(gl,_extends$2({size:20},Ne),Ps("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},vl=function DownChevron(Ne){return Ps(gl,_extends$2({size:20},Ne),Ps("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},_l=function baseCSS(Ne){var et=Ne.isFocused,tt=Ne.theme,nt=tt.spacing.baseUnit,rt=tt.colors;return{label:"indicatorContainer",color:et?rt.neutral60:rt.neutral20,display:"flex",padding:2*nt,transition:"color 150ms",":hover":{color:et?rt.neutral80:rt.neutral40}}},bl=_l,xl=_l,wl=function keyframes(){var Ne=ls.apply(void 0,arguments),et="animation-"+Ne.name;return{name:et,styles:"@keyframes "+et+"{"+Ne.styles+"}",anim:1,toString:function toString(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(_templateObject()),Sl=function LoadingDot(Ne){var et=Ne.delay,tt=Ne.offset;return Ps("span",{css:ls({animation:wl+" 1s ease-in-out "+et+"ms infinite;",backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:tt?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Cl=function LoadingIndicator(Ne){var et=Ne.className,tt=Ne.cx,nt=Ne.getStyles,rt=Ne.innerProps,it=Ne.isRtl;return Ps("div",_extends$2({},rt,{css:nt("loadingIndicator",Ne),className:tt({indicator:!0,"loading-indicator":!0},et)}),Ps(Sl,{delay:0,offset:it}),Ps(Sl,{delay:160,offset:!0}),Ps(Sl,{delay:320,offset:!it}))};function _extends$3(){return(_extends$3=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}Cl.defaultProps={size:4};function _extends$4(){return(_extends$4=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}function _extends$5(){return(_extends$5=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}var kl=function inputStyle(Ne){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:Ne?0:1,outline:0,padding:0,color:"inherit"}};function _extends$6(){return(_extends$6=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}var Il=function MultiValueGeneric(Ne){var et=Ne.children,tt=Ne.innerProps;return Ps("div",tt,et)},Al=Il,zl=Il;var Fl=function MultiValue(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.components,rt=Ne.cx,it=Ne.data,ot=Ne.getStyles,at=Ne.innerProps,st=Ne.isDisabled,ct=Ne.removeProps,pt=Ne.selectProps,dt=nt.Container,ft=nt.Label,mt=nt.Remove;return Ps(Ls,null,(function(nt){var yt=nt.css,vt=nt.cx;return Ps(dt,{data:it,innerProps:_extends$6({},at,{className:vt(yt(ot("multiValue",Ne)),rt({"multi-value":!0,"multi-value--is-disabled":st},tt))}),selectProps:pt},Ps(ft,{data:it,innerProps:{className:vt(yt(ot("multiValueLabel",Ne)),rt({"multi-value__label":!0},tt))},selectProps:pt},et),Ps(mt,{data:it,innerProps:_extends$6({className:vt(yt(ot("multiValueRemove",Ne)),rt({"multi-value__remove":!0},tt))},ct),selectProps:pt}))}))};function _extends$7(){return(_extends$7=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}Fl.defaultProps={cropWithEllipsis:!0};function _extends$8(){return(_extends$8=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}function _extends$9(){return(_extends$9=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}function _extends$a(){return(_extends$a=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}var Hl={ClearIndicator:function ClearIndicator(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.innerProps;return Ps("div",_extends$2({},it,{css:rt("clearIndicator",Ne),className:nt({indicator:!0,"clear-indicator":!0},tt)}),et||Ps(yl,null))},Control:function Control(Ne){var et=Ne.children,tt=Ne.cx,nt=Ne.getStyles,rt=Ne.className,it=Ne.isDisabled,ot=Ne.isFocused,at=Ne.innerRef,st=Ne.innerProps,ct=Ne.menuIsOpen;return Ps("div",_extends$3({ref:at,css:nt("control",Ne),className:tt({control:!0,"control--is-disabled":it,"control--is-focused":ot,"control--menu-is-open":ct},rt)},st),et)},DropdownIndicator:function DropdownIndicator(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.innerProps;return Ps("div",_extends$2({},it,{css:rt("dropdownIndicator",Ne),className:nt({indicator:!0,"dropdown-indicator":!0},tt)}),et||Ps(vl,null))},DownChevron:vl,CrossIcon:yl,Group:function Group(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.Heading,ot=Ne.headingProps,at=Ne.label,st=Ne.theme,ct=Ne.selectProps;return Ps("div",{css:rt("group",Ne),className:nt({group:!0},tt)},Ps(it,_extends$4({},ot,{selectProps:ct,theme:st,getStyles:rt,cx:nt}),at),Ps("div",null,et))},GroupHeading:function GroupHeading(Ne){var et=Ne.className,tt=Ne.cx,nt=Ne.getStyles,rt=Ne.theme,it=(Ne.selectProps,function _objectWithoutPropertiesLoose$1(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}(Ne,["className","cx","getStyles","theme","selectProps"]));return Ps("div",_extends$4({css:nt("groupHeading",_extends$4({theme:rt},it)),className:tt({"group-heading":!0},et)},it))},IndicatorsContainer:function IndicatorsContainer(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles;return Ps("div",{css:rt("indicatorsContainer",Ne),className:nt({indicators:!0},tt)},et)},IndicatorSeparator:function IndicatorSeparator(Ne){var et=Ne.className,tt=Ne.cx,nt=Ne.getStyles,rt=Ne.innerProps;return Ps("span",_extends$2({},rt,{css:nt("indicatorSeparator",Ne),className:tt({"indicator-separator":!0},et)}))},Input:function Input(Ne){var et=Ne.className,tt=Ne.cx,nt=Ne.getStyles,rt=Ne.innerRef,it=Ne.isHidden,ot=Ne.isDisabled,at=Ne.theme,st=(Ne.selectProps,function _objectWithoutPropertiesLoose$2(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}(Ne,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return Ps("div",{css:nt("input",_extends$5({theme:at},st))},Ps(Rs.a,_extends$5({className:tt({input:!0},et),inputRef:rt,inputStyle:kl(it),disabled:ot},st)))},LoadingIndicator:Cl,Menu:function Menu(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.innerRef,ot=Ne.innerProps;return Ps("div",_extends({css:rt("menu",Ne),className:nt({menu:!0},tt)},ot,{ref:it}),et)},MenuList:function MenuList(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.isMulti,ot=Ne.innerRef;return Ps("div",{css:rt("menuList",Ne),className:nt({"menu-list":!0,"menu-list--is-multi":it},tt),ref:ot},et)},MenuPortal:Js,LoadingMessage:Zs,NoOptionsMessage:Us,MultiValue:Fl,MultiValueContainer:Al,MultiValueLabel:zl,MultiValueRemove:function index_4322c0ed_browser_esm_MultiValueRemove(Ne){var et=Ne.children,tt=Ne.innerProps;return Ps("div",tt,et||Ps(yl,{size:14}))},Option:function Option(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.isDisabled,ot=Ne.isFocused,at=Ne.isSelected,st=Ne.innerRef,ct=Ne.innerProps;return Ps("div",_extends$7({css:rt("option",Ne),className:nt({option:!0,"option--is-disabled":it,"option--is-focused":ot,"option--is-selected":at},tt),ref:st},ct),et)},Placeholder:function Placeholder(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.innerProps;return Ps("div",_extends$8({css:rt("placeholder",Ne),className:nt({placeholder:!0},tt)},it),et)},SelectContainer:function SelectContainer(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.innerProps,ot=Ne.isDisabled,at=Ne.isRtl;return Ps("div",_extends$1({css:rt("container",Ne),className:nt({"--is-disabled":ot,"--is-rtl":at},tt)},it),et)},SingleValue:function SingleValue(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.getStyles,it=Ne.isDisabled,ot=Ne.innerProps;return Ps("div",_extends$9({css:rt("singleValue",Ne),className:nt({"single-value":!0,"single-value--is-disabled":it},tt)},ot),et)},ValueContainer:function ValueContainer(Ne){var et=Ne.children,tt=Ne.className,nt=Ne.cx,rt=Ne.isMulti,it=Ne.getStyles,ot=Ne.hasValue;return Ps("div",{css:it("valueContainer",Ne),className:nt({"value-container":!0,"value-container--is-multi":rt,"value-container--has-value":ot},tt)},et)}},du=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],vu=function stripDiacritics(Ne){for(var et=0;et<du.length;et++)Ne=Ne.replace(du[et].letters,du[et].base);return Ne};function Select_9fdb8cd0_browser_esm_extends(){return(Select_9fdb8cd0_browser_esm_extends=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}var _u=function trimString(Ne){return Ne.replace(/^\s+|\s+$/g,"")},wu=function defaultStringify(Ne){return Ne.label+" "+Ne.value};function Select_9fdb8cd0_browser_esm_extends$1(){return(Select_9fdb8cd0_browser_esm_extends$1=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}var Tu={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},Fu=function A11yText(Ne){return Ps("span",Select_9fdb8cd0_browser_esm_extends$1({css:Tu},Ne))};function Select_9fdb8cd0_browser_esm_extends$2(){return(Select_9fdb8cd0_browser_esm_extends$2=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}function DummyInput(Ne){Ne.in,Ne.out,Ne.onExited,Ne.appear,Ne.enter,Ne.exit;var et=Ne.innerRef,tt=(Ne.emotion,function Select_9fdb8cd0_browser_esm_objectWithoutPropertiesLoose(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}(Ne,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return Ps("input",Select_9fdb8cd0_browser_esm_extends$2({ref:et},tt,{css:ls({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}var ac=function(Ne){function NodeResolver(){return Ne.apply(this,arguments)||this}!function Select_9fdb8cd0_browser_esm_inheritsLoose(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}(NodeResolver,Ne);var et=NodeResolver.prototype;return et.componentDidMount=function componentDidMount(){this.props.innerRef(Object(it.findDOMNode)(this))},et.componentWillUnmount=function componentWillUnmount(){this.props.innerRef(null)},et.render=function render(){return this.props.children},NodeResolver}(nt.Component),pc=["boxSizing","height","overflow","paddingRight","position"],yc={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function preventTouchMove(Ne){Ne.preventDefault()}function allowTouchMove(Ne){Ne.stopPropagation()}function preventInertiaScroll(){var Ne=this.scrollTop,et=this.scrollHeight,tt=Ne+this.offsetHeight;0===Ne?this.scrollTop=1:tt===et&&(this.scrollTop=Ne-1)}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}var _c=!(!window.document||!window.document.createElement),bc=0,xc=function(Ne){function ScrollLock(){for(var et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(et=Ne.call.apply(Ne,[this].concat(nt))||this).originalStyles={},et.listenerOptions={capture:!1,passive:!1},et}!function _inheritsLoose$1(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}(ScrollLock,Ne);var et=ScrollLock.prototype;return et.componentDidMount=function componentDidMount(){var Ne=this;if(_c){var et=this.props,tt=et.accountForScrollbars,nt=et.touchScrollTarget,rt=document.body,it=rt&&rt.style;if(tt&&pc.forEach((function(et){var tt=it&&it[et];Ne.originalStyles[et]=tt})),tt&&bc<1){var ot=parseInt(this.originalStyles.paddingRight,10)||0,at=document.body?document.body.clientWidth:0,st=window.innerWidth-at+ot||0;Object.keys(yc).forEach((function(Ne){var et=yc[Ne];it&&(it[Ne]=et)})),it&&(it.paddingRight=st+"px")}rt&&isTouchDevice()&&(rt.addEventListener("touchmove",preventTouchMove,this.listenerOptions),nt&&(nt.addEventListener("touchstart",preventInertiaScroll,this.listenerOptions),nt.addEventListener("touchmove",allowTouchMove,this.listenerOptions))),bc+=1}},et.componentWillUnmount=function componentWillUnmount(){var Ne=this;if(_c){var et=this.props,tt=et.accountForScrollbars,nt=et.touchScrollTarget,rt=document.body,it=rt&&rt.style;bc=Math.max(bc-1,0),tt&&bc<1&&pc.forEach((function(et){var tt=Ne.originalStyles[et];it&&(it[et]=tt)})),rt&&isTouchDevice()&&(rt.removeEventListener("touchmove",preventTouchMove,this.listenerOptions),nt&&(nt.removeEventListener("touchstart",preventInertiaScroll,this.listenerOptions),nt.removeEventListener("touchmove",allowTouchMove,this.listenerOptions)))}},et.render=function render(){return null},ScrollLock}(nt.Component);xc.defaultProps={accountForScrollbars:!0};var wc={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},Ec=function(Ne){function ScrollBlock(){for(var et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(et=Ne.call.apply(Ne,[this].concat(nt))||this).state={touchScrollTarget:null},et.getScrollTarget=function(Ne){Ne!==et.state.touchScrollTarget&&et.setState({touchScrollTarget:Ne})},et.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},et}return function _inheritsLoose$2(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}(ScrollBlock,Ne),ScrollBlock.prototype.render=function render(){var Ne=this.props,et=Ne.children,tt=Ne.isEnabled,nt=this.state.touchScrollTarget;return tt?Ps("div",null,Ps("div",{onClick:this.blurSelectInput,css:wc}),Ps(ac,{innerRef:this.getScrollTarget},et),nt?Ps(xc,{touchScrollTarget:nt}):null):et},ScrollBlock}(nt.PureComponent);var Cc=function(Ne){function ScrollCaptor(){for(var et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(et=Ne.call.apply(Ne,[this].concat(nt))||this).isBottom=!1,et.isTop=!1,et.scrollTarget=void 0,et.touchStart=void 0,et.cancelScroll=function(Ne){Ne.preventDefault(),Ne.stopPropagation()},et.handleEventDelta=function(Ne,tt){var nt=et.props,rt=nt.onBottomArrive,it=nt.onBottomLeave,ot=nt.onTopArrive,at=nt.onTopLeave,st=et.scrollTarget,ct=st.scrollTop,pt=st.scrollHeight,dt=st.clientHeight,ft=et.scrollTarget,mt=tt>0,yt=pt-dt-ct,vt=!1;yt>tt&&et.isBottom&&(it&&it(Ne),et.isBottom=!1),mt&&et.isTop&&(at&&at(Ne),et.isTop=!1),mt&&tt>yt?(rt&&!et.isBottom&&rt(Ne),ft.scrollTop=pt,vt=!0,et.isBottom=!0):!mt&&-tt>ct&&(ot&&!et.isTop&&ot(Ne),ft.scrollTop=0,vt=!0,et.isTop=!0),vt&&et.cancelScroll(Ne)},et.onWheel=function(Ne){et.handleEventDelta(Ne,Ne.deltaY)},et.onTouchStart=function(Ne){et.touchStart=Ne.changedTouches[0].clientY},et.onTouchMove=function(Ne){var tt=et.touchStart-Ne.changedTouches[0].clientY;et.handleEventDelta(Ne,tt)},et.getScrollTarget=function(Ne){et.scrollTarget=Ne},et}!function _inheritsLoose$3(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}(ScrollCaptor,Ne);var et=ScrollCaptor.prototype;return et.componentDidMount=function componentDidMount(){this.startListening(this.scrollTarget)},et.componentWillUnmount=function componentWillUnmount(){this.stopListening(this.scrollTarget)},et.startListening=function startListening(Ne){Ne&&("function"==typeof Ne.addEventListener&&Ne.addEventListener("wheel",this.onWheel,!1),"function"==typeof Ne.addEventListener&&Ne.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof Ne.addEventListener&&Ne.addEventListener("touchmove",this.onTouchMove,!1))},et.stopListening=function stopListening(Ne){"function"==typeof Ne.removeEventListener&&Ne.removeEventListener("wheel",this.onWheel,!1),"function"==typeof Ne.removeEventListener&&Ne.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof Ne.removeEventListener&&Ne.removeEventListener("touchmove",this.onTouchMove,!1)},et.render=function render(){return rt.a.createElement(ac,{innerRef:this.getScrollTarget},this.props.children)},ScrollCaptor}(nt.Component);function ScrollCaptorSwitch(Ne){var et=Ne.isEnabled,tt=void 0===et||et,nt=function Select_9fdb8cd0_browser_esm_objectWithoutPropertiesLoose$1(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}(Ne,["isEnabled"]);return tt?rt.a.createElement(Cc,nt):nt.children}var kc=function instructionsAriaMessage(Ne,et){void 0===et&&(et={});var tt=et,nt=tt.isSearchable,rt=tt.isMulti,it=tt.label,ot=tt.isDisabled;switch(Ne){case"menu":return"Use Up and Down to choose options"+(ot?"":", press Enter to select the currently focused option")+", press Escape to exit the menu, press Tab to select the option and exit the menu.";case"input":return(it||"Select")+" is focused "+(nt?",type to refine list":"")+", press Down to open the menu, "+(rt?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},Ic=function valueEventAriaMessage(Ne,et){var tt=et.value,nt=et.isDisabled;if(tt)switch(Ne){case"deselect-option":case"pop-value":case"remove-value":return"option "+tt+", deselected.";case"select-option":return nt?"option "+tt+" is disabled. Select another option.":"option "+tt+", selected."}},Ac=function isOptionDisabled(Ne){return!!Ne.isDisabled};var zc={clearIndicator:xl,container:function containerCSS(Ne){var et=Ne.isDisabled;return{label:"container",direction:Ne.isRtl?"rtl":null,pointerEvents:et?"none":null,position:"relative"}},control:function css(Ne){var et=Ne.isDisabled,tt=Ne.isFocused,nt=Ne.theme,rt=nt.colors,it=nt.borderRadius,ot=nt.spacing;return{label:"control",alignItems:"center",backgroundColor:et?rt.neutral5:rt.neutral0,borderColor:et?rt.neutral10:tt?rt.primary:rt.neutral20,borderRadius:it,borderStyle:"solid",borderWidth:1,boxShadow:tt?"0 0 0 1px "+rt.primary:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:ot.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:tt?rt.primary:rt.neutral30}}},dropdownIndicator:bl,group:function groupCSS(Ne){var et=Ne.theme.spacing;return{paddingBottom:2*et.baseUnit,paddingTop:2*et.baseUnit}},groupHeading:function groupHeadingCSS(Ne){var et=Ne.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*et.baseUnit,paddingRight:3*et.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function indicatorsContainerCSS(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function indicatorSeparatorCSS(Ne){var et=Ne.isDisabled,tt=Ne.theme,nt=tt.spacing.baseUnit,rt=tt.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:et?rt.neutral10:rt.neutral20,marginBottom:2*nt,marginTop:2*nt,width:1}},input:function inputCSS(Ne){var et=Ne.isDisabled,tt=Ne.theme,nt=tt.spacing,rt=tt.colors;return{margin:nt.baseUnit/2,paddingBottom:nt.baseUnit/2,paddingTop:nt.baseUnit/2,visibility:et?"hidden":"visible",color:rt.neutral80}},loadingIndicator:function loadingIndicatorCSS(Ne){var et=Ne.isFocused,tt=Ne.size,nt=Ne.theme,rt=nt.colors,it=nt.spacing.baseUnit;return{label:"loadingIndicator",color:et?rt.neutral60:rt.neutral20,display:"flex",padding:2*it,transition:"color 150ms",alignSelf:"center",fontSize:tt,lineHeight:1,marginRight:tt,textAlign:"center",verticalAlign:"middle"}},loadingMessage:Vs,menu:function menuCSS(Ne){var et,tt=Ne.placement,nt=Ne.theme,rt=nt.borderRadius,it=nt.spacing,ot=nt.colors;return(et={label:"menu"})[function alignToControl(Ne){return Ne?{bottom:"top",top:"bottom"}[Ne]:"bottom"}(tt)]="100%",et.backgroundColor=ot.neutral0,et.borderRadius=rt,et.boxShadow="0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",et.marginBottom=it.menuGutter,et.marginTop=it.menuGutter,et.position="absolute",et.width="100%",et.zIndex=1,et},menuList:function menuListCSS(Ne){var et=Ne.maxHeight,tt=Ne.theme.spacing.baseUnit;return{maxHeight:et,overflowY:"auto",paddingBottom:tt,paddingTop:tt,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function menuPortalCSS(Ne){var et=Ne.rect,tt=Ne.offset,nt=Ne.position;return{left:et.left,position:nt,top:tt,width:et.width,zIndex:1}},multiValue:function multiValueCSS(Ne){var et=Ne.theme,tt=et.spacing,nt=et.borderRadius;return{label:"multiValue",backgroundColor:et.colors.neutral10,borderRadius:nt/2,display:"flex",margin:tt.baseUnit/2,minWidth:0}},multiValueLabel:function multiValueLabelCSS(Ne){var et=Ne.theme,tt=et.borderRadius,nt=et.colors,rt=Ne.cropWithEllipsis;return{borderRadius:tt/2,color:nt.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:rt?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function multiValueRemoveCSS(Ne){var et=Ne.theme,tt=et.spacing,nt=et.borderRadius,rt=et.colors;return{alignItems:"center",borderRadius:nt/2,backgroundColor:Ne.isFocused&&rt.dangerLight,display:"flex",paddingLeft:tt.baseUnit,paddingRight:tt.baseUnit,":hover":{backgroundColor:rt.dangerLight,color:rt.danger}}},noOptionsMessage:Ns,option:function optionCSS(Ne){var et=Ne.isDisabled,tt=Ne.isFocused,nt=Ne.isSelected,rt=Ne.theme,it=rt.spacing,ot=rt.colors;return{label:"option",backgroundColor:nt?ot.primary:tt?ot.primary25:"transparent",color:et?ot.neutral20:nt?ot.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*it.baseUnit+"px "+3*it.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!et&&(nt?ot.primary:ot.primary50)}}},placeholder:function placeholderCSS(Ne){var et=Ne.theme,tt=et.spacing;return{label:"placeholder",color:et.colors.neutral50,marginLeft:tt.baseUnit/2,marginRight:tt.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function css(Ne){var et=Ne.isDisabled,tt=Ne.theme,nt=tt.spacing,rt=tt.colors;return{label:"singleValue",color:et?rt.neutral40:rt.neutral80,marginLeft:nt.baseUnit/2,marginRight:nt.baseUnit/2,maxWidth:"calc(100% - "+2*nt.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function valueContainerCSS(Ne){var et=Ne.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:et.baseUnit/2+"px "+2*et.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var Dc={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}};function Select_9fdb8cd0_browser_esm_extends$4(){return(Select_9fdb8cd0_browser_esm_extends$4=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}function _assertThisInitialized(Ne){if(void 0===Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ne}var Fc={backspaceRemovesValue:!0,blurInputOnSelect:isTouchCapable(),captureMenuScroll:!isTouchCapable(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function createFilter(Ne){return function(et,tt){var nt=Select_9fdb8cd0_browser_esm_extends({ignoreCase:!0,ignoreAccents:!0,stringify:wu,trim:!0,matchFrom:"any"},Ne),rt=nt.ignoreCase,it=nt.ignoreAccents,ot=nt.stringify,at=nt.trim,st=nt.matchFrom,ct=at?_u(tt):tt,pt=at?_u(ot(et)):ot(et);return rt&&(ct=ct.toLowerCase(),pt=pt.toLowerCase()),it&&(ct=vu(ct),pt=vu(pt)),"start"===st?pt.substr(0,ct.length)===ct:pt.indexOf(ct)>-1}}(),formatGroupLabel:function formatGroupLabel(Ne){return Ne.label},getOptionLabel:function getOptionLabel(Ne){return Ne.label},getOptionValue:function getOptionValue(Ne){return Ne.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ac,loadingMessage:function loadingMessage(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function isMobileDevice(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(Ne){return!1}}(),noOptionsMessage:function noOptionsMessage(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function screenReaderStatus(Ne){var et=Ne.count;return et+" result"+(1!==et?"s":"")+" available"},styles:{},tabIndex:"0",tabSelectsValue:!0},Bc=1,Zc=function(Ne){function Select(et){var tt;(tt=Ne.call(this,et)||this).state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},tt.blockOptionHover=!1,tt.isComposing=!1,tt.clearFocusValueOnUpdate=!1,tt.commonProps=void 0,tt.components=void 0,tt.hasGroups=!1,tt.initialTouchX=0,tt.initialTouchY=0,tt.inputIsHiddenAfterUpdate=void 0,tt.instancePrefix="",tt.openAfterFocus=!1,tt.scrollToFocusedOptionOnUpdate=!1,tt.userIsDragging=void 0,tt.controlRef=null,tt.getControlRef=function(Ne){tt.controlRef=Ne},tt.focusedOptionRef=null,tt.getFocusedOptionRef=function(Ne){tt.focusedOptionRef=Ne},tt.menuListRef=null,tt.getMenuListRef=function(Ne){tt.menuListRef=Ne},tt.inputRef=null,tt.getInputRef=function(Ne){tt.inputRef=Ne},tt.cacheComponents=function(Ne){tt.components=function defaultComponents(Ne){return _extends$a({},Hl,Ne.components)}({components:Ne})},tt.focus=tt.focusInput,tt.blur=tt.blurInput,tt.onChange=function(Ne,et){var nt=tt.props;(0,nt.onChange)(Ne,Select_9fdb8cd0_browser_esm_extends$4({},et,{name:nt.name}))},tt.setValue=function(Ne,et,nt){void 0===et&&(et="set-value");var rt=tt.props,it=rt.closeMenuOnSelect,ot=rt.isMulti;tt.onInputChange("",{action:"set-value"}),it&&(tt.inputIsHiddenAfterUpdate=!ot,tt.onMenuClose()),tt.clearFocusValueOnUpdate=!0,tt.onChange(Ne,{action:et,option:nt})},tt.selectOption=function(Ne){var et=tt.props,nt=et.blurInputOnSelect,rt=et.isMulti,it=tt.state.selectValue;if(rt)if(tt.isOptionSelected(Ne,it)){var ot=tt.getOptionValue(Ne);tt.setValue(it.filter((function(Ne){return tt.getOptionValue(Ne)!==ot})),"deselect-option",Ne),tt.announceAriaLiveSelection({event:"deselect-option",context:{value:tt.getOptionLabel(Ne)}})}else tt.isOptionDisabled(Ne,it)?tt.announceAriaLiveSelection({event:"select-option",context:{value:tt.getOptionLabel(Ne),isDisabled:!0}}):(tt.setValue([].concat(it,[Ne]),"select-option",Ne),tt.announceAriaLiveSelection({event:"select-option",context:{value:tt.getOptionLabel(Ne)}}));else tt.isOptionDisabled(Ne,it)?tt.announceAriaLiveSelection({event:"select-option",context:{value:tt.getOptionLabel(Ne),isDisabled:!0}}):(tt.setValue(Ne,"select-option"),tt.announceAriaLiveSelection({event:"select-option",context:{value:tt.getOptionLabel(Ne)}}));nt&&tt.blurInput()},tt.removeValue=function(Ne){var et=tt.state.selectValue,nt=tt.getOptionValue(Ne),rt=et.filter((function(Ne){return tt.getOptionValue(Ne)!==nt}));tt.onChange(rt.length?rt:null,{action:"remove-value",removedValue:Ne}),tt.announceAriaLiveSelection({event:"remove-value",context:{value:Ne?tt.getOptionLabel(Ne):""}}),tt.focusInput()},tt.clearValue=function(){var Ne=tt.props.isMulti;tt.onChange(Ne?[]:null,{action:"clear"})},tt.popValue=function(){var Ne=tt.state.selectValue,et=Ne[Ne.length-1],nt=Ne.slice(0,Ne.length-1);tt.announceAriaLiveSelection({event:"pop-value",context:{value:et?tt.getOptionLabel(et):""}}),tt.onChange(nt.length?nt:null,{action:"pop-value",removedValue:et})},tt.getOptionLabel=function(Ne){return tt.props.getOptionLabel(Ne)},tt.getOptionValue=function(Ne){return tt.props.getOptionValue(Ne)},tt.getStyles=function(Ne,et){var nt=zc[Ne](et);nt.boxSizing="border-box";var rt=tt.props.styles[Ne];return rt?rt(nt,et):nt},tt.getElementId=function(Ne){return tt.instancePrefix+"-"+Ne},tt.getActiveDescendentId=function(){var Ne=tt.props.menuIsOpen,et=tt.state,nt=et.menuOptions,rt=et.focusedOption;if(rt&&Ne){var it=nt.focusable.indexOf(rt),ot=nt.render[it];return ot&&ot.key}},tt.announceAriaLiveSelection=function(Ne){var et=Ne.event,nt=Ne.context;tt.setState({ariaLiveSelection:Ic(et,nt)})},tt.announceAriaLiveContext=function(Ne){var et=Ne.event,nt=Ne.context;tt.setState({ariaLiveContext:kc(et,Select_9fdb8cd0_browser_esm_extends$4({},nt,{label:tt.props["aria-label"]}))})},tt.onMenuMouseDown=function(Ne){0===Ne.button&&(Ne.stopPropagation(),Ne.preventDefault(),tt.focusInput())},tt.onMenuMouseMove=function(Ne){tt.blockOptionHover=!1},tt.onControlMouseDown=function(Ne){var et=tt.props.openMenuOnClick;tt.state.isFocused?tt.props.menuIsOpen?"INPUT"!==Ne.target.tagName&&"TEXTAREA"!==Ne.target.tagName&&tt.onMenuClose():et&&tt.openMenu("first"):(et&&(tt.openAfterFocus=!0),tt.focusInput()),"INPUT"!==Ne.target.tagName&&"TEXTAREA"!==Ne.target.tagName&&Ne.preventDefault()},tt.onDropdownIndicatorMouseDown=function(Ne){if(!(Ne&&"mousedown"===Ne.type&&0!==Ne.button||tt.props.isDisabled)){var et=tt.props,nt=et.isMulti,rt=et.menuIsOpen;tt.focusInput(),rt?(tt.inputIsHiddenAfterUpdate=!nt,tt.onMenuClose()):tt.openMenu("first"),Ne.preventDefault(),Ne.stopPropagation()}},tt.onClearIndicatorMouseDown=function(Ne){Ne&&"mousedown"===Ne.type&&0!==Ne.button||(tt.clearValue(),Ne.stopPropagation(),tt.openAfterFocus=!1,"touchend"===Ne.type?tt.focusInput():setTimeout((function(){return tt.focusInput()})))},tt.onScroll=function(Ne){"boolean"==typeof tt.props.closeMenuOnScroll?Ne.target instanceof HTMLElement&&isDocumentElement(Ne.target)&&tt.props.onMenuClose():"function"==typeof tt.props.closeMenuOnScroll&&tt.props.closeMenuOnScroll(Ne)&&tt.props.onMenuClose()},tt.onCompositionStart=function(){tt.isComposing=!0},tt.onCompositionEnd=function(){tt.isComposing=!1},tt.onTouchStart=function(Ne){var et=Ne.touches.item(0);et&&(tt.initialTouchX=et.clientX,tt.initialTouchY=et.clientY,tt.userIsDragging=!1)},tt.onTouchMove=function(Ne){var et=Ne.touches.item(0);if(et){var nt=Math.abs(et.clientX-tt.initialTouchX),rt=Math.abs(et.clientY-tt.initialTouchY);tt.userIsDragging=nt>5||rt>5}},tt.onTouchEnd=function(Ne){tt.userIsDragging||(tt.controlRef&&!tt.controlRef.contains(Ne.target)&&tt.menuListRef&&!tt.menuListRef.contains(Ne.target)&&tt.blurInput(),tt.initialTouchX=0,tt.initialTouchY=0)},tt.onControlTouchEnd=function(Ne){tt.userIsDragging||tt.onControlMouseDown(Ne)},tt.onClearIndicatorTouchEnd=function(Ne){tt.userIsDragging||tt.onClearIndicatorMouseDown(Ne)},tt.onDropdownIndicatorTouchEnd=function(Ne){tt.userIsDragging||tt.onDropdownIndicatorMouseDown(Ne)},tt.handleInputChange=function(Ne){var et=Ne.currentTarget.value;tt.inputIsHiddenAfterUpdate=!1,tt.onInputChange(et,{action:"input-change"}),tt.onMenuOpen()},tt.onInputFocus=function(Ne){var et=tt.props,nt=et.isSearchable,rt=et.isMulti;tt.props.onFocus&&tt.props.onFocus(Ne),tt.inputIsHiddenAfterUpdate=!1,tt.announceAriaLiveContext({event:"input",context:{isSearchable:nt,isMulti:rt}}),tt.setState({isFocused:!0}),(tt.openAfterFocus||tt.props.openMenuOnFocus)&&tt.openMenu("first"),tt.openAfterFocus=!1},tt.onInputBlur=function(Ne){tt.menuListRef&&tt.menuListRef.contains(document.activeElement)?tt.inputRef.focus():(tt.props.onBlur&&tt.props.onBlur(Ne),tt.onInputChange("",{action:"input-blur"}),tt.onMenuClose(),tt.setState({focusedValue:null,isFocused:!1}))},tt.onOptionHover=function(Ne){tt.blockOptionHover||tt.state.focusedOption===Ne||tt.setState({focusedOption:Ne})},tt.shouldHideSelectedOptions=function(){var Ne=tt.props,et=Ne.hideSelectedOptions,nt=Ne.isMulti;return void 0===et?nt:et},tt.onKeyDown=function(Ne){var et=tt.props,nt=et.isMulti,rt=et.backspaceRemovesValue,it=et.escapeClearsValue,ot=et.inputValue,at=et.isClearable,st=et.isDisabled,ct=et.menuIsOpen,pt=et.onKeyDown,dt=et.tabSelectsValue,ft=et.openMenuOnFocus,mt=tt.state,yt=mt.focusedOption,vt=mt.focusedValue,Ot=mt.selectValue;if(!(st||"function"==typeof pt&&(pt(Ne),Ne.defaultPrevented))){switch(tt.blockOptionHover=!0,Ne.key){case"ArrowLeft":if(!nt||ot)return;tt.focusValue("previous");break;case"ArrowRight":if(!nt||ot)return;tt.focusValue("next");break;case"Delete":case"Backspace":if(ot)return;if(vt)tt.removeValue(vt);else{if(!rt)return;nt?tt.popValue():at&&tt.clearValue()}break;case"Tab":if(tt.isComposing)return;if(Ne.shiftKey||!ct||!dt||!yt||ft&&tt.isOptionSelected(yt,Ot))return;tt.selectOption(yt);break;case"Enter":if(229===Ne.keyCode)break;if(ct){if(!yt)return;if(tt.isComposing)return;tt.selectOption(yt);break}return;case"Escape":ct?(tt.inputIsHiddenAfterUpdate=!1,tt.onInputChange("",{action:"menu-close"}),tt.onMenuClose()):at&&it&&tt.clearValue();break;case" ":if(ot)return;if(!ct){tt.openMenu("first");break}if(!yt)return;tt.selectOption(yt);break;case"ArrowUp":ct?tt.focusOption("up"):tt.openMenu("last");break;case"ArrowDown":ct?tt.focusOption("down"):tt.openMenu("first");break;case"PageUp":if(!ct)return;tt.focusOption("pageup");break;case"PageDown":if(!ct)return;tt.focusOption("pagedown");break;case"Home":if(!ct)return;tt.focusOption("first");break;case"End":if(!ct)return;tt.focusOption("last");break;default:return}Ne.preventDefault()}},tt.buildMenuOptions=function(Ne,et){var nt=Ne.inputValue,rt=void 0===nt?"":nt,it=Ne.options,ot=function toOption(Ne,nt){var it=tt.isOptionDisabled(Ne,et),ot=tt.isOptionSelected(Ne,et),at=tt.getOptionLabel(Ne),st=tt.getOptionValue(Ne);if(!(tt.shouldHideSelectedOptions()&&ot||!tt.filterOption({label:at,value:st,data:Ne},rt))){var ct=it?void 0:function(){return tt.onOptionHover(Ne)},pt=it?void 0:function(){return tt.selectOption(Ne)},dt=tt.getElementId("option")+"-"+nt;return{innerProps:{id:dt,onClick:pt,onMouseMove:ct,onMouseOver:ct,tabIndex:-1},data:Ne,isDisabled:it,isSelected:ot,key:dt,label:at,type:"option",value:st}}};return it.reduce((function(Ne,et,nt){if(et.options){tt.hasGroups||(tt.hasGroups=!0);var rt=et.options.map((function(et,tt){var rt=ot(et,nt+"-"+tt);return rt&&Ne.focusable.push(et),rt})).filter(Boolean);if(rt.length){var it=tt.getElementId("group")+"-"+nt;Ne.render.push({type:"group",key:it,data:et,options:rt})}}else{var at=ot(et,""+nt);at&&(Ne.render.push(at),Ne.focusable.push(et))}return Ne}),{render:[],focusable:[]})};var nt=et.value;tt.cacheComponents=qi(tt.cacheComponents,exportedEqual).bind(_assertThisInitialized(_assertThisInitialized(tt))),tt.cacheComponents(et.components),tt.instancePrefix="react-select-"+(tt.props.instanceId||++Bc);var rt=Os(nt);tt.buildMenuOptions=qi(tt.buildMenuOptions,(function(Ne,et){var tt=Ne,nt=tt[0],rt=tt[1],it=et,ot=it[0];return exportedEqual(rt,it[1])&&exportedEqual(nt.inputValue,ot.inputValue)&&exportedEqual(nt.options,ot.options)})).bind(_assertThisInitialized(_assertThisInitialized(tt)));var it=et.menuIsOpen?tt.buildMenuOptions(et,rt):{render:[],focusable:[]};return tt.state.menuOptions=it,tt.state.selectValue=rt,tt}!function _inheritsLoose$4(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}(Select,Ne);var et=Select.prototype;return et.componentDidMount=function componentDidMount(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()},et.UNSAFE_componentWillReceiveProps=function UNSAFE_componentWillReceiveProps(Ne){var et=this.props,tt=et.options,nt=et.value,rt=et.menuIsOpen,it=et.inputValue;if(this.cacheComponents(Ne.components),Ne.value!==nt||Ne.options!==tt||Ne.menuIsOpen!==rt||Ne.inputValue!==it){var ot=Os(Ne.value),at=Ne.menuIsOpen?this.buildMenuOptions(Ne,ot):{render:[],focusable:[]},st=this.getNextFocusedValue(ot),ct=this.getNextFocusedOption(at.focusable);this.setState({menuOptions:at,selectValue:ot,focusedOption:ct,focusedValue:st})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)},et.componentDidUpdate=function componentDidUpdate(Ne){var et=this.props,tt=et.isDisabled,nt=et.menuIsOpen,rt=this.state.isFocused;(rt&&!tt&&Ne.isDisabled||rt&&nt&&!Ne.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function scrollIntoView(Ne,et){var tt=Ne.getBoundingClientRect(),nt=et.getBoundingClientRect(),rt=et.offsetHeight/3;nt.bottom+rt>tt.bottom?scrollTo(Ne,Math.min(et.offsetTop+et.clientHeight-Ne.offsetHeight+rt,Ne.scrollHeight)):nt.top-rt<tt.top&&scrollTo(Ne,Math.max(et.offsetTop-rt,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)},et.componentWillUnmount=function componentWillUnmount(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)},et.onMenuOpen=function onMenuOpen(){this.props.onMenuOpen()},et.onMenuClose=function onMenuClose(){var Ne=this.props,et=Ne.isSearchable,tt=Ne.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:et,isMulti:tt}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()},et.onInputChange=function onInputChange(Ne,et){this.props.onInputChange(Ne,et)},et.focusInput=function focusInput(){this.inputRef&&this.inputRef.focus()},et.blurInput=function blurInput(){this.inputRef&&this.inputRef.blur()},et.openMenu=function openMenu(Ne){var et=this,tt=this.state,nt=tt.selectValue,rt=tt.isFocused,it=this.buildMenuOptions(this.props,nt),ot=this.props.isMulti,at="first"===Ne?0:it.focusable.length-1;if(!ot){var st=it.focusable.indexOf(nt[0]);st>-1&&(at=st)}this.scrollToFocusedOptionOnUpdate=!(rt&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:it,focusedValue:null,focusedOption:it.focusable[at]},(function(){et.onMenuOpen(),et.announceAriaLiveContext({event:"menu"})}))},et.focusValue=function focusValue(Ne){var et=this.props,tt=et.isMulti,nt=et.isSearchable,rt=this.state,it=rt.selectValue,ot=rt.focusedValue;if(tt){this.setState({focusedOption:null});var at=it.indexOf(ot);ot||(at=-1,this.announceAriaLiveContext({event:"value"}));var st=it.length-1,ct=-1;if(it.length){switch(Ne){case"previous":ct=0===at?0:-1===at?st:at-1;break;case"next":at>-1&&at<st&&(ct=at+1)}-1===ct&&this.announceAriaLiveContext({event:"input",context:{isSearchable:nt,isMulti:tt}}),this.setState({inputIsHidden:-1!==ct,focusedValue:it[ct]})}}},et.focusOption=function focusOption(Ne){void 0===Ne&&(Ne="first");var et=this.props.pageSize,tt=this.state,nt=tt.focusedOption,rt=tt.menuOptions.focusable;if(rt.length){var it=0,ot=rt.indexOf(nt);nt||(ot=-1,this.announceAriaLiveContext({event:"menu"})),"up"===Ne?it=ot>0?ot-1:rt.length-1:"down"===Ne?it=(ot+1)%rt.length:"pageup"===Ne?(it=ot-et)<0&&(it=0):"pagedown"===Ne?(it=ot+et)>rt.length-1&&(it=rt.length-1):"last"===Ne&&(it=rt.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:rt[it],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Ac(rt[it])}})}},et.getTheme=function getTheme(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Dc):Select_9fdb8cd0_browser_esm_extends$4({},Dc,this.props.theme):Dc},et.getCommonProps=function getCommonProps(){var Ne=this.clearValue,et=this.getStyles,tt=this.setValue,nt=this.selectOption,rt=this.props,it=rt.classNamePrefix,ot=rt.isMulti,at=rt.isRtl,st=rt.options,ct=this.state.selectValue,pt=this.hasValue();return{cx:classNames.bind(null,it),clearValue:Ne,getStyles:et,getValue:function getValue(){return ct},hasValue:pt,isMulti:ot,isRtl:at,options:st,selectOption:nt,setValue:tt,selectProps:rt,theme:this.getTheme()}},et.getNextFocusedValue=function getNextFocusedValue(Ne){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var et=this.state,tt=et.focusedValue,nt=et.selectValue.indexOf(tt);if(nt>-1){if(Ne.indexOf(tt)>-1)return tt;if(nt<Ne.length)return Ne[nt]}return null},et.getNextFocusedOption=function getNextFocusedOption(Ne){var et=this.state.focusedOption;return et&&Ne.indexOf(et)>-1?et:Ne[0]},et.hasValue=function hasValue(){return this.state.selectValue.length>0},et.hasOptions=function hasOptions(){return!!this.state.menuOptions.render.length},et.countOptions=function countOptions(){return this.state.menuOptions.focusable.length},et.isClearable=function isClearable(){var Ne=this.props,isClearable=Ne.isClearable,et=Ne.isMulti;return void 0===isClearable?et:isClearable},et.isOptionDisabled=function isOptionDisabled(Ne,et){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(Ne,et)},et.isOptionSelected=function isOptionSelected(Ne,et){var tt=this;if(et.indexOf(Ne)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(Ne,et);var nt=this.getOptionValue(Ne);return et.some((function(Ne){return tt.getOptionValue(Ne)===nt}))},et.filterOption=function filterOption(Ne,et){return!this.props.filterOption||this.props.filterOption(Ne,et)},et.formatOptionLabel=function formatOptionLabel(Ne,et){if("function"==typeof this.props.formatOptionLabel){var tt=this.props.inputValue,nt=this.state.selectValue;return this.props.formatOptionLabel(Ne,{context:et,inputValue:tt,selectValue:nt})}return this.getOptionLabel(Ne)},et.formatGroupLabel=function formatGroupLabel(Ne){return this.props.formatGroupLabel(Ne)},et.startListeningComposition=function startListeningComposition(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))},et.stopListeningComposition=function stopListeningComposition(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))},et.startListeningToTouch=function startListeningToTouch(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))},et.stopListeningToTouch=function stopListeningToTouch(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))},et.constructAriaLiveMessage=function constructAriaLiveMessage(){var Ne=this.state,et=Ne.ariaLiveContext,tt=Ne.selectValue,nt=Ne.focusedValue,rt=Ne.focusedOption,it=this.props,ot=it.options,at=it.menuIsOpen,st=it.inputValue,ct=it.screenReaderStatus;return(nt?function valueFocusAriaMessage(Ne){var et=Ne.focusedValue,tt=Ne.getOptionLabel,nt=Ne.selectValue;return"value "+tt(et)+" focused, "+(nt.indexOf(et)+1)+" of "+nt.length+"."}({focusedValue:nt,getOptionLabel:this.getOptionLabel,selectValue:tt}):"")+" "+(rt&&at?function optionFocusAriaMessage(Ne){var et=Ne.focusedOption,tt=Ne.getOptionLabel,nt=Ne.options;return"option "+tt(et)+" focused"+(et.isDisabled?" disabled":"")+", "+(nt.indexOf(et)+1)+" of "+nt.length+"."}({focusedOption:rt,getOptionLabel:this.getOptionLabel,options:ot}):"")+" "+function resultsAriaMessage(Ne){var et=Ne.inputValue;return Ne.screenReaderMessage+(et?" for search term "+et:"")+"."}({inputValue:st,screenReaderMessage:ct({count:this.countOptions()})})+" "+et},et.renderInput=function renderInput(){var Ne=this.props,et=Ne.isDisabled,tt=Ne.isSearchable,nt=Ne.inputId,it=Ne.inputValue,ot=Ne.tabIndex,at=this.components.Input,st=this.state.inputIsHidden,ct=nt||this.getElementId("input"),pt={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!tt)return rt.a.createElement(DummyInput,Select_9fdb8cd0_browser_esm_extends$4({id:ct,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ms,onFocus:this.onInputFocus,readOnly:!0,disabled:et,tabIndex:ot,value:""},pt));var dt=this.commonProps,ft=dt.cx,mt=dt.theme,yt=dt.selectProps;return rt.a.createElement(at,Select_9fdb8cd0_browser_esm_extends$4({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:ft,getStyles:this.getStyles,id:ct,innerRef:this.getInputRef,isDisabled:et,isHidden:st,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:yt,spellCheck:"false",tabIndex:ot,theme:mt,type:"text",value:it},pt))},et.renderPlaceholderOrValue=function renderPlaceholderOrValue(){var Ne=this,et=this.components,tt=et.MultiValue,nt=et.MultiValueContainer,it=et.MultiValueLabel,ot=et.MultiValueRemove,at=et.SingleValue,st=et.Placeholder,ct=this.commonProps,pt=this.props,dt=pt.controlShouldRenderValue,ft=pt.isDisabled,mt=pt.isMulti,yt=pt.inputValue,vt=pt.placeholder,Ot=this.state,Dt=Ot.selectValue,Rt=Ot.focusedValue,Bt=Ot.isFocused;if(!this.hasValue()||!dt)return yt?null:rt.a.createElement(st,Select_9fdb8cd0_browser_esm_extends$4({},ct,{key:"placeholder",isDisabled:ft,isFocused:Bt}),vt);if(mt)return Dt.map((function(et,at){var st=et===Rt;return rt.a.createElement(tt,Select_9fdb8cd0_browser_esm_extends$4({},ct,{components:{Container:nt,Label:it,Remove:ot},isFocused:st,isDisabled:ft,key:Ne.getOptionValue(et),index:at,removeProps:{onClick:function onClick(){return Ne.removeValue(et)},onTouchEnd:function onTouchEnd(){return Ne.removeValue(et)},onMouseDown:function onMouseDown(Ne){Ne.preventDefault(),Ne.stopPropagation()}},data:et}),Ne.formatOptionLabel(et,"value"))}));if(yt)return null;var rn=Dt[0];return rt.a.createElement(at,Select_9fdb8cd0_browser_esm_extends$4({},ct,{data:rn,isDisabled:ft}),this.formatOptionLabel(rn,"value"))},et.renderClearIndicator=function renderClearIndicator(){var Ne=this.components.ClearIndicator,et=this.commonProps,tt=this.props,nt=tt.isDisabled,it=tt.isLoading,ot=this.state.isFocused;if(!this.isClearable()||!Ne||nt||!this.hasValue()||it)return null;var at={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return rt.a.createElement(Ne,Select_9fdb8cd0_browser_esm_extends$4({},et,{innerProps:at,isFocused:ot}))},et.renderLoadingIndicator=function renderLoadingIndicator(){var Ne=this.components.LoadingIndicator,et=this.commonProps,tt=this.props,nt=tt.isDisabled,it=tt.isLoading,ot=this.state.isFocused;if(!Ne||!it)return null;return rt.a.createElement(Ne,Select_9fdb8cd0_browser_esm_extends$4({},et,{innerProps:{"aria-hidden":"true"},isDisabled:nt,isFocused:ot}))},et.renderIndicatorSeparator=function renderIndicatorSeparator(){var Ne=this.components,et=Ne.DropdownIndicator,tt=Ne.IndicatorSeparator;if(!et||!tt)return null;var nt=this.commonProps,it=this.props.isDisabled,ot=this.state.isFocused;return rt.a.createElement(tt,Select_9fdb8cd0_browser_esm_extends$4({},nt,{isDisabled:it,isFocused:ot}))},et.renderDropdownIndicator=function renderDropdownIndicator(){var Ne=this.components.DropdownIndicator;if(!Ne)return null;var et=this.commonProps,tt=this.props.isDisabled,nt=this.state.isFocused,it={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return rt.a.createElement(Ne,Select_9fdb8cd0_browser_esm_extends$4({},et,{innerProps:it,isDisabled:tt,isFocused:nt}))},et.renderMenu=function renderMenu(){var Ne=this,et=this.components,tt=et.Group,nt=et.GroupHeading,it=et.Menu,ot=et.MenuList,at=et.MenuPortal,st=et.LoadingMessage,ct=et.NoOptionsMessage,pt=et.Option,dt=this.commonProps,ft=this.state,mt=ft.focusedOption,yt=ft.menuOptions,vt=this.props,Ot=vt.captureMenuScroll,Dt=vt.inputValue,Rt=vt.isLoading,Bt=vt.loadingMessage,rn=vt.minMenuHeight,vn=vt.maxMenuHeight,bn=vt.menuIsOpen,Tn=vt.menuPlacement,Cn=vt.menuPosition,In=vt.menuPortalTarget,Ln=vt.menuShouldBlockScroll,Mn=vt.menuShouldScrollIntoView,zn=vt.noOptionsMessage,Fn=vt.onMenuScrollToTop,Bn=vt.onMenuScrollToBottom;if(!bn)return null;var Nn,Vn=function render(et){var tt=mt===et.data;return et.innerRef=tt?Ne.getFocusedOptionRef:void 0,rt.a.createElement(pt,Select_9fdb8cd0_browser_esm_extends$4({},dt,et,{isFocused:tt}),Ne.formatOptionLabel(et.data,"menu"))};if(this.hasOptions())Nn=yt.render.map((function(et){if("group"===et.type){et.type;var it=function Select_9fdb8cd0_browser_esm_objectWithoutPropertiesLoose$2(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}(et,["type"]),ot=et.key+"-heading";return rt.a.createElement(tt,Select_9fdb8cd0_browser_esm_extends$4({},dt,it,{Heading:nt,headingProps:{id:ot},label:Ne.formatGroupLabel(et.data)}),et.options.map((function(Ne){return Vn(Ne)})))}if("option"===et.type)return Vn(et)}));else if(Rt){var Wn=Bt({inputValue:Dt});if(null===Wn)return null;Nn=rt.a.createElement(st,dt,Wn)}else{var $n=zn({inputValue:Dt});if(null===$n)return null;Nn=rt.a.createElement(ct,dt,$n)}var Yn={minMenuHeight:rn,maxMenuHeight:vn,menuPlacement:Tn,menuPosition:Cn,menuShouldScrollIntoView:Mn},er=rt.a.createElement(Bs,Select_9fdb8cd0_browser_esm_extends$4({},dt,Yn),(function(et){var tt=et.ref,nt=et.placerProps,at=nt.placement,st=nt.maxHeight;return rt.a.createElement(it,Select_9fdb8cd0_browser_esm_extends$4({},dt,Yn,{innerRef:tt,innerProps:{onMouseDown:Ne.onMenuMouseDown,onMouseMove:Ne.onMenuMouseMove},isLoading:Rt,placement:at}),rt.a.createElement(ScrollCaptorSwitch,{isEnabled:Ot,onTopArrive:Fn,onBottomArrive:Bn},rt.a.createElement(Ec,{isEnabled:Ln},rt.a.createElement(ot,Select_9fdb8cd0_browser_esm_extends$4({},dt,{innerRef:Ne.getMenuListRef,isLoading:Rt,maxHeight:st}),Nn))))}));return In||"fixed"===Cn?rt.a.createElement(at,Select_9fdb8cd0_browser_esm_extends$4({},dt,{appendTo:In,controlElement:this.controlRef,menuPlacement:Tn,menuPosition:Cn}),er):er},et.renderFormField=function renderFormField(){var Ne=this,et=this.props,tt=et.delimiter,nt=et.isDisabled,it=et.isMulti,ot=et.name,at=this.state.selectValue;if(ot&&!nt){if(it){if(tt){var st=at.map((function(et){return Ne.getOptionValue(et)})).join(tt);return rt.a.createElement("input",{name:ot,type:"hidden",value:st})}var ct=at.length>0?at.map((function(et,tt){return rt.a.createElement("input",{key:"i-"+tt,name:ot,type:"hidden",value:Ne.getOptionValue(et)})})):rt.a.createElement("input",{name:ot,type:"hidden"});return rt.a.createElement("div",null,ct)}var pt=at[0]?this.getOptionValue(at[0]):"";return rt.a.createElement("input",{name:ot,type:"hidden",value:pt})}},et.renderLiveRegion=function renderLiveRegion(){return this.state.isFocused?rt.a.createElement(Fu,{"aria-live":"polite"},rt.a.createElement("p",{id:"aria-selection-event"},"",this.state.ariaLiveSelection),rt.a.createElement("p",{id:"aria-context"},"",this.constructAriaLiveMessage())):null},et.render=function render(){var Ne=this.components,et=Ne.Control,tt=Ne.IndicatorsContainer,nt=Ne.SelectContainer,it=Ne.ValueContainer,ot=this.props,at=ot.className,st=ot.id,ct=ot.isDisabled,pt=ot.menuIsOpen,dt=this.state.isFocused,ft=this.commonProps=this.getCommonProps();return rt.a.createElement(nt,Select_9fdb8cd0_browser_esm_extends$4({},ft,{className:at,innerProps:{id:st,onKeyDown:this.onKeyDown},isDisabled:ct,isFocused:dt}),this.renderLiveRegion(),rt.a.createElement(et,Select_9fdb8cd0_browser_esm_extends$4({},ft,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:ct,isFocused:dt,menuIsOpen:pt}),rt.a.createElement(it,Select_9fdb8cd0_browser_esm_extends$4({},ft,{isDisabled:ct}),this.renderPlaceholderOrValue(),this.renderInput()),rt.a.createElement(tt,Select_9fdb8cd0_browser_esm_extends$4({},ft,{isDisabled:ct}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())},Select}(nt.Component);function stateManager_04f734a2_browser_esm_extends(){return(stateManager_04f734a2_browser_esm_extends=Object.assign||function(Ne){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(Ne[nt]=tt[nt])}return Ne}).apply(this,arguments)}Zc.defaultProps=Fc;var Wc={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};nt.Component;var Hc=function manageState(Ne){var et,tt;return tt=et=function(et){function StateManager(){for(var Ne,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(Ne=et.call.apply(et,[this].concat(nt))||this).select=void 0,Ne.state={inputValue:void 0!==Ne.props.inputValue?Ne.props.inputValue:Ne.props.defaultInputValue,menuIsOpen:void 0!==Ne.props.menuIsOpen?Ne.props.menuIsOpen:Ne.props.defaultMenuIsOpen,value:void 0!==Ne.props.value?Ne.props.value:Ne.props.defaultValue},Ne.onChange=function(et,tt){Ne.callProp("onChange",et,tt),Ne.setState({value:et})},Ne.onInputChange=function(et,tt){var nt=Ne.callProp("onInputChange",et,tt);Ne.setState({inputValue:void 0!==nt?nt:et})},Ne.onMenuOpen=function(){Ne.callProp("onMenuOpen"),Ne.setState({menuIsOpen:!0})},Ne.onMenuClose=function(){Ne.callProp("onMenuClose"),Ne.setState({menuIsOpen:!1})},Ne}!function stateManager_04f734a2_browser_esm_inheritsLoose(Ne,et){Ne.prototype=Object.create(et.prototype),Ne.prototype.constructor=Ne,Ne.__proto__=et}(StateManager,et);var tt=StateManager.prototype;return tt.focus=function focus(){this.select.focus()},tt.blur=function blur(){this.select.blur()},tt.getProp=function getProp(Ne){return void 0!==this.props[Ne]?this.props[Ne]:this.state[Ne]},tt.callProp=function callProp(Ne){if("function"==typeof this.props[Ne]){for(var et,tt=arguments.length,nt=new Array(tt>1?tt-1:0),rt=1;rt<tt;rt++)nt[rt-1]=arguments[rt];return(et=this.props)[Ne].apply(et,nt)}},tt.render=function render(){var et=this,tt=this.props,nt=(tt.defaultInputValue,tt.defaultMenuIsOpen,tt.defaultValue,function stateManager_04f734a2_browser_esm_objectWithoutPropertiesLoose(Ne,et){if(null==Ne)return{};var tt,nt,rt={},it=Object.keys(Ne);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=Ne[tt]);return rt}(tt,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return rt.a.createElement(Ne,stateManager_04f734a2_browser_esm_extends({},nt,{ref:function ref(Ne){et.select=Ne},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))},StateManager}(nt.Component),et.defaultProps=Wc,tt}(Zc),Gc=tt(229),Xc=tt(38);var $c=function makeStyles_makeStyles(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(Gc.a)(Ne,Object(pt.a)({defaultTheme:Xc.a},et))},Yc=tt(5),rp=tt(230);function useTheme_useTheme(){return Object(rp.a)()||Xc.a}var ip=tt(71),op=tt(2),ap=tt(3),sp=nt.forwardRef((function FormGroup(Ne,et){var tt=Ne.classes,rt=Ne.className,it=Ne.row,ot=void 0!==it&&it,at=Object(op.a)(Ne,["classes","className","row"]);return nt.createElement("div",Object(pt.a)({className:Object(ap.a)(tt.root,rt,ot&&tt.row),ref:et},at))})),lp=Object(Yc.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(sp),cp=nt.createContext();var pp=cp;function useFormControl_useFormControl(){return nt.useContext(pp)}var hp=tt(12),dp={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},fp=nt.forwardRef((function Typography(Ne,et){var tt=Ne.align,rt=void 0===tt?"inherit":tt,it=Ne.classes,ot=Ne.className,at=Ne.color,st=void 0===at?"initial":at,ct=Ne.component,dt=Ne.display,ft=void 0===dt?"initial":dt,mt=Ne.gutterBottom,yt=void 0!==mt&&mt,vt=Ne.noWrap,Ot=void 0!==vt&&vt,Dt=Ne.paragraph,Rt=void 0!==Dt&&Dt,Bt=Ne.variant,rn=void 0===Bt?"body1":Bt,vn=Ne.variantMapping,bn=void 0===vn?dp:vn,Tn=Object(op.a)(Ne,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Cn=ct||(Rt?"p":bn[rn]||dp[rn])||"span";return nt.createElement(Cn,Object(pt.a)({className:Object(ap.a)(it.root,ot,"inherit"!==rn&&it[rn],"initial"!==st&&it["color".concat(Object(hp.a)(st))],Ot&&it.noWrap,yt&&it.gutterBottom,Rt&&it.paragraph,"inherit"!==rt&&it["align".concat(Object(hp.a)(rt))],"initial"!==ft&&it["display".concat(Object(hp.a)(ft))]),ref:et},Tn))})),mp=Object(Yc.a)((function styles(Ne){return{root:{margin:0},body2:Ne.typography.body2,body1:Ne.typography.body1,caption:Ne.typography.caption,button:Ne.typography.button,h1:Ne.typography.h1,h2:Ne.typography.h2,h3:Ne.typography.h3,h4:Ne.typography.h4,h5:Ne.typography.h5,h6:Ne.typography.h6,subtitle1:Ne.typography.subtitle1,subtitle2:Ne.typography.subtitle2,overline:Ne.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:Ne.palette.primary.main},colorSecondary:{color:Ne.palette.secondary.main},colorTextPrimary:{color:Ne.palette.text.primary},colorTextSecondary:{color:Ne.palette.text.secondary},colorError:{color:Ne.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(fp),gp=nt.forwardRef((function FormControlLabel(Ne,et){Ne.checked;var tt=Ne.classes,rt=Ne.className,it=Ne.control,ot=Ne.disabled,at=(Ne.inputRef,Ne.label),st=Ne.labelPlacement,ct=void 0===st?"end":st,dt=(Ne.name,Ne.onChange,Ne.value,Object(op.a)(Ne,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),ft=useFormControl_useFormControl(),mt=ot;void 0===mt&&void 0!==it.props.disabled&&(mt=it.props.disabled),void 0===mt&&ft&&(mt=ft.disabled);var yt={disabled:mt};return["checked","name","onChange","value","inputRef"].forEach((function(et){void 0===it.props[et]&&void 0!==Ne[et]&&(yt[et]=Ne[et])})),nt.createElement("label",Object(pt.a)({className:Object(ap.a)(tt.root,rt,"end"!==ct&&tt["labelPlacement".concat(Object(hp.a)(ct))],mt&&tt.disabled),ref:et},dt),nt.cloneElement(it,yt),nt.createElement(mp,{component:"span",className:Object(ap.a)(tt.label,mt&&tt.disabled)},at))})),yp=Object(Yc.a)((function styles(Ne){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:Ne.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(gp),vp=tt(27);function useControlled(Ne){var et=Ne.controlled,tt=Ne.default,rt=(Ne.name,Ne.state,nt.useRef(void 0!==et).current),it=nt.useState(tt),ot=it[0],at=it[1];return[rt?et:ot,nt.useCallback((function(Ne){rt||at(Ne)}),[])]}var _p=tt(21);function setRef(Ne,et){"function"==typeof Ne?Ne(et):Ne&&(Ne.current=et)}function useForkRef(Ne,et){return nt.useMemo((function(){return null==Ne&&null==et?null:function(tt){setRef(Ne,tt),setRef(et,tt)}}),[Ne,et])}var bp="undefined"!=typeof window?nt.useLayoutEffect:nt.useEffect;function useEventCallback(Ne){var et=nt.useRef(Ne);return bp((function(){et.current=Ne})),nt.useCallback((function(){return et.current.apply(void 0,arguments)}),[])}var xp=!0,wp=!1,Sp=null,Ep={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function useIsFocusVisible_handleKeyDown(Ne){Ne.metaKey||Ne.altKey||Ne.ctrlKey||(xp=!0)}function handlePointerDown(){xp=!1}function handleVisibilityChange(){"hidden"===this.visibilityState&&wp&&(xp=!0)}function useIsFocusVisible_isFocusVisible(Ne){var et=Ne.target;try{return et.matches(":focus-visible")}catch(Ne){}return xp||function focusTriggersKeyboardModality(Ne){var et=Ne.type,tt=Ne.tagName;return!("INPUT"!==tt||!Ep[et]||Ne.readOnly)||("TEXTAREA"===tt&&!Ne.readOnly||!!Ne.isContentEditable)}(et)}function handleBlurVisible(){wp=!0,window.clearTimeout(Sp),Sp=window.setTimeout((function(){wp=!1}),100)}function useIsFocusVisible(){return{isFocusVisible:useIsFocusVisible_isFocusVisible,onBlurVisible:handleBlurVisible,ref:nt.useCallback((function(Ne){var et=it.findDOMNode(Ne);null!=et&&function prepare(Ne){Ne.addEventListener("keydown",useIsFocusVisible_handleKeyDown,!0),Ne.addEventListener("mousedown",handlePointerDown,!0),Ne.addEventListener("pointerdown",handlePointerDown,!0),Ne.addEventListener("touchstart",handlePointerDown,!0),Ne.addEventListener("visibilitychange",handleVisibilityChange,!0)}(et.ownerDocument)}),[])}}var Tp=tt(28),Cp=tt(60),Pp=rt.a.createContext(null);function getChildMapping(Ne,et){var tt=Object.create(null);return Ne&&nt.Children.map(Ne,(function(Ne){return Ne})).forEach((function(Ne){tt[Ne.key]=function mapper(Ne){return et&&Object(nt.isValidElement)(Ne)?et(Ne):Ne}(Ne)})),tt}function getProp(Ne,et,tt){return null!=tt[et]?tt[et]:Ne.props[et]}function getNextChildMapping(Ne,et,tt){var rt=getChildMapping(Ne.children),it=function mergeChildMappings(Ne,et){function getValueForKey(tt){return tt in et?et[tt]:Ne[tt]}Ne=Ne||{},et=et||{};var tt,nt=Object.create(null),rt=[];for(var it in Ne)it in et?rt.length&&(nt[it]=rt,rt=[]):rt.push(it);var ot={};for(var at in et){if(nt[at])for(tt=0;tt<nt[at].length;tt++){var st=nt[at][tt];ot[nt[at][tt]]=getValueForKey(st)}ot[at]=getValueForKey(at)}for(tt=0;tt<rt.length;tt++)ot[rt[tt]]=getValueForKey(rt[tt]);return ot}(et,rt);return Object.keys(it).forEach((function(ot){var at=it[ot];if(Object(nt.isValidElement)(at)){var st=ot in et,ct=ot in rt,pt=et[ot],dt=Object(nt.isValidElement)(pt)&&!pt.props.in;!ct||st&&!dt?ct||!st||dt?ct&&st&&Object(nt.isValidElement)(pt)&&(it[ot]=Object(nt.cloneElement)(at,{onExited:tt.bind(null,at),in:pt.props.in,exit:getProp(at,"exit",Ne),enter:getProp(at,"enter",Ne)})):it[ot]=Object(nt.cloneElement)(at,{in:!1}):it[ot]=Object(nt.cloneElement)(at,{onExited:tt.bind(null,at),in:!0,exit:getProp(at,"exit",Ne),enter:getProp(at,"enter",Ne)})}})),it}var kp=Object.values||function(Ne){return Object.keys(Ne).map((function(et){return Ne[et]}))},Ip=function(Ne){function TransitionGroup(et,tt){var nt,rt=(nt=Ne.call(this,et,tt)||this).handleExited.bind(Object(Cp.a)(nt));return nt.state={contextValue:{isMounting:!0},handleExited:rt,firstRender:!0},nt}Object(at.a)(TransitionGroup,Ne);var et=TransitionGroup.prototype;return et.componentDidMount=function componentDidMount(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},et.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(Ne,et){var tt,rt,it=et.children,ot=et.handleExited;return{children:et.firstRender?(tt=Ne,rt=ot,getChildMapping(tt.children,(function(Ne){return Object(nt.cloneElement)(Ne,{onExited:rt.bind(null,Ne),in:!0,appear:getProp(Ne,"appear",tt),enter:getProp(Ne,"enter",tt),exit:getProp(Ne,"exit",tt)})}))):getNextChildMapping(Ne,it,ot),firstRender:!1}},et.handleExited=function handleExited(Ne,et){var tt=getChildMapping(this.props.children);Ne.key in tt||(Ne.props.onExited&&Ne.props.onExited(et),this.mounted&&this.setState((function(et){var tt=Object(pt.a)({},et.children);return delete tt[Ne.key],{children:tt}})))},et.render=function render(){var Ne=this.props,et=Ne.component,tt=Ne.childFactory,nt=Object(Rt.a)(Ne,["component","childFactory"]),it=this.state.contextValue,ot=kp(this.state.children).map(tt);return delete nt.appear,delete nt.enter,delete nt.exit,null===et?rt.a.createElement(Pp.Provider,{value:it},ot):rt.a.createElement(Pp.Provider,{value:it},rt.a.createElement(et,nt,ot))},TransitionGroup}(rt.a.Component);Ip.propTypes={},Ip.defaultProps={component:"div",childFactory:function childFactory(Ne){return Ne}};var Ap=Ip,Lp="undefined"==typeof window?nt.useEffect:nt.useLayoutEffect;var Mp=function Ripple(Ne){var et=Ne.classes,tt=Ne.pulsate,rt=void 0!==tt&&tt,it=Ne.rippleX,ot=Ne.rippleY,at=Ne.rippleSize,st=Ne.in,ct=Ne.onExited,pt=void 0===ct?function(){}:ct,dt=Ne.timeout,ft=nt.useState(!1),mt=ft[0],yt=ft[1],vt=Object(ap.a)(et.ripple,et.rippleVisible,rt&&et.ripplePulsate),Ot={width:at,height:at,top:-at/2+ot,left:-at/2+it},Dt=Object(ap.a)(et.child,mt&&et.childLeaving,rt&&et.childPulsate),Rt=useEventCallback(pt);return Lp((function(){if(!st){yt(!0);var Ne=setTimeout(Rt,dt);return function(){clearTimeout(Ne)}}}),[Rt,st,dt]),nt.createElement("span",{className:vt,style:Ot},nt.createElement("span",{className:Dt}))},Op=nt.forwardRef((function TouchRipple(Ne,et){var tt=Ne.center,rt=void 0!==tt&&tt,it=Ne.classes,ot=Ne.className,at=Object(op.a)(Ne,["center","classes","className"]),st=nt.useState([]),ct=st[0],dt=st[1],ft=nt.useRef(0),mt=nt.useRef(null);nt.useEffect((function(){mt.current&&(mt.current(),mt.current=null)}),[ct]);var yt=nt.useRef(!1),vt=nt.useRef(null),Ot=nt.useRef(null),Dt=nt.useRef(null);nt.useEffect((function(){return function(){clearTimeout(vt.current)}}),[]);var Rt=nt.useCallback((function(Ne){var et=Ne.pulsate,tt=Ne.rippleX,rt=Ne.rippleY,ot=Ne.rippleSize,at=Ne.cb;dt((function(Ne){return[].concat(Object(Tp.a)(Ne),[nt.createElement(Mp,{key:ft.current,classes:it,timeout:550,pulsate:et,rippleX:tt,rippleY:rt,rippleSize:ot})])})),ft.current+=1,mt.current=at}),[it]),Bt=nt.useCallback((function(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=arguments.length>2?arguments[2]:void 0,nt=et.pulsate,it=void 0!==nt&&nt,ot=et.center,at=void 0===ot?rt||et.pulsate:ot,st=et.fakeElement,ct=void 0!==st&&st;if("mousedown"===Ne.type&&yt.current)yt.current=!1;else{"touchstart"===Ne.type&&(yt.current=!0);var pt,dt,ft,mt=ct?null:Dt.current,Bt=mt?mt.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(at||0===Ne.clientX&&0===Ne.clientY||!Ne.clientX&&!Ne.touches)pt=Math.round(Bt.width/2),dt=Math.round(Bt.height/2);else{var rn=Ne.touches?Ne.touches[0]:Ne,vn=rn.clientX,bn=rn.clientY;pt=Math.round(vn-Bt.left),dt=Math.round(bn-Bt.top)}if(at)(ft=Math.sqrt((2*Math.pow(Bt.width,2)+Math.pow(Bt.height,2))/3))%2==0&&(ft+=1);else{var Tn=2*Math.max(Math.abs((mt?mt.clientWidth:0)-pt),pt)+2,Cn=2*Math.max(Math.abs((mt?mt.clientHeight:0)-dt),dt)+2;ft=Math.sqrt(Math.pow(Tn,2)+Math.pow(Cn,2))}Ne.touches?null===Ot.current&&(Ot.current=function(){Rt({pulsate:it,rippleX:pt,rippleY:dt,rippleSize:ft,cb:tt})},vt.current=setTimeout((function(){Ot.current&&(Ot.current(),Ot.current=null)}),80)):Rt({pulsate:it,rippleX:pt,rippleY:dt,rippleSize:ft,cb:tt})}}),[rt,Rt]),rn=nt.useCallback((function(){Bt({},{pulsate:!0})}),[Bt]),vn=nt.useCallback((function(Ne,et){if(clearTimeout(vt.current),"touchend"===Ne.type&&Ot.current)return Ne.persist(),Ot.current(),Ot.current=null,void(vt.current=setTimeout((function(){vn(Ne,et)})));Ot.current=null,dt((function(Ne){return Ne.length>0?Ne.slice(1):Ne})),mt.current=et}),[]);return nt.useImperativeHandle(et,(function(){return{pulsate:rn,start:Bt,stop:vn}}),[rn,Bt,vn]),nt.createElement("span",Object(pt.a)({className:Object(ap.a)(it.root,ot),ref:Dt},at),nt.createElement(Ap,{component:null,exit:!0},ct))})),zp=Object(Yc.a)((function styles(Ne){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(Ne.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(Ne.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(Ne.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(Ne.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(nt.memo(Op)),Dp=nt.forwardRef((function ButtonBase(Ne,et){var tt=Ne.action,rt=Ne.buttonRef,ot=Ne.centerRipple,at=void 0!==ot&&ot,st=Ne.children,ct=Ne.classes,dt=Ne.className,ft=Ne.component,mt=void 0===ft?"button":ft,yt=Ne.disabled,vt=void 0!==yt&&yt,Ot=Ne.disableRipple,Dt=void 0!==Ot&&Ot,Rt=Ne.disableTouchRipple,Bt=void 0!==Rt&&Rt,rn=Ne.focusRipple,vn=void 0!==rn&&rn,bn=Ne.focusVisibleClassName,Tn=Ne.onBlur,Cn=Ne.onClick,In=Ne.onFocus,Ln=Ne.onFocusVisible,Mn=Ne.onKeyDown,zn=Ne.onKeyUp,Fn=Ne.onMouseDown,Bn=Ne.onMouseLeave,Nn=Ne.onMouseUp,Vn=Ne.onTouchEnd,Wn=Ne.onTouchMove,$n=Ne.onTouchStart,Yn=Ne.onDragLeave,er=Ne.tabIndex,rr=void 0===er?0:er,vr=Ne.TouchRippleProps,wr=Ne.type,Sr=void 0===wr?"button":wr,ii=Object(op.a)(Ne,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),qi=nt.useRef(null);var uo=nt.useRef(null),po=nt.useState(!1),vo=po[0],So=po[1];vt&&vo&&So(!1);var ta=useIsFocusVisible(),na=ta.isFocusVisible,ia=ta.onBlurVisible,sa=ta.ref;function useRippleHandler(Ne,et){var tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt;return useEventCallback((function(nt){return et&&et(nt),!tt&&uo.current&&uo.current[Ne](nt),!0}))}nt.useImperativeHandle(tt,(function(){return{focusVisible:function focusVisible(){So(!0),qi.current.focus()}}}),[]),nt.useEffect((function(){vo&&vn&&!Dt&&uo.current.pulsate()}),[Dt,vn,vo]);var la=useRippleHandler("start",Fn),pa=useRippleHandler("stop",Yn),fa=useRippleHandler("stop",Nn),ga=useRippleHandler("stop",(function(Ne){vo&&Ne.preventDefault(),Bn&&Bn(Ne)})),va=useRippleHandler("start",$n),_a=useRippleHandler("stop",Vn),wa=useRippleHandler("stop",Wn),Aa=useRippleHandler("stop",(function(Ne){vo&&(ia(Ne),So(!1)),Tn&&Tn(Ne)}),!1),os=useEventCallback((function(Ne){qi.current||(qi.current=Ne.currentTarget),na(Ne)&&(So(!0),Ln&&Ln(Ne)),In&&In(Ne)})),as=function isNonNativeButton(){var Ne=function getButtonNode(){return it.findDOMNode(qi.current)}();return mt&&"button"!==mt&&!("A"===Ne.tagName&&Ne.href)},ss=nt.useRef(!1),ls=useEventCallback((function(Ne){vn&&!ss.current&&vo&&uo.current&&" "===Ne.key&&(ss.current=!0,Ne.persist(),uo.current.stop(Ne,(function(){uo.current.start(Ne)}))),Ne.target===Ne.currentTarget&&as()&&" "===Ne.key&&Ne.preventDefault(),Mn&&Mn(Ne),Ne.target===Ne.currentTarget&&as()&&"Enter"===Ne.key&&!vt&&(Ne.preventDefault(),Cn&&Cn(Ne))})),us=useEventCallback((function(Ne){vn&&" "===Ne.key&&uo.current&&vo&&!Ne.defaultPrevented&&(ss.current=!1,Ne.persist(),uo.current.stop(Ne,(function(){uo.current.pulsate(Ne)}))),zn&&zn(Ne),Cn&&Ne.target===Ne.currentTarget&&as()&&" "===Ne.key&&!Ne.defaultPrevented&&Cn(Ne)})),fs=mt;"button"===fs&&ii.href&&(fs="a");var gs={};"button"===fs?(gs.type=Sr,gs.disabled=vt):("a"===fs&&ii.href||(gs.role="button"),gs["aria-disabled"]=vt);var vs=useForkRef(rt,et),xs=useForkRef(sa,qi),Ss=useForkRef(vs,xs),Es=nt.useState(!1),Cs=Es[0],Ps=Es[1];nt.useEffect((function(){Ps(!0)}),[]);var As=Cs&&!Dt&&!vt;return nt.createElement(fs,Object(pt.a)({className:Object(ap.a)(ct.root,dt,vo&&[ct.focusVisible,bn],vt&&ct.disabled),onBlur:Aa,onClick:Cn,onFocus:os,onKeyDown:ls,onKeyUp:us,onMouseDown:la,onMouseLeave:ga,onMouseUp:fa,onDragLeave:pa,onTouchEnd:_a,onTouchMove:wa,onTouchStart:va,ref:Ss,tabIndex:vt?-1:rr},gs,ii),st,As?nt.createElement(zp,Object(pt.a)({ref:uo,center:at},vr)):null)})),Rp=Object(Yc.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Dp),Fp=nt.forwardRef((function IconButton(Ne,et){var tt=Ne.edge,rt=void 0!==tt&&tt,it=Ne.children,ot=Ne.classes,at=Ne.className,st=Ne.color,ct=void 0===st?"default":st,dt=Ne.disabled,ft=void 0!==dt&&dt,mt=Ne.disableFocusRipple,yt=void 0!==mt&&mt,vt=Ne.size,Ot=void 0===vt?"medium":vt,Dt=Object(op.a)(Ne,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return nt.createElement(Rp,Object(pt.a)({className:Object(ap.a)(ot.root,at,"default"!==ct&&ot["color".concat(Object(hp.a)(ct))],ft&&ot.disabled,"small"===Ot&&ot["size".concat(Object(hp.a)(Ot))],{start:ot.edgeStart,end:ot.edgeEnd}[rt]),centerRipple:!0,focusRipple:!yt,disabled:ft,ref:et},Dt),nt.createElement("span",{className:ot.label},it))})),Bp=Object(Yc.a)((function styles(Ne){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:Ne.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:Ne.palette.action.active,transition:Ne.transitions.create("background-color",{duration:Ne.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(_p.b)(Ne.palette.action.active,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:Ne.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:Ne.palette.primary.main,"&:hover":{backgroundColor:Object(_p.b)(Ne.palette.primary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:Ne.palette.secondary.main,"&:hover":{backgroundColor:Object(_p.b)(Ne.palette.secondary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:Ne.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(Fp),jp=nt.forwardRef((function SwitchBase(Ne,et){var tt=Ne.autoFocus,rt=Ne.checked,it=Ne.checkedIcon,ot=Ne.classes,at=Ne.className,st=Ne.defaultChecked,ct=Ne.disabled,dt=Ne.icon,ft=Ne.id,mt=Ne.inputProps,yt=Ne.inputRef,vt=Ne.name,Ot=Ne.onBlur,Dt=Ne.onChange,Rt=Ne.onFocus,Bt=Ne.readOnly,rn=Ne.required,vn=Ne.tabIndex,bn=Ne.type,Tn=Ne.value,Cn=Object(op.a)(Ne,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),In=useControlled({controlled:rt,default:Boolean(st),name:"SwitchBase",state:"checked"}),Ln=Object(vp.a)(In,2),Mn=Ln[0],zn=Ln[1],Fn=useFormControl_useFormControl(),Bn=ct;Fn&&void 0===Bn&&(Bn=Fn.disabled);var Nn="checkbox"===bn||"radio"===bn;return nt.createElement(Bp,Object(pt.a)({component:"span",className:Object(ap.a)(ot.root,at,Mn&&ot.checked,Bn&&ot.disabled),disabled:Bn,tabIndex:null,role:void 0,onFocus:function handleFocus(Ne){Rt&&Rt(Ne),Fn&&Fn.onFocus&&Fn.onFocus(Ne)},onBlur:function handleBlur(Ne){Ot&&Ot(Ne),Fn&&Fn.onBlur&&Fn.onBlur(Ne)},ref:et},Cn),nt.createElement("input",Object(pt.a)({autoFocus:tt,checked:rt,defaultChecked:st,className:ot.input,disabled:Bn,id:Nn&&ft,name:vt,onChange:function handleInputChange(Ne){var et=Ne.target.checked;zn(et),Dt&&Dt(Ne,et)},readOnly:Bt,ref:yt,required:rn,tabIndex:vn,type:bn,value:Tn},mt)),Mn?it:dt)})),Np=Object(Yc.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(jp),Vp=tt(109);function createSvgIcon(Ne,et){var tt=function Component(et,tt){return rt.a.createElement(Vp.a,Object(pt.a)({ref:tt},et),Ne)};return tt.muiName=Vp.a.muiName,rt.a.memo(rt.a.forwardRef(tt))}var Up=createSvgIcon(nt.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Zp=createSvgIcon(nt.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),qp=createSvgIcon(nt.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"})),Wp=nt.createElement(Zp,null),Hp=nt.createElement(Up,null),Gp=nt.createElement(qp,null),Xp=nt.forwardRef((function Checkbox(Ne,et){var tt=Ne.checkedIcon,rt=void 0===tt?Wp:tt,it=Ne.classes,ot=Ne.color,at=void 0===ot?"secondary":ot,st=Ne.icon,ct=void 0===st?Hp:st,dt=Ne.indeterminate,ft=void 0!==dt&&dt,mt=Ne.indeterminateIcon,yt=void 0===mt?Gp:mt,vt=Ne.inputProps,Ot=Ne.size,Dt=void 0===Ot?"medium":Ot,Rt=Object(op.a)(Ne,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),Bt=ft?yt:ct,rn=ft?yt:rt;return nt.createElement(Np,Object(pt.a)({type:"checkbox",classes:{root:Object(ap.a)(it.root,it["color".concat(Object(hp.a)(at))],ft&&it.indeterminate),checked:it.checked,disabled:it.disabled},color:at,inputProps:Object(pt.a)({"data-indeterminate":ft},vt),icon:nt.cloneElement(Bt,{fontSize:void 0===Bt.props.fontSize&&"small"===Dt?Dt:Bt.props.fontSize}),checkedIcon:nt.cloneElement(rn,{fontSize:void 0===rn.props.fontSize&&"small"===Dt?Dt:rn.props.fontSize}),ref:et},Rt))})),$p=Object(Yc.a)((function styles(Ne){return{root:{color:Ne.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:Ne.palette.primary.main,"&:hover":{backgroundColor:Object(_p.b)(Ne.palette.primary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:Ne.palette.action.disabled}},colorSecondary:{"&$checked":{color:Ne.palette.secondary.main,"&:hover":{backgroundColor:Object(_p.b)(Ne.palette.secondary.main,Ne.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:Ne.palette.action.disabled}}}}),{name:"MuiCheckbox"})(Xp),Kp=tt(125),Yp=tt.n(Kp),Jp=tt(126),Qp=tt.n(Jp);function easeOut(Ne){return Ne=function getRelativeValue(Ne,et,tt){return(Math.min(Math.max(et,Ne),tt)-et)/(tt-et)}(Ne,0,1),Ne=(Ne-=1)*Ne*Ne+1}var rh=nt.forwardRef((function CircularProgress(Ne,et){var tt=Ne.classes,rt=Ne.className,it=Ne.color,ot=void 0===it?"primary":it,at=Ne.disableShrink,st=void 0!==at&&at,ct=Ne.size,dt=void 0===ct?40:ct,ft=Ne.style,mt=Ne.thickness,yt=void 0===mt?3.6:mt,vt=Ne.value,Ot=void 0===vt?0:vt,Dt=Ne.variant,Rt=void 0===Dt?"indeterminate":Dt,Bt=Object(op.a)(Ne,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),rn={},vn={},bn={};if("determinate"===Rt||"static"===Rt){var Tn=2*Math.PI*((44-yt)/2);rn.strokeDasharray=Tn.toFixed(3),bn["aria-valuenow"]=Math.round(Ot),"static"===Rt?(rn.strokeDashoffset="".concat(((100-Ot)/100*Tn).toFixed(3),"px"),vn.transform="rotate(-90deg)"):(rn.strokeDashoffset="".concat((function easeIn(Ne){return Ne*Ne}((100-Ot)/100)*Tn).toFixed(3),"px"),vn.transform="rotate(".concat((270*easeOut(Ot/70)).toFixed(3),"deg)"))}return nt.createElement("div",Object(pt.a)({className:Object(ap.a)(tt.root,rt,"inherit"!==ot&&tt["color".concat(Object(hp.a)(ot))],{indeterminate:tt.indeterminate,static:tt.static}[Rt]),style:Object(pt.a)({width:dt,height:dt},vn,ft),ref:et,role:"progressbar"},bn,Bt),nt.createElement("svg",{className:tt.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},nt.createElement("circle",{className:Object(ap.a)(tt.circle,st&&tt.circleDisableShrink,{indeterminate:tt.circleIndeterminate,static:tt.circleStatic}[Rt]),style:rn,cx:44,cy:44,r:(44-yt)/2,fill:"none",strokeWidth:yt})))})),ah=Object(Yc.a)((function styles(Ne){return{root:{display:"inline-block"},static:{transition:Ne.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:Ne.palette.primary.main},colorSecondary:{color:Ne.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:Ne.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(rh),sh=tt(226),lh=tt(33),ph=tt(128);function ownerDocument(Ne){return Ne&&Ne.ownerDocument||document}function debounce(Ne){var et,tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function debounced(){for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];var ot=this,at=function later(){Ne.apply(ot,rt)};clearTimeout(et),et=setTimeout(at,tt)}return debounced.clear=function(){clearTimeout(et)},debounced}function ownerWindow(Ne){return ownerDocument(Ne).defaultView||window}function createChainedFunction(){for(var Ne=arguments.length,et=new Array(Ne),tt=0;tt<Ne;tt++)et[tt]=arguments[tt];return et.reduce((function(Ne,et){return null==et?Ne:function chainedFunction(){for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];Ne.apply(this,nt),et.apply(this,nt)}}),(function(){}))}var mh=tt(228);var _h="undefined"!=typeof window?nt.useLayoutEffect:nt.useEffect;var bh=nt.forwardRef((function Portal(Ne,et){var tt=Ne.children,rt=Ne.container,ot=Ne.disablePortal,at=void 0!==ot&&ot,st=Ne.onRendered,ct=nt.useState(null),pt=ct[0],dt=ct[1],ft=useForkRef(nt.isValidElement(tt)?tt.ref:null,et);return _h((function(){at||dt(function getContainer(Ne){return Ne="function"==typeof Ne?Ne():Ne,it.findDOMNode(Ne)}(rt)||document.body)}),[rt,at]),_h((function(){if(pt&&!at)return setRef(et,pt),function(){setRef(et,null)}}),[et,pt,at]),_h((function(){st&&(pt||at)&&st()}),[st,pt,at]),at?nt.isValidElement(tt)?nt.cloneElement(tt,{ref:ft}):tt:pt?it.createPortal(tt,pt):pt})),Ph=tt(69);var kh=tt(39);function getScrollbarSize(){var Ne=document.createElement("div");Ne.style.width="99px",Ne.style.height="99px",Ne.style.position="absolute",Ne.style.top="-9999px",Ne.style.overflow="scroll",document.body.appendChild(Ne);var et=Ne.offsetWidth-Ne.clientWidth;return document.body.removeChild(Ne),et}function ariaHidden(Ne,et){et?Ne.setAttribute("aria-hidden","true"):Ne.removeAttribute("aria-hidden")}function getPaddingRight(Ne){return parseInt(window.getComputedStyle(Ne)["padding-right"],10)||0}function ariaHiddenSiblings(Ne,et,tt){var nt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],rt=arguments.length>4?arguments[4]:void 0,it=[et,tt].concat(Object(Tp.a)(nt)),ot=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(Ne.children,(function(Ne){1===Ne.nodeType&&-1===it.indexOf(Ne)&&-1===ot.indexOf(Ne.tagName)&&ariaHidden(Ne,rt)}))}function findIndexOf(Ne,et){var tt=-1;return Ne.some((function(Ne,nt){return!!et(Ne)&&(tt=nt,!0)})),tt}function handleContainer(Ne,et){var tt,nt=[],rt=[],it=Ne.container;if(!et.disableScrollLock){if(function isOverflowing(Ne){var et=ownerDocument(Ne);return et.body===Ne?ownerWindow(et).innerWidth>et.documentElement.clientWidth:Ne.scrollHeight>Ne.clientHeight}(it)){var ot=getScrollbarSize();nt.push({value:it.style.paddingRight,key:"padding-right",el:it}),it.style["padding-right"]="".concat(getPaddingRight(it)+ot,"px"),tt=ownerDocument(it).querySelectorAll(".mui-fixed"),[].forEach.call(tt,(function(Ne){rt.push(Ne.style.paddingRight),Ne.style.paddingRight="".concat(getPaddingRight(Ne)+ot,"px")}))}var at=it.parentElement,st="HTML"===at.nodeName&&"scroll"===window.getComputedStyle(at)["overflow-y"]?at:it;nt.push({value:st.style.overflow,key:"overflow",el:st}),st.style.overflow="hidden"}return function restore(){tt&&[].forEach.call(tt,(function(Ne,et){rt[et]?Ne.style.paddingRight=rt[et]:Ne.style.removeProperty("padding-right")})),nt.forEach((function(Ne){var et=Ne.value,tt=Ne.el,nt=Ne.key;et?tt.style.setProperty(nt,et):tt.style.removeProperty(nt)}))}}var Oh=function(){function ModalManager(){!function _classCallCheck(Ne,et){if(!(Ne instanceof et))throw new TypeError("Cannot call a class as a function")}(this,ModalManager),this.modals=[],this.containers=[]}return Object(kh.a)(ModalManager,[{key:"add",value:function add(Ne,et){var tt=this.modals.indexOf(Ne);if(-1!==tt)return tt;tt=this.modals.length,this.modals.push(Ne),Ne.modalRef&&ariaHidden(Ne.modalRef,!1);var nt=function getHiddenSiblings(Ne){var et=[];return[].forEach.call(Ne.children,(function(Ne){Ne.getAttribute&&"true"===Ne.getAttribute("aria-hidden")&&et.push(Ne)})),et}(et);ariaHiddenSiblings(et,Ne.mountNode,Ne.modalRef,nt,!0);var rt=findIndexOf(this.containers,(function(Ne){return Ne.container===et}));return-1!==rt?(this.containers[rt].modals.push(Ne),tt):(this.containers.push({modals:[Ne],container:et,restore:null,hiddenSiblingNodes:nt}),tt)}},{key:"mount",value:function mount(Ne,et){var tt=findIndexOf(this.containers,(function(et){return-1!==et.modals.indexOf(Ne)})),nt=this.containers[tt];nt.restore||(nt.restore=handleContainer(nt,et))}},{key:"remove",value:function remove(Ne){var et=this.modals.indexOf(Ne);if(-1===et)return et;var tt=findIndexOf(this.containers,(function(et){return-1!==et.modals.indexOf(Ne)})),nt=this.containers[tt];if(nt.modals.splice(nt.modals.indexOf(Ne),1),this.modals.splice(et,1),0===nt.modals.length)nt.restore&&nt.restore(),Ne.modalRef&&ariaHidden(Ne.modalRef,!0),ariaHiddenSiblings(nt.container,Ne.mountNode,Ne.modalRef,nt.hiddenSiblingNodes,!1),this.containers.splice(tt,1);else{var rt=nt.modals[nt.modals.length-1];rt.modalRef&&ariaHidden(rt.modalRef,!1)}return et}},{key:"isTopModal",value:function isTopModal(Ne){return this.modals.length>0&&this.modals[this.modals.length-1]===Ne}}]),ModalManager}();var jh=function Unstable_TrapFocus(Ne){var et=Ne.children,tt=Ne.disableAutoFocus,rt=void 0!==tt&&tt,ot=Ne.disableEnforceFocus,at=void 0!==ot&&ot,st=Ne.disableRestoreFocus,ct=void 0!==st&&st,pt=Ne.getDoc,dt=Ne.isEnabled,ft=Ne.open,mt=nt.useRef(),yt=nt.useRef(null),vt=nt.useRef(null),Ot=nt.useRef(),Dt=nt.useRef(null),Rt=nt.useCallback((function(Ne){Dt.current=it.findDOMNode(Ne)}),[]),Bt=useForkRef(et.ref,Rt),rn=nt.useRef();return nt.useEffect((function(){rn.current=ft}),[ft]),!rn.current&&ft&&"undefined"!=typeof window&&(Ot.current=pt().activeElement),nt.useEffect((function(){if(ft){var Ne=ownerDocument(Dt.current);rt||!Dt.current||Dt.current.contains(Ne.activeElement)||(Dt.current.hasAttribute("tabIndex")||Dt.current.setAttribute("tabIndex",-1),Dt.current.focus());var et=function contain(){Ne.hasFocus()&&!at&&dt()&&!mt.current?Dt.current&&!Dt.current.contains(Ne.activeElement)&&Dt.current.focus():mt.current=!1},tt=function loopFocus(et){!at&&dt()&&9===et.keyCode&&Ne.activeElement===Dt.current&&(mt.current=!0,et.shiftKey?vt.current.focus():yt.current.focus())};Ne.addEventListener("focus",et,!0),Ne.addEventListener("keydown",tt,!0);var nt=setInterval((function(){et()}),50);return function(){clearInterval(nt),Ne.removeEventListener("focus",et,!0),Ne.removeEventListener("keydown",tt,!0),ct||(Ot.current&&Ot.current.focus&&Ot.current.focus(),Ot.current=null)}}}),[rt,at,ct,dt,ft]),nt.createElement(nt.Fragment,null,nt.createElement("div",{tabIndex:0,ref:yt,"data-test":"sentinelStart"}),nt.cloneElement(et,{ref:Bt}),nt.createElement("div",{tabIndex:0,ref:vt,"data-test":"sentinelEnd"}))},qh={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Yh=nt.forwardRef((function SimpleBackdrop(Ne,et){var tt=Ne.invisible,rt=void 0!==tt&&tt,it=Ne.open,ot=Object(op.a)(Ne,["invisible","open"]);return it?nt.createElement("div",Object(pt.a)({"aria-hidden":!0,ref:et},ot,{style:Object(pt.a)({},qh.root,rt?qh.invisible:{},ot.style)})):null}));var Qh=new Oh,ed=nt.forwardRef((function Modal(Ne,et){var tt=Object(rp.a)(),rt=Object(mh.a)({name:"MuiModal",props:Object(pt.a)({},Ne),theme:tt}),ot=rt.BackdropComponent,at=void 0===ot?Yh:ot,st=rt.BackdropProps,ct=rt.children,dt=rt.closeAfterTransition,ft=void 0!==dt&&dt,mt=rt.container,yt=rt.disableAutoFocus,vt=void 0!==yt&&yt,Ot=rt.disableBackdropClick,Dt=void 0!==Ot&&Ot,Rt=rt.disableEnforceFocus,Bt=void 0!==Rt&&Rt,rn=rt.disableEscapeKeyDown,vn=void 0!==rn&&rn,bn=rt.disablePortal,Tn=void 0!==bn&&bn,Cn=rt.disableRestoreFocus,In=void 0!==Cn&&Cn,Ln=rt.disableScrollLock,Mn=void 0!==Ln&&Ln,zn=rt.hideBackdrop,Fn=void 0!==zn&&zn,Bn=rt.keepMounted,Nn=void 0!==Bn&&Bn,Vn=rt.manager,Wn=void 0===Vn?Qh:Vn,$n=rt.onBackdropClick,Yn=rt.onClose,er=rt.onEscapeKeyDown,rr=rt.onRendered,vr=rt.open,wr=Object(op.a)(rt,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Sr=nt.useState(!0),ii=Sr[0],qi=Sr[1],uo=nt.useRef({}),po=nt.useRef(null),vo=nt.useRef(null),So=useForkRef(vo,et),ta=function getHasTransition(Ne){return!!Ne.children&&Ne.children.props.hasOwnProperty("in")}(rt),na=function getDoc(){return ownerDocument(po.current)},ia=function getModal(){return uo.current.modalRef=vo.current,uo.current.mountNode=po.current,uo.current},sa=function handleMounted(){Wn.mount(ia(),{disableScrollLock:Mn}),vo.current.scrollTop=0},la=useEventCallback((function(){var Ne=function Modal_getContainer(Ne){return Ne="function"==typeof Ne?Ne():Ne,it.findDOMNode(Ne)}(mt)||na().body;Wn.add(ia(),Ne),vo.current&&sa()})),pa=nt.useCallback((function(){return Wn.isTopModal(ia())}),[Wn]),fa=useEventCallback((function(Ne){po.current=Ne,Ne&&(rr&&rr(),vr&&pa()?sa():ariaHidden(vo.current,!0))})),ga=nt.useCallback((function(){Wn.remove(ia())}),[Wn]);if(nt.useEffect((function(){return function(){ga()}}),[ga]),nt.useEffect((function(){vr?la():ta&&ft||ga()}),[vr,ga,ta,ft,la]),!Nn&&!vr&&(!ta||ii))return null;var va=function styles(Ne){return{root:{position:"fixed",zIndex:Ne.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(tt||{zIndex:Ph.a}),_a={};return void 0===ct.props.tabIndex&&(_a.tabIndex=ct.props.tabIndex||"-1"),ta&&(_a.onEnter=createChainedFunction((function handleEnter(){qi(!1)}),ct.props.onEnter),_a.onExited=createChainedFunction((function handleExited(){qi(!0),ft&&ga()}),ct.props.onExited)),nt.createElement(bh,{ref:fa,container:mt,disablePortal:Tn},nt.createElement("div",Object(pt.a)({ref:So,onKeyDown:function handleKeyDown(Ne){"Escape"===Ne.key&&pa()&&(er&&er(Ne),vn||(Ne.stopPropagation(),Yn&&Yn(Ne,"escapeKeyDown")))},role:"presentation"},wr,{style:Object(pt.a)({},va.root,!vr&&ii?va.hidden:{},wr.style)}),Fn?null:nt.createElement(at,Object(pt.a)({open:vr,onClick:function handleBackdropClick(Ne){Ne.target===Ne.currentTarget&&($n&&$n(Ne),!Dt&&Yn&&Yn(Ne,"backdropClick"))}},st)),nt.createElement(jh,{disableEnforceFocus:Bt,disableAutoFocus:vt,disableRestoreFocus:In,getDoc:na,isEnabled:pa,open:vr},nt.cloneElement(ct,_a))))})),nd=!1,cd=function(Ne){function Transition(et,tt){var nt;nt=Ne.call(this,et,tt)||this;var rt,it=tt&&!tt.isMounting?et.enter:et.appear;return nt.appearStatus=null,et.in?it?(rt="exited",nt.appearStatus="entering"):rt="entered":rt=et.unmountOnExit||et.mountOnEnter?"unmounted":"exited",nt.state={status:rt},nt.nextCallback=null,nt}Object(at.a)(Transition,Ne),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(Ne,et){return Ne.in&&"unmounted"===et.status?{status:"exited"}:null};var et=Transition.prototype;return et.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},et.componentDidUpdate=function componentDidUpdate(Ne){var et=null;if(Ne!==this.props){var tt=this.state.status;this.props.in?"entering"!==tt&&"entered"!==tt&&(et="entering"):"entering"!==tt&&"entered"!==tt||(et="exiting")}this.updateStatus(!1,et)},et.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},et.getTimeouts=function getTimeouts(){var Ne,et,tt,nt=this.props.timeout;return Ne=et=tt=nt,null!=nt&&"number"!=typeof nt&&(Ne=nt.exit,et=nt.enter,tt=void 0!==nt.appear?nt.appear:et),{exit:Ne,enter:et,appear:tt}},et.updateStatus=function updateStatus(Ne,et){void 0===Ne&&(Ne=!1),null!==et?(this.cancelNextCallback(),"entering"===et?this.performEnter(Ne):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},et.performEnter=function performEnter(Ne){var et=this,tt=this.props.enter,nt=this.context?this.context.isMounting:Ne,rt=this.props.nodeRef?[nt]:[ot.a.findDOMNode(this),nt],it=rt[0],at=rt[1],st=this.getTimeouts(),ct=nt?st.appear:st.enter;!Ne&&!tt||nd?this.safeSetState({status:"entered"},(function(){et.props.onEntered(it)})):(this.props.onEnter(it,at),this.safeSetState({status:"entering"},(function(){et.props.onEntering(it,at),et.onTransitionEnd(ct,(function(){et.safeSetState({status:"entered"},(function(){et.props.onEntered(it,at)}))}))})))},et.performExit=function performExit(){var Ne=this,et=this.props.exit,tt=this.getTimeouts(),nt=this.props.nodeRef?void 0:ot.a.findDOMNode(this);et&&!nd?(this.props.onExit(nt),this.safeSetState({status:"exiting"},(function(){Ne.props.onExiting(nt),Ne.onTransitionEnd(tt.exit,(function(){Ne.safeSetState({status:"exited"},(function(){Ne.props.onExited(nt)}))}))}))):this.safeSetState({status:"exited"},(function(){Ne.props.onExited(nt)}))},et.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},et.safeSetState=function safeSetState(Ne,et){et=this.setNextCallback(et),this.setState(Ne,et)},et.setNextCallback=function setNextCallback(Ne){var et=this,tt=!0;return this.nextCallback=function(nt){tt&&(tt=!1,et.nextCallback=null,Ne(nt))},this.nextCallback.cancel=function(){tt=!1},this.nextCallback},et.onTransitionEnd=function onTransitionEnd(Ne,et){this.setNextCallback(et);var tt=this.props.nodeRef?this.props.nodeRef.current:ot.a.findDOMNode(this),nt=null==Ne&&!this.props.addEndListener;if(tt&&!nt){if(this.props.addEndListener){var rt=this.props.nodeRef?[this.nextCallback]:[tt,this.nextCallback],it=rt[0],at=rt[1];this.props.addEndListener(it,at)}null!=Ne&&setTimeout(this.nextCallback,Ne)}else setTimeout(this.nextCallback,0)},et.render=function render(){var Ne=this.state.status;if("unmounted"===Ne)return null;var et=this.props,tt=et.children,nt=(et.in,et.mountOnEnter,et.unmountOnExit,et.appear,et.enter,et.exit,et.timeout,et.addEndListener,et.onEnter,et.onEntering,et.onEntered,et.onExit,et.onExiting,et.onExited,et.nodeRef,Object(Rt.a)(et,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return rt.a.createElement(Pp.Provider,{value:null},"function"==typeof tt?tt(Ne,nt):rt.a.cloneElement(rt.a.Children.only(tt),nt))},Transition}(rt.a.Component);function Transition_noop(){}cd.contextType=Pp,cd.propTypes={},cd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Transition_noop,onEntering:Transition_noop,onEntered:Transition_noop,onExit:Transition_noop,onExiting:Transition_noop,onExited:Transition_noop},cd.UNMOUNTED="unmounted",cd.EXITED="exited",cd.ENTERING="entering",cd.ENTERED="entered",cd.EXITING="exiting";var dd=cd;function getTransitionProps(Ne,et){var tt=Ne.timeout,nt=Ne.style,rt=void 0===nt?{}:nt;return{duration:rt.transitionDuration||"number"==typeof tt?tt:tt[et.mode]||0,delay:rt.transitionDelay}}function getScale(Ne){return"scale(".concat(Ne,", ").concat(Math.pow(Ne,2),")")}var fd={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},_d=nt.forwardRef((function Grow(Ne,et){var tt=Ne.children,rt=Ne.disableStrictModeCompat,it=void 0!==rt&&rt,ot=Ne.in,at=Ne.onEnter,st=Ne.onEntered,ct=Ne.onEntering,dt=Ne.onExit,ft=Ne.onExited,mt=Ne.onExiting,yt=Ne.style,vt=Ne.timeout,Ot=void 0===vt?"auto":vt,Dt=Ne.TransitionComponent,Rt=void 0===Dt?dd:Dt,Bt=Object(op.a)(Ne,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),rn=nt.useRef(),vn=nt.useRef(),bn=useTheme_useTheme(),Tn=bn.unstable_strictMode&&!it,Cn=nt.useRef(null),In=useForkRef(tt.ref,et),Ln=useForkRef(Tn?Cn:void 0,In),Mn=function normalizedTransitionCallback(Ne){return function(et,tt){if(Ne){var nt=Tn?[Cn.current,et]:[et,tt],rt=Object(vp.a)(nt,2),it=rt[0],ot=rt[1];void 0===ot?Ne(it):Ne(it,ot)}}},zn=Mn(ct),Fn=Mn((function(Ne,et){!function reflow(Ne){Ne.scrollTop}(Ne);var tt,nt=getTransitionProps({style:yt,timeout:Ot},{mode:"enter"}),rt=nt.duration,it=nt.delay;"auto"===Ot?(tt=bn.transitions.getAutoHeightDuration(Ne.clientHeight),vn.current=tt):tt=rt,Ne.style.transition=[bn.transitions.create("opacity",{duration:tt,delay:it}),bn.transitions.create("transform",{duration:.666*tt,delay:it})].join(","),at&&at(Ne,et)})),Bn=Mn(st),Nn=Mn(mt),Vn=Mn((function(Ne){var et,tt=getTransitionProps({style:yt,timeout:Ot},{mode:"exit"}),nt=tt.duration,rt=tt.delay;"auto"===Ot?(et=bn.transitions.getAutoHeightDuration(Ne.clientHeight),vn.current=et):et=nt,Ne.style.transition=[bn.transitions.create("opacity",{duration:et,delay:rt}),bn.transitions.create("transform",{duration:.666*et,delay:rt||.333*et})].join(","),Ne.style.opacity="0",Ne.style.transform=getScale(.75),dt&&dt(Ne)})),Wn=Mn(ft);return nt.useEffect((function(){return function(){clearTimeout(rn.current)}}),[]),nt.createElement(Rt,Object(pt.a)({appear:!0,in:ot,nodeRef:Tn?Cn:void 0,onEnter:Fn,onEntered:Bn,onEntering:zn,onExit:Vn,onExited:Wn,onExiting:Nn,addEndListener:function addEndListener(Ne,et){var tt=Tn?Ne:et;"auto"===Ot&&(rn.current=setTimeout(tt,vn.current||0))},timeout:"auto"===Ot?null:Ot},Bt),(function(Ne,et){return nt.cloneElement(tt,Object(pt.a)({style:Object(pt.a)({opacity:0,transform:getScale(.75),visibility:"exited"!==Ne||ot?void 0:"hidden"},fd[Ne],yt,tt.props.style),ref:Ln},et))}))}));_d.muiSupportAuto=!0;var bd=_d,Ed=nt.forwardRef((function Paper(Ne,et){var tt=Ne.classes,rt=Ne.className,it=Ne.component,ot=void 0===it?"div":it,at=Ne.square,st=void 0!==at&&at,ct=Ne.elevation,dt=void 0===ct?1:ct,ft=Ne.variant,mt=void 0===ft?"elevation":ft,yt=Object(op.a)(Ne,["classes","className","component","square","elevation","variant"]);return nt.createElement(ot,Object(pt.a)({className:Object(ap.a)(tt.root,rt,"outlined"===mt?tt.outlined:tt["elevation".concat(dt)],!st&&tt.rounded),ref:et},yt))})),Cd=Object(Yc.a)((function styles(Ne){var et={};return Ne.shadows.forEach((function(Ne,tt){et["elevation".concat(tt)]={boxShadow:Ne}})),Object(pt.a)({root:{backgroundColor:Ne.palette.background.paper,color:Ne.palette.text.primary,transition:Ne.transitions.create("box-shadow")},rounded:{borderRadius:Ne.shape.borderRadius},outlined:{border:"1px solid ".concat(Ne.palette.divider)}},et)}),{name:"MuiPaper"})(Ed);function getOffsetTop(Ne,et){var tt=0;return"number"==typeof et?tt=et:"center"===et?tt=Ne.height/2:"bottom"===et&&(tt=Ne.height),tt}function getOffsetLeft(Ne,et){var tt=0;return"number"==typeof et?tt=et:"center"===et?tt=Ne.width/2:"right"===et&&(tt=Ne.width),tt}function getTransformOriginValue(Ne){return[Ne.horizontal,Ne.vertical].map((function(Ne){return"number"==typeof Ne?"".concat(Ne,"px"):Ne})).join(" ")}function getAnchorEl(Ne){return"function"==typeof Ne?Ne():Ne}var kd=nt.forwardRef((function Popover(Ne,et){var tt=Ne.action,rt=Ne.anchorEl,ot=Ne.anchorOrigin,at=void 0===ot?{vertical:"top",horizontal:"left"}:ot,st=Ne.anchorPosition,ct=Ne.anchorReference,dt=void 0===ct?"anchorEl":ct,ft=Ne.children,mt=Ne.classes,yt=Ne.className,vt=Ne.container,Ot=Ne.elevation,Dt=void 0===Ot?8:Ot,Rt=Ne.getContentAnchorEl,Bt=Ne.marginThreshold,rn=void 0===Bt?16:Bt,vn=Ne.onEnter,bn=Ne.onEntered,Tn=Ne.onEntering,Cn=Ne.onExit,In=Ne.onExited,Ln=Ne.onExiting,Mn=Ne.open,zn=Ne.PaperProps,Fn=void 0===zn?{}:zn,Bn=Ne.transformOrigin,Nn=void 0===Bn?{vertical:"top",horizontal:"left"}:Bn,Vn=Ne.TransitionComponent,Wn=void 0===Vn?bd:Vn,$n=Ne.transitionDuration,Yn=void 0===$n?"auto":$n,er=Ne.TransitionProps,rr=void 0===er?{}:er,vr=Object(op.a)(Ne,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),wr=nt.useRef(),Sr=nt.useCallback((function(Ne){if("anchorPosition"===dt)return st;var et=getAnchorEl(rt),tt=(et&&1===et.nodeType?et:ownerDocument(wr.current).body).getBoundingClientRect(),nt=0===Ne?at.vertical:"center";return{top:tt.top+getOffsetTop(tt,nt),left:tt.left+getOffsetLeft(tt,at.horizontal)}}),[rt,at.horizontal,at.vertical,st,dt]),ii=nt.useCallback((function(Ne){var et=0;if(Rt&&"anchorEl"===dt){var tt=Rt(Ne);if(tt&&Ne.contains(tt)){var nt=function Popover_getScrollParent(Ne,et){for(var tt=et,nt=0;tt&&tt!==Ne;)nt+=(tt=tt.parentElement).scrollTop;return nt}(Ne,tt);et=tt.offsetTop+tt.clientHeight/2-nt||0}0}return et}),[at.vertical,dt,Rt]),qi=nt.useCallback((function(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:getOffsetTop(Ne,Nn.vertical)+et,horizontal:getOffsetLeft(Ne,Nn.horizontal)}}),[Nn.horizontal,Nn.vertical]),uo=nt.useCallback((function(Ne){var et=ii(Ne),tt={width:Ne.offsetWidth,height:Ne.offsetHeight},nt=qi(tt,et);if("none"===dt)return{top:null,left:null,transformOrigin:getTransformOriginValue(nt)};var it=Sr(et),ot=it.top-nt.vertical,at=it.left-nt.horizontal,st=ot+tt.height,ct=at+tt.width,pt=ownerWindow(getAnchorEl(rt)),ft=pt.innerHeight-rn,mt=pt.innerWidth-rn;if(ot<rn){var yt=ot-rn;ot-=yt,nt.vertical+=yt}else if(st>ft){var vt=st-ft;ot-=vt,nt.vertical+=vt}if(at<rn){var Ot=at-rn;at-=Ot,nt.horizontal+=Ot}else if(ct>mt){var Dt=ct-mt;at-=Dt,nt.horizontal+=Dt}return{top:"".concat(Math.round(ot),"px"),left:"".concat(Math.round(at),"px"),transformOrigin:getTransformOriginValue(nt)}}),[rt,dt,Sr,ii,qi,rn]),po=nt.useCallback((function(){var Ne=wr.current;if(Ne){var et=uo(Ne);null!==et.top&&(Ne.style.top=et.top),null!==et.left&&(Ne.style.left=et.left),Ne.style.transformOrigin=et.transformOrigin}}),[uo]),vo=nt.useCallback((function(Ne){wr.current=it.findDOMNode(Ne)}),[]);nt.useEffect((function(){Mn&&po()})),nt.useImperativeHandle(tt,(function(){return Mn?{updatePosition:function updatePosition(){po()}}:null}),[Mn,po]),nt.useEffect((function(){if(Mn){var Ne=debounce((function(){po()}));return window.addEventListener("resize",Ne),function(){Ne.clear(),window.removeEventListener("resize",Ne)}}}),[Mn,po]);var So=Yn;"auto"!==Yn||Wn.muiSupportAuto||(So=void 0);var ta=vt||(rt?ownerDocument(getAnchorEl(rt)).body:void 0);return nt.createElement(ed,Object(pt.a)({container:ta,open:Mn,ref:et,BackdropProps:{invisible:!0},className:Object(ap.a)(mt.root,yt)},vr),nt.createElement(Wn,Object(pt.a)({appear:!0,in:Mn,onEnter:vn,onEntered:bn,onExit:Cn,onExited:In,onExiting:Ln,timeout:So},rr,{onEntering:createChainedFunction((function handleEntering(Ne,et){Tn&&Tn(Ne,et),po()}),rr.onEntering)}),nt.createElement(Cd,Object(pt.a)({elevation:Dt,ref:vo},Fn,{className:Object(ap.a)(mt.paper,Fn.className)}),ft)))})),Id=Object(Yc.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(kd);var Ad=nt.createContext({}),Ld=nt.forwardRef((function List(Ne,et){var tt=Ne.children,rt=Ne.classes,it=Ne.className,ot=Ne.component,at=void 0===ot?"ul":ot,st=Ne.dense,ct=void 0!==st&&st,dt=Ne.disablePadding,ft=void 0!==dt&&dt,mt=Ne.subheader,yt=Object(op.a)(Ne,["children","classes","className","component","dense","disablePadding","subheader"]),vt=nt.useMemo((function(){return{dense:ct}}),[ct]);return nt.createElement(Ad.Provider,{value:vt},nt.createElement(at,Object(pt.a)({className:Object(ap.a)(rt.root,it,ct&&rt.dense,!ft&&rt.padding,mt&&rt.subheader),ref:et},yt),mt,tt))})),Md=Object(Yc.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Ld);function nextItem(Ne,et,tt){return Ne===et?Ne.firstChild:et&&et.nextElementSibling?et.nextElementSibling:tt?null:Ne.firstChild}function previousItem(Ne,et,tt){return Ne===et?tt?Ne.firstChild:Ne.lastChild:et&&et.previousElementSibling?et.previousElementSibling:tt?null:Ne.lastChild}function textCriteriaMatches(Ne,et){if(void 0===et)return!0;var tt=Ne.innerText;return void 0===tt&&(tt=Ne.textContent),0!==(tt=tt.trim().toLowerCase()).length&&(et.repeating?tt[0]===et.keys[0]:0===tt.indexOf(et.keys.join("")))}function moveFocus(Ne,et,tt,nt,rt,it){for(var ot=!1,at=rt(Ne,et,!!et&&tt);at;){if(at===Ne.firstChild){if(ot)return;ot=!0}var st=!nt&&(at.disabled||"true"===at.getAttribute("aria-disabled"));if(at.hasAttribute("tabindex")&&textCriteriaMatches(at,it)&&!st)return void at.focus();at=rt(Ne,at,tt)}}var Od="undefined"==typeof window?nt.useEffect:nt.useLayoutEffect,zd=nt.forwardRef((function MenuList(Ne,et){var tt=Ne.actions,rt=Ne.autoFocus,ot=void 0!==rt&&rt,at=Ne.autoFocusItem,st=void 0!==at&&at,ct=Ne.children,dt=Ne.className,ft=Ne.disabledItemsFocusable,mt=void 0!==ft&&ft,yt=Ne.disableListWrap,vt=void 0!==yt&&yt,Ot=Ne.onKeyDown,Dt=Ne.variant,Rt=void 0===Dt?"selectedMenu":Dt,Bt=Object(op.a)(Ne,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),rn=nt.useRef(null),vn=nt.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Od((function(){ot&&rn.current.focus()}),[ot]),nt.useImperativeHandle(tt,(function(){return{adjustStyleForScrollbar:function adjustStyleForScrollbar(Ne,et){var tt=!rn.current.style.width;if(Ne.clientHeight<rn.current.clientHeight&&tt){var nt="".concat(getScrollbarSize(),"px");rn.current.style["rtl"===et.direction?"paddingLeft":"paddingRight"]=nt,rn.current.style.width="calc(100% + ".concat(nt,")")}return rn.current}}}),[]);var bn=useForkRef(nt.useCallback((function(Ne){rn.current=it.findDOMNode(Ne)}),[]),et),Tn=-1;nt.Children.forEach(ct,(function(Ne,et){nt.isValidElement(Ne)&&(Ne.props.disabled||("selectedMenu"===Rt&&Ne.props.selected||-1===Tn)&&(Tn=et))}));var Cn=nt.Children.map(ct,(function(Ne,et){if(et===Tn){var tt={};return st&&(tt.autoFocus=!0),void 0===Ne.props.tabIndex&&"selectedMenu"===Rt&&(tt.tabIndex=0),nt.cloneElement(Ne,tt)}return Ne}));return nt.createElement(Md,Object(pt.a)({role:"menu",ref:bn,className:dt,onKeyDown:function handleKeyDown(Ne){var et=rn.current,tt=Ne.key,nt=ownerDocument(et).activeElement;if("ArrowDown"===tt)Ne.preventDefault(),moveFocus(et,nt,vt,mt,nextItem);else if("ArrowUp"===tt)Ne.preventDefault(),moveFocus(et,nt,vt,mt,previousItem);else if("Home"===tt)Ne.preventDefault(),moveFocus(et,null,vt,mt,nextItem);else if("End"===tt)Ne.preventDefault(),moveFocus(et,null,vt,mt,previousItem);else if(1===tt.length){var rt=vn.current,it=tt.toLowerCase(),ot=performance.now();rt.keys.length>0&&(ot-rt.lastTime>500?(rt.keys=[],rt.repeating=!0,rt.previousKeyMatched=!0):rt.repeating&&it!==rt.keys[0]&&(rt.repeating=!1)),rt.lastTime=ot,rt.keys.push(it);var at=nt&&!rt.repeating&&textCriteriaMatches(nt,rt);rt.previousKeyMatched&&(at||moveFocus(et,nt,!1,mt,nextItem,rt))?Ne.preventDefault():rt.previousKeyMatched=!1}Ot&&Ot(Ne)},tabIndex:ot?0:-1},Bt),Cn)})),Dd={vertical:"top",horizontal:"right"},Bd={vertical:"top",horizontal:"left"},jd=nt.forwardRef((function Menu(Ne,et){var tt=Ne.autoFocus,rt=void 0===tt||tt,ot=Ne.children,at=Ne.classes,st=Ne.disableAutoFocusItem,ct=void 0!==st&&st,dt=Ne.MenuListProps,ft=void 0===dt?{}:dt,mt=Ne.onClose,yt=Ne.onEntering,vt=Ne.open,Ot=Ne.PaperProps,Dt=void 0===Ot?{}:Ot,Rt=Ne.PopoverClasses,Bt=Ne.transitionDuration,rn=void 0===Bt?"auto":Bt,vn=Ne.variant,bn=void 0===vn?"selectedMenu":vn,Tn=Object(op.a)(Ne,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),Cn=useTheme_useTheme(),In=rt&&!ct&&vt,Ln=nt.useRef(null),Mn=nt.useRef(null),zn=-1;nt.Children.map(ot,(function(Ne,et){nt.isValidElement(Ne)&&(Ne.props.disabled||("menu"!==bn&&Ne.props.selected||-1===zn)&&(zn=et))}));var Fn=nt.Children.map(ot,(function(Ne,et){return et===zn?nt.cloneElement(Ne,{ref:function ref(et){Mn.current=it.findDOMNode(et),setRef(Ne.ref,et)}}):Ne}));return nt.createElement(Id,Object(pt.a)({getContentAnchorEl:function getContentAnchorEl(){return Mn.current},classes:Rt,onClose:mt,onEntering:function handleEntering(Ne,et){Ln.current&&Ln.current.adjustStyleForScrollbar(Ne,Cn),yt&&yt(Ne,et)},anchorOrigin:"rtl"===Cn.direction?Dd:Bd,transformOrigin:"rtl"===Cn.direction?Dd:Bd,PaperProps:Object(pt.a)({},Dt,{classes:Object(pt.a)({},Dt.classes,{root:at.paper})}),open:vt,ref:et,transitionDuration:rn},Tn),nt.createElement(zd,Object(pt.a)({onKeyDown:function handleListKeyDown(Ne){"Tab"===Ne.key&&(Ne.preventDefault(),mt&&mt(Ne,"tabKeyDown"))},actions:Ln,autoFocus:rt&&(-1===zn||ct),autoFocusItem:In,variant:bn},ft,{className:Object(ap.a)(at.list,ft.className)}),Fn))})),Nd=Object(Yc.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(jd);function utils_hasValue(Ne){return null!=Ne&&!(Array.isArray(Ne)&&0===Ne.length)}function isFilled(Ne){var et=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ne&&(utils_hasValue(Ne.value)&&""!==Ne.value||et&&utils_hasValue(Ne.defaultValue)&&""!==Ne.defaultValue)}function areEqualValues(Ne,et){return"object"===Object(lh.a)(et)&&null!==et?Ne===et:String(Ne)===String(et)}var Zd=nt.forwardRef((function SelectInput(Ne,et){var tt=Ne["aria-label"],rt=Ne.autoFocus,it=Ne.autoWidth,ot=Ne.children,at=Ne.classes,st=Ne.className,ct=Ne.defaultValue,dt=Ne.disabled,ft=Ne.displayEmpty,mt=Ne.IconComponent,yt=Ne.inputRef,vt=Ne.labelId,Ot=Ne.MenuProps,Dt=void 0===Ot?{}:Ot,Rt=Ne.multiple,Bt=Ne.name,rn=Ne.onBlur,vn=Ne.onChange,bn=Ne.onClose,Tn=Ne.onFocus,Cn=Ne.onOpen,In=Ne.open,Ln=Ne.readOnly,Mn=Ne.renderValue,zn=Ne.SelectDisplayProps,Fn=void 0===zn?{}:zn,Bn=Ne.tabIndex,Nn=(Ne.type,Ne.value),Vn=Ne.variant,Wn=void 0===Vn?"standard":Vn,$n=Object(op.a)(Ne,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),Yn=useControlled({controlled:Nn,default:ct,name:"Select"}),er=Object(vp.a)(Yn,2),rr=er[0],vr=er[1],wr=nt.useRef(null),Sr=nt.useState(null),ii=Sr[0],qi=Sr[1],uo=nt.useRef(null!=In).current,po=nt.useState(),vo=po[0],So=po[1],ta=nt.useState(!1),na=ta[0],ia=ta[1],sa=useForkRef(et,yt);nt.useImperativeHandle(sa,(function(){return{focus:function focus(){ii.focus()},node:wr.current,value:rr}}),[ii,rr]),nt.useEffect((function(){rt&&ii&&ii.focus()}),[rt,ii]),nt.useEffect((function(){if(ii){var Ne=ownerDocument(ii).getElementById(vt);if(Ne){var et=function handler(){getSelection().isCollapsed&&ii.focus()};return Ne.addEventListener("click",et),function(){Ne.removeEventListener("click",et)}}}}),[vt,ii]);var la,pa,fa=function update(Ne,et){Ne?Cn&&Cn(et):bn&&bn(et),uo||(So(it?null:ii.clientWidth),ia(Ne))},ga=nt.Children.toArray(ot),va=function handleItemClick(Ne){return function(et){var tt;if(Rt||fa(!1,et),Rt){tt=Array.isArray(rr)?rr.slice():[];var nt=rr.indexOf(Ne.props.value);-1===nt?tt.push(Ne.props.value):tt.splice(nt,1)}else tt=Ne.props.value;Ne.props.onClick&&Ne.props.onClick(et),rr!==tt&&(vr(tt),vn&&(et.persist(),Object.defineProperty(et,"target",{writable:!0,value:{value:tt,name:Bt}}),vn(et,Ne)))}},_a=null!==ii&&(uo?In:na);delete $n["aria-invalid"];var wa=[],Aa=!1;(isFilled({value:rr})||ft)&&(Mn?la=Mn(rr):Aa=!0);var os=ga.map((function(Ne){if(!nt.isValidElement(Ne))return null;var et;if(Rt){if(!Array.isArray(rr))throw new Error(Object(ph.a)(2));(et=rr.some((function(et){return areEqualValues(et,Ne.props.value)})))&&Aa&&wa.push(Ne.props.children)}else(et=areEqualValues(rr,Ne.props.value))&&Aa&&(pa=Ne.props.children);return et&&!0,nt.cloneElement(Ne,{"aria-selected":et?"true":void 0,onClick:va(Ne),onKeyUp:function onKeyUp(et){" "===et.key&&et.preventDefault(),Ne.props.onKeyUp&&Ne.props.onKeyUp(et)},role:"option",selected:et,value:void 0,"data-value":Ne.props.value})}));Aa&&(la=Rt?wa.join(", "):pa);var as,ss=vo;!it&&uo&&ii&&(ss=ii.clientWidth),as=void 0!==Bn?Bn:dt?null:0;var ls=Fn.id||(Bt?"mui-component-select-".concat(Bt):void 0);return nt.createElement(nt.Fragment,null,nt.createElement("div",Object(pt.a)({className:Object(ap.a)(at.root,at.select,at.selectMenu,at[Wn],st,dt&&at.disabled),ref:qi,tabIndex:as,role:"button","aria-disabled":dt?"true":void 0,"aria-expanded":_a?"true":void 0,"aria-haspopup":"listbox","aria-label":tt,"aria-labelledby":[vt,ls].filter(Boolean).join(" ")||void 0,onKeyDown:function handleKeyDown(Ne){if(!Ln){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ne.key)&&(Ne.preventDefault(),fa(!0,Ne))}},onMouseDown:dt||Ln?null:function handleMouseDown(Ne){0===Ne.button&&(Ne.preventDefault(),ii.focus(),fa(!0,Ne))},onBlur:function handleBlur(Ne){!_a&&rn&&(Ne.persist(),Object.defineProperty(Ne,"target",{writable:!0,value:{value:rr,name:Bt}}),rn(Ne))},onFocus:Tn},Fn,{id:ls}),function isEmpty(Ne){return null==Ne||"string"==typeof Ne&&!Ne.trim()}(la)?nt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):la),nt.createElement("input",Object(pt.a)({value:Array.isArray(rr)?rr.join(","):rr,name:Bt,ref:wr,"aria-hidden":!0,onChange:function handleChange(Ne){var et=ga.map((function(Ne){return Ne.props.value})).indexOf(Ne.target.value);if(-1!==et){var tt=ga[et];vr(tt.props.value),vn&&vn(Ne,tt)}},tabIndex:-1,className:at.nativeInput,autoFocus:rt},$n)),nt.createElement(mt,{className:Object(ap.a)(at.icon,at["icon".concat(Object(hp.a)(Wn))],_a&&at.iconOpen,dt&&at.disabled)}),nt.createElement(Nd,Object(pt.a)({id:"menu-".concat(Bt||""),anchorEl:ii,open:_a,onClose:function handleClose(Ne){fa(!1,Ne)}},Dt,{MenuListProps:Object(pt.a)({"aria-labelledby":vt,role:"listbox",disableListWrap:!0},Dt.MenuListProps),PaperProps:Object(pt.a)({},Dt.PaperProps,{style:Object(pt.a)({minWidth:ss},null!=Dt.PaperProps?Dt.PaperProps.style:null)})}),os))}));function formControlState(Ne){var et=Ne.props,tt=Ne.states,nt=Ne.muiFormControl;return tt.reduce((function(Ne,tt){return Ne[tt]=et[tt],nt&&void 0===et[tt]&&(Ne[tt]=nt[tt]),Ne}),{})}var qd=createSvgIcon(nt.createElement("path",{d:"M7 10l5 5 5-5z"}));function getStyleValue(Ne,et){return parseInt(Ne[et],10)||0}var Hd="undefined"!=typeof window?nt.useLayoutEffect:nt.useEffect,$d={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Yd=nt.forwardRef((function TextareaAutosize(Ne,et){var tt=Ne.onChange,rt=Ne.rows,it=Ne.rowsMax,ot=Ne.rowsMin,at=void 0===ot?1:ot,st=Ne.style,ct=Ne.value,dt=Object(op.a)(Ne,["onChange","rows","rowsMax","rowsMin","style","value"]),ft=rt||at,mt=nt.useRef(null!=ct).current,yt=nt.useRef(null),vt=useForkRef(et,yt),Ot=nt.useRef(null),Dt=nt.useRef(0),Rt=nt.useState({}),Bt=Rt[0],rn=Rt[1],vn=nt.useCallback((function(){var et=yt.current,tt=window.getComputedStyle(et),nt=Ot.current;nt.style.width=tt.width,nt.value=et.value||Ne.placeholder||"x","\n"===nt.value.slice(-1)&&(nt.value+=" ");var rt=tt["box-sizing"],ot=getStyleValue(tt,"padding-bottom")+getStyleValue(tt,"padding-top"),at=getStyleValue(tt,"border-bottom-width")+getStyleValue(tt,"border-top-width"),st=nt.scrollHeight-ot;nt.value="x";var ct=nt.scrollHeight-ot,pt=st;ft&&(pt=Math.max(Number(ft)*ct,pt)),it&&(pt=Math.min(Number(it)*ct,pt));var dt=(pt=Math.max(pt,ct))+("border-box"===rt?ot+at:0),mt=Math.abs(pt-st)<=1;rn((function(Ne){return Dt.current<20&&(dt>0&&Math.abs((Ne.outerHeightStyle||0)-dt)>1||Ne.overflow!==mt)?(Dt.current+=1,{overflow:mt,outerHeightStyle:dt}):Ne}))}),[it,ft,Ne.placeholder]);nt.useEffect((function(){var Ne=debounce((function(){Dt.current=0,vn()}));return window.addEventListener("resize",Ne),function(){Ne.clear(),window.removeEventListener("resize",Ne)}}),[vn]),Hd((function(){vn()})),nt.useEffect((function(){Dt.current=0}),[ct]);return nt.createElement(nt.Fragment,null,nt.createElement("textarea",Object(pt.a)({value:ct,onChange:function handleChange(Ne){Dt.current=0,mt||vn(),tt&&tt(Ne)},ref:vt,rows:ft,style:Object(pt.a)({height:Bt.outerHeightStyle,overflow:Bt.overflow?"hidden":null},st)},dt)),nt.createElement("textarea",{"aria-hidden":!0,className:Ne.className,readOnly:!0,ref:Ot,tabIndex:-1,style:Object(pt.a)({},$d,st)}))})),ef="undefined"==typeof window?nt.useEffect:nt.useLayoutEffect,tf=nt.forwardRef((function InputBase(Ne,et){var tt=Ne["aria-describedby"],rt=Ne.autoComplete,it=Ne.autoFocus,ot=Ne.classes,at=Ne.className,st=(Ne.color,Ne.defaultValue),ct=Ne.disabled,dt=Ne.endAdornment,ft=(Ne.error,Ne.fullWidth),mt=void 0!==ft&&ft,yt=Ne.id,vt=Ne.inputComponent,Ot=void 0===vt?"input":vt,Dt=Ne.inputProps,Rt=void 0===Dt?{}:Dt,Bt=Ne.inputRef,rn=(Ne.margin,Ne.multiline),vn=void 0!==rn&&rn,bn=Ne.name,Tn=Ne.onBlur,Cn=Ne.onChange,In=Ne.onClick,Ln=Ne.onFocus,Mn=Ne.onKeyDown,zn=Ne.onKeyUp,Fn=Ne.placeholder,Bn=Ne.readOnly,Nn=Ne.renderSuffix,Vn=Ne.rows,Wn=Ne.rowsMax,$n=Ne.rowsMin,Yn=Ne.startAdornment,er=Ne.type,rr=void 0===er?"text":er,vr=Ne.value,wr=Object(op.a)(Ne,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),Sr=null!=Rt.value?Rt.value:vr,ii=nt.useRef(null!=Sr).current,qi=nt.useRef(),uo=nt.useCallback((function(Ne){0}),[]),po=useForkRef(Rt.ref,uo),vo=useForkRef(Bt,po),So=useForkRef(qi,vo),ta=nt.useState(!1),na=ta[0],ia=ta[1],sa=function useFormControl(){return nt.useContext(cp)}();var la=formControlState({props:Ne,muiFormControl:sa,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});la.focused=sa?sa.focused:na,nt.useEffect((function(){!sa&&ct&&na&&(ia(!1),Tn&&Tn())}),[sa,ct,na,Tn]);var pa=sa&&sa.onFilled,fa=sa&&sa.onEmpty,ga=nt.useCallback((function(Ne){isFilled(Ne)?pa&&pa():fa&&fa()}),[pa,fa]);ef((function(){ii&&ga({value:Sr})}),[Sr,ga,ii]);nt.useEffect((function(){ga(qi.current)}),[]);var va=Ot,_a=Object(pt.a)({},Rt,{ref:So});"string"!=typeof va?_a=Object(pt.a)({inputRef:So,type:rr},_a,{ref:null}):vn?!Vn||Wn||$n?(_a=Object(pt.a)({rows:Vn,rowsMax:Wn},_a),va=Yd):va="textarea":_a=Object(pt.a)({type:rr},_a);return nt.useEffect((function(){sa&&sa.setAdornedStart(Boolean(Yn))}),[sa,Yn]),nt.createElement("div",Object(pt.a)({className:Object(ap.a)(ot.root,ot["color".concat(Object(hp.a)(la.color||"primary"))],at,la.disabled&&ot.disabled,la.error&&ot.error,mt&&ot.fullWidth,la.focused&&ot.focused,sa&&ot.formControl,vn&&ot.multiline,Yn&&ot.adornedStart,dt&&ot.adornedEnd,"dense"===la.margin&&ot.marginDense),onClick:function handleClick(Ne){qi.current&&Ne.currentTarget===Ne.target&&qi.current.focus(),In&&In(Ne)},ref:et},wr),Yn,nt.createElement(pp.Provider,{value:null},nt.createElement(va,Object(pt.a)({"aria-invalid":la.error,"aria-describedby":tt,autoComplete:rt,autoFocus:it,defaultValue:st,disabled:la.disabled,id:yt,onAnimationStart:function handleAutoFill(Ne){ga("mui-auto-fill-cancel"===Ne.animationName?qi.current:{value:"x"})},name:bn,placeholder:Fn,readOnly:Bn,required:la.required,rows:Vn,value:Sr,onKeyDown:Mn,onKeyUp:zn},_a,{className:Object(ap.a)(ot.input,Rt.className,la.disabled&&ot.disabled,vn&&ot.inputMultiline,la.hiddenLabel&&ot.inputHiddenLabel,Yn&&ot.inputAdornedStart,dt&&ot.inputAdornedEnd,"search"===rr&&ot.inputTypeSearch,"dense"===la.margin&&ot.inputMarginDense),onBlur:function handleBlur(Ne){Tn&&Tn(Ne),Rt.onBlur&&Rt.onBlur(Ne),sa&&sa.onBlur?sa.onBlur(Ne):ia(!1)},onChange:function handleChange(Ne){if(!ii){var et=Ne.target||qi.current;if(null==et)throw new Error(Object(ph.a)(1));ga({value:et.value})}for(var tt=arguments.length,nt=new Array(tt>1?tt-1:0),rt=1;rt<tt;rt++)nt[rt-1]=arguments[rt];Rt.onChange&&Rt.onChange.apply(Rt,[Ne].concat(nt)),Cn&&Cn.apply(void 0,[Ne].concat(nt))},onFocus:function handleFocus(Ne){la.disabled?Ne.stopPropagation():(Ln&&Ln(Ne),Rt.onFocus&&Rt.onFocus(Ne),sa&&sa.onFocus?sa.onFocus(Ne):ia(!0))}}))),dt,Nn?Nn(Object(pt.a)({},la,{startAdornment:Yn})):null)})),nf=Object(Yc.a)((function styles(Ne){var et="light"===Ne.palette.type,tt={color:"currentColor",opacity:et?.42:.5,transition:Ne.transitions.create("opacity",{duration:Ne.transitions.duration.shorter})},nt={opacity:"0 !important"},rt={opacity:et?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(pt.a)({},Ne.typography.body1,{color:Ne.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:Ne.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":tt,"&::-moz-placeholder":tt,"&:-ms-input-placeholder":tt,"&::-ms-input-placeholder":tt,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":nt,"&::-moz-placeholder":nt,"&:-ms-input-placeholder":nt,"&::-ms-input-placeholder":nt,"&:focus::-webkit-input-placeholder":rt,"&:focus::-moz-placeholder":rt,"&:focus:-ms-input-placeholder":rt,"&:focus::-ms-input-placeholder":rt},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(tf),rf=nt.forwardRef((function Input(Ne,et){var tt=Ne.disableUnderline,rt=Ne.classes,it=Ne.fullWidth,ot=void 0!==it&&it,at=Ne.inputComponent,st=void 0===at?"input":at,ct=Ne.multiline,dt=void 0!==ct&&ct,ft=Ne.type,mt=void 0===ft?"text":ft,yt=Object(op.a)(Ne,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return nt.createElement(nf,Object(pt.a)({classes:Object(pt.a)({},rt,{root:Object(ap.a)(rt.root,!tt&&rt.underline),underline:null}),fullWidth:ot,inputComponent:st,multiline:dt,ref:et,type:mt},yt))}));rf.muiName="Input";var af=Object(Yc.a)((function styles(Ne){var et="light"===Ne.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:Ne.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(Ne.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:Ne.transitions.create("transform",{duration:Ne.transitions.duration.shorter,easing:Ne.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:Ne.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(et),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:Ne.transitions.create("border-bottom-color",{duration:Ne.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(Ne.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(et)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(rf),sf=nt.forwardRef((function NativeSelectInput(Ne,et){var tt=Ne.classes,rt=Ne.className,it=Ne.disabled,ot=Ne.IconComponent,at=Ne.inputRef,st=Ne.variant,ct=void 0===st?"standard":st,dt=Object(op.a)(Ne,["classes","className","disabled","IconComponent","inputRef","variant"]);return nt.createElement(nt.Fragment,null,nt.createElement("select",Object(pt.a)({className:Object(ap.a)(tt.root,tt.select,tt[ct],rt,it&&tt.disabled),disabled:it,ref:at||et},dt)),Ne.multiple?null:nt.createElement(ot,{className:Object(ap.a)(tt.icon,tt["icon".concat(Object(hp.a)(ct))],it&&tt.disabled)}))})),lf=function styles(Ne){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===Ne.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:Ne.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:Ne.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:Ne.palette.action.active,"&$disabled":{color:Ne.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},uf=nt.createElement(af,null),cf=nt.forwardRef((function NativeSelect(Ne,et){var tt=Ne.children,rt=Ne.classes,it=Ne.IconComponent,ot=void 0===it?qd:it,at=Ne.input,st=void 0===at?uf:at,ct=Ne.inputProps,dt=(Ne.variant,Object(op.a)(Ne,["children","classes","IconComponent","input","inputProps","variant"])),ft=formControlState({props:Ne,muiFormControl:useFormControl_useFormControl(),states:["variant"]});return nt.cloneElement(st,Object(pt.a)({inputComponent:sf,inputProps:Object(pt.a)({children:tt,classes:rt,IconComponent:ot,variant:ft.variant,type:void 0},ct,st?st.props.inputProps:{}),ref:et},dt))}));cf.muiName="Select";Object(Yc.a)(lf,{name:"MuiNativeSelect"})(cf);var pf=nt.forwardRef((function FilledInput(Ne,et){var tt=Ne.disableUnderline,rt=Ne.classes,it=Ne.fullWidth,ot=void 0!==it&&it,at=Ne.inputComponent,st=void 0===at?"input":at,ct=Ne.multiline,dt=void 0!==ct&&ct,ft=Ne.type,mt=void 0===ft?"text":ft,yt=Object(op.a)(Ne,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return nt.createElement(nf,Object(pt.a)({classes:Object(pt.a)({},rt,{root:Object(ap.a)(rt.root,!tt&&rt.underline),underline:null}),fullWidth:ot,inputComponent:st,multiline:dt,ref:et,type:mt},yt))}));pf.muiName="Input";var hf=Object(Yc.a)((function styles(Ne){var et="light"===Ne.palette.type,tt=et?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",nt=et?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:nt,borderTopLeftRadius:Ne.shape.borderRadius,borderTopRightRadius:Ne.shape.borderRadius,transition:Ne.transitions.create("background-color",{duration:Ne.transitions.duration.shorter,easing:Ne.transitions.easing.easeOut}),"&:hover":{backgroundColor:et?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:nt}},"&$focused":{backgroundColor:et?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:et?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:Ne.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(Ne.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:Ne.transitions.create("transform",{duration:Ne.transitions.duration.shorter,easing:Ne.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:Ne.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(tt),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:Ne.transitions.create("border-bottom-color",{duration:Ne.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(Ne.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===Ne.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===Ne.palette.type?null:"#fff",caretColor:"light"===Ne.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(pf),df=tt(34),ff=nt.forwardRef((function NotchedOutline(Ne,et){Ne.children;var tt=Ne.classes,rt=Ne.className,it=Ne.label,ot=Ne.labelWidth,at=Ne.notched,st=Ne.style,ct=Object(op.a)(Ne,["children","classes","className","label","labelWidth","notched","style"]),dt="rtl"===useTheme_useTheme().direction?"right":"left";if(void 0!==it)return nt.createElement("fieldset",Object(pt.a)({"aria-hidden":!0,className:Object(ap.a)(tt.root,rt),ref:et,style:st},ct),nt.createElement("legend",{className:Object(ap.a)(tt.legendLabelled,at&&tt.legendNotched)},it?nt.createElement("span",null,it):nt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var ft=ot>0?.75*ot+8:.01;return nt.createElement("fieldset",Object(pt.a)({"aria-hidden":!0,style:Object(pt.a)(Object(df.a)({},"padding".concat(Object(hp.a)(dt)),8),st),className:Object(ap.a)(tt.root,rt),ref:et},ct),nt.createElement("legend",{className:tt.legend,style:{width:at?ft:.01}},nt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),mf=Object(Yc.a)((function styles(Ne){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:Ne.transitions.create("width",{duration:150,easing:Ne.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:Ne.transitions.create("max-width",{duration:50,easing:Ne.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:Ne.transitions.create("max-width",{duration:100,easing:Ne.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(ff),gf=nt.forwardRef((function OutlinedInput(Ne,et){var tt=Ne.classes,rt=Ne.fullWidth,it=void 0!==rt&&rt,ot=Ne.inputComponent,at=void 0===ot?"input":ot,st=Ne.label,ct=Ne.labelWidth,dt=void 0===ct?0:ct,ft=Ne.multiline,mt=void 0!==ft&&ft,yt=Ne.notched,vt=Ne.type,Ot=void 0===vt?"text":vt,Dt=Object(op.a)(Ne,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return nt.createElement(nf,Object(pt.a)({renderSuffix:function renderSuffix(Ne){return nt.createElement(mf,{className:tt.notchedOutline,label:st,labelWidth:dt,notched:void 0!==yt?yt:Boolean(Ne.startAdornment||Ne.filled||Ne.focused)})},classes:Object(pt.a)({},tt,{root:Object(ap.a)(tt.root,tt.underline),notchedOutline:null}),fullWidth:it,inputComponent:at,multiline:mt,ref:et,type:Ot},Dt))}));gf.muiName="Input";var yf=Object(Yc.a)((function styles(Ne){var et="light"===Ne.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:Ne.shape.borderRadius,"&:hover $notchedOutline":{borderColor:Ne.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:et}},"&$focused $notchedOutline":{borderColor:Ne.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:Ne.palette.error.main},"&$disabled $notchedOutline":{borderColor:Ne.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:Ne.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:et},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===Ne.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===Ne.palette.type?null:"#fff",caretColor:"light"===Ne.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(gf),vf=lf,_f=nt.createElement(af,null),xf=nt.createElement(hf,null),wf=nt.forwardRef((function Select(Ne,et){var tt=Ne.autoWidth,rt=void 0!==tt&&tt,it=Ne.children,ot=Ne.classes,at=Ne.displayEmpty,st=void 0!==at&&at,ct=Ne.IconComponent,dt=void 0===ct?qd:ct,ft=Ne.id,mt=Ne.input,yt=Ne.inputProps,vt=Ne.label,Ot=Ne.labelId,Dt=Ne.labelWidth,Rt=void 0===Dt?0:Dt,Bt=Ne.MenuProps,rn=Ne.multiple,vn=void 0!==rn&&rn,bn=Ne.native,Tn=void 0!==bn&&bn,Cn=Ne.onClose,In=Ne.onOpen,Ln=Ne.open,Mn=Ne.renderValue,zn=Ne.SelectDisplayProps,Fn=Ne.variant,Bn=void 0===Fn?"standard":Fn,Nn=Object(op.a)(Ne,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),Vn=Tn?sf:Zd,Wn=formControlState({props:Ne,muiFormControl:useFormControl_useFormControl(),states:["variant"]}).variant||Bn,$n=mt||{standard:_f,outlined:nt.createElement(yf,{label:vt,labelWidth:Rt}),filled:xf}[Wn];return nt.cloneElement($n,Object(pt.a)({inputComponent:Vn,inputProps:Object(pt.a)({children:it,IconComponent:dt,variant:Wn,type:void 0,multiple:vn},Tn?{id:ft}:{autoWidth:rt,displayEmpty:st,labelId:Ot,MenuProps:Bt,onClose:Cn,onOpen:In,open:Ln,renderValue:Mn,SelectDisplayProps:Object(pt.a)({id:ft},zn)},yt,{classes:yt?Object(sh.a)({baseClasses:ot,newClasses:yt.classes,Component:Select}):ot},mt?mt.props.inputProps:{}),ref:et},Nn))}));wf.muiName="Select";var Sf=Object(Yc.a)(vf,{name:"MuiSelect"})(wf);tt(35);var Tf=tt(15);const Pf=$c(Ne=>({formControl:{minWidth:344,maxWidth:344},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:3},noLabel:{marginTop:Ne.spacing(3)}})),kf=Object(Yc.a)({root:{"&$checked":{color:ip.a[500]}},checked:{}})(Ne=>rt.a.createElement($p,{color:"default",...Ne})),If=Object(Yc.a)({root:{color:ip.a[300]}})(Ne=>rt.a.createElement(ah,{size:15,color:"default",...Ne}));Object(Yc.a)({root:{"&.focused::after":{borderBottomColor:"red"}}})(Ne=>rt.a.createElement(Sf,{color:"default",...Ne}));function groupOptions(Ne){const et=new Set([]),tt=[];for(const nt of Ne){const Ne=nt.label||"";et.has(Ne)||(tt.push({label:Ne,options:[]}),et.add(Ne));tt.find(et=>et.label===Ne).options.push(nt)}return tt}function Filters({baseMapLayers:Ne,rasterLayers:et,vectorLayers:tt,vectorFiltersByNamesMap:nt,selectedBaseMapLayerName:it,selectedRasterLayerName:ot,selectedVectorLayerNamesSet:at,onUpdateBaseMapLayer:st,onUpdateRasterLayer:ct,onUpdateVectorLayers:pt,onUpdateVectorFilters:dt,isLoadingVectors:ft,isLoadingRasters:mt}){function renderFilter({vectorName:Ne,filterName:et,valuesSet:tt=new Set([]),selectedValuesSet:it=new Set([])}){return rt.a.createElement("div",{key:`${Ne}_${et}`,className:Tf.filter},rt.a.createElement("div",{className:Tf.filterName},rt.a.createElement("span",null,et)),rt.a.createElement(lp,{row:!0},!tt.size&&ft&&rt.a.createElement(If,null),[...tt].map(tt=>rt.a.createElement("div",{className:Tf.valueWrapper},rt.a.createElement(yp,{control:rt.a.createElement(kf,{icon:rt.a.createElement(Yp.a,{fontSize:"small"}),checkedIcon:rt.a.createElement(Qp.a,{fontSize:"small"}),checked:it.has(tt),onChange:rt=>function handleFilterChange(Ne,et,tt){const{action:rt,removedValue:it,option:ot}=Ne;console.log("options",Ne,ot);const at={...nt},st=new Set([...at[et][tt].selectedValuesSet]);switch(rt){case"remove-value":st.delete(it);break;case"deselect-option":st.delete(ot);break;case"select-option":st.add(ot);break;case"clear":st.clear()}dt({...nt,[et]:{...nt[et],[tt]:{...nt[et][tt],selectedValuesSet:st}}})}({action:rt.target.checked?"select-option":"deselect-option",option:tt},Ne,et),inputProps:{"aria-label":"primary checkbox"}}),label:tt})))))}const yt={display:"flex",alignItems:"center",justifyContent:"space-between"},vt={backgroundColor:"#EBECF0",borderRadius:"2em",color:"#172B4D",display:"inline-block",fontSize:12,fontWeight:"normal",lineHeight:"1",minWidth:1,padding:"0.16666666666667em 0.5em",textAlign:"center"};Pf(),useTheme_useTheme();const renderGroupLabel=Ne=>rt.a.createElement("div",{style:yt,className:Tf.groupWrapper},rt.a.createElement("span",null,Ne.label),rt.a.createElement("span",{style:vt,className:Tf.groupBadge},Ne.options.length));return rt.a.createElement("div",{className:Tf.sideBarWrapper},rt.a.createElement("div",{className:Tf.bodyWrapper},rt.a.createElement("div",{className:Tf.sectionWrapper},rt.a.createElement("div",{className:Tf.sectionHeader},rt.a.createElement("span",null,"Base map")),rt.a.createElement(Hc,{options:Ne,value:Ne.find(({name:Ne})=>Ne===it),getOptionLabel:({name:Ne})=>Ne,isOptionSelected:({name:Ne})=>Ne===it,onChange:function handleBaseMapLayerChange(et,tt){const{action:nt}=tt;let rt;switch(nt){case"select-option":rt=et.name;break;case"remove-value":case"deselect-option":case"clear":rt=Ne[0].name}st(rt)},hideSelectedOptions:!1})),rt.a.createElement("div",{className:Tf.sectionWrapper},rt.a.createElement("div",{className:Tf.sectionHeader},rt.a.createElement("span",null,"Rasters")),rt.a.createElement(Hc,{options:groupOptions(et),value:et.find(({name:Ne})=>Ne===ot),getOptionLabel:({name:Ne})=>Ne,isOptionSelected:({name:Ne})=>Ne===ot,onChange:function handleRasterLayerChange(Ne,et){const{action:tt}=et;let nt;switch(tt){case"select-option":nt=Ne.name;break;case"remove-value":case"deselect-option":case"clear":nt=null}ct(nt)},hideSelectedOptions:!1,isClearable:!0,placeholder:"Select raster...",isLoading:mt,isDisabled:!et.length,formatGroupLabel:renderGroupLabel})),rt.a.createElement("div",{className:Tf.sectionWrapper},rt.a.createElement("div",{className:Tf.sectionHeader},rt.a.createElement("span",null,"Vectors")),rt.a.createElement(Hc,{options:groupOptions(tt),value:tt.filter(({name:Ne})=>at.has(Ne)),getOptionLabel:({name:Ne})=>Ne,isOptionSelected:({name:Ne})=>at.has(Ne),isMulti:!0,onChange:function handleVectorLayerChange(Ne,et){const{action:tt,removedValue:nt,option:rt}=et,it=new Set([...at]);switch(tt){case"remove-value":it.delete(nt.name);break;case"deselect-option":it.delete(rt.name);break;case"select-option":it.add(rt.name);break;case"clear":it.clear()}pt(it)},hideSelectedOptions:!1,isLoading:ft,isDisabled:!tt.length,formatGroupLabel:renderGroupLabel}),rt.a.createElement("div",{className:Tf.vectorFiltersWrapper},rt.a.createElement("div",{className:Tf.sectionHeader},rt.a.createElement("span",null,"Filter by vector values")),!tt.filter(({name:Ne,filterVariables:et=[]})=>at.has(Ne)&&et.length).length&&rt.a.createElement("span",{className:Tf.empty},"No filterable vectors selected"),tt.filter(({name:Ne})=>at.has(Ne)).map((function renderFilters({name:Ne,filterVariables:et=[]}){if(!et.length)return null;const tt=nt[Ne],it=et.map(et=>({vectorName:Ne,filterName:et.name,valuesSet:((tt||{})[et.name]||{}).valuesSet,selectedValuesSet:((tt||{})[et.name]||{}).selectedValuesSet}));return rt.a.createElement("div",{key:Ne,className:Tf.filterWrapper},rt.a.createElement("div",{className:Tf.vectorName},rt.a.createElement("span",null,Ne)),rt.a.createElement("div",{className:Tf.filters},it.map(renderFilter)))}))))))}tt(112),tt(113),tt(114),tt(115),tt(116),tt(117),tt(118),tt(119),tt(120),tt(121),tt(122),tt(123),tt(124),tt(188);var Af=tt(40),Lf=tt.n(Af),Mf=tt(82);function _defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}Lf.a.accessToken="pk.eyJ1IjoiaW1hdGhld3MiLCJhIjoiY2thdnl2cGVsMGtldTJ6cGl3c2tvM2NweSJ9.TXtG4gARAf4bUbnPVxk6uA";const Of=[33,1];class MapRenderer_MapRenderer{constructor(Ne,et){_defineProperty(this,"handleMoveEnd",()=>{const Ne=this.map.getZoom(),et=this.map.getCenter();this.onZoomOrPan(Ne,et)}),_defineProperty(this,"handleZoomEnd",()=>{const Ne=this.map.getZoom(),et=this.map.getCenter();this.onZoomOrPan(Ne,et)}),this.elem=Ne,this.props={},this.map=new Lf.a.Map({container:this.elem,center:Of,zoom:7});const tt=new Lf.a.ScaleControl({maxWidth:100,unit:"imperial"});this.map.addControl(tt),this.baseLayers=new Map,this.rasterLayers=new Map,this.vectorLayers=new Map,this.onZoomOrPan=et.onZoomOrPan,this.map.on("load",()=>this.update(et,!0)),this.map.on("zoomend",this.handleZoomEnd),this.map.on("moveend",this.handleMoveEnd)}update({baseMapLayer:Ne,rasterLayers:et,vectorLayers:tt,center:nt=Of,zoom:rt=7},it=!1){if(it&&this.map.jumpTo({center:nt,zoom:rt}),!this.baseLayers.get(Ne.name)){for(const[Ne,et]of this.baseLayers)this.baseLayers.delete(Ne);this.map.setStyle(Ne.mapboxStyle),this.baseLayers.set(Ne.name,Ne)}if(this.map.isStyleLoaded()){const Ne=new Set(et.map(({name:Ne})=>Ne));for(const[et,tt]of this.rasterLayers)Ne.has(et)||(this.map.removeLayer(et),this.rasterLayers.delete(et));for(const Ne of et){let et=this.rasterLayers.get(Ne.name);if(!et){const tt={type:"raster",tiles:[`https://api.mapbox.com/v4/${Ne.mapboxId}/{z}/{x}/{y}@2x.png?access_token=${Lf.a.accessToken}`],tileSize:512,minzoom:Ne.minNativeZoom,maxzoom:Ne.maxNativeZoom,bounds:Ne.bounds};this.map.addSource(Ne.name,tt),et={id:Ne.name,type:"raster",source:Ne.name,minzoom:Ne.minNativeZoom,maxzoom:Ne.maxNativeZoom},this.map.addLayer(et),console.log("add rasterLayer",Ne,et),this.rasterLayers.set(Ne.name,et)}}const nt=new Set(tt.map(({name:Ne})=>Ne));for(const[Ne,et]of this.vectorLayers)nt.has(Ne)||(this.map.removeLayer(Ne),this.map.removeSource(Ne),this.vectorLayers.delete(Ne));for(const Ne of tt){let et=this.vectorLayers.get(Ne.name);if(et)this.map.getSource(Ne.name).setData({type:"FeatureCollection",features:Ne.features});else{const tt={type:Ne.mapboxSourceType,data:{type:"FeatureCollection",features:Ne.features}};this.map.addSource(Ne.name,tt),et={id:Ne.name,type:Ne.mapboxLayerType,source:Ne.name,...Ne.mapboxLayerOptions||{}},Ne.minZoom&&(et.minzoom=Ne.minZoom),Ne.maxZoom&&(et.maxzoom=Ne.maxZoom),this.map.addLayer(et),console.log("add vectorLayer",Ne,et),this.map.on("click",Ne.name,Ne=>{const et=Ne.features[0].properties;if(Object.keys(et).length){const tt=[parseFloat(Ne.lngLat.lng),parseFloat(Ne.lngLat.lat)];for(;Math.abs(Ne.lngLat.lng-tt[0])>180;)tt[0]+=Ne.lngLat.lng>tt[0]?360:-360;(new Lf.a.Popup).setLngLat(tt).setHTML(Object.keys(et).map(Ne=>`<p><b>${Ne}</b><br>${et[Ne]}</p>`).join("")).addTo(this.map)}}),this.vectorLayers.set(Ne.name,et)}}}}}function Map_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}class Map_Map extends nt.Component{componentDidMount(){this.mapRenderer=new MapRenderer_MapRenderer(this.mapElement,this.props)}componentDidUpdate(Ne){this.mapRenderer.update(this.props)}render(){return rt.a.createElement("div",{ref:Ne=>this.mapElement=Ne,className:Mf.wrapper})}}Map_defineProperty(Map_Map,"propTypes",{baseMapLayer:ct.a.object,vectorLayers:ct.a.arrayOf(ct.a.object),rasterLayers:ct.a.arrayOf(ct.a.object)}),Map_defineProperty(Map_Map,"defaultProps",{vectorLayers:[],rasterLayers:[]});class RasterSource{constructor({mapboxId:Ne,isDefault:et,minZoom:tt,maxZoom:nt,minNativeZoom:rt,maxNativeZoom:it,boundingBox:ot,name:at,label:st}){this.name=at,this.label=st,this.mapboxId=Ne,this.minZoom=parseInt(tt),this.maxZoom=parseInt(nt),this.minNativeZoom=parseInt(rt),this.maxNativeZoom=parseInt(it),this.isDefault=et,ot&&(ot=ot.split(","),this.bounds=[parseInt(ot[0]),parseInt(ot[1]),parseInt(ot[2]),parseInt(ot[3])])}}var zf=[{name:"Streets",mapboxStyle:"mapbox://styles/mapbox/streets-v11",isDefault:!0}];class RasterSourceGroup_RasterSourceGroup{constructor({name:Ne,tableIdentifier:et,mapboxIdVariable:tt,minNativeZoomVariable:nt,maxNativeZoomVariable:rt,boundingBoxVariable:it,nameVariable:ot}){!function RasterSourceGroup_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}(this,"fetchData",async()=>{if(this.data)return this.data;const Ne=[...new Set([this.mapboxIdVariable.name.toLowerCase(),this.minNativeZoomVariable.name.toLowerCase(),this.maxNativeZoomVariable.name.toLowerCase(),this.boundingBoxVariable.name.toLowerCase(),this.nameVariable.name.toLowerCase()])],et=await fetch(`https://redivis.com/api/v1/tables/${this.tableIdentifier}/rows?selectedVariables=${Ne.join(",")}&maxResults=10000`,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!et.ok){const Ne=await et.text();return alert(Ne),[]}const tt=await et.text();return this.data=tt.split("\n").map((Ne,et)=>JSON.parse(Ne)).map(Ne=>new RasterSource({mapboxId:Ne[0],minNativeZoom:Ne[1],maxNativeZoom:Ne[2],boundingBox:Ne[3],name:Ne[4],label:this.name})),this.data}),this.name=Ne,this.tableIdentifier=et,this.mapboxIdVariable=tt,this.minNativeZoomVariable=nt,this.maxNativeZoomVariable=rt,this.boundingBoxVariable=it,this.nameVariable=ot}}var Rf=[new RasterSourceGroup_RasterSourceGroup({name:"Uganda",tableIdentifier:"modilab.uganda_geodata:1.raster_layer_metadata:13",mapboxIdVariable:{name:"mapbox_id"},minNativeZoomVariable:{name:"zoom_min"},maxNativeZoomVariable:{name:"zoom_max"},boundingBoxVariable:{name:"bounding_box"},nameVariable:{name:"catalog_name"}}),new RasterSourceGroup_RasterSourceGroup({name:"Ethiopia",tableIdentifier:"modilab.ethiopia_geodata:2:v1_0.raster_layer_metadata:1",mapboxIdVariable:{name:"mapbox_id"},minNativeZoomVariable:{name:"zoom_min"},maxNativeZoomVariable:{name:"zoom_max"},boundingBoxVariable:{name:"bounding_box"},nameVariable:{name:"catalog_name"}})];class VectorSource{constructor({name:Ne,label:et,tableIdentifier:tt,geoVariables:nt,getGeometry:rt,isDefault:it,filterVariables:ot,metadataVariables:at,leafletType:st,mapboxSourceType:ct,mapboxLayerType:pt,mapboxLayerOptions:dt,leafletOptions:ft,minZoom:mt,maxZoom:yt}){!function VectorSource_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}(this,"fetchData",async()=>{if(this.data)return this.data;const Ne=[...new Set([...this.geoVariables.map(({name:Ne})=>Ne.toLowerCase()),...this.filterVariables.map(({name:Ne})=>Ne.toLowerCase()),...this.metadataVariables.map(({name:Ne})=>Ne.toLowerCase())])],et=new Map;for(let tt=0;tt<Ne.length;tt++)et.set(Ne[tt],tt);const tt=await fetch(`https://redivis.com/api/v1/tables/${this.tableIdentifier}/rows?selectedVariables=${Ne.join(",")}&maxResults=10000`,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!tt.ok){const Ne=await tt.text();return alert(Ne),[]}const nt=await tt.text();return this.data=nt.split("\n").map((Ne,et)=>JSON.parse(Ne)).filter(Ne=>Ne[0]).map(Ne=>{const tt=this.getGeometry?this.getGeometry(...this.geoVariables.map(tt=>Ne[et.get(tt.name.toLowerCase())])):JSON.parse(Ne[et.get(this.geoVariables[0].name.toLowerCase())]),nt={};for(const tt of this.metadataVariables)nt[tt.name]=Ne[et.get(tt.name.toLowerCase())];return{geometry:tt,metadata:nt,properties:nt}}),this.data}),this.name=Ne,this.label=et,this.tableIdentifier=tt,this.geoVariables=nt,this.filterVariables=ot,this.metadataVariables=at,this.leafletType=st,this.mapboxSourceType=ct,this.mapboxLayerType=pt,this.mapboxLayerOptions=dt,this.leafletOptions=ft,this.minZoom=mt,this.maxZoom=yt,this.isDefault=it,this.getGeometry=rt}}var Bf=[new VectorSource({name:"Uganda Regions",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:1:current.uganda_regions:8",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"AREA"},{name:"PERIMETER"},{name:"ID"},{name:"CAPTION"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"black","line-width":3}},leafletOptions:{style:Ne=>({color:"white",weight:2,fill:!1})}}),new VectorSource({name:"Uganda Districts",label:"Uganda",isDefault:!1,tableIdentifier:"imathews.uganda_boundaries.uganda_districts",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"DNAME2016"},{name:"DNAMA2017"},{name:"DNAME2018"},{name:"DNAME2019"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"black","line-width":3,"line-dasharray":[6,3]}},leafletOptions:{style:Ne=>({color:"white",weight:2,fill:!1,dashArray:"4"})},minZoom:7}),new VectorSource({name:"Uganda Subcounties",label:"Uganda",isDefault:!1,tableIdentifier:"imathews.uganda_boundaries.uganda_subcounties",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"District"},{name:"County"},{name:"Subcounty"},{name:"regions"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"black","line-width":2,"line-dasharray":[4,2]}},leafletOptions:{style:Ne=>({color:"white",weight:1,fill:!1,dashArray:"2"})},minZoom:7}),new VectorSource({name:"Uganda Parishes",label:"Uganda",isDefault:!1,tableIdentifier:"imathews.uganda_boundaries.uganda_parishes",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"DName2016"},{name:"CName2016"},{name:"SName2016"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"black","line-width":2,"line-dasharray":[2,1]}},leafletOptions:{style:Ne=>({color:"white",weight:1,fill:!1,dashArray:"1"})},minZoom:7}),new VectorSource({name:"Uganda Electricity Transmission Lines",label:"Uganda",tableIdentifier:"modilab.uganda_geodata:1:current.uganda_electricity_transmission_lines:12",geoVariables:[{name:"geom"}],filterVariables:[{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"INSTALLATI"},{name:"STRUCTURE_"}],metadataVariables:[{name:"OBJECTID"},{name:"LINE_ID"},{name:"LINE_NAME"},{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"STATUS_DET"},{name:"YEAR_COMMI"},{name:"YEAR_UPGRA"},{name:"YEAR_DECOM"},{name:"INSTALLATI"},{name:"STRUCTURE_"},{name:"FINANCIER"},{name:"CONTRACTOR"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"rgb(32,89,255)","line-width":3}},leafletOptions:{style:Ne=>({color:"rgb(32,89,255)",weight:1})}}),new VectorSource({name:"Uganda Geosurvey Results",label:"Uganda",tableIdentifier:"modilab.uganda_geodata:1:current.uganda_geosurvey_results:1",geoVariables:[{name:"lat"},{name:"lon"}],getGeometry:(Ne,et)=>({type:"Point",coordinates:[parseFloat(et),parseFloat(Ne)]}),filterVariables:[{name:"cs"},{name:"wp"},{name:"cp"}],metadataVariables:[{name:"cs"},{name:"wp"},{name:"cp"}],leafletType:"circleMarker",mapboxSourceType:"geojson",mapboxLayerType:"circle",mapboxLayerOptions:{paint:{"circle-color":"rgba(51,255,150,0.6)","circle-radius":6}},leafletOptions:{styles:Ne=>({color:"rgba(51,255,150,0.6)",radius:1})},minZoom:8}),new VectorSource({name:"UMEME REA power distribution lines 2018",label:"Uganda",isDefault:!0,tableIdentifier:"modilab.uganda_geodata:1:v2_5.umeme_rea_power_distribution_lines_2018:7",geoVariables:[{name:"geom"}],filterVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],metadataVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"rgb(255,129,255)","line-width":3}},leafletOptions:{style:Ne=>({color:"rgb(255,129,255)",weight:1})}})];function MapWrapper_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}const Nf=/zoom=([\d+\.]+)/,Vf=/lat=(-?[\d+\.]+)/,Uf=/lng=(-?[\d+\.]+)/;class MapWrapper_MapWrapper extends nt.Component{constructor(Ne){super(Ne),MapWrapper_defineProperty(this,"loadVectors",async()=>{this.setState({isLoadingVectors:!0});const{currentVectorLayerNamesSet:Ne}=this.state,et=Bf.filter(({name:et})=>Ne.has(et)),tt={},nt={};await Promise.all(et.map(async Ne=>{const et=await Ne.fetchData();if(tt[Ne.name]=et,Ne.filterVariables&&Ne.filterVariables.length){const tt=function getFiltersMap(Ne,et){const tt={};for(const nt of Ne)for(const Ne in nt.metadata)et.has(Ne)&&(tt[Ne]||(tt[Ne]={valuesSet:new Set([]),selectedValuesSet:new Set([])}),tt[Ne].valuesSet.add(nt.metadata[Ne]||"(null)"),tt[Ne].selectedValuesSet.add(nt.metadata[Ne]||"(null)"));return tt}(et,new Set(Ne.filterVariables.map(({name:Ne})=>Ne)));nt[Ne.name]=tt}})),this.setState({vectorFeaturesByNamesMap:tt,vectorFiltersByNamesMap:nt,isLoadingVectors:!1})}),MapWrapper_defineProperty(this,"loadRasters",async()=>{this.setState({isLoadingRasters:!0});const Ne=(await Promise.all(Rf.map(async Ne=>await Ne.fetchData()))).reduce((Ne,et)=>Ne.concat(et),[]);this.setState({rasters:Ne,isLoadingRasters:!1})}),MapWrapper_defineProperty(this,"handleUpdateBaseMapLayer",Ne=>{this.setState({currentBaseMapLayerName:Ne})}),MapWrapper_defineProperty(this,"handleUpdateRasterLayer",Ne=>{this.setState({currentRasterLayerName:Ne})}),MapWrapper_defineProperty(this,"handleUpdateVectorLayers",Ne=>{this.setState({currentVectorLayerNamesSet:Ne},this.loadVectors)}),MapWrapper_defineProperty(this,"handleUpdateVectorFilters",Ne=>{this.setState({vectorFiltersByNamesMap:Ne})}),MapWrapper_defineProperty(this,"filterFeatures",(Ne,et)=>{const{vectorFiltersByNamesMap:tt}=this.state,nt=tt[Ne],rt=[];for(const Ne in nt)rt.push(Ne);return et.filter(Ne=>!Ne.metadata||rt.every(et=>void 0===Ne.metadata[et]||nt[et].selectedValuesSet.has(Ne.metadata[et]||"(null)")))}),MapWrapper_defineProperty(this,"handleZoomOrPan",(Ne,et)=>{const{location:{pathname:tt},history:nt}=this.props;nt.replace({pathname:tt,search:`zoom=${Ne}&lng=${et.lng}&lat=${et.lat}`})}),MapWrapper_defineProperty(this,"getZoomAndCenter",()=>{const{location:{search:Ne}}=this.props,et=Ne.match(Nf),tt=Ne.match(Vf),nt=Ne.match(Uf),rt={};return et&&(rt.zoom=parseInt(et[1],10)),tt&&nt&&(rt.center=[parseFloat(nt[1]),parseFloat(tt[1])]),rt});const et=Bf.filter(({isDefault:Ne})=>Ne),tt={},nt={};for(const Ne of et)tt[Ne.name]=[],nt[Ne.name]={};this.state={currentBaseMapLayerName:zf.find(({isDefault:Ne})=>Ne).name,currentRasterLayerName:null,currentVectorLayerNamesSet:new Set(et.map(({name:Ne})=>Ne)),rasters:[],vectorFeaturesByNamesMap:tt,vectorFiltersByNamesMap:nt,isLoadingVectors:!1,isLoadingRasters:!1}}componentDidMount(){this.loadVectors(),this.loadRasters()}render(){const{vectorFiltersByNamesMap:Ne,vectorFeaturesByNamesMap:et,currentRasterLayerName:tt,currentVectorLayerNamesSet:nt,currentBaseMapLayerName:it,rasters:ot,isLoadingVectors:at,isLoadingRasters:st}=this.state,{zoom:ct,center:pt}=this.getZoomAndCenter();return rt.a.createElement("div",{className:ii.mapWrapper},rt.a.createElement("div",{className:ii.filters},rt.a.createElement(Filters,{baseMapLayers:zf,rasterLayers:ot,vectorLayers:Bf,vectorFiltersByNamesMap:Ne,selectedBaseMapLayerName:it,selectedRasterLayerName:tt,selectedVectorLayerNamesSet:nt,onUpdateBaseMapLayer:this.handleUpdateBaseMapLayer,onUpdateRasterLayer:this.handleUpdateRasterLayer,onUpdateVectorLayers:this.handleUpdateVectorLayers,onUpdateVectorFilters:this.handleUpdateVectorFilters,isLoadingVectors:at,isLoadingRasters:st})),rt.a.createElement("div",{className:ii.map},rt.a.createElement(Map_Map,{baseMapLayer:zf.find(({name:Ne})=>Ne===it),rasterLayers:ot.filter(({name:Ne})=>Ne===tt),vectorLayers:Bf.filter(({name:Ne})=>nt.has(Ne)).map(Ne=>({...Ne,features:this.filterFeatures(Ne.name,et[Ne.name]||[])})),onZoomOrPan:this.handleZoomOrPan,zoom:ct,center:pt})))}}var Zf=withRouter(MapWrapper_MapWrapper),qf=tt(86);class About_About extends nt.Component{render(){return rt.a.createElement("div",{className:qf.aboutWrapper},rt.a.createElement("span",{className:qf.header},"About"))}}var Wf=withRouter(About_About);function App_defineProperty(Ne,et,tt){return et in Ne?Object.defineProperty(Ne,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ne[et]=tt,Ne}class App_App extends nt.Component{constructor(Ne){super(Ne),App_defineProperty(this,"renderHeader",()=>rt.a.createElement("div",{className:vr.headerWrapper},rt.a.createElement("div",{className:vr.header},rt.a.createElement("h2",null,"QSEL Map")),rt.a.createElement("div",{className:vr.navigation},rt.a.createElement(rr,{exact:!0,className:vr.link,activeClassName:vr.active,to:"/"},"Explore data"),rt.a.createElement(rr,{exact:!0,className:vr.link,activeClassName:vr.active,to:"/map"},"Map"),rt.a.createElement(rr,{exact:!0,className:vr.link,activeClassName:vr.active,to:"/about"},"About")))),App_defineProperty(this,"renderBody",()=>rt.a.createElement("div",{className:vr.bodyWrapper},rt.a.createElement(Mn,null,rt.a.createElement(Ln,{exact:!0,path:"/",component:Sr}),rt.a.createElement(Ln,{exact:!0,path:"/map",component:Zf}),rt.a.createElement(Ln,{exact:!0,path:"/about",component:Wf}))));let et=localStorage.getItem("path");et&&(localStorage.removeItem("path"),Ne.history.push([et]))}render(){return rt.a.createElement("div",{className:vr.appWrapper},this.renderHeader(),this.renderBody())}}var Xf=withRouter(App_App);let $f=document.getElementById("root");$f||($f=document.createElement("div"),$f.id="root",document.body.appendChild($f)),Object(it.render)(rt.a.createElement(zn,null,rt.a.createElement(Xf,null)),$f)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return mergeClasses}));var nt=tt(1);function mergeClasses(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=Ne.baseClasses,tt=Ne.newClasses;Ne.Component;if(!tt)return et;var rt=Object(nt.a)({},et);return Object.keys(tt).forEach((function(Ne){tt[Ne]&&(rt[Ne]="".concat(et[Ne]," ").concat(tt[Ne]))})),rt}},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return deepmerge}));var nt=tt(1),rt=tt(33);function isPlainObject(Ne){return Ne&&"object"===Object(rt.a)(Ne)&&Ne.constructor===Object}function deepmerge(Ne,et){var tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},rt=tt.clone?Object(nt.a)({},Ne):Ne;return isPlainObject(Ne)&&isPlainObject(et)&&Object.keys(et).forEach((function(nt){"__proto__"!==nt&&(isPlainObject(et[nt])&&nt in Ne?rt[nt]=deepmerge(Ne[nt],et[nt],tt):rt[nt]=et[nt])})),rt}},function(Ne,et,tt){"use strict";function getThemeProps(Ne){var et=Ne.theme,tt=Ne.name,nt=Ne.props;if(!et||!et.props||!et.props[tt])return nt;var rt,it=et.props[tt];for(rt in it)void 0===nt[rt]&&(nt[rt]=it[rt]);return nt}tt.d(et,"a",(function(){return getThemeProps}))},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return makeStyles}));var nt=tt(2),rt=tt(1),it=tt(0),ot=tt.n(it),at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ne){return typeof Ne}:function(Ne){return Ne&&"function"==typeof Symbol&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},st="object"===("undefined"==typeof window?"undefined":at(window))&&"object"===("undefined"==typeof document?"undefined":at(document))&&9===document.nodeType,ct=(tt(25),tt(39)),pt=tt(14),dt=tt(60),ft=tt(18),mt={}.constructor;function cloneStyle(Ne){if(null==Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne))return Ne.map(cloneStyle);if(Ne.constructor!==mt)return Ne;var et={};for(var tt in Ne)et[tt]=cloneStyle(Ne[tt]);return et}function createRule(Ne,et,tt){void 0===Ne&&(Ne="unnamed");var nt=tt.jss,rt=cloneStyle(et),it=nt.plugins.onCreateRule(Ne,rt,tt);return it||(Ne[0],null)}var yt=function join(Ne,et){for(var tt="",nt=0;nt<Ne.length&&"!important"!==Ne[nt];nt++)tt&&(tt+=et),tt+=Ne[nt];return tt};function toCssValue(Ne,et){if(void 0===et&&(et=!1),!Array.isArray(Ne))return Ne;var tt="";if(Array.isArray(Ne[0]))for(var nt=0;nt<Ne.length&&"!important"!==Ne[nt];nt++)tt&&(tt+=", "),tt+=yt(Ne[nt]," ");else tt=yt(Ne,", ");return et||"!important"!==Ne[Ne.length-1]||(tt+=" !important"),tt}function indentStr(Ne,et){for(var tt="",nt=0;nt<et;nt++)tt+="  ";return tt+Ne}function toCss(Ne,et,tt){void 0===tt&&(tt={});var nt="";if(!et)return nt;var rt=tt.indent,it=void 0===rt?0:rt,ot=et.fallbacks;if(Ne&&it++,ot)if(Array.isArray(ot))for(var at=0;at<ot.length;at++){var st=ot[at];for(var ct in st){var pt=st[ct];null!=pt&&(nt&&(nt+="\n"),nt+=""+indentStr(ct+": "+toCssValue(pt)+";",it))}}else for(var dt in ot){var ft=ot[dt];null!=ft&&(nt&&(nt+="\n"),nt+=""+indentStr(dt+": "+toCssValue(ft)+";",it))}for(var mt in et){var yt=et[mt];null!=yt&&"fallbacks"!==mt&&(nt&&(nt+="\n"),nt+=""+indentStr(mt+": "+toCssValue(yt)+";",it))}return(nt||tt.allowEmpty)&&Ne?(nt&&(nt="\n"+nt+"\n"),indentStr(Ne+" {"+nt,--it)+indentStr("}",it)):nt}var vt=/([[\].#*$><+~=|^:(),"'`\s])/g,Ot="undefined"!=typeof CSS&&CSS.escape,jss_esm_escape=function(Ne){return Ot?Ot(Ne):Ne.replace(vt,"\\$1")},Dt=function(){function BaseStyleRule(Ne,et,tt){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var nt=tt.sheet,rt=tt.Renderer;this.key=Ne,this.options=tt,this.style=et,nt?this.renderer=nt.renderer:rt&&(this.renderer=new rt)}return BaseStyleRule.prototype.prop=function prop(Ne,et,tt){if(void 0===et)return this.style[Ne];var nt=!!tt&&tt.force;if(!nt&&this.style[Ne]===et)return this;var rt=et;tt&&!1===tt.process||(rt=this.options.jss.plugins.onChangeValue(et,Ne,this));var it=null==rt||!1===rt,ot=Ne in this.style;if(it&&!ot&&!nt)return this;var at=it&&ot;if(at?delete this.style[Ne]:this.style[Ne]=rt,this.renderable&&this.renderer)return at?this.renderer.removeProperty(this.renderable,Ne):this.renderer.setProperty(this.renderable,Ne,rt),this;var st=this.options.sheet;return st&&st.attached,this},BaseStyleRule}(),Rt=function(Ne){function StyleRule(et,tt,nt){var rt;(rt=Ne.call(this,et,tt,nt)||this).selectorText=void 0,rt.id=void 0,rt.renderable=void 0;var it=nt.selector,ot=nt.scoped,at=nt.sheet,st=nt.generateId;return it?rt.selectorText=it:!1!==ot&&(rt.id=st(Object(dt.a)(Object(dt.a)(rt)),at),rt.selectorText="."+jss_esm_escape(rt.id)),rt}Object(pt.a)(StyleRule,Ne);var et=StyleRule.prototype;return et.applyTo=function applyTo(Ne){var et=this.renderer;if(et){var tt=this.toJSON();for(var nt in tt)et.setProperty(Ne,nt,tt[nt])}return this},et.toJSON=function toJSON(){var Ne={};for(var et in this.style){var tt=this.style[et];"object"!=typeof tt?Ne[et]=tt:Array.isArray(tt)&&(Ne[et]=toCssValue(tt))}return Ne},et.toString=function toString(Ne){var et=this.options.sheet,tt=!!et&&et.options.link?Object(rt.a)({},Ne,{allowEmpty:!0}):Ne;return toCss(this.selectorText,this.style,tt)},Object(ct.a)(StyleRule,[{key:"selector",set:function set(Ne){if(Ne!==this.selectorText){this.selectorText=Ne;var et=this.renderer,tt=this.renderable;if(tt&&et)et.setSelector(tt,Ne)||et.replaceRule(tt,this)}},get:function get(){return this.selectorText}}]),StyleRule}(Dt),Bt={onCreateRule:function onCreateRule(Ne,et,tt){return"@"===Ne[0]||tt.parent&&"keyframes"===tt.parent.type?null:new Rt(Ne,et,tt)}},rn={indent:1,children:!0},vn=/@([\w-]+)/,bn=function(){function ConditionalRule(Ne,et,tt){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=Ne,this.query=tt.name;var nt=Ne.match(vn);for(var it in this.at=nt?nt[1]:"unknown",this.options=tt,this.rules=new vo(Object(rt.a)({},tt,{parent:this})),et)this.rules.add(it,et[it]);this.rules.process()}var Ne=ConditionalRule.prototype;return Ne.getRule=function getRule(Ne){return this.rules.get(Ne)},Ne.indexOf=function indexOf(Ne){return this.rules.indexOf(Ne)},Ne.addRule=function addRule(Ne,et,tt){var nt=this.rules.add(Ne,et,tt);return nt?(this.options.jss.plugins.onProcessRule(nt),nt):null},Ne.toString=function toString(Ne){if(void 0===Ne&&(Ne=rn),null==Ne.indent&&(Ne.indent=rn.indent),null==Ne.children&&(Ne.children=rn.children),!1===Ne.children)return this.query+" {}";var et=this.rules.toString(Ne);return et?this.query+" {\n"+et+"\n}":""},ConditionalRule}(),Tn=/@media|@supports\s+/,Cn={onCreateRule:function onCreateRule(Ne,et,tt){return Tn.test(Ne)?new bn(Ne,et,tt):null}},In={indent:1,children:!0},Ln=/@keyframes\s+([\w-]+)/,Mn=function(){function KeyframesRule(Ne,et,tt){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var nt=Ne.match(Ln);nt&&nt[1]?this.name=nt[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=tt;var it=tt.scoped,ot=tt.sheet,at=tt.generateId;for(var st in this.id=!1===it?this.name:jss_esm_escape(at(this,ot)),this.rules=new vo(Object(rt.a)({},tt,{parent:this})),et)this.rules.add(st,et[st],Object(rt.a)({},tt,{parent:this}));this.rules.process()}return KeyframesRule.prototype.toString=function toString(Ne){if(void 0===Ne&&(Ne=In),null==Ne.indent&&(Ne.indent=In.indent),null==Ne.children&&(Ne.children=In.children),!1===Ne.children)return this.at+" "+this.id+" {}";var et=this.rules.toString(Ne);return et&&(et="\n"+et+"\n"),this.at+" "+this.id+" {"+et+"}"},KeyframesRule}(),zn=/@keyframes\s+/,Fn=/\$([\w-]+)/g,Bn=function findReferencedKeyframe(Ne,et){return"string"==typeof Ne?Ne.replace(Fn,(function(Ne,tt){return tt in et?et[tt]:Ne})):Ne},Nn=function replaceRef(Ne,et,tt){var nt=Ne[et],rt=Bn(nt,tt);rt!==nt&&(Ne[et]=rt)},Vn={onCreateRule:function onCreateRule(Ne,et,tt){return"string"==typeof Ne&&zn.test(Ne)?new Mn(Ne,et,tt):null},onProcessStyle:function onProcessStyle(Ne,et,tt){return"style"===et.type&&tt?("animation-name"in Ne&&Nn(Ne,"animation-name",tt.keyframes),"animation"in Ne&&Nn(Ne,"animation",tt.keyframes),Ne):Ne},onChangeValue:function onChangeValue(Ne,et,tt){var nt=tt.options.sheet;if(!nt)return Ne;switch(et){case"animation":case"animation-name":return Bn(Ne,nt.keyframes);default:return Ne}}},Wn=function(Ne){function KeyframeRule(){for(var et,tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];return(et=Ne.call.apply(Ne,[this].concat(nt))||this).renderable=void 0,et}return Object(pt.a)(KeyframeRule,Ne),KeyframeRule.prototype.toString=function toString(Ne){var et=this.options.sheet,tt=!!et&&et.options.link?Object(rt.a)({},Ne,{allowEmpty:!0}):Ne;return toCss(this.key,this.style,tt)},KeyframeRule}(Dt),$n={onCreateRule:function onCreateRule(Ne,et,tt){return tt.parent&&"keyframes"===tt.parent.type?new Wn(Ne,et,tt):null}},Yn=function(){function FontFaceRule(Ne,et,tt){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=Ne,this.style=et,this.options=tt}return FontFaceRule.prototype.toString=function toString(Ne){if(Array.isArray(this.style)){for(var et="",tt=0;tt<this.style.length;tt++)et+=toCss(this.at,this.style[tt]),this.style[tt+1]&&(et+="\n");return et}return toCss(this.at,this.style,Ne)},FontFaceRule}(),er=/@font-face/,rr={onCreateRule:function onCreateRule(Ne,et,tt){return er.test(Ne)?new Yn(Ne,et,tt):null}},vr=function(){function ViewportRule(Ne,et,tt){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=Ne,this.style=et,this.options=tt}return ViewportRule.prototype.toString=function toString(Ne){return toCss(this.key,this.style,Ne)},ViewportRule}(),wr={onCreateRule:function onCreateRule(Ne,et,tt){return"@viewport"===Ne||"@-ms-viewport"===Ne?new vr(Ne,et,tt):null}},Sr=function(){function SimpleRule(Ne,et,tt){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=Ne,this.value=et,this.options=tt}return SimpleRule.prototype.toString=function toString(Ne){if(Array.isArray(this.value)){for(var et="",tt=0;tt<this.value.length;tt++)et+=this.key+" "+this.value[tt]+";",this.value[tt+1]&&(et+="\n");return et}return this.key+" "+this.value+";"},SimpleRule}(),ii={"@charset":!0,"@import":!0,"@namespace":!0},qi=[Bt,Cn,Vn,$n,rr,wr,{onCreateRule:function onCreateRule(Ne,et,tt){return Ne in ii?new Sr(Ne,et,tt):null}}],uo={process:!0},po={force:!0,process:!0},vo=function(){function RuleList(Ne){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=Ne,this.classes=Ne.classes,this.keyframes=Ne.keyframes}var Ne=RuleList.prototype;return Ne.add=function add(Ne,et,tt){var nt=this.options,it=nt.parent,ot=nt.sheet,at=nt.jss,st=nt.Renderer,ct=nt.generateId,pt=nt.scoped,dt=Object(rt.a)({classes:this.classes,parent:it,sheet:ot,jss:at,Renderer:st,generateId:ct,scoped:pt,name:Ne},tt),ft=Ne;Ne in this.raw&&(ft=Ne+"-d"+this.counter++),this.raw[ft]=et,ft in this.classes&&(dt.selector="."+jss_esm_escape(this.classes[ft]));var mt=createRule(ft,et,dt);if(!mt)return null;this.register(mt);var yt=void 0===dt.index?this.index.length:dt.index;return this.index.splice(yt,0,mt),mt},Ne.get=function get(Ne){return this.map[Ne]},Ne.remove=function remove(Ne){this.unregister(Ne),delete this.raw[Ne.key],this.index.splice(this.index.indexOf(Ne),1)},Ne.indexOf=function indexOf(Ne){return this.index.indexOf(Ne)},Ne.process=function process(){var Ne=this.options.jss.plugins;this.index.slice(0).forEach(Ne.onProcessRule,Ne)},Ne.register=function register(Ne){this.map[Ne.key]=Ne,Ne instanceof Rt?(this.map[Ne.selector]=Ne,Ne.id&&(this.classes[Ne.key]=Ne.id)):Ne instanceof Mn&&this.keyframes&&(this.keyframes[Ne.name]=Ne.id)},Ne.unregister=function unregister(Ne){delete this.map[Ne.key],Ne instanceof Rt?(delete this.map[Ne.selector],delete this.classes[Ne.key]):Ne instanceof Mn&&delete this.keyframes[Ne.name]},Ne.update=function update(){var Ne,et,tt;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Ne=arguments.length<=0?void 0:arguments[0],et=arguments.length<=1?void 0:arguments[1],tt=arguments.length<=2?void 0:arguments[2]):(et=arguments.length<=0?void 0:arguments[0],tt=arguments.length<=1?void 0:arguments[1],Ne=null),Ne)this.updateOne(this.map[Ne],et,tt);else for(var nt=0;nt<this.index.length;nt++)this.updateOne(this.index[nt],et,tt)},Ne.updateOne=function updateOne(Ne,et,tt){void 0===tt&&(tt=uo);var nt=this.options,rt=nt.jss.plugins,it=nt.sheet;if(Ne.rules instanceof RuleList)Ne.rules.update(et,tt);else{var ot=Ne,at=ot.style;if(rt.onUpdate(et,Ne,it,tt),tt.process&&at&&at!==ot.style){for(var st in rt.onProcessStyle(ot.style,ot,it),ot.style){var ct=ot.style[st];ct!==at[st]&&ot.prop(st,ct,po)}for(var pt in at){var dt=ot.style[pt],ft=at[pt];null==dt&&dt!==ft&&ot.prop(pt,null,po)}}}},Ne.toString=function toString(Ne){for(var et="",tt=this.options.sheet,nt=!!tt&&tt.options.link,rt=0;rt<this.index.length;rt++){var it=this.index[rt].toString(Ne);(it||nt)&&(et&&(et+="\n"),et+=it)}return et},RuleList}(),So=function(){function StyleSheet(Ne,et){for(var tt in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(rt.a)({},et,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),et.Renderer&&(this.renderer=new et.Renderer(this)),this.rules=new vo(this.options),Ne)this.rules.add(tt,Ne[tt]);this.rules.process()}var Ne=StyleSheet.prototype;return Ne.attach=function attach(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},Ne.detach=function detach(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},Ne.addRule=function addRule(Ne,et,tt){var nt=this.queue;this.attached&&!nt&&(this.queue=[]);var rt=this.rules.add(Ne,et,tt);return rt?(this.options.jss.plugins.onProcessRule(rt),this.attached?this.deployed?(nt?nt.push(rt):(this.insertRule(rt),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),rt):rt:(this.deployed=!1,rt)):null},Ne.insertRule=function insertRule(Ne){this.renderer&&this.renderer.insertRule(Ne)},Ne.addRules=function addRules(Ne,et){var tt=[];for(var nt in Ne){var rt=this.addRule(nt,Ne[nt],et);rt&&tt.push(rt)}return tt},Ne.getRule=function getRule(Ne){return this.rules.get(Ne)},Ne.deleteRule=function deleteRule(Ne){var et="object"==typeof Ne?Ne:this.rules.get(Ne);return!!et&&(this.rules.remove(et),!(this.attached&&et.renderable&&this.renderer)||this.renderer.deleteRule(et.renderable))},Ne.indexOf=function indexOf(Ne){return this.rules.indexOf(Ne)},Ne.deploy=function deploy(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},Ne.update=function update(){var Ne;return(Ne=this.rules).update.apply(Ne,arguments),this},Ne.updateOne=function updateOne(Ne,et,tt){return this.rules.updateOne(Ne,et,tt),this},Ne.toString=function toString(Ne){return this.rules.toString(Ne)},StyleSheet}(),ta=function(){function PluginsRegistry(){this.plugins={internal:[],external:[]},this.registry=void 0}var Ne=PluginsRegistry.prototype;return Ne.onCreateRule=function onCreateRule(Ne,et,tt){for(var nt=0;nt<this.registry.onCreateRule.length;nt++){var rt=this.registry.onCreateRule[nt](Ne,et,tt);if(rt)return rt}return null},Ne.onProcessRule=function onProcessRule(Ne){if(!Ne.isProcessed){for(var et=Ne.options.sheet,tt=0;tt<this.registry.onProcessRule.length;tt++)this.registry.onProcessRule[tt](Ne,et);Ne.style&&this.onProcessStyle(Ne.style,Ne,et),Ne.isProcessed=!0}},Ne.onProcessStyle=function onProcessStyle(Ne,et,tt){for(var nt=0;nt<this.registry.onProcessStyle.length;nt++)et.style=this.registry.onProcessStyle[nt](et.style,et,tt)},Ne.onProcessSheet=function onProcessSheet(Ne){for(var et=0;et<this.registry.onProcessSheet.length;et++)this.registry.onProcessSheet[et](Ne)},Ne.onUpdate=function onUpdate(Ne,et,tt,nt){for(var rt=0;rt<this.registry.onUpdate.length;rt++)this.registry.onUpdate[rt](Ne,et,tt,nt)},Ne.onChangeValue=function onChangeValue(Ne,et,tt){for(var nt=Ne,rt=0;rt<this.registry.onChangeValue.length;rt++)nt=this.registry.onChangeValue[rt](nt,et,tt);return nt},Ne.use=function use(Ne,et){void 0===et&&(et={queue:"external"});var tt=this.plugins[et.queue];-1===tt.indexOf(Ne)&&(tt.push(Ne),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(Ne,et){for(var tt in et)tt in Ne&&Ne[tt].push(et[tt]);return Ne}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},PluginsRegistry}(),na=new(function(){function SheetsRegistry(){this.registry=[]}var Ne=SheetsRegistry.prototype;return Ne.add=function add(Ne){var et=this.registry,tt=Ne.options.index;if(-1===et.indexOf(Ne))if(0===et.length||tt>=this.index)et.push(Ne);else for(var nt=0;nt<et.length;nt++)if(et[nt].options.index>tt)return void et.splice(nt,0,Ne)},Ne.reset=function reset(){this.registry=[]},Ne.remove=function remove(Ne){var et=this.registry.indexOf(Ne);this.registry.splice(et,1)},Ne.toString=function toString(Ne){for(var et=void 0===Ne?{}:Ne,tt=et.attached,nt=Object(ft.a)(et,["attached"]),rt="",it=0;it<this.registry.length;it++){var ot=this.registry[it];null!=tt&&ot.attached!==tt||(rt&&(rt+="\n"),rt+=ot.toString(nt))}return rt},Object(ct.a)(SheetsRegistry,[{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}()),ia="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),sa="2f1acc6c3a606b082e5eef5e54414ffb";null==ia[sa]&&(ia[sa]=0);var la=ia[sa]++,pa=function createGenerateId(Ne){void 0===Ne&&(Ne={});var et=0;return function(tt,nt){et+=1;var rt="",it="";return nt&&(nt.options.classNamePrefix&&(it=nt.options.classNamePrefix),null!=nt.options.jss.id&&(rt=String(nt.options.jss.id))),Ne.minify?""+(it||"c")+la+rt+et:it+tt.key+"-"+la+(rt?"-"+rt:"")+"-"+et}},fa=function memoize(Ne){var et;return function(){return et||(et=Ne()),et}};function getPropertyValue(Ne,et){try{return Ne.attributeStyleMap?Ne.attributeStyleMap.get(et):Ne.style.getPropertyValue(et)}catch(Ne){return""}}function setProperty(Ne,et,tt){try{var nt=tt;if(Array.isArray(tt)&&(nt=toCssValue(tt,!0),"!important"===tt[tt.length-1]))return Ne.style.setProperty(et,nt,"important"),!0;Ne.attributeStyleMap?Ne.attributeStyleMap.set(et,nt):Ne.style.setProperty(et,nt)}catch(Ne){return!1}return!0}function removeProperty(Ne,et){try{Ne.attributeStyleMap?Ne.attributeStyleMap.delete(et):Ne.style.removeProperty(et)}catch(Ne){}}function setSelector(Ne,et){return Ne.selectorText=et,Ne.selectorText===et}var ga=fa((function(){return document.querySelector("head")}));function findPrevNode(Ne){var et=na.registry;if(et.length>0){var tt=function findHigherSheet(Ne,et){for(var tt=0;tt<Ne.length;tt++){var nt=Ne[tt];if(nt.attached&&nt.options.index>et.index&&nt.options.insertionPoint===et.insertionPoint)return nt}return null}(et,Ne);if(tt&&tt.renderer)return{parent:tt.renderer.element.parentNode,node:tt.renderer.element};if((tt=function findHighestSheet(Ne,et){for(var tt=Ne.length-1;tt>=0;tt--){var nt=Ne[tt];if(nt.attached&&nt.options.insertionPoint===et.insertionPoint)return nt}return null}(et,Ne))&&tt.renderer)return{parent:tt.renderer.element.parentNode,node:tt.renderer.element.nextSibling}}var nt=Ne.insertionPoint;if(nt&&"string"==typeof nt){var rt=function findCommentNode(Ne){for(var et=ga(),tt=0;tt<et.childNodes.length;tt++){var nt=et.childNodes[tt];if(8===nt.nodeType&&nt.nodeValue.trim()===Ne)return nt}return null}(nt);if(rt)return{parent:rt.parentNode,node:rt.nextSibling}}return!1}var va=fa((function(){var Ne=document.querySelector('meta[property="csp-nonce"]');return Ne?Ne.getAttribute("content"):null})),_a=function insertRule(Ne,et,tt){var nt=Ne.cssRules.length;(void 0===tt||tt>nt)&&(tt=nt);try{if("insertRule"in Ne)Ne.insertRule(et,tt);else if("appendRule"in Ne){Ne.appendRule(et)}}catch(Ne){return!1}return Ne.cssRules[tt]},wa=function(){function DomRenderer(Ne){this.getPropertyValue=getPropertyValue,this.setProperty=setProperty,this.removeProperty=removeProperty,this.setSelector=setSelector,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,Ne&&na.add(Ne),this.sheet=Ne;var et=this.sheet?this.sheet.options:{},tt=et.media,nt=et.meta,rt=et.element;this.element=rt||function createStyle(){var Ne=document.createElement("style");return Ne.textContent="\n",Ne}(),this.element.setAttribute("data-jss",""),tt&&this.element.setAttribute("media",tt),nt&&this.element.setAttribute("data-meta",nt);var it=va();it&&this.element.setAttribute("nonce",it)}var Ne=DomRenderer.prototype;return Ne.attach=function attach(){if(!this.element.parentNode&&this.sheet){!function insertStyle(Ne,et){var tt=et.insertionPoint,nt=findPrevNode(et);if(!1!==nt&&nt.parent)nt.parent.insertBefore(Ne,nt.node);else if(tt&&"number"==typeof tt.nodeType){var rt=tt,it=rt.parentNode;it&&it.insertBefore(Ne,rt.nextSibling)}else ga().appendChild(Ne)}(this.element,this.sheet.options);var Ne=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&Ne&&(this.hasInsertedRules=!1,this.deploy())}},Ne.detach=function detach(){var Ne=this.element.parentNode;Ne&&Ne.removeChild(this.element)},Ne.deploy=function deploy(){var Ne=this.sheet;Ne&&(Ne.options.link?this.insertRules(Ne.rules):this.element.textContent="\n"+Ne.toString()+"\n")},Ne.insertRules=function insertRules(Ne,et){for(var tt=0;tt<Ne.index.length;tt++)this.insertRule(Ne.index[tt],tt,et)},Ne.insertRule=function insertRule(Ne,et,tt){if(void 0===tt&&(tt=this.element.sheet),Ne.rules){var nt=Ne,rt=tt;return("conditional"!==Ne.type&&"keyframes"!==Ne.type||!1!==(rt=_a(tt,nt.toString({children:!1}),et)))&&(this.insertRules(nt.rules,rt),rt)}if(Ne.renderable&&Ne.renderable.parentStyleSheet===this.element.sheet)return Ne.renderable;var it=Ne.toString();if(!it)return!1;var ot=_a(tt,it,et);return!1!==ot&&(this.hasInsertedRules=!0,Ne.renderable=ot,ot)},Ne.deleteRule=function deleteRule(Ne){var et=this.element.sheet,tt=this.indexOf(Ne);return-1!==tt&&(et.deleteRule(tt),!0)},Ne.indexOf=function indexOf(Ne){for(var et=this.element.sheet.cssRules,tt=0;tt<et.length;tt++)if(Ne===et[tt])return tt;return-1},Ne.replaceRule=function replaceRule(Ne,et){var tt=this.indexOf(Ne);return-1!==tt&&(this.element.sheet.deleteRule(tt),this.insertRule(et,tt))},Ne.getRules=function getRules(){return this.element.sheet.cssRules},DomRenderer}(),Aa=0,os=function(){function Jss(Ne){this.id=Aa++,this.version="10.3.0",this.plugins=new ta,this.options={id:{minify:!1},createGenerateId:pa,Renderer:st?wa:null,plugins:[]},this.generateId=pa({minify:!1});for(var et=0;et<qi.length;et++)this.plugins.use(qi[et],{queue:"internal"});this.setup(Ne)}var Ne=Jss.prototype;return Ne.setup=function setup(Ne){return void 0===Ne&&(Ne={}),Ne.createGenerateId&&(this.options.createGenerateId=Ne.createGenerateId),Ne.id&&(this.options.id=Object(rt.a)({},this.options.id,Ne.id)),(Ne.createGenerateId||Ne.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=Ne.insertionPoint&&(this.options.insertionPoint=Ne.insertionPoint),"Renderer"in Ne&&(this.options.Renderer=Ne.Renderer),Ne.plugins&&this.use.apply(this,Ne.plugins),this},Ne.createStyleSheet=function createStyleSheet(Ne,et){void 0===et&&(et={});var tt=et.index;"number"!=typeof tt&&(tt=0===na.index?0:na.index+1);var nt=new So(Ne,Object(rt.a)({},et,{jss:this,generateId:et.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:tt}));return this.plugins.onProcessSheet(nt),nt},Ne.removeStyleSheet=function removeStyleSheet(Ne){return Ne.detach(),na.remove(Ne),this},Ne.createRule=function createRule$1(Ne,et,tt){if(void 0===et&&(et={}),void 0===tt&&(tt={}),"object"==typeof Ne)return this.createRule(void 0,Ne,et);var nt=Object(rt.a)({},tt,{name:Ne,jss:this,Renderer:this.options.Renderer});nt.generateId||(nt.generateId=this.generateId),nt.classes||(nt.classes={}),nt.keyframes||(nt.keyframes={});var it=createRule(Ne,et,nt);return it&&this.plugins.onProcessRule(it),it},Ne.use=function use(){for(var Ne=this,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return tt.forEach((function(et){Ne.plugins.use(et)})),this},Jss}();var as="undefined"!=typeof CSS&&CSS&&"number"in CSS,ss=function create(Ne){return new os(Ne)},ls=(ss(),tt(226)),us={set:function set(Ne,et,tt,nt){var rt=Ne.get(et);rt||(rt=new Map,Ne.set(et,rt)),rt.set(tt,nt)},get:function get(Ne,et,tt){var nt=Ne.get(et);return nt?nt.get(tt):void 0},delete:function _delete(Ne,et,tt){Ne.get(et).delete(tt)}},fs=tt(230),gs=(tt(4),"function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),vs=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */var xs=Date.now(),Ss="fnValues"+xs,Es="fnStyle"+ ++xs;var Cs=function functionPlugin(){return{onCreateRule:function onCreateRule(Ne,et,tt){if("function"!=typeof et)return null;var nt=createRule(Ne,{},tt);return nt[Es]=et,nt},onProcessStyle:function onProcessStyle(Ne,et){if(Ss in et||Es in et)return Ne;var tt={};for(var nt in Ne){var rt=Ne[nt];"function"==typeof rt&&(delete Ne[nt],tt[nt]=rt)}return et[Ss]=tt,Ne},onUpdate:function onUpdate(Ne,et,tt,nt){var rt=et,it=rt[Es];it&&(rt.style=it(Ne)||{});var ot=rt[Ss];if(ot)for(var at in ot)rt.prop(at,ot[at](Ne),nt)}}},Ps="@global",As=function(){function GlobalContainerRule(Ne,et,tt){for(var nt in this.type="global",this.at=Ps,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=Ne,this.options=tt,this.rules=new vo(Object(rt.a)({},tt,{parent:this})),et)this.rules.add(nt,et[nt]);this.rules.process()}var Ne=GlobalContainerRule.prototype;return Ne.getRule=function getRule(Ne){return this.rules.get(Ne)},Ne.addRule=function addRule(Ne,et,tt){var nt=this.rules.add(Ne,et,tt);return this.options.jss.plugins.onProcessRule(nt),nt},Ne.indexOf=function indexOf(Ne){return this.rules.indexOf(Ne)},Ne.toString=function toString(){return this.rules.toString()},GlobalContainerRule}(),Ls=function(){function GlobalPrefixedRule(Ne,et,tt){this.type="global",this.at=Ps,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=Ne,this.options=tt;var nt=Ne.substr("@global ".length);this.rule=tt.jss.createRule(nt,et,Object(rt.a)({},tt,{parent:this}))}return GlobalPrefixedRule.prototype.toString=function toString(Ne){return this.rule?this.rule.toString(Ne):""},GlobalPrefixedRule}(),Ms=/\s*,\s*/g;function addScope(Ne,et){for(var tt=Ne.split(Ms),nt="",rt=0;rt<tt.length;rt++)nt+=et+" "+tt[rt].trim(),tt[rt+1]&&(nt+=", ");return nt}var Os=function jssGlobal(){return{onCreateRule:function onCreateRule(Ne,et,tt){if(!Ne)return null;if(Ne===Ps)return new As(Ne,et,tt);if("@"===Ne[0]&&"@global "===Ne.substr(0,"@global ".length))return new Ls(Ne,et,tt);var nt=tt.parent;return nt&&("global"===nt.type||nt.options.parent&&"global"===nt.options.parent.type)&&(tt.scoped=!1),!1===tt.scoped&&(tt.selector=Ne),null},onProcessRule:function onProcessRule(Ne){"style"===Ne.type&&(!function handleNestedGlobalContainerRule(Ne){var et=Ne.options,tt=Ne.style,nt=tt?tt[Ps]:null;if(nt){for(var it in nt)et.sheet.addRule(it,nt[it],Object(rt.a)({},et,{selector:addScope(it,Ne.selector)}));delete tt[Ps]}}(Ne),function handlePrefixedGlobalRule(Ne){var et=Ne.options,tt=Ne.style;for(var nt in tt)if("@"===nt[0]&&nt.substr(0,Ps.length)===Ps){var it=addScope(nt.substr(Ps.length),Ne.selector);et.sheet.addRule(it,tt[nt],Object(rt.a)({},et,{selector:it})),delete tt[nt]}}(Ne))}}},zs=/\s*,\s*/g,Rs=/&/g,Fs=/\$([\w-]+)/g;var Bs=function jssNested(){function getReplaceRef(Ne,et){return function(tt,nt){var rt=Ne.getRule(nt)||et&&et.getRule(nt);return rt?(rt=rt).selector:nt}}function replaceParentRefs(Ne,et){for(var tt=et.split(zs),nt=Ne.split(zs),rt="",it=0;it<tt.length;it++)for(var ot=tt[it],at=0;at<nt.length;at++){var st=nt[at];rt&&(rt+=", "),rt+=-1!==st.indexOf("&")?st.replace(Rs,ot):ot+" "+st}return rt}function getOptions(Ne,et,tt){if(tt)return Object(rt.a)({},tt,{index:tt.index+1});var nt=Ne.options.nestingLevel;nt=void 0===nt?1:nt+1;var it=Object(rt.a)({},Ne.options,{nestingLevel:nt,index:et.indexOf(Ne)+1});return delete it.name,it}return{onProcessStyle:function onProcessStyle(Ne,et,tt){if("style"!==et.type)return Ne;var nt,it,ot=et,at=ot.options.parent;for(var st in Ne){var ct=-1!==st.indexOf("&"),pt="@"===st[0];if(ct||pt){if(nt=getOptions(ot,at,nt),ct){var dt=replaceParentRefs(st,ot.selector);it||(it=getReplaceRef(at,tt)),dt=dt.replace(Fs,it),at.addRule(dt,Ne[st],Object(rt.a)({},nt,{selector:dt}))}else pt&&at.addRule(st,{},nt).addRule(ot.key,Ne[st],{selector:ot.selector});delete Ne[st]}}return Ne}}},js=/[A-Z]/g,Ns=/^ms-/,Vs={};function toHyphenLower(Ne){return"-"+Ne.toLowerCase()}var Us=function hyphenateStyleName(Ne){if(Vs.hasOwnProperty(Ne))return Vs[Ne];var et=Ne.replace(js,toHyphenLower);return Vs[Ne]=Ns.test(et)?"-"+et:et};function convertCase(Ne){var et={};for(var tt in Ne){et[0===tt.indexOf("--")?tt:Us(tt)]=Ne[tt]}return Ne.fallbacks&&(Array.isArray(Ne.fallbacks)?et.fallbacks=Ne.fallbacks.map(convertCase):et.fallbacks=convertCase(Ne.fallbacks)),et}var Zs=function camelCase(){return{onProcessStyle:function onProcessStyle(Ne){if(Array.isArray(Ne)){for(var et=0;et<Ne.length;et++)Ne[et]=convertCase(Ne[et]);return Ne}return convertCase(Ne)},onChangeValue:function onChangeValue(Ne,et,tt){if(0===et.indexOf("--"))return Ne;var nt=Us(et);return et===nt?Ne:(tt.prop(nt,Ne),null)}}},Js=as&&CSS?CSS.px:"px",tl=as&&CSS?CSS.ms:"ms",ol=as&&CSS?CSS.percent:"%";function addCamelCasedVersion(Ne){var et=/(-[a-z])/g,tt=function replace(Ne){return Ne[1].toUpperCase()},nt={};for(var rt in Ne)nt[rt]=Ne[rt],nt[rt.replace(et,tt)]=Ne[rt];return nt}var sl=addCamelCasedVersion({"animation-delay":tl,"animation-duration":tl,"background-position":Js,"background-position-x":Js,"background-position-y":Js,"background-size":Js,border:Js,"border-bottom":Js,"border-bottom-left-radius":Js,"border-bottom-right-radius":Js,"border-bottom-width":Js,"border-left":Js,"border-left-width":Js,"border-radius":Js,"border-right":Js,"border-right-width":Js,"border-top":Js,"border-top-left-radius":Js,"border-top-right-radius":Js,"border-top-width":Js,"border-width":Js,margin:Js,"margin-bottom":Js,"margin-left":Js,"margin-right":Js,"margin-top":Js,padding:Js,"padding-bottom":Js,"padding-left":Js,"padding-right":Js,"padding-top":Js,"mask-position-x":Js,"mask-position-y":Js,"mask-size":Js,height:Js,width:Js,"min-height":Js,"max-height":Js,"min-width":Js,"max-width":Js,bottom:Js,left:Js,top:Js,right:Js,"box-shadow":Js,"text-shadow":Js,"column-gap":Js,"column-rule":Js,"column-rule-width":Js,"column-width":Js,"font-size":Js,"font-size-delta":Js,"letter-spacing":Js,"text-indent":Js,"text-stroke":Js,"text-stroke-width":Js,"word-spacing":Js,motion:Js,"motion-offset":Js,outline:Js,"outline-offset":Js,"outline-width":Js,perspective:Js,"perspective-origin-x":ol,"perspective-origin-y":ol,"transform-origin":ol,"transform-origin-x":ol,"transform-origin-y":ol,"transform-origin-z":ol,"transition-delay":tl,"transition-duration":tl,"vertical-align":Js,"flex-basis":Js,"shape-margin":Js,size:Js,grid:Js,"grid-gap":Js,"grid-row-gap":Js,"grid-column-gap":Js,"grid-template-rows":Js,"grid-template-columns":Js,"grid-auto-rows":Js,"grid-auto-columns":Js,"box-shadow-x":Js,"box-shadow-y":Js,"box-shadow-blur":Js,"box-shadow-spread":Js,"font-line-height":Js,"text-shadow-x":Js,"text-shadow-y":Js,"text-shadow-blur":Js});function iterate(Ne,et,tt){if(!et)return et;if(Array.isArray(et))for(var nt=0;nt<et.length;nt++)et[nt]=iterate(Ne,et[nt],tt);else if("object"==typeof et)if("fallbacks"===Ne)for(var rt in et)et[rt]=iterate(rt,et[rt],tt);else for(var it in et)et[it]=iterate(Ne+"-"+it,et[it],tt);else if("number"==typeof et){var ot=tt[Ne]||sl[Ne];return ot?"function"==typeof ot?ot(et).toString():""+et+ot:et.toString()}return et}var dl=function defaultUnit(Ne){void 0===Ne&&(Ne={});var et=addCamelCasedVersion(Ne);return{onProcessStyle:function onProcessStyle(Ne,tt){if("style"!==tt.type)return Ne;for(var nt in Ne)Ne[nt]=iterate(nt,Ne[nt],et);return Ne},onChangeValue:function onChangeValue(Ne,tt){return iterate(tt,Ne,et)}}},gl=tt(28),yl="",vl="",_l="",bl="",xl=st&&"ontouchstart"in document.documentElement;if(st){var wl={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Sl=document.createElement("p").style;for(var Cl in wl)if(Cl+"Transform"in Sl){yl=Cl,vl=wl[Cl];break}"Webkit"===yl&&"msHyphens"in Sl&&(yl="ms",vl=wl.ms,bl="edge"),"Webkit"===yl&&"-apple-trailing-word"in Sl&&(_l="apple")}var kl=yl,Il=vl,Al=_l,zl=bl,Fl=xl;var Hl={noPrefill:["appearance"],supportedProperty:function supportedProperty(Ne){return"appearance"===Ne&&("ms"===kl?"-webkit-"+Ne:Il+Ne)}},du={noPrefill:["color-adjust"],supportedProperty:function supportedProperty(Ne){return"color-adjust"===Ne&&("Webkit"===kl?Il+"print-"+Ne:Ne)}},vu=/[-\s]+(.)?/g;function toUpper(Ne,et){return et?et.toUpperCase():""}function camelize(Ne){return Ne.replace(vu,toUpper)}function pascalize(Ne){return camelize("-"+Ne)}var _u,wu={noPrefill:["mask"],supportedProperty:function supportedProperty(Ne,et){if(!/^mask/.test(Ne))return!1;if("Webkit"===kl){if(camelize("mask-image")in et)return Ne;if(kl+pascalize("mask-image")in et)return Il+Ne}return Ne}},Tu={noPrefill:["text-orientation"],supportedProperty:function supportedProperty(Ne){return"text-orientation"===Ne&&("apple"!==Al||Fl?Ne:Il+Ne)}},Fu={noPrefill:["transform"],supportedProperty:function supportedProperty(Ne,et,tt){return"transform"===Ne&&(tt.transform?Ne:Il+Ne)}},ac={noPrefill:["transition"],supportedProperty:function supportedProperty(Ne,et,tt){return"transition"===Ne&&(tt.transition?Ne:Il+Ne)}},pc={noPrefill:["writing-mode"],supportedProperty:function supportedProperty(Ne){return"writing-mode"===Ne&&("Webkit"===kl||"ms"===kl&&"edge"!==zl?Il+Ne:Ne)}},yc={noPrefill:["user-select"],supportedProperty:function supportedProperty(Ne){return"user-select"===Ne&&("Moz"===kl||"ms"===kl||"apple"===Al?Il+Ne:Ne)}},_c={supportedProperty:function supportedProperty(Ne,et){return!!/^break-/.test(Ne)&&("Webkit"===kl?"WebkitColumn"+pascalize(Ne)in et&&Il+"column-"+Ne:"Moz"===kl&&("page"+pascalize(Ne)in et&&"page-"+Ne))}},bc={supportedProperty:function supportedProperty(Ne,et){if(!/^(border|margin|padding)-inline/.test(Ne))return!1;if("Moz"===kl)return Ne;var tt=Ne.replace("-inline","");return kl+pascalize(tt)in et&&Il+tt}},xc={supportedProperty:function supportedProperty(Ne,et){return camelize(Ne)in et&&Ne}},wc={supportedProperty:function supportedProperty(Ne,et){var tt=pascalize(Ne);return"-"===Ne[0]||"-"===Ne[0]&&"-"===Ne[1]?Ne:kl+tt in et?Il+Ne:"Webkit"!==kl&&"Webkit"+tt in et&&"-webkit-"+Ne}},Ec={supportedProperty:function supportedProperty(Ne){return"scroll-snap"===Ne.substring(0,11)&&("ms"===kl?""+Il+Ne:Ne)}},Cc={supportedProperty:function supportedProperty(Ne){return"overscroll-behavior"===Ne&&("ms"===kl?Il+"scroll-chaining":Ne)}},kc={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ic={supportedProperty:function supportedProperty(Ne,et){var tt=kc[Ne];return!!tt&&(kl+pascalize(tt)in et&&Il+tt)}},Ac={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},zc=Object.keys(Ac),Dc=function prefixCss(Ne){return Il+Ne},Fc=[Hl,du,wu,Tu,Fu,ac,pc,yc,_c,bc,xc,wc,Ec,Cc,Ic,{supportedProperty:function supportedProperty(Ne,et,tt){var nt=tt.multiple;if(zc.indexOf(Ne)>-1){var rt=Ac[Ne];if(!Array.isArray(rt))return kl+pascalize(rt)in et&&Il+rt;if(!nt)return!1;for(var it=0;it<rt.length;it++)if(!(kl+pascalize(rt[0])in et))return!1;return rt.map(Dc)}return!1}}],Bc=Fc.filter((function(Ne){return Ne.supportedProperty})).map((function(Ne){return Ne.supportedProperty})),Zc=Fc.filter((function(Ne){return Ne.noPrefill})).reduce((function(Ne,et){return Ne.push.apply(Ne,Object(gl.a)(et.noPrefill)),Ne}),[]),Wc={};if(st){_u=document.createElement("p");var Hc=window.getComputedStyle(document.documentElement,"");for(var Gc in Hc)isNaN(Gc)||(Wc[Hc[Gc]]=Hc[Gc]);Zc.forEach((function(Ne){return delete Wc[Ne]}))}function supportedProperty(Ne,et){if(void 0===et&&(et={}),!_u)return Ne;if(null!=Wc[Ne])return Wc[Ne];"transition"!==Ne&&"transform"!==Ne||(et[Ne]=Ne in _u.style);for(var tt=0;tt<Bc.length&&(Wc[Ne]=Bc[tt](Ne,_u.style,et),!Wc[Ne]);tt++);try{_u.style[Ne]=""}catch(Ne){return!1}return Wc[Ne]}var Xc,$c={},Yc={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},rp=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function prefixTransitionCallback(Ne,et,tt){if("var"===et)return"var";if("all"===et)return"all";if("all"===tt)return", all";var nt=et?supportedProperty(et):", "+supportedProperty(tt);return nt||(et||tt)}function supportedValue(Ne,et){var tt=et;if(!Xc||"content"===Ne)return et;if("string"!=typeof tt||!isNaN(parseInt(tt,10)))return tt;var nt=Ne+tt;if(null!=$c[nt])return $c[nt];try{Xc.style[Ne]=tt}catch(Ne){return $c[nt]=!1,!1}if(Yc[Ne])tt=tt.replace(rp,prefixTransitionCallback);else if(""===Xc.style[Ne]&&("-ms-flex"===(tt=Il+tt)&&(Xc.style[Ne]="-ms-flexbox"),Xc.style[Ne]=tt,""===Xc.style[Ne]))return $c[nt]=!1,!1;return Xc.style[Ne]="",$c[nt]=tt,$c[nt]}st&&(Xc=document.createElement("p"));var ip=function jssVendorPrefixer(){function prefixStyle(Ne){for(var et in Ne){var tt=Ne[et];if("fallbacks"===et&&Array.isArray(tt))Ne[et]=tt.map(prefixStyle);else{var nt=!1,rt=supportedProperty(et);rt&&rt!==et&&(nt=!0);var it=!1,ot=supportedValue(rt,toCssValue(tt));ot&&ot!==tt&&(it=!0),(nt||it)&&(nt&&delete Ne[et],Ne[rt||et]=ot||tt)}}return Ne}return{onProcessRule:function onProcessRule(Ne){if("keyframes"===Ne.type){var et=Ne;et.at=function supportedKeyframes(Ne){return"-"===Ne[1]||"ms"===kl?Ne:"@"+Il+"keyframes"+Ne.substr(10)}(et.at)}},onProcessStyle:function onProcessStyle(Ne,et){return"style"!==et.type?Ne:prefixStyle(Ne)},onChangeValue:function onChangeValue(Ne,et){return supportedValue(et,toCssValue(Ne))||Ne}}};var op=function jssPropsSort(){var Ne=function sort(Ne,et){return Ne.length===et.length?Ne>et?1:-1:Ne.length-et.length};return{onProcessStyle:function onProcessStyle(et,tt){if("style"!==tt.type)return et;for(var nt={},rt=Object.keys(et).sort(Ne),it=0;it<rt.length;it++)nt[rt[it]]=et[rt[it]];return nt}}};function jssPreset(){return{plugins:[Cs(),Os(),Bs(),Zs(),dl(),"undefined"==typeof window?null:ip(),op()]}}var ap=ss(jssPreset()),sp={disableGeneration:!1,generateClassName:function createGenerateClassName(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=Ne.disableGlobal,tt=void 0!==et&&et,nt=Ne.productionPrefix,rt=void 0===nt?"jss":nt,it=Ne.seed,ot=void 0===it?"":it,at=""===ot?"":"".concat(ot,"-"),st=0,ct=function getNextCounterId(){return st+=1};return function(Ne,et){var nt=et.options.name;if(nt&&0===nt.indexOf("Mui")&&!et.options.link&&!tt){if(-1!==vs.indexOf(Ne.key))return"Mui-".concat(Ne.key);var it="".concat(at).concat(nt,"-").concat(Ne.key);return et.options.theme[gs]&&""===ot?"".concat(it,"-").concat(ct()):it}return"".concat(at).concat(rt).concat(ct())}}(),jss:ap,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},lp=ot.a.createContext(sp);var cp=-1e9;function increment(){return cp+=1}tt(33);var pp=tt(227);function getStylesCreator(Ne){var et="function"==typeof Ne;return{create:function create(tt,nt){var it;try{it=et?Ne(tt):Ne}catch(Ne){throw Ne}if(!nt||!tt.overrides||!tt.overrides[nt])return it;var ot=tt.overrides[nt],at=Object(rt.a)({},it);return Object.keys(ot).forEach((function(Ne){at[Ne]=Object(pp.a)(at[Ne],ot[Ne])})),at},options:{}}}var hp={};function getClasses(Ne,et,tt){var nt=Ne.state;if(Ne.stylesOptions.disableGeneration)return et||{};nt.cacheClasses||(nt.cacheClasses={value:null,lastProp:null,lastJSS:{}});var rt=!1;return nt.classes!==nt.cacheClasses.lastJSS&&(nt.cacheClasses.lastJSS=nt.classes,rt=!0),et!==nt.cacheClasses.lastProp&&(nt.cacheClasses.lastProp=et,rt=!0),rt&&(nt.cacheClasses.value=Object(ls.a)({baseClasses:nt.cacheClasses.lastJSS,newClasses:et,Component:tt})),nt.cacheClasses.value}function attach(Ne,et){var tt=Ne.state,nt=Ne.theme,it=Ne.stylesOptions,ot=Ne.stylesCreator,at=Ne.name;if(!it.disableGeneration){var st=us.get(it.sheetsManager,ot,nt);st||(st={refs:0,staticSheet:null,dynamicStyles:null},us.set(it.sheetsManager,ot,nt,st));var ct=Object(rt.a)(Object(rt.a)(Object(rt.a)({},ot.options),it),{},{theme:nt,flip:"boolean"==typeof it.flip?it.flip:"rtl"===nt.direction});ct.generateId=ct.serverGenerateClassName||ct.generateClassName;var pt=it.sheetsRegistry;if(0===st.refs){var dt;it.sheetsCache&&(dt=us.get(it.sheetsCache,ot,nt));var ft=ot.create(nt,at);dt||((dt=it.jss.createStyleSheet(ft,Object(rt.a)({link:!1},ct))).attach(),it.sheetsCache&&us.set(it.sheetsCache,ot,nt,dt)),pt&&pt.add(dt),st.staticSheet=dt,st.dynamicStyles=function getDynamicStyles(Ne){var et=null;for(var tt in Ne){var nt=Ne[tt],rt=typeof nt;if("function"===rt)et||(et={}),et[tt]=nt;else if("object"===rt&&null!==nt&&!Array.isArray(nt)){var it=getDynamicStyles(nt);it&&(et||(et={}),et[tt]=it)}}return et}(ft)}if(st.dynamicStyles){var mt=it.jss.createStyleSheet(st.dynamicStyles,Object(rt.a)({link:!0},ct));mt.update(et),mt.attach(),tt.dynamicSheet=mt,tt.classes=Object(ls.a)({baseClasses:st.staticSheet.classes,newClasses:mt.classes}),pt&&pt.add(mt)}else tt.classes=st.staticSheet.classes;st.refs+=1}}function update(Ne,et){var tt=Ne.state;tt.dynamicSheet&&tt.dynamicSheet.update(et)}function detach(Ne){var et=Ne.state,tt=Ne.theme,nt=Ne.stylesOptions,rt=Ne.stylesCreator;if(!nt.disableGeneration){var it=us.get(nt.sheetsManager,rt,tt);it.refs-=1;var ot=nt.sheetsRegistry;0===it.refs&&(us.delete(nt.sheetsManager,rt,tt),nt.jss.removeStyleSheet(it.staticSheet),ot&&ot.remove(it.staticSheet)),et.dynamicSheet&&(nt.jss.removeStyleSheet(et.dynamicSheet),ot&&ot.remove(et.dynamicSheet))}}function useSynchronousEffect(Ne,et){var tt,nt=ot.a.useRef([]),rt=ot.a.useMemo((function(){return{}}),et);nt.current!==rt&&(nt.current=rt,tt=Ne()),ot.a.useEffect((function(){return function(){tt&&tt()}}),[rt])}function makeStyles(Ne){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tt=et.name,it=et.classNamePrefix,at=et.Component,st=et.defaultTheme,ct=void 0===st?hp:st,pt=Object(nt.a)(et,["name","classNamePrefix","Component","defaultTheme"]),dt=getStylesCreator(Ne),ft=tt||it||"makeStyles";dt.options={index:increment(),name:tt,meta:ft,classNamePrefix:ft};var mt=function useStyles(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=Object(fs.a)()||ct,nt=Object(rt.a)(Object(rt.a)({},ot.a.useContext(lp)),pt),it=ot.a.useRef(),st=ot.a.useRef();useSynchronousEffect((function(){var rt={name:tt,state:{},stylesCreator:dt,stylesOptions:nt,theme:et};return attach(rt,Ne),st.current=!1,it.current=rt,function(){detach(rt)}}),[et,dt]),ot.a.useEffect((function(){st.current&&update(it.current,Ne),st.current=!0}));var ft=getClasses(it.current,Ne.classes,at);return ft};return mt}},function(Ne,et,tt){"use strict";tt.d(et,"a",(function(){return useTheme}));var nt=tt(0),rt=tt.n(nt);var it=rt.a.createContext(null);function useTheme(){return rt.a.useContext(it)}}]);