!function(w){var Ne={};function __webpack_require__(et){if(Ne[et])return Ne[et].exports;var tt=Ne[et]={i:et,l:!1,exports:{}};return w[et].call(tt.exports,tt,tt.exports,__webpack_require__),tt.l=!0,tt.exports}__webpack_require__.m=w,__webpack_require__.c=Ne,__webpack_require__.d=function(w,Ne,et){__webpack_require__.o(w,Ne)||Object.defineProperty(w,Ne,{enumerable:!0,get:et})},__webpack_require__.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},__webpack_require__.t=function(w,Ne){if(1&Ne&&(w=__webpack_require__(w)),8&Ne)return w;if(4&Ne&&"object"==typeof w&&w&&w.__esModule)return w;var et=Object.create(null);if(__webpack_require__.r(et),Object.defineProperty(et,"default",{enumerable:!0,value:w}),2&Ne&&"string"!=typeof w)for(var tt in w)__webpack_require__.d(et,tt,function(Ne){return w[Ne]}.bind(null,tt));return et},__webpack_require__.n=function(w){var Ne=w&&w.__esModule?function getDefault(){return w.default}:function getModuleExports(){return w};return __webpack_require__.d(Ne,"a",Ne),Ne},__webpack_require__.o=function(w,Ne){return Object.prototype.hasOwnProperty.call(w,Ne)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=253)}([function(w,Ne,et){"use strict";w.exports=et(178)},function(w,Ne,et){"use strict";function _extends(){return(_extends=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}et.d(Ne,"a",(function(){return _extends}))},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _objectWithoutProperties}));var tt=et(20);function _objectWithoutProperties(w,Ne){if(null==w)return{};var et,rt,nt=Object(tt.a)(w,Ne);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(w);for(rt=0;rt<it.length;rt++)et=it[rt],Ne.indexOf(et)>=0||Object.prototype.propertyIsEnumerable.call(w,et)&&(nt[et]=w[et])}return nt}},function(w,Ne,et){"use strict";function toVal(w){var Ne,et,tt="";if("string"==typeof w||"number"==typeof w)tt+=w;else if("object"==typeof w)if(Array.isArray(w))for(Ne=0;Ne<w.length;Ne++)w[Ne]&&(et=toVal(w[Ne]))&&(tt&&(tt+=" "),tt+=et);else for(Ne in w)w[Ne]&&(tt&&(tt+=" "),tt+=Ne);return tt}Ne.a=function(){for(var w,Ne,et=0,tt="";et<arguments.length;)(w=arguments[et++])&&(Ne=toVal(w))&&(tt&&(tt+=" "),tt+=Ne);return tt}},function(w,Ne,et){"use strict";var tt=et(1),rt=et(2),nt=et(0),it=et.n(nt),ot=(et(5),et(78)),at=et.n(ot),st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},ct="object"===("undefined"==typeof window?"undefined":st(window))&&"object"===("undefined"==typeof document?"undefined":st(document))&&9===document.nodeType;et(33);function _defineProperties(w,Ne){for(var et=0;et<Ne.length;et++){var tt=Ne[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(w,tt.key,tt)}}function _createClass(w,Ne,et){return Ne&&_defineProperties(w.prototype,Ne),et&&_defineProperties(w,et),w}var pt=et(15),ft=et(69),dt=et(20),mt={}.constructor;function cloneStyle(w){if(null==w||"object"!=typeof w)return w;if(Array.isArray(w))return w.map(cloneStyle);if(w.constructor!==mt)return w;var Ne={};for(var et in w)Ne[et]=cloneStyle(w[et]);return Ne}function createRule(w,Ne,et){void 0===w&&(w="unnamed");var tt=et.jss,rt=cloneStyle(Ne),nt=tt.plugins.onCreateRule(w,rt,et);return nt||(w[0],null)}var yt=function join(w,Ne){for(var et="",tt=0;tt<w.length&&"!important"!==w[tt];tt++)et&&(et+=Ne),et+=w[tt];return et};function toCssValue(w,Ne){if(void 0===Ne&&(Ne=!1),!Array.isArray(w))return w;var et="";if(Array.isArray(w[0]))for(var tt=0;tt<w.length&&"!important"!==w[tt];tt++)et&&(et+=", "),et+=yt(w[tt]," ");else et=yt(w,", ");return Ne||"!important"!==w[w.length-1]||(et+=" !important"),et}function indentStr(w,Ne){for(var et="",tt=0;tt<Ne;tt++)et+="  ";return et+w}function toCss(w,Ne,et){void 0===et&&(et={});var tt="";if(!Ne)return tt;var rt=et.indent,nt=void 0===rt?0:rt,it=Ne.fallbacks;if(w&&nt++,it)if(Array.isArray(it))for(var ot=0;ot<it.length;ot++){var at=it[ot];for(var st in at){var ct=at[st];null!=ct&&(tt&&(tt+="\n"),tt+=""+indentStr(st+": "+toCssValue(ct)+";",nt))}}else for(var pt in it){var ft=it[pt];null!=ft&&(tt&&(tt+="\n"),tt+=""+indentStr(pt+": "+toCssValue(ft)+";",nt))}for(var dt in Ne){var mt=Ne[dt];null!=mt&&"fallbacks"!==dt&&(tt&&(tt+="\n"),tt+=""+indentStr(dt+": "+toCssValue(mt)+";",nt))}return(tt||et.allowEmpty)&&w?(tt&&(tt="\n"+tt+"\n"),indentStr(w+" {"+tt,--nt)+indentStr("}",nt)):tt}var vt=/([[\].#*$><+~=|^:(),"'`\s])/g,Rt="undefined"!=typeof CSS&&CSS.escape,jss_esm_escape=function(w){return Rt?Rt(w):w.replace(vt,"\\$1")},Ot=function(){function BaseStyleRule(w,Ne,et){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var tt=et.sheet,rt=et.Renderer;this.key=w,this.options=et,this.style=Ne,tt?this.renderer=tt.renderer:rt&&(this.renderer=new rt)}return BaseStyleRule.prototype.prop=function prop(w,Ne,et){if(void 0===Ne)return this.style[w];var tt=!!et&&et.force;if(!tt&&this.style[w]===Ne)return this;var rt=Ne;et&&!1===et.process||(rt=this.options.jss.plugins.onChangeValue(Ne,w,this));var nt=null==rt||!1===rt,it=w in this.style;if(nt&&!it&&!tt)return this;var ot=nt&&it;if(ot?delete this.style[w]:this.style[w]=rt,this.renderable&&this.renderer)return ot?this.renderer.removeProperty(this.renderable,w):this.renderer.setProperty(this.renderable,w,rt),this;var at=this.options.sheet;return at&&at.attached,this},BaseStyleRule}(),Dt=function(w){function StyleRule(Ne,et,tt){var rt;(rt=w.call(this,Ne,et,tt)||this).selectorText=void 0,rt.id=void 0,rt.renderable=void 0;var nt=tt.selector,it=tt.scoped,ot=tt.sheet,at=tt.generateId;return nt?rt.selectorText=nt:!1!==it&&(rt.id=at(Object(ft.a)(Object(ft.a)(rt)),ot),rt.selectorText="."+jss_esm_escape(rt.id)),rt}Object(pt.a)(StyleRule,w);var Ne=StyleRule.prototype;return Ne.applyTo=function applyTo(w){var Ne=this.renderer;if(Ne){var et=this.toJSON();for(var tt in et)Ne.setProperty(w,tt,et[tt])}return this},Ne.toJSON=function toJSON(){var w={};for(var Ne in this.style){var et=this.style[Ne];"object"!=typeof et?w[Ne]=et:Array.isArray(et)&&(w[Ne]=toCssValue(et))}return w},Ne.toString=function toString(w){var Ne=this.options.sheet,et=!!Ne&&Ne.options.link?Object(tt.a)({},w,{allowEmpty:!0}):w;return toCss(this.selectorText,this.style,et)},_createClass(StyleRule,[{key:"selector",set:function set(w){if(w!==this.selectorText){this.selectorText=w;var Ne=this.renderer,et=this.renderable;if(et&&Ne)Ne.setSelector(et,w)||Ne.replaceRule(et,this)}},get:function get(){return this.selectorText}}]),StyleRule}(Ot),Bt={onCreateRule:function onCreateRule(w,Ne,et){return"@"===w[0]||et.parent&&"keyframes"===et.parent.type?null:new Dt(w,Ne,et)}},er={indent:1,children:!0},rr=/@([\w-]+)/,vr=function(){function ConditionalRule(w,Ne,et){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.query=et.name;var rt=w.match(rr);for(var nt in this.at=rt?rt[1]:"unknown",this.options=et,this.rules=new vo(Object(tt.a)({},et,{parent:this})),Ne)this.rules.add(nt,Ne[nt]);this.rules.process()}var w=ConditionalRule.prototype;return w.getRule=function getRule(w){return this.rules.get(w)},w.indexOf=function indexOf(w){return this.rules.indexOf(w)},w.addRule=function addRule(w,Ne,et){var tt=this.rules.add(w,Ne,et);return tt?(this.options.jss.plugins.onProcessRule(tt),tt):null},w.toString=function toString(w){if(void 0===w&&(w=er),null==w.indent&&(w.indent=er.indent),null==w.children&&(w.children=er.children),!1===w.children)return this.query+" {}";var Ne=this.rules.toString(w);return Ne?this.query+" {\n"+Ne+"\n}":""},ConditionalRule}(),wr=/@media|@supports\s+/,Sr={onCreateRule:function onCreateRule(w,Ne,et){return wr.test(w)?new vr(w,Ne,et):null}},rn={indent:1,children:!0},vn=/@keyframes\s+([\w-]+)/,bn=function(){function KeyframesRule(w,Ne,et){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var rt=w.match(vn);rt&&rt[1]?this.name=rt[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=et;var nt=et.scoped,it=et.sheet,ot=et.generateId;for(var at in this.id=!1===nt?this.name:jss_esm_escape(ot(this,it)),this.rules=new vo(Object(tt.a)({},et,{parent:this})),Ne)this.rules.add(at,Ne[at],Object(tt.a)({},et,{parent:this}));this.rules.process()}return KeyframesRule.prototype.toString=function toString(w){if(void 0===w&&(w=rn),null==w.indent&&(w.indent=rn.indent),null==w.children&&(w.children=rn.children),!1===w.children)return this.at+" "+this.id+" {}";var Ne=this.rules.toString(w);return Ne&&(Ne="\n"+Ne+"\n"),this.at+" "+this.id+" {"+Ne+"}"},KeyframesRule}(),Tn=/@keyframes\s+/,Cn=/\$([\w-]+)/g,In=function findReferencedKeyframe(w,Ne){return"string"==typeof w?w.replace(Cn,(function(w,et){return et in Ne?Ne[et]:w})):w},zn=function replaceRef(w,Ne,et){var tt=w[Ne],rt=In(tt,et);rt!==tt&&(w[Ne]=rt)},Mn={onCreateRule:function onCreateRule(w,Ne,et){return"string"==typeof w&&Tn.test(w)?new bn(w,Ne,et):null},onProcessStyle:function onProcessStyle(w,Ne,et){return"style"===Ne.type&&et?("animation-name"in w&&zn(w,"animation-name",et.keyframes),"animation"in w&&zn(w,"animation",et.keyframes),w):w},onChangeValue:function onChangeValue(w,Ne,et){var tt=et.options.sheet;if(!tt)return w;switch(Ne){case"animation":case"animation-name":return In(w,tt.keyframes);default:return w}}},Ln=function(w){function KeyframeRule(){for(var Ne,et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return(Ne=w.call.apply(w,[this].concat(tt))||this).renderable=void 0,Ne}return Object(pt.a)(KeyframeRule,w),KeyframeRule.prototype.toString=function toString(w){var Ne=this.options.sheet,et=!!Ne&&Ne.options.link?Object(tt.a)({},w,{allowEmpty:!0}):w;return toCss(this.key,this.style,et)},KeyframeRule}(Ot),Fn={onCreateRule:function onCreateRule(w,Ne,et){return et.parent&&"keyframes"===et.parent.type?new Ln(w,Ne,et):null}},Bn=function(){function FontFaceRule(w,Ne,et){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.style=Ne,this.options=et}return FontFaceRule.prototype.toString=function toString(w){if(Array.isArray(this.style)){for(var Ne="",et=0;et<this.style.length;et++)Ne+=toCss(this.at,this.style[et]),this.style[et+1]&&(Ne+="\n");return Ne}return toCss(this.at,this.style,w)},FontFaceRule}(),Nn=/@font-face/,Vn={onCreateRule:function onCreateRule(w,Ne,et){return Nn.test(w)?new Bn(w,Ne,et):null}},Wn=function(){function ViewportRule(w,Ne,et){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.style=Ne,this.options=et}return ViewportRule.prototype.toString=function toString(w){return toCss(this.key,this.style,w)},ViewportRule}(),$n={onCreateRule:function onCreateRule(w,Ne,et){return"@viewport"===w||"@-ms-viewport"===w?new Wn(w,Ne,et):null}},Yn=function(){function SimpleRule(w,Ne,et){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.value=Ne,this.options=et}return SimpleRule.prototype.toString=function toString(w){if(Array.isArray(this.value)){for(var Ne="",et=0;et<this.value.length;et++)Ne+=this.key+" "+this.value[et]+";",this.value[et+1]&&(Ne+="\n");return Ne}return this.key+" "+this.value+";"},SimpleRule}(),ii={"@charset":!0,"@import":!0,"@namespace":!0},qi=[Bt,Sr,Mn,Fn,Vn,$n,{onCreateRule:function onCreateRule(w,Ne,et){return w in ii?new Yn(w,Ne,et):null}}],uo={process:!0},po={force:!0,process:!0},vo=function(){function RuleList(w){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=w,this.classes=w.classes,this.keyframes=w.keyframes}var w=RuleList.prototype;return w.add=function add(w,Ne,et){var rt=this.options,nt=rt.parent,it=rt.sheet,ot=rt.jss,at=rt.Renderer,st=rt.generateId,ct=rt.scoped,pt=Object(tt.a)({classes:this.classes,parent:nt,sheet:it,jss:ot,Renderer:at,generateId:st,scoped:ct,name:w},et),ft=w;w in this.raw&&(ft=w+"-d"+this.counter++),this.raw[ft]=Ne,ft in this.classes&&(pt.selector="."+jss_esm_escape(this.classes[ft]));var dt=createRule(ft,Ne,pt);if(!dt)return null;this.register(dt);var mt=void 0===pt.index?this.index.length:pt.index;return this.index.splice(mt,0,dt),dt},w.get=function get(w){return this.map[w]},w.remove=function remove(w){this.unregister(w),delete this.raw[w.key],this.index.splice(this.index.indexOf(w),1)},w.indexOf=function indexOf(w){return this.index.indexOf(w)},w.process=function process(){var w=this.options.jss.plugins;this.index.slice(0).forEach(w.onProcessRule,w)},w.register=function register(w){this.map[w.key]=w,w instanceof Dt?(this.map[w.selector]=w,w.id&&(this.classes[w.key]=w.id)):w instanceof bn&&this.keyframes&&(this.keyframes[w.name]=w.id)},w.unregister=function unregister(w){delete this.map[w.key],w instanceof Dt?(delete this.map[w.selector],delete this.classes[w.key]):w instanceof bn&&delete this.keyframes[w.name]},w.update=function update(){var w,Ne,et;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(w=arguments.length<=0?void 0:arguments[0],Ne=arguments.length<=1?void 0:arguments[1],et=arguments.length<=2?void 0:arguments[2]):(Ne=arguments.length<=0?void 0:arguments[0],et=arguments.length<=1?void 0:arguments[1],w=null),w)this.updateOne(this.map[w],Ne,et);else for(var tt=0;tt<this.index.length;tt++)this.updateOne(this.index[tt],Ne,et)},w.updateOne=function updateOne(w,Ne,et){void 0===et&&(et=uo);var tt=this.options,rt=tt.jss.plugins,nt=tt.sheet;if(w.rules instanceof RuleList)w.rules.update(Ne,et);else{var it=w,ot=it.style;if(rt.onUpdate(Ne,w,nt,et),et.process&&ot&&ot!==it.style){for(var at in rt.onProcessStyle(it.style,it,nt),it.style){var st=it.style[at];st!==ot[at]&&it.prop(at,st,po)}for(var ct in ot){var pt=it.style[ct],ft=ot[ct];null==pt&&pt!==ft&&it.prop(ct,null,po)}}}},w.toString=function toString(w){for(var Ne="",et=this.options.sheet,tt=!!et&&et.options.link,rt=0;rt<this.index.length;rt++){var nt=this.index[rt].toString(w);(nt||tt)&&(Ne&&(Ne+="\n"),Ne+=nt)}return Ne},RuleList}(),So=function(){function StyleSheet(w,Ne){for(var et in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(tt.a)({},Ne,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),Ne.Renderer&&(this.renderer=new Ne.Renderer(this)),this.rules=new vo(this.options),w)this.rules.add(et,w[et]);this.rules.process()}var w=StyleSheet.prototype;return w.attach=function attach(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},w.detach=function detach(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},w.addRule=function addRule(w,Ne,et){var tt=this.queue;this.attached&&!tt&&(this.queue=[]);var rt=this.rules.add(w,Ne,et);return rt?(this.options.jss.plugins.onProcessRule(rt),this.attached?this.deployed?(tt?tt.push(rt):(this.insertRule(rt),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),rt):rt:(this.deployed=!1,rt)):null},w.insertRule=function insertRule(w){this.renderer&&this.renderer.insertRule(w)},w.addRules=function addRules(w,Ne){var et=[];for(var tt in w){var rt=this.addRule(tt,w[tt],Ne);rt&&et.push(rt)}return et},w.getRule=function getRule(w){return this.rules.get(w)},w.deleteRule=function deleteRule(w){var Ne="object"==typeof w?w:this.rules.get(w);return!!Ne&&(this.rules.remove(Ne),!(this.attached&&Ne.renderable&&this.renderer)||this.renderer.deleteRule(Ne.renderable))},w.indexOf=function indexOf(w){return this.rules.indexOf(w)},w.deploy=function deploy(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},w.update=function update(){var w;return(w=this.rules).update.apply(w,arguments),this},w.updateOne=function updateOne(w,Ne,et){return this.rules.updateOne(w,Ne,et),this},w.toString=function toString(w){return this.rules.toString(w)},StyleSheet}(),ea=function(){function PluginsRegistry(){this.plugins={internal:[],external:[]},this.registry=void 0}var w=PluginsRegistry.prototype;return w.onCreateRule=function onCreateRule(w,Ne,et){for(var tt=0;tt<this.registry.onCreateRule.length;tt++){var rt=this.registry.onCreateRule[tt](w,Ne,et);if(rt)return rt}return null},w.onProcessRule=function onProcessRule(w){if(!w.isProcessed){for(var Ne=w.options.sheet,et=0;et<this.registry.onProcessRule.length;et++)this.registry.onProcessRule[et](w,Ne);w.style&&this.onProcessStyle(w.style,w,Ne),w.isProcessed=!0}},w.onProcessStyle=function onProcessStyle(w,Ne,et){for(var tt=0;tt<this.registry.onProcessStyle.length;tt++)Ne.style=this.registry.onProcessStyle[tt](Ne.style,Ne,et)},w.onProcessSheet=function onProcessSheet(w){for(var Ne=0;Ne<this.registry.onProcessSheet.length;Ne++)this.registry.onProcessSheet[Ne](w)},w.onUpdate=function onUpdate(w,Ne,et,tt){for(var rt=0;rt<this.registry.onUpdate.length;rt++)this.registry.onUpdate[rt](w,Ne,et,tt)},w.onChangeValue=function onChangeValue(w,Ne,et){for(var tt=w,rt=0;rt<this.registry.onChangeValue.length;rt++)tt=this.registry.onChangeValue[rt](tt,Ne,et);return tt},w.use=function use(w,Ne){void 0===Ne&&(Ne={queue:"external"});var et=this.plugins[Ne.queue];-1===et.indexOf(w)&&(et.push(w),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(w,Ne){for(var et in Ne)et in w&&w[et].push(Ne[et]);return w}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},PluginsRegistry}(),ta=new(function(){function SheetsRegistry(){this.registry=[]}var w=SheetsRegistry.prototype;return w.add=function add(w){var Ne=this.registry,et=w.options.index;if(-1===Ne.indexOf(w))if(0===Ne.length||et>=this.index)Ne.push(w);else for(var tt=0;tt<Ne.length;tt++)if(Ne[tt].options.index>et)return void Ne.splice(tt,0,w)},w.reset=function reset(){this.registry=[]},w.remove=function remove(w){var Ne=this.registry.indexOf(w);this.registry.splice(Ne,1)},w.toString=function toString(w){for(var Ne=void 0===w?{}:w,et=Ne.attached,tt=Object(dt.a)(Ne,["attached"]),rt="",nt=0;nt<this.registry.length;nt++){var it=this.registry[nt];null!=et&&it.attached!==et||(rt&&(rt+="\n"),rt+=it.toString(tt))}return rt},_createClass(SheetsRegistry,[{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}()),ia="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),sa="2f1acc6c3a606b082e5eef5e54414ffb";null==ia[sa]&&(ia[sa]=0);var la=ia[sa]++,fa=function createGenerateId(w){void 0===w&&(w={});var Ne=0;return function(et,tt){Ne+=1;var rt="",nt="";return tt&&(tt.options.classNamePrefix&&(nt=tt.options.classNamePrefix),null!=tt.options.jss.id&&(rt=String(tt.options.jss.id))),w.minify?""+(nt||"c")+la+rt+Ne:nt+et.key+"-"+la+(rt?"-"+rt:"")+"-"+Ne}},ga=function memoize(w){var Ne;return function(){return Ne||(Ne=w()),Ne}};function getPropertyValue(w,Ne){try{return w.attributeStyleMap?w.attributeStyleMap.get(Ne):w.style.getPropertyValue(Ne)}catch(w){return""}}function setProperty(w,Ne,et){try{var tt=et;if(Array.isArray(et)&&(tt=toCssValue(et,!0),"!important"===et[et.length-1]))return w.style.setProperty(Ne,tt,"important"),!0;w.attributeStyleMap?w.attributeStyleMap.set(Ne,tt):w.style.setProperty(Ne,tt)}catch(w){return!1}return!0}function removeProperty(w,Ne){try{w.attributeStyleMap?w.attributeStyleMap.delete(Ne):w.style.removeProperty(Ne)}catch(w){}}function setSelector(w,Ne){return w.selectorText=Ne,w.selectorText===Ne}var _a=ga((function(){return document.querySelector("head")}));function findPrevNode(w){var Ne=ta.registry;if(Ne.length>0){var et=function findHigherSheet(w,Ne){for(var et=0;et<w.length;et++){var tt=w[et];if(tt.attached&&tt.options.index>Ne.index&&tt.options.insertionPoint===Ne.insertionPoint)return tt}return null}(Ne,w);if(et&&et.renderer)return{parent:et.renderer.element.parentNode,node:et.renderer.element};if((et=function findHighestSheet(w,Ne){for(var et=w.length-1;et>=0;et--){var tt=w[et];if(tt.attached&&tt.options.insertionPoint===Ne.insertionPoint)return tt}return null}(Ne,w))&&et.renderer)return{parent:et.renderer.element.parentNode,node:et.renderer.element.nextSibling}}var tt=w.insertionPoint;if(tt&&"string"==typeof tt){var rt=function findCommentNode(w){for(var Ne=_a(),et=0;et<Ne.childNodes.length;et++){var tt=Ne.childNodes[et];if(8===tt.nodeType&&tt.nodeValue.trim()===w)return tt}return null}(tt);if(rt)return{parent:rt.parentNode,node:rt.nextSibling}}return!1}var Aa=ga((function(){var w=document.querySelector('meta[property="csp-nonce"]');return w?w.getAttribute("content"):null})),os=function insertRule(w,Ne,et){var tt=w.cssRules.length;(void 0===et||et>tt)&&(et=tt);try{if("insertRule"in w)w.insertRule(Ne,et);else if("appendRule"in w){w.appendRule(Ne)}}catch(w){return!1}return w.cssRules[et]},as=function(){function DomRenderer(w){this.getPropertyValue=getPropertyValue,this.setProperty=setProperty,this.removeProperty=removeProperty,this.setSelector=setSelector,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,w&&ta.add(w),this.sheet=w;var Ne=this.sheet?this.sheet.options:{},et=Ne.media,tt=Ne.meta,rt=Ne.element;this.element=rt||function createStyle(){var w=document.createElement("style");return w.textContent="\n",w}(),this.element.setAttribute("data-jss",""),et&&this.element.setAttribute("media",et),tt&&this.element.setAttribute("data-meta",tt);var nt=Aa();nt&&this.element.setAttribute("nonce",nt)}var w=DomRenderer.prototype;return w.attach=function attach(){if(!this.element.parentNode&&this.sheet){!function insertStyle(w,Ne){var et=Ne.insertionPoint,tt=findPrevNode(Ne);if(!1!==tt&&tt.parent)tt.parent.insertBefore(w,tt.node);else if(et&&"number"==typeof et.nodeType){var rt=et,nt=rt.parentNode;nt&&nt.insertBefore(w,rt.nextSibling)}else _a().appendChild(w)}(this.element,this.sheet.options);var w=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&w&&(this.hasInsertedRules=!1,this.deploy())}},w.detach=function detach(){var w=this.element.parentNode;w&&w.removeChild(this.element)},w.deploy=function deploy(){var w=this.sheet;w&&(w.options.link?this.insertRules(w.rules):this.element.textContent="\n"+w.toString()+"\n")},w.insertRules=function insertRules(w,Ne){for(var et=0;et<w.index.length;et++)this.insertRule(w.index[et],et,Ne)},w.insertRule=function insertRule(w,Ne,et){if(void 0===et&&(et=this.element.sheet),w.rules){var tt=w,rt=et;return("conditional"!==w.type&&"keyframes"!==w.type||!1!==(rt=os(et,tt.toString({children:!1}),Ne)))&&(this.insertRules(tt.rules,rt),rt)}if(w.renderable&&w.renderable.parentStyleSheet===this.element.sheet)return w.renderable;var nt=w.toString();if(!nt)return!1;var it=os(et,nt,Ne);return!1!==it&&(this.hasInsertedRules=!0,w.renderable=it,it)},w.deleteRule=function deleteRule(w){var Ne=this.element.sheet,et=this.indexOf(w);return-1!==et&&(Ne.deleteRule(et),!0)},w.indexOf=function indexOf(w){for(var Ne=this.element.sheet.cssRules,et=0;et<Ne.length;et++)if(w===Ne[et])return et;return-1},w.replaceRule=function replaceRule(w,Ne){var et=this.indexOf(w);return-1!==et&&(this.element.sheet.deleteRule(et),this.insertRule(Ne,et))},w.getRules=function getRules(){return this.element.sheet.cssRules},DomRenderer}(),ss=0,ls=function(){function Jss(w){this.id=ss++,this.version="10.3.0",this.plugins=new ea,this.options={id:{minify:!1},createGenerateId:fa,Renderer:ct?as:null,plugins:[]},this.generateId=fa({minify:!1});for(var Ne=0;Ne<qi.length;Ne++)this.plugins.use(qi[Ne],{queue:"internal"});this.setup(w)}var w=Jss.prototype;return w.setup=function setup(w){return void 0===w&&(w={}),w.createGenerateId&&(this.options.createGenerateId=w.createGenerateId),w.id&&(this.options.id=Object(tt.a)({},this.options.id,w.id)),(w.createGenerateId||w.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=w.insertionPoint&&(this.options.insertionPoint=w.insertionPoint),"Renderer"in w&&(this.options.Renderer=w.Renderer),w.plugins&&this.use.apply(this,w.plugins),this},w.createStyleSheet=function createStyleSheet(w,Ne){void 0===Ne&&(Ne={});var et=Ne.index;"number"!=typeof et&&(et=0===ta.index?0:ta.index+1);var rt=new So(w,Object(tt.a)({},Ne,{jss:this,generateId:Ne.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:et}));return this.plugins.onProcessSheet(rt),rt},w.removeStyleSheet=function removeStyleSheet(w){return w.detach(),ta.remove(w),this},w.createRule=function createRule$1(w,Ne,et){if(void 0===Ne&&(Ne={}),void 0===et&&(et={}),"object"==typeof w)return this.createRule(void 0,w,Ne);var rt=Object(tt.a)({},et,{name:w,jss:this,Renderer:this.options.Renderer});rt.generateId||(rt.generateId=this.generateId),rt.classes||(rt.classes={}),rt.keyframes||(rt.keyframes={});var nt=createRule(w,Ne,rt);return nt&&this.plugins.onProcessRule(nt),nt},w.use=function use(){for(var w=this,Ne=arguments.length,et=new Array(Ne),tt=0;tt<Ne;tt++)et[tt]=arguments[tt];return et.forEach((function(Ne){w.plugins.use(Ne)})),this},Jss}();var us="undefined"!=typeof CSS&&CSS&&"number"in CSS,fs=function create(w){return new ls(w)};
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */fs();function mergeClasses(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=w.baseClasses,et=w.newClasses;w.Component;if(!et)return Ne;var rt=Object(tt.a)({},Ne);return Object.keys(et).forEach((function(w){et[w]&&(rt[w]="".concat(Ne[w]," ").concat(et[w]))})),rt}var gs={set:function set(w,Ne,et,tt){var rt=w.get(Ne);rt||(rt=new Map,w.set(Ne,rt)),rt.set(et,tt)},get:function get(w,Ne,et){var tt=w.get(Ne);return tt?tt.get(et):void 0},delete:function _delete(w,Ne,et){w.get(Ne).delete(et)}},vs=et(281),xs="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ss=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Es=Date.now(),Cs="fnValues"+Es,Ps="fnStyle"+ ++Es;var As=function functionPlugin(){return{onCreateRule:function onCreateRule(w,Ne,et){if("function"!=typeof Ne)return null;var tt=createRule(w,{},et);return tt[Ps]=Ne,tt},onProcessStyle:function onProcessStyle(w,Ne){if(Cs in Ne||Ps in Ne)return w;var et={};for(var tt in w){var rt=w[tt];"function"==typeof rt&&(delete w[tt],et[tt]=rt)}return Ne[Cs]=et,w},onUpdate:function onUpdate(w,Ne,et,tt){var rt=Ne,nt=rt[Ps];nt&&(rt.style=nt(w)||{});var it=rt[Cs];if(it)for(var ot in it)rt.prop(ot,it[ot](w),tt)}}},zs="@global",Ms=function(){function GlobalContainerRule(w,Ne,et){for(var rt in this.type="global",this.at=zs,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=w,this.options=et,this.rules=new vo(Object(tt.a)({},et,{parent:this})),Ne)this.rules.add(rt,Ne[rt]);this.rules.process()}var w=GlobalContainerRule.prototype;return w.getRule=function getRule(w){return this.rules.get(w)},w.addRule=function addRule(w,Ne,et){var tt=this.rules.add(w,Ne,et);return this.options.jss.plugins.onProcessRule(tt),tt},w.indexOf=function indexOf(w){return this.rules.indexOf(w)},w.toString=function toString(){return this.rules.toString()},GlobalContainerRule}(),Ls=function(){function GlobalPrefixedRule(w,Ne,et){this.type="global",this.at=zs,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=w,this.options=et;var rt=w.substr("@global ".length);this.rule=et.jss.createRule(rt,Ne,Object(tt.a)({},et,{parent:this}))}return GlobalPrefixedRule.prototype.toString=function toString(w){return this.rule?this.rule.toString(w):""},GlobalPrefixedRule}(),Rs=/\s*,\s*/g;function addScope(w,Ne){for(var et=w.split(Rs),tt="",rt=0;rt<et.length;rt++)tt+=Ne+" "+et[rt].trim(),et[rt+1]&&(tt+=", ");return tt}var Os=function jssGlobal(){return{onCreateRule:function onCreateRule(w,Ne,et){if(!w)return null;if(w===zs)return new Ms(w,Ne,et);if("@"===w[0]&&"@global "===w.substr(0,"@global ".length))return new Ls(w,Ne,et);var tt=et.parent;return tt&&("global"===tt.type||tt.options.parent&&"global"===tt.options.parent.type)&&(et.scoped=!1),!1===et.scoped&&(et.selector=w),null},onProcessRule:function onProcessRule(w){"style"===w.type&&(!function handleNestedGlobalContainerRule(w){var Ne=w.options,et=w.style,rt=et?et[zs]:null;if(rt){for(var nt in rt)Ne.sheet.addRule(nt,rt[nt],Object(tt.a)({},Ne,{selector:addScope(nt,w.selector)}));delete et[zs]}}(w),function handlePrefixedGlobalRule(w){var Ne=w.options,et=w.style;for(var rt in et)if("@"===rt[0]&&rt.substr(0,zs.length)===zs){var nt=addScope(rt.substr(zs.length),w.selector);Ne.sheet.addRule(nt,et[rt],Object(tt.a)({},Ne,{selector:nt})),delete et[rt]}}(w))}}},Fs=/\s*,\s*/g,Bs=/&/g,Ns=/\$([\w-]+)/g;var js=function jssNested(){function getReplaceRef(w,Ne){return function(et,tt){var rt=w.getRule(tt)||Ne&&Ne.getRule(tt);return rt?(rt=rt).selector:tt}}function replaceParentRefs(w,Ne){for(var et=Ne.split(Fs),tt=w.split(Fs),rt="",nt=0;nt<et.length;nt++)for(var it=et[nt],ot=0;ot<tt.length;ot++){var at=tt[ot];rt&&(rt+=", "),rt+=-1!==at.indexOf("&")?at.replace(Bs,it):it+" "+at}return rt}function getOptions(w,Ne,et){if(et)return Object(tt.a)({},et,{index:et.index+1});var rt=w.options.nestingLevel;rt=void 0===rt?1:rt+1;var nt=Object(tt.a)({},w.options,{nestingLevel:rt,index:Ne.indexOf(w)+1});return delete nt.name,nt}return{onProcessStyle:function onProcessStyle(w,Ne,et){if("style"!==Ne.type)return w;var rt,nt,it=Ne,ot=it.options.parent;for(var at in w){var st=-1!==at.indexOf("&"),ct="@"===at[0];if(st||ct){if(rt=getOptions(it,ot,rt),st){var pt=replaceParentRefs(at,it.selector);nt||(nt=getReplaceRef(ot,et)),pt=pt.replace(Ns,nt),ot.addRule(pt,w[at],Object(tt.a)({},rt,{selector:pt}))}else ct&&ot.addRule(at,{},rt).addRule(it.key,w[at],{selector:it.selector});delete w[at]}}return w}}},Vs=/[A-Z]/g,Us=/^ms-/,Zs={};function toHyphenLower(w){return"-"+w.toLowerCase()}var Js=function hyphenateStyleName(w){if(Zs.hasOwnProperty(w))return Zs[w];var Ne=w.replace(Vs,toHyphenLower);return Zs[w]=Us.test(Ne)?"-"+Ne:Ne};function convertCase(w){var Ne={};for(var et in w){Ne[0===et.indexOf("--")?et:Js(et)]=w[et]}return w.fallbacks&&(Array.isArray(w.fallbacks)?Ne.fallbacks=w.fallbacks.map(convertCase):Ne.fallbacks=convertCase(w.fallbacks)),Ne}var tl=function camelCase(){return{onProcessStyle:function onProcessStyle(w){if(Array.isArray(w)){for(var Ne=0;Ne<w.length;Ne++)w[Ne]=convertCase(w[Ne]);return w}return convertCase(w)},onChangeValue:function onChangeValue(w,Ne,et){if(0===Ne.indexOf("--"))return w;var tt=Js(Ne);return Ne===tt?w:(et.prop(tt,w),null)}}},ol=us&&CSS?CSS.px:"px",sl=us&&CSS?CSS.ms:"ms",dl=us&&CSS?CSS.percent:"%";function addCamelCasedVersion(w){var Ne=/(-[a-z])/g,et=function replace(w){return w[1].toUpperCase()},tt={};for(var rt in w)tt[rt]=w[rt],tt[rt.replace(Ne,et)]=w[rt];return tt}var gl=addCamelCasedVersion({"animation-delay":sl,"animation-duration":sl,"background-position":ol,"background-position-x":ol,"background-position-y":ol,"background-size":ol,border:ol,"border-bottom":ol,"border-bottom-left-radius":ol,"border-bottom-right-radius":ol,"border-bottom-width":ol,"border-left":ol,"border-left-width":ol,"border-radius":ol,"border-right":ol,"border-right-width":ol,"border-top":ol,"border-top-left-radius":ol,"border-top-right-radius":ol,"border-top-width":ol,"border-width":ol,margin:ol,"margin-bottom":ol,"margin-left":ol,"margin-right":ol,"margin-top":ol,padding:ol,"padding-bottom":ol,"padding-left":ol,"padding-right":ol,"padding-top":ol,"mask-position-x":ol,"mask-position-y":ol,"mask-size":ol,height:ol,width:ol,"min-height":ol,"max-height":ol,"min-width":ol,"max-width":ol,bottom:ol,left:ol,top:ol,right:ol,"box-shadow":ol,"text-shadow":ol,"column-gap":ol,"column-rule":ol,"column-rule-width":ol,"column-width":ol,"font-size":ol,"font-size-delta":ol,"letter-spacing":ol,"text-indent":ol,"text-stroke":ol,"text-stroke-width":ol,"word-spacing":ol,motion:ol,"motion-offset":ol,outline:ol,"outline-offset":ol,"outline-width":ol,perspective:ol,"perspective-origin-x":dl,"perspective-origin-y":dl,"transform-origin":dl,"transform-origin-x":dl,"transform-origin-y":dl,"transform-origin-z":dl,"transition-delay":sl,"transition-duration":sl,"vertical-align":ol,"flex-basis":ol,"shape-margin":ol,size:ol,grid:ol,"grid-gap":ol,"grid-row-gap":ol,"grid-column-gap":ol,"grid-template-rows":ol,"grid-template-columns":ol,"grid-auto-rows":ol,"grid-auto-columns":ol,"box-shadow-x":ol,"box-shadow-y":ol,"box-shadow-blur":ol,"box-shadow-spread":ol,"font-line-height":ol,"text-shadow-x":ol,"text-shadow-y":ol,"text-shadow-blur":ol});function iterate(w,Ne,et){if(!Ne)return Ne;if(Array.isArray(Ne))for(var tt=0;tt<Ne.length;tt++)Ne[tt]=iterate(w,Ne[tt],et);else if("object"==typeof Ne)if("fallbacks"===w)for(var rt in Ne)Ne[rt]=iterate(rt,Ne[rt],et);else for(var nt in Ne)Ne[nt]=iterate(w+"-"+nt,Ne[nt],et);else if("number"==typeof Ne){var it=et[w]||gl[w];return it?"function"==typeof it?it(Ne).toString():""+Ne+it:Ne.toString()}return Ne}var yl=function defaultUnit(w){void 0===w&&(w={});var Ne=addCamelCasedVersion(w);return{onProcessStyle:function onProcessStyle(w,et){if("style"!==et.type)return w;for(var tt in w)w[tt]=iterate(tt,w[tt],Ne);return w},onChangeValue:function onChangeValue(w,et){return iterate(et,w,Ne)}}},vl=et(38),_l="",bl="",xl="",wl="",kl=ct&&"ontouchstart"in document.documentElement;if(ct){var Sl={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Cl=document.createElement("p").style;for(var Il in Sl)if(Il+"Transform"in Cl){_l=Il,bl=Sl[Il];break}"Webkit"===_l&&"msHyphens"in Cl&&(_l="ms",bl=Sl.ms,wl="edge"),"Webkit"===_l&&"-apple-trailing-word"in Cl&&(xl="apple")}var Al=_l,zl=bl,Fl=xl,Hl=wl,du=kl;var vu={noPrefill:["appearance"],supportedProperty:function supportedProperty(w){return"appearance"===w&&("ms"===Al?"-webkit-"+w:zl+w)}},_u={noPrefill:["color-adjust"],supportedProperty:function supportedProperty(w){return"color-adjust"===w&&("Webkit"===Al?zl+"print-"+w:w)}},wu=/[-\s]+(.)?/g;function toUpper(w,Ne){return Ne?Ne.toUpperCase():""}function camelize(w){return w.replace(wu,toUpper)}function pascalize(w){return camelize("-"+w)}var Tu,Fu={noPrefill:["mask"],supportedProperty:function supportedProperty(w,Ne){if(!/^mask/.test(w))return!1;if("Webkit"===Al){if(camelize("mask-image")in Ne)return w;if(Al+pascalize("mask-image")in Ne)return zl+w}return w}},ac={noPrefill:["text-orientation"],supportedProperty:function supportedProperty(w){return"text-orientation"===w&&("apple"!==Fl||du?w:zl+w)}},pc={noPrefill:["transform"],supportedProperty:function supportedProperty(w,Ne,et){return"transform"===w&&(et.transform?w:zl+w)}},yc={noPrefill:["transition"],supportedProperty:function supportedProperty(w,Ne,et){return"transition"===w&&(et.transition?w:zl+w)}},_c={noPrefill:["writing-mode"],supportedProperty:function supportedProperty(w){return"writing-mode"===w&&("Webkit"===Al||"ms"===Al&&"edge"!==Hl?zl+w:w)}},bc={noPrefill:["user-select"],supportedProperty:function supportedProperty(w){return"user-select"===w&&("Moz"===Al||"ms"===Al||"apple"===Fl?zl+w:w)}},xc={supportedProperty:function supportedProperty(w,Ne){return!!/^break-/.test(w)&&("Webkit"===Al?"WebkitColumn"+pascalize(w)in Ne&&zl+"column-"+w:"Moz"===Al&&("page"+pascalize(w)in Ne&&"page-"+w))}},wc={supportedProperty:function supportedProperty(w,Ne){if(!/^(border|margin|padding)-inline/.test(w))return!1;if("Moz"===Al)return w;var et=w.replace("-inline","");return Al+pascalize(et)in Ne&&zl+et}},kc={supportedProperty:function supportedProperty(w,Ne){return camelize(w)in Ne&&w}},Ec={supportedProperty:function supportedProperty(w,Ne){var et=pascalize(w);return"-"===w[0]||"-"===w[0]&&"-"===w[1]?w:Al+et in Ne?zl+w:"Webkit"!==Al&&"Webkit"+et in Ne&&"-webkit-"+w}},Cc={supportedProperty:function supportedProperty(w){return"scroll-snap"===w.substring(0,11)&&("ms"===Al?""+zl+w:w)}},Ic={supportedProperty:function supportedProperty(w){return"overscroll-behavior"===w&&("ms"===Al?zl+"scroll-chaining":w)}},Ac={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},zc={supportedProperty:function supportedProperty(w,Ne){var et=Ac[w];return!!et&&(Al+pascalize(et)in Ne&&zl+et)}},Dc={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Fc=Object.keys(Dc),Bc=function prefixCss(w){return zl+w},Wc=[vu,_u,Fu,ac,pc,yc,_c,bc,xc,wc,kc,Ec,Cc,Ic,zc,{supportedProperty:function supportedProperty(w,Ne,et){var tt=et.multiple;if(Fc.indexOf(w)>-1){var rt=Dc[w];if(!Array.isArray(rt))return Al+pascalize(rt)in Ne&&zl+rt;if(!tt)return!1;for(var nt=0;nt<rt.length;nt++)if(!(Al+pascalize(rt[0])in Ne))return!1;return rt.map(Bc)}return!1}}],Gc=Wc.filter((function(w){return w.supportedProperty})).map((function(w){return w.supportedProperty})),Zc=Wc.filter((function(w){return w.noPrefill})).reduce((function(w,Ne){return w.push.apply(w,Object(vl.a)(Ne.noPrefill)),w}),[]),Hc={};if(ct){Tu=document.createElement("p");var $c=window.getComputedStyle(document.documentElement,"");for(var Xc in $c)isNaN(Xc)||(Hc[$c[Xc]]=$c[Xc]);Zc.forEach((function(w){return delete Hc[w]}))}function supportedProperty(w,Ne){if(void 0===Ne&&(Ne={}),!Tu)return w;if(null!=Hc[w])return Hc[w];"transition"!==w&&"transform"!==w||(Ne[w]=w in Tu.style);for(var et=0;et<Gc.length&&(Hc[w]=Gc[et](w,Tu.style,Ne),!Hc[w]);et++);try{Tu.style[w]=""}catch(w){return!1}return Hc[w]}var Yc,rp={},ip={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},op=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function prefixTransitionCallback(w,Ne,et){if("var"===Ne)return"var";if("all"===Ne)return"all";if("all"===et)return", all";var tt=Ne?supportedProperty(Ne):", "+supportedProperty(et);return tt||(Ne||et)}function supportedValue(w,Ne){var et=Ne;if(!Yc||"content"===w)return Ne;if("string"!=typeof et||!isNaN(parseInt(et,10)))return et;var tt=w+et;if(null!=rp[tt])return rp[tt];try{Yc.style[w]=et}catch(w){return rp[tt]=!1,!1}if(ip[w])et=et.replace(op,prefixTransitionCallback);else if(""===Yc.style[w]&&("-ms-flex"===(et=zl+et)&&(Yc.style[w]="-ms-flexbox"),Yc.style[w]=et,""===Yc.style[w]))return rp[tt]=!1,!1;return Yc.style[w]="",rp[tt]=et,rp[tt]}ct&&(Yc=document.createElement("p"));var ap=function jssVendorPrefixer(){function prefixStyle(w){for(var Ne in w){var et=w[Ne];if("fallbacks"===Ne&&Array.isArray(et))w[Ne]=et.map(prefixStyle);else{var tt=!1,rt=supportedProperty(Ne);rt&&rt!==Ne&&(tt=!0);var nt=!1,it=supportedValue(rt,toCssValue(et));it&&it!==et&&(nt=!0),(tt||nt)&&(tt&&delete w[Ne],w[rt||Ne]=it||et)}}return w}return{onProcessRule:function onProcessRule(w){if("keyframes"===w.type){var Ne=w;Ne.at=function supportedKeyframes(w){return"-"===w[1]||"ms"===Al?w:"@"+zl+"keyframes"+w.substr(10)}(Ne.at)}},onProcessStyle:function onProcessStyle(w,Ne){return"style"!==Ne.type?w:prefixStyle(w)},onChangeValue:function onChangeValue(w,Ne){return supportedValue(Ne,toCssValue(w))||w}}};var sp=function jssPropsSort(){var w=function sort(w,Ne){return w.length===Ne.length?w>Ne?1:-1:w.length-Ne.length};return{onProcessStyle:function onProcessStyle(Ne,et){if("style"!==et.type)return Ne;for(var tt={},rt=Object.keys(Ne).sort(w),nt=0;nt<rt.length;nt++)tt[rt[nt]]=Ne[rt[nt]];return tt}}};function jssPreset(){return{plugins:[As(),Os(),js(),tl(),yl(),"undefined"==typeof window?null:ap(),sp()]}}var lp=fs(jssPreset()),cp={disableGeneration:!1,generateClassName:function createGenerateClassName(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=w.disableGlobal,et=void 0!==Ne&&Ne,tt=w.productionPrefix,rt=void 0===tt?"jss":tt,nt=w.seed,it=void 0===nt?"":nt,ot=""===it?"":"".concat(it,"-"),at=0,st=function getNextCounterId(){return at+=1};return function(w,Ne){var tt=Ne.options.name;if(tt&&0===tt.indexOf("Mui")&&!Ne.options.link&&!et){if(-1!==Ss.indexOf(w.key))return"Mui-".concat(w.key);var nt="".concat(ot).concat(tt,"-").concat(w.key);return Ne.options.theme[xs]&&""===it?"".concat(nt,"-").concat(st()):nt}return"".concat(ot).concat(rt).concat(st())}}(),jss:lp,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},pp=it.a.createContext(cp);var hp=-1e9;function increment(){return hp+=1}et(68);var fp=et(280);function getStylesCreator(w){var Ne="function"==typeof w;return{create:function create(et,rt){var nt;try{nt=Ne?w(et):w}catch(w){throw w}if(!rt||!et.overrides||!et.overrides[rt])return nt;var it=et.overrides[rt],ot=Object(tt.a)({},nt);return Object.keys(it).forEach((function(w){ot[w]=Object(fp.a)(ot[w],it[w])})),ot},options:{}}}var dp={};function getClasses(w,Ne,et){var tt=w.state;if(w.stylesOptions.disableGeneration)return Ne||{};tt.cacheClasses||(tt.cacheClasses={value:null,lastProp:null,lastJSS:{}});var rt=!1;return tt.classes!==tt.cacheClasses.lastJSS&&(tt.cacheClasses.lastJSS=tt.classes,rt=!0),Ne!==tt.cacheClasses.lastProp&&(tt.cacheClasses.lastProp=Ne,rt=!0),rt&&(tt.cacheClasses.value=mergeClasses({baseClasses:tt.cacheClasses.lastJSS,newClasses:Ne,Component:et})),tt.cacheClasses.value}function attach(w,Ne){var et=w.state,rt=w.theme,nt=w.stylesOptions,it=w.stylesCreator,ot=w.name;if(!nt.disableGeneration){var at=gs.get(nt.sheetsManager,it,rt);at||(at={refs:0,staticSheet:null,dynamicStyles:null},gs.set(nt.sheetsManager,it,rt,at));var st=Object(tt.a)(Object(tt.a)(Object(tt.a)({},it.options),nt),{},{theme:rt,flip:"boolean"==typeof nt.flip?nt.flip:"rtl"===rt.direction});st.generateId=st.serverGenerateClassName||st.generateClassName;var ct=nt.sheetsRegistry;if(0===at.refs){var pt;nt.sheetsCache&&(pt=gs.get(nt.sheetsCache,it,rt));var ft=it.create(rt,ot);pt||((pt=nt.jss.createStyleSheet(ft,Object(tt.a)({link:!1},st))).attach(),nt.sheetsCache&&gs.set(nt.sheetsCache,it,rt,pt)),ct&&ct.add(pt),at.staticSheet=pt,at.dynamicStyles=function getDynamicStyles(w){var Ne=null;for(var et in w){var tt=w[et],rt=typeof tt;if("function"===rt)Ne||(Ne={}),Ne[et]=tt;else if("object"===rt&&null!==tt&&!Array.isArray(tt)){var nt=getDynamicStyles(tt);nt&&(Ne||(Ne={}),Ne[et]=nt)}}return Ne}(ft)}if(at.dynamicStyles){var dt=nt.jss.createStyleSheet(at.dynamicStyles,Object(tt.a)({link:!0},st));dt.update(Ne),dt.attach(),et.dynamicSheet=dt,et.classes=mergeClasses({baseClasses:at.staticSheet.classes,newClasses:dt.classes}),ct&&ct.add(dt)}else et.classes=at.staticSheet.classes;at.refs+=1}}function update(w,Ne){var et=w.state;et.dynamicSheet&&et.dynamicSheet.update(Ne)}function detach(w){var Ne=w.state,et=w.theme,tt=w.stylesOptions,rt=w.stylesCreator;if(!tt.disableGeneration){var nt=gs.get(tt.sheetsManager,rt,et);nt.refs-=1;var it=tt.sheetsRegistry;0===nt.refs&&(gs.delete(tt.sheetsManager,rt,et),tt.jss.removeStyleSheet(nt.staticSheet),it&&it.remove(nt.staticSheet)),Ne.dynamicSheet&&(tt.jss.removeStyleSheet(Ne.dynamicSheet),it&&it.remove(Ne.dynamicSheet))}}function useSynchronousEffect(w,Ne){var et,tt=it.a.useRef([]),rt=it.a.useMemo((function(){return{}}),Ne);tt.current!==rt&&(tt.current=rt,et=w()),it.a.useEffect((function(){return function(){et&&et()}}),[rt])}function makeStyles(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=Ne.name,nt=Ne.classNamePrefix,ot=Ne.Component,at=Ne.defaultTheme,st=void 0===at?dp:at,ct=Object(rt.a)(Ne,["name","classNamePrefix","Component","defaultTheme"]),pt=getStylesCreator(w),ft=et||nt||"makeStyles";pt.options={index:increment(),name:et,meta:ft,classNamePrefix:ft};var dt=function useStyles(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=Object(vs.a)()||st,rt=Object(tt.a)(Object(tt.a)({},it.a.useContext(pp)),ct),nt=it.a.useRef(),at=it.a.useRef();useSynchronousEffect((function(){var tt={name:et,state:{},stylesCreator:pt,stylesOptions:rt,theme:Ne};return attach(tt,w),at.current=!1,nt.current=tt,function(){detach(tt)}}),[Ne,pt]),it.a.useEffect((function(){at.current&&update(nt.current,w),at.current=!0}));var ft=getClasses(nt.current,w.classes,ot);return ft};return dt}function getThemeProps(w){var Ne=w.theme,et=w.name,tt=w.props;if(!Ne||!Ne.props||!Ne.props[et])return tt;var rt,nt=Ne.props[et];for(rt in nt)void 0===tt[rt]&&(tt[rt]=nt[rt]);return tt}var mp=function withStyles(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(et){var nt=Ne.defaultTheme,ot=Ne.withTheme,st=void 0!==ot&&ot,ct=Ne.name,pt=Object(rt.a)(Ne,["defaultTheme","withTheme","name"]);var ft=ct,dt=makeStyles(w,Object(tt.a)({defaultTheme:nt,Component:et,name:ct||et.displayName,classNamePrefix:ft},pt)),mt=it.a.forwardRef((function WithStyles(w,Ne){w.classes;var ot,at=w.innerRef,pt=Object(rt.a)(w,["classes","innerRef"]),ft=dt(Object(tt.a)(Object(tt.a)({},et.defaultProps),w)),mt=pt;return("string"==typeof ct||st)&&(ot=Object(vs.a)()||nt,ct&&(mt=getThemeProps({theme:ot,name:ct,props:pt})),st&&!mt.theme&&(mt.theme=ot)),it.a.createElement(et,Object(tt.a)({ref:at||Ne,classes:ft},mt))}));return at()(mt,et),mt}},gp=et(81);Ne.a=function styles_withStyles_withStyles(w,Ne){return mp(w,Object(tt.a)({defaultTheme:gp.a},Ne))}},function(w,Ne,et){w.exports=et(240)()},function(w,Ne,et){var tt=et(25);w.exports=function(w){if(!tt(w))throw TypeError(String(w)+" is not an object");return w}},function(w,Ne,et){"use strict";et.d(Ne,"d",(function(){return getContrastRatio})),et.d(Ne,"b",(function(){return emphasize})),et.d(Ne,"c",(function(){return fade})),et.d(Ne,"a",(function(){return darken})),et.d(Ne,"e",(function(){return lighten}));var tt=et(165);function clamp(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(Ne,w),et)}function decomposeColor(w){if(w.type)return w;if("#"===w.charAt(0))return decomposeColor(function hexToRgb(w){w=w.substr(1);var Ne=new RegExp(".{1,".concat(w.length>=6?2:1,"}"),"g"),et=w.match(Ne);return et&&1===et[0].length&&(et=et.map((function(w){return w+w}))),et?"rgb".concat(4===et.length?"a":"","(").concat(et.map((function(w,Ne){return Ne<3?parseInt(w,16):Math.round(parseInt(w,16)/255*1e3)/1e3})).join(", "),")"):""}(w));var Ne=w.indexOf("("),et=w.substring(0,Ne);if(-1===["rgb","rgba","hsl","hsla"].indexOf(et))throw new Error(Object(tt.a)(3,w));var rt=w.substring(Ne+1,w.length-1).split(",");return{type:et,values:rt=rt.map((function(w){return parseFloat(w)}))}}function recomposeColor(w){var Ne=w.type,et=w.values;return-1!==Ne.indexOf("rgb")?et=et.map((function(w,Ne){return Ne<3?parseInt(w,10):w})):-1!==Ne.indexOf("hsl")&&(et[1]="".concat(et[1],"%"),et[2]="".concat(et[2],"%")),"".concat(Ne,"(").concat(et.join(", "),")")}function getContrastRatio(w,Ne){var et=getLuminance(w),tt=getLuminance(Ne);return(Math.max(et,tt)+.05)/(Math.min(et,tt)+.05)}function getLuminance(w){var Ne="hsl"===(w=decomposeColor(w)).type?decomposeColor(function hslToRgb(w){var Ne=(w=decomposeColor(w)).values,et=Ne[0],tt=Ne[1]/100,rt=Ne[2]/100,nt=tt*Math.min(rt,1-rt),it=function f(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(w+et/30)%12;return rt-nt*Math.max(Math.min(Ne-3,9-Ne,1),-1)},ot="rgb",at=[Math.round(255*it(0)),Math.round(255*it(8)),Math.round(255*it(4))];return"hsla"===w.type&&(ot+="a",at.push(Ne[3])),recomposeColor({type:ot,values:at})}(w)).values:w.values;return Ne=Ne.map((function(w){return(w/=255)<=.03928?w/12.92:Math.pow((w+.055)/1.055,2.4)})),Number((.2126*Ne[0]+.7152*Ne[1]+.0722*Ne[2]).toFixed(3))}function emphasize(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return getLuminance(w)>.5?darken(w,Ne):lighten(w,Ne)}function fade(w,Ne){return w=decomposeColor(w),Ne=clamp(Ne),"rgb"!==w.type&&"hsl"!==w.type||(w.type+="a"),w.values[3]=Ne,recomposeColor(w)}function darken(w,Ne){if(w=decomposeColor(w),Ne=clamp(Ne),-1!==w.type.indexOf("hsl"))w.values[2]*=1-Ne;else if(-1!==w.type.indexOf("rgb"))for(var et=0;et<3;et+=1)w.values[et]*=1-Ne;return recomposeColor(w)}function lighten(w,Ne){if(w=decomposeColor(w),Ne=clamp(Ne),-1!==w.type.indexOf("hsl"))w.values[2]+=(100-w.values[2])*Ne;else if(-1!==w.type.indexOf("rgb"))for(var et=0;et<3;et+=1)w.values[et]+=(255-w.values[et])*Ne;return recomposeColor(w)}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return capitalize}));var tt=et(165);function capitalize(w){if("string"!=typeof w)throw new Error(Object(tt.a)(7));return w.charAt(0).toUpperCase()+w.slice(1)}},function(w,Ne){w.exports=!1},function(w,Ne,et){var tt=et(14),rt=et(73).f,nt=et(36),it=et(67),ot=et(88),at=et(188),st=et(120);w.exports=function(w,Ne){var et,ct,pt,ft,dt,mt=w.target,yt=w.global,vt=w.stat;if(et=yt?tt:vt?tt[mt]||ot(mt,{}):(tt[mt]||{}).prototype)for(ct in Ne){if(ft=Ne[ct],pt=w.noTargetGet?(dt=rt(et,ct))&&dt.value:et[ct],!st(yt?ct:mt+(vt?".":"#")+ct,w.forced)&&void 0!==pt){if(typeof ft==typeof pt)continue;at(ft,pt)}(w.sham||pt&&pt.sham)&&nt(ft,"sham",!0),it(et,ct,ft,w)}}},function(w,Ne,et){var tt=et(6),rt=et(125),nt=et(29),it=et(17),ot=et(97),at=et(202),Result=function(w,Ne){this.stopped=w,this.result=Ne};(w.exports=function(w,Ne,et,st,ct){var pt,ft,dt,mt,yt,vt,Rt,Ot=it(Ne,et,st?2:1);if(ct)pt=w;else{if("function"!=typeof(ft=ot(w)))throw TypeError("Target is not iterable");if(rt(ft)){for(dt=0,mt=nt(w.length);mt>dt;dt++)if((yt=st?Ot(tt(Rt=w[dt])[0],Rt[1]):Ot(w[dt]))&&yt instanceof Result)return yt;return new Result(!1)}pt=ft.call(w)}for(vt=pt.next;!(Rt=vt.call(pt)).done;)if("object"==typeof(yt=at(pt,Ot,Rt.value,st))&&yt&&yt instanceof Result)return yt;return new Result(!1)}).stop=function(w){return new Result(!0,w)}},,function(w,Ne){w.exports=function(w){if("function"!=typeof w)throw TypeError(String(w)+" is not a function");return w}},function(w,Ne,et){(function(Ne){var check=function(w){return w&&w.Math==Math&&w};w.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof Ne&&Ne)||Function("return this")()}).call(this,et(72))},function(w,Ne,et){"use strict";function _inheritsLoose(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}et.d(Ne,"a",(function(){return _inheritsLoose}))},function(w,Ne,et){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(w){console.error(w)}}}(),w.exports=et(179)},function(w,Ne,et){var tt=et(13);w.exports=function(w,Ne,et){if(tt(w),void 0===Ne)return w;switch(et){case 0:return function(){return w.call(Ne)};case 1:return function(et){return w.call(Ne,et)};case 2:return function(et,tt){return w.call(Ne,et,tt)};case 3:return function(et,tt,rt){return w.call(Ne,et,tt,rt)}}return function(){return w.apply(Ne,arguments)}}},function(w,Ne,et){(function(Ne){w.exports=function e(w,Ne,et){function s(rt,nt){if(!Ne[rt]){if(!w[rt]){if(tt)return tt(rt,!0);var it=new Error("Cannot find module '"+rt+"'");throw it.code="MODULE_NOT_FOUND",it}var ot=Ne[rt]={exports:{}};w[rt][0].call(ot.exports,(function(Ne){var et=w[rt][1][Ne];return s(et||Ne)}),ot,ot.exports,e,w,Ne,et)}return Ne[rt].exports}for(var tt=!1,rt=0;rt<et.length;rt++)s(et[rt]);return s}({1:[function(w,et,tt){(function(w){"use strict";var Ne,tt,rt=w.MutationObserver||w.WebKitMutationObserver;if(rt){var nt=0,it=new rt(nextTick),ot=w.document.createTextNode("");it.observe(ot,{characterData:!0}),Ne=function(){ot.data=nt=++nt%2}}else if(w.setImmediate||void 0===w.MessageChannel)Ne="document"in w&&"onreadystatechange"in w.document.createElement("script")?function(){var Ne=w.document.createElement("script");Ne.onreadystatechange=function(){nextTick(),Ne.onreadystatechange=null,Ne.parentNode.removeChild(Ne),Ne=null},w.document.documentElement.appendChild(Ne)}:function(){setTimeout(nextTick,0)};else{var at=new w.MessageChannel;at.port1.onmessage=nextTick,Ne=function(){at.port2.postMessage(0)}}var st=[];function nextTick(){var w,Ne;tt=!0;for(var et=st.length;et;){for(Ne=st,st=[],w=-1;++w<et;)Ne[w]();et=st.length}tt=!1}et.exports=function immediate(w){1!==st.push(w)||tt||Ne()}}).call(this,void 0!==Ne?Ne:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(w,Ne,et){"use strict";var tt=w(1);function INTERNAL(){}var rt={},nt=["REJECTED"],it=["FULFILLED"],ot=["PENDING"];function Promise(w){if("function"!=typeof w)throw new TypeError("resolver must be a function");this.state=ot,this.queue=[],this.outcome=void 0,w!==INTERNAL&&safelyResolveThenable(this,w)}function QueueItem(w,Ne,et){this.promise=w,"function"==typeof Ne&&(this.onFulfilled=Ne,this.callFulfilled=this.otherCallFulfilled),"function"==typeof et&&(this.onRejected=et,this.callRejected=this.otherCallRejected)}function unwrap(w,Ne,et){tt((function(){var tt;try{tt=Ne(et)}catch(Ne){return rt.reject(w,Ne)}tt===w?rt.reject(w,new TypeError("Cannot resolve promise with itself")):rt.resolve(w,tt)}))}function getThen(w){var Ne=w&&w.then;if(w&&("object"==typeof w||"function"==typeof w)&&"function"==typeof Ne)return function appyThen(){Ne.apply(w,arguments)}}function safelyResolveThenable(w,Ne){var et=!1;function onError(Ne){et||(et=!0,rt.reject(w,Ne))}function onSuccess(Ne){et||(et=!0,rt.resolve(w,Ne))}var tt=tryCatch((function tryToUnwrap(){Ne(onSuccess,onError)}));"error"===tt.status&&onError(tt.value)}function tryCatch(w,Ne){var et={};try{et.value=w(Ne),et.status="success"}catch(w){et.status="error",et.value=w}return et}Ne.exports=Promise,Promise.prototype.catch=function(w){return this.then(null,w)},Promise.prototype.then=function(w,Ne){if("function"!=typeof w&&this.state===it||"function"!=typeof Ne&&this.state===nt)return this;var et=new this.constructor(INTERNAL);return this.state!==ot?unwrap(et,this.state===it?w:Ne,this.outcome):this.queue.push(new QueueItem(et,w,Ne)),et},QueueItem.prototype.callFulfilled=function(w){rt.resolve(this.promise,w)},QueueItem.prototype.otherCallFulfilled=function(w){unwrap(this.promise,this.onFulfilled,w)},QueueItem.prototype.callRejected=function(w){rt.reject(this.promise,w)},QueueItem.prototype.otherCallRejected=function(w){unwrap(this.promise,this.onRejected,w)},rt.resolve=function(w,Ne){var et=tryCatch(getThen,Ne);if("error"===et.status)return rt.reject(w,et.value);var tt=et.value;if(tt)safelyResolveThenable(w,tt);else{w.state=it,w.outcome=Ne;for(var nt=-1,ot=w.queue.length;++nt<ot;)w.queue[nt].callFulfilled(Ne)}return w},rt.reject=function(w,Ne){w.state=nt,w.outcome=Ne;for(var et=-1,tt=w.queue.length;++et<tt;)w.queue[et].callRejected(Ne);return w},Promise.resolve=function resolve(w){return w instanceof this?w:rt.resolve(new this(INTERNAL),w)},Promise.reject=function reject(w){var Ne=new this(INTERNAL);return rt.reject(Ne,w)},Promise.all=function all(w){var Ne=this;if("[object Array]"!==Object.prototype.toString.call(w))return this.reject(new TypeError("must be an array"));var et=w.length,tt=!1;if(!et)return this.resolve([]);for(var nt=new Array(et),it=0,ot=-1,at=new this(INTERNAL);++ot<et;)allResolver(w[ot],ot);return at;function allResolver(w,ot){Ne.resolve(w).then((function resolveFromAll(w){nt[ot]=w,++it!==et||tt||(tt=!0,rt.resolve(at,nt))}),(function(w){tt||(tt=!0,rt.reject(at,w))}))}},Promise.race=function race(w){var Ne=this;if("[object Array]"!==Object.prototype.toString.call(w))return this.reject(new TypeError("must be an array"));var et=w.length,tt=!1;if(!et)return this.resolve([]);for(var nt,it=-1,ot=new this(INTERNAL);++it<et;)nt=w[it],Ne.resolve(nt).then((function(w){tt||(tt=!0,rt.resolve(ot,w))}),(function(w){tt||(tt=!0,rt.reject(ot,w))}));return ot}},{1:1}],3:[function(w,et,tt){(function(Ne){"use strict";"function"!=typeof Ne.Promise&&(Ne.Promise=w(2))}).call(this,void 0!==Ne?Ne:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(w,Ne,et){"use strict";var tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},rt=function getIDB(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(w){return}}();function createBlob(w,Ne){w=w||[],Ne=Ne||{};try{return new Blob(w,Ne)}catch(rt){if("TypeError"!==rt.name)throw rt;for(var et=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),tt=0;tt<w.length;tt+=1)et.append(w[tt]);return et.getBlob(Ne.type)}}"undefined"==typeof Promise&&w(3);var nt=Promise;function executeCallback(w,Ne){Ne&&w.then((function(w){Ne(null,w)}),(function(w){Ne(w)}))}function executeTwoCallbacks(w,Ne,et){"function"==typeof Ne&&w.then(Ne),"function"==typeof et&&w.catch(et)}function normalizeKey(w){return"string"!=typeof w&&(console.warn(w+" used as a key, but it is not a string."),w=String(w)),w}function getCallback(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var it=void 0,ot={},at=Object.prototype.toString;function _checkBlobSupport(w){return"boolean"==typeof it?nt.resolve(it):function _checkBlobSupportWithoutCaching(w){return new nt((function(Ne){var et=w.transaction("local-forage-detect-blob-support","readwrite"),tt=createBlob([""]);et.objectStore("local-forage-detect-blob-support").put(tt,"key"),et.onabort=function(w){w.preventDefault(),w.stopPropagation(),Ne(!1)},et.oncomplete=function(){var w=navigator.userAgent.match(/Chrome\/(\d+)/),et=navigator.userAgent.match(/Edge\//);Ne(et||!w||parseInt(w[1],10)>=43)}})).catch((function(){return!1}))}(w).then((function(w){return it=w}))}function _deferReadiness(w){var Ne=ot[w.name],et={};et.promise=new nt((function(w,Ne){et.resolve=w,et.reject=Ne})),Ne.deferredOperations.push(et),Ne.dbReady?Ne.dbReady=Ne.dbReady.then((function(){return et.promise})):Ne.dbReady=et.promise}function _advanceReadiness(w){var Ne=ot[w.name].deferredOperations.pop();if(Ne)return Ne.resolve(),Ne.promise}function _rejectReadiness(w,Ne){var et=ot[w.name].deferredOperations.pop();if(et)return et.reject(Ne),et.promise}function _getConnection(w,Ne){return new nt((function(et,tt){if(ot[w.name]=ot[w.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},w.db){if(!Ne)return et(w.db);_deferReadiness(w),w.db.close()}var nt=[w.name];Ne&&nt.push(w.version);var it=rt.open.apply(rt,nt);Ne&&(it.onupgradeneeded=function(Ne){var et=it.result;try{et.createObjectStore(w.storeName),Ne.oldVersion<=1&&et.createObjectStore("local-forage-detect-blob-support")}catch(et){if("ConstraintError"!==et.name)throw et;console.warn('The database "'+w.name+'" has been upgraded from version '+Ne.oldVersion+" to version "+Ne.newVersion+', but the storage "'+w.storeName+'" already exists.')}}),it.onerror=function(w){w.preventDefault(),tt(it.error)},it.onsuccess=function(){et(it.result),_advanceReadiness(w)}}))}function _getOriginalConnection(w){return _getConnection(w,!1)}function _getUpgradedConnection(w){return _getConnection(w,!0)}function _isUpgradeNeeded(w,Ne){if(!w.db)return!0;var et=!w.db.objectStoreNames.contains(w.storeName),tt=w.version<w.db.version,rt=w.version>w.db.version;if(tt&&(w.version!==Ne&&console.warn('The database "'+w.name+"\" can't be downgraded from version "+w.db.version+" to version "+w.version+"."),w.version=w.db.version),rt||et){if(et){var nt=w.db.version+1;nt>w.version&&(w.version=nt)}return!0}return!1}function _decodeBlob(w){return createBlob([function _binStringToArrayBuffer(w){for(var Ne=w.length,et=new ArrayBuffer(Ne),tt=new Uint8Array(et),rt=0;rt<Ne;rt++)tt[rt]=w.charCodeAt(rt);return et}(atob(w.data))],{type:w.type})}function _isEncodedBlob(w){return w&&w.__local_forage_encoded_blob}function _fullyReady(w){var Ne=this,et=Ne._initReady().then((function(){var w=ot[Ne._dbInfo.name];if(w&&w.dbReady)return w.dbReady}));return executeTwoCallbacks(et,w,w),et}function createTransaction(w,Ne,et,tt){void 0===tt&&(tt=1);try{var rt=w.db.transaction(w.storeName,Ne);et(null,rt)}catch(rt){if(tt>0&&(!w.db||"InvalidStateError"===rt.name||"NotFoundError"===rt.name))return nt.resolve().then((function(){if(!w.db||"NotFoundError"===rt.name&&!w.db.objectStoreNames.contains(w.storeName)&&w.version<=w.db.version)return w.db&&(w.version=w.db.version+1),_getUpgradedConnection(w)})).then((function(){return function _tryReconnect(w){_deferReadiness(w);for(var Ne=ot[w.name],et=Ne.forages,tt=0;tt<et.length;tt++){var rt=et[tt];rt._dbInfo.db&&(rt._dbInfo.db.close(),rt._dbInfo.db=null)}return w.db=null,_getOriginalConnection(w).then((function(Ne){return w.db=Ne,_isUpgradeNeeded(w)?_getUpgradedConnection(w):Ne})).then((function(tt){w.db=Ne.db=tt;for(var rt=0;rt<et.length;rt++)et[rt]._dbInfo.db=tt})).catch((function(Ne){throw _rejectReadiness(w,Ne),Ne}))}(w).then((function(){createTransaction(w,Ne,et,tt-1)}))})).catch(et);et(rt)}}var st={_driver:"asyncStorage",_initStorage:function _initStorage(w){var Ne=this,et={db:null};if(w)for(var tt in w)et[tt]=w[tt];var rt=ot[et.name];rt||(rt={forages:[],db:null,dbReady:null,deferredOperations:[]},ot[et.name]=rt),rt.forages.push(Ne),Ne._initReady||(Ne._initReady=Ne.ready,Ne.ready=_fullyReady);var it=[];function ignoreErrors(){return nt.resolve()}for(var at=0;at<rt.forages.length;at++){var st=rt.forages[at];st!==Ne&&it.push(st._initReady().catch(ignoreErrors))}var ct=rt.forages.slice(0);return nt.all(it).then((function(){return et.db=rt.db,_getOriginalConnection(et)})).then((function(w){return et.db=w,_isUpgradeNeeded(et,Ne._defaultConfig.version)?_getUpgradedConnection(et):w})).then((function(w){et.db=rt.db=w,Ne._dbInfo=et;for(var tt=0;tt<ct.length;tt++){var nt=ct[tt];nt!==Ne&&(nt._dbInfo.db=et.db,nt._dbInfo.version=et.version)}}))},_support:function isIndexedDBValid(){try{if(!rt||!rt.open)return!1;var w="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ne="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!w||Ne)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(w){return!1}}(),iterate:function iterate(w,Ne){var et=this,tt=new nt((function(Ne,tt){et.ready().then((function(){createTransaction(et._dbInfo,"readonly",(function(rt,nt){if(rt)return tt(rt);try{var it=nt.objectStore(et._dbInfo.storeName).openCursor(),ot=1;it.onsuccess=function(){var et=it.result;if(et){var tt=et.value;_isEncodedBlob(tt)&&(tt=_decodeBlob(tt));var rt=w(tt,et.key,ot++);void 0!==rt?Ne(rt):et.continue()}else Ne()},it.onerror=function(){tt(it.error)}}catch(w){tt(w)}}))})).catch(tt)}));return executeCallback(tt,Ne),tt},getItem:function getItem(w,Ne){var et=this;w=normalizeKey(w);var tt=new nt((function(Ne,tt){et.ready().then((function(){createTransaction(et._dbInfo,"readonly",(function(rt,nt){if(rt)return tt(rt);try{var it=nt.objectStore(et._dbInfo.storeName).get(w);it.onsuccess=function(){var w=it.result;void 0===w&&(w=null),_isEncodedBlob(w)&&(w=_decodeBlob(w)),Ne(w)},it.onerror=function(){tt(it.error)}}catch(w){tt(w)}}))})).catch(tt)}));return executeCallback(tt,Ne),tt},setItem:function setItem(w,Ne,et){var tt=this;w=normalizeKey(w);var rt=new nt((function(et,rt){var it;tt.ready().then((function(){return it=tt._dbInfo,"[object Blob]"===at.call(Ne)?_checkBlobSupport(it.db).then((function(w){return w?Ne:function _encodeBlob(w){return new nt((function(Ne,et){var tt=new FileReader;tt.onerror=et,tt.onloadend=function(et){var tt=btoa(et.target.result||"");Ne({__local_forage_encoded_blob:!0,data:tt,type:w.type})},tt.readAsBinaryString(w)}))}(Ne)})):Ne})).then((function(Ne){createTransaction(tt._dbInfo,"readwrite",(function(nt,it){if(nt)return rt(nt);try{var ot=it.objectStore(tt._dbInfo.storeName);null===Ne&&(Ne=void 0);var at=ot.put(Ne,w);it.oncomplete=function(){void 0===Ne&&(Ne=null),et(Ne)},it.onabort=it.onerror=function(){var w=at.error?at.error:at.transaction.error;rt(w)}}catch(w){rt(w)}}))})).catch(rt)}));return executeCallback(rt,et),rt},removeItem:function removeItem(w,Ne){var et=this;w=normalizeKey(w);var tt=new nt((function(Ne,tt){et.ready().then((function(){createTransaction(et._dbInfo,"readwrite",(function(rt,nt){if(rt)return tt(rt);try{var it=nt.objectStore(et._dbInfo.storeName).delete(w);nt.oncomplete=function(){Ne()},nt.onerror=function(){tt(it.error)},nt.onabort=function(){var w=it.error?it.error:it.transaction.error;tt(w)}}catch(w){tt(w)}}))})).catch(tt)}));return executeCallback(tt,Ne),tt},clear:function clear(w){var Ne=this,et=new nt((function(w,et){Ne.ready().then((function(){createTransaction(Ne._dbInfo,"readwrite",(function(tt,rt){if(tt)return et(tt);try{var nt=rt.objectStore(Ne._dbInfo.storeName).clear();rt.oncomplete=function(){w()},rt.onabort=rt.onerror=function(){var w=nt.error?nt.error:nt.transaction.error;et(w)}}catch(w){et(w)}}))})).catch(et)}));return executeCallback(et,w),et},length:function length(w){var Ne=this,et=new nt((function(w,et){Ne.ready().then((function(){createTransaction(Ne._dbInfo,"readonly",(function(tt,rt){if(tt)return et(tt);try{var nt=rt.objectStore(Ne._dbInfo.storeName).count();nt.onsuccess=function(){w(nt.result)},nt.onerror=function(){et(nt.error)}}catch(w){et(w)}}))})).catch(et)}));return executeCallback(et,w),et},key:function key(w,Ne){var et=this,tt=new nt((function(Ne,tt){w<0?Ne(null):et.ready().then((function(){createTransaction(et._dbInfo,"readonly",(function(rt,nt){if(rt)return tt(rt);try{var it=nt.objectStore(et._dbInfo.storeName),ot=!1,at=it.openKeyCursor();at.onsuccess=function(){var et=at.result;et?0===w||ot?Ne(et.key):(ot=!0,et.advance(w)):Ne(null)},at.onerror=function(){tt(at.error)}}catch(w){tt(w)}}))})).catch(tt)}));return executeCallback(tt,Ne),tt},keys:function keys(w){var Ne=this,et=new nt((function(w,et){Ne.ready().then((function(){createTransaction(Ne._dbInfo,"readonly",(function(tt,rt){if(tt)return et(tt);try{var nt=rt.objectStore(Ne._dbInfo.storeName).openKeyCursor(),it=[];nt.onsuccess=function(){var Ne=nt.result;Ne?(it.push(Ne.key),Ne.continue()):w(it)},nt.onerror=function(){et(nt.error)}}catch(w){et(w)}}))})).catch(et)}));return executeCallback(et,w),et},dropInstance:function dropInstance(w,Ne){Ne=getCallback.apply(this,arguments);var et=this.config();(w="function"!=typeof w&&w||{}).name||(w.name=w.name||et.name,w.storeName=w.storeName||et.storeName);var tt,it=this;if(w.name){var at=w.name===et.name&&it._dbInfo.db,st=at?nt.resolve(it._dbInfo.db):_getOriginalConnection(w).then((function(Ne){var et=ot[w.name],tt=et.forages;et.db=Ne;for(var rt=0;rt<tt.length;rt++)tt[rt]._dbInfo.db=Ne;return Ne}));tt=w.storeName?st.then((function(Ne){if(Ne.objectStoreNames.contains(w.storeName)){var et=Ne.version+1;_deferReadiness(w);var tt=ot[w.name],it=tt.forages;Ne.close();for(var at=0;at<it.length;at++){var st=it[at];st._dbInfo.db=null,st._dbInfo.version=et}return new nt((function(Ne,tt){var nt=rt.open(w.name,et);nt.onerror=function(w){nt.result.close(),tt(w)},nt.onupgradeneeded=function(){nt.result.deleteObjectStore(w.storeName)},nt.onsuccess=function(){var w=nt.result;w.close(),Ne(w)}})).then((function(w){tt.db=w;for(var Ne=0;Ne<it.length;Ne++){var et=it[Ne];et._dbInfo.db=w,_advanceReadiness(et._dbInfo)}})).catch((function(Ne){throw(_rejectReadiness(w,Ne)||nt.resolve()).catch((function(){})),Ne}))}})):st.then((function(Ne){_deferReadiness(w);var et=ot[w.name],tt=et.forages;Ne.close();for(var it=0;it<tt.length;it++)tt[it]._dbInfo.db=null;return new nt((function(Ne,et){var tt=rt.deleteDatabase(w.name);tt.onerror=tt.onblocked=function(w){var Ne=tt.result;Ne&&Ne.close(),et(w)},tt.onsuccess=function(){var w=tt.result;w&&w.close(),Ne(w)}})).then((function(w){et.db=w;for(var Ne=0;Ne<tt.length;Ne++)_advanceReadiness(tt[Ne]._dbInfo)})).catch((function(Ne){throw(_rejectReadiness(w,Ne)||nt.resolve()).catch((function(){})),Ne}))}))}else tt=nt.reject("Invalid arguments");return executeCallback(tt,Ne),tt}},ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt=/^~~local_forage_type~([^~]+)~/,ft="__lfsc__:".length,dt=ft+"arbf".length,mt=Object.prototype.toString;function stringToBuffer(w){var Ne,et,tt,rt,nt,it=.75*w.length,ot=w.length,at=0;"="===w[w.length-1]&&(it--,"="===w[w.length-2]&&it--);var st=new ArrayBuffer(it),pt=new Uint8Array(st);for(Ne=0;Ne<ot;Ne+=4)et=ct.indexOf(w[Ne]),tt=ct.indexOf(w[Ne+1]),rt=ct.indexOf(w[Ne+2]),nt=ct.indexOf(w[Ne+3]),pt[at++]=et<<2|tt>>4,pt[at++]=(15&tt)<<4|rt>>2,pt[at++]=(3&rt)<<6|63&nt;return st}function bufferToString(w){var Ne,et=new Uint8Array(w),tt="";for(Ne=0;Ne<et.length;Ne+=3)tt+=ct[et[Ne]>>2],tt+=ct[(3&et[Ne])<<4|et[Ne+1]>>4],tt+=ct[(15&et[Ne+1])<<2|et[Ne+2]>>6],tt+=ct[63&et[Ne+2]];return et.length%3==2?tt=tt.substring(0,tt.length-1)+"=":et.length%3==1&&(tt=tt.substring(0,tt.length-2)+"=="),tt}var yt={serialize:function serialize(w,Ne){var et="";if(w&&(et=mt.call(w)),w&&("[object ArrayBuffer]"===et||w.buffer&&"[object ArrayBuffer]"===mt.call(w.buffer))){var tt,rt="__lfsc__:";w instanceof ArrayBuffer?(tt=w,rt+="arbf"):(tt=w.buffer,"[object Int8Array]"===et?rt+="si08":"[object Uint8Array]"===et?rt+="ui08":"[object Uint8ClampedArray]"===et?rt+="uic8":"[object Int16Array]"===et?rt+="si16":"[object Uint16Array]"===et?rt+="ur16":"[object Int32Array]"===et?rt+="si32":"[object Uint32Array]"===et?rt+="ui32":"[object Float32Array]"===et?rt+="fl32":"[object Float64Array]"===et?rt+="fl64":Ne(new Error("Failed to get type for BinaryArray"))),Ne(rt+bufferToString(tt))}else if("[object Blob]"===et){var nt=new FileReader;nt.onload=function(){var et="~~local_forage_type~"+w.type+"~"+bufferToString(this.result);Ne("__lfsc__:blob"+et)},nt.readAsArrayBuffer(w)}else try{Ne(JSON.stringify(w))}catch(et){console.error("Couldn't convert value into a JSON string: ",w),Ne(null,et)}},deserialize:function deserialize(w){if("__lfsc__:"!==w.substring(0,ft))return JSON.parse(w);var Ne,et=w.substring(dt),tt=w.substring(ft,dt);if("blob"===tt&&pt.test(et)){var rt=et.match(pt);Ne=rt[1],et=et.substring(rt[0].length)}var nt=stringToBuffer(et);switch(tt){case"arbf":return nt;case"blob":return createBlob([nt],{type:Ne});case"si08":return new Int8Array(nt);case"ui08":return new Uint8Array(nt);case"uic8":return new Uint8ClampedArray(nt);case"si16":return new Int16Array(nt);case"ur16":return new Uint16Array(nt);case"si32":return new Int32Array(nt);case"ui32":return new Uint32Array(nt);case"fl32":return new Float32Array(nt);case"fl64":return new Float64Array(nt);default:throw new Error("Unkown type: "+tt)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(w,Ne,et,tt){w.executeSql("CREATE TABLE IF NOT EXISTS "+Ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],et,tt)}function tryExecuteSql(w,Ne,et,tt,rt,nt){w.executeSql(et,tt,rt,(function(w,it){it.code===it.SYNTAX_ERR?w.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ne.storeName],(function(w,ot){ot.rows.length?nt(w,it):createDbTable(w,Ne,(function(){w.executeSql(et,tt,rt,nt)}),nt)}),nt):nt(w,it)}),nt)}function _setItem(w,Ne,et,tt){var rt=this;w=normalizeKey(w);var it=new nt((function(nt,it){rt.ready().then((function(){void 0===Ne&&(Ne=null);var ot=Ne,at=rt._dbInfo;at.serializer.serialize(Ne,(function(Ne,st){st?it(st):at.db.transaction((function(et){tryExecuteSql(et,at,"INSERT OR REPLACE INTO "+at.storeName+" (key, value) VALUES (?, ?)",[w,Ne],(function(){nt(ot)}),(function(w,Ne){it(Ne)}))}),(function(Ne){if(Ne.code===Ne.QUOTA_ERR){if(tt>0)return void nt(_setItem.apply(rt,[w,ot,et,tt-1]));it(Ne)}}))}))})).catch(it)}));return executeCallback(it,et),it}function getAllStoreNames(w){return new nt((function(Ne,et){w.transaction((function(tt){tt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(et,tt){for(var rt=[],nt=0;nt<tt.rows.length;nt++)rt.push(tt.rows.item(nt).name);Ne({db:w,storeNames:rt})}),(function(w,Ne){et(Ne)}))}),(function(w){et(w)}))}))}var vt={_driver:"webSQLStorage",_initStorage:function _initStorage$1(w){var Ne=this,et={db:null};if(w)for(var tt in w)et[tt]="string"!=typeof w[tt]?w[tt].toString():w[tt];var rt=new nt((function(w,tt){try{et.db=openDatabase(et.name,String(et.version),et.description,et.size)}catch(w){return tt(w)}et.db.transaction((function(rt){createDbTable(rt,et,(function(){Ne._dbInfo=et,w()}),(function(w,Ne){tt(Ne)}))}),tt)}));return et.serializer=yt,rt},_support:function isWebSQLValid(){return"function"==typeof openDatabase}(),iterate:function iterate$1(w,Ne){var et=this,tt=new nt((function(Ne,tt){et.ready().then((function(){var rt=et._dbInfo;rt.db.transaction((function(et){tryExecuteSql(et,rt,"SELECT * FROM "+rt.storeName,[],(function(et,tt){for(var nt=tt.rows,it=nt.length,ot=0;ot<it;ot++){var at=nt.item(ot),st=at.value;if(st&&(st=rt.serializer.deserialize(st)),void 0!==(st=w(st,at.key,ot+1)))return void Ne(st)}Ne()}),(function(w,Ne){tt(Ne)}))}))})).catch(tt)}));return executeCallback(tt,Ne),tt},getItem:function getItem$1(w,Ne){var et=this;w=normalizeKey(w);var tt=new nt((function(Ne,tt){et.ready().then((function(){var rt=et._dbInfo;rt.db.transaction((function(et){tryExecuteSql(et,rt,"SELECT * FROM "+rt.storeName+" WHERE key = ? LIMIT 1",[w],(function(w,et){var tt=et.rows.length?et.rows.item(0).value:null;tt&&(tt=rt.serializer.deserialize(tt)),Ne(tt)}),(function(w,Ne){tt(Ne)}))}))})).catch(tt)}));return executeCallback(tt,Ne),tt},setItem:function setItem$1(w,Ne,et){return _setItem.apply(this,[w,Ne,et,1])},removeItem:function removeItem$1(w,Ne){var et=this;w=normalizeKey(w);var tt=new nt((function(Ne,tt){et.ready().then((function(){var rt=et._dbInfo;rt.db.transaction((function(et){tryExecuteSql(et,rt,"DELETE FROM "+rt.storeName+" WHERE key = ?",[w],(function(){Ne()}),(function(w,Ne){tt(Ne)}))}))})).catch(tt)}));return executeCallback(tt,Ne),tt},clear:function clear$1(w){var Ne=this,et=new nt((function(w,et){Ne.ready().then((function(){var tt=Ne._dbInfo;tt.db.transaction((function(Ne){tryExecuteSql(Ne,tt,"DELETE FROM "+tt.storeName,[],(function(){w()}),(function(w,Ne){et(Ne)}))}))})).catch(et)}));return executeCallback(et,w),et},length:function length$1(w){var Ne=this,et=new nt((function(w,et){Ne.ready().then((function(){var tt=Ne._dbInfo;tt.db.transaction((function(Ne){tryExecuteSql(Ne,tt,"SELECT COUNT(key) as c FROM "+tt.storeName,[],(function(Ne,et){var tt=et.rows.item(0).c;w(tt)}),(function(w,Ne){et(Ne)}))}))})).catch(et)}));return executeCallback(et,w),et},key:function key$1(w,Ne){var et=this,tt=new nt((function(Ne,tt){et.ready().then((function(){var rt=et._dbInfo;rt.db.transaction((function(et){tryExecuteSql(et,rt,"SELECT key FROM "+rt.storeName+" WHERE id = ? LIMIT 1",[w+1],(function(w,et){var tt=et.rows.length?et.rows.item(0).key:null;Ne(tt)}),(function(w,Ne){tt(Ne)}))}))})).catch(tt)}));return executeCallback(tt,Ne),tt},keys:function keys$1(w){var Ne=this,et=new nt((function(w,et){Ne.ready().then((function(){var tt=Ne._dbInfo;tt.db.transaction((function(Ne){tryExecuteSql(Ne,tt,"SELECT key FROM "+tt.storeName,[],(function(Ne,et){for(var tt=[],rt=0;rt<et.rows.length;rt++)tt.push(et.rows.item(rt).key);w(tt)}),(function(w,Ne){et(Ne)}))}))})).catch(et)}));return executeCallback(et,w),et},dropInstance:function dropInstance$1(w,Ne){Ne=getCallback.apply(this,arguments);var et=this.config();(w="function"!=typeof w&&w||{}).name||(w.name=w.name||et.name,w.storeName=w.storeName||et.storeName);var tt,rt=this;return executeCallback(tt=w.name?new nt((function(Ne){var tt;tt=w.name===et.name?rt._dbInfo.db:openDatabase(w.name,"","",0),w.storeName?Ne({db:tt,storeNames:[w.storeName]}):Ne(getAllStoreNames(tt))})).then((function(w){return new nt((function(Ne,et){w.db.transaction((function(tt){function dropTable(w){return new nt((function(Ne,et){tt.executeSql("DROP TABLE IF EXISTS "+w,[],(function(){Ne()}),(function(w,Ne){et(Ne)}))}))}for(var rt=[],it=0,ot=w.storeNames.length;it<ot;it++)rt.push(dropTable(w.storeNames[it]));nt.all(rt).then((function(){Ne()})).catch((function(w){et(w)}))}),(function(w){et(w)}))}))})):nt.reject("Invalid arguments"),Ne),tt}};function _getKeyPrefix(w,Ne){var et=w.name+"/";return w.storeName!==Ne.storeName&&(et+=w.storeName+"/"),et}function _isLocalStorageUsable(){return!function checkIfLocalStorageThrows(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(w){return!0}}()||localStorage.length>0}var Rt={_driver:"localStorageWrapper",_initStorage:function _initStorage$2(w){var Ne={};if(w)for(var et in w)Ne[et]=w[et];return Ne.keyPrefix=_getKeyPrefix(w,this._defaultConfig),_isLocalStorageUsable()?(this._dbInfo=Ne,Ne.serializer=yt,nt.resolve()):nt.reject()},_support:function isLocalStorageValid(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(w){return!1}}(),iterate:function iterate$2(w,Ne){var et=this,tt=et.ready().then((function(){for(var Ne=et._dbInfo,tt=Ne.keyPrefix,rt=tt.length,nt=localStorage.length,it=1,ot=0;ot<nt;ot++){var at=localStorage.key(ot);if(0===at.indexOf(tt)){var st=localStorage.getItem(at);if(st&&(st=Ne.serializer.deserialize(st)),void 0!==(st=w(st,at.substring(rt),it++)))return st}}}));return executeCallback(tt,Ne),tt},getItem:function getItem$2(w,Ne){var et=this;w=normalizeKey(w);var tt=et.ready().then((function(){var Ne=et._dbInfo,tt=localStorage.getItem(Ne.keyPrefix+w);return tt&&(tt=Ne.serializer.deserialize(tt)),tt}));return executeCallback(tt,Ne),tt},setItem:function setItem$2(w,Ne,et){var tt=this;w=normalizeKey(w);var rt=tt.ready().then((function(){void 0===Ne&&(Ne=null);var et=Ne;return new nt((function(rt,nt){var it=tt._dbInfo;it.serializer.serialize(Ne,(function(Ne,tt){if(tt)nt(tt);else try{localStorage.setItem(it.keyPrefix+w,Ne),rt(et)}catch(w){"QuotaExceededError"!==w.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==w.name||nt(w),nt(w)}}))}))}));return executeCallback(rt,et),rt},removeItem:function removeItem$2(w,Ne){var et=this;w=normalizeKey(w);var tt=et.ready().then((function(){var Ne=et._dbInfo;localStorage.removeItem(Ne.keyPrefix+w)}));return executeCallback(tt,Ne),tt},clear:function clear$2(w){var Ne=this,et=Ne.ready().then((function(){for(var w=Ne._dbInfo.keyPrefix,et=localStorage.length-1;et>=0;et--){var tt=localStorage.key(et);0===tt.indexOf(w)&&localStorage.removeItem(tt)}}));return executeCallback(et,w),et},length:function length$2(w){var Ne=this.keys().then((function(w){return w.length}));return executeCallback(Ne,w),Ne},key:function key$2(w,Ne){var et=this,tt=et.ready().then((function(){var Ne,tt=et._dbInfo;try{Ne=localStorage.key(w)}catch(w){Ne=null}return Ne&&(Ne=Ne.substring(tt.keyPrefix.length)),Ne}));return executeCallback(tt,Ne),tt},keys:function keys$2(w){var Ne=this,et=Ne.ready().then((function(){for(var w=Ne._dbInfo,et=localStorage.length,tt=[],rt=0;rt<et;rt++){var nt=localStorage.key(rt);0===nt.indexOf(w.keyPrefix)&&tt.push(nt.substring(w.keyPrefix.length))}return tt}));return executeCallback(et,w),et},dropInstance:function dropInstance$2(w,Ne){if(Ne=getCallback.apply(this,arguments),!(w="function"!=typeof w&&w||{}).name){var et=this.config();w.name=w.name||et.name,w.storeName=w.storeName||et.storeName}var tt,rt=this;return executeCallback(tt=w.name?new nt((function(Ne){w.storeName?Ne(_getKeyPrefix(w,rt._defaultConfig)):Ne(w.name+"/")})).then((function(w){for(var Ne=localStorage.length-1;Ne>=0;Ne--){var et=localStorage.key(Ne);0===et.indexOf(w)&&localStorage.removeItem(et)}})):nt.reject("Invalid arguments"),Ne),tt}},Ot=function sameValue(w,Ne){return w===Ne||"number"==typeof w&&"number"==typeof Ne&&isNaN(w)&&isNaN(Ne)},Dt=function includes(w,Ne){for(var et=w.length,tt=0;tt<et;){if(Ot(w[tt],Ne))return!0;tt++}return!1},Bt=Array.isArray||function(w){return"[object Array]"===Object.prototype.toString.call(w)},er={},rr={},vr={INDEXEDDB:st,WEBSQL:vt,LOCALSTORAGE:Rt},wr=[vr.INDEXEDDB._driver,vr.WEBSQL._driver,vr.LOCALSTORAGE._driver],Sr=["dropInstance"],rn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Sr),vn={description:"",driver:wr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(w,Ne){w[Ne]=function(){var et=arguments;return w.ready().then((function(){return w[Ne].apply(w,et)}))}}function extend(){for(var w=1;w<arguments.length;w++){var Ne=arguments[w];if(Ne)for(var et in Ne)Ne.hasOwnProperty(et)&&(Bt(Ne[et])?arguments[0][et]=Ne[et].slice():arguments[0][et]=Ne[et])}return arguments[0]}var bn=new(function(){function LocalForage(w){for(var Ne in function _classCallCheck(w,Ne){if(!(w instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,LocalForage),vr)if(vr.hasOwnProperty(Ne)){var et=vr[Ne],tt=et._driver;this[Ne]=tt,er[tt]||this.defineDriver(et)}this._defaultConfig=extend({},vn),this._config=extend({},this._defaultConfig,w),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return LocalForage.prototype.config=function config(w){if("object"===(void 0===w?"undefined":tt(w))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Ne in w){if("storeName"===Ne&&(w[Ne]=w[Ne].replace(/\W/g,"_")),"version"===Ne&&"number"!=typeof w[Ne])return new Error("Database version must be a number.");this._config[Ne]=w[Ne]}return!("driver"in w)||!w.driver||this.setDriver(this._config.driver)}return"string"==typeof w?this._config[w]:this._config},LocalForage.prototype.defineDriver=function defineDriver(w,Ne,et){var tt=new nt((function(Ne,et){try{var tt=w._driver,rt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!w._driver)return void et(rt);for(var it=rn.concat("_initStorage"),ot=0,at=it.length;ot<at;ot++){var st=it[ot];if((!Dt(Sr,st)||w[st])&&"function"!=typeof w[st])return void et(rt)}!function configureMissingMethods(){for(var Ne=function methodNotImplementedFactory(w){return function(){var Ne=new Error("Method "+w+" is not implemented by the current driver"),et=nt.reject(Ne);return executeCallback(et,arguments[arguments.length-1]),et}},et=0,tt=Sr.length;et<tt;et++){var rt=Sr[et];w[rt]||(w[rt]=Ne(rt))}}();var ct=function setDriverSupport(et){er[tt]&&console.info("Redefining LocalForage driver: "+tt),er[tt]=w,rr[tt]=et,Ne()};"_support"in w?w._support&&"function"==typeof w._support?w._support().then(ct,et):ct(!!w._support):ct(!0)}catch(w){et(w)}}));return executeTwoCallbacks(tt,Ne,et),tt},LocalForage.prototype.driver=function driver(){return this._driver||null},LocalForage.prototype.getDriver=function getDriver(w,Ne,et){var tt=er[w]?nt.resolve(er[w]):nt.reject(new Error("Driver not found."));return executeTwoCallbacks(tt,Ne,et),tt},LocalForage.prototype.getSerializer=function getSerializer(w){var Ne=nt.resolve(yt);return executeTwoCallbacks(Ne,w),Ne},LocalForage.prototype.ready=function ready(w){var Ne=this,et=Ne._driverSet.then((function(){return null===Ne._ready&&(Ne._ready=Ne._initDriver()),Ne._ready}));return executeTwoCallbacks(et,w,w),et},LocalForage.prototype.setDriver=function setDriver(w,Ne,et){var tt=this;Bt(w)||(w=[w]);var rt=this._getSupportedDrivers(w);function setDriverToConfig(){tt._config.driver=tt.driver()}function extendSelfWithDriver(w){return tt._extend(w),setDriverToConfig(),tt._ready=tt._initStorage(tt._config),tt._ready}var it=null!==this._driverSet?this._driverSet.catch((function(){return nt.resolve()})):nt.resolve();return this._driverSet=it.then((function(){var w=rt[0];return tt._dbInfo=null,tt._ready=null,tt.getDriver(w).then((function(w){tt._driver=w._driver,setDriverToConfig(),tt._wrapLibraryMethodsWithReady(),tt._initDriver=function initDriver(w){return function(){var Ne=0;return function driverPromiseLoop(){for(;Ne<w.length;){var et=w[Ne];return Ne++,tt._dbInfo=null,tt._ready=null,tt.getDriver(et).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();var rt=new Error("No available storage method found.");return tt._driverSet=nt.reject(rt),tt._driverSet}()}}(rt)}))})).catch((function(){setDriverToConfig();var w=new Error("No available storage method found.");return tt._driverSet=nt.reject(w),tt._driverSet})),executeTwoCallbacks(this._driverSet,Ne,et),this._driverSet},LocalForage.prototype.supports=function supports(w){return!!rr[w]},LocalForage.prototype._extend=function _extend(w){extend(this,w)},LocalForage.prototype._getSupportedDrivers=function _getSupportedDrivers(w){for(var Ne=[],et=0,tt=w.length;et<tt;et++){var rt=w[et];this.supports(rt)&&Ne.push(rt)}return Ne},LocalForage.prototype._wrapLibraryMethodsWithReady=function _wrapLibraryMethodsWithReady(){for(var w=0,Ne=rn.length;w<Ne;w++)callWhenReady(this,rn[w])},LocalForage.prototype.createInstance=function createInstance(w){return new LocalForage(w)},LocalForage}());Ne.exports=bn},{3:3}]},{},[4])(4)}).call(this,et(72))},function(w,Ne,et){var tt=et(190),rt=et(14),aFunction=function(w){return"function"==typeof w?w:void 0};w.exports=function(w,Ne){return arguments.length<2?aFunction(tt[w])||aFunction(rt[w]):tt[w]&&tt[w][Ne]||rt[w]&&rt[w][Ne]}},function(w,Ne,et){"use strict";function _objectWithoutPropertiesLoose(w,Ne){if(null==w)return{};var et,tt,rt={},nt=Object.keys(w);for(tt=0;tt<nt.length;tt++)et=nt[tt],Ne.indexOf(et)>=0||(rt[et]=w[et]);return rt}et.d(Ne,"a",(function(){return _objectWithoutPropertiesLoose}))},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _slicedToArray}));var tt=et(79);function _slicedToArray(w,Ne){return function _arrayWithHoles(w){if(Array.isArray(w))return w}(w)||function _iterableToArrayLimit(w,Ne){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(w)){var et=[],tt=!0,rt=!1,nt=void 0;try{for(var it,ot=w[Symbol.iterator]();!(tt=(it=ot.next()).done)&&(et.push(it.value),!Ne||et.length!==Ne);tt=!0);}catch(w){rt=!0,nt=w}finally{try{tt||null==ot.return||ot.return()}finally{if(rt)throw nt}}return et}}(w,Ne)||Object(tt.a)(w,Ne)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(w,Ne,et){var tt=et(34),rt=et(199);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},function(w,Ne,et){var tt=et(14),rt=et(117),nt=et(27),it=et(91),ot=et(121),at=et(195),st=rt("wks"),ct=tt.Symbol,pt=at?ct:ct&&ct.withoutSetter||it;w.exports=function(w){return nt(st,w)||(ot&&nt(ct,w)?st[w]=ct[w]:st[w]=pt("Symbol."+w)),st[w]}},function(w,Ne){w.exports=function(w){try{return!!w()}catch(w){return!0}}},function(w,Ne){w.exports=function(w){return"object"==typeof w?null!==w:"function"==typeof w}},function(w,Ne,et){var tt=et(24);w.exports=!tt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(w,Ne){var et={}.hasOwnProperty;w.exports=function(w,Ne){return et.call(w,Ne)}},function(w,Ne,et){var tt=et(26),rt=et(115),nt=et(6),it=et(86),ot=Object.defineProperty;Ne.f=tt?ot:function defineProperty(w,Ne,et){if(nt(w),Ne=it(Ne,!0),nt(et),rt)try{return ot(w,Ne,et)}catch(w){}if("get"in et||"set"in et)throw TypeError("Accessors not supported");return"value"in et&&(w[Ne]=et.value),w}},function(w,Ne,et){var tt=et(43),rt=Math.min;w.exports=function(w){return w>0?rt(tt(w),9007199254740991):0}},function(w,Ne,et){var tt=et(6),rt=et(13),nt=et(23)("species");w.exports=function(w,Ne){var et,it=tt(w).constructor;return void 0===it||null==(et=tt(it)[nt])?Ne:rt(et)}},function(w,Ne,et){var tt=et(9),rt=et(101);w.exports=tt?rt:function(w){return Map.prototype.entries.call(w)}},function(w,Ne,et){"use strict";function _defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}et.d(Ne,"a",(function(){return _defineProperty}))},function(w,Ne,et){"use strict";Ne.a=function warning(w,Ne){}},function(w,Ne,et){"use strict";var tt=function isOldIE(){var w;return function memorize(){return void 0===w&&(w=Boolean(window&&document&&document.all&&!window.atob)),w}}(),rt=function getTarget(){var w={};return function memorize(Ne){if(void 0===w[Ne]){var et=document.querySelector(Ne);if(window.HTMLIFrameElement&&et instanceof window.HTMLIFrameElement)try{et=et.contentDocument.head}catch(w){et=null}w[Ne]=et}return w[Ne]}}(),nt=[];function getIndexByIdentifier(w){for(var Ne=-1,et=0;et<nt.length;et++)if(nt[et].identifier===w){Ne=et;break}return Ne}function modulesToDom(w,Ne){for(var et={},tt=[],rt=0;rt<w.length;rt++){var it=w[rt],ot=Ne.base?it[0]+Ne.base:it[0],at=et[ot]||0,st="".concat(ot," ").concat(at);et[ot]=at+1;var ct=getIndexByIdentifier(st),pt={css:it[1],media:it[2],sourceMap:it[3]};-1!==ct?(nt[ct].references++,nt[ct].updater(pt)):nt.push({identifier:st,updater:addStyle(pt,Ne),references:1}),tt.push(st)}return tt}function insertStyleElement(w){var Ne=document.createElement("style"),tt=w.attributes||{};if(void 0===tt.nonce){var nt=et.nc;nt&&(tt.nonce=nt)}if(Object.keys(tt).forEach((function(w){Ne.setAttribute(w,tt[w])})),"function"==typeof w.insert)w.insert(Ne);else{var it=rt(w.insert||"head");if(!it)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");it.appendChild(Ne)}return Ne}var it=function replaceText(){var w=[];return function replace(Ne,et){return w[Ne]=et,w.filter(Boolean).join("\n")}}();function applyToSingletonTag(w,Ne,et,tt){var rt=et?"":tt.media?"@media ".concat(tt.media," {").concat(tt.css,"}"):tt.css;if(w.styleSheet)w.styleSheet.cssText=it(Ne,rt);else{var nt=document.createTextNode(rt),ot=w.childNodes;ot[Ne]&&w.removeChild(ot[Ne]),ot.length?w.insertBefore(nt,ot[Ne]):w.appendChild(nt)}}function applyToTag(w,Ne,et){var tt=et.css,rt=et.media,nt=et.sourceMap;if(rt?w.setAttribute("media",rt):w.removeAttribute("media"),nt&&btoa&&(tt+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(nt))))," */")),w.styleSheet)w.styleSheet.cssText=tt;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(tt))}}var ot=null,at=0;function addStyle(w,Ne){var et,tt,rt;if(Ne.singleton){var nt=at++;et=ot||(ot=insertStyleElement(Ne)),tt=applyToSingletonTag.bind(null,et,nt,!1),rt=applyToSingletonTag.bind(null,et,nt,!0)}else et=insertStyleElement(Ne),tt=applyToTag.bind(null,et,Ne),rt=function remove(){!function removeStyleElement(w){if(null===w.parentNode)return!1;w.parentNode.removeChild(w)}(et)};return tt(w),function updateStyle(Ne){if(Ne){if(Ne.css===w.css&&Ne.media===w.media&&Ne.sourceMap===w.sourceMap)return;tt(w=Ne)}else rt()}}w.exports=function(w,Ne){(Ne=Ne||{}).singleton||"boolean"==typeof Ne.singleton||(Ne.singleton=tt());var et=modulesToDom(w=w||[],Ne);return function update(w){if(w=w||[],"[object Array]"===Object.prototype.toString.call(w)){for(var tt=0;tt<et.length;tt++){var rt=getIndexByIdentifier(et[tt]);nt[rt].references--}for(var it=modulesToDom(w,Ne),ot=0;ot<et.length;ot++){var at=getIndexByIdentifier(et[ot]);0===nt[at].references&&(nt[at].updater(),nt.splice(at,1))}et=it}}}},function(w,Ne,et){"use strict";w.exports=function(w){var Ne=[];return Ne.toString=function toString(){return this.map((function(Ne){var et=function cssWithMappingToString(w,Ne){var et=w[1]||"",tt=w[3];if(!tt)return et;if(Ne&&"function"==typeof btoa){var rt=function toComment(w){var Ne=btoa(unescape(encodeURIComponent(JSON.stringify(w)))),et="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Ne);return"/*# ".concat(et," */")}(tt),nt=tt.sources.map((function(w){return"/*# sourceURL=".concat(tt.sourceRoot||"").concat(w," */")}));return[et].concat(nt).concat([rt]).join("\n")}return[et].join("\n")}(Ne,w);return Ne[2]?"@media ".concat(Ne[2]," {").concat(et,"}"):et})).join("")},Ne.i=function(w,et,tt){"string"==typeof w&&(w=[[null,w,""]]);var rt={};if(tt)for(var nt=0;nt<this.length;nt++){var it=this[nt][0];null!=it&&(rt[it]=!0)}for(var ot=0;ot<w.length;ot++){var at=[].concat(w[ot]);tt&&rt[at[0]]||(et&&(at[2]?at[2]="".concat(et," and ").concat(at[2]):at[2]=et),Ne.push(at))}},Ne}},function(w,Ne,et){var tt=et(26),rt=et(28),nt=et(84);w.exports=tt?function(w,Ne,et){return rt.f(w,Ne,nt(1,et))}:function(w,Ne,et){return w[Ne]=et,w}},function(w,Ne,et){"use strict";var tt="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function _has(w,Ne){return Object.prototype.hasOwnProperty.call(w,Ne)}Ne.assign=function(w){for(var Ne=Array.prototype.slice.call(arguments,1);Ne.length;){var et=Ne.shift();if(et){if("object"!=typeof et)throw new TypeError(et+"must be non-object");for(var tt in et)_has(et,tt)&&(w[tt]=et[tt])}}return w},Ne.shrinkBuf=function(w,Ne){return w.length===Ne?w:w.subarray?w.subarray(0,Ne):(w.length=Ne,w)};var rt={arraySet:function(w,Ne,et,tt,rt){if(Ne.subarray&&w.subarray)w.set(Ne.subarray(et,et+tt),rt);else for(var nt=0;nt<tt;nt++)w[rt+nt]=Ne[et+nt]},flattenChunks:function(w){var Ne,et,tt,rt,nt,it;for(tt=0,Ne=0,et=w.length;Ne<et;Ne++)tt+=w[Ne].length;for(it=new Uint8Array(tt),rt=0,Ne=0,et=w.length;Ne<et;Ne++)nt=w[Ne],it.set(nt,rt),rt+=nt.length;return it}},nt={arraySet:function(w,Ne,et,tt,rt){for(var nt=0;nt<tt;nt++)w[rt+nt]=Ne[et+nt]},flattenChunks:function(w){return[].concat.apply([],w)}};Ne.setTyped=function(w){w?(Ne.Buf8=Uint8Array,Ne.Buf16=Uint16Array,Ne.Buf32=Int32Array,Ne.assign(Ne,rt)):(Ne.Buf8=Array,Ne.Buf16=Array,Ne.Buf32=Array,Ne.assign(Ne,nt))},Ne.setTyped(tt)},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _toConsumableArray}));var tt=et(70);var rt=et(79);function _toConsumableArray(w){return function _arrayWithoutHoles(w){if(Array.isArray(w))return Object(tt.a)(w)}(w)||function _iterableToArray(w){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(w))return Array.from(w)}(w)||Object(rt.a)(w)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(w,Ne,et){"use strict";var tt=et(103);Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var rt=tt(et(0)),nt=(0,tt(et(156)).default)(rt.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");Ne.default=nt},function(w,Ne,et){"use strict";var tt=et(103);Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var rt=tt(et(0)),nt=(0,tt(et(156)).default)(rt.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Ne.default=nt},function(w,Ne,et){var tt=et(34),rt=et(249);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},function(w,Ne){var et={}.toString;w.exports=function(w){return et.call(w).slice(8,-1)}},function(w,Ne){var et=Math.ceil,tt=Math.floor;w.exports=function(w){return isNaN(w=+w)?0:(w>0?tt:et)(w)}},function(w,Ne,et){var tt=et(9),rt=et(101);w.exports=tt?rt:function(w){return Set.prototype.values.call(w)}},function(w,Ne,et){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
w.exports=function(){"use strict";for(var limit=function(w,Ne,et){return void 0===Ne&&(Ne=0),void 0===et&&(et=1),w<Ne?Ne:w>et?et:w},w={},Ne=0,et=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];Ne<et.length;Ne+=1){var tt=et[Ne];w["[object "+tt+"]"]=tt.toLowerCase()}var type=function(Ne){return w[Object.prototype.toString.call(Ne)]||"object"},rt=Math.PI,nt={clip_rgb:function(w){w._clipped=!1,w._unclipped=w.slice(0);for(var Ne=0;Ne<=3;Ne++)Ne<3?((w[Ne]<0||w[Ne]>255)&&(w._clipped=!0),w[Ne]=limit(w[Ne],0,255)):3===Ne&&(w[Ne]=limit(w[Ne],0,1));return w},limit:limit,type:type,unpack:function(w,Ne){return void 0===Ne&&(Ne=null),w.length>=3?Array.prototype.slice.call(w):"object"==type(w[0])&&Ne?Ne.split("").filter((function(Ne){return void 0!==w[0][Ne]})).map((function(Ne){return w[0][Ne]})):w[0]},last:function(w){if(w.length<2)return null;var Ne=w.length-1;return"string"==type(w[Ne])?w[Ne].toLowerCase():null},PI:rt,TWOPI:2*rt,PITHIRD:rt/3,DEG2RAD:rt/180,RAD2DEG:180/rt},it={format:{},autodetect:[]},ot=nt.last,at=nt.clip_rgb,st=nt.type,ct=function Color(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=this;if("object"===st(w[0])&&w[0].constructor&&w[0].constructor===this.constructor)return w[0];var tt=ot(w),rt=!1;if(!tt){rt=!0,it.sorted||(it.autodetect=it.autodetect.sort((function(w,Ne){return Ne.p-w.p})),it.sorted=!0);for(var nt=0,ct=it.autodetect;nt<ct.length;nt+=1){var pt=ct[nt];if(tt=pt.test.apply(pt,w))break}}if(!it.format[tt])throw new Error("unknown format: "+w);var ft=it.format[tt].apply(null,rt?w:w.slice(0,-1));et._rgb=at(ft),3===et._rgb.length&&et._rgb.push(1)};ct.prototype.toString=function toString(){return"function"==st(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var pt=ct,chroma=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(chroma.Color,[null].concat(w)))};chroma.Color=pt,chroma.version="2.1.0";var ft=chroma,dt=nt.unpack,mt=Math.max,rgb2cmyk_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=dt(w,"rgb"),tt=et[0],rt=et[1],nt=et[2],it=1-mt(tt/=255,mt(rt/=255,nt/=255)),ot=it<1?1/(1-it):0,at=(1-tt-it)*ot,st=(1-rt-it)*ot,ct=(1-nt-it)*ot;return[at,st,ct,it]},yt=nt.unpack,cmyk2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=(w=yt(w,"cmyk"))[0],tt=w[1],rt=w[2],nt=w[3],it=w.length>4?w[4]:1;return 1===nt?[0,0,0,it]:[et>=1?0:255*(1-et)*(1-nt),tt>=1?0:255*(1-tt)*(1-nt),rt>=1?0:255*(1-rt)*(1-nt),it]},vt=nt.unpack,Rt=nt.type;pt.prototype.cmyk=function(){return rgb2cmyk_1(this._rgb)},ft.cmyk=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["cmyk"])))},it.format.cmyk=cmyk2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=vt(w,"cmyk"),"array"===Rt(w)&&4===w.length)return"cmyk"}});var Ot=nt.unpack,Dt=nt.last,rnd=function(w){return Math.round(100*w)/100},hsl2css_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Ot(w,"hsla"),tt=Dt(w)||"lsa";return et[0]=rnd(et[0]||0),et[1]=rnd(100*et[1])+"%",et[2]=rnd(100*et[2])+"%","hsla"===tt||et.length>3&&et[3]<1?(et[3]=et.length>3?et[3]:1,tt="hsla"):et.length=3,tt+"("+et.join(",")+")"},Bt=nt.unpack,rgb2hsl_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=(w=Bt(w,"rgba"))[0],tt=w[1],rt=w[2];et/=255,tt/=255,rt/=255;var nt,it,ot=Math.min(et,tt,rt),at=Math.max(et,tt,rt),st=(at+ot)/2;return at===ot?(nt=0,it=Number.NaN):nt=st<.5?(at-ot)/(at+ot):(at-ot)/(2-at-ot),et==at?it=(tt-rt)/(at-ot):tt==at?it=2+(rt-et)/(at-ot):rt==at&&(it=4+(et-tt)/(at-ot)),(it*=60)<0&&(it+=360),w.length>3&&void 0!==w[3]?[it,nt,st,w[3]]:[it,nt,st]},er=nt.unpack,rr=nt.last,vr=Math.round,rgb2css_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=er(w,"rgba"),tt=rr(w)||"rgb";return"hsl"==tt.substr(0,3)?hsl2css_1(rgb2hsl_1(et),tt):(et[0]=vr(et[0]),et[1]=vr(et[1]),et[2]=vr(et[2]),("rgba"===tt||et.length>3&&et[3]<1)&&(et[3]=et.length>3?et[3]:1,tt="rgba"),tt+"("+et.slice(0,"rgb"===tt?3:4).join(",")+")")},wr=nt.unpack,Sr=Math.round,hsl2rgb_1=function(){for(var w,Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,rt,nt,it=(Ne=wr(Ne,"hsl"))[0],ot=Ne[1],at=Ne[2];if(0===ot)tt=rt=nt=255*at;else{var st=[0,0,0],ct=[0,0,0],pt=at<.5?at*(1+ot):at+ot-at*ot,ft=2*at-pt,dt=it/360;st[0]=dt+1/3,st[1]=dt,st[2]=dt-1/3;for(var mt=0;mt<3;mt++)st[mt]<0&&(st[mt]+=1),st[mt]>1&&(st[mt]-=1),6*st[mt]<1?ct[mt]=ft+6*(pt-ft)*st[mt]:2*st[mt]<1?ct[mt]=pt:3*st[mt]<2?ct[mt]=ft+(pt-ft)*(2/3-st[mt])*6:ct[mt]=ft;tt=(w=[Sr(255*ct[0]),Sr(255*ct[1]),Sr(255*ct[2])])[0],rt=w[1],nt=w[2]}return Ne.length>3?[tt,rt,nt,Ne[3]]:[tt,rt,nt,1]},rn=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,vn=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,bn=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Tn=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Cn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,In=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,zn=Math.round,css2rgb=function(w){var Ne;if(w=w.toLowerCase().trim(),it.format.named)try{return it.format.named(w)}catch(w){}if(Ne=w.match(rn)){for(var et=Ne.slice(1,4),tt=0;tt<3;tt++)et[tt]=+et[tt];return et[3]=1,et}if(Ne=w.match(vn)){for(var rt=Ne.slice(1,5),nt=0;nt<4;nt++)rt[nt]=+rt[nt];return rt}if(Ne=w.match(bn)){for(var ot=Ne.slice(1,4),at=0;at<3;at++)ot[at]=zn(2.55*ot[at]);return ot[3]=1,ot}if(Ne=w.match(Tn)){for(var st=Ne.slice(1,5),ct=0;ct<3;ct++)st[ct]=zn(2.55*st[ct]);return st[3]=+st[3],st}if(Ne=w.match(Cn)){var pt=Ne.slice(1,4);pt[1]*=.01,pt[2]*=.01;var ft=hsl2rgb_1(pt);return ft[3]=1,ft}if(Ne=w.match(In)){var dt=Ne.slice(1,4);dt[1]*=.01,dt[2]*=.01;var mt=hsl2rgb_1(dt);return mt[3]=+Ne[4],mt}};css2rgb.test=function(w){return rn.test(w)||vn.test(w)||bn.test(w)||Tn.test(w)||Cn.test(w)||In.test(w)};var Mn=css2rgb,Ln=nt.type;pt.prototype.css=function(w){return rgb2css_1(this._rgb,w)},ft.css=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["css"])))},it.format.css=Mn,it.autodetect.push({p:5,test:function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];if(!Ne.length&&"string"===Ln(w)&&Mn.test(w))return"css"}});var Fn=nt.unpack;it.format.gl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Fn(w,"rgba");return et[0]*=255,et[1]*=255,et[2]*=255,et},ft.gl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["gl"])))},pt.prototype.gl=function(){var w=this._rgb;return[w[0]/255,w[1]/255,w[2]/255,w[3]]};var Bn=nt.unpack,rgb2hcg_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt=Bn(w,"rgb"),rt=tt[0],nt=tt[1],it=tt[2],ot=Math.min(rt,nt,it),at=Math.max(rt,nt,it),st=at-ot,ct=100*st/255,pt=ot/(255-st)*100;return 0===st?et=Number.NaN:(rt===at&&(et=(nt-it)/st),nt===at&&(et=2+(it-rt)/st),it===at&&(et=4+(rt-nt)/st),(et*=60)<0&&(et+=360)),[et,ct,pt]},Nn=nt.unpack,Vn=Math.floor,hcg2rgb_1=function(){for(var w,Ne,et,tt,rt,nt,it=[],ot=arguments.length;ot--;)it[ot]=arguments[ot];var at,st,ct,pt=(it=Nn(it,"hcg"))[0],ft=it[1],dt=it[2];dt*=255;var mt=255*ft;if(0===ft)at=st=ct=dt;else{360===pt&&(pt=0),pt>360&&(pt-=360),pt<0&&(pt+=360);var yt=Vn(pt/=60),vt=pt-yt,Rt=dt*(1-ft),Ot=Rt+mt*(1-vt),Dt=Rt+mt*vt,Bt=Rt+mt;switch(yt){case 0:at=(w=[Bt,Dt,Rt])[0],st=w[1],ct=w[2];break;case 1:at=(Ne=[Ot,Bt,Rt])[0],st=Ne[1],ct=Ne[2];break;case 2:at=(et=[Rt,Bt,Dt])[0],st=et[1],ct=et[2];break;case 3:at=(tt=[Rt,Ot,Bt])[0],st=tt[1],ct=tt[2];break;case 4:at=(rt=[Dt,Rt,Bt])[0],st=rt[1],ct=rt[2];break;case 5:at=(nt=[Bt,Rt,Ot])[0],st=nt[1],ct=nt[2]}}return[at,st,ct,it.length>3?it[3]:1]},Wn=nt.unpack,$n=nt.type;pt.prototype.hcg=function(){return rgb2hcg_1(this._rgb)},ft.hcg=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hcg"])))},it.format.hcg=hcg2rgb_1,it.autodetect.push({p:1,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=Wn(w,"hcg"),"array"===$n(w)&&3===w.length)return"hcg"}});var Yn=nt.unpack,ii=nt.last,qi=Math.round,rgb2hex_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Yn(w,"rgba"),tt=et[0],rt=et[1],nt=et[2],it=et[3],ot=ii(w)||"auto";void 0===it&&(it=1),"auto"===ot&&(ot=it<1?"rgba":"rgb");var at=(tt=qi(tt))<<16|(rt=qi(rt))<<8|(nt=qi(nt)),st="000000"+at.toString(16);st=st.substr(st.length-6);var ct="0"+qi(255*it).toString(16);switch(ct=ct.substr(ct.length-2),ot.toLowerCase()){case"rgba":return"#"+st+ct;case"argb":return"#"+ct+st;default:return"#"+st}},uo=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,po=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hex2rgb_1=function(w){if(w.match(uo)){4!==w.length&&7!==w.length||(w=w.substr(1)),3===w.length&&(w=(w=w.split(""))[0]+w[0]+w[1]+w[1]+w[2]+w[2]);var Ne=parseInt(w,16);return[Ne>>16,Ne>>8&255,255&Ne,1]}if(w.match(po)){5!==w.length&&9!==w.length||(w=w.substr(1)),4===w.length&&(w=(w=w.split(""))[0]+w[0]+w[1]+w[1]+w[2]+w[2]+w[3]+w[3]);var et=parseInt(w,16);return[et>>24&255,et>>16&255,et>>8&255,Math.round((255&et)/255*100)/100]}throw new Error("unknown hex color: "+w)},vo=nt.type;pt.prototype.hex=function(w){return rgb2hex_1(this._rgb,w)},ft.hex=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hex"])))},it.format.hex=hex2rgb_1,it.autodetect.push({p:4,test:function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];if(!Ne.length&&"string"===vo(w)&&[3,4,5,6,7,8,9].indexOf(w.length)>=0)return"hex"}});var So=nt.unpack,ea=nt.TWOPI,ta=Math.min,ia=Math.sqrt,sa=Math.acos,rgb2hsi_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt=So(w,"rgb"),rt=tt[0],nt=tt[1],it=tt[2],ot=ta(rt/=255,nt/=255,it/=255),at=(rt+nt+it)/3,st=at>0?1-ot/at:0;return 0===st?et=NaN:(et=(rt-nt+(rt-it))/2,et/=ia((rt-nt)*(rt-nt)+(rt-it)*(nt-it)),et=sa(et),it>nt&&(et=ea-et),et/=ea),[360*et,st,at]},la=nt.unpack,fa=nt.limit,ga=nt.TWOPI,_a=nt.PITHIRD,Aa=Math.cos,hsi2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt,rt,nt=(w=la(w,"hsi"))[0],it=w[1],ot=w[2];return isNaN(nt)&&(nt=0),isNaN(it)&&(it=0),nt>360&&(nt-=360),nt<0&&(nt+=360),(nt/=360)<1/3?tt=1-((rt=(1-it)/3)+(et=(1+it*Aa(ga*nt)/Aa(_a-ga*nt))/3)):nt<2/3?rt=1-((et=(1-it)/3)+(tt=(1+it*Aa(ga*(nt-=1/3))/Aa(_a-ga*nt))/3)):et=1-((tt=(1-it)/3)+(rt=(1+it*Aa(ga*(nt-=2/3))/Aa(_a-ga*nt))/3)),[255*(et=fa(ot*et*3)),255*(tt=fa(ot*tt*3)),255*(rt=fa(ot*rt*3)),w.length>3?w[3]:1]},os=nt.unpack,as=nt.type;pt.prototype.hsi=function(){return rgb2hsi_1(this._rgb)},ft.hsi=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hsi"])))},it.format.hsi=hsi2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=os(w,"hsi"),"array"===as(w)&&3===w.length)return"hsi"}});var ss=nt.unpack,ls=nt.type;pt.prototype.hsl=function(){return rgb2hsl_1(this._rgb)},ft.hsl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hsl"])))},it.format.hsl=hsl2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=ss(w,"hsl"),"array"===ls(w)&&3===w.length)return"hsl"}});var us=nt.unpack,fs=Math.min,gs=Math.max,rgb2hsv=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt,rt,nt=(w=us(w,"rgb"))[0],it=w[1],ot=w[2],at=fs(nt,it,ot),st=gs(nt,it,ot),ct=st-at;return rt=st/255,0===st?(et=Number.NaN,tt=0):(tt=ct/st,nt===st&&(et=(it-ot)/ct),it===st&&(et=2+(ot-nt)/ct),ot===st&&(et=4+(nt-it)/ct),(et*=60)<0&&(et+=360)),[et,tt,rt]},vs=nt.unpack,xs=Math.floor,hsv2rgb_1=function(){for(var w,Ne,et,tt,rt,nt,it=[],ot=arguments.length;ot--;)it[ot]=arguments[ot];var at,st,ct,pt=(it=vs(it,"hsv"))[0],ft=it[1],dt=it[2];if(dt*=255,0===ft)at=st=ct=dt;else{360===pt&&(pt=0),pt>360&&(pt-=360),pt<0&&(pt+=360);var mt=xs(pt/=60),yt=pt-mt,vt=dt*(1-ft),Rt=dt*(1-ft*yt),Ot=dt*(1-ft*(1-yt));switch(mt){case 0:at=(w=[dt,Ot,vt])[0],st=w[1],ct=w[2];break;case 1:at=(Ne=[Rt,dt,vt])[0],st=Ne[1],ct=Ne[2];break;case 2:at=(et=[vt,dt,Ot])[0],st=et[1],ct=et[2];break;case 3:at=(tt=[vt,Rt,dt])[0],st=tt[1],ct=tt[2];break;case 4:at=(rt=[Ot,vt,dt])[0],st=rt[1],ct=rt[2];break;case 5:at=(nt=[dt,vt,Rt])[0],st=nt[1],ct=nt[2]}}return[at,st,ct,it.length>3?it[3]:1]},Ss=nt.unpack,Es=nt.type;pt.prototype.hsv=function(){return rgb2hsv(this._rgb)},ft.hsv=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hsv"])))},it.format.hsv=hsv2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=Ss(w,"hsv"),"array"===Es(w)&&3===w.length)return"hsv"}});var Cs=18,Ps=.95047,As=1,zs=1.08883,Ms=.137931034,Ls=.206896552,Rs=.12841855,Os=.008856452,Fs=nt.unpack,Bs=Math.pow,rgb_xyz=function(w){return(w/=255)<=.04045?w/12.92:Bs((w+.055)/1.055,2.4)},xyz_lab=function(w){return w>Os?Bs(w,1/3):w/Rs+Ms},rgb2xyz=function(w,Ne,et){return w=rgb_xyz(w),Ne=rgb_xyz(Ne),et=rgb_xyz(et),[xyz_lab((.4124564*w+.3575761*Ne+.1804375*et)/Ps),xyz_lab((.2126729*w+.7151522*Ne+.072175*et)/As),xyz_lab((.0193339*w+.119192*Ne+.9503041*et)/zs)]},rgb2lab_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Fs(w,"rgb"),tt=et[0],rt=et[1],nt=et[2],it=rgb2xyz(tt,rt,nt),ot=it[0],at=it[1],st=it[2],ct=116*at-16;return[ct<0?0:ct,500*(ot-at),200*(at-st)]},Ns=nt.unpack,js=Math.pow,xyz_rgb=function(w){return 255*(w<=.00304?12.92*w:1.055*js(w,1/2.4)-.055)},lab_xyz=function(w){return w>Ls?w*w*w:Rs*(w-Ms)},lab2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt,rt,nt=(w=Ns(w,"lab"))[0],it=w[1],ot=w[2];return tt=(nt+16)/116,et=isNaN(it)?tt:tt+it/500,rt=isNaN(ot)?tt:tt-ot/200,tt=As*lab_xyz(tt),et=Ps*lab_xyz(et),rt=zs*lab_xyz(rt),[xyz_rgb(3.2404542*et-1.5371385*tt-.4985314*rt),xyz_rgb(-.969266*et+1.8760108*tt+.041556*rt),xyz_rgb(.0556434*et-.2040259*tt+1.0572252*rt),w.length>3?w[3]:1]},Vs=nt.unpack,Us=nt.type;pt.prototype.lab=function(){return rgb2lab_1(this._rgb)},ft.lab=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["lab"])))},it.format.lab=lab2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=Vs(w,"lab"),"array"===Us(w)&&3===w.length)return"lab"}});var Zs=nt.unpack,Js=nt.RAD2DEG,tl=Math.sqrt,ol=Math.atan2,sl=Math.round,lab2lch_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Zs(w,"lab"),tt=et[0],rt=et[1],nt=et[2],it=tl(rt*rt+nt*nt),ot=(ol(nt,rt)*Js+360)%360;return 0===sl(1e4*it)&&(ot=Number.NaN),[tt,it,ot]},dl=nt.unpack,rgb2lch_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=dl(w,"rgb"),tt=et[0],rt=et[1],nt=et[2],it=rgb2lab_1(tt,rt,nt),ot=it[0],at=it[1],st=it[2];return lab2lch_1(ot,at,st)},gl=nt.unpack,yl=nt.DEG2RAD,vl=Math.sin,_l=Math.cos,lch2lab_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=gl(w,"lch"),tt=et[0],rt=et[1],nt=et[2];return isNaN(nt)&&(nt=0),[tt,_l(nt*=yl)*rt,vl(nt)*rt]},bl=nt.unpack,lch2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=(w=bl(w,"lch"))[0],tt=w[1],rt=w[2],nt=lch2lab_1(et,tt,rt),it=nt[0],ot=nt[1],at=nt[2],st=lab2rgb_1(it,ot,at),ct=st[0],pt=st[1],ft=st[2];return[ct,pt,ft,w.length>3?w[3]:1]},xl=nt.unpack,hcl2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=xl(w,"hcl").reverse();return lch2rgb_1.apply(void 0,et)},wl=nt.unpack,kl=nt.type;pt.prototype.lch=function(){return rgb2lch_1(this._rgb)},pt.prototype.hcl=function(){return rgb2lch_1(this._rgb).reverse()},ft.lch=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["lch"])))},ft.hcl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hcl"])))},it.format.lch=lch2rgb_1,it.format.hcl=hcl2rgb_1,["lch","hcl"].forEach((function(w){return it.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=wl(Ne,w),"array"===kl(Ne)&&3===Ne.length)return w}})}));var Sl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Cl=nt.type;pt.prototype.name=function(){for(var w=rgb2hex_1(this._rgb,"rgb"),Ne=0,et=Object.keys(Sl);Ne<et.length;Ne+=1){var tt=et[Ne];if(Sl[tt]===w)return tt.toLowerCase()}return w},it.format.named=function(w){if(w=w.toLowerCase(),Sl[w])return hex2rgb_1(Sl[w]);throw new Error("unknown color name: "+w)},it.autodetect.push({p:5,test:function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];if(!Ne.length&&"string"===Cl(w)&&Sl[w.toLowerCase()])return"named"}});var Il=nt.unpack,rgb2num_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Il(w,"rgb"),tt=et[0],rt=et[1],nt=et[2];return(tt<<16)+(rt<<8)+nt},Al=nt.type,num2rgb_1=function(w){if("number"==Al(w)&&w>=0&&w<=16777215)return[w>>16,w>>8&255,255&w,1];throw new Error("unknown num color: "+w)},zl=nt.type;pt.prototype.num=function(){return rgb2num_1(this._rgb)},ft.num=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["num"])))},it.format.num=num2rgb_1,it.autodetect.push({p:5,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(1===w.length&&"number"===zl(w[0])&&w[0]>=0&&w[0]<=16777215)return"num"}});var Fl=nt.unpack,Hl=nt.type,du=Math.round;pt.prototype.rgb=function(w){return void 0===w&&(w=!0),!1===w?this._rgb.slice(0,3):this._rgb.slice(0,3).map(du)},pt.prototype.rgba=function(w){return void 0===w&&(w=!0),this._rgb.slice(0,4).map((function(Ne,et){return et<3?!1===w?Ne:du(Ne):Ne}))},ft.rgb=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["rgb"])))},it.format.rgb=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Fl(w,"rgba");return void 0===et[3]&&(et[3]=1),et},it.autodetect.push({p:3,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=Fl(w,"rgba"),"array"===Hl(w)&&(3===w.length||4===w.length&&"number"==Hl(w[3])&&w[3]>=0&&w[3]<=1))return"rgb"}});var vu=Math.log,temperature2rgb_1=function(w){var Ne,et,tt,rt=w/100;return rt<66?(Ne=255,et=-155.25485562709179-.44596950469579133*(et=rt-2)+104.49216199393888*vu(et),tt=rt<20?0:.8274096064007395*(tt=rt-10)-254.76935184120902+115.67994401066147*vu(tt)):(Ne=351.97690566805693+.114206453784165*(Ne=rt-55)-40.25366309332127*vu(Ne),et=325.4494125711974+.07943456536662342*(et=rt-50)-28.0852963507957*vu(et),tt=255),[Ne,et,tt,1]},_u=nt.unpack,wu=Math.round,rgb2temperature_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];for(var et,tt=_u(w,"rgb"),rt=tt[0],nt=tt[2],it=1e3,ot=4e4,at=.4;ot-it>at;){var st=temperature2rgb_1(et=.5*(ot+it));st[2]/st[0]>=nt/rt?ot=et:it=et}return wu(et)};pt.prototype.temp=pt.prototype.kelvin=pt.prototype.temperature=function(){return rgb2temperature_1(this._rgb)},ft.temp=ft.kelvin=ft.temperature=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["temp"])))},it.format.temp=it.format.kelvin=it.format.temperature=temperature2rgb_1;var Tu=nt.type;pt.prototype.alpha=function(w,Ne){return void 0===Ne&&(Ne=!1),void 0!==w&&"number"===Tu(w)?Ne?(this._rgb[3]=w,this):new pt([this._rgb[0],this._rgb[1],this._rgb[2],w],"rgb"):this._rgb[3]},pt.prototype.clipped=function(){return this._rgb._clipped||!1},pt.prototype.darken=function(w){void 0===w&&(w=1);var Ne=this.lab();return Ne[0]-=Cs*w,new pt(Ne,"lab").alpha(this.alpha(),!0)},pt.prototype.brighten=function(w){return void 0===w&&(w=1),this.darken(-w)},pt.prototype.darker=pt.prototype.darken,pt.prototype.brighter=pt.prototype.brighten,pt.prototype.get=function(w){var Ne=w.split("."),et=Ne[0],tt=Ne[1],rt=this[et]();if(tt){var nt=et.indexOf(tt);if(nt>-1)return rt[nt];throw new Error("unknown channel "+tt+" in mode "+et)}return rt};var Fu=nt.type,ac=Math.pow;pt.prototype.luminance=function(w){if(void 0!==w&&"number"===Fu(w)){if(0===w)return new pt([0,0,0,this._rgb[3]],"rgb");if(1===w)return new pt([255,255,255,this._rgb[3]],"rgb");var Ne=this.luminance(),et=20,test=function(Ne,tt){var rt=Ne.interpolate(tt,.5,"rgb"),nt=rt.luminance();return Math.abs(w-nt)<1e-7||!et--?rt:nt>w?test(Ne,rt):test(rt,tt)},tt=(Ne>w?test(new pt([0,0,0]),this):test(this,new pt([255,255,255]))).rgb();return new pt(tt.concat([this._rgb[3]]))}return rgb2luminance.apply(void 0,this._rgb.slice(0,3))};var rgb2luminance=function(w,Ne,et){return.2126*(w=luminance_x(w))+.7152*(Ne=luminance_x(Ne))+.0722*(et=luminance_x(et))},luminance_x=function(w){return(w/=255)<=.03928?w/12.92:ac((w+.055)/1.055,2.4)},pc={},yc=nt.type,mix=function(w,Ne,et){void 0===et&&(et=.5);for(var tt=[],rt=arguments.length-3;rt-- >0;)tt[rt]=arguments[rt+3];var nt=tt[0]||"lrgb";if(pc[nt]||tt.length||(nt=Object.keys(pc)[0]),!pc[nt])throw new Error("interpolation mode "+nt+" is not defined");return"object"!==yc(w)&&(w=new pt(w)),"object"!==yc(Ne)&&(Ne=new pt(Ne)),pc[nt](w,Ne,et).alpha(w.alpha()+et*(Ne.alpha()-w.alpha()))};pt.prototype.mix=pt.prototype.interpolate=function(w,Ne){void 0===Ne&&(Ne=.5);for(var et=[],tt=arguments.length-2;tt-- >0;)et[tt]=arguments[tt+2];return mix.apply(void 0,[this,w,Ne].concat(et))},pt.prototype.premultiply=function(w){void 0===w&&(w=!1);var Ne=this._rgb,et=Ne[3];return w?(this._rgb=[Ne[0]*et,Ne[1]*et,Ne[2]*et,et],this):new pt([Ne[0]*et,Ne[1]*et,Ne[2]*et,et],"rgb")},pt.prototype.saturate=function(w){void 0===w&&(w=1);var Ne=this.lch();return Ne[1]+=Cs*w,Ne[1]<0&&(Ne[1]=0),new pt(Ne,"lch").alpha(this.alpha(),!0)},pt.prototype.desaturate=function(w){return void 0===w&&(w=1),this.saturate(-w)};var _c=nt.type;pt.prototype.set=function(w,Ne,et){void 0===et&&(et=!1);var tt=w.split("."),rt=tt[0],nt=tt[1],it=this[rt]();if(nt){var ot=rt.indexOf(nt);if(ot>-1){if("string"==_c(Ne))switch(Ne.charAt(0)){case"+":case"-":it[ot]+=+Ne;break;case"*":it[ot]*=+Ne.substr(1);break;case"/":it[ot]/=+Ne.substr(1);break;default:it[ot]=+Ne}else{if("number"!==_c(Ne))throw new Error("unsupported value for Color.set");it[ot]=Ne}var at=new pt(it,rt);return et?(this._rgb=at._rgb,this):at}throw new Error("unknown channel "+nt+" in mode "+rt)}return it},pc.rgb=function(w,Ne,et){var tt=w._rgb,rt=Ne._rgb;return new pt(tt[0]+et*(rt[0]-tt[0]),tt[1]+et*(rt[1]-tt[1]),tt[2]+et*(rt[2]-tt[2]),"rgb")};var bc=Math.sqrt,xc=Math.pow;pc.lrgb=function(w,Ne,et){var tt=w._rgb,rt=tt[0],nt=tt[1],it=tt[2],ot=Ne._rgb,at=ot[0],st=ot[1],ct=ot[2];return new pt(bc(xc(rt,2)*(1-et)+xc(at,2)*et),bc(xc(nt,2)*(1-et)+xc(st,2)*et),bc(xc(it,2)*(1-et)+xc(ct,2)*et),"rgb")},pc.lab=function(w,Ne,et){var tt=w.lab(),rt=Ne.lab();return new pt(tt[0]+et*(rt[0]-tt[0]),tt[1]+et*(rt[1]-tt[1]),tt[2]+et*(rt[2]-tt[2]),"lab")};var _hsx=function(w,Ne,et,tt){var rt,nt,it,ot,at,st,ct,ft,dt,mt,yt,vt;return"hsl"===tt?(it=w.hsl(),ot=Ne.hsl()):"hsv"===tt?(it=w.hsv(),ot=Ne.hsv()):"hcg"===tt?(it=w.hcg(),ot=Ne.hcg()):"hsi"===tt?(it=w.hsi(),ot=Ne.hsi()):"lch"!==tt&&"hcl"!==tt||(tt="hcl",it=w.hcl(),ot=Ne.hcl()),"h"===tt.substr(0,1)&&(at=(rt=it)[0],ct=rt[1],dt=rt[2],st=(nt=ot)[0],ft=nt[1],mt=nt[2]),isNaN(at)||isNaN(st)?isNaN(at)?isNaN(st)?vt=Number.NaN:(vt=st,1!=dt&&0!=dt||"hsv"==tt||(yt=ft)):(vt=at,1!=mt&&0!=mt||"hsv"==tt||(yt=ct)):vt=at+et*(st>at&&st-at>180?st-(at+360):st<at&&at-st>180?st+360-at:st-at),void 0===yt&&(yt=ct+et*(ft-ct)),new pt([vt,yt,dt+et*(mt-dt)],tt)},lch$1=function(w,Ne,et){return _hsx(w,Ne,et,"lch")};pc.lch=lch$1,pc.hcl=lch$1,pc.num=function(w,Ne,et){var tt=w.num(),rt=Ne.num();return new pt(tt+et*(rt-tt),"num")},pc.hcg=function(w,Ne,et){return _hsx(w,Ne,et,"hcg")},pc.hsi=function(w,Ne,et){return _hsx(w,Ne,et,"hsi")},pc.hsl=function(w,Ne,et){return _hsx(w,Ne,et,"hsl")},pc.hsv=function(w,Ne,et){return _hsx(w,Ne,et,"hsv")};var wc=nt.clip_rgb,kc=Math.pow,Ec=Math.sqrt,Cc=Math.PI,Ic=Math.cos,Ac=Math.sin,zc=Math.atan2,_average_lrgb=function(w,Ne){for(var et=w.length,tt=[0,0,0,0],rt=0;rt<w.length;rt++){var nt=w[rt],it=Ne[rt]/et,ot=nt._rgb;tt[0]+=kc(ot[0],2)*it,tt[1]+=kc(ot[1],2)*it,tt[2]+=kc(ot[2],2)*it,tt[3]+=ot[3]*it}return tt[0]=Ec(tt[0]),tt[1]=Ec(tt[1]),tt[2]=Ec(tt[2]),tt[3]>.9999999&&(tt[3]=1),new pt(wc(tt))},Dc=nt.type,Fc=Math.pow,scale=function(w){var Ne="rgb",et=ft("#ccc"),tt=0,rt=[0,1],nt=[],it=[0,0],ot=!1,at=[],st=!1,ct=0,pt=1,dt=!1,mt={},yt=!0,vt=1,setColors=function(w){if((w=w||["#fff","#000"])&&"string"===Dc(w)&&ft.brewer&&ft.brewer[w.toLowerCase()]&&(w=ft.brewer[w.toLowerCase()]),"array"===Dc(w)){1===w.length&&(w=[w[0],w[0]]),w=w.slice(0);for(var Ne=0;Ne<w.length;Ne++)w[Ne]=ft(w[Ne]);nt.length=0;for(var et=0;et<w.length;et++)nt.push(et/(w.length-1))}return resetCache(),at=w},tMapLightness=function(w){return w},tMapDomain=function(w){return w},getColor=function(w,tt){var rt,st;if(null==tt&&(tt=!1),isNaN(w)||null===w)return et;st=tt?w:ot&&ot.length>2?function(w){if(null!=ot){for(var Ne=ot.length-1,et=0;et<Ne&&w>=ot[et];)et++;return et-1}return 0}(w)/(ot.length-2):pt!==ct?(w-ct)/(pt-ct):1,st=tMapDomain(st),tt||(st=tMapLightness(st)),1!==vt&&(st=Fc(st,vt)),st=it[0]+st*(1-it[0]-it[1]),st=Math.min(1,Math.max(0,st));var dt=Math.floor(1e4*st);if(yt&&mt[dt])rt=mt[dt];else{if("array"===Dc(at))for(var Rt=0;Rt<nt.length;Rt++){var Ot=nt[Rt];if(st<=Ot){rt=at[Rt];break}if(st>=Ot&&Rt===nt.length-1){rt=at[Rt];break}if(st>Ot&&st<nt[Rt+1]){st=(st-Ot)/(nt[Rt+1]-Ot),rt=ft.interpolate(at[Rt],at[Rt+1],st,Ne);break}}else"function"===Dc(at)&&(rt=at(st));yt&&(mt[dt]=rt)}return rt},resetCache=function(){return mt={}};setColors(w);var f=function(w){var Ne=ft(getColor(w));return st&&Ne[st]?Ne[st]():Ne};return f.classes=function(w){if(null!=w){if("array"===Dc(w))ot=w,rt=[w[0],w[w.length-1]];else{var Ne=ft.analyze(rt);ot=0===w?[Ne.min,Ne.max]:ft.limits(Ne,"e",w)}return f}return ot},f.domain=function(w){if(!arguments.length)return rt;ct=w[0],pt=w[w.length-1],nt=[];var Ne=at.length;if(w.length===Ne&&ct!==pt)for(var et=0,tt=Array.from(w);et<tt.length;et+=1){var it=tt[et];nt.push((it-ct)/(pt-ct))}else{for(var ot=0;ot<Ne;ot++)nt.push(ot/(Ne-1));if(w.length>2){var st=w.map((function(Ne,et){return et/(w.length-1)})),ft=w.map((function(w){return(w-ct)/(pt-ct)}));ft.every((function(w,Ne){return st[Ne]===w}))||(tMapDomain=function(w){if(w<=0||w>=1)return w;for(var Ne=0;w>=ft[Ne+1];)Ne++;var et=(w-ft[Ne])/(ft[Ne+1]-ft[Ne]);return st[Ne]+et*(st[Ne+1]-st[Ne])})}}return rt=[ct,pt],f},f.mode=function(w){return arguments.length?(Ne=w,resetCache(),f):Ne},f.range=function(w,Ne){return setColors(w),f},f.out=function(w){return st=w,f},f.spread=function(w){return arguments.length?(tt=w,f):tt},f.correctLightness=function(w){return null==w&&(w=!0),dt=w,resetCache(),tMapLightness=dt?function(w){for(var Ne=getColor(0,!0).lab()[0],et=getColor(1,!0).lab()[0],tt=Ne>et,rt=getColor(w,!0).lab()[0],nt=Ne+(et-Ne)*w,it=rt-nt,ot=0,at=1,st=20;Math.abs(it)>.01&&st-- >0;)tt&&(it*=-1),it<0?(ot=w,w+=.5*(at-w)):(at=w,w+=.5*(ot-w)),rt=getColor(w,!0).lab()[0],it=rt-nt;return w}:function(w){return w},f},f.padding=function(w){return null!=w?("number"===Dc(w)&&(w=[w,w]),it=w,f):it},f.colors=function(Ne,et){arguments.length<2&&(et="hex");var tt=[];if(0===arguments.length)tt=at.slice(0);else if(1===Ne)tt=[f(.5)];else if(Ne>1){var nt=rt[0],it=rt[1]-nt;tt=__range__(0,Ne,!1).map((function(w){return f(nt+w/(Ne-1)*it)}))}else{w=[];var st=[];if(ot&&ot.length>2)for(var ct=1,pt=ot.length,dt=1<=pt;dt?ct<pt:ct>pt;dt?ct++:ct--)st.push(.5*(ot[ct-1]+ot[ct]));else st=rt;tt=st.map((function(w){return f(w)}))}return ft[et]&&(tt=tt.map((function(w){return w[et]()}))),tt},f.cache=function(w){return null!=w?(yt=w,f):yt},f.gamma=function(w){return null!=w?(vt=w,f):vt},f.nodata=function(w){return null!=w?(et=ft(w),f):et},f};function __range__(w,Ne,et){for(var tt=[],rt=w<Ne,nt=et?rt?Ne+1:Ne-1:Ne,it=w;rt?it<nt:it>nt;rt?it++:it--)tt.push(it);return tt}var bezier=function(w){var Ne,et,tt,rt,nt,it,ot;if(2===(w=w.map((function(w){return new pt(w)}))).length)Ne=w.map((function(w){return w.lab()})),nt=Ne[0],it=Ne[1],rt=function(w){var Ne=[0,1,2].map((function(Ne){return nt[Ne]+w*(it[Ne]-nt[Ne])}));return new pt(Ne,"lab")};else if(3===w.length)et=w.map((function(w){return w.lab()})),nt=et[0],it=et[1],ot=et[2],rt=function(w){var Ne=[0,1,2].map((function(Ne){return(1-w)*(1-w)*nt[Ne]+2*(1-w)*w*it[Ne]+w*w*ot[Ne]}));return new pt(Ne,"lab")};else if(4===w.length){var at;tt=w.map((function(w){return w.lab()})),nt=tt[0],it=tt[1],ot=tt[2],at=tt[3],rt=function(w){var Ne=[0,1,2].map((function(Ne){return(1-w)*(1-w)*(1-w)*nt[Ne]+3*(1-w)*(1-w)*w*it[Ne]+3*(1-w)*w*w*ot[Ne]+w*w*w*at[Ne]}));return new pt(Ne,"lab")}}else if(5===w.length){var st=bezier(w.slice(0,3)),ct=bezier(w.slice(2,5));rt=function(w){return w<.5?st(2*w):ct(2*(w-.5))}}return rt},blend=function(w,Ne,et){if(!blend[et])throw new Error("unknown blend mode "+et);return blend[et](w,Ne)},blend_f=function(w){return function(Ne,et){var tt=ft(et).rgb(),rt=ft(Ne).rgb();return ft.rgb(w(tt,rt))}},each=function(w){return function(Ne,et){var tt=[];return tt[0]=w(Ne[0],et[0]),tt[1]=w(Ne[1],et[1]),tt[2]=w(Ne[2],et[2]),tt}};blend.normal=blend_f(each((function(w){return w}))),blend.multiply=blend_f(each((function(w,Ne){return w*Ne/255}))),blend.screen=blend_f(each((function(w,Ne){return 255*(1-(1-w/255)*(1-Ne/255))}))),blend.overlay=blend_f(each((function(w,Ne){return Ne<128?2*w*Ne/255:255*(1-2*(1-w/255)*(1-Ne/255))}))),blend.darken=blend_f(each((function(w,Ne){return w>Ne?Ne:w}))),blend.lighten=blend_f(each((function(w,Ne){return w>Ne?w:Ne}))),blend.dodge=blend_f(each((function(w,Ne){return 255===w||(w=Ne/255*255/(1-w/255))>255?255:w}))),blend.burn=blend_f(each((function(w,Ne){return 255*(1-(1-Ne/255)/(w/255))})));for(var Bc=blend,Wc=nt.type,Gc=nt.clip_rgb,Zc=nt.TWOPI,Hc=Math.pow,$c=Math.sin,Xc=Math.cos,Yc=Math.floor,rp=Math.random,ip=Math.log,op=Math.pow,ap=Math.floor,sp=Math.abs,analyze=function(w,Ne){void 0===Ne&&(Ne=null);var et={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===type(w)&&(w=Object.values(w)),w.forEach((function(w){Ne&&"object"===type(w)&&(w=w[Ne]),null==w||isNaN(w)||(et.values.push(w),et.sum+=w,w<et.min&&(et.min=w),w>et.max&&(et.max=w),et.count+=1)})),et.domain=[et.min,et.max],et.limits=function(w,Ne){return limits(et,w,Ne)},et},limits=function(w,Ne,et){void 0===Ne&&(Ne="equal"),void 0===et&&(et=7),"array"==type(w)&&(w=analyze(w));var tt=w.min,rt=w.max,nt=w.values.sort((function(w,Ne){return w-Ne}));if(1===et)return[tt,rt];var it=[];if("c"===Ne.substr(0,1)&&(it.push(tt),it.push(rt)),"e"===Ne.substr(0,1)){it.push(tt);for(var ot=1;ot<et;ot++)it.push(tt+ot/et*(rt-tt));it.push(rt)}else if("l"===Ne.substr(0,1)){if(tt<=0)throw new Error("Logarithmic scales are only possible for values > 0");var at=Math.LOG10E*ip(tt),st=Math.LOG10E*ip(rt);it.push(tt);for(var ct=1;ct<et;ct++)it.push(op(10,at+ct/et*(st-at)));it.push(rt)}else if("q"===Ne.substr(0,1)){it.push(tt);for(var pt=1;pt<et;pt++){var ft=(nt.length-1)*pt/et,dt=ap(ft);if(dt===ft)it.push(nt[dt]);else{var mt=ft-dt;it.push(nt[dt]*(1-mt)+nt[dt+1]*mt)}}it.push(rt)}else if("k"===Ne.substr(0,1)){var yt,vt=nt.length,Rt=new Array(vt),Ot=new Array(et),Dt=!0,Bt=0,er=null;(er=[]).push(tt);for(var rr=1;rr<et;rr++)er.push(tt+rr/et*(rt-tt));for(er.push(rt);Dt;){for(var vr=0;vr<et;vr++)Ot[vr]=0;for(var wr=0;wr<vt;wr++)for(var Sr=nt[wr],rn=Number.MAX_VALUE,vn=void 0,bn=0;bn<et;bn++){var Tn=sp(er[bn]-Sr);Tn<rn&&(rn=Tn,vn=bn),Ot[vn]++,Rt[wr]=vn}for(var Cn=new Array(et),In=0;In<et;In++)Cn[In]=null;for(var zn=0;zn<vt;zn++)null===Cn[yt=Rt[zn]]?Cn[yt]=nt[zn]:Cn[yt]+=nt[zn];for(var Mn=0;Mn<et;Mn++)Cn[Mn]*=1/Ot[Mn];Dt=!1;for(var Ln=0;Ln<et;Ln++)if(Cn[Ln]!==er[Ln]){Dt=!0;break}er=Cn,++Bt>200&&(Dt=!1)}for(var Fn={},Bn=0;Bn<et;Bn++)Fn[Bn]=[];for(var Nn=0;Nn<vt;Nn++)Fn[yt=Rt[Nn]].push(nt[Nn]);for(var Vn=[],Wn=0;Wn<et;Wn++)Vn.push(Fn[Wn][0]),Vn.push(Fn[Wn][Fn[Wn].length-1]);Vn=Vn.sort((function(w,Ne){return w-Ne})),it.push(Vn[0]);for(var $n=1;$n<Vn.length;$n+=2){var Yn=Vn[$n];isNaN(Yn)||-1!==it.indexOf(Yn)||it.push(Yn)}}return it},lp={analyze:analyze,limits:limits},cp=Math.sqrt,pp=Math.atan2,hp=Math.abs,fp=Math.cos,dp=Math.PI,mp={cool:function cool(){return scale([ft.hsl(180,1,.9),ft.hsl(250,.7,.4)])},hot:function hot(){return scale(["#000","#f00","#ff0","#fff"]).mode("rgb")}},gp={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},yp=0,vp=Object.keys(gp);yp<vp.length;yp+=1){var _p=vp[yp];gp[_p.toLowerCase()]=gp[_p]}var bp=gp;return ft.average=function(w,Ne,et){void 0===Ne&&(Ne="lrgb"),void 0===et&&(et=null);var tt=w.length;et||(et=Array.from(new Array(tt)).map((function(){return 1})));var rt=tt/et.reduce((function(w,Ne){return w+Ne}));if(et.forEach((function(w,Ne){et[Ne]*=rt})),w=w.map((function(w){return new pt(w)})),"lrgb"===Ne)return _average_lrgb(w,et);for(var nt=w.shift(),it=nt.get(Ne),ot=[],at=0,st=0,ct=0;ct<it.length;ct++)if(it[ct]=(it[ct]||0)*et[0],ot.push(isNaN(it[ct])?0:et[0]),"h"===Ne.charAt(ct)&&!isNaN(it[ct])){var ft=it[ct]/180*Cc;at+=Ic(ft)*et[0],st+=Ac(ft)*et[0]}var dt=nt.alpha()*et[0];w.forEach((function(w,tt){var rt=w.get(Ne);dt+=w.alpha()*et[tt+1];for(var nt=0;nt<it.length;nt++)if(!isNaN(rt[nt]))if(ot[nt]+=et[tt+1],"h"===Ne.charAt(nt)){var ct=rt[nt]/180*Cc;at+=Ic(ct)*et[tt+1],st+=Ac(ct)*et[tt+1]}else it[nt]+=rt[nt]*et[tt+1]}));for(var mt=0;mt<it.length;mt++)if("h"===Ne.charAt(mt)){for(var yt=zc(st/ot[mt],at/ot[mt])/Cc*180;yt<0;)yt+=360;for(;yt>=360;)yt-=360;it[mt]=yt}else it[mt]=it[mt]/ot[mt];return dt/=tt,new pt(it,Ne).alpha(dt>.99999?1:dt,!0)},ft.bezier=function(w){var Ne=bezier(w);return Ne.scale=function(){return scale(Ne)},Ne},ft.blend=Bc,ft.cubehelix=function(w,Ne,et,tt,rt){void 0===w&&(w=300),void 0===Ne&&(Ne=-1.5),void 0===et&&(et=1),void 0===tt&&(tt=1),void 0===rt&&(rt=[0,1]);var nt,it=0;"array"===Wc(rt)?nt=rt[1]-rt[0]:(nt=0,rt=[rt,rt]);var f=function(ot){var at=Zc*((w+120)/360+Ne*ot),st=Hc(rt[0]+nt*ot,tt),ct=(0!==it?et[0]+ot*it:et)*st*(1-st)/2,pt=Xc(at),dt=$c(at);return ft(Gc([255*(st+ct*(-.14861*pt+1.78277*dt)),255*(st+ct*(-.29227*pt-.90649*dt)),255*(st+ct*(1.97294*pt)),1]))};return f.start=function(Ne){return null==Ne?w:(w=Ne,f)},f.rotations=function(w){return null==w?Ne:(Ne=w,f)},f.gamma=function(w){return null==w?tt:(tt=w,f)},f.hue=function(w){return null==w?et:("array"===Wc(et=w)?0==(it=et[1]-et[0])&&(et=et[1]):it=0,f)},f.lightness=function(w){return null==w?rt:("array"===Wc(w)?(rt=w,nt=w[1]-w[0]):(rt=[w,w],nt=0),f)},f.scale=function(){return ft.scale(f)},f.hue(et),f},ft.mix=ft.interpolate=mix,ft.random=function(){for(var w="#",Ne=0;Ne<6;Ne++)w+="0123456789abcdef".charAt(Yc(16*rp()));return new pt(w,"hex")},ft.scale=scale,ft.analyze=lp.analyze,ft.contrast=function(w,Ne){w=new pt(w),Ne=new pt(Ne);var et=w.luminance(),tt=Ne.luminance();return et>tt?(et+.05)/(tt+.05):(tt+.05)/(et+.05)},ft.deltaE=function(w,Ne,et,tt){void 0===et&&(et=1),void 0===tt&&(tt=1),w=new pt(w),Ne=new pt(Ne);for(var rt=Array.from(w.lab()),nt=rt[0],it=rt[1],ot=rt[2],at=Array.from(Ne.lab()),st=at[0],ct=at[1],ft=at[2],dt=cp(it*it+ot*ot),mt=cp(ct*ct+ft*ft),yt=nt<16?.511:.040975*nt/(1+.01765*nt),vt=.0638*dt/(1+.0131*dt)+.638,Rt=dt<1e-6?0:180*pp(ot,it)/dp;Rt<0;)Rt+=360;for(;Rt>=360;)Rt-=360;var Ot=Rt>=164&&Rt<=345?.56+hp(.2*fp(dp*(Rt+168)/180)):.36+hp(.4*fp(dp*(Rt+35)/180)),Dt=dt*dt*dt*dt,Bt=cp(Dt/(Dt+1900)),er=vt*(Bt*Ot+1-Bt),rr=dt-mt,vr=it-ct,wr=ot-ft,Sr=(nt-st)/(et*yt),rn=rr/(tt*vt);return cp(Sr*Sr+rn*rn+(vr*vr+wr*wr-rr*rr)/(er*er))},ft.distance=function(w,Ne,et){void 0===et&&(et="lab"),w=new pt(w),Ne=new pt(Ne);var tt=w.get(et),rt=Ne.get(et),nt=0;for(var it in tt){var ot=(tt[it]||0)-(rt[it]||0);nt+=ot*ot}return Math.sqrt(nt)},ft.limits=lp.limits,ft.valid=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];try{return new(Function.prototype.bind.apply(pt,[null].concat(w))),!0}catch(w){return!1}},ft.scales=mp,ft.colors=Sl,ft.brewer=bp,ft}()},function(w,Ne,et){w.exports=function(){"use strict";var w,Ne,et;function define(tt,rt){if(w)if(Ne){var nt="var sharedChunk = {}; ("+w+")(sharedChunk); ("+Ne+")(sharedChunk);",it={};w(it),et=rt(it),"undefined"!=typeof window&&(et.workerUrl=window.URL.createObjectURL(new Blob([nt],{type:"text/javascript"})))}else Ne=rt;else w=rt}return define(0,(function(w){function e(w,Ne){return w(Ne={exports:{}},Ne.exports),Ne.exports}var Ne=n;function n(w,Ne,et,tt){this.cx=3*w,this.bx=3*(et-w)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*Ne,this.by=3*(tt-Ne)-this.cy,this.ay=1-this.cy-this.by,this.p1x=w,this.p1y=tt,this.p2x=et,this.p2y=tt}n.prototype.sampleCurveX=function(w){return((this.ax*w+this.bx)*w+this.cx)*w},n.prototype.sampleCurveY=function(w){return((this.ay*w+this.by)*w+this.cy)*w},n.prototype.sampleCurveDerivativeX=function(w){return(3*this.ax*w+2*this.bx)*w+this.cx},n.prototype.solveCurveX=function(w,Ne){var et,tt,rt,nt,it;for(void 0===Ne&&(Ne=1e-6),rt=w,it=0;it<8;it++){if(nt=this.sampleCurveX(rt)-w,Math.abs(nt)<Ne)return rt;var ot=this.sampleCurveDerivativeX(rt);if(Math.abs(ot)<1e-6)break;rt-=nt/ot}if((rt=w)<(et=0))return et;if(rt>(tt=1))return tt;for(;et<tt;){if(nt=this.sampleCurveX(rt),Math.abs(nt-w)<Ne)return rt;w>nt?et=rt:tt=rt,rt=.5*(tt-et)+et}return rt},n.prototype.solve=function(w,Ne){return this.sampleCurveY(this.solveCurveX(w,Ne))};var et=a;function a(w,Ne){this.x=w,this.y=Ne}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(w){return this.clone()._add(w)},sub:function(w){return this.clone()._sub(w)},multByPoint:function(w){return this.clone()._multByPoint(w)},divByPoint:function(w){return this.clone()._divByPoint(w)},mult:function(w){return this.clone()._mult(w)},div:function(w){return this.clone()._div(w)},rotate:function(w){return this.clone()._rotate(w)},rotateAround:function(w,Ne){return this.clone()._rotateAround(w,Ne)},matMult:function(w){return this.clone()._matMult(w)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(w){return this.x===w.x&&this.y===w.y},dist:function(w){return Math.sqrt(this.distSqr(w))},distSqr:function(w){var Ne=w.x-this.x,et=w.y-this.y;return Ne*Ne+et*et},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(w){return Math.atan2(this.y-w.y,this.x-w.x)},angleWith:function(w){return this.angleWithSep(w.x,w.y)},angleWithSep:function(w,Ne){return Math.atan2(this.x*Ne-this.y*w,this.x*w+this.y*Ne)},_matMult:function(w){var Ne=w[2]*this.x+w[3]*this.y;return this.x=w[0]*this.x+w[1]*this.y,this.y=Ne,this},_add:function(w){return this.x+=w.x,this.y+=w.y,this},_sub:function(w){return this.x-=w.x,this.y-=w.y,this},_mult:function(w){return this.x*=w,this.y*=w,this},_div:function(w){return this.x/=w,this.y/=w,this},_multByPoint:function(w){return this.x*=w.x,this.y*=w.y,this},_divByPoint:function(w){return this.x/=w.x,this.y/=w.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var w=this.y;return this.y=this.x,this.x=-w,this},_rotate:function(w){var Ne=Math.cos(w),et=Math.sin(w),tt=et*this.x+Ne*this.y;return this.x=Ne*this.x-et*this.y,this.y=tt,this},_rotateAround:function(w,Ne){var et=Math.cos(w),tt=Math.sin(w),rt=Ne.y+tt*(this.x-Ne.x)+et*(this.y-Ne.y);return this.x=Ne.x+et*(this.x-Ne.x)-tt*(this.y-Ne.y),this.y=rt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(w){return w instanceof a?w:Array.isArray(w)?new a(w[0],w[1]):w};var tt="undefined"!=typeof self?self:{};function s(w,et,tt,rt){var nt=new Ne(w,et,tt,rt);return function(w){return nt.solve(w)}}var rt=s(.25,.1,.25,1);function l(w,Ne,et){return Math.min(et,Math.max(Ne,w))}function p(w,Ne,et){var tt=et-Ne,rt=((w-Ne)%tt+tt)%tt+Ne;return rt===Ne?et:rt}function c(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];for(var tt=0,rt=Ne;tt<rt.length;tt+=1){var nt=rt[tt];for(var it in nt)w[it]=nt[it]}return w}var nt=1;function f(){return nt++}function y(){return function t(w){return w?(w^16*Math.random()>>w/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(w){return!!w&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(w)}function m(w,Ne){w.forEach((function(w){Ne[w]&&(Ne[w]=Ne[w].bind(Ne))}))}function v(w,Ne){return-1!==w.indexOf(Ne,w.length-Ne.length)}function g(w,Ne,et){var tt={};for(var rt in w)tt[rt]=Ne.call(et||this,w[rt],rt,w);return tt}function x(w,Ne,et){var tt={};for(var rt in w)Ne.call(et||this,w[rt],rt,w)&&(tt[rt]=w[rt]);return tt}function b(w){return Array.isArray(w)?w.map(b):"object"==typeof w&&w?g(w,b):w}var it={};function _(w){it[w]||("undefined"!=typeof console&&console.warn(w),it[w]=!0)}function A(w,Ne,et){return(et.y-w.y)*(Ne.x-w.x)>(Ne.y-w.y)*(et.x-w.x)}function S(w){for(var Ne=0,et=0,tt=w.length,rt=tt-1,nt=void 0,it=void 0;et<tt;rt=et++)Ne+=((it=w[rt]).x-(nt=w[et]).x)*(nt.y+it.y);return Ne}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function I(w){var Ne={};if(w.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(w,et,tt,rt){var nt=tt||rt;return Ne[et]=!nt||nt.toLowerCase(),""})),Ne["max-age"]){var et=parseInt(Ne["max-age"],10);isNaN(et)?delete Ne["max-age"]:Ne["max-age"]=et}return Ne}var ot=null;function C(w){if(null==ot){var Ne=w.navigator?w.navigator.userAgent:null;ot=!!w.safari||!(!Ne||!(/\b(iPad|iPhone|iPod)\b/.test(Ne)||Ne.match("Safari")&&!Ne.match("Chrome")))}return ot}function M(w){try{var Ne=tt[w];return Ne.setItem("_mapbox_test_",1),Ne.removeItem("_mapbox_test_"),!0}catch(w){return!1}}var at,st,ct,pt,ft=tt.performance&&tt.performance.now?tt.performance.now.bind(tt.performance):Date.now.bind(Date),dt=tt.requestAnimationFrame||tt.mozRequestAnimationFrame||tt.webkitRequestAnimationFrame||tt.msRequestAnimationFrame,mt=tt.cancelAnimationFrame||tt.mozCancelAnimationFrame||tt.webkitCancelAnimationFrame||tt.msCancelAnimationFrame,yt={now:ft,frame:function(w){var Ne=dt(w);return{cancel:function(){return mt(Ne)}}},getImageData:function(w,Ne){void 0===Ne&&(Ne=0);var et=tt.document.createElement("canvas"),rt=et.getContext("2d");if(!rt)throw new Error("failed to create canvas 2d context");return et.width=w.width,et.height=w.height,rt.drawImage(w,0,0,w.width,w.height),rt.getImageData(-Ne,-Ne,w.width+2*Ne,w.height+2*Ne)},resolveURL:function(w){return at||(at=tt.document.createElement("a")),at.href=w,at.href},hardwareConcurrency:tt.navigator&&tt.navigator.hardwareConcurrency||4,get devicePixelRatio(){return tt.devicePixelRatio},get prefersReducedMotion(){return!!tt.matchMedia&&(null==st&&(st=tt.matchMedia("(prefers-reduced-motion: reduce)")),st.matches)}},vt={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Rt={supported:!1,testSupport:function(w){!Ot&&pt&&(Dt?q(w):ct=w)}},Ot=!1,Dt=!1;function q(w){var Ne=w.createTexture();w.bindTexture(w.TEXTURE_2D,Ne);try{if(w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,pt),w.isContextLost())return;Rt.supported=!0}catch(w){}w.deleteTexture(Ne),Ot=!0}tt.document&&((pt=tt.document.createElement("img")).onload=function(){ct&&q(ct),ct=null,Dt=!0},pt.onerror=function(){Ot=!0,ct=null},pt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Bt="01",K=function(w,Ne){this._transformRequestFn=w,this._customAccessToken=Ne,this._createSkuToken()};function G(w){return 0===w.indexOf("mapbox:")}K.prototype._createSkuToken=function(){var w=function(){for(var w="",Ne=0;Ne<10;Ne++)w+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Bt,w].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=w.token,this._skuTokenExpiresAt=w.tokenExpiresAt},K.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},K.prototype.transformRequest=function(w,Ne){return this._transformRequestFn&&this._transformRequestFn(w,Ne)||{url:w}},K.prototype.normalizeStyleURL=function(w,Ne){if(!G(w))return w;var et=H(w);return et.path="/styles/v1"+et.path,this._makeAPIURL(et,this._customAccessToken||Ne)},K.prototype.normalizeGlyphsURL=function(w,Ne){if(!G(w))return w;var et=H(w);return et.path="/fonts/v1"+et.path,this._makeAPIURL(et,this._customAccessToken||Ne)},K.prototype.normalizeSourceURL=function(w,Ne){if(!G(w))return w;var et=H(w);return et.path="/v4/"+et.authority+".json",et.params.push("secure"),this._makeAPIURL(et,this._customAccessToken||Ne)},K.prototype.normalizeSpriteURL=function(w,Ne,et,tt){var rt=H(w);return G(w)?(rt.path="/styles/v1"+rt.path+"/sprite"+Ne+et,this._makeAPIURL(rt,this._customAccessToken||tt)):(rt.path+=""+Ne+et,Y(rt))},K.prototype.normalizeTileURL=function(w,Ne){if(this._isSkuTokenExpired()&&this._createSkuToken(),w&&!G(w))return w;var et=H(w);et.path=et.path.replace(/(\.(png|jpg)\d*)(?=$)/,(yt.devicePixelRatio>=2||512===Ne?"@2x":"")+(Rt.supported?".webp":"$1")),et.path=et.path.replace(/^.+\/v4\//,"/"),et.path="/v4"+et.path;var tt=this._customAccessToken||function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1){var tt=et[Ne].match(/^access_token=(.*)$/);if(tt)return tt[1]}return null}(et.params)||vt.ACCESS_TOKEN;return vt.REQUIRE_ACCESS_TOKEN&&tt&&this._skuToken&&et.params.push("sku="+this._skuToken),this._makeAPIURL(et,tt)},K.prototype.canonicalizeTileURL=function(w,Ne){var et=H(w);if(!et.path.match(/(^\/v4\/)/)||!et.path.match(/\.[\w]+$/))return w;var tt="mapbox://tiles/";tt+=et.path.replace("/v4/","");var rt=et.params;return Ne&&(rt=rt.filter((function(w){return!w.match(/^access_token=/)}))),rt.length&&(tt+="?"+rt.join("&")),tt},K.prototype.canonicalizeTileset=function(w,Ne){for(var et=!!Ne&&G(Ne),tt=[],rt=0,nt=w.tiles||[];rt<nt.length;rt+=1){var it=nt[rt];X(it)?tt.push(this.canonicalizeTileURL(it,et)):tt.push(it)}return tt},K.prototype._makeAPIURL=function(w,Ne){var et="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",tt=H(vt.API_URL);if(w.protocol=tt.protocol,w.authority=tt.authority,"/"!==tt.path&&(w.path=""+tt.path+w.path),!vt.REQUIRE_ACCESS_TOKEN)return Y(w);if(!(Ne=Ne||vt.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+et);if("s"===Ne[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+et);return w.params=w.params.filter((function(w){return-1===w.indexOf("access_token")})),w.params.push("access_token="+Ne),Y(w)};var er=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(w){return er.test(w)}var rr=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function H(w){var Ne=w.match(rr);if(!Ne)throw new Error("Unable to parse URL object");return{protocol:Ne[1],authority:Ne[2],path:Ne[3]||"/",params:Ne[4]?Ne[4].split("&"):[]}}function Y(w){var Ne=w.params.length?"?"+w.params.join("&"):"";return w.protocol+"://"+w.authority+w.path+Ne}function $(w){if(!w)return null;var Ne=w.split(".");if(!Ne||3!==Ne.length)return null;try{return JSON.parse(decodeURIComponent(tt.atob(Ne[1]).split("").map((function(w){return"%"+("00"+w.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(w){return null}}var W=function(w){this.type=w,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};W.prototype.getStorageKey=function(w){var Ne,et=$(vt.ACCESS_TOKEN);return Ne=et&&et.u?tt.btoa(encodeURIComponent(et.u).replace(/%([0-9A-F]{2})/g,(function(w,Ne){return String.fromCharCode(Number("0x"+Ne))}))):vt.ACCESS_TOKEN||"",w?"mapbox.eventData."+w+":"+Ne:"mapbox.eventData:"+Ne},W.prototype.fetchEventData=function(){var w=M("localStorage"),Ne=this.getStorageKey(),et=this.getStorageKey("uuid");if(w)try{var rt=tt.localStorage.getItem(Ne);rt&&(this.eventData=JSON.parse(rt));var nt=tt.localStorage.getItem(et);nt&&(this.anonId=nt)}catch(w){_("Unable to read from LocalStorage")}},W.prototype.saveEventData=function(){var w=M("localStorage"),Ne=this.getStorageKey(),et=this.getStorageKey("uuid");if(w)try{tt.localStorage.setItem(et,this.anonId),Object.keys(this.eventData).length>=1&&tt.localStorage.setItem(Ne,JSON.stringify(this.eventData))}catch(w){_("Unable to write to LocalStorage")}},W.prototype.processRequests=function(w){},W.prototype.postEvent=function(w,Ne,et,tt){var rt=this;if(vt.EVENTS_URL){var nt=H(vt.EVENTS_URL);nt.params.push("access_token="+(tt||vt.ACCESS_TOKEN||""));var it={event:this.type,created:new Date(w).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.11.0",skuId:Bt,userId:this.anonId},ot=Ne?c(it,Ne):it,at={url:Y(nt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ot])};this.pendingRequest=bt(at,(function(w){rt.pendingRequest=null,et(w),rt.saveEventData(),rt.processRequests(tt)}))}},W.prototype.queueRequest=function(w,Ne){this.queue.push(w),this.processRequests(Ne)};var vr,wr,Sr=function(w){function e(){w.call(this,"map.load"),this.success={},this.skuToken=""}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(w,Ne,et,tt){this.skuToken=et,(vt.EVENTS_URL&&tt||vt.ACCESS_TOKEN&&Array.isArray(w)&&w.some((function(w){return G(w)||X(w)})))&&this.queueRequest({id:Ne,timestamp:Date.now()},tt)},e.prototype.processRequests=function(w){var Ne=this;if(!this.pendingRequest&&0!==this.queue.length){var et=this.queue.shift(),tt=et.id,rt=et.timestamp;tt&&this.success[tt]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=y()),this.postEvent(rt,{skuToken:this.skuToken},(function(w){w||tt&&(Ne.success[tt]=!0)}),w))}},e}(W),rn=new(function(w){function e(Ne){w.call(this,"appUserTurnstile"),this._customAccessToken=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(w,Ne){vt.EVENTS_URL&&vt.ACCESS_TOKEN&&Array.isArray(w)&&w.some((function(w){return G(w)||X(w)}))&&this.queueRequest(Date.now(),Ne)},e.prototype.processRequests=function(w){var Ne=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var et=$(vt.ACCESS_TOKEN),tt=et?et.u:vt.ACCESS_TOKEN,rt=tt!==this.eventData.tokenU;d(this.anonId)||(this.anonId=y(),rt=!0);var nt=this.queue.shift();if(this.eventData.lastSuccess){var it=new Date(this.eventData.lastSuccess),ot=new Date(nt),at=(nt-this.eventData.lastSuccess)/864e5;rt=rt||at>=1||at<-1||it.getDate()!==ot.getDate()}else rt=!0;if(!rt)return this.processRequests();this.postEvent(nt,{"enabled.telemetry":!1},(function(w){w||(Ne.eventData.lastSuccess=nt,Ne.eventData.tokenU=tt)}),w)}},e}(W)),vn=rn.postTurnstileEvent.bind(rn),bn=new Sr,Tn=bn.postMapLoadEvent.bind(bn),Cn=500,In=50;function ut(){tt.caches&&!vr&&(vr=tt.caches.open("mapbox-tiles"))}function lt(w){var Ne=w.indexOf("?");return Ne<0?w:w.slice(0,Ne)}var zn,Mn=1/0;function ht(){return null==zn&&(zn=tt.OffscreenCanvas&&new tt.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof tt.createImageBitmap),zn}var Ln={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Ln);var Fn,Bn,Nn=function(w){function e(Ne,et,tt){401===et&&X(tt)&&(Ne+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),w.call(this,Ne),this.status=et,this.url=tt,this.name=this.constructor.name,this.message=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),Vn=k()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===tt.location.protocol?tt.parent:tt).location.href},gt=function(w,Ne){if(!(/^file:/.test(et=w.url)||/^file:/.test(Vn())&&!/^\w+:/.test(et))){if(tt.fetch&&tt.Request&&tt.AbortController&&tt.Request.prototype.hasOwnProperty("signal"))return function(w,Ne){var et,rt=new tt.AbortController,nt=new tt.Request(w.url,{method:w.method||"GET",body:w.body,credentials:w.credentials,headers:w.headers,referrer:Vn(),signal:rt.signal}),it=!1,ot=!1,at=(et=nt.url).indexOf("sku=")>0&&X(et);"json"===w.type&&nt.headers.set("Accept","application/json");var l=function(et,rt,it){if(!ot){if(et&&"SecurityError"!==et.message&&_(et),rt&&it)return p(rt);var st=Date.now();tt.fetch(nt).then((function(et){if(et.ok){var tt=at?et.clone():null;return p(et,tt,st)}return Ne(new Nn(et.statusText,et.status,w.url))})).catch((function(w){20!==w.code&&Ne(new Error(w.message))}))}},p=function(et,rt,at){("arrayBuffer"===w.type?et.arrayBuffer():"json"===w.type?et.json():et.text()).then((function(w){ot||(rt&&at&&function(w,Ne,et){if(ut(),vr){var rt={status:Ne.status,statusText:Ne.statusText,headers:new tt.Headers};Ne.headers.forEach((function(w,Ne){return rt.headers.set(Ne,w)}));var nt=I(Ne.headers.get("Cache-Control")||"");nt["no-store"]||(nt["max-age"]&&rt.headers.set("Expires",new Date(et+1e3*nt["max-age"]).toUTCString()),new Date(rt.headers.get("Expires")).getTime()-et<42e4||function(w,Ne){if(void 0===wr)try{new Response(new ReadableStream),wr=!0}catch(w){wr=!1}wr?Ne(w.body):w.blob().then(Ne)}(Ne,(function(Ne){var et=new tt.Response(Ne,rt);ut(),vr&&vr.then((function(Ne){return Ne.put(lt(w.url),et)})).catch((function(w){return _(w.message)}))})))}}(nt,rt,at),it=!0,Ne(null,w,et.headers.get("Cache-Control"),et.headers.get("Expires")))})).catch((function(w){ot||Ne(new Error(w.message))}))};return at?function(w,Ne){if(ut(),!vr)return Ne(null);var et=lt(w.url);vr.then((function(w){w.match(et).then((function(tt){var rt=function(w){if(!w)return!1;var Ne=new Date(w.headers.get("Expires")||0),et=I(w.headers.get("Cache-Control")||"");return Ne>Date.now()&&!et["no-cache"]}(tt);w.delete(et),rt&&w.put(et,tt.clone()),Ne(null,tt,rt)})).catch(Ne)})).catch(Ne)}(nt,l):l(null,null),{cancel:function(){ot=!0,it||rt.abort()}}}(w,Ne);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",w,Ne,void 0,!0)}var et;return function(w,Ne){var et=new tt.XMLHttpRequest;for(var rt in et.open(w.method||"GET",w.url,!0),"arrayBuffer"===w.type&&(et.responseType="arraybuffer"),w.headers)et.setRequestHeader(rt,w.headers[rt]);return"json"===w.type&&(et.responseType="text",et.setRequestHeader("Accept","application/json")),et.withCredentials="include"===w.credentials,et.onerror=function(){Ne(new Error(et.statusText))},et.onload=function(){if((et.status>=200&&et.status<300||0===et.status)&&null!==et.response){var tt=et.response;if("json"===w.type)try{tt=JSON.parse(et.response)}catch(w){return Ne(w)}Ne(null,tt,et.getResponseHeader("Cache-Control"),et.getResponseHeader("Expires"))}else Ne(new Nn(et.statusText,et.status,w.url))},et.send(w.body),{cancel:function(){return et.abort()}}}(w,Ne)},xt=function(w,Ne){return gt(c(w,{type:"arrayBuffer"}),Ne)},bt=function(w,Ne){return gt(c(w,{method:"POST"}),Ne)};Fn=[],Bn=0;var wt=function(w,Ne){if(Rt.supported&&(w.headers||(w.headers={}),w.headers.accept="image/webp,*/*"),Bn>=vt.MAX_PARALLEL_IMAGE_REQUESTS){var et={requestParameters:w,callback:Ne,cancelled:!1,cancel:function(){this.cancelled=!0}};return Fn.push(et),et}Bn++;var rt=!1,i=function(){if(!rt)for(rt=!0,Bn--;Fn.length&&Bn<vt.MAX_PARALLEL_IMAGE_REQUESTS;){var w=Fn.shift();w.cancelled||(w.cancel=wt(w.requestParameters,w.callback).cancel)}},nt=xt(w,(function(w,et,rt,nt){i(),w?Ne(w):et&&(ht()?function(w,Ne){var et=new tt.Blob([new Uint8Array(w)],{type:"image/png"});tt.createImageBitmap(et).then((function(w){Ne(null,w)})).catch((function(w){Ne(new Error("Could not load image because of "+w.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(et,Ne):function(w,Ne,et,rt){var nt=new tt.Image,it=tt.URL;nt.onload=function(){Ne(null,nt),it.revokeObjectURL(nt.src)},nt.onerror=function(){return Ne(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var ot=new tt.Blob([new Uint8Array(w)],{type:"image/png"});nt.cacheControl=et,nt.expires=rt,nt.src=w.byteLength?it.createObjectURL(ot):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(et,Ne,rt,nt))}));return{cancel:function(){nt.cancel(),i()}}};function _t(w,Ne,et){et[w]&&-1!==et[w].indexOf(Ne)||(et[w]=et[w]||[],et[w].push(Ne))}function At(w,Ne,et){if(et&&et[w]){var tt=et[w].indexOf(Ne);-1!==tt&&et[w].splice(tt,1)}}var St=function(w,Ne){void 0===Ne&&(Ne={}),c(this,Ne),this.type=w},Wn=function(w){function e(Ne,et){void 0===et&&(et={}),w.call(this,"error",c({error:Ne},et))}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(St),It=function(){};It.prototype.on=function(w,Ne){return this._listeners=this._listeners||{},_t(w,Ne,this._listeners),this},It.prototype.off=function(w,Ne){return At(w,Ne,this._listeners),At(w,Ne,this._oneTimeListeners),this},It.prototype.once=function(w,Ne){return this._oneTimeListeners=this._oneTimeListeners||{},_t(w,Ne,this._oneTimeListeners),this},It.prototype.fire=function(w,Ne){"string"==typeof w&&(w=new St(w,Ne||{}));var et=w.type;if(this.listens(et)){w.target=this;for(var tt=0,rt=this._listeners&&this._listeners[et]?this._listeners[et].slice():[];tt<rt.length;tt+=1)rt[tt].call(this,w);for(var nt=0,it=this._oneTimeListeners&&this._oneTimeListeners[et]?this._oneTimeListeners[et].slice():[];nt<it.length;nt+=1){var ot=it[nt];At(et,ot,this._oneTimeListeners),ot.call(this,w)}var at=this._eventedParent;at&&(c(w,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),at.fire(w))}else w instanceof Wn&&console.error(w.error);return this},It.prototype.listens=function(w){return this._listeners&&this._listeners[w]&&this._listeners[w].length>0||this._oneTimeListeners&&this._oneTimeListeners[w]&&this._oneTimeListeners[w].length>0||this._eventedParent&&this._eventedParent.listens(w)},It.prototype.setEventedParent=function(w,Ne){return this._eventedParent=w,this._eventedParentData=Ne,this};var $n={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ct=function(w,Ne,et,tt){this.message=(w?w+": ":"")+et,tt&&(this.identifier=tt),null!=Ne&&Ne.__line__&&(this.line=Ne.__line__)};function Mt(w){var Ne=w.value;return Ne?[new Ct(w.key,Ne,"constants have been deprecated as of v8")]:[]}function Et(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];for(var tt=0,rt=Ne;tt<rt.length;tt+=1){var nt=rt[tt];for(var it in nt)w[it]=nt[it]}return w}function Tt(w){return w instanceof Number||w instanceof String||w instanceof Boolean?w.valueOf():w}function Pt(w){if(Array.isArray(w))return w.map(Pt);if(w instanceof Object&&!(w instanceof Number||w instanceof String||w instanceof Boolean)){var Ne={};for(var et in w)Ne[et]=Pt(w[et]);return Ne}return Tt(w)}var Yn=function(w){function e(Ne,et){w.call(this,et),this.message=et,this.key=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(Error),Vt=function(w,Ne){void 0===Ne&&(Ne=[]),this.parent=w,this.bindings={};for(var et=0,tt=Ne;et<tt.length;et+=1){var rt=tt[et];this.bindings[rt[0]]=rt[1]}};Vt.prototype.concat=function(w){return new Vt(this,w)},Vt.prototype.get=function(w){if(this.bindings[w])return this.bindings[w];if(this.parent)return this.parent.get(w);throw new Error(w+" not found in scope.")},Vt.prototype.has=function(w){return!!this.bindings[w]||!!this.parent&&this.parent.has(w)};var ii={kind:"null"},qi={kind:"number"},uo={kind:"string"},po={kind:"boolean"},vo={kind:"color"},So={kind:"object"},ea={kind:"value"},ta={kind:"collator"},ia={kind:"formatted"},sa={kind:"resolvedImage"};function Gt(w,Ne){return{kind:"array",itemType:w,N:Ne}}function Zt(w){if("array"===w.kind){var Ne=Zt(w.itemType);return"number"==typeof w.N?"array<"+Ne+", "+w.N+">":"value"===w.itemType.kind?"array":"array<"+Ne+">"}return w.kind}var la=[ii,qi,uo,po,vo,ia,So,Gt(ea),sa];function Jt(w,Ne){if("error"===Ne.kind)return null;if("array"===w.kind){if("array"===Ne.kind&&(0===Ne.N&&"value"===Ne.itemType.kind||!Jt(w.itemType,Ne.itemType))&&("number"!=typeof w.N||w.N===Ne.N))return null}else{if(w.kind===Ne.kind)return null;if("value"===w.kind)for(var et=0,tt=la;et<tt.length;et+=1)if(!Jt(tt[et],Ne))return null}return"Expected "+Zt(w)+" but found "+Zt(Ne)+" instead."}function Ht(w,Ne){return Ne.some((function(Ne){return Ne.kind===w.kind}))}function Yt(w,Ne){return Ne.some((function(Ne){return"null"===Ne?null===w:"array"===Ne?Array.isArray(w):"object"===Ne?w&&!Array.isArray(w)&&"object"==typeof w:Ne===typeof w}))}var fa=e((function(w,Ne){var et={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(w){return(w=Math.round(w))<0?0:w>255?255:w}function i(w){return n("%"===w[w.length-1]?parseFloat(w)/100*255:parseInt(w))}function a(w){return(Ne="%"===w[w.length-1]?parseFloat(w)/100:parseFloat(w))<0?0:Ne>1?1:Ne;var Ne}function o(w,Ne,et){return et<0?et+=1:et>1&&(et-=1),6*et<1?w+(Ne-w)*et*6:2*et<1?Ne:3*et<2?w+(Ne-w)*(2/3-et)*6:w}try{Ne.parseCSSColor=function(w){var Ne,tt=w.replace(/ /g,"").toLowerCase();if(tt in et)return et[tt].slice();if("#"===tt[0])return 4===tt.length?(Ne=parseInt(tt.substr(1),16))>=0&&Ne<=4095?[(3840&Ne)>>4|(3840&Ne)>>8,240&Ne|(240&Ne)>>4,15&Ne|(15&Ne)<<4,1]:null:7===tt.length&&(Ne=parseInt(tt.substr(1),16))>=0&&Ne<=16777215?[(16711680&Ne)>>16,(65280&Ne)>>8,255&Ne,1]:null;var rt=tt.indexOf("("),nt=tt.indexOf(")");if(-1!==rt&&nt+1===tt.length){var it=tt.substr(0,rt),ot=tt.substr(rt+1,nt-(rt+1)).split(","),at=1;switch(it){case"rgba":if(4!==ot.length)return null;at=a(ot.pop());case"rgb":return 3!==ot.length?null:[i(ot[0]),i(ot[1]),i(ot[2]),at];case"hsla":if(4!==ot.length)return null;at=a(ot.pop());case"hsl":if(3!==ot.length)return null;var st=(parseFloat(ot[0])%360+360)%360/360,ct=a(ot[1]),pt=a(ot[2]),ft=pt<=.5?pt*(ct+1):pt+ct-pt*ct,dt=2*pt-ft;return[n(255*o(dt,ft,st+1/3)),n(255*o(dt,ft,st)),n(255*o(dt,ft,st-1/3)),at];default:return null}}return null}}catch(w){}})).parseCSSColor,Wt=function(w,Ne,et,tt){void 0===tt&&(tt=1),this.r=w,this.g=Ne,this.b=et,this.a=tt};Wt.parse=function(w){if(w){if(w instanceof Wt)return w;if("string"==typeof w){var Ne=fa(w);if(Ne)return new Wt(Ne[0]/255*Ne[3],Ne[1]/255*Ne[3],Ne[2]/255*Ne[3],Ne[3])}}},Wt.prototype.toString=function(){var w=this.toArray(),Ne=w[1],et=w[2],tt=w[3];return"rgba("+Math.round(w[0])+","+Math.round(Ne)+","+Math.round(et)+","+tt+")"},Wt.prototype.toArray=function(){var w=this.a;return 0===w?[0,0,0,0]:[255*this.r/w,255*this.g/w,255*this.b/w,w]},Wt.black=new Wt(0,0,0,1),Wt.white=new Wt(1,1,1,1),Wt.transparent=new Wt(0,0,0,0),Wt.red=new Wt(1,0,0,1);var Qt=function(w,Ne,et){this.sensitivity=w?Ne?"variant":"case":Ne?"accent":"base",this.locale=et,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Qt.prototype.compare=function(w,Ne){return this.collator.compare(w,Ne)},Qt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var te=function(w,Ne,et,tt,rt){this.text=w,this.image=Ne,this.scale=et,this.fontStack=tt,this.textColor=rt},ee=function(w){this.sections=w};ee.fromString=function(w){return new ee([new te(w,null,null,null,null)])},ee.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(w){return 0!==w.text.length||w.image&&0!==w.image.name.length}))},ee.factory=function(w){return w instanceof ee?w:ee.fromString(w)},ee.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(w){return w.text})).join("")},ee.prototype.serialize=function(){for(var w=["format"],Ne=0,et=this.sections;Ne<et.length;Ne+=1){var tt=et[Ne];if(tt.image)w.push(["image",tt.image.name]);else{w.push(tt.text);var rt={};tt.fontStack&&(rt["text-font"]=["literal",tt.fontStack.split(",")]),tt.scale&&(rt["font-scale"]=tt.scale),tt.textColor&&(rt["text-color"]=["rgba"].concat(tt.textColor.toArray())),w.push(rt)}}return w};var re=function(w){this.name=w.name,this.available=w.available};function ne(w,Ne,et,tt){return"number"==typeof w&&w>=0&&w<=255&&"number"==typeof Ne&&Ne>=0&&Ne<=255&&"number"==typeof et&&et>=0&&et<=255?void 0===tt||"number"==typeof tt&&tt>=0&&tt<=1?null:"Invalid rgba value ["+[w,Ne,et,tt].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof tt?[w,Ne,et,tt]:[w,Ne,et]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ie(w){if(null===w)return!0;if("string"==typeof w)return!0;if("boolean"==typeof w)return!0;if("number"==typeof w)return!0;if(w instanceof Wt)return!0;if(w instanceof Qt)return!0;if(w instanceof ee)return!0;if(w instanceof re)return!0;if(Array.isArray(w)){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(!ie(et[Ne]))return!1;return!0}if("object"==typeof w){for(var tt in w)if(!ie(w[tt]))return!1;return!0}return!1}function ae(w){if(null===w)return ii;if("string"==typeof w)return uo;if("boolean"==typeof w)return po;if("number"==typeof w)return qi;if(w instanceof Wt)return vo;if(w instanceof Qt)return ta;if(w instanceof ee)return ia;if(w instanceof re)return sa;if(Array.isArray(w)){for(var Ne,et=w.length,tt=0,rt=w;tt<rt.length;tt+=1){var nt=ae(rt[tt]);if(Ne){if(Ne===nt)continue;Ne=ea;break}Ne=nt}return Gt(Ne||ea,et)}return So}function oe(w){var Ne=typeof w;return null===w?"":"string"===Ne||"number"===Ne||"boolean"===Ne?String(w):w instanceof Wt||w instanceof ee||w instanceof re?w.toString():JSON.stringify(w)}re.prototype.toString=function(){return this.name},re.fromString=function(w){return w?new re({name:w,available:!1}):null},re.prototype.serialize=function(){return["image",this.name]};var se=function(w,Ne){this.type=w,this.value=Ne};se.parse=function(w,Ne){if(2!==w.length)return Ne.error("'literal' expression requires exactly one argument, but found "+(w.length-1)+" instead.");if(!ie(w[1]))return Ne.error("invalid value");var et=w[1],tt=ae(et),rt=Ne.expectedType;return"array"!==tt.kind||0!==tt.N||!rt||"array"!==rt.kind||"number"==typeof rt.N&&0!==rt.N||(tt=rt),new se(tt,et)},se.prototype.evaluate=function(){return this.value},se.prototype.eachChild=function(){},se.prototype.outputDefined=function(){return!0},se.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Wt?["rgba"].concat(this.value.toArray()):this.value instanceof ee?this.value.serialize():this.value};var ue=function(w){this.name="ExpressionEvaluationError",this.message=w};ue.prototype.toJSON=function(){return this.message};var ga={string:uo,number:qi,boolean:po,object:So},pe=function(w,Ne){this.type=w,this.args=Ne};pe.parse=function(w,Ne){if(w.length<2)return Ne.error("Expected at least one argument.");var et,tt=1,rt=w[0];if("array"===rt){var nt,it;if(w.length>2){var ot=w[1];if("string"!=typeof ot||!(ot in ga)||"object"===ot)return Ne.error('The item type argument of "array" must be one of string, number, boolean',1);nt=ga[ot],tt++}else nt=ea;if(w.length>3){if(null!==w[2]&&("number"!=typeof w[2]||w[2]<0||w[2]!==Math.floor(w[2])))return Ne.error('The length argument to "array" must be a positive integer literal',2);it=w[2],tt++}et=Gt(nt,it)}else et=ga[rt];for(var at=[];tt<w.length;tt++){var st=Ne.parse(w[tt],tt,ea);if(!st)return null;at.push(st)}return new pe(et,at)},pe.prototype.evaluate=function(w){for(var Ne=0;Ne<this.args.length;Ne++){var et=this.args[Ne].evaluate(w);if(!Jt(this.type,ae(et)))return et;if(Ne===this.args.length-1)throw new ue("Expected value to be of type "+Zt(this.type)+", but found "+Zt(ae(et))+" instead.")}return null},pe.prototype.eachChild=function(w){this.args.forEach(w)},pe.prototype.outputDefined=function(){return this.args.every((function(w){return w.outputDefined()}))},pe.prototype.serialize=function(){var w=this.type,Ne=[w.kind];if("array"===w.kind){var et=w.itemType;if("string"===et.kind||"number"===et.kind||"boolean"===et.kind){Ne.push(et.kind);var tt=w.N;("number"==typeof tt||this.args.length>1)&&Ne.push(tt)}}return Ne.concat(this.args.map((function(w){return w.serialize()})))};var ce=function(w){this.type=ia,this.sections=w};ce.parse=function(w,Ne){if(w.length<2)return Ne.error("Expected at least one argument.");var et=w[1];if(!Array.isArray(et)&&"object"==typeof et)return Ne.error("First argument must be an image or text section.");for(var tt=[],rt=!1,nt=1;nt<=w.length-1;++nt){var it=w[nt];if(rt&&"object"==typeof it&&!Array.isArray(it)){rt=!1;var ot=null;if(it["font-scale"]&&!(ot=Ne.parse(it["font-scale"],1,qi)))return null;var at=null;if(it["text-font"]&&!(at=Ne.parse(it["text-font"],1,Gt(uo))))return null;var st=null;if(it["text-color"]&&!(st=Ne.parse(it["text-color"],1,vo)))return null;var ct=tt[tt.length-1];ct.scale=ot,ct.font=at,ct.textColor=st}else{var pt=Ne.parse(w[nt],1,ea);if(!pt)return null;var ft=pt.type.kind;if("string"!==ft&&"value"!==ft&&"null"!==ft&&"resolvedImage"!==ft)return Ne.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");rt=!0,tt.push({content:pt,scale:null,font:null,textColor:null})}}return new ce(tt)},ce.prototype.evaluate=function(w){return new ee(this.sections.map((function(Ne){var et=Ne.content.evaluate(w);return ae(et)===sa?new te("",et,null,null,null):new te(oe(et),null,Ne.scale?Ne.scale.evaluate(w):null,Ne.font?Ne.font.evaluate(w).join(","):null,Ne.textColor?Ne.textColor.evaluate(w):null)})))},ce.prototype.eachChild=function(w){for(var Ne=0,et=this.sections;Ne<et.length;Ne+=1){var tt=et[Ne];w(tt.content),tt.scale&&w(tt.scale),tt.font&&w(tt.font),tt.textColor&&w(tt.textColor)}},ce.prototype.outputDefined=function(){return!1},ce.prototype.serialize=function(){for(var w=["format"],Ne=0,et=this.sections;Ne<et.length;Ne+=1){var tt=et[Ne];w.push(tt.content.serialize());var rt={};tt.scale&&(rt["font-scale"]=tt.scale.serialize()),tt.font&&(rt["text-font"]=tt.font.serialize()),tt.textColor&&(rt["text-color"]=tt.textColor.serialize()),w.push(rt)}return w};var he=function(w){this.type=sa,this.input=w};he.parse=function(w,Ne){if(2!==w.length)return Ne.error("Expected two arguments.");var et=Ne.parse(w[1],1,uo);return et?new he(et):Ne.error("No image name provided.")},he.prototype.evaluate=function(w){var Ne=this.input.evaluate(w),et=re.fromString(Ne);return et&&w.availableImages&&(et.available=w.availableImages.indexOf(Ne)>-1),et},he.prototype.eachChild=function(w){w(this.input)},he.prototype.outputDefined=function(){return!1},he.prototype.serialize=function(){return["image",this.input.serialize()]};var _a={"to-boolean":po,"to-color":vo,"to-number":qi,"to-string":uo},ye=function(w,Ne){this.type=w,this.args=Ne};ye.parse=function(w,Ne){if(w.length<2)return Ne.error("Expected at least one argument.");var et=w[0];if(("to-boolean"===et||"to-string"===et)&&2!==w.length)return Ne.error("Expected one argument.");for(var tt=_a[et],rt=[],nt=1;nt<w.length;nt++){var it=Ne.parse(w[nt],nt,ea);if(!it)return null;rt.push(it)}return new ye(tt,rt)},ye.prototype.evaluate=function(w){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(w));if("color"===this.type.kind){for(var Ne,et,tt=0,rt=this.args;tt<rt.length;tt+=1){if(et=null,(Ne=rt[tt].evaluate(w))instanceof Wt)return Ne;if("string"==typeof Ne){var nt=w.parseColor(Ne);if(nt)return nt}else if(Array.isArray(Ne)&&!(et=Ne.length<3||Ne.length>4?"Invalid rbga value "+JSON.stringify(Ne)+": expected an array containing either three or four numeric values.":ne(Ne[0],Ne[1],Ne[2],Ne[3])))return new Wt(Ne[0]/255,Ne[1]/255,Ne[2]/255,Ne[3])}throw new ue(et||"Could not parse color from value '"+("string"==typeof Ne?Ne:String(JSON.stringify(Ne)))+"'")}if("number"===this.type.kind){for(var it=null,ot=0,at=this.args;ot<at.length;ot+=1){if(null===(it=at[ot].evaluate(w)))return 0;var st=Number(it);if(!isNaN(st))return st}throw new ue("Could not convert "+JSON.stringify(it)+" to number.")}return"formatted"===this.type.kind?ee.fromString(oe(this.args[0].evaluate(w))):"resolvedImage"===this.type.kind?re.fromString(oe(this.args[0].evaluate(w))):oe(this.args[0].evaluate(w))},ye.prototype.eachChild=function(w){this.args.forEach(w)},ye.prototype.outputDefined=function(){return this.args.every((function(w){return w.outputDefined()}))},ye.prototype.serialize=function(){if("formatted"===this.type.kind)return new ce([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new he(this.args[0]).serialize();var w=["to-"+this.type.kind];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var Aa=["Unknown","Point","LineString","Polygon"],me=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};me.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},me.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Aa[this.feature.type]:this.feature.type:null},me.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},me.prototype.canonicalID=function(){return this.canonical},me.prototype.properties=function(){return this.feature&&this.feature.properties||{}},me.prototype.parseColor=function(w){var Ne=this._parseColorCache[w];return Ne||(Ne=this._parseColorCache[w]=Wt.parse(w)),Ne};var ve=function(w,Ne,et,tt){this.name=w,this.type=Ne,this._evaluate=et,this.args=tt};ve.prototype.evaluate=function(w){return this._evaluate(w,this.args)},ve.prototype.eachChild=function(w){this.args.forEach(w)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map((function(w){return w.serialize()})))},ve.parse=function(w,Ne){var et,tt=w[0],rt=ve.definitions[tt];if(!rt)return Ne.error('Unknown expression "'+tt+'". If you wanted a literal array, use ["literal", [...]].',0);for(var nt=Array.isArray(rt)?rt[0]:rt.type,it=Array.isArray(rt)?[[rt[1],rt[2]]]:rt.overloads,ot=it.filter((function(Ne){var et=Ne[0];return!Array.isArray(et)||et.length===w.length-1})),at=null,st=0,ct=ot;st<ct.length;st+=1){var pt=ct[st],ft=pt[0],dt=pt[1];at=new Oe(Ne.registry,Ne.path,null,Ne.scope);for(var mt=[],yt=!1,vt=1;vt<w.length;vt++){var Rt=w[vt],Ot=Array.isArray(ft)?ft[vt-1]:ft.type,Dt=at.parse(Rt,1+mt.length,Ot);if(!Dt){yt=!0;break}mt.push(Dt)}if(!yt)if(Array.isArray(ft)&&ft.length!==mt.length)at.error("Expected "+ft.length+" arguments, but found "+mt.length+" instead.");else{for(var Bt=0;Bt<mt.length;Bt++){var er=Array.isArray(ft)?ft[Bt]:ft.type,rr=mt[Bt];at.concat(Bt+1).checkSubtype(er,rr.type)}if(0===at.errors.length)return new ve(tt,nt,dt,mt)}}if(1===ot.length)(et=Ne.errors).push.apply(et,at.errors);else{for(var vr=(ot.length?ot:it).map((function(w){var Ne;return Ne=w[0],Array.isArray(Ne)?"("+Ne.map(Zt).join(", ")+")":"("+Zt(Ne.type)+"...)"})).join(" | "),wr=[],Sr=1;Sr<w.length;Sr++){var rn=Ne.parse(w[Sr],1+wr.length);if(!rn)return null;wr.push(Zt(rn.type))}Ne.error("Expected arguments of type "+vr+", but found ("+wr.join(", ")+") instead.")}return null},ve.register=function(w,Ne){for(var et in ve.definitions=Ne,Ne)w[et]=ve};var ge=function(w,Ne,et){this.type=ta,this.locale=et,this.caseSensitive=w,this.diacriticSensitive=Ne};function xe(w,Ne){w[0]=Math.min(w[0],Ne[0]),w[1]=Math.min(w[1],Ne[1]),w[2]=Math.max(w[2],Ne[0]),w[3]=Math.max(w[3],Ne[1])}function be(w,Ne){return!(w[0]<=Ne[0]||w[2]>=Ne[2]||w[1]<=Ne[1]||w[3]>=Ne[3])}function we(w,Ne){var et=(180+w[0])/360,tt=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+w[1]*Math.PI/360)))/360,rt=Math.pow(2,Ne.z);return[Math.round(et*rt*8192),Math.round(tt*rt*8192)]}function _e(w,Ne,et){return Ne[1]>w[1]!=et[1]>w[1]&&w[0]<(et[0]-Ne[0])*(w[1]-Ne[1])/(et[1]-Ne[1])+Ne[0]}function Ae(w,Ne){for(var et,tt,rt,nt,it,ot,at,st=!1,ct=0,pt=Ne.length;ct<pt;ct++)for(var ft=Ne[ct],dt=0,mt=ft.length;dt<mt-1;dt++){if((nt=(et=w)[0]-(tt=ft[dt])[0])*(at=et[1]-(rt=ft[dt+1])[1])-(ot=et[0]-rt[0])*(it=et[1]-tt[1])==0&&nt*ot<=0&&it*at<=0)return!1;_e(w,ft[dt],ft[dt+1])&&(st=!st)}return st}function Se(w,Ne){for(var et=0;et<Ne.length;et++)if(Ae(w,Ne[et]))return!0;return!1}function ke(w,Ne,et,tt){var rt=tt[0]-et[0],nt=tt[1]-et[1],it=(w[0]-et[0])*nt-rt*(w[1]-et[1]),ot=(Ne[0]-et[0])*nt-rt*(Ne[1]-et[1]);return it>0&&ot<0||it<0&&ot>0}function Ie(w,Ne,et){for(var tt=0,rt=et;tt<rt.length;tt+=1)for(var nt=rt[tt],it=0;it<nt.length-1;++it)if(0!=(pt=[(ct=nt[it+1])[0]-(st=nt[it])[0],ct[1]-st[1]])[0]*(ft=[(at=Ne)[0]-(ot=w)[0],at[1]-ot[1]])[1]-pt[1]*ft[0]&&ke(ot,at,st,ct)&&ke(st,ct,ot,at))return!0;var ot,at,st,ct,pt,ft;return!1}function ze(w,Ne){for(var et=0;et<w.length;++et)if(!Ae(w[et],Ne))return!1;for(var tt=0;tt<w.length-1;++tt)if(Ie(w[tt],w[tt+1],Ne))return!1;return!0}function Ce(w,Ne){for(var et=0;et<Ne.length;et++)if(ze(w,Ne[et]))return!0;return!1}function Me(w,Ne,et){for(var tt=[],rt=0;rt<w.length;rt++){for(var nt=[],it=0;it<w[rt].length;it++){var ot=we(w[rt][it],et);xe(Ne,ot),nt.push(ot)}tt.push(nt)}return tt}function Ee(w,Ne,et){for(var tt=[],rt=0;rt<w.length;rt++){var nt=Me(w[rt],Ne,et);tt.push(nt)}return tt}function Te(w,Ne,et,tt){if(w[0]<et[0]||w[0]>et[2]){var rt=.5*tt,nt=w[0]-et[0]>rt?-tt:et[0]-w[0]>rt?tt:0;0===nt&&(nt=w[0]-et[2]>rt?-tt:et[2]-w[0]>rt?tt:0),w[0]+=nt}xe(Ne,w)}function Pe(w,Ne,et,tt){for(var rt=8192*Math.pow(2,tt.z),nt=[8192*tt.x,8192*tt.y],it=[],ot=0,at=w;ot<at.length;ot+=1)for(var st=0,ct=at[ot];st<ct.length;st+=1){var pt=ct[st],ft=[pt.x+nt[0],pt.y+nt[1]];Te(ft,Ne,et,rt),it.push(ft)}return it}function Be(w,Ne,et,tt){for(var rt,nt=8192*Math.pow(2,tt.z),it=[8192*tt.x,8192*tt.y],ot=[],at=0,st=w;at<st.length;at+=1){for(var ct=[],pt=0,ft=st[at];pt<ft.length;pt+=1){var dt=ft[pt],mt=[dt.x+it[0],dt.y+it[1]];xe(Ne,mt),ct.push(mt)}ot.push(ct)}if(Ne[2]-Ne[0]<=nt/2){(rt=Ne)[0]=rt[1]=1/0,rt[2]=rt[3]=-1/0;for(var yt=0,vt=ot;yt<vt.length;yt+=1)for(var Rt=0,Ot=vt[yt];Rt<Ot.length;Rt+=1)Te(Ot[Rt],Ne,et,nt)}return ot}ge.parse=function(w,Ne){if(2!==w.length)return Ne.error("Expected one argument.");var et=w[1];if("object"!=typeof et||Array.isArray(et))return Ne.error("Collator options argument must be an object.");var tt=Ne.parse(void 0!==et["case-sensitive"]&&et["case-sensitive"],1,po);if(!tt)return null;var rt=Ne.parse(void 0!==et["diacritic-sensitive"]&&et["diacritic-sensitive"],1,po);if(!rt)return null;var nt=null;return et.locale&&!(nt=Ne.parse(et.locale,1,uo))?null:new ge(tt,rt,nt)},ge.prototype.evaluate=function(w){return new Qt(this.caseSensitive.evaluate(w),this.diacriticSensitive.evaluate(w),this.locale?this.locale.evaluate(w):null)},ge.prototype.eachChild=function(w){w(this.caseSensitive),w(this.diacriticSensitive),this.locale&&w(this.locale)},ge.prototype.outputDefined=function(){return!1},ge.prototype.serialize=function(){var w={};return w["case-sensitive"]=this.caseSensitive.serialize(),w["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(w.locale=this.locale.serialize()),["collator",w]};var Ve=function(w,Ne){this.type=po,this.geojson=w,this.geometries=Ne};function Fe(w){if(w instanceof ve){if("get"===w.name&&1===w.args.length)return!1;if("feature-state"===w.name)return!1;if("has"===w.name&&1===w.args.length)return!1;if("properties"===w.name||"geometry-type"===w.name||"id"===w.name)return!1;if(/^filter-/.test(w.name))return!1}if(w instanceof Ve)return!1;var Ne=!0;return w.eachChild((function(w){Ne&&!Fe(w)&&(Ne=!1)})),Ne}function De(w){if(w instanceof ve&&"feature-state"===w.name)return!1;var Ne=!0;return w.eachChild((function(w){Ne&&!De(w)&&(Ne=!1)})),Ne}function Le(w,Ne){if(w instanceof ve&&Ne.indexOf(w.name)>=0)return!1;var et=!0;return w.eachChild((function(w){et&&!Le(w,Ne)&&(et=!1)})),et}Ve.parse=function(w,Ne){if(2!==w.length)return Ne.error("'within' expression requires exactly one argument, but found "+(w.length-1)+" instead.");if(ie(w[1])){var et=w[1];if("FeatureCollection"===et.type)for(var tt=0;tt<et.features.length;++tt){var rt=et.features[tt].geometry.type;if("Polygon"===rt||"MultiPolygon"===rt)return new Ve(et,et.features[tt].geometry)}else if("Feature"===et.type){var nt=et.geometry.type;if("Polygon"===nt||"MultiPolygon"===nt)return new Ve(et,et.geometry)}else if("Polygon"===et.type||"MultiPolygon"===et.type)return new Ve(et,et)}return Ne.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ve.prototype.evaluate=function(w){if(null!=w.geometry()&&null!=w.canonicalID()){if("Point"===w.geometryType())return function(w,Ne){var et=[1/0,1/0,-1/0,-1/0],tt=[1/0,1/0,-1/0,-1/0],rt=w.canonicalID();if("Polygon"===Ne.type){var nt=Me(Ne.coordinates,tt,rt),it=Pe(w.geometry(),et,tt,rt);if(!be(et,tt))return!1;for(var ot=0,at=it;ot<at.length;ot+=1)if(!Ae(at[ot],nt))return!1}if("MultiPolygon"===Ne.type){var st=Ee(Ne.coordinates,tt,rt),ct=Pe(w.geometry(),et,tt,rt);if(!be(et,tt))return!1;for(var pt=0,ft=ct;pt<ft.length;pt+=1)if(!Se(ft[pt],st))return!1}return!0}(w,this.geometries);if("LineString"===w.geometryType())return function(w,Ne){var et=[1/0,1/0,-1/0,-1/0],tt=[1/0,1/0,-1/0,-1/0],rt=w.canonicalID();if("Polygon"===Ne.type){var nt=Me(Ne.coordinates,tt,rt),it=Be(w.geometry(),et,tt,rt);if(!be(et,tt))return!1;for(var ot=0,at=it;ot<at.length;ot+=1)if(!ze(at[ot],nt))return!1}if("MultiPolygon"===Ne.type){var st=Ee(Ne.coordinates,tt,rt),ct=Be(w.geometry(),et,tt,rt);if(!be(et,tt))return!1;for(var pt=0,ft=ct;pt<ft.length;pt+=1)if(!Ce(ft[pt],st))return!1}return!0}(w,this.geometries)}return!1},Ve.prototype.eachChild=function(){},Ve.prototype.outputDefined=function(){return!0},Ve.prototype.serialize=function(){return["within",this.geojson]};var Re=function(w,Ne){this.type=Ne.type,this.name=w,this.boundExpression=Ne};Re.parse=function(w,Ne){if(2!==w.length||"string"!=typeof w[1])return Ne.error("'var' expression requires exactly one string literal argument.");var et=w[1];return Ne.scope.has(et)?new Re(et,Ne.scope.get(et)):Ne.error('Unknown variable "'+et+'". Make sure "'+et+'" has been bound in an enclosing "let" expression before using it.',1)},Re.prototype.evaluate=function(w){return this.boundExpression.evaluate(w)},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!1},Re.prototype.serialize=function(){return["var",this.name]};var Oe=function(w,Ne,et,tt,rt){void 0===Ne&&(Ne=[]),void 0===tt&&(tt=new Vt),void 0===rt&&(rt=[]),this.registry=w,this.path=Ne,this.key=Ne.map((function(w){return"["+w+"]"})).join(""),this.scope=tt,this.errors=rt,this.expectedType=et};function Ue(w,Ne){for(var et,tt=w.length-1,rt=0,nt=tt,it=0;rt<=nt;)if((et=w[it=Math.floor((rt+nt)/2)])<=Ne){if(it===tt||Ne<w[it+1])return it;rt=it+1}else{if(!(et>Ne))throw new ue("Input is not a number.");nt=it-1}return 0}Oe.prototype.parse=function(w,Ne,et,tt,rt){return void 0===rt&&(rt={}),Ne?this.concat(Ne,et,tt)._parse(w,rt):this._parse(w,rt)},Oe.prototype._parse=function(w,Ne){function r(w,Ne,et){return"assert"===et?new pe(Ne,[w]):"coerce"===et?new ye(Ne,[w]):w}if(null!==w&&"string"!=typeof w&&"boolean"!=typeof w&&"number"!=typeof w||(w=["literal",w]),Array.isArray(w)){if(0===w.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var et=w[0];if("string"!=typeof et)return this.error("Expression name must be a string, but found "+typeof et+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var tt=this.registry[et];if(tt){var rt=tt.parse(w,this);if(!rt)return null;if(this.expectedType){var nt=this.expectedType,it=rt.type;if("string"!==nt.kind&&"number"!==nt.kind&&"boolean"!==nt.kind&&"object"!==nt.kind&&"array"!==nt.kind||"value"!==it.kind)if("color"!==nt.kind&&"formatted"!==nt.kind&&"resolvedImage"!==nt.kind||"value"!==it.kind&&"string"!==it.kind){if(this.checkSubtype(nt,it))return null}else rt=r(rt,nt,Ne.typeAnnotation||"coerce");else rt=r(rt,nt,Ne.typeAnnotation||"assert")}if(!(rt instanceof se)&&"resolvedImage"!==rt.type.kind&&function t(w){if(w instanceof Re)return t(w.boundExpression);if(w instanceof ve&&"error"===w.name)return!1;if(w instanceof ge)return!1;if(w instanceof Ve)return!1;var Ne=w instanceof ye||w instanceof pe,et=!0;return w.eachChild((function(w){et=Ne?et&&t(w):et&&w instanceof se})),!!et&&Fe(w)&&Le(w,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(rt)){var ot=new me;try{rt=new se(rt.type,rt.evaluate(ot))}catch(w){return this.error(w.message),null}}return rt}return this.error('Unknown expression "'+et+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===w?"'undefined' value invalid. Use null instead.":"object"==typeof w?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof w+" instead.")},Oe.prototype.concat=function(w,Ne,et){var tt="number"==typeof w?this.path.concat(w):this.path,rt=et?this.scope.concat(et):this.scope;return new Oe(this.registry,tt,Ne||null,rt,this.errors)},Oe.prototype.error=function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];var tt=""+this.key+Ne.map((function(w){return"["+w+"]"})).join("");this.errors.push(new Yn(tt,w))},Oe.prototype.checkSubtype=function(w,Ne){var et=Jt(w,Ne);return et&&this.error(et),et};var je=function(w,Ne,et){this.type=w,this.input=Ne,this.labels=[],this.outputs=[];for(var tt=0,rt=et;tt<rt.length;tt+=1){var nt=rt[tt],it=nt[1];this.labels.push(nt[0]),this.outputs.push(it)}};function qe(w,Ne,et){return w*(1-et)+Ne*et}je.parse=function(w,Ne){if(w.length-1<4)return Ne.error("Expected at least 4 arguments, but found only "+(w.length-1)+".");if((w.length-1)%2!=0)return Ne.error("Expected an even number of arguments.");var et=Ne.parse(w[1],1,qi);if(!et)return null;var tt=[],rt=null;Ne.expectedType&&"value"!==Ne.expectedType.kind&&(rt=Ne.expectedType);for(var nt=1;nt<w.length;nt+=2){var it=1===nt?-1/0:w[nt],ot=w[nt+1],at=nt,st=nt+1;if("number"!=typeof it)return Ne.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',at);if(tt.length&&tt[tt.length-1][0]>=it)return Ne.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',at);var ct=Ne.parse(ot,st,rt);if(!ct)return null;rt=rt||ct.type,tt.push([it,ct])}return new je(rt,et,tt)},je.prototype.evaluate=function(w){var Ne=this.labels,et=this.outputs;if(1===Ne.length)return et[0].evaluate(w);var tt=this.input.evaluate(w);if(tt<=Ne[0])return et[0].evaluate(w);var rt=Ne.length;return tt>=Ne[rt-1]?et[rt-1].evaluate(w):et[Ue(Ne,tt)].evaluate(w)},je.prototype.eachChild=function(w){w(this.input);for(var Ne=0,et=this.outputs;Ne<et.length;Ne+=1)w(et[Ne])},je.prototype.outputDefined=function(){return this.outputs.every((function(w){return w.outputDefined()}))},je.prototype.serialize=function(){for(var w=["step",this.input.serialize()],Ne=0;Ne<this.labels.length;Ne++)Ne>0&&w.push(this.labels[Ne]),w.push(this.outputs[Ne].serialize());return w};var os=Object.freeze({__proto__:null,number:qe,color:function(w,Ne,et){return new Wt(qe(w.r,Ne.r,et),qe(w.g,Ne.g,et),qe(w.b,Ne.b,et),qe(w.a,Ne.a,et))},array:function(w,Ne,et){return w.map((function(w,tt){return qe(w,Ne[tt],et)}))}}),as=6/29*3*(6/29),ss=Math.PI/180,ls=180/Math.PI;function Xe(w){return w>.008856451679035631?Math.pow(w,1/3):w/as+4/29}function Je(w){return w>6/29?w*w*w:as*(w-4/29)}function He(w){return 255*(w<=.0031308?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function Ye(w){return(w/=255)<=.04045?w/12.92:Math.pow((w+.055)/1.055,2.4)}function $e(w){var Ne=Ye(w.r),et=Ye(w.g),tt=Ye(w.b),rt=Xe((.4124564*Ne+.3575761*et+.1804375*tt)/.95047),nt=Xe((.2126729*Ne+.7151522*et+.072175*tt)/1);return{l:116*nt-16,a:500*(rt-nt),b:200*(nt-Xe((.0193339*Ne+.119192*et+.9503041*tt)/1.08883)),alpha:w.a}}function We(w){var Ne=(w.l+16)/116,et=isNaN(w.a)?Ne:Ne+w.a/500,tt=isNaN(w.b)?Ne:Ne-w.b/200;return Ne=1*Je(Ne),et=.95047*Je(et),tt=1.08883*Je(tt),new Wt(He(3.2404542*et-1.5371385*Ne-.4985314*tt),He(-.969266*et+1.8760108*Ne+.041556*tt),He(.0556434*et-.2040259*Ne+1.0572252*tt),w.alpha)}function Qe(w,Ne,et){var tt=Ne-w;return w+et*(tt>180||tt<-180?tt-360*Math.round(tt/360):tt)}var us={forward:$e,reverse:We,interpolate:function(w,Ne,et){return{l:qe(w.l,Ne.l,et),a:qe(w.a,Ne.a,et),b:qe(w.b,Ne.b,et),alpha:qe(w.alpha,Ne.alpha,et)}}},fs={forward:function(w){var Ne=$e(w),et=Ne.l,tt=Ne.a,rt=Ne.b,nt=Math.atan2(rt,tt)*ls;return{h:nt<0?nt+360:nt,c:Math.sqrt(tt*tt+rt*rt),l:et,alpha:w.a}},reverse:function(w){var Ne=w.h*ss,et=w.c;return We({l:w.l,a:Math.cos(Ne)*et,b:Math.sin(Ne)*et,alpha:w.alpha})},interpolate:function(w,Ne,et){return{h:Qe(w.h,Ne.h,et),c:qe(w.c,Ne.c,et),l:qe(w.l,Ne.l,et),alpha:qe(w.alpha,Ne.alpha,et)}}},gs=Object.freeze({__proto__:null,lab:us,hcl:fs}),nr=function(w,Ne,et,tt,rt){this.type=w,this.operator=Ne,this.interpolation=et,this.input=tt,this.labels=[],this.outputs=[];for(var nt=0,it=rt;nt<it.length;nt+=1){var ot=it[nt],at=ot[1];this.labels.push(ot[0]),this.outputs.push(at)}};function ir(w,Ne,et,tt){var rt=tt-et,nt=w-et;return 0===rt?0:1===Ne?nt/rt:(Math.pow(Ne,nt)-1)/(Math.pow(Ne,rt)-1)}nr.interpolationFactor=function(w,et,tt,rt){var nt=0;if("exponential"===w.name)nt=ir(et,w.base,tt,rt);else if("linear"===w.name)nt=ir(et,1,tt,rt);else if("cubic-bezier"===w.name){var it=w.controlPoints;nt=new Ne(it[0],it[1],it[2],it[3]).solve(ir(et,1,tt,rt))}return nt},nr.parse=function(w,Ne){var et=w[0],tt=w[1],rt=w[2],nt=w.slice(3);if(!Array.isArray(tt)||0===tt.length)return Ne.error("Expected an interpolation type expression.",1);if("linear"===tt[0])tt={name:"linear"};else if("exponential"===tt[0]){var it=tt[1];if("number"!=typeof it)return Ne.error("Exponential interpolation requires a numeric base.",1,1);tt={name:"exponential",base:it}}else{if("cubic-bezier"!==tt[0])return Ne.error("Unknown interpolation type "+String(tt[0]),1,0);var ot=tt.slice(1);if(4!==ot.length||ot.some((function(w){return"number"!=typeof w||w<0||w>1})))return Ne.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);tt={name:"cubic-bezier",controlPoints:ot}}if(w.length-1<4)return Ne.error("Expected at least 4 arguments, but found only "+(w.length-1)+".");if((w.length-1)%2!=0)return Ne.error("Expected an even number of arguments.");if(!(rt=Ne.parse(rt,2,qi)))return null;var at=[],st=null;"interpolate-hcl"===et||"interpolate-lab"===et?st=vo:Ne.expectedType&&"value"!==Ne.expectedType.kind&&(st=Ne.expectedType);for(var ct=0;ct<nt.length;ct+=2){var pt=nt[ct],ft=nt[ct+1],dt=ct+3,mt=ct+4;if("number"!=typeof pt)return Ne.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',dt);if(at.length&&at[at.length-1][0]>=pt)return Ne.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',dt);var yt=Ne.parse(ft,mt,st);if(!yt)return null;st=st||yt.type,at.push([pt,yt])}return"number"===st.kind||"color"===st.kind||"array"===st.kind&&"number"===st.itemType.kind&&"number"==typeof st.N?new nr(st,et,tt,rt,at):Ne.error("Type "+Zt(st)+" is not interpolatable.")},nr.prototype.evaluate=function(w){var Ne=this.labels,et=this.outputs;if(1===Ne.length)return et[0].evaluate(w);var tt=this.input.evaluate(w);if(tt<=Ne[0])return et[0].evaluate(w);var rt=Ne.length;if(tt>=Ne[rt-1])return et[rt-1].evaluate(w);var nt=Ue(Ne,tt),it=nr.interpolationFactor(this.interpolation,tt,Ne[nt],Ne[nt+1]),ot=et[nt].evaluate(w),at=et[nt+1].evaluate(w);return"interpolate"===this.operator?os[this.type.kind.toLowerCase()](ot,at,it):"interpolate-hcl"===this.operator?fs.reverse(fs.interpolate(fs.forward(ot),fs.forward(at),it)):us.reverse(us.interpolate(us.forward(ot),us.forward(at),it))},nr.prototype.eachChild=function(w){w(this.input);for(var Ne=0,et=this.outputs;Ne<et.length;Ne+=1)w(et[Ne])},nr.prototype.outputDefined=function(){return this.outputs.every((function(w){return w.outputDefined()}))},nr.prototype.serialize=function(){var w;w="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var Ne=[this.operator,w,this.input.serialize()],et=0;et<this.labels.length;et++)Ne.push(this.labels[et],this.outputs[et].serialize());return Ne};var ar=function(w,Ne){this.type=w,this.args=Ne};ar.parse=function(w,Ne){if(w.length<2)return Ne.error("Expectected at least one argument.");var et=null,tt=Ne.expectedType;tt&&"value"!==tt.kind&&(et=tt);for(var rt=[],nt=0,it=w.slice(1);nt<it.length;nt+=1){var ot=Ne.parse(it[nt],1+rt.length,et,void 0,{typeAnnotation:"omit"});if(!ot)return null;et=et||ot.type,rt.push(ot)}var at=tt&&rt.some((function(w){return Jt(tt,w.type)}));return new ar(at?ea:et,rt)},ar.prototype.evaluate=function(w){for(var Ne,et=null,tt=0,rt=0,nt=this.args;rt<nt.length&&(tt++,(et=nt[rt].evaluate(w))&&et instanceof re&&!et.available&&(Ne||(Ne=et.name),et=null,tt===this.args.length&&(et=Ne)),null===et);rt+=1);return et},ar.prototype.eachChild=function(w){this.args.forEach(w)},ar.prototype.outputDefined=function(){return this.args.every((function(w){return w.outputDefined()}))},ar.prototype.serialize=function(){var w=["coalesce"];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var or=function(w,Ne){this.type=Ne.type,this.bindings=[].concat(w),this.result=Ne};or.prototype.evaluate=function(w){return this.result.evaluate(w)},or.prototype.eachChild=function(w){for(var Ne=0,et=this.bindings;Ne<et.length;Ne+=1)w(et[Ne][1]);w(this.result)},or.parse=function(w,Ne){if(w.length<4)return Ne.error("Expected at least 3 arguments, but found "+(w.length-1)+" instead.");for(var et=[],tt=1;tt<w.length-1;tt+=2){var rt=w[tt];if("string"!=typeof rt)return Ne.error("Expected string, but found "+typeof rt+" instead.",tt);if(/[^a-zA-Z0-9_]/.test(rt))return Ne.error("Variable names must contain only alphanumeric characters or '_'.",tt);var nt=Ne.parse(w[tt+1],tt+1);if(!nt)return null;et.push([rt,nt])}var it=Ne.parse(w[w.length-1],w.length-1,Ne.expectedType,et);return it?new or(et,it):null},or.prototype.outputDefined=function(){return this.result.outputDefined()},or.prototype.serialize=function(){for(var w=["let"],Ne=0,et=this.bindings;Ne<et.length;Ne+=1){var tt=et[Ne];w.push(tt[0],tt[1].serialize())}return w.push(this.result.serialize()),w};var sr=function(w,Ne,et){this.type=w,this.index=Ne,this.input=et};sr.parse=function(w,Ne){if(3!==w.length)return Ne.error("Expected 2 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,qi),tt=Ne.parse(w[2],2,Gt(Ne.expectedType||ea));return et&&tt?new sr(tt.type.itemType,et,tt):null},sr.prototype.evaluate=function(w){var Ne=this.index.evaluate(w),et=this.input.evaluate(w);if(Ne<0)throw new ue("Array index out of bounds: "+Ne+" < 0.");if(Ne>=et.length)throw new ue("Array index out of bounds: "+Ne+" > "+(et.length-1)+".");if(Ne!==Math.floor(Ne))throw new ue("Array index must be an integer, but found "+Ne+" instead.");return et[Ne]},sr.prototype.eachChild=function(w){w(this.index),w(this.input)},sr.prototype.outputDefined=function(){return!1},sr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ur=function(w,Ne){this.type=po,this.needle=w,this.haystack=Ne};ur.parse=function(w,Ne){if(3!==w.length)return Ne.error("Expected 2 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,ea),tt=Ne.parse(w[2],2,ea);return et&&tt?Ht(et.type,[po,uo,qi,ii,ea])?new ur(et,tt):Ne.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(et.type)+" instead"):null},ur.prototype.evaluate=function(w){var Ne=this.needle.evaluate(w),et=this.haystack.evaluate(w);if(!et)return!1;if(!Yt(Ne,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(Ne))+" instead.");if(!Yt(et,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(et))+" instead.");return et.indexOf(Ne)>=0},ur.prototype.eachChild=function(w){w(this.needle),w(this.haystack)},ur.prototype.outputDefined=function(){return!0},ur.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var lr=function(w,Ne,et){this.type=qi,this.needle=w,this.haystack=Ne,this.fromIndex=et};lr.parse=function(w,Ne){if(w.length<=2||w.length>=5)return Ne.error("Expected 3 or 4 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,ea),tt=Ne.parse(w[2],2,ea);if(!et||!tt)return null;if(!Ht(et.type,[po,uo,qi,ii,ea]))return Ne.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(et.type)+" instead");if(4===w.length){var rt=Ne.parse(w[3],3,qi);return rt?new lr(et,tt,rt):null}return new lr(et,tt)},lr.prototype.evaluate=function(w){var Ne=this.needle.evaluate(w),et=this.haystack.evaluate(w);if(!Yt(Ne,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(Ne))+" instead.");if(!Yt(et,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(et))+" instead.");if(this.fromIndex){var tt=this.fromIndex.evaluate(w);return et.indexOf(Ne,tt)}return et.indexOf(Ne)},lr.prototype.eachChild=function(w){w(this.needle),w(this.haystack),this.fromIndex&&w(this.fromIndex)},lr.prototype.outputDefined=function(){return!1},lr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var w=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),w]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pr=function(w,Ne,et,tt,rt,nt){this.inputType=w,this.type=Ne,this.input=et,this.cases=tt,this.outputs=rt,this.otherwise=nt};pr.parse=function(w,Ne){if(w.length<5)return Ne.error("Expected at least 4 arguments, but found only "+(w.length-1)+".");if(w.length%2!=1)return Ne.error("Expected an even number of arguments.");var et,tt;Ne.expectedType&&"value"!==Ne.expectedType.kind&&(tt=Ne.expectedType);for(var rt={},nt=[],it=2;it<w.length-1;it+=2){var ot=w[it],at=w[it+1];Array.isArray(ot)||(ot=[ot]);var st=Ne.concat(it);if(0===ot.length)return st.error("Expected at least one branch label.");for(var ct=0,pt=ot;ct<pt.length;ct+=1){var ft=pt[ct];if("number"!=typeof ft&&"string"!=typeof ft)return st.error("Branch labels must be numbers or strings.");if("number"==typeof ft&&Math.abs(ft)>Number.MAX_SAFE_INTEGER)return st.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof ft&&Math.floor(ft)!==ft)return st.error("Numeric branch labels must be integer values.");if(et){if(st.checkSubtype(et,ae(ft)))return null}else et=ae(ft);if(void 0!==rt[String(ft)])return st.error("Branch labels must be unique.");rt[String(ft)]=nt.length}var dt=Ne.parse(at,it,tt);if(!dt)return null;tt=tt||dt.type,nt.push(dt)}var mt=Ne.parse(w[1],1,ea);if(!mt)return null;var yt=Ne.parse(w[w.length-1],w.length-1,tt);return yt?"value"!==mt.type.kind&&Ne.concat(1).checkSubtype(et,mt.type)?null:new pr(et,tt,mt,rt,nt,yt):null},pr.prototype.evaluate=function(w){var Ne=this.input.evaluate(w);return(ae(Ne)===this.inputType&&this.outputs[this.cases[Ne]]||this.otherwise).evaluate(w)},pr.prototype.eachChild=function(w){w(this.input),this.outputs.forEach(w),w(this.otherwise)},pr.prototype.outputDefined=function(){return this.outputs.every((function(w){return w.outputDefined()}))&&this.otherwise.outputDefined()},pr.prototype.serialize=function(){for(var w=this,Ne=["match",this.input.serialize()],et=[],tt={},rt=0,nt=Object.keys(this.cases).sort();rt<nt.length;rt+=1){var it=nt[rt];void 0===(ct=tt[this.cases[it]])?(tt[this.cases[it]]=et.length,et.push([this.cases[it],[it]])):et[ct][1].push(it)}for(var s=function(Ne){return"number"===w.inputType.kind?Number(Ne):Ne},ot=0,at=et;ot<at.length;ot+=1){var st=at[ot],ct=st[0],pt=st[1];Ne.push(1===pt.length?s(pt[0]):pt.map(s)),Ne.push(this.outputs[outputIndex$1].serialize())}return Ne.push(this.otherwise.serialize()),Ne};var cr=function(w,Ne,et){this.type=w,this.branches=Ne,this.otherwise=et};cr.parse=function(w,Ne){if(w.length<4)return Ne.error("Expected at least 3 arguments, but found only "+(w.length-1)+".");if(w.length%2!=0)return Ne.error("Expected an odd number of arguments.");var et;Ne.expectedType&&"value"!==Ne.expectedType.kind&&(et=Ne.expectedType);for(var tt=[],rt=1;rt<w.length-1;rt+=2){var nt=Ne.parse(w[rt],rt,po);if(!nt)return null;var it=Ne.parse(w[rt+1],rt+1,et);if(!it)return null;tt.push([nt,it]),et=et||it.type}var ot=Ne.parse(w[w.length-1],w.length-1,et);return ot?new cr(et,tt,ot):null},cr.prototype.evaluate=function(w){for(var Ne=0,et=this.branches;Ne<et.length;Ne+=1){var tt=et[Ne],rt=tt[1];if(tt[0].evaluate(w))return rt.evaluate(w)}return this.otherwise.evaluate(w)},cr.prototype.eachChild=function(w){for(var Ne=0,et=this.branches;Ne<et.length;Ne+=1){var tt=et[Ne],rt=tt[1];w(tt[0]),w(rt)}w(this.otherwise)},cr.prototype.outputDefined=function(){return this.branches.every((function(w){return w[1].outputDefined()}))&&this.otherwise.outputDefined()},cr.prototype.serialize=function(){var w=["case"];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var hr=function(w,Ne,et,tt){this.type=w,this.input=Ne,this.beginIndex=et,this.endIndex=tt};function fr(w,Ne){return"=="===w||"!="===w?"boolean"===Ne.kind||"string"===Ne.kind||"number"===Ne.kind||"null"===Ne.kind||"value"===Ne.kind:"string"===Ne.kind||"number"===Ne.kind||"value"===Ne.kind}function yr(w,Ne,et,tt){return 0===tt.compare(Ne,et)}function dr(w,Ne,et){var tt="=="!==w&&"!="!==w;return function(){function i(w,Ne,et){this.type=po,this.lhs=w,this.rhs=Ne,this.collator=et,this.hasUntypedArgument="value"===w.type.kind||"value"===Ne.type.kind}return i.parse=function(w,Ne){if(3!==w.length&&4!==w.length)return Ne.error("Expected two or three arguments.");var et=w[0],rt=Ne.parse(w[1],1,ea);if(!rt)return null;if(!fr(et,rt.type))return Ne.concat(1).error('"'+et+"\" comparisons are not supported for type '"+Zt(rt.type)+"'.");var nt=Ne.parse(w[2],2,ea);if(!nt)return null;if(!fr(et,nt.type))return Ne.concat(2).error('"'+et+"\" comparisons are not supported for type '"+Zt(nt.type)+"'.");if(rt.type.kind!==nt.type.kind&&"value"!==rt.type.kind&&"value"!==nt.type.kind)return Ne.error("Cannot compare types '"+Zt(rt.type)+"' and '"+Zt(nt.type)+"'.");tt&&("value"===rt.type.kind&&"value"!==nt.type.kind?rt=new pe(nt.type,[rt]):"value"!==rt.type.kind&&"value"===nt.type.kind&&(nt=new pe(rt.type,[nt])));var it=null;if(4===w.length){if("string"!==rt.type.kind&&"string"!==nt.type.kind&&"value"!==rt.type.kind&&"value"!==nt.type.kind)return Ne.error("Cannot use collator to compare non-string types.");if(!(it=Ne.parse(w[3],3,ta)))return null}return new i(rt,nt,it)},i.prototype.evaluate=function(rt){var nt=this.lhs.evaluate(rt),it=this.rhs.evaluate(rt);if(tt&&this.hasUntypedArgument){var ot=ae(nt),at=ae(it);if(ot.kind!==at.kind||"string"!==ot.kind&&"number"!==ot.kind)throw new ue('Expected arguments for "'+w+'" to be (string, string) or (number, number), but found ('+ot.kind+", "+at.kind+") instead.")}if(this.collator&&!tt&&this.hasUntypedArgument){var st=ae(nt),ct=ae(it);if("string"!==st.kind||"string"!==ct.kind)return Ne(rt,nt,it)}return this.collator?et(rt,nt,it,this.collator.evaluate(rt)):Ne(rt,nt,it)},i.prototype.eachChild=function(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var Ne=[w];return this.eachChild((function(w){Ne.push(w.serialize())})),Ne},i}()}hr.parse=function(w,Ne){if(w.length<=2||w.length>=5)return Ne.error("Expected 3 or 4 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,ea),tt=Ne.parse(w[2],2,qi);if(!et||!tt)return null;if(!Ht(et.type,[Gt(ea),uo,ea]))return Ne.error("Expected first argument to be of type array or string, but found "+Zt(et.type)+" instead");if(4===w.length){var rt=Ne.parse(w[3],3,qi);return rt?new hr(et.type,et,tt,rt):null}return new hr(et.type,et,tt)},hr.prototype.evaluate=function(w){var Ne=this.input.evaluate(w),et=this.beginIndex.evaluate(w);if(!Yt(Ne,["string","array"]))throw new ue("Expected first argument to be of type array or string, but found "+Zt(ae(Ne))+" instead.");if(this.endIndex){var tt=this.endIndex.evaluate(w);return Ne.slice(et,tt)}return Ne.slice(et)},hr.prototype.eachChild=function(w){w(this.input),w(this.beginIndex),this.endIndex&&w(this.endIndex)},hr.prototype.outputDefined=function(){return!1},hr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var w=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),w]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var vs=dr("==",(function(w,Ne,et){return Ne===et}),yr),xs=dr("!=",(function(w,Ne,et){return Ne!==et}),(function(w,Ne,et,tt){return!yr(0,Ne,et,tt)})),Ss=dr("<",(function(w,Ne,et){return Ne<et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)<0})),Es=dr(">",(function(w,Ne,et){return Ne>et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)>0})),Cs=dr("<=",(function(w,Ne,et){return Ne<=et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)<=0})),Ps=dr(">=",(function(w,Ne,et){return Ne>=et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)>=0})),_r=function(w,Ne,et,tt,rt){this.type=uo,this.number=w,this.locale=Ne,this.currency=et,this.minFractionDigits=tt,this.maxFractionDigits=rt};_r.parse=function(w,Ne){if(3!==w.length)return Ne.error("Expected two arguments.");var et=Ne.parse(w[1],1,qi);if(!et)return null;var tt=w[2];if("object"!=typeof tt||Array.isArray(tt))return Ne.error("NumberFormat options argument must be an object.");var rt=null;if(tt.locale&&!(rt=Ne.parse(tt.locale,1,uo)))return null;var nt=null;if(tt.currency&&!(nt=Ne.parse(tt.currency,1,uo)))return null;var it=null;if(tt["min-fraction-digits"]&&!(it=Ne.parse(tt["min-fraction-digits"],1,qi)))return null;var ot=null;return tt["max-fraction-digits"]&&!(ot=Ne.parse(tt["max-fraction-digits"],1,qi))?null:new _r(et,rt,nt,it,ot)},_r.prototype.evaluate=function(w){return new Intl.NumberFormat(this.locale?this.locale.evaluate(w):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(w):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(w):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(w):void 0}).format(this.number.evaluate(w))},_r.prototype.eachChild=function(w){w(this.number),this.locale&&w(this.locale),this.currency&&w(this.currency),this.minFractionDigits&&w(this.minFractionDigits),this.maxFractionDigits&&w(this.maxFractionDigits)},_r.prototype.outputDefined=function(){return!1},_r.prototype.serialize=function(){var w={};return this.locale&&(w.locale=this.locale.serialize()),this.currency&&(w.currency=this.currency.serialize()),this.minFractionDigits&&(w["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(w["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),w]};var Ar=function(w){this.type=qi,this.input=w};Ar.parse=function(w,Ne){if(2!==w.length)return Ne.error("Expected 1 argument, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1);return et?"array"!==et.type.kind&&"string"!==et.type.kind&&"value"!==et.type.kind?Ne.error("Expected argument of type string or array, but found "+Zt(et.type)+" instead."):new Ar(et):null},Ar.prototype.evaluate=function(w){var Ne=this.input.evaluate(w);if("string"==typeof Ne)return Ne.length;if(Array.isArray(Ne))return Ne.length;throw new ue("Expected value to be of type string or array, but found "+Zt(ae(Ne))+" instead.")},Ar.prototype.eachChild=function(w){w(this.input)},Ar.prototype.outputDefined=function(){return!1},Ar.prototype.serialize=function(){var w=["length"];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var As={"==":vs,"!=":xs,">":Es,"<":Ss,">=":Ps,"<=":Cs,array:pe,at:sr,boolean:pe,case:cr,coalesce:ar,collator:ge,format:ce,image:he,in:ur,"index-of":lr,interpolate:nr,"interpolate-hcl":nr,"interpolate-lab":nr,length:Ar,let:or,literal:se,match:pr,number:pe,"number-format":_r,object:pe,slice:hr,step:je,string:pe,"to-boolean":ye,"to-color":ye,"to-number":ye,"to-string":ye,var:Re,within:Ve};function kr(w,Ne){var et=Ne[0],tt=Ne[1],rt=Ne[2],nt=Ne[3];et=et.evaluate(w),tt=tt.evaluate(w),rt=rt.evaluate(w);var it=nt?nt.evaluate(w):1,ot=ne(et,tt,rt,it);if(ot)throw new ue(ot);return new Wt(et/255*it,tt/255*it,rt/255*it,it)}function Ir(w,Ne){return w in Ne}function zr(w,Ne){var et=Ne[w];return void 0===et?null:et}function Cr(w){return{type:w}}function Mr(w){return{result:"success",value:w}}function Er(w){return{result:"error",value:w}}function Tr(w){return"data-driven"===w["property-type"]||"cross-faded-data-driven"===w["property-type"]}function Pr(w){return!!w.expression&&w.expression.parameters.indexOf("zoom")>-1}function Br(w){return!!w.expression&&w.expression.interpolated}function Vr(w){return w instanceof Number?"number":w instanceof String?"string":w instanceof Boolean?"boolean":Array.isArray(w)?"array":null===w?"null":typeof w}function Fr(w){return"object"==typeof w&&null!==w&&!Array.isArray(w)}function Dr(w){return w}function Lr(w,Ne,et){return void 0!==w?w:void 0!==Ne?Ne:void 0!==et?et:void 0}function Rr(w,Ne,et,tt,rt){return Lr(typeof et===rt?tt[et]:void 0,w.default,Ne.default)}function Or(w,Ne,et){if("number"!==Vr(et))return Lr(w.default,Ne.default);var tt=w.stops.length;if(1===tt)return w.stops[0][1];if(et<=w.stops[0][0])return w.stops[0][1];if(et>=w.stops[tt-1][0])return w.stops[tt-1][1];var rt=Ue(w.stops.map((function(w){return w[0]})),et);return w.stops[rt][1]}function Ur(w,Ne,et){var tt=void 0!==w.base?w.base:1;if("number"!==Vr(et))return Lr(w.default,Ne.default);var rt=w.stops.length;if(1===rt)return w.stops[0][1];if(et<=w.stops[0][0])return w.stops[0][1];if(et>=w.stops[rt-1][0])return w.stops[rt-1][1];var nt=Ue(w.stops.map((function(w){return w[0]})),et),it=function(w,Ne,et,tt){var rt=tt-et,nt=w-et;return 0===rt?0:1===Ne?nt/rt:(Math.pow(Ne,nt)-1)/(Math.pow(Ne,rt)-1)}(et,tt,w.stops[nt][0],w.stops[nt+1][0]),ot=w.stops[nt][1],at=w.stops[nt+1][1],st=os[Ne.type]||Dr;if(w.colorSpace&&"rgb"!==w.colorSpace){var ct=gs[w.colorSpace];st=function(w,Ne){return ct.reverse(ct.interpolate(ct.forward(w),ct.forward(Ne),it))}}return"function"==typeof ot.evaluate?{evaluate:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=ot.evaluate.apply(void 0,w),tt=at.evaluate.apply(void 0,w);if(void 0!==et&&void 0!==tt)return st(et,tt,it)}}:st(ot,at,it)}function jr(w,Ne,et){return"color"===Ne.type?et=Wt.parse(et):"formatted"===Ne.type?et=ee.fromString(et.toString()):"resolvedImage"===Ne.type?et=re.fromString(et.toString()):Vr(et)===Ne.type||"enum"===Ne.type&&Ne.values[et]||(et=void 0),Lr(et,w.default,Ne.default)}ve.register(As,{error:[{kind:"error"},[uo],function(w,Ne){throw new ue(Ne[0].evaluate(w))}],typeof:[uo,[ea],function(w,Ne){return Zt(ae(Ne[0].evaluate(w)))}],"to-rgba":[Gt(qi,4),[vo],function(w,Ne){return Ne[0].evaluate(w).toArray()}],rgb:[vo,[qi,qi,qi],kr],rgba:[vo,[qi,qi,qi,qi],kr],has:{type:po,overloads:[[[uo],function(w,Ne){return Ir(Ne[0].evaluate(w),w.properties())}],[[uo,So],function(w,Ne){var et=Ne[1];return Ir(Ne[0].evaluate(w),et.evaluate(w))}]]},get:{type:ea,overloads:[[[uo],function(w,Ne){return zr(Ne[0].evaluate(w),w.properties())}],[[uo,So],function(w,Ne){var et=Ne[1];return zr(Ne[0].evaluate(w),et.evaluate(w))}]]},"feature-state":[ea,[uo],function(w,Ne){return zr(Ne[0].evaluate(w),w.featureState||{})}],properties:[So,[],function(w){return w.properties()}],"geometry-type":[uo,[],function(w){return w.geometryType()}],id:[ea,[],function(w){return w.id()}],zoom:[qi,[],function(w){return w.globals.zoom}],"heatmap-density":[qi,[],function(w){return w.globals.heatmapDensity||0}],"line-progress":[qi,[],function(w){return w.globals.lineProgress||0}],accumulated:[ea,[],function(w){return void 0===w.globals.accumulated?null:w.globals.accumulated}],"+":[qi,Cr(qi),function(w,Ne){for(var et=0,tt=0,rt=Ne;tt<rt.length;tt+=1)et+=rt[tt].evaluate(w);return et}],"*":[qi,Cr(qi),function(w,Ne){for(var et=1,tt=0,rt=Ne;tt<rt.length;tt+=1)et*=rt[tt].evaluate(w);return et}],"-":{type:qi,overloads:[[[qi,qi],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)-et.evaluate(w)}],[[qi],function(w,Ne){return-Ne[0].evaluate(w)}]]},"/":[qi,[qi,qi],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)/et.evaluate(w)}],"%":[qi,[qi,qi],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)%et.evaluate(w)}],ln2:[qi,[],function(){return Math.LN2}],pi:[qi,[],function(){return Math.PI}],e:[qi,[],function(){return Math.E}],"^":[qi,[qi,qi],function(w,Ne){var et=Ne[1];return Math.pow(Ne[0].evaluate(w),et.evaluate(w))}],sqrt:[qi,[qi],function(w,Ne){return Math.sqrt(Ne[0].evaluate(w))}],log10:[qi,[qi],function(w,Ne){return Math.log(Ne[0].evaluate(w))/Math.LN10}],ln:[qi,[qi],function(w,Ne){return Math.log(Ne[0].evaluate(w))}],log2:[qi,[qi],function(w,Ne){return Math.log(Ne[0].evaluate(w))/Math.LN2}],sin:[qi,[qi],function(w,Ne){return Math.sin(Ne[0].evaluate(w))}],cos:[qi,[qi],function(w,Ne){return Math.cos(Ne[0].evaluate(w))}],tan:[qi,[qi],function(w,Ne){return Math.tan(Ne[0].evaluate(w))}],asin:[qi,[qi],function(w,Ne){return Math.asin(Ne[0].evaluate(w))}],acos:[qi,[qi],function(w,Ne){return Math.acos(Ne[0].evaluate(w))}],atan:[qi,[qi],function(w,Ne){return Math.atan(Ne[0].evaluate(w))}],min:[qi,Cr(qi),function(w,Ne){return Math.min.apply(Math,Ne.map((function(Ne){return Ne.evaluate(w)})))}],max:[qi,Cr(qi),function(w,Ne){return Math.max.apply(Math,Ne.map((function(Ne){return Ne.evaluate(w)})))}],abs:[qi,[qi],function(w,Ne){return Math.abs(Ne[0].evaluate(w))}],round:[qi,[qi],function(w,Ne){var et=Ne[0].evaluate(w);return et<0?-Math.round(-et):Math.round(et)}],floor:[qi,[qi],function(w,Ne){return Math.floor(Ne[0].evaluate(w))}],ceil:[qi,[qi],function(w,Ne){return Math.ceil(Ne[0].evaluate(w))}],"filter-==":[po,[uo,ea],function(w,Ne){var et=Ne[0],tt=Ne[1];return w.properties()[et.value]===tt.value}],"filter-id-==":[po,[ea],function(w,Ne){var et=Ne[0];return w.id()===et.value}],"filter-type-==":[po,[uo],function(w,Ne){var et=Ne[0];return w.geometryType()===et.value}],"filter-<":[po,[uo,ea],function(w,Ne){var et=Ne[0],tt=Ne[1],rt=w.properties()[et.value],nt=tt.value;return typeof rt==typeof nt&&rt<nt}],"filter-id-<":[po,[ea],function(w,Ne){var et=Ne[0],tt=w.id(),rt=et.value;return typeof tt==typeof rt&&tt<rt}],"filter->":[po,[uo,ea],function(w,Ne){var et=Ne[0],tt=Ne[1],rt=w.properties()[et.value],nt=tt.value;return typeof rt==typeof nt&&rt>nt}],"filter-id->":[po,[ea],function(w,Ne){var et=Ne[0],tt=w.id(),rt=et.value;return typeof tt==typeof rt&&tt>rt}],"filter-<=":[po,[uo,ea],function(w,Ne){var et=Ne[0],tt=Ne[1],rt=w.properties()[et.value],nt=tt.value;return typeof rt==typeof nt&&rt<=nt}],"filter-id-<=":[po,[ea],function(w,Ne){var et=Ne[0],tt=w.id(),rt=et.value;return typeof tt==typeof rt&&tt<=rt}],"filter->=":[po,[uo,ea],function(w,Ne){var et=Ne[0],tt=Ne[1],rt=w.properties()[et.value],nt=tt.value;return typeof rt==typeof nt&&rt>=nt}],"filter-id->=":[po,[ea],function(w,Ne){var et=Ne[0],tt=w.id(),rt=et.value;return typeof tt==typeof rt&&tt>=rt}],"filter-has":[po,[ea],function(w,Ne){return Ne[0].value in w.properties()}],"filter-has-id":[po,[],function(w){return null!==w.id()&&void 0!==w.id()}],"filter-type-in":[po,[Gt(uo)],function(w,Ne){return Ne[0].value.indexOf(w.geometryType())>=0}],"filter-id-in":[po,[Gt(ea)],function(w,Ne){return Ne[0].value.indexOf(w.id())>=0}],"filter-in-small":[po,[uo,Gt(ea)],function(w,Ne){var et=Ne[0];return Ne[1].value.indexOf(w.properties()[et.value])>=0}],"filter-in-large":[po,[uo,Gt(ea)],function(w,Ne){var et=Ne[0],tt=Ne[1];return function(w,Ne,et,tt){for(;et<=tt;){var rt=et+tt>>1;if(Ne[rt]===w)return!0;Ne[rt]>w?tt=rt-1:et=rt+1}return!1}(w.properties()[et.value],tt.value,0,tt.value.length-1)}],all:{type:po,overloads:[[[po,po],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)&&et.evaluate(w)}],[Cr(po),function(w,Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(!tt[et].evaluate(w))return!1;return!0}]]},any:{type:po,overloads:[[[po,po],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)||et.evaluate(w)}],[Cr(po),function(w,Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(tt[et].evaluate(w))return!0;return!1}]]},"!":[po,[po],function(w,Ne){return!Ne[0].evaluate(w)}],"is-supported-script":[po,[uo],function(w,Ne){var et=w.globals&&w.globals.isSupportedScript;return!et||et(Ne[0].evaluate(w))}],upcase:[uo,[uo],function(w,Ne){return Ne[0].evaluate(w).toUpperCase()}],downcase:[uo,[uo],function(w,Ne){return Ne[0].evaluate(w).toLowerCase()}],concat:[uo,Cr(ea),function(w,Ne){return Ne.map((function(Ne){return oe(Ne.evaluate(w))})).join("")}],"resolved-locale":[uo,[ta],function(w,Ne){return Ne[0].evaluate(w).resolvedLocale()}]});var qr=function(w,Ne){this.expression=w,this._warningHistory={},this._evaluator=new me,this._defaultValue=Ne?function(w){return"color"===w.type&&Fr(w.default)?new Wt(0,0,0,0):"color"===w.type?Wt.parse(w.default)||null:void 0===w.default?null:w.default}(Ne):null,this._enumValues=Ne&&"enum"===Ne.type?Ne.values:null};function Nr(w){return Array.isArray(w)&&w.length>0&&"string"==typeof w[0]&&w[0]in As}function Kr(w,Ne){var et=new Oe(As,[],Ne?function(w){var Ne={color:vo,string:uo,number:qi,enum:uo,boolean:po,formatted:ia,resolvedImage:sa};return"array"===w.type?Gt(Ne[w.value]||ea,w.length):Ne[w.type]}(Ne):void 0),tt=et.parse(w,void 0,void 0,void 0,Ne&&"string"===Ne.type?{typeAnnotation:"coerce"}:void 0);return tt?Mr(new qr(tt,Ne)):Er(et.errors)}qr.prototype.evaluateWithoutErrorHandling=function(w,Ne,et,tt,rt,nt){return this._evaluator.globals=w,this._evaluator.feature=Ne,this._evaluator.featureState=et,this._evaluator.canonical=tt,this._evaluator.availableImages=rt||null,this._evaluator.formattedSection=nt,this.expression.evaluate(this._evaluator)},qr.prototype.evaluate=function(w,Ne,et,tt,rt,nt){this._evaluator.globals=w,this._evaluator.feature=Ne||null,this._evaluator.featureState=et||null,this._evaluator.canonical=tt,this._evaluator.availableImages=rt||null,this._evaluator.formattedSection=nt||null;try{var it=this.expression.evaluate(this._evaluator);if(null==it||"number"==typeof it&&it!=it)return this._defaultValue;if(this._enumValues&&!(it in this._enumValues))throw new ue("Expected value to be one of "+Object.keys(this._enumValues).map((function(w){return JSON.stringify(w)})).join(", ")+", but found "+JSON.stringify(it)+" instead.");return it}catch(w){return this._warningHistory[w.message]||(this._warningHistory[w.message]=!0,"undefined"!=typeof console&&console.warn(w.message)),this._defaultValue}};var Gr=function(w,Ne){this.kind=w,this._styleExpression=Ne,this.isStateDependent="constant"!==w&&!De(Ne.expression)};Gr.prototype.evaluateWithoutErrorHandling=function(w,Ne,et,tt,rt,nt){return this._styleExpression.evaluateWithoutErrorHandling(w,Ne,et,tt,rt,nt)},Gr.prototype.evaluate=function(w,Ne,et,tt,rt,nt){return this._styleExpression.evaluate(w,Ne,et,tt,rt,nt)};var Zr=function(w,Ne,et,tt){this.kind=w,this.zoomStops=et,this._styleExpression=Ne,this.isStateDependent="camera"!==w&&!De(Ne.expression),this.interpolationType=tt};function Xr(w,Ne){if("error"===(w=Kr(w,Ne)).result)return w;var et=w.value.expression,tt=Fe(et);if(!tt&&!Tr(Ne))return Er([new Yn("","data expressions not supported")]);var rt=Le(et,["zoom"]);if(!rt&&!Pr(Ne))return Er([new Yn("","zoom expressions not supported")]);var nt=function t(w){var Ne=null;if(w instanceof or)Ne=t(w.result);else if(w instanceof ar)for(var et=0,tt=w.args;et<tt.length&&!(Ne=t(tt[et]));et+=1);else(w instanceof je||w instanceof nr)&&w.input instanceof ve&&"zoom"===w.input.name&&(Ne=w);return Ne instanceof Yn||w.eachChild((function(w){var et=t(w);et instanceof Yn?Ne=et:!Ne&&et?Ne=new Yn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Ne&&et&&Ne!==et&&(Ne=new Yn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),Ne}(et);return nt||rt?nt instanceof Yn?Er([nt]):nt instanceof nr&&!Br(Ne)?Er([new Yn("",'"interpolate" expressions cannot be used with this property')]):Mr(nt?new Zr(tt?"camera":"composite",w.value,nt.labels,nt instanceof nr?nt.interpolation:void 0):new Gr(tt?"constant":"source",w.value)):Er([new Yn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zr.prototype.evaluateWithoutErrorHandling=function(w,Ne,et,tt,rt,nt){return this._styleExpression.evaluateWithoutErrorHandling(w,Ne,et,tt,rt,nt)},Zr.prototype.evaluate=function(w,Ne,et,tt,rt,nt){return this._styleExpression.evaluate(w,Ne,et,tt,rt,nt)},Zr.prototype.interpolationFactor=function(w,Ne,et){return this.interpolationType?nr.interpolationFactor(this.interpolationType,w,Ne,et):0};var Jr=function(w,Ne){this._parameters=w,this._specification=Ne,Et(this,function t(w,Ne){var et,tt,rt,nt="color"===Ne.type,it=w.stops&&"object"==typeof w.stops[0][0],ot=it||!(it||void 0!==w.property),at=w.type||(Br(Ne)?"exponential":"interval");if(nt&&((w=Et({},w)).stops&&(w.stops=w.stops.map((function(w){return[w[0],Wt.parse(w[1])]}))),w.default=Wt.parse(w.default?w.default:Ne.default)),w.colorSpace&&"rgb"!==w.colorSpace&&!gs[w.colorSpace])throw new Error("Unknown color space: "+w.colorSpace);if("exponential"===at)et=Ur;else if("interval"===at)et=Or;else if("categorical"===at){et=Rr,tt=Object.create(null);for(var st=0,ct=w.stops;st<ct.length;st+=1){var pt=ct[st];tt[pt[0]]=pt[1]}rt=typeof w.stops[0][0]}else{if("identity"!==at)throw new Error('Unknown function type "'+at+'"');et=jr}if(it){for(var ft={},dt=[],mt=0;mt<w.stops.length;mt++){var yt=w.stops[mt],vt=yt[0].zoom;void 0===ft[vt]&&(ft[vt]={zoom:vt,type:w.type,property:w.property,default:w.default,stops:[]},dt.push(vt)),ft[vt].stops.push([yt[0].value,yt[1]])}for(var Rt=[],Ot=0,Dt=dt;Ot<Dt.length;Ot+=1){var Bt=Dt[Ot];Rt.push([ft[Bt].zoom,t(ft[Bt],Ne)])}var er={name:"linear"};return{kind:"composite",interpolationType:er,interpolationFactor:nr.interpolationFactor.bind(void 0,er),zoomStops:Rt.map((function(w){return w[0]})),evaluate:function(et,tt){var rt=et.zoom;return Ur({stops:Rt,base:w.base},Ne,rt).evaluate(rt,tt)}}}if(ot){var rr="exponential"===at?{name:"exponential",base:void 0!==w.base?w.base:1}:null;return{kind:"camera",interpolationType:rr,interpolationFactor:nr.interpolationFactor.bind(void 0,rr),zoomStops:w.stops.map((function(w){return w[0]})),evaluate:function(nt){return et(w,Ne,nt.zoom,tt,rt)}}}return{kind:"source",evaluate:function(nt,it){var ot=it&&it.properties?it.properties[w.property]:void 0;return void 0===ot?Lr(w.default,Ne.default):et(w,Ne,ot,tt,rt)}}}(this._parameters,this._specification))};function Hr(w){var Ne=w.key,et=w.value,tt=w.valueSpec||{},rt=w.objectElementValidators||{},nt=w.style,it=w.styleSpec,ot=[],at=Vr(et);if("object"!==at)return[new Ct(Ne,et,"object expected, "+at+" found")];for(var st in et){var ct=st.split(".")[0],pt=tt[ct]||tt["*"],ft=void 0;if(rt[ct])ft=rt[ct];else if(tt[ct])ft=wn;else if(rt["*"])ft=rt["*"];else{if(!tt["*"]){ot.push(new Ct(Ne,et[st],'unknown property "'+st+'"'));continue}ft=wn}ot=ot.concat(ft({key:(Ne?Ne+".":Ne)+st,value:et[st],valueSpec:pt,style:nt,styleSpec:it,object:et,objectKey:st},et))}for(var dt in tt)rt[dt]||tt[dt].required&&void 0===tt[dt].default&&void 0===et[dt]&&ot.push(new Ct(Ne,et,'missing required property "'+dt+'"'));return ot}function Yr(w){var Ne=w.value,et=w.valueSpec,tt=w.style,rt=w.styleSpec,nt=w.key,it=w.arrayElementValidator||wn;if("array"!==Vr(Ne))return[new Ct(nt,Ne,"array expected, "+Vr(Ne)+" found")];if(et.length&&Ne.length!==et.length)return[new Ct(nt,Ne,"array length "+et.length+" expected, length "+Ne.length+" found")];if(et["min-length"]&&Ne.length<et["min-length"])return[new Ct(nt,Ne,"array length at least "+et["min-length"]+" expected, length "+Ne.length+" found")];var ot={type:et.value,values:et.values};rt.$version<7&&(ot.function=et.function),"object"===Vr(et.value)&&(ot=et.value);for(var at=[],st=0;st<Ne.length;st++)at=at.concat(it({array:Ne,arrayIndex:st,value:Ne[st],valueSpec:ot,style:tt,styleSpec:rt,key:nt+"["+st+"]"}));return at}function $r(w){var Ne=w.key,et=w.value,tt=w.valueSpec,rt=Vr(et);return"number"===rt&&et!=et&&(rt="NaN"),"number"!==rt?[new Ct(Ne,et,"number expected, "+rt+" found")]:"minimum"in tt&&et<tt.minimum?[new Ct(Ne,et,et+" is less than the minimum value "+tt.minimum)]:"maximum"in tt&&et>tt.maximum?[new Ct(Ne,et,et+" is greater than the maximum value "+tt.maximum)]:[]}function Wr(w){var Ne,et,tt,rt=w.valueSpec,nt=Tt(w.value.type),it={},ot="categorical"!==nt&&void 0===w.value.property,at=!ot,st="array"===Vr(w.value.stops)&&"array"===Vr(w.value.stops[0])&&"object"===Vr(w.value.stops[0][0]),ct=Hr({key:w.key,value:w.value,valueSpec:w.styleSpec.function,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{stops:function(w){if("identity"===nt)return[new Ct(w.key,w.value,'identity function may not have a "stops" property')];var Ne=[],et=w.value;return Ne=Ne.concat(Yr({key:w.key,value:et,valueSpec:w.valueSpec,style:w.style,styleSpec:w.styleSpec,arrayElementValidator:c})),"array"===Vr(et)&&0===et.length&&Ne.push(new Ct(w.key,et,"array must have at least one stop")),Ne},default:function(w){return wn({key:w.key,value:w.value,valueSpec:rt,style:w.style,styleSpec:w.styleSpec})}}});return"identity"===nt&&ot&&ct.push(new Ct(w.key,w.value,'missing required property "property"')),"identity"===nt||w.value.stops||ct.push(new Ct(w.key,w.value,'missing required property "stops"')),"exponential"===nt&&w.valueSpec.expression&&!Br(w.valueSpec)&&ct.push(new Ct(w.key,w.value,"exponential functions not supported")),w.styleSpec.$version>=8&&(at&&!Tr(w.valueSpec)?ct.push(new Ct(w.key,w.value,"property functions not supported")):ot&&!Pr(w.valueSpec)&&ct.push(new Ct(w.key,w.value,"zoom functions not supported"))),"categorical"!==nt&&!st||void 0!==w.value.property||ct.push(new Ct(w.key,w.value,'"property" property is required')),ct;function c(w){var Ne=[],nt=w.value,ot=w.key;if("array"!==Vr(nt))return[new Ct(ot,nt,"array expected, "+Vr(nt)+" found")];if(2!==nt.length)return[new Ct(ot,nt,"array length 2 expected, length "+nt.length+" found")];if(st){if("object"!==Vr(nt[0]))return[new Ct(ot,nt,"object expected, "+Vr(nt[0])+" found")];if(void 0===nt[0].zoom)return[new Ct(ot,nt,"object stop key must have zoom")];if(void 0===nt[0].value)return[new Ct(ot,nt,"object stop key must have value")];if(tt&&tt>Tt(nt[0].zoom))return[new Ct(ot,nt[0].zoom,"stop zoom values must appear in ascending order")];Tt(nt[0].zoom)!==tt&&(tt=Tt(nt[0].zoom),et=void 0,it={}),Ne=Ne.concat(Hr({key:ot+"[0]",value:nt[0],valueSpec:{zoom:{}},style:w.style,styleSpec:w.styleSpec,objectElementValidators:{zoom:$r,value:h}}))}else Ne=Ne.concat(h({key:ot+"[0]",value:nt[0],valueSpec:{},style:w.style,styleSpec:w.styleSpec},nt));return Nr(Pt(nt[1]))?Ne.concat([new Ct(ot+"[1]",nt[1],"expressions are not allowed in function stops.")]):Ne.concat(wn({key:ot+"[1]",value:nt[1],valueSpec:rt,style:w.style,styleSpec:w.styleSpec}))}function h(w,tt){var ot=Vr(w.value),at=Tt(w.value),st=null!==w.value?w.value:tt;if(Ne){if(ot!==Ne)return[new Ct(w.key,st,ot+" stop domain type must match previous stop domain type "+Ne)]}else Ne=ot;if("number"!==ot&&"string"!==ot&&"boolean"!==ot)return[new Ct(w.key,st,"stop domain value must be a number, string, or boolean")];if("number"!==ot&&"categorical"!==nt){var ct="number expected, "+ot+" found";return Tr(rt)&&void 0===nt&&(ct+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ct(w.key,st,ct)]}return"categorical"!==nt||"number"!==ot||isFinite(at)&&Math.floor(at)===at?"categorical"!==nt&&"number"===ot&&void 0!==et&&at<et?[new Ct(w.key,st,"stop domain values must appear in ascending order")]:(et=at,"categorical"===nt&&at in it?[new Ct(w.key,st,"stop domain values must be unique")]:(it[at]=!0,[])):[new Ct(w.key,st,"integer expected, found "+at)]}}function Qr(w){var Ne=("property"===w.expressionContext?Xr:Kr)(Pt(w.value),w.valueSpec);if("error"===Ne.result)return Ne.value.map((function(Ne){return new Ct(""+w.key+Ne.key,w.value,Ne.message)}));var et=Ne.value.expression||Ne.value._styleExpression.expression;if("property"===w.expressionContext&&"text-font"===w.propertyKey&&!et.outputDefined())return[new Ct(w.key,w.value,'Invalid data expression for "'+w.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===w.expressionContext&&"layout"===w.propertyType&&!De(et))return[new Ct(w.key,w.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===w.expressionContext&&!De(et))return[new Ct(w.key,w.value,'"feature-state" data expressions are not supported with filters.')];if(w.expressionContext&&0===w.expressionContext.indexOf("cluster")){if(!Le(et,["zoom","feature-state"]))return[new Ct(w.key,w.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===w.expressionContext&&!Fe(et))return[new Ct(w.key,w.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tn(w){var Ne=w.key,et=w.value,tt=w.valueSpec,rt=[];return Array.isArray(tt.values)?-1===tt.values.indexOf(Tt(et))&&rt.push(new Ct(Ne,et,"expected one of ["+tt.values.join(", ")+"], "+JSON.stringify(et)+" found")):-1===Object.keys(tt.values).indexOf(Tt(et))&&rt.push(new Ct(Ne,et,"expected one of ["+Object.keys(tt.values).join(", ")+"], "+JSON.stringify(et)+" found")),rt}function en(w){if(!0===w||!1===w)return!0;if(!Array.isArray(w)||0===w.length)return!1;switch(w[0]){case"has":return w.length>=2&&"$id"!==w[1]&&"$type"!==w[1];case"in":return w.length>=3&&("string"!=typeof w[1]||Array.isArray(w[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==w.length||Array.isArray(w[1])||Array.isArray(w[2]);case"any":case"all":for(var Ne=0,et=w.slice(1);Ne<et.length;Ne+=1){var tt=et[Ne];if(!en(tt)&&"boolean"!=typeof tt)return!1}return!0;default:return!0}}Jr.deserialize=function(w){return new Jr(w._parameters,w._specification)},Jr.serialize=function(w){return{_parameters:w._parameters,_specification:w._specification}};var zs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nn(w){if(null==w)return{filter:function(){return!0},needGeometry:!1};en(w)||(w=on(w));var Ne=Kr(w,zs);if("error"===Ne.result)throw new Error(Ne.value.map((function(w){return w.key+": "+w.message})).join(", "));return{filter:function(w,et,tt){return Ne.value.evaluate(w,et,{},tt)},needGeometry:function t(w){if(!Array.isArray(w))return!1;if("within"===w[0])return!0;for(var Ne=1;Ne<w.length;Ne++)if(t(w[Ne]))return!0;return!1}(w)}}function an(w,Ne){return w<Ne?-1:w>Ne?1:0}function on(w){if(!w)return!0;var Ne,et=w[0];return w.length<=1?"any"!==et:"=="===et?sn(w[1],w[2],"=="):"!="===et?pn(sn(w[1],w[2],"==")):"<"===et||">"===et||"<="===et||">="===et?sn(w[1],w[2],et):"any"===et?(Ne=w.slice(1),["any"].concat(Ne.map(on))):"all"===et?["all"].concat(w.slice(1).map(on)):"none"===et?["all"].concat(w.slice(1).map(on).map(pn)):"in"===et?un(w[1],w.slice(2)):"!in"===et?pn(un(w[1],w.slice(2))):"has"===et?ln(w[1]):"!has"===et?pn(ln(w[1])):"within"!==et||w}function sn(w,Ne,et){switch(w){case"$type":return["filter-type-"+et,Ne];case"$id":return["filter-id-"+et,Ne];default:return["filter-"+et,w,Ne]}}function un(w,Ne){if(0===Ne.length)return!1;switch(w){case"$type":return["filter-type-in",["literal",Ne]];case"$id":return["filter-id-in",["literal",Ne]];default:return Ne.length>200&&!Ne.some((function(w){return typeof w!=typeof Ne[0]}))?["filter-in-large",w,["literal",Ne.sort(an)]]:["filter-in-small",w,["literal",Ne]]}}function ln(w){switch(w){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",w]}}function pn(w){return["!",w]}function cn(w){return en(Pt(w.value))?Qr(Et({},w,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(w){var Ne=w.value,et=w.key;if("array"!==Vr(Ne))return[new Ct(et,Ne,"array expected, "+Vr(Ne)+" found")];var tt,rt=w.styleSpec,nt=[];if(Ne.length<1)return[new Ct(et,Ne,"filter array must have at least 1 element")];switch(nt=nt.concat(tn({key:et+"[0]",value:Ne[0],valueSpec:rt.filter_operator,style:w.style,styleSpec:w.styleSpec})),Tt(Ne[0])){case"<":case"<=":case">":case">=":Ne.length>=2&&"$type"===Tt(Ne[1])&&nt.push(new Ct(et,Ne,'"$type" cannot be use with operator "'+Ne[0]+'"'));case"==":case"!=":3!==Ne.length&&nt.push(new Ct(et,Ne,'filter array for operator "'+Ne[0]+'" must have 3 elements'));case"in":case"!in":Ne.length>=2&&"string"!==(tt=Vr(Ne[1]))&&nt.push(new Ct(et+"[1]",Ne[1],"string expected, "+tt+" found"));for(var it=2;it<Ne.length;it++)tt=Vr(Ne[it]),"$type"===Tt(Ne[1])?nt=nt.concat(tn({key:et+"["+it+"]",value:Ne[it],valueSpec:rt.geometry_type,style:w.style,styleSpec:w.styleSpec})):"string"!==tt&&"number"!==tt&&"boolean"!==tt&&nt.push(new Ct(et+"["+it+"]",Ne[it],"string, number, or boolean expected, "+tt+" found"));break;case"any":case"all":case"none":for(var ot=1;ot<Ne.length;ot++)nt=nt.concat(t({key:et+"["+ot+"]",value:Ne[ot],style:w.style,styleSpec:w.styleSpec}));break;case"has":case"!has":tt=Vr(Ne[1]),2!==Ne.length?nt.push(new Ct(et,Ne,'filter array for "'+Ne[0]+'" operator must have 2 elements')):"string"!==tt&&nt.push(new Ct(et+"[1]",Ne[1],"string expected, "+tt+" found"));break;case"within":tt=Vr(Ne[1]),2!==Ne.length?nt.push(new Ct(et,Ne,'filter array for "'+Ne[0]+'" operator must have 2 elements')):"object"!==tt&&nt.push(new Ct(et+"[1]",Ne[1],"object expected, "+tt+" found"))}return nt}(w)}function hn(w,Ne){var et=w.key,tt=w.style,rt=w.styleSpec,nt=w.value,it=w.objectKey,ot=rt[Ne+"_"+w.layerType];if(!ot)return[];var at=it.match(/^(.*)-transition$/);if("paint"===Ne&&at&&ot[at[1]]&&ot[at[1]].transition)return wn({key:et,value:nt,valueSpec:rt.transition,style:tt,styleSpec:rt});var st,ct=w.valueSpec||ot[it];if(!ct)return[new Ct(et,nt,'unknown property "'+it+'"')];if("string"===Vr(nt)&&Tr(ct)&&!ct.tokens&&(st=/^{([^}]+)}$/.exec(nt)))return[new Ct(et,nt,'"'+it+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(st[1])+" }`.")];var pt=[];return"symbol"===w.layerType&&("text-field"===it&&tt&&!tt.glyphs&&pt.push(new Ct(et,nt,'use of "text-field" requires a style "glyphs" property')),"text-font"===it&&Fr(Pt(nt))&&"identity"===Tt(nt.type)&&pt.push(new Ct(et,nt,'"text-font" does not support identity functions'))),pt.concat(wn({key:w.key,value:nt,valueSpec:ct,style:tt,styleSpec:rt,expressionContext:"property",propertyType:Ne,propertyKey:it}))}function fn(w){return hn(w,"paint")}function yn(w){return hn(w,"layout")}function dn(w){var Ne=[],et=w.value,tt=w.key,rt=w.style,nt=w.styleSpec;et.type||et.ref||Ne.push(new Ct(tt,et,'either "type" or "ref" is required'));var it,ot=Tt(et.type),at=Tt(et.ref);if(et.id)for(var st=Tt(et.id),ct=0;ct<w.arrayIndex;ct++){var pt=rt.layers[ct];Tt(pt.id)===st&&Ne.push(new Ct(tt,et.id,'duplicate layer id "'+et.id+'", previously used at line '+pt.id.__line__))}if("ref"in et)["type","source","source-layer","filter","layout"].forEach((function(w){w in et&&Ne.push(new Ct(tt,et[w],'"'+w+'" is prohibited for ref layers'))})),rt.layers.forEach((function(w){Tt(w.id)===at&&(it=w)})),it?it.ref?Ne.push(new Ct(tt,et.ref,"ref cannot reference another ref layer")):ot=Tt(it.type):Ne.push(new Ct(tt,et.ref,'ref layer "'+at+'" not found'));else if("background"!==ot)if(et.source){var ft=rt.sources&&rt.sources[et.source],dt=ft&&Tt(ft.type);ft?"vector"===dt&&"raster"===ot?Ne.push(new Ct(tt,et.source,'layer "'+et.id+'" requires a raster source')):"raster"===dt&&"raster"!==ot?Ne.push(new Ct(tt,et.source,'layer "'+et.id+'" requires a vector source')):"vector"!==dt||et["source-layer"]?"raster-dem"===dt&&"hillshade"!==ot?Ne.push(new Ct(tt,et.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==ot||!et.paint||!et.paint["line-gradient"]||"geojson"===dt&&ft.lineMetrics||Ne.push(new Ct(tt,et,'layer "'+et.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):Ne.push(new Ct(tt,et,'layer "'+et.id+'" must specify a "source-layer"')):Ne.push(new Ct(tt,et.source,'source "'+et.source+'" not found'))}else Ne.push(new Ct(tt,et,'missing required property "source"'));return Ne=Ne.concat(Hr({key:tt,value:et,valueSpec:nt.layer,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return wn({key:tt+".type",value:et.type,valueSpec:nt.layer.type,style:w.style,styleSpec:w.styleSpec,object:et,objectKey:"type"})},filter:cn,layout:function(w){return Hr({layer:et,key:w.key,value:w.value,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":function(w){return yn(Et({layerType:ot},w))}}})},paint:function(w){return Hr({layer:et,key:w.key,value:w.value,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":function(w){return fn(Et({layerType:ot},w))}}})}}}))}function mn(w){var Ne=w.value,et=w.key,tt=Vr(Ne);return"string"!==tt?[new Ct(et,Ne,"string expected, "+tt+" found")]:[]}var Ms={promoteId:function(w){var Ne=w.key,et=w.value;if("string"===Vr(et))return mn({key:Ne,value:et});var tt=[];for(var rt in et)tt.push.apply(tt,mn({key:Ne+"."+rt,value:et[rt]}));return tt}};function gn(w){var Ne=w.value,et=w.key,tt=w.styleSpec,rt=w.style;if(!Ne.type)return[new Ct(et,Ne,'"type" is required')];var nt,it=Tt(Ne.type);switch(it){case"vector":case"raster":case"raster-dem":return Hr({key:et,value:Ne,valueSpec:tt["source_"+it.replace("-","_")],style:w.style,styleSpec:tt,objectElementValidators:Ms});case"geojson":if(nt=Hr({key:et,value:Ne,valueSpec:tt.source_geojson,style:rt,styleSpec:tt,objectElementValidators:Ms}),Ne.cluster)for(var ot in Ne.clusterProperties){var at=Ne.clusterProperties[ot],st=at[0],ct="string"==typeof st?[st,["accumulated"],["get",ot]]:st;nt.push.apply(nt,Qr({key:et+"."+ot+".map",value:at[1],expressionContext:"cluster-map"})),nt.push.apply(nt,Qr({key:et+"."+ot+".reduce",value:ct,expressionContext:"cluster-reduce"}))}return nt;case"video":return Hr({key:et,value:Ne,valueSpec:tt.source_video,style:rt,styleSpec:tt});case"image":return Hr({key:et,value:Ne,valueSpec:tt.source_image,style:rt,styleSpec:tt});case"canvas":return[new Ct(et,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tn({key:et+".type",value:Ne.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:rt,styleSpec:tt})}}function xn(w){var Ne=w.value,et=w.styleSpec,tt=et.light,rt=w.style,nt=[],it=Vr(Ne);if(void 0===Ne)return nt;if("object"!==it)return nt.concat([new Ct("light",Ne,"object expected, "+it+" found")]);for(var ot in Ne){var at=ot.match(/^(.*)-transition$/);nt=nt.concat(at&&tt[at[1]]&&tt[at[1]].transition?wn({key:ot,value:Ne[ot],valueSpec:et.transition,style:rt,styleSpec:et}):tt[ot]?wn({key:ot,value:Ne[ot],valueSpec:tt[ot],style:rt,styleSpec:et}):[new Ct(ot,Ne[ot],'unknown property "'+ot+'"')])}return nt}var Ls={"*":function(){return[]},array:Yr,boolean:function(w){var Ne=w.value,et=w.key,tt=Vr(Ne);return"boolean"!==tt?[new Ct(et,Ne,"boolean expected, "+tt+" found")]:[]},number:$r,color:function(w){var Ne=w.key,et=w.value,tt=Vr(et);return"string"!==tt?[new Ct(Ne,et,"color expected, "+tt+" found")]:null===fa(et)?[new Ct(Ne,et,'color expected, "'+et+'" found')]:[]},constants:Mt,enum:tn,filter:cn,function:Wr,layer:dn,object:Hr,source:gn,light:xn,string:mn,formatted:function(w){return 0===mn(w).length?[]:Qr(w)},resolvedImage:function(w){return 0===mn(w).length?[]:Qr(w)}};function wn(w){var Ne=w.value,et=w.valueSpec,tt=w.styleSpec;return et.expression&&Fr(Tt(Ne))?Wr(w):et.expression&&Nr(Pt(Ne))?Qr(w):et.type&&Ls[et.type]?Ls[et.type](w):Hr(Et({},w,{valueSpec:et.type?tt[et.type]:et}))}function _n(w){var Ne=w.value,et=w.key,tt=mn(w);return tt.length||(-1===Ne.indexOf("{fontstack}")&&tt.push(new Ct(et,Ne,'"glyphs" url must include a "{fontstack}" token')),-1===Ne.indexOf("{range}")&&tt.push(new Ct(et,Ne,'"glyphs" url must include a "{range}" token'))),tt}function An(w,Ne){void 0===Ne&&(Ne=$n);var et=[];return et=et.concat(wn({key:"",value:w,valueSpec:Ne.$root,styleSpec:Ne,style:w,objectElementValidators:{glyphs:_n,"*":function(){return[]}}})),w.constants&&(et=et.concat(Mt({key:"constants",value:w.constants,style:w,styleSpec:Ne}))),Sn(et)}function Sn(w){return[].concat(w).sort((function(w,Ne){return w.line-Ne.line}))}function kn(w){return function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return Sn(w.apply(this,Ne))}}An.source=kn(gn),An.light=kn(xn),An.layer=kn(dn),An.filter=kn(cn),An.paintProperty=kn(fn),An.layoutProperty=kn(yn);var Rs=An,Os=Rs.light,Fs=Rs.paintProperty,Bs=Rs.layoutProperty;function En(w,Ne){var et=!1;if(Ne&&Ne.length)for(var tt=0,rt=Ne;tt<rt.length;tt+=1)w.fire(new Wn(new Error(rt[tt].message))),et=!0;return et}var Ns=Pn;function Pn(w,Ne,et){var tt=this.cells=[];if(w instanceof ArrayBuffer){this.arrayBuffer=w;var rt=new Int32Array(this.arrayBuffer);w=rt[0],this.d=(Ne=rt[1])+2*(et=rt[2]);for(var nt=0;nt<this.d*this.d;nt++){var it=rt[3+nt],ot=rt[3+nt+1];tt.push(it===ot?null:rt.subarray(it,ot))}var at=rt[3+tt.length+1];this.keys=rt.subarray(rt[3+tt.length],at),this.bboxes=rt.subarray(at),this.insert=this._insertReadonly}else{this.d=Ne+2*et;for(var st=0;st<this.d*this.d;st++)tt.push([]);this.keys=[],this.bboxes=[]}this.n=Ne,this.extent=w,this.padding=et,this.scale=Ne/w,this.uid=0;var ct=et/Ne*w;this.min=-ct,this.max=w+ct}Pn.prototype.insert=function(w,Ne,et,tt,rt){this._forEachCell(Ne,et,tt,rt,this._insertCell,this.uid++),this.keys.push(w),this.bboxes.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(rt)},Pn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Pn.prototype._insertCell=function(w,Ne,et,tt,rt,nt){this.cells[rt].push(nt)},Pn.prototype.query=function(w,Ne,et,tt,rt){var nt=this.min,it=this.max;if(w<=nt&&Ne<=nt&&it<=et&&it<=tt&&!rt)return Array.prototype.slice.call(this.keys);var ot=[];return this._forEachCell(w,Ne,et,tt,this._queryCell,ot,{},rt),ot},Pn.prototype._queryCell=function(w,Ne,et,tt,rt,nt,it,ot){var at=this.cells[rt];if(null!==at)for(var st=this.keys,ct=this.bboxes,pt=0;pt<at.length;pt++){var ft=at[pt];if(void 0===it[ft]){var dt=4*ft;(ot?ot(ct[dt+0],ct[dt+1],ct[dt+2],ct[dt+3]):w<=ct[dt+2]&&Ne<=ct[dt+3]&&et>=ct[dt+0]&&tt>=ct[dt+1])?(it[ft]=!0,nt.push(st[ft])):it[ft]=!1}}},Pn.prototype._forEachCell=function(w,Ne,et,tt,rt,nt,it,ot){for(var at=this._convertToCellCoord(w),st=this._convertToCellCoord(Ne),ct=this._convertToCellCoord(et),pt=this._convertToCellCoord(tt),ft=at;ft<=ct;ft++)for(var dt=st;dt<=pt;dt++){var mt=this.d*dt+ft;if((!ot||ot(this._convertFromCellCoord(ft),this._convertFromCellCoord(dt),this._convertFromCellCoord(ft+1),this._convertFromCellCoord(dt+1)))&&rt.call(this,w,Ne,et,tt,mt,nt,it,ot))return}},Pn.prototype._convertFromCellCoord=function(w){return(w-this.padding)/this.scale},Pn.prototype._convertToCellCoord=function(w){return Math.max(0,Math.min(this.d-1,Math.floor(w*this.scale)+this.padding))},Pn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var w=this.cells,Ne=3+this.cells.length+1+1,et=0,tt=0;tt<this.cells.length;tt++)et+=this.cells[tt].length;var rt=new Int32Array(Ne+et+this.keys.length+this.bboxes.length);rt[0]=this.extent,rt[1]=this.n,rt[2]=this.padding;for(var nt=Ne,it=0;it<w.length;it++){var ot=w[it];rt[3+it]=nt,rt.set(ot,nt),nt+=ot.length}return rt[3+w.length]=nt,rt.set(this.keys,nt),rt[3+w.length+1]=nt+=this.keys.length,rt.set(this.bboxes,nt),nt+=this.bboxes.length,rt.buffer};var js=tt.ImageData,Vs=tt.ImageBitmap,Us={};function Dn(w,Ne,et){void 0===et&&(et={}),Object.defineProperty(Ne,"_classRegistryKey",{value:w,writeable:!1}),Us[w]={klass:Ne,omit:et.omit||[],shallow:et.shallow||[]}}for(var Zs in Dn("Object",Object),Ns.serialize=function(w,Ne){var et=w.toArrayBuffer();return Ne&&Ne.push(et),{buffer:et}},Ns.deserialize=function(w){return new Ns(w.buffer)},Dn("Grid",Ns),Dn("Color",Wt),Dn("Error",Error),Dn("ResolvedImage",re),Dn("StylePropertyFunction",Jr),Dn("StyleExpression",qr,{omit:["_evaluator"]}),Dn("ZoomDependentExpression",Zr),Dn("ZoomConstantExpression",Gr),Dn("CompoundExpression",ve,{omit:["_evaluate"]}),As)As[Zs]._classRegistryKey||Dn("Expression_"+Zs,As[Zs]);function Rn(w){return w&&"undefined"!=typeof ArrayBuffer&&(w instanceof ArrayBuffer||w.constructor&&"ArrayBuffer"===w.constructor.name)}function On(w){return Vs&&w instanceof Vs}function Un(w,Ne){if(null==w||"boolean"==typeof w||"number"==typeof w||"string"==typeof w||w instanceof Boolean||w instanceof Number||w instanceof String||w instanceof Date||w instanceof RegExp)return w;if(Rn(w)||On(w))return Ne&&Ne.push(w),w;if(ArrayBuffer.isView(w)){var et=w;return Ne&&Ne.push(et.buffer),et}if(w instanceof js)return Ne&&Ne.push(w.data.buffer),w;if(Array.isArray(w)){for(var tt=[],rt=0,nt=w;rt<nt.length;rt+=1)tt.push(Un(nt[rt],Ne));return tt}if("object"==typeof w){var it=w.constructor,ot=it._classRegistryKey;if(!ot)throw new Error("can't serialize object of unregistered class");var at=it.serialize?it.serialize(w,Ne):{};if(!it.serialize){for(var st in w)if(w.hasOwnProperty(st)&&!(Us[ot].omit.indexOf(st)>=0)){var ct=w[st];at[st]=Us[ot].shallow.indexOf(st)>=0?ct:Un(ct,Ne)}w instanceof Error&&(at.message=w.message)}if(at.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==ot&&(at.$name=ot),at}throw new Error("can't serialize object of type "+typeof w)}function jn(w){if(null==w||"boolean"==typeof w||"number"==typeof w||"string"==typeof w||w instanceof Boolean||w instanceof Number||w instanceof String||w instanceof Date||w instanceof RegExp||Rn(w)||On(w)||ArrayBuffer.isView(w)||w instanceof js)return w;if(Array.isArray(w))return w.map(jn);if("object"==typeof w){var Ne=w.$name||"Object",et=Us[Ne].klass;if(!et)throw new Error("can't deserialize unregistered class "+Ne);if(et.deserialize)return et.deserialize(w);for(var tt=Object.create(et.prototype),rt=0,nt=Object.keys(w);rt<nt.length;rt+=1){var it=nt[rt];if("$name"!==it){var ot=w[it];tt[it]=Us[Ne].shallow.indexOf(it)>=0?ot:jn(ot)}}return tt}throw new Error("can't deserialize object of type "+typeof w)}var qn=function(){this.first=!0};qn.prototype.update=function(w,Ne){var et=Math.floor(w);return this.first?(this.first=!1,this.lastIntegerZoom=et,this.lastIntegerZoomTime=0,this.lastZoom=w,this.lastFloorZoom=et,!0):(this.lastFloorZoom>et?(this.lastIntegerZoom=et+1,this.lastIntegerZoomTime=Ne):this.lastFloorZoom<et&&(this.lastIntegerZoom=et,this.lastIntegerZoomTime=Ne),w!==this.lastZoom&&(this.lastZoom=w,this.lastFloorZoom=et,!0))};var Js={"Latin-1 Supplement":function(w){return w>=128&&w<=255},Arabic:function(w){return w>=1536&&w<=1791},"Arabic Supplement":function(w){return w>=1872&&w<=1919},"Arabic Extended-A":function(w){return w>=2208&&w<=2303},"Hangul Jamo":function(w){return w>=4352&&w<=4607},"Unified Canadian Aboriginal Syllabics":function(w){return w>=5120&&w<=5759},Khmer:function(w){return w>=6016&&w<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(w){return w>=6320&&w<=6399},"General Punctuation":function(w){return w>=8192&&w<=8303},"Letterlike Symbols":function(w){return w>=8448&&w<=8527},"Number Forms":function(w){return w>=8528&&w<=8591},"Miscellaneous Technical":function(w){return w>=8960&&w<=9215},"Control Pictures":function(w){return w>=9216&&w<=9279},"Optical Character Recognition":function(w){return w>=9280&&w<=9311},"Enclosed Alphanumerics":function(w){return w>=9312&&w<=9471},"Geometric Shapes":function(w){return w>=9632&&w<=9727},"Miscellaneous Symbols":function(w){return w>=9728&&w<=9983},"Miscellaneous Symbols and Arrows":function(w){return w>=11008&&w<=11263},"CJK Radicals Supplement":function(w){return w>=11904&&w<=12031},"Kangxi Radicals":function(w){return w>=12032&&w<=12255},"Ideographic Description Characters":function(w){return w>=12272&&w<=12287},"CJK Symbols and Punctuation":function(w){return w>=12288&&w<=12351},Hiragana:function(w){return w>=12352&&w<=12447},Katakana:function(w){return w>=12448&&w<=12543},Bopomofo:function(w){return w>=12544&&w<=12591},"Hangul Compatibility Jamo":function(w){return w>=12592&&w<=12687},Kanbun:function(w){return w>=12688&&w<=12703},"Bopomofo Extended":function(w){return w>=12704&&w<=12735},"CJK Strokes":function(w){return w>=12736&&w<=12783},"Katakana Phonetic Extensions":function(w){return w>=12784&&w<=12799},"Enclosed CJK Letters and Months":function(w){return w>=12800&&w<=13055},"CJK Compatibility":function(w){return w>=13056&&w<=13311},"CJK Unified Ideographs Extension A":function(w){return w>=13312&&w<=19903},"Yijing Hexagram Symbols":function(w){return w>=19904&&w<=19967},"CJK Unified Ideographs":function(w){return w>=19968&&w<=40959},"Yi Syllables":function(w){return w>=40960&&w<=42127},"Yi Radicals":function(w){return w>=42128&&w<=42191},"Hangul Jamo Extended-A":function(w){return w>=43360&&w<=43391},"Hangul Syllables":function(w){return w>=44032&&w<=55215},"Hangul Jamo Extended-B":function(w){return w>=55216&&w<=55295},"Private Use Area":function(w){return w>=57344&&w<=63743},"CJK Compatibility Ideographs":function(w){return w>=63744&&w<=64255},"Arabic Presentation Forms-A":function(w){return w>=64336&&w<=65023},"Vertical Forms":function(w){return w>=65040&&w<=65055},"CJK Compatibility Forms":function(w){return w>=65072&&w<=65103},"Small Form Variants":function(w){return w>=65104&&w<=65135},"Arabic Presentation Forms-B":function(w){return w>=65136&&w<=65279},"Halfwidth and Fullwidth Forms":function(w){return w>=65280&&w<=65519}};function Kn(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(Gn(et[Ne].charCodeAt(0)))return!0;return!1}function Gn(w){return!(746!==w&&747!==w&&(w<4352||!(Js["Bopomofo Extended"](w)||Js.Bopomofo(w)||Js["CJK Compatibility Forms"](w)&&!(w>=65097&&w<=65103)||Js["CJK Compatibility Ideographs"](w)||Js["CJK Compatibility"](w)||Js["CJK Radicals Supplement"](w)||Js["CJK Strokes"](w)||!(!Js["CJK Symbols and Punctuation"](w)||w>=12296&&w<=12305||w>=12308&&w<=12319||12336===w)||Js["CJK Unified Ideographs Extension A"](w)||Js["CJK Unified Ideographs"](w)||Js["Enclosed CJK Letters and Months"](w)||Js["Hangul Compatibility Jamo"](w)||Js["Hangul Jamo Extended-A"](w)||Js["Hangul Jamo Extended-B"](w)||Js["Hangul Jamo"](w)||Js["Hangul Syllables"](w)||Js.Hiragana(w)||Js["Ideographic Description Characters"](w)||Js.Kanbun(w)||Js["Kangxi Radicals"](w)||Js["Katakana Phonetic Extensions"](w)||Js.Katakana(w)&&12540!==w||!(!Js["Halfwidth and Fullwidth Forms"](w)||65288===w||65289===w||65293===w||w>=65306&&w<=65310||65339===w||65341===w||65343===w||w>=65371&&w<=65503||65507===w||w>=65512&&w<=65519)||!(!Js["Small Form Variants"](w)||w>=65112&&w<=65118||w>=65123&&w<=65126)||Js["Unified Canadian Aboriginal Syllabics"](w)||Js["Unified Canadian Aboriginal Syllabics Extended"](w)||Js["Vertical Forms"](w)||Js["Yijing Hexagram Symbols"](w)||Js["Yi Syllables"](w)||Js["Yi Radicals"](w))))}function Zn(w){return!(Gn(w)||function(w){return!!(Js["Latin-1 Supplement"](w)&&(167===w||169===w||174===w||177===w||188===w||189===w||190===w||215===w||247===w)||Js["General Punctuation"](w)&&(8214===w||8224===w||8225===w||8240===w||8241===w||8251===w||8252===w||8258===w||8263===w||8264===w||8265===w||8273===w)||Js["Letterlike Symbols"](w)||Js["Number Forms"](w)||Js["Miscellaneous Technical"](w)&&(w>=8960&&w<=8967||w>=8972&&w<=8991||w>=8996&&w<=9e3||9003===w||w>=9085&&w<=9114||w>=9150&&w<=9165||9167===w||w>=9169&&w<=9179||w>=9186&&w<=9215)||Js["Control Pictures"](w)&&9251!==w||Js["Optical Character Recognition"](w)||Js["Enclosed Alphanumerics"](w)||Js["Geometric Shapes"](w)||Js["Miscellaneous Symbols"](w)&&!(w>=9754&&w<=9759)||Js["Miscellaneous Symbols and Arrows"](w)&&(w>=11026&&w<=11055||w>=11088&&w<=11097||w>=11192&&w<=11243)||Js["CJK Symbols and Punctuation"](w)||Js.Katakana(w)||Js["Private Use Area"](w)||Js["CJK Compatibility Forms"](w)||Js["Small Form Variants"](w)||Js["Halfwidth and Fullwidth Forms"](w)||8734===w||8756===w||8757===w||w>=9984&&w<=10087||w>=10102&&w<=10131||65532===w||65533===w)}(w))}function Xn(w){return w>=1424&&w<=2303||Js["Arabic Presentation Forms-A"](w)||Js["Arabic Presentation Forms-B"](w)}function Jn(w,Ne){return!(!Ne&&Xn(w)||w>=2304&&w<=3583||w>=3840&&w<=4255||Js.Khmer(w))}function Hn(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(Xn(et[Ne].charCodeAt(0)))return!0;return!1}var tl=null,ol="unavailable",sl=null,Qn=function(w){w&&"string"==typeof w&&w.indexOf("NetworkError")>-1&&(ol="error"),tl&&tl(w)};function ti(){dl.fire(new St("pluginStateChange",{pluginStatus:ol,pluginURL:sl}))}var dl=new It,ri=function(){return ol},ni=function(){if("deferred"!==ol||!sl)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ol="loading",ti(),sl&&xt({url:sl},(function(w){w?Qn(w):(ol="loaded",ti())}))},gl={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===ol||null!=gl.applyArabicShaping},isLoading:function(){return"loading"===ol},setState:function(w){ol=w.pluginStatus,sl=w.pluginURL},isParsed:function(){return null!=gl.applyArabicShaping&&null!=gl.processBidirectionalText&&null!=gl.processStyledBidirectionalText},getPluginURL:function(){return sl}},ai=function(w,Ne){this.zoom=w,Ne?(this.now=Ne.now,this.fadeDuration=Ne.fadeDuration,this.zoomHistory=Ne.zoomHistory,this.transition=Ne.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qn,this.transition={})};ai.prototype.isSupportedScript=function(w){return function(w,Ne){for(var et=0,tt=w;et<tt.length;et+=1)if(!Jn(tt[et].charCodeAt(0),Ne))return!1;return!0}(w,gl.isLoaded())},ai.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ai.prototype.getCrossfadeParameters=function(){var w=this.zoom,Ne=w-Math.floor(w),et=this.crossFadingFactor();return w>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:Ne+(1-Ne)*et}:{fromScale:.5,toScale:1,t:1-(1-et)*Ne}};var oi=function(w,Ne){this.property=w,this.value=Ne,this.expression=function(w,Ne){if(Fr(w))return new Jr(w,Ne);if(Nr(w)){var et=Xr(w,Ne);if("error"===et.result)throw new Error(et.value.map((function(w){return w.key+": "+w.message})).join(", "));return et.value}var tt=w;return"string"==typeof w&&"color"===Ne.type&&(tt=Wt.parse(w)),{kind:"constant",evaluate:function(){return tt}}}(void 0===Ne?w.specification.default:Ne,w.specification)};oi.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},oi.prototype.possiblyEvaluate=function(w,Ne,et){return this.property.possiblyEvaluate(this,w,Ne,et)};var si=function(w){this.property=w,this.value=new oi(w,void 0)};si.prototype.transitioned=function(w,Ne){return new li(this.property,this.value,Ne,c({},w.transition,this.transition),w.now)},si.prototype.untransitioned=function(){return new li(this.property,this.value,null,{},0)};var ui=function(w){this._properties=w,this._values=Object.create(w.defaultTransitionablePropertyValues)};ui.prototype.getValue=function(w){return b(this._values[w].value.value)},ui.prototype.setValue=function(w,Ne){this._values.hasOwnProperty(w)||(this._values[w]=new si(this._values[w].property)),this._values[w].value=new oi(this._values[w].property,null===Ne?void 0:b(Ne))},ui.prototype.getTransition=function(w){return b(this._values[w].transition)},ui.prototype.setTransition=function(w,Ne){this._values.hasOwnProperty(w)||(this._values[w]=new si(this._values[w].property)),this._values[w].transition=b(Ne)||void 0},ui.prototype.serialize=function(){for(var w={},Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1){var tt=et[Ne],rt=this.getValue(tt);void 0!==rt&&(w[tt]=rt);var nt=this.getTransition(tt);void 0!==nt&&(w[tt+"-transition"]=nt)}return w},ui.prototype.transitioned=function(w,Ne){for(var et=new pi(this._properties),tt=0,rt=Object.keys(this._values);tt<rt.length;tt+=1){var nt=rt[tt];et._values[nt]=this._values[nt].transitioned(w,Ne._values[nt])}return et},ui.prototype.untransitioned=function(){for(var w=new pi(this._properties),Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1){var tt=et[Ne];w._values[tt]=this._values[tt].untransitioned()}return w};var li=function(w,Ne,et,tt,rt){this.property=w,this.value=Ne,this.begin=rt+tt.delay||0,this.end=this.begin+tt.duration||0,w.specification.transition&&(tt.delay||tt.duration)&&(this.prior=et)};li.prototype.possiblyEvaluate=function(w,Ne,et){var tt=w.now||0,rt=this.value.possiblyEvaluate(w,Ne,et),nt=this.prior;if(nt){if(tt>this.end)return this.prior=null,rt;if(this.value.isDataDriven())return this.prior=null,rt;if(tt<this.begin)return nt.possiblyEvaluate(w,Ne,et);var it=(tt-this.begin)/(this.end-this.begin);return this.property.interpolate(nt.possiblyEvaluate(w,Ne,et),rt,function(w){if(w<=0)return 0;if(w>=1)return 1;var Ne=w*w,et=Ne*w;return 4*(w<.5?et:3*(w-Ne)+et-.75)}(it))}return rt};var pi=function(w){this._properties=w,this._values=Object.create(w.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(w,Ne,et){for(var tt=new fi(this._properties),rt=0,nt=Object.keys(this._values);rt<nt.length;rt+=1){var it=nt[rt];tt._values[it]=this._values[it].possiblyEvaluate(w,Ne,et)}return tt},pi.prototype.hasTransition=function(){for(var w=0,Ne=Object.keys(this._values);w<Ne.length;w+=1)if(this._values[Ne[w]].prior)return!0;return!1};var ci=function(w){this._properties=w,this._values=Object.create(w.defaultPropertyValues)};ci.prototype.getValue=function(w){return b(this._values[w].value)},ci.prototype.setValue=function(w,Ne){this._values[w]=new oi(this._values[w].property,null===Ne?void 0:b(Ne))},ci.prototype.serialize=function(){for(var w={},Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1){var tt=et[Ne],rt=this.getValue(tt);void 0!==rt&&(w[tt]=rt)}return w},ci.prototype.possiblyEvaluate=function(w,Ne,et){for(var tt=new fi(this._properties),rt=0,nt=Object.keys(this._values);rt<nt.length;rt+=1){var it=nt[rt];tt._values[it]=this._values[it].possiblyEvaluate(w,Ne,et)}return tt};var hi=function(w,Ne,et){this.property=w,this.value=Ne,this.parameters=et};hi.prototype.isConstant=function(){return"constant"===this.value.kind},hi.prototype.constantOr=function(w){return"constant"===this.value.kind?this.value.value:w},hi.prototype.evaluate=function(w,Ne,et,tt){return this.property.evaluate(this.value,this.parameters,w,Ne,et,tt)};var fi=function(w){this._properties=w,this._values=Object.create(w.defaultPossiblyEvaluatedValues)};fi.prototype.get=function(w){return this._values[w]};var yi=function(w){this.specification=w};yi.prototype.possiblyEvaluate=function(w,Ne){return w.expression.evaluate(Ne)},yi.prototype.interpolate=function(w,Ne,et){var tt=os[this.specification.type];return tt?tt(w,Ne,et):w};var di=function(w,Ne){this.specification=w,this.overrides=Ne};di.prototype.possiblyEvaluate=function(w,Ne,et,tt){return new hi(this,"constant"===w.expression.kind||"camera"===w.expression.kind?{kind:"constant",value:w.expression.evaluate(Ne,null,{},et,tt)}:w.expression,Ne)},di.prototype.interpolate=function(w,Ne,et){if("constant"!==w.value.kind||"constant"!==Ne.value.kind)return w;if(void 0===w.value.value||void 0===Ne.value.value)return new hi(this,{kind:"constant",value:void 0},w.parameters);var tt=os[this.specification.type];return tt?new hi(this,{kind:"constant",value:tt(w.value.value,Ne.value.value,et)},w.parameters):w},di.prototype.evaluate=function(w,Ne,et,tt,rt,nt){return"constant"===w.kind?w.value:w.evaluate(Ne,et,tt,rt,nt)};var yl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(w,Ne,et,tt){if(void 0===w.value)return new hi(this,{kind:"constant",value:void 0},Ne);if("constant"===w.expression.kind){var rt=w.expression.evaluate(Ne,null,{},et,tt),nt="resolvedImage"===w.property.specification.type&&"string"!=typeof rt?rt.name:rt,it=this._calculate(nt,nt,nt,Ne);return new hi(this,{kind:"constant",value:it},Ne)}if("camera"===w.expression.kind){var ot=this._calculate(w.expression.evaluate({zoom:Ne.zoom-1}),w.expression.evaluate({zoom:Ne.zoom}),w.expression.evaluate({zoom:Ne.zoom+1}),Ne);return new hi(this,{kind:"constant",value:ot},Ne)}return new hi(this,w.expression,Ne)},e.prototype.evaluate=function(w,Ne,et,tt,rt,nt){if("source"===w.kind){var it=w.evaluate(Ne,et,tt,rt,nt);return this._calculate(it,it,it,Ne)}return"composite"===w.kind?this._calculate(w.evaluate({zoom:Math.floor(Ne.zoom)-1},et,tt),w.evaluate({zoom:Math.floor(Ne.zoom)},et,tt),w.evaluate({zoom:Math.floor(Ne.zoom)+1},et,tt),Ne):w.value},e.prototype._calculate=function(w,Ne,et,tt){return tt.zoom>tt.zoomHistory.lastIntegerZoom?{from:w,to:Ne}:{from:et,to:Ne}},e.prototype.interpolate=function(w){return w},e}(di),vi=function(w){this.specification=w};vi.prototype.possiblyEvaluate=function(w,Ne,et,tt){if(void 0!==w.value){if("constant"===w.expression.kind){var rt=w.expression.evaluate(Ne,null,{},et,tt);return this._calculate(rt,rt,rt,Ne)}return this._calculate(w.expression.evaluate(new ai(Math.floor(Ne.zoom-1),Ne)),w.expression.evaluate(new ai(Math.floor(Ne.zoom),Ne)),w.expression.evaluate(new ai(Math.floor(Ne.zoom+1),Ne)),Ne)}},vi.prototype._calculate=function(w,Ne,et,tt){return tt.zoom>tt.zoomHistory.lastIntegerZoom?{from:w,to:Ne}:{from:et,to:Ne}},vi.prototype.interpolate=function(w){return w};var gi=function(w){this.specification=w};gi.prototype.possiblyEvaluate=function(w,Ne,et,tt){return!!w.expression.evaluate(Ne,null,{},et,tt)},gi.prototype.interpolate=function(){return!1};var xi=function(w){for(var Ne in this.properties=w,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],w){var et=w[Ne];et.specification.overridable&&this.overridableProperties.push(Ne);var tt=this.defaultPropertyValues[Ne]=new oi(et,void 0),rt=this.defaultTransitionablePropertyValues[Ne]=new si(et);this.defaultTransitioningPropertyValues[Ne]=rt.untransitioned(),this.defaultPossiblyEvaluatedValues[Ne]=tt.possiblyEvaluate({})}};Dn("DataDrivenProperty",di),Dn("DataConstantProperty",yi),Dn("CrossFadedDataDrivenProperty",yl),Dn("CrossFadedProperty",vi),Dn("ColorRampProperty",gi);var vl=function(w){function e(Ne,et){if(w.call(this),this.id=Ne.id,this.type=Ne.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==Ne.type&&(this.metadata=(Ne=Ne).metadata,this.minzoom=Ne.minzoom,this.maxzoom=Ne.maxzoom,"background"!==Ne.type&&(this.source=Ne.source,this.sourceLayer=Ne["source-layer"],this.filter=Ne.filter),et.layout&&(this._unevaluatedLayout=new ci(et.layout)),et.paint)){for(var tt in this._transitionablePaint=new ui(et.paint),Ne.paint)this.setPaintProperty(tt,Ne.paint[tt],{validate:!1});for(var rt in Ne.layout)this.setLayoutProperty(rt,Ne.layout[rt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new fi(et.paint)}}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(w){return"visibility"===w?this.visibility:this._unevaluatedLayout.getValue(w)},e.prototype.setLayoutProperty=function(w,Ne,et){void 0===et&&(et={}),null!=Ne&&this._validate(Bs,"layers."+this.id+".layout."+w,w,Ne,et)||("visibility"!==w?this._unevaluatedLayout.setValue(w,Ne):this.visibility=Ne)},e.prototype.getPaintProperty=function(w){return v(w,"-transition")?this._transitionablePaint.getTransition(w.slice(0,-"-transition".length)):this._transitionablePaint.getValue(w)},e.prototype.setPaintProperty=function(w,Ne,et){if(void 0===et&&(et={}),null!=Ne&&this._validate(Fs,"layers."+this.id+".paint."+w,w,Ne,et))return!1;if(v(w,"-transition"))return this._transitionablePaint.setTransition(w.slice(0,-"-transition".length),Ne||void 0),!1;var tt=this._transitionablePaint._values[w],rt="cross-faded-data-driven"===tt.property.specification["property-type"],nt=tt.value.isDataDriven(),it=tt.value;this._transitionablePaint.setValue(w,Ne),this._handleSpecialPaintPropertyUpdate(w);var ot=this._transitionablePaint._values[w].value;return ot.isDataDriven()||nt||rt||this._handleOverridablePaintPropertyUpdate(w,it,ot)},e.prototype._handleSpecialPaintPropertyUpdate=function(w){},e.prototype._handleOverridablePaintPropertyUpdate=function(w,Ne,et){return!1},e.prototype.isHidden=function(w){return!!(this.minzoom&&w<this.minzoom)||!!(this.maxzoom&&w>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(w){this._transitioningPaint=this._transitionablePaint.transitioned(w,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(w,Ne){w.getCrossfadeParameters&&(this._crossfadeParameters=w.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(w,void 0,Ne)),this.paint=this._transitioningPaint.possiblyEvaluate(w,void 0,Ne)},e.prototype.serialize=function(){var w={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(w.layout=w.layout||{},w.layout.visibility=this.visibility),x(w,(function(w,Ne){return!(void 0===w||"layout"===Ne&&!Object.keys(w).length||"paint"===Ne&&!Object.keys(w).length)}))},e.prototype._validate=function(w,Ne,et,tt,rt){return void 0===rt&&(rt={}),(!rt||!1!==rt.validate)&&En(this,w.call(Rs,{key:Ne,layerType:this.type,objectKey:et,value:tt,styleSpec:$n,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var w in this.paint._values){var Ne=this.paint.get(w);if(Ne instanceof hi&&Tr(Ne.property.specification)&&("source"===Ne.value.kind||"composite"===Ne.value.kind)&&Ne.value.isStateDependent)return!0}return!1},e}(It),_l={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},_i=function(w,Ne){this._structArray=w,this._pos1=Ne*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ai=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Si(w,Ne){void 0===Ne&&(Ne=1);var et=0,tt=0;return{members:w.map((function(w){var rt=_l[w.type].BYTES_PER_ELEMENT,nt=et=ki(et,Math.max(Ne,rt)),it=w.components||1;return tt=Math.max(tt,rt),et+=rt*it,{name:w.name,type:w.type,components:it,offset:nt}})),size:ki(et,Math.max(tt,Ne)),alignment:Ne}}function ki(w,Ne){return Math.ceil(w/Ne)*Ne}Ai.serialize=function(w,Ne){return w._trim(),Ne&&(w.isTransferred=!0,Ne.push(w.arrayBuffer)),{length:w.length,arrayBuffer:w.arrayBuffer}},Ai.deserialize=function(w){var Ne=Object.create(this.prototype);return Ne.arrayBuffer=w.arrayBuffer,Ne.length=w.length,Ne.capacity=w.arrayBuffer.byteLength/Ne.bytesPerElement,Ne._refreshViews(),Ne},Ai.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ai.prototype.clear=function(){this.length=0},Ai.prototype.resize=function(w){this.reserve(w),this.length=w},Ai.prototype.reserve=function(w){if(w>this.capacity){this.capacity=Math.max(w,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var Ne=this.uint8;this._refreshViews(),Ne&&this.uint8.set(Ne)}},Ai.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var bl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne){var et=this.length;return this.resize(et+1),this.emplace(et,w,Ne)},e.prototype.emplace=function(w,Ne,et){var tt=2*w;return this.int16[tt+0]=Ne,this.int16[tt+1]=et,w},e}(Ai);bl.prototype.bytesPerElement=4,Dn("StructArrayLayout2i4",bl);var xl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,w,Ne,et,tt)},e.prototype.emplace=function(w,Ne,et,tt,rt){var nt=4*w;return this.int16[nt+0]=Ne,this.int16[nt+1]=et,this.int16[nt+2]=tt,this.int16[nt+3]=rt,w},e}(Ai);xl.prototype.bytesPerElement=8,Dn("StructArrayLayout4i8",xl);var wl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt){var it=this.length;return this.resize(it+1),this.emplace(it,w,Ne,et,tt,rt,nt)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it){var ot=6*w;return this.int16[ot+0]=Ne,this.int16[ot+1]=et,this.int16[ot+2]=tt,this.int16[ot+3]=rt,this.int16[ot+4]=nt,this.int16[ot+5]=it,w},e}(Ai);wl.prototype.bytesPerElement=12,Dn("StructArrayLayout2i4i12",wl);var kl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt){var it=this.length;return this.resize(it+1),this.emplace(it,w,Ne,et,tt,rt,nt)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it){var ot=4*w,at=8*w;return this.int16[ot+0]=Ne,this.int16[ot+1]=et,this.uint8[at+4]=tt,this.uint8[at+5]=rt,this.uint8[at+6]=nt,this.uint8[at+7]=it,w},e}(Ai);kl.prototype.bytesPerElement=8,Dn("StructArrayLayout2i4ub8",kl);var Sl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt,it,ot,at,st){var ct=this.length;return this.resize(ct+1),this.emplace(ct,w,Ne,et,tt,rt,nt,it,ot,at,st)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct){var pt=10*w;return this.uint16[pt+0]=Ne,this.uint16[pt+1]=et,this.uint16[pt+2]=tt,this.uint16[pt+3]=rt,this.uint16[pt+4]=nt,this.uint16[pt+5]=it,this.uint16[pt+6]=ot,this.uint16[pt+7]=at,this.uint16[pt+8]=st,this.uint16[pt+9]=ct,w},e}(Ai);Sl.prototype.bytesPerElement=20,Dn("StructArrayLayout10ui20",Sl);var Cl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){var ft=this.length;return this.resize(ft+1),this.emplace(ft,w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft){var dt=12*w;return this.int16[dt+0]=Ne,this.int16[dt+1]=et,this.int16[dt+2]=tt,this.int16[dt+3]=rt,this.uint16[dt+4]=nt,this.uint16[dt+5]=it,this.uint16[dt+6]=ot,this.uint16[dt+7]=at,this.int16[dt+8]=st,this.int16[dt+9]=ct,this.int16[dt+10]=pt,this.int16[dt+11]=ft,w},e}(Ai);Cl.prototype.bytesPerElement=24,Dn("StructArrayLayout4i4ui4i24",Cl);var Il=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var rt=3*w;return this.float32[rt+0]=Ne,this.float32[rt+1]=et,this.float32[rt+2]=tt,w},e}(Ai);Il.prototype.bytesPerElement=12,Dn("StructArrayLayout3f12",Il);var Al=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,w)},e.prototype.emplace=function(w,Ne){return this.uint32[1*w+0]=Ne,w},e}(Ai);Al.prototype.bytesPerElement=4,Dn("StructArrayLayout1ul4",Al);var zl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt,it,ot,at){var st=this.length;return this.resize(st+1),this.emplace(st,w,Ne,et,tt,rt,nt,it,ot,at)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it,ot,at,st){var ct=10*w,pt=5*w;return this.int16[ct+0]=Ne,this.int16[ct+1]=et,this.int16[ct+2]=tt,this.int16[ct+3]=rt,this.int16[ct+4]=nt,this.int16[ct+5]=it,this.uint32[pt+3]=ot,this.uint16[ct+8]=at,this.uint16[ct+9]=st,w},e}(Ai);zl.prototype.bytesPerElement=20,Dn("StructArrayLayout6i1ul2ui20",zl);var Fl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt){var it=this.length;return this.resize(it+1),this.emplace(it,w,Ne,et,tt,rt,nt)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it){var ot=6*w;return this.int16[ot+0]=Ne,this.int16[ot+1]=et,this.int16[ot+2]=tt,this.int16[ot+3]=rt,this.int16[ot+4]=nt,this.int16[ot+5]=it,w},e}(Ai);Fl.prototype.bytesPerElement=12,Dn("StructArrayLayout2i2i2i12",Fl);var Hl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,w,Ne,et,tt,rt)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt){var it=4*w,ot=8*w;return this.float32[it+0]=Ne,this.float32[it+1]=et,this.float32[it+2]=tt,this.int16[ot+6]=rt,this.int16[ot+7]=nt,w},e}(Ai);Hl.prototype.bytesPerElement=16,Dn("StructArrayLayout2f1f2i16",Hl);var du=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,w,Ne,et,tt)},e.prototype.emplace=function(w,Ne,et,tt,rt){var nt=12*w,it=3*w;return this.uint8[nt+0]=Ne,this.uint8[nt+1]=et,this.float32[it+1]=tt,this.float32[it+2]=rt,w},e}(Ai);du.prototype.bytesPerElement=12,Dn("StructArrayLayout2ub2f12",du);var vu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var rt=3*w;return this.uint16[rt+0]=Ne,this.uint16[rt+1]=et,this.uint16[rt+2]=tt,w},e}(Ai);vu.prototype.bytesPerElement=6,Dn("StructArrayLayout3ui6",vu);var _u=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt){var Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt){var Ot=24*w,Dt=12*w,Bt=48*w;return this.int16[Ot+0]=Ne,this.int16[Ot+1]=et,this.uint16[Ot+2]=tt,this.uint16[Ot+3]=rt,this.uint32[Dt+2]=nt,this.uint32[Dt+3]=it,this.uint32[Dt+4]=ot,this.uint16[Ot+10]=at,this.uint16[Ot+11]=st,this.uint16[Ot+12]=ct,this.float32[Dt+7]=pt,this.float32[Dt+8]=ft,this.uint8[Bt+36]=dt,this.uint8[Bt+37]=mt,this.uint8[Bt+38]=yt,this.uint32[Dt+10]=vt,this.int16[Ot+22]=Rt,w},e}(Ai);_u.prototype.bytesPerElement=48,Dn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",_u);var wu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Ot,Dt,Bt,er,rr,vr,wr,Sr,rn,vn){var bn=this.length;return this.resize(bn+1),this.emplace(bn,w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Ot,Dt,Bt,er,rr,vr,wr,Sr,rn,vn)},e.prototype.emplace=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Ot,Dt,Bt,er,rr,vr,wr,Sr,rn,vn,bn){var Tn=34*w,Cn=17*w;return this.int16[Tn+0]=Ne,this.int16[Tn+1]=et,this.int16[Tn+2]=tt,this.int16[Tn+3]=rt,this.int16[Tn+4]=nt,this.int16[Tn+5]=it,this.int16[Tn+6]=ot,this.int16[Tn+7]=at,this.uint16[Tn+8]=st,this.uint16[Tn+9]=ct,this.uint16[Tn+10]=pt,this.uint16[Tn+11]=ft,this.uint16[Tn+12]=dt,this.uint16[Tn+13]=mt,this.uint16[Tn+14]=yt,this.uint16[Tn+15]=vt,this.uint16[Tn+16]=Rt,this.uint16[Tn+17]=Ot,this.uint16[Tn+18]=Dt,this.uint16[Tn+19]=Bt,this.uint16[Tn+20]=er,this.uint16[Tn+21]=rr,this.uint16[Tn+22]=vr,this.uint32[Cn+12]=wr,this.float32[Cn+13]=Sr,this.float32[Cn+14]=rn,this.float32[Cn+15]=vn,this.float32[Cn+16]=bn,w},e}(Ai);wu.prototype.bytesPerElement=68,Dn("StructArrayLayout8i15ui1ul4f68",wu);var Tu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,w)},e.prototype.emplace=function(w,Ne){return this.float32[1*w+0]=Ne,w},e}(Ai);Tu.prototype.bytesPerElement=4,Dn("StructArrayLayout1f4",Tu);var Fu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var rt=3*w;return this.int16[rt+0]=Ne,this.int16[rt+1]=et,this.int16[rt+2]=tt,w},e}(Ai);Fu.prototype.bytesPerElement=6,Dn("StructArrayLayout3i6",Fu);var ac=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var rt=4*w;return this.uint32[2*w+0]=Ne,this.uint16[rt+2]=et,this.uint16[rt+3]=tt,w},e}(Ai);ac.prototype.bytesPerElement=8,Dn("StructArrayLayout1ul2ui8",ac);var pc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne){var et=this.length;return this.resize(et+1),this.emplace(et,w,Ne)},e.prototype.emplace=function(w,Ne,et){var tt=2*w;return this.uint16[tt+0]=Ne,this.uint16[tt+1]=et,w},e}(Ai);pc.prototype.bytesPerElement=4,Dn("StructArrayLayout2ui4",pc);var yc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,w)},e.prototype.emplace=function(w,Ne){return this.uint16[1*w+0]=Ne,w},e}(Ai);yc.prototype.bytesPerElement=2,Dn("StructArrayLayout1ui2",yc);var _c=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne){var et=this.length;return this.resize(et+1),this.emplace(et,w,Ne)},e.prototype.emplace=function(w,Ne,et){var tt=2*w;return this.float32[tt+0]=Ne,this.float32[tt+1]=et,w},e}(Ai);_c.prototype.bytesPerElement=8,Dn("StructArrayLayout2f8",_c);var bc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,w,Ne,et,tt)},e.prototype.emplace=function(w,Ne,et,tt,rt){var nt=4*w;return this.float32[nt+0]=Ne,this.float32[nt+1]=et,this.float32[nt+2]=tt,this.float32[nt+3]=rt,w},e}(Ai);bc.prototype.bytesPerElement=16,Dn("StructArrayLayout4f16",bc);var xc=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Ne.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Ne.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Ne.x1.get=function(){return this._structArray.int16[this._pos2+2]},Ne.y1.get=function(){return this._structArray.int16[this._pos2+3]},Ne.x2.get=function(){return this._structArray.int16[this._pos2+4]},Ne.y2.get=function(){return this._structArray.int16[this._pos2+5]},Ne.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Ne.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Ne.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Ne.anchorPoint.get=function(){return new et(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,Ne),e}(_i);xc.prototype.size=20;var wc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new xc(this,w)},e}(zl);Dn("CollisionBoxArray",wc);var kc=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Ne.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Ne.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Ne.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Ne.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Ne.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Ne.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Ne.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Ne.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Ne.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Ne.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Ne.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Ne.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Ne.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Ne.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Ne.placedOrientation.set=function(w){this._structArray.uint8[this._pos1+37]=w},Ne.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Ne.hidden.set=function(w){this._structArray.uint8[this._pos1+38]=w},Ne.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Ne.crossTileID.set=function(w){this._structArray.uint32[this._pos4+10]=w},Ne.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,Ne),e}(_i);kc.prototype.size=48;var Ec=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new kc(this,w)},e}(_u);Dn("PlacedSymbolArray",Ec);var Cc=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Ne.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Ne.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Ne.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Ne.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Ne.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Ne.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Ne.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Ne.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Ne.key.get=function(){return this._structArray.uint16[this._pos2+8]},Ne.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Ne.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Ne.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Ne.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Ne.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Ne.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Ne.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Ne.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Ne.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Ne.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Ne.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Ne.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Ne.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Ne.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Ne.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Ne.crossTileID.set=function(w){this._structArray.uint32[this._pos4+12]=w},Ne.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Ne.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Ne.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Ne.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,Ne),e}(_i);Cc.prototype.size=68;var Ic=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new Cc(this,w)},e}(wu);Dn("SymbolInstanceArray",Ic);var Ac=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getoffsetX=function(w){return this.float32[1*w+0]},e}(Tu);Dn("GlyphOffsetArray",Ac);var zc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getx=function(w){return this.int16[3*w+0]},e.prototype.gety=function(w){return this.int16[3*w+1]},e.prototype.gettileUnitDistanceFromAnchor=function(w){return this.int16[3*w+2]},e}(Fu);Dn("SymbolLineVertexArray",zc);var Dc=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Ne.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Ne.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Ne.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,Ne),e}(_i);Dc.prototype.size=8;var Fc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new Dc(this,w)},e}(ac);Dn("FeatureIndexArray",Fc);var Bc=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,aa=function(w){void 0===w&&(w=[]),this.segments=w};function oa(w,Ne){return 256*(w=l(Math.floor(w),0,255))+l(Math.floor(Ne),0,255)}aa.prototype.prepareSegment=function(w,Ne,et,tt){var rt=this.segments[this.segments.length-1];return w>aa.MAX_VERTEX_ARRAY_LENGTH&&_("Max vertices per segment is "+aa.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+w),(!rt||rt.vertexLength+w>aa.MAX_VERTEX_ARRAY_LENGTH||rt.sortKey!==tt)&&(rt={vertexOffset:Ne.length,primitiveOffset:et.length,vertexLength:0,primitiveLength:0},void 0!==tt&&(rt.sortKey=tt),this.segments.push(rt)),rt},aa.prototype.get=function(){return this.segments},aa.prototype.destroy=function(){for(var w=0,Ne=this.segments;w<Ne.length;w+=1){var et=Ne[w];for(var tt in et.vaos)et.vaos[tt].destroy()}},aa.simpleSegment=function(w,Ne,et,tt){return new aa([{vertexOffset:w,primitiveOffset:Ne,vertexLength:et,primitiveLength:tt,vaos:{},sortKey:0}])},aa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dn("SegmentVector",aa);var Wc=Si([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Gc=e((function(w){w.exports=function(w,Ne){var et,tt,rt,nt,it,ot,at,st;for(tt=w.length-(et=3&w.length),rt=Ne,it=3432918353,ot=461845907,st=0;st<tt;)at=255&w.charCodeAt(st)|(255&w.charCodeAt(++st))<<8|(255&w.charCodeAt(++st))<<16|(255&w.charCodeAt(++st))<<24,++st,rt=27492+(65535&(nt=5*(65535&(rt=(rt^=at=(65535&(at=(at=(65535&at)*it+(((at>>>16)*it&65535)<<16)&4294967295)<<15|at>>>17))*ot+(((at>>>16)*ot&65535)<<16)&4294967295)<<13|rt>>>19))+((5*(rt>>>16)&65535)<<16)&4294967295))+((58964+(nt>>>16)&65535)<<16);switch(at=0,et){case 3:at^=(255&w.charCodeAt(st+2))<<16;case 2:at^=(255&w.charCodeAt(st+1))<<8;case 1:rt^=at=(65535&(at=(at=(65535&(at^=255&w.charCodeAt(st)))*it+(((at>>>16)*it&65535)<<16)&4294967295)<<15|at>>>17))*ot+(((at>>>16)*ot&65535)<<16)&4294967295}return rt^=w.length,rt=2246822507*(65535&(rt^=rt>>>16))+((2246822507*(rt>>>16)&65535)<<16)&4294967295,rt=3266489909*(65535&(rt^=rt>>>13))+((3266489909*(rt>>>16)&65535)<<16)&4294967295,(rt^=rt>>>16)>>>0}})),Zc=e((function(w){w.exports=function(w,Ne){for(var et,tt=w.length,rt=Ne^tt,nt=0;tt>=4;)et=1540483477*(65535&(et=255&w.charCodeAt(nt)|(255&w.charCodeAt(++nt))<<8|(255&w.charCodeAt(++nt))<<16|(255&w.charCodeAt(++nt))<<24))+((1540483477*(et>>>16)&65535)<<16),rt=1540483477*(65535&rt)+((1540483477*(rt>>>16)&65535)<<16)^(et=1540483477*(65535&(et^=et>>>24))+((1540483477*(et>>>16)&65535)<<16)),tt-=4,++nt;switch(tt){case 3:rt^=(255&w.charCodeAt(nt+2))<<16;case 2:rt^=(255&w.charCodeAt(nt+1))<<8;case 1:rt=1540483477*(65535&(rt^=255&w.charCodeAt(nt)))+((1540483477*(rt>>>16)&65535)<<16)}return rt=1540483477*(65535&(rt^=rt>>>13))+((1540483477*(rt>>>16)&65535)<<16),(rt^=rt>>>15)>>>0}})),Hc=Gc,$c=Zc;Hc.murmur3=Gc,Hc.murmur2=$c;var ha=function(){this.ids=[],this.positions=[],this.indexed=!1};ha.prototype.add=function(w,Ne,et,tt){this.ids.push(ya(w)),this.positions.push(Ne,et,tt)},ha.prototype.getPositions=function(w){for(var Ne=ya(w),et=0,tt=this.ids.length-1;et<tt;){var rt=et+tt>>1;this.ids[rt]>=Ne?tt=rt:et=rt+1}for(var nt=[];this.ids[et]===Ne;)nt.push({index:this.positions[3*et],start:this.positions[3*et+1],end:this.positions[3*et+2]}),et++;return nt},ha.serialize=function(w,Ne){var et=new Float64Array(w.ids),tt=new Uint32Array(w.positions);return function t(w,Ne,et,tt){for(;et<tt;){for(var rt=w[et+tt>>1],nt=et-1,it=tt+1;;){do{nt++}while(w[nt]<rt);do{it--}while(w[it]>rt);if(nt>=it)break;da(w,nt,it),da(Ne,3*nt,3*it),da(Ne,3*nt+1,3*it+1),da(Ne,3*nt+2,3*it+2)}it-et<tt-it?(t(w,Ne,et,it),et=it+1):(t(w,Ne,it+1,tt),tt=it)}}(et,tt,0,et.length-1),Ne&&Ne.push(et.buffer,tt.buffer),{ids:et,positions:tt}},ha.deserialize=function(w){var Ne=new ha;return Ne.ids=w.ids,Ne.positions=w.positions,Ne.indexed=!0,Ne};var Xc=Math.pow(2,53)-1;function ya(w){var Ne=+w;return!isNaN(Ne)&&Ne<=Xc?Ne:Hc(String(w))}function da(w,Ne,et){var tt=w[Ne];w[Ne]=w[et],w[et]=tt}Dn("FeaturePositionMap",ha);var ma=function(w,Ne){this.gl=w.gl,this.location=Ne},Yc=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=0}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){this.current!==w&&(this.current=w,this.gl.uniform1i(this.location,w))},e}(ma),rp=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=0}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){this.current!==w&&(this.current=w,this.gl.uniform1f(this.location,w))},e}(ma),ip=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=[0,0]}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w[0]===this.current[0]&&w[1]===this.current[1]||(this.current=w,this.gl.uniform2f(this.location,w[0],w[1]))},e}(ma),op=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=[0,0,0]}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w[0]===this.current[0]&&w[1]===this.current[1]&&w[2]===this.current[2]||(this.current=w,this.gl.uniform3f(this.location,w[0],w[1],w[2]))},e}(ma),ap=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=[0,0,0,0]}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w[0]===this.current[0]&&w[1]===this.current[1]&&w[2]===this.current[2]&&w[3]===this.current[3]||(this.current=w,this.gl.uniform4f(this.location,w[0],w[1],w[2],w[3]))},e}(ma),sp=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=Wt.transparent}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w.r===this.current.r&&w.g===this.current.g&&w.b===this.current.b&&w.a===this.current.a||(this.current=w,this.gl.uniform4f(this.location,w.r,w.g,w.b,w.a))},e}(ma),lp=new Float32Array(16),cp=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=lp}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){if(w[12]!==this.current[12]||w[0]!==this.current[0])return this.current=w,void this.gl.uniformMatrix4fv(this.location,!1,w);for(var Ne=1;Ne<16;Ne++)if(w[Ne]!==this.current[Ne]){this.current=w,this.gl.uniformMatrix4fv(this.location,!1,w);break}},e}(ma);function ka(w){return[oa(255*w.r,255*w.g),oa(255*w.b,255*w.a)]}var Ia=function(w,Ne,et){this.value=w,this.uniformNames=Ne.map((function(w){return"u_"+w})),this.type=et};Ia.prototype.setUniform=function(w,Ne,et){w.set(et.constantOr(this.value))},Ia.prototype.getBinding=function(w,Ne,et){return"color"===this.type?new sp(w,Ne):new rp(w,Ne)};var za=function(w,Ne){this.uniformNames=Ne.map((function(w){return"u_"+w})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};za.prototype.setConstantPatternPositions=function(w,Ne){this.pixelRatioFrom=Ne.pixelRatio,this.pixelRatioTo=w.pixelRatio,this.patternFrom=Ne.tlbr,this.patternTo=w.tlbr},za.prototype.setUniform=function(w,Ne,et,tt){var rt="u_pattern_to"===tt?this.patternTo:"u_pattern_from"===tt?this.patternFrom:"u_pixel_ratio_to"===tt?this.pixelRatioTo:"u_pixel_ratio_from"===tt?this.pixelRatioFrom:null;rt&&w.set(rt)},za.prototype.getBinding=function(w,Ne,et){return"u_pattern"===et.substr(0,9)?new ap(w,Ne):new rp(w,Ne)};var Ca=function(w,Ne,et,tt){this.expression=w,this.type=et,this.maxValue=0,this.paintVertexAttributes=Ne.map((function(w){return{name:"a_"+w,type:"Float32",components:"color"===et?2:1,offset:0}})),this.paintVertexArray=new tt};Ca.prototype.populatePaintArray=function(w,Ne,et,tt,rt){var nt=this.paintVertexArray.length,it=this.expression.evaluate(new ai(0),Ne,{},tt,[],rt);this.paintVertexArray.resize(w),this._setPaintValue(nt,w,it)},Ca.prototype.updatePaintArray=function(w,Ne,et,tt){var rt=this.expression.evaluate({zoom:0},et,tt);this._setPaintValue(w,Ne,rt)},Ca.prototype._setPaintValue=function(w,Ne,et){if("color"===this.type)for(var tt=ka(et),rt=w;rt<Ne;rt++)this.paintVertexArray.emplace(rt,tt[0],tt[1]);else{for(var nt=w;nt<Ne;nt++)this.paintVertexArray.emplace(nt,et);this.maxValue=Math.max(this.maxValue,Math.abs(et))}},Ca.prototype.upload=function(w){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=w.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ca.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ma=function(w,Ne,et,tt,rt,nt){this.expression=w,this.uniformNames=Ne.map((function(w){return"u_"+w+"_t"})),this.type=et,this.useIntegerZoom=tt,this.zoom=rt,this.maxValue=0,this.paintVertexAttributes=Ne.map((function(w){return{name:"a_"+w,type:"Float32",components:"color"===et?4:2,offset:0}})),this.paintVertexArray=new nt};Ma.prototype.populatePaintArray=function(w,Ne,et,tt,rt){var nt=this.expression.evaluate(new ai(this.zoom),Ne,{},tt,[],rt),it=this.expression.evaluate(new ai(this.zoom+1),Ne,{},tt,[],rt),ot=this.paintVertexArray.length;this.paintVertexArray.resize(w),this._setPaintValue(ot,w,nt,it)},Ma.prototype.updatePaintArray=function(w,Ne,et,tt){var rt=this.expression.evaluate({zoom:this.zoom},et,tt),nt=this.expression.evaluate({zoom:this.zoom+1},et,tt);this._setPaintValue(w,Ne,rt,nt)},Ma.prototype._setPaintValue=function(w,Ne,et,tt){if("color"===this.type)for(var rt=ka(et),nt=ka(tt),it=w;it<Ne;it++)this.paintVertexArray.emplace(it,rt[0],rt[1],nt[0],nt[1]);else{for(var ot=w;ot<Ne;ot++)this.paintVertexArray.emplace(ot,et,tt);this.maxValue=Math.max(this.maxValue,Math.abs(et),Math.abs(tt))}},Ma.prototype.upload=function(w){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=w.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ma.prototype.setUniform=function(w,Ne){var et=this.useIntegerZoom?Math.floor(Ne.zoom):Ne.zoom,tt=l(this.expression.interpolationFactor(et,this.zoom,this.zoom+1),0,1);w.set(tt)},Ma.prototype.getBinding=function(w,Ne,et){return new rp(w,Ne)};var Ea=function(w,Ne,et,tt,rt,nt){this.expression=w,this.type=Ne,this.useIntegerZoom=et,this.zoom=tt,this.layerId=nt,this.zoomInPaintVertexArray=new rt,this.zoomOutPaintVertexArray=new rt};Ea.prototype.populatePaintArray=function(w,Ne,et){var tt=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(w),this.zoomOutPaintVertexArray.resize(w),this._setPaintValues(tt,w,Ne.patterns&&Ne.patterns[this.layerId],et)},Ea.prototype.updatePaintArray=function(w,Ne,et,tt,rt){this._setPaintValues(w,Ne,et.patterns&&et.patterns[this.layerId],rt)},Ea.prototype._setPaintValues=function(w,Ne,et,tt){if(tt&&et){var rt=tt[et.min],nt=tt[et.mid],it=tt[et.max];if(rt&&nt&&it)for(var ot=w;ot<Ne;ot++)this.zoomInPaintVertexArray.emplace(ot,nt.tl[0],nt.tl[1],nt.br[0],nt.br[1],rt.tl[0],rt.tl[1],rt.br[0],rt.br[1],nt.pixelRatio,rt.pixelRatio),this.zoomOutPaintVertexArray.emplace(ot,nt.tl[0],nt.tl[1],nt.br[0],nt.br[1],it.tl[0],it.tl[1],it.br[0],it.br[1],nt.pixelRatio,it.pixelRatio)}},Ea.prototype.upload=function(w){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=w.createVertexBuffer(this.zoomInPaintVertexArray,Wc.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=w.createVertexBuffer(this.zoomOutPaintVertexArray,Wc.members,this.expression.isStateDependent))},Ea.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ta=function(w,Ne,et){this.binders={},this._buffers=[];var tt=[];for(var rt in w.paint._values)if(et(rt)){var nt=w.paint.get(rt);if(nt instanceof hi&&Tr(nt.property.specification)){var it=Ba(rt,w.type),ot=nt.value,at=nt.property.specification.type,st=nt.property.useIntegerZoom,ct=nt.property.specification["property-type"],pt="cross-faded"===ct||"cross-faded-data-driven"===ct;if("constant"===ot.kind)this.binders[rt]=pt?new za(ot.value,it):new Ia(ot.value,it,at),tt.push("/u_"+rt);else if("source"===ot.kind||pt){var ft=Va(rt,at,"source");this.binders[rt]=pt?new Ea(ot,at,st,Ne,ft,w.id):new Ca(ot,it,at,ft),tt.push("/a_"+rt)}else{var dt=Va(rt,at,"composite");this.binders[rt]=new Ma(ot,it,at,st,Ne,dt),tt.push("/z_"+rt)}}}this.cacheKey=tt.sort().join("")};Ta.prototype.getMaxValue=function(w){var Ne=this.binders[w];return Ne instanceof Ca||Ne instanceof Ma?Ne.maxValue:0},Ta.prototype.populatePaintArrays=function(w,Ne,et,tt,rt){for(var nt in this.binders){var it=this.binders[nt];(it instanceof Ca||it instanceof Ma||it instanceof Ea)&&it.populatePaintArray(w,Ne,et,tt,rt)}},Ta.prototype.setConstantPatternPositions=function(w,Ne){for(var et in this.binders){var tt=this.binders[et];tt instanceof za&&tt.setConstantPatternPositions(w,Ne)}},Ta.prototype.updatePaintArrays=function(w,Ne,et,tt,rt){var nt=!1;for(var it in w)for(var ot=0,at=Ne.getPositions(it);ot<at.length;ot+=1){var st=at[ot],ct=et.feature(st.index);for(var pt in this.binders){var ft=this.binders[pt];if((ft instanceof Ca||ft instanceof Ma||ft instanceof Ea)&&!0===ft.expression.isStateDependent){var dt=tt.paint.get(pt);ft.expression=dt.value,ft.updatePaintArray(st.start,st.end,ct,w[it],rt),nt=!0}}}return nt},Ta.prototype.defines=function(){var w=[];for(var Ne in this.binders){var et=this.binders[Ne];(et instanceof Ia||et instanceof za)&&w.push.apply(w,et.uniformNames.map((function(w){return"#define HAS_UNIFORM_"+w})))}return w},Ta.prototype.getBinderAttributes=function(){var w=[];for(var Ne in this.binders){var et=this.binders[Ne];if(et instanceof Ca||et instanceof Ma)for(var tt=0;tt<et.paintVertexAttributes.length;tt++)w.push(et.paintVertexAttributes[tt].name);else if(et instanceof Ea)for(var rt=0;rt<Wc.members.length;rt++)w.push(Wc.members[rt].name)}return w},Ta.prototype.getBinderUniforms=function(){var w=[];for(var Ne in this.binders){var et=this.binders[Ne];if(et instanceof Ia||et instanceof za||et instanceof Ma)for(var tt=0,rt=et.uniformNames;tt<rt.length;tt+=1)w.push(rt[tt])}return w},Ta.prototype.getPaintVertexBuffers=function(){return this._buffers},Ta.prototype.getUniforms=function(w,Ne){var et=[];for(var tt in this.binders){var rt=this.binders[tt];if(rt instanceof Ia||rt instanceof za||rt instanceof Ma)for(var nt=0,it=rt.uniformNames;nt<it.length;nt+=1){var ot=it[nt];if(Ne[ot]){var at=rt.getBinding(w,Ne[ot],ot);et.push({name:ot,property:tt,binding:at})}}}return et},Ta.prototype.setUniforms=function(w,Ne,et,tt){for(var rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt],ot=it.name,at=it.property;this.binders[at].setUniform(it.binding,tt,et.get(at),ot)}},Ta.prototype.updatePaintBuffers=function(w){for(var Ne in this._buffers=[],this.binders){var et=this.binders[Ne];if(w&&et instanceof Ea){var tt=2===w.fromScale?et.zoomInPaintVertexBuffer:et.zoomOutPaintVertexBuffer;tt&&this._buffers.push(tt)}else(et instanceof Ca||et instanceof Ma)&&et.paintVertexBuffer&&this._buffers.push(et.paintVertexBuffer)}},Ta.prototype.upload=function(w){for(var Ne in this.binders){var et=this.binders[Ne];(et instanceof Ca||et instanceof Ma||et instanceof Ea)&&et.upload(w)}this.updatePaintBuffers()},Ta.prototype.destroy=function(){for(var w in this.binders){var Ne=this.binders[w];(Ne instanceof Ca||Ne instanceof Ma||Ne instanceof Ea)&&Ne.destroy()}};var Pa=function(w,Ne,et){void 0===et&&(et=function(){return!0}),this.programConfigurations={};for(var tt=0,rt=w;tt<rt.length;tt+=1){var nt=rt[tt];this.programConfigurations[nt.id]=new Ta(nt,Ne,et)}this.needsUpload=!1,this._featureMap=new ha,this._bufferOffset=0};function Ba(w,Ne){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[w]||[w.replace(Ne+"-","").replace(/-/g,"_")]}function Va(w,Ne,et){var tt={color:{source:_c,composite:bc},number:{source:Tu,composite:_c}},rt=function(w){return{"line-pattern":{source:Sl,composite:Sl},"fill-pattern":{source:Sl,composite:Sl},"fill-extrusion-pattern":{source:Sl,composite:Sl}}[w]}(w);return rt&&rt[et]||tt[Ne][et]}Pa.prototype.populatePaintArrays=function(w,Ne,et,tt,rt,nt){for(var it in this.programConfigurations)this.programConfigurations[it].populatePaintArrays(w,Ne,tt,rt,nt);void 0!==Ne.id&&this._featureMap.add(Ne.id,et,this._bufferOffset,w),this._bufferOffset=w,this.needsUpload=!0},Pa.prototype.updatePaintArrays=function(w,Ne,et,tt){for(var rt=0,nt=et;rt<nt.length;rt+=1){var it=nt[rt];this.needsUpload=this.programConfigurations[it.id].updatePaintArrays(w,this._featureMap,Ne,it,tt)||this.needsUpload}},Pa.prototype.get=function(w){return this.programConfigurations[w]},Pa.prototype.upload=function(w){if(this.needsUpload){for(var Ne in this.programConfigurations)this.programConfigurations[Ne].upload(w);this.needsUpload=!1}},Pa.prototype.destroy=function(){for(var w in this.programConfigurations)this.programConfigurations[w].destroy()},Dn("ConstantBinder",Ia),Dn("CrossFadedConstantBinder",za),Dn("SourceExpressionBinder",Ca),Dn("CrossFadedCompositeBinder",Ea),Dn("CompositeExpressionBinder",Ma),Dn("ProgramConfiguration",Ta,{omit:["_buffers"]}),Dn("ProgramConfigurationSet",Pa);var pp=Math.pow(2,14)-1,hp=-pp-1;function La(w){for(var Ne=8192/w.extent,et=w.loadGeometry(),tt=0;tt<et.length;tt++)for(var rt=et[tt],nt=0;nt<rt.length;nt++){var it=rt[nt],ot=Math.round(it.x*Ne),at=Math.round(it.y*Ne);it.x=l(ot,hp,pp),it.y=l(at,hp,pp),(ot<it.x||ot>it.x+1||at<it.y||at>it.y+1)&&_("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return et}function Ra(w,Ne,et,tt,rt){w.emplaceBack(2*Ne+(tt+1)/2,2*et+(rt+1)/2)}var Oa=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.layoutVertexArray=new bl,this.indexArray=new vu,this.segments=new aa,this.programConfigurations=new Pa(w.layers,w.zoom),this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};function Ua(w,Ne){for(var et=0;et<w.length;et++)if(Ha(Ne,w[et]))return!0;for(var tt=0;tt<Ne.length;tt++)if(Ha(w,Ne[tt]))return!0;return!!Ka(w,Ne)}function ja(w,Ne,et){return!!Ha(w,Ne)||!!Za(Ne,w,et)}function qa(w,Ne){if(1===w.length)return Ja(Ne,w[0]);for(var et=0;et<Ne.length;et++)for(var tt=Ne[et],rt=0;rt<tt.length;rt++)if(Ha(w,tt[rt]))return!0;for(var nt=0;nt<w.length;nt++)if(Ja(Ne,w[nt]))return!0;for(var it=0;it<Ne.length;it++)if(Ka(w,Ne[it]))return!0;return!1}function Na(w,Ne,et){if(w.length>1){if(Ka(w,Ne))return!0;for(var tt=0;tt<Ne.length;tt++)if(Za(Ne[tt],w,et))return!0}for(var rt=0;rt<w.length;rt++)if(Za(w[rt],Ne,et))return!0;return!1}function Ka(w,Ne){if(0===w.length||0===Ne.length)return!1;for(var et=0;et<w.length-1;et++)for(var tt=w[et],rt=w[et+1],nt=0;nt<Ne.length-1;nt++)if(Ga(tt,rt,Ne[nt],Ne[nt+1]))return!0;return!1}function Ga(w,Ne,et,tt){return A(w,et,tt)!==A(Ne,et,tt)&&A(w,Ne,et)!==A(w,Ne,tt)}function Za(w,Ne,et){var tt=et*et;if(1===Ne.length)return w.distSqr(Ne[0])<tt;for(var rt=1;rt<Ne.length;rt++)if(Xa(w,Ne[rt-1],Ne[rt])<tt)return!0;return!1}function Xa(w,Ne,et){var tt=Ne.distSqr(et);if(0===tt)return w.distSqr(Ne);var rt=((w.x-Ne.x)*(et.x-Ne.x)+(w.y-Ne.y)*(et.y-Ne.y))/tt;return w.distSqr(rt<0?Ne:rt>1?et:et.sub(Ne)._mult(rt)._add(Ne))}function Ja(w,Ne){for(var et,tt,rt,nt=!1,it=0;it<w.length;it++)for(var ot=0,at=(et=w[it]).length-1;ot<et.length;at=ot++)(tt=et[ot]).y>Ne.y!=(rt=et[at]).y>Ne.y&&Ne.x<(rt.x-tt.x)*(Ne.y-tt.y)/(rt.y-tt.y)+tt.x&&(nt=!nt);return nt}function Ha(w,Ne){for(var et=!1,tt=0,rt=w.length-1;tt<w.length;rt=tt++){var nt=w[tt],it=w[rt];nt.y>Ne.y!=it.y>Ne.y&&Ne.x<(it.x-nt.x)*(Ne.y-nt.y)/(it.y-nt.y)+nt.x&&(et=!et)}return et}function Ya(w,Ne,et){var tt=et[0],rt=et[2];if(w.x<tt.x&&Ne.x<tt.x||w.x>rt.x&&Ne.x>rt.x||w.y<tt.y&&Ne.y<tt.y||w.y>rt.y&&Ne.y>rt.y)return!1;var nt=A(w,Ne,et[0]);return nt!==A(w,Ne,et[1])||nt!==A(w,Ne,et[2])||nt!==A(w,Ne,et[3])}function $a(w,Ne,et){var tt=Ne.paint.get(w).value;return"constant"===tt.kind?tt.value:et.programConfigurations.get(Ne.id).getMaxValue(w)}function Wa(w){return Math.sqrt(w[0]*w[0]+w[1]*w[1])}function Qa(w,Ne,tt,rt,nt){if(!Ne[0]&&!Ne[1])return w;var it=et.convert(Ne)._mult(nt);"viewport"===tt&&it._rotate(-rt);for(var ot=[],at=0;at<w.length;at++)ot.push(w[at].sub(it));return ot}Oa.prototype.populate=function(w,Ne,et){var tt=this.layers[0],rt=[],nt=null;"circle"===tt.type&&(nt=tt.layout.get("circle-sort-key"));for(var it=0,ot=w;it<ot.length;it+=1){var at=ot[it],st=at.feature,ct=at.id,pt=at.index,ft=at.sourceLayerIndex,dt=this.layers[0]._featureFilter.needGeometry,mt={type:st.type,id:ct,properties:st.properties,geometry:dt?La(st):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),mt,et)){dt||(mt.geometry=La(st));var yt=nt?nt.evaluate(mt,{},et):void 0;rt.push({id:ct,properties:st.properties,type:st.type,sourceLayerIndex:ft,index:pt,geometry:mt.geometry,patterns:{},sortKey:yt})}}nt&&rt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var vt=0,Rt=rt;vt<Rt.length;vt+=1){var Ot=Rt[vt],Dt=Ot.geometry,Bt=Ot.index,er=Ot.sourceLayerIndex,rr=w[Bt].feature;this.addFeature(Ot,Dt,Bt,et),Ne.featureIndex.insert(rr,Dt,Bt,er,this.index)}},Oa.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},Oa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Oa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Oa.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,Bc),this.indexBuffer=w.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(w),this.uploaded=!0},Oa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Oa.prototype.addFeature=function(w,Ne,et,tt){for(var rt=0,nt=Ne;rt<nt.length;rt+=1)for(var it=0,ot=nt[rt];it<ot.length;it+=1){var at=ot[it],st=at.x,ct=at.y;if(!(st<0||st>=8192||ct<0||ct>=8192)){var pt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,w.sortKey),ft=pt.vertexLength;Ra(this.layoutVertexArray,st,ct,-1,-1),Ra(this.layoutVertexArray,st,ct,1,-1),Ra(this.layoutVertexArray,st,ct,1,1),Ra(this.layoutVertexArray,st,ct,-1,1),this.indexArray.emplaceBack(ft,ft+1,ft+2),this.indexArray.emplaceBack(ft,ft+3,ft+2),pt.vertexLength+=4,pt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,{},tt)},Dn("CircleBucket",Oa,{omit:["layers"]});var fp=new xi({"circle-sort-key":new di($n.layout_circle["circle-sort-key"])}),dp={paint:new xi({"circle-radius":new di($n.paint_circle["circle-radius"]),"circle-color":new di($n.paint_circle["circle-color"]),"circle-blur":new di($n.paint_circle["circle-blur"]),"circle-opacity":new di($n.paint_circle["circle-opacity"]),"circle-translate":new yi($n.paint_circle["circle-translate"]),"circle-translate-anchor":new yi($n.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yi($n.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yi($n.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new di($n.paint_circle["circle-stroke-width"]),"circle-stroke-color":new di($n.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new di($n.paint_circle["circle-stroke-opacity"])}),layout:fp},mp="undefined"!=typeof Float32Array?Float32Array:Array;function no(w){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function io(w,Ne,et){var tt=Ne[0],rt=Ne[1],nt=Ne[2],it=Ne[3],ot=Ne[4],at=Ne[5],st=Ne[6],ct=Ne[7],pt=Ne[8],ft=Ne[9],dt=Ne[10],mt=Ne[11],yt=Ne[12],vt=Ne[13],Rt=Ne[14],Ot=Ne[15],Dt=et[0],Bt=et[1],er=et[2],rr=et[3];return w[0]=Dt*tt+Bt*ot+er*pt+rr*yt,w[1]=Dt*rt+Bt*at+er*ft+rr*vt,w[2]=Dt*nt+Bt*st+er*dt+rr*Rt,w[3]=Dt*it+Bt*ct+er*mt+rr*Ot,w[4]=(Dt=et[4])*tt+(Bt=et[5])*ot+(er=et[6])*pt+(rr=et[7])*yt,w[5]=Dt*rt+Bt*at+er*ft+rr*vt,w[6]=Dt*nt+Bt*st+er*dt+rr*Rt,w[7]=Dt*it+Bt*ct+er*mt+rr*Ot,w[8]=(Dt=et[8])*tt+(Bt=et[9])*ot+(er=et[10])*pt+(rr=et[11])*yt,w[9]=Dt*rt+Bt*at+er*ft+rr*vt,w[10]=Dt*nt+Bt*st+er*dt+rr*Rt,w[11]=Dt*it+Bt*ct+er*mt+rr*Ot,w[12]=(Dt=et[12])*tt+(Bt=et[13])*ot+(er=et[14])*pt+(rr=et[15])*yt,w[13]=Dt*rt+Bt*at+er*ft+rr*vt,w[14]=Dt*nt+Bt*st+er*dt+rr*Rt,w[15]=Dt*it+Bt*ct+er*mt+rr*Ot,w}Math.hypot||(Math.hypot=function(){for(var w=arguments,Ne=0,et=arguments.length;et--;)Ne+=w[et]*w[et];return Math.sqrt(Ne)});var gp,yp=io;function so(w,Ne,et){var tt=Ne[0],rt=Ne[1],nt=Ne[2],it=Ne[3];return w[0]=et[0]*tt+et[4]*rt+et[8]*nt+et[12]*it,w[1]=et[1]*tt+et[5]*rt+et[9]*nt+et[13]*it,w[2]=et[2]*tt+et[6]*rt+et[10]*nt+et[14]*it,w[3]=et[3]*tt+et[7]*rt+et[11]*nt+et[15]*it,w}gp=new mp(3),mp!=Float32Array&&(gp[0]=0,gp[1]=0,gp[2]=0),function(){var w=new mp(4);mp!=Float32Array&&(w[0]=0,w[1]=0,w[2]=0,w[3]=0)}();var vp=(function(){var w=new mp(2);mp!=Float32Array&&(w[0]=0,w[1]=0)}(),function(w){function e(Ne){w.call(this,Ne,dp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.createBucket=function(w){return new Oa(w)},e.prototype.queryRadius=function(w){var Ne=w;return $a("circle-radius",this,Ne)+$a("circle-stroke-width",this,Ne)+Wa(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(w,Ne,et,tt,rt,nt,it,ot){for(var at=Qa(w,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),nt.angle,it),st=this.paint.get("circle-radius").evaluate(Ne,et)+this.paint.get("circle-stroke-width").evaluate(Ne,et),ct="map"===this.paint.get("circle-pitch-alignment"),pt=ct?at:function(w,Ne){return w.map((function(w){return lo(w,Ne)}))}(at,ot),ft=ct?st*it:st,dt=0,mt=tt;dt<mt.length;dt+=1)for(var yt=0,vt=mt[dt];yt<vt.length;yt+=1){var Rt=vt[yt],Ot=ct?Rt:lo(Rt,ot),Dt=ft,Bt=so([],[Rt.x,Rt.y,0,1],ot);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Dt*=Bt[3]/nt.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Dt*=nt.cameraToCenterDistance/Bt[3]),ja(pt,Ot,Dt))return!0}return!1},e}(vl));function lo(w,Ne){var tt=so([],[w.x,w.y,0,1],Ne);return new et(tt[0]/tt[3],tt[1]/tt[3])}var _p=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(Oa);function co(w,Ne,et,tt){var rt=Ne.width,nt=Ne.height;if(tt){if(tt instanceof Uint8ClampedArray)tt=new Uint8Array(tt.buffer);else if(tt.length!==rt*nt*et)throw new RangeError("mismatched image size")}else tt=new Uint8Array(rt*nt*et);return w.width=rt,w.height=nt,w.data=tt,w}function ho(w,Ne,et){var tt=Ne.width,rt=Ne.height;if(tt!==w.width||rt!==w.height){var nt=co({},{width:tt,height:rt},et);fo(w,nt,{x:0,y:0},{x:0,y:0},{width:Math.min(w.width,tt),height:Math.min(w.height,rt)},et),w.width=tt,w.height=rt,w.data=nt.data}}function fo(w,Ne,et,tt,rt,nt){if(0===rt.width||0===rt.height)return Ne;if(rt.width>w.width||rt.height>w.height||et.x>w.width-rt.width||et.y>w.height-rt.height)throw new RangeError("out of range source coordinates for image copy");if(rt.width>Ne.width||rt.height>Ne.height||tt.x>Ne.width-rt.width||tt.y>Ne.height-rt.height)throw new RangeError("out of range destination coordinates for image copy");for(var it=w.data,ot=Ne.data,at=0;at<rt.height;at++)for(var st=((et.y+at)*w.width+et.x)*nt,ct=((tt.y+at)*Ne.width+tt.x)*nt,pt=0;pt<rt.width*nt;pt++)ot[ct+pt]=it[st+pt];return Ne}Dn("HeatmapBucket",_p,{omit:["layers"]});var yo=function(w,Ne){co(this,w,1,Ne)};yo.prototype.resize=function(w){ho(this,w,1)},yo.prototype.clone=function(){return new yo({width:this.width,height:this.height},new Uint8Array(this.data))},yo.copy=function(w,Ne,et,tt,rt){fo(w,Ne,et,tt,rt,1)};var mo=function(w,Ne){co(this,w,4,Ne)};mo.prototype.resize=function(w){ho(this,w,4)},mo.prototype.replace=function(w,Ne){Ne?this.data.set(w):this.data=w instanceof Uint8ClampedArray?new Uint8Array(w.buffer):w},mo.prototype.clone=function(){return new mo({width:this.width,height:this.height},new Uint8Array(this.data))},mo.copy=function(w,Ne,et,tt,rt){fo(w,Ne,et,tt,rt,4)},Dn("AlphaImage",yo),Dn("RGBAImage",mo);var bp={paint:new xi({"heatmap-radius":new di($n.paint_heatmap["heatmap-radius"]),"heatmap-weight":new di($n.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yi($n.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gi($n.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yi($n.paint_heatmap["heatmap-opacity"])})};function go(w,Ne){for(var et=new Uint8Array(1024),tt={},rt=0,nt=0;rt<256;rt++,nt+=4){tt[Ne]=rt/255;var it=w.evaluate(tt);et[nt+0]=Math.floor(255*it.r/it.a),et[nt+1]=Math.floor(255*it.g/it.a),et[nt+2]=Math.floor(255*it.b/it.a),et[nt+3]=Math.floor(255*it.a)}return new mo({width:256,height:1},et)}var xp=function(w){function e(Ne){w.call(this,Ne,bp),this._updateColorRamp()}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.createBucket=function(w){return new _p(w)},e.prototype._handleSpecialPaintPropertyUpdate=function(w){"heatmap-color"===w&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=go(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(vl),wp={paint:new xi({"hillshade-illumination-direction":new yi($n.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yi($n.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yi($n.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yi($n.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yi($n.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yi($n.paint_hillshade["hillshade-accent-color"])})},kp=function(w){function e(Ne){w.call(this,Ne,wp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(vl),Sp=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,Ep=ko,Tp=ko;function ko(w,Ne,et){et=et||2;var tt,rt,nt,it,ot,at,st,ct=Ne&&Ne.length,pt=ct?Ne[0]*et:w.length,ft=Io(w,0,pt,et,!0),dt=[];if(!ft||ft.next===ft.prev)return dt;if(ct&&(ft=function(w,Ne,et,tt){var rt,nt,it,ot=[];for(rt=0,nt=Ne.length;rt<nt;rt++)(it=Io(w,Ne[rt]*tt,rt<nt-1?Ne[rt+1]*tt:w.length,tt,!1))===it.next&&(it.steiner=!0),ot.push(Lo(it));for(ot.sort(Bo),rt=0;rt<ot.length;rt++)Vo(ot[rt],et),et=zo(et,et.next);return et}(w,Ne,ft,et)),w.length>80*et){tt=nt=w[0],rt=it=w[1];for(var mt=et;mt<pt;mt+=et)(ot=w[mt])<tt&&(tt=ot),(at=w[mt+1])<rt&&(rt=at),ot>nt&&(nt=ot),at>it&&(it=at);st=0!==(st=Math.max(nt-tt,it-rt))?1/st:0}return Co(ft,dt,et,tt,rt,st),dt}function Io(w,Ne,et,tt,rt){var nt,it;if(rt===Yo(w,Ne,et,tt)>0)for(nt=Ne;nt<et;nt+=tt)it=Xo(nt,w[nt],w[nt+1],it);else for(nt=et-tt;nt>=Ne;nt-=tt)it=Xo(nt,w[nt],w[nt+1],it);return it&&jo(it,it.next)&&(Jo(it),it=it.next),it}function zo(w,Ne){if(!w)return w;Ne||(Ne=w);var et,tt=w;do{if(et=!1,tt.steiner||!jo(tt,tt.next)&&0!==Uo(tt.prev,tt,tt.next))tt=tt.next;else{if(Jo(tt),(tt=Ne=tt.prev)===tt.next)break;et=!0}}while(et||tt!==Ne);return Ne}function Co(w,Ne,et,tt,rt,nt,it){if(w){!it&&nt&&function(w,Ne,et,tt){var rt=w;do{null===rt.z&&(rt.z=Do(rt.x,rt.y,Ne,et,tt)),rt.prevZ=rt.prev,rt.nextZ=rt.next,rt=rt.next}while(rt!==w);rt.prevZ.nextZ=null,rt.prevZ=null,function(w){var Ne,et,tt,rt,nt,it,ot,at,st=1;do{for(et=w,w=null,nt=null,it=0;et;){for(it++,tt=et,ot=0,Ne=0;Ne<st&&(ot++,tt=tt.nextZ);Ne++);for(at=st;ot>0||at>0&&tt;)0!==ot&&(0===at||!tt||et.z<=tt.z)?(rt=et,et=et.nextZ,ot--):(rt=tt,tt=tt.nextZ,at--),nt?nt.nextZ=rt:w=rt,rt.prevZ=nt,nt=rt;et=tt}nt.nextZ=null,st*=2}while(it>1)}(rt)}(w,tt,rt,nt);for(var ot,at,st=w;w.prev!==w.next;)if(ot=w.prev,at=w.next,nt?Eo(w,tt,rt,nt):Mo(w))Ne.push(ot.i/et),Ne.push(w.i/et),Ne.push(at.i/et),Jo(w),w=at.next,st=at.next;else if((w=at)===st){it?1===it?Co(w=To(zo(w),Ne,et),Ne,et,tt,rt,nt,2):2===it&&Po(w,Ne,et,tt,rt,nt):Co(zo(w),Ne,et,tt,rt,nt,1);break}}}function Mo(w){var Ne=w.prev,et=w,tt=w.next;if(Uo(Ne,et,tt)>=0)return!1;for(var rt=w.next.next;rt!==w.prev;){if(Ro(Ne.x,Ne.y,et.x,et.y,tt.x,tt.y,rt.x,rt.y)&&Uo(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function Eo(w,Ne,et,tt){var rt=w.prev,nt=w,it=w.next;if(Uo(rt,nt,it)>=0)return!1;for(var ot=rt.x>nt.x?rt.x>it.x?rt.x:it.x:nt.x>it.x?nt.x:it.x,at=rt.y>nt.y?rt.y>it.y?rt.y:it.y:nt.y>it.y?nt.y:it.y,st=Do(rt.x<nt.x?rt.x<it.x?rt.x:it.x:nt.x<it.x?nt.x:it.x,rt.y<nt.y?rt.y<it.y?rt.y:it.y:nt.y<it.y?nt.y:it.y,Ne,et,tt),ct=Do(ot,at,Ne,et,tt),pt=w.prevZ,ft=w.nextZ;pt&&pt.z>=st&&ft&&ft.z<=ct;){if(pt!==w.prev&&pt!==w.next&&Ro(rt.x,rt.y,nt.x,nt.y,it.x,it.y,pt.x,pt.y)&&Uo(pt.prev,pt,pt.next)>=0)return!1;if(pt=pt.prevZ,ft!==w.prev&&ft!==w.next&&Ro(rt.x,rt.y,nt.x,nt.y,it.x,it.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}for(;pt&&pt.z>=st;){if(pt!==w.prev&&pt!==w.next&&Ro(rt.x,rt.y,nt.x,nt.y,it.x,it.y,pt.x,pt.y)&&Uo(pt.prev,pt,pt.next)>=0)return!1;pt=pt.prevZ}for(;ft&&ft.z<=ct;){if(ft!==w.prev&&ft!==w.next&&Ro(rt.x,rt.y,nt.x,nt.y,it.x,it.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}return!0}function To(w,Ne,et){var tt=w;do{var rt=tt.prev,nt=tt.next.next;!jo(rt,nt)&&qo(rt,tt,tt.next,nt)&&Go(rt,nt)&&Go(nt,rt)&&(Ne.push(rt.i/et),Ne.push(tt.i/et),Ne.push(nt.i/et),Jo(tt),Jo(tt.next),tt=w=nt),tt=tt.next}while(tt!==w);return zo(tt)}function Po(w,Ne,et,tt,rt,nt){var it=w;do{for(var ot=it.next.next;ot!==it.prev;){if(it.i!==ot.i&&Oo(it,ot)){var at=Zo(it,ot);return it=zo(it,it.next),at=zo(at,at.next),Co(it,Ne,et,tt,rt,nt),void Co(at,Ne,et,tt,rt,nt)}ot=ot.next}it=it.next}while(it!==w)}function Bo(w,Ne){return w.x-Ne.x}function Vo(w,Ne){if(Ne=function(w,Ne){var et,tt=Ne,rt=w.x,nt=w.y,it=-1/0;do{if(nt<=tt.y&&nt>=tt.next.y&&tt.next.y!==tt.y){var ot=tt.x+(nt-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(ot<=rt&&ot>it){if(it=ot,ot===rt){if(nt===tt.y)return tt;if(nt===tt.next.y)return tt.next}et=tt.x<tt.next.x?tt:tt.next}}tt=tt.next}while(tt!==Ne);if(!et)return null;if(rt===it)return et;var at,st=et,ct=et.x,pt=et.y,ft=1/0;tt=et;do{rt>=tt.x&&tt.x>=ct&&rt!==tt.x&&Ro(nt<pt?rt:it,nt,ct,pt,nt<pt?it:rt,nt,tt.x,tt.y)&&(at=Math.abs(nt-tt.y)/(rt-tt.x),Go(tt,w)&&(at<ft||at===ft&&(tt.x>et.x||tt.x===et.x&&Fo(et,tt)))&&(et=tt,ft=at)),tt=tt.next}while(tt!==st);return et}(w,Ne)){var et=Zo(Ne,w);zo(Ne,Ne.next),zo(et,et.next)}}function Fo(w,Ne){return Uo(w.prev,w,Ne.prev)<0&&Uo(Ne.next,w,w.next)<0}function Do(w,Ne,et,tt,rt){return(w=1431655765&((w=858993459&((w=252645135&((w=16711935&((w=32767*(w-et)*rt)|w<<8))|w<<4))|w<<2))|w<<1))|(Ne=1431655765&((Ne=858993459&((Ne=252645135&((Ne=16711935&((Ne=32767*(Ne-tt)*rt)|Ne<<8))|Ne<<4))|Ne<<2))|Ne<<1))<<1}function Lo(w){var Ne=w,et=w;do{(Ne.x<et.x||Ne.x===et.x&&Ne.y<et.y)&&(et=Ne),Ne=Ne.next}while(Ne!==w);return et}function Ro(w,Ne,et,tt,rt,nt,it,ot){return(rt-it)*(Ne-ot)-(w-it)*(nt-ot)>=0&&(w-it)*(tt-ot)-(et-it)*(Ne-ot)>=0&&(et-it)*(nt-ot)-(rt-it)*(tt-ot)>=0}function Oo(w,Ne){return w.next.i!==Ne.i&&w.prev.i!==Ne.i&&!function(w,Ne){var et=w;do{if(et.i!==w.i&&et.next.i!==w.i&&et.i!==Ne.i&&et.next.i!==Ne.i&&qo(et,et.next,w,Ne))return!0;et=et.next}while(et!==w);return!1}(w,Ne)&&(Go(w,Ne)&&Go(Ne,w)&&function(w,Ne){var et=w,tt=!1,rt=(w.x+Ne.x)/2,nt=(w.y+Ne.y)/2;do{et.y>nt!=et.next.y>nt&&et.next.y!==et.y&&rt<(et.next.x-et.x)*(nt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next}while(et!==w);return tt}(w,Ne)&&(Uo(w.prev,w,Ne.prev)||Uo(w,Ne.prev,Ne))||jo(w,Ne)&&Uo(w.prev,w,w.next)>0&&Uo(Ne.prev,Ne,Ne.next)>0)}function Uo(w,Ne,et){return(Ne.y-w.y)*(et.x-Ne.x)-(Ne.x-w.x)*(et.y-Ne.y)}function jo(w,Ne){return w.x===Ne.x&&w.y===Ne.y}function qo(w,Ne,et,tt){var rt=Ko(Uo(w,Ne,et)),nt=Ko(Uo(w,Ne,tt)),it=Ko(Uo(et,tt,w)),ot=Ko(Uo(et,tt,Ne));return rt!==nt&&it!==ot||!(0!==rt||!No(w,et,Ne))||!(0!==nt||!No(w,tt,Ne))||!(0!==it||!No(et,w,tt))||!(0!==ot||!No(et,Ne,tt))}function No(w,Ne,et){return Ne.x<=Math.max(w.x,et.x)&&Ne.x>=Math.min(w.x,et.x)&&Ne.y<=Math.max(w.y,et.y)&&Ne.y>=Math.min(w.y,et.y)}function Ko(w){return w>0?1:w<0?-1:0}function Go(w,Ne){return Uo(w.prev,w,w.next)<0?Uo(w,Ne,w.next)>=0&&Uo(w,w.prev,Ne)>=0:Uo(w,Ne,w.prev)<0||Uo(w,w.next,Ne)<0}function Zo(w,Ne){var et=new Ho(w.i,w.x,w.y),tt=new Ho(Ne.i,Ne.x,Ne.y),rt=w.next,nt=Ne.prev;return w.next=Ne,Ne.prev=w,et.next=rt,rt.prev=et,tt.next=et,et.prev=tt,nt.next=tt,tt.prev=nt,tt}function Xo(w,Ne,et,tt){var rt=new Ho(w,Ne,et);return tt?(rt.next=tt.next,rt.prev=tt,tt.next.prev=rt,tt.next=rt):(rt.prev=rt,rt.next=rt),rt}function Jo(w){w.next.prev=w.prev,w.prev.next=w.next,w.prevZ&&(w.prevZ.nextZ=w.nextZ),w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function Ho(w,Ne,et){this.i=w,this.x=Ne,this.y=et,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yo(w,Ne,et,tt){for(var rt=0,nt=Ne,it=et-tt;nt<et;nt+=tt)rt+=(w[it]-w[nt])*(w[nt+1]+w[it+1]),it=nt;return rt}function $o(w,Ne,et,tt,rt){!function t(w,Ne,et,tt,rt){for(;tt>et;){if(tt-et>600){var nt=tt-et+1,it=Ne-et+1,ot=Math.log(nt),at=.5*Math.exp(2*ot/3),st=.5*Math.sqrt(ot*at*(nt-at)/nt)*(it-nt/2<0?-1:1);t(w,Ne,Math.max(et,Math.floor(Ne-it*at/nt+st)),Math.min(tt,Math.floor(Ne+(nt-it)*at/nt+st)),rt)}var ct=w[Ne],pt=et,ft=tt;for(Wo(w,et,Ne),rt(w[tt],ct)>0&&Wo(w,et,tt);pt<ft;){for(Wo(w,pt,ft),pt++,ft--;rt(w[pt],ct)<0;)pt++;for(;rt(w[ft],ct)>0;)ft--}0===rt(w[et],ct)?Wo(w,et,ft):Wo(w,++ft,tt),ft<=Ne&&(et=ft+1),Ne<=ft&&(tt=ft-1)}}(w,Ne,et||0,tt||w.length-1,rt||Qo)}function Wo(w,Ne,et){var tt=w[Ne];w[Ne]=w[et],w[et]=tt}function Qo(w,Ne){return w<Ne?-1:w>Ne?1:0}function ts(w,Ne){var et=w.length;if(et<=1)return[w];for(var tt,rt,nt=[],it=0;it<et;it++){var ot=S(w[it]);0!==ot&&(w[it].area=Math.abs(ot),void 0===rt&&(rt=ot<0),rt===ot<0?(tt&&nt.push(tt),tt=[w[it]]):tt.push(w[it]))}if(tt&&nt.push(tt),Ne>1)for(var at=0;at<nt.length;at++)nt[at].length<=Ne||($o(nt[at],Ne,1,nt[at].length-1,es),nt[at]=nt[at].slice(0,Ne));return nt}function es(w,Ne){return Ne.area-w.area}function rs(w,Ne,et){for(var tt=et.patternDependencies,rt=!1,nt=0,it=Ne;nt<it.length;nt+=1){var ot=it[nt].paint.get(w+"-pattern");ot.isConstant()||(rt=!0);var at=ot.constantOr(null);at&&(rt=!0,tt[at.to]=!0,tt[at.from]=!0)}return rt}function ns(w,Ne,et,tt,rt){for(var nt=rt.patternDependencies,it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.paint.get(w+"-pattern").value;if("constant"!==st.kind){var ct=st.evaluate({zoom:tt-1},et,{},rt.availableImages),pt=st.evaluate({zoom:tt},et,{},rt.availableImages),ft=st.evaluate({zoom:tt+1},et,{},rt.availableImages);pt=pt&&pt.name?pt.name:pt,ft=ft&&ft.name?ft.name:ft,nt[ct=ct&&ct.name?ct.name:ct]=!0,nt[pt]=!0,nt[ft]=!0,et.patterns[at.id]={min:ct,mid:pt,max:ft}}}return et}ko.deviation=function(w,Ne,et,tt){var rt=Ne&&Ne.length,nt=Math.abs(Yo(w,0,rt?Ne[0]*et:w.length,et));if(rt)for(var it=0,ot=Ne.length;it<ot;it++)nt-=Math.abs(Yo(w,Ne[it]*et,it<ot-1?Ne[it+1]*et:w.length,et));var at=0;for(it=0;it<tt.length;it+=3){var st=tt[it]*et,ct=tt[it+1]*et,pt=tt[it+2]*et;at+=Math.abs((w[st]-w[pt])*(w[ct+1]-w[st+1])-(w[st]-w[ct])*(w[pt+1]-w[st+1]))}return 0===nt&&0===at?0:Math.abs((at-nt)/nt)},ko.flatten=function(w){for(var Ne=w[0][0].length,et={vertices:[],holes:[],dimensions:Ne},tt=0,rt=0;rt<w.length;rt++){for(var nt=0;nt<w[rt].length;nt++)for(var it=0;it<Ne;it++)et.vertices.push(w[rt][nt][it]);rt>0&&et.holes.push(tt+=w[rt-1].length)}return et},Ep.default=Tp;var is=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bl,this.indexArray=new vu,this.indexArray2=new pc,this.programConfigurations=new Pa(w.layers,w.zoom),this.segments=new aa,this.segments2=new aa,this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};is.prototype.populate=function(w,Ne,et){this.hasPattern=rs("fill",this.layers,Ne);for(var tt=this.layers[0].layout.get("fill-sort-key"),rt=[],nt=0,it=w;nt<it.length;nt+=1){var ot=it[nt],at=ot.feature,st=ot.id,ct=ot.index,pt=ot.sourceLayerIndex,ft=this.layers[0]._featureFilter.needGeometry,dt={type:at.type,id:st,properties:at.properties,geometry:ft?La(at):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),dt,et)){ft||(dt.geometry=La(at));var mt=tt?tt.evaluate(dt,{},et,Ne.availableImages):void 0;rt.push({id:st,properties:at.properties,type:at.type,sourceLayerIndex:pt,index:ct,geometry:dt.geometry,patterns:{},sortKey:mt})}}tt&&rt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var yt=0,vt=rt;yt<vt.length;yt+=1){var Rt=vt[yt],Ot=Rt.geometry,Dt=Rt.index,Bt=Rt.sourceLayerIndex;if(this.hasPattern){var er=ns("fill",this.layers,Rt,this.zoom,Ne);this.patternFeatures.push(er)}else this.addFeature(Rt,Ot,Dt,et,{});Ne.featureIndex.insert(w[Dt].feature,Ot,Dt,Bt,this.index)}},is.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},is.prototype.addFeatures=function(w,Ne,et){for(var tt=0,rt=this.patternFeatures;tt<rt.length;tt+=1){var nt=rt[tt];this.addFeature(nt,nt.geometry,nt.index,Ne,et)}},is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},is.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,Sp),this.indexBuffer=w.createIndexBuffer(this.indexArray),this.indexBuffer2=w.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(w),this.uploaded=!0},is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},is.prototype.addFeature=function(w,Ne,et,tt,rt){for(var nt=0,it=ts(Ne,500);nt<it.length;nt+=1){for(var ot=it[nt],at=0,st=0,ct=ot;st<ct.length;st+=1)at+=ct[st].length;for(var pt=this.segments.prepareSegment(at,this.layoutVertexArray,this.indexArray),ft=pt.vertexLength,dt=[],mt=[],yt=0,vt=ot;yt<vt.length;yt+=1){var Rt=vt[yt];if(0!==Rt.length){Rt!==ot[0]&&mt.push(dt.length/2);var Ot=this.segments2.prepareSegment(Rt.length,this.layoutVertexArray,this.indexArray2),Dt=Ot.vertexLength;this.layoutVertexArray.emplaceBack(Rt[0].x,Rt[0].y),this.indexArray2.emplaceBack(Dt+Rt.length-1,Dt),dt.push(Rt[0].x),dt.push(Rt[0].y);for(var Bt=1;Bt<Rt.length;Bt++)this.layoutVertexArray.emplaceBack(Rt[Bt].x,Rt[Bt].y),this.indexArray2.emplaceBack(Dt+Bt-1,Dt+Bt),dt.push(Rt[Bt].x),dt.push(Rt[Bt].y);Ot.vertexLength+=Rt.length,Ot.primitiveLength+=Rt.length}}for(var er=Ep(dt,mt),rr=0;rr<er.length;rr+=3)this.indexArray.emplaceBack(ft+er[rr],ft+er[rr+1],ft+er[rr+2]);pt.vertexLength+=at,pt.primitiveLength+=er.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,rt,tt)},Dn("FillBucket",is,{omit:["layers","patternFeatures"]});var Cp=new xi({"fill-sort-key":new di($n.layout_fill["fill-sort-key"])}),Pp={paint:new xi({"fill-antialias":new yi($n.paint_fill["fill-antialias"]),"fill-opacity":new di($n.paint_fill["fill-opacity"]),"fill-color":new di($n.paint_fill["fill-color"]),"fill-outline-color":new di($n.paint_fill["fill-outline-color"]),"fill-translate":new yi($n.paint_fill["fill-translate"]),"fill-translate-anchor":new yi($n.paint_fill["fill-translate-anchor"]),"fill-pattern":new yl($n.paint_fill["fill-pattern"])}),layout:Cp},Ip=function(w){function e(Ne){w.call(this,Ne,Pp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.recalculate=function(Ne,et){w.prototype.recalculate.call(this,Ne,et);var tt=this.paint._values["fill-outline-color"];"constant"===tt.value.kind&&void 0===tt.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(w){return new is(w)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(w,Ne,et,tt,rt,nt,it){return qa(Qa(w,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),nt.angle,it),tt)},e.prototype.isTileClipped=function(){return!0},e}(vl),Ap=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,zp=ps;function ps(w,Ne,et,tt,rt){this.properties={},this.extent=et,this.type=0,this._pbf=w,this._geometry=-1,this._keys=tt,this._values=rt,w.readFields(cs,this,Ne)}function cs(w,Ne,et){1==w?Ne.id=et.readVarint():2==w?function(w,Ne){for(var et=w.readVarint()+w.pos;w.pos<et;){var tt=Ne._keys[w.readVarint()],rt=Ne._values[w.readVarint()];Ne.properties[tt]=rt}}(et,Ne):3==w?Ne.type=et.readVarint():4==w&&(Ne._geometry=et.pos)}function hs(w){for(var Ne,et,tt=0,rt=0,nt=w.length,it=nt-1;rt<nt;it=rt++)tt+=((et=w[it]).x-(Ne=w[rt]).x)*(Ne.y+et.y);return tt}ps.types=["Unknown","Point","LineString","Polygon"],ps.prototype.loadGeometry=function(){var w=this._pbf;w.pos=this._geometry;for(var Ne,tt=w.readVarint()+w.pos,rt=1,nt=0,it=0,ot=0,at=[];w.pos<tt;){if(nt<=0){var st=w.readVarint();rt=7&st,nt=st>>3}if(nt--,1===rt||2===rt)it+=w.readSVarint(),ot+=w.readSVarint(),1===rt&&(Ne&&at.push(Ne),Ne=[]),Ne.push(new et(it,ot));else{if(7!==rt)throw new Error("unknown command "+rt);Ne&&Ne.push(Ne[0].clone())}}return Ne&&at.push(Ne),at},ps.prototype.bbox=function(){var w=this._pbf;w.pos=this._geometry;for(var Ne=w.readVarint()+w.pos,et=1,tt=0,rt=0,nt=0,it=1/0,ot=-1/0,at=1/0,st=-1/0;w.pos<Ne;){if(tt<=0){var ct=w.readVarint();et=7&ct,tt=ct>>3}if(tt--,1===et||2===et)(rt+=w.readSVarint())<it&&(it=rt),rt>ot&&(ot=rt),(nt+=w.readSVarint())<at&&(at=nt),nt>st&&(st=nt);else if(7!==et)throw new Error("unknown command "+et)}return[it,at,ot,st]},ps.prototype.toGeoJSON=function(w,Ne,et){var tt,rt,nt=this.extent*Math.pow(2,et),it=this.extent*w,ot=this.extent*Ne,at=this.loadGeometry(),st=ps.types[this.type];function p(w){for(var Ne=0;Ne<w.length;Ne++){var et=w[Ne];w[Ne]=[360*(et.x+it)/nt-180,360/Math.PI*Math.atan(Math.exp((180-360*(et.y+ot)/nt)*Math.PI/180))-90]}}switch(this.type){case 1:var ct=[];for(tt=0;tt<at.length;tt++)ct[tt]=at[tt][0];p(at=ct);break;case 2:for(tt=0;tt<at.length;tt++)p(at[tt]);break;case 3:for(at=function(w){var Ne=w.length;if(Ne<=1)return[w];for(var et,tt,rt=[],nt=0;nt<Ne;nt++){var it=hs(w[nt]);0!==it&&(void 0===tt&&(tt=it<0),tt===it<0?(et&&rt.push(et),et=[w[nt]]):et.push(w[nt]))}return et&&rt.push(et),rt}(at),tt=0;tt<at.length;tt++)for(rt=0;rt<at[tt].length;rt++)p(at[tt][rt])}1===at.length?at=at[0]:st="Multi"+st;var pt={type:"Feature",geometry:{type:st,coordinates:at},properties:this.properties};return"id"in this&&(pt.id=this.id),pt};var Mp=ys;function ys(w,Ne){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=w,this._keys=[],this._values=[],this._features=[],w.readFields(ds,this,Ne),this.length=this._features.length}function ds(w,Ne,et){15===w?Ne.version=et.readVarint():1===w?Ne.name=et.readString():5===w?Ne.extent=et.readVarint():2===w?Ne._features.push(et.pos):3===w?Ne._keys.push(et.readString()):4===w&&Ne._values.push(function(w){for(var Ne=null,et=w.readVarint()+w.pos;w.pos<et;){var tt=w.readVarint()>>3;Ne=1===tt?w.readString():2===tt?w.readFloat():3===tt?w.readDouble():4===tt?w.readVarint64():5===tt?w.readVarint():6===tt?w.readSVarint():7===tt?w.readBoolean():null}return Ne}(et))}function ms(w,Ne,et){if(3===w){var tt=new Mp(et,et.readVarint()+et.pos);tt.length&&(Ne[tt.name]=tt)}}ys.prototype.feature=function(w){if(w<0||w>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[w];var Ne=this._pbf.readVarint()+this._pbf.pos;return new zp(this._pbf,Ne,this.extent,this._keys,this._values)};var Lp={VectorTile:function(w,Ne){this.layers=w.readFields(ms,{},Ne)},VectorTileFeature:zp,VectorTileLayer:Mp},Rp=Lp.VectorTileFeature.types,Op=Math.pow(2,13);function bs(w,Ne,et,tt,rt,nt,it,ot){w.emplaceBack(Ne,et,2*Math.floor(tt*Op)+it,rt*Op*2,nt*Op*2,Math.round(ot))}var ws=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.layoutVertexArray=new wl,this.indexArray=new vu,this.programConfigurations=new Pa(w.layers,w.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};function _s(w,Ne){return w.x===Ne.x&&(w.x<0||w.x>8192)||w.y===Ne.y&&(w.y<0||w.y>8192)}ws.prototype.populate=function(w,Ne,et){this.features=[],this.hasPattern=rs("fill-extrusion",this.layers,Ne);for(var tt=0,rt=w;tt<rt.length;tt+=1){var nt=rt[tt],it=nt.feature,ot=nt.id,at=nt.index,st=nt.sourceLayerIndex,ct=this.layers[0]._featureFilter.needGeometry,pt={type:it.type,id:ot,properties:it.properties,geometry:ct?La(it):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),pt,et)){var ft={id:ot,sourceLayerIndex:st,index:at,geometry:ct?pt.geometry:La(it),properties:it.properties,type:it.type,patterns:{}};void 0!==it.id&&(ft.id=it.id),this.hasPattern?this.features.push(ns("fill-extrusion",this.layers,ft,this.zoom,Ne)):this.addFeature(ft,ft.geometry,at,et,{}),Ne.featureIndex.insert(it,ft.geometry,at,st,this.index,!0)}}},ws.prototype.addFeatures=function(w,Ne,et){for(var tt=0,rt=this.features;tt<rt.length;tt+=1){var nt=rt[tt];this.addFeature(nt,nt.geometry,nt.index,Ne,et)}},ws.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},ws.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,Ap),this.indexBuffer=w.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(w),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.addFeature=function(w,Ne,et,tt,rt){for(var nt=0,it=ts(Ne,500);nt<it.length;nt+=1){for(var ot=it[nt],at=0,st=0,ct=ot;st<ct.length;st+=1)at+=ct[st].length;for(var pt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ft=0,dt=ot;ft<dt.length;ft+=1){var mt=dt[ft];if(0!==mt.length&&!((zn=mt).every((function(w){return w.x<0}))||zn.every((function(w){return w.x>8192}))||zn.every((function(w){return w.y<0}))||zn.every((function(w){return w.y>8192}))))for(var yt=0,vt=0;vt<mt.length;vt++){var Rt=mt[vt];if(vt>=1){var Ot=mt[vt-1];if(!_s(Rt,Ot)){pt.vertexLength+4>aa.MAX_VERTEX_ARRAY_LENGTH&&(pt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Dt=Rt.sub(Ot)._perp()._unit(),Bt=Ot.dist(Rt);yt+Bt>32768&&(yt=0),bs(this.layoutVertexArray,Rt.x,Rt.y,Dt.x,Dt.y,0,0,yt),bs(this.layoutVertexArray,Rt.x,Rt.y,Dt.x,Dt.y,0,1,yt),bs(this.layoutVertexArray,Ot.x,Ot.y,Dt.x,Dt.y,0,0,yt+=Bt),bs(this.layoutVertexArray,Ot.x,Ot.y,Dt.x,Dt.y,0,1,yt);var er=pt.vertexLength;this.indexArray.emplaceBack(er,er+2,er+1),this.indexArray.emplaceBack(er+1,er+2,er+3),pt.vertexLength+=4,pt.primitiveLength+=2}}}}if(pt.vertexLength+at>aa.MAX_VERTEX_ARRAY_LENGTH&&(pt=this.segments.prepareSegment(at,this.layoutVertexArray,this.indexArray)),"Polygon"===Rp[w.type]){for(var rr=[],vr=[],wr=pt.vertexLength,Sr=0,rn=ot;Sr<rn.length;Sr+=1){var vn=rn[Sr];if(0!==vn.length){vn!==ot[0]&&vr.push(rr.length/2);for(var bn=0;bn<vn.length;bn++){var Tn=vn[bn];bs(this.layoutVertexArray,Tn.x,Tn.y,0,0,1,1,0),rr.push(Tn.x),rr.push(Tn.y)}}}for(var Cn=Ep(rr,vr),In=0;In<Cn.length;In+=3)this.indexArray.emplaceBack(wr+Cn[In],wr+Cn[In+2],wr+Cn[In+1]);pt.primitiveLength+=Cn.length/3,pt.vertexLength+=at}}var zn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,rt,tt)},Dn("FillExtrusionBucket",ws,{omit:["layers","features"]});var Dp={paint:new xi({"fill-extrusion-opacity":new yi($n["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new di($n["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yi($n["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yi($n["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new yl($n["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new di($n["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new di($n["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yi($n["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Fp=function(w){function e(Ne){w.call(this,Ne,Dp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.createBucket=function(w){return new ws(w)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(w,Ne,tt,rt,nt,it,ot,at){var st=Qa(w,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),it.angle,ot),ct=this.paint.get("fill-extrusion-height").evaluate(Ne,tt),pt=this.paint.get("fill-extrusion-base").evaluate(Ne,tt),ft=function(w,Ne,tt,rt){for(var nt=[],it=0,ot=w;it<ot.length;it+=1){var at=ot[it],st=[at.x,at.y,0,1];so(st,st,Ne),nt.push(new et(st[0]/st[3],st[1]/st[3]))}return nt}(st,at),dt=function(w,Ne,tt,rt){for(var nt=[],it=[],ot=rt[8]*Ne,at=rt[9]*Ne,st=rt[10]*Ne,ct=rt[11]*Ne,pt=rt[8]*tt,ft=rt[9]*tt,dt=rt[10]*tt,mt=rt[11]*tt,yt=0,vt=w;yt<vt.length;yt+=1){for(var Rt=[],Ot=[],Dt=0,Bt=vt[yt];Dt<Bt.length;Dt+=1){var er=Bt[Dt],rr=er.x,vr=er.y,wr=rt[0]*rr+rt[4]*vr+rt[12],Sr=rt[1]*rr+rt[5]*vr+rt[13],rn=rt[2]*rr+rt[6]*vr+rt[14],vn=rt[3]*rr+rt[7]*vr+rt[15],bn=rn+st,Tn=vn+ct,Cn=wr+pt,In=Sr+ft,zn=rn+dt,Mn=vn+mt,Ln=new et((wr+ot)/Tn,(Sr+at)/Tn);Ln.z=bn/Tn,Rt.push(Ln);var Fn=new et(Cn/Mn,In/Mn);Fn.z=zn/Mn,Ot.push(Fn)}nt.push(Rt),it.push(Ot)}return[nt,it]}(rt,pt,ct,at);return function(w,Ne,et){var tt=1/0;qa(et,Ne)&&(tt=Is(et,Ne[0]));for(var rt=0;rt<Ne.length;rt++)for(var nt=Ne[rt],it=w[rt],ot=0;ot<nt.length-1;ot++){var at=nt[ot],st=[at,nt[ot+1],it[ot+1],it[ot],at];Ua(et,st)&&(tt=Math.min(tt,Is(et,st)))}return tt!==1/0&&tt}(dt[0],dt[1],ft)},e}(vl);function ks(w,Ne){return w.x*Ne.x+w.y*Ne.y}function Is(w,Ne){if(1===w.length){for(var et,tt=0,rt=Ne[tt++];!et||rt.equals(et);)if(!(et=Ne[tt++]))return 1/0;for(;tt<Ne.length;tt++){var nt=Ne[tt],it=w[0],ot=et.sub(rt),at=nt.sub(rt),st=it.sub(rt),ct=ks(ot,ot),pt=ks(ot,at),ft=ks(at,at),dt=ks(st,ot),mt=ks(st,at),yt=ct*ft-pt*pt,vt=(ft*dt-pt*mt)/yt,Rt=(ct*mt-pt*dt)/yt,Ot=rt.z*(1-vt-Rt)+et.z*vt+nt.z*Rt;if(isFinite(Ot))return Ot}return 1/0}for(var Dt=1/0,Bt=0,er=Ne;Bt<er.length;Bt+=1)Dt=Math.min(Dt,er[Bt].z);return Dt}var Bp=Si([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Np=Lp.VectorTileFeature.types,jp=Math.cos(Math.PI/180*37.5),Vp=Math.pow(2,14)/.5,Ts=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new kl,this.indexArray=new vu,this.programConfigurations=new Pa(w.layers,w.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};Ts.prototype.populate=function(w,Ne,et){this.hasPattern=rs("line",this.layers,Ne);for(var tt=this.layers[0].layout.get("line-sort-key"),rt=[],nt=0,it=w;nt<it.length;nt+=1){var ot=it[nt],at=ot.feature,st=ot.id,ct=ot.index,pt=ot.sourceLayerIndex,ft=this.layers[0]._featureFilter.needGeometry,dt={type:at.type,id:st,properties:at.properties,geometry:ft?La(at):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),dt,et)){ft||(dt.geometry=La(at));var mt=tt?tt.evaluate(dt,{},et):void 0;rt.push({id:st,properties:at.properties,type:at.type,sourceLayerIndex:pt,index:ct,geometry:dt.geometry,patterns:{},sortKey:mt})}}tt&&rt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var yt=0,vt=rt;yt<vt.length;yt+=1){var Rt=vt[yt],Ot=Rt.geometry,Dt=Rt.index,Bt=Rt.sourceLayerIndex;if(this.hasPattern){var er=ns("line",this.layers,Rt,this.zoom,Ne);this.patternFeatures.push(er)}else this.addFeature(Rt,Ot,Dt,et,{});Ne.featureIndex.insert(w[Dt].feature,Ot,Dt,Bt,this.index)}},Ts.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},Ts.prototype.addFeatures=function(w,Ne,et){for(var tt=0,rt=this.patternFeatures;tt<rt.length;tt+=1){var nt=rt[tt];this.addFeature(nt,nt.geometry,nt.index,Ne,et)}},Ts.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ts.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,Bp),this.indexBuffer=w.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(w),this.uploaded=!0},Ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ts.prototype.addFeature=function(w,Ne,et,tt,rt){for(var nt=this.layers[0].layout,it=nt.get("line-join").evaluate(w,{}),ot=nt.get("line-cap"),at=nt.get("line-miter-limit"),st=nt.get("line-round-limit"),ct=0,pt=Ne;ct<pt.length;ct+=1)this.addLine(pt[ct],w,it,ot,at,st);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,rt,tt)},Ts.prototype.addLine=function(w,Ne,et,tt,rt,nt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,Ne.properties&&Ne.properties.hasOwnProperty("mapbox_clip_start")&&Ne.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+Ne.properties.mapbox_clip_start,this.clipEnd=+Ne.properties.mapbox_clip_end;for(var it=0;it<w.length-1;it++)this.totalDistance+=w[it].dist(w[it+1]);this.updateScaledDistance()}for(var ot="Polygon"===Np[Ne.type],at=w.length;at>=2&&w[at-1].equals(w[at-2]);)at--;for(var st=0;st<at-1&&w[st].equals(w[st+1]);)st++;if(!(at<(ot?3:2))){"bevel"===et&&(rt=1.05);var ct,pt=this.overscaling<=16?122880/(512*this.overscaling):0,ft=this.segments.prepareSegment(10*at,this.layoutVertexArray,this.indexArray),dt=void 0,mt=void 0,yt=void 0,vt=void 0;this.e1=this.e2=-1,ot&&(vt=w[st].sub(ct=w[at-2])._unit()._perp());for(var Rt=st;Rt<at;Rt++)if(!(mt=Rt===at-1?ot?w[st+1]:void 0:w[Rt+1])||!w[Rt].equals(mt)){vt&&(yt=vt),ct&&(dt=ct),ct=w[Rt],vt=mt?mt.sub(ct)._unit()._perp():yt;var Ot=(yt=yt||vt).add(vt);0===Ot.x&&0===Ot.y||Ot._unit();var Dt=yt.x*vt.x+yt.y*vt.y,Bt=Ot.x*vt.x+Ot.y*vt.y,er=0!==Bt?1/Bt:1/0,rr=2*Math.sqrt(2-2*Bt),vr=Bt<jp&&dt&&mt,wr=yt.x*vt.y-yt.y*vt.x>0;if(vr&&Rt>st){var Sr=ct.dist(dt);if(Sr>2*pt){var rn=ct.sub(ct.sub(dt)._mult(pt/Sr)._round());this.updateDistance(dt,rn),this.addCurrentVertex(rn,yt,0,0,ft),dt=rn}}var vn=dt&&mt,bn=vn?et:ot?"butt":tt;if(vn&&"round"===bn&&(er<nt?bn="miter":er<=2&&(bn="fakeround")),"miter"===bn&&er>rt&&(bn="bevel"),"bevel"===bn&&(er>2&&(bn="flipbevel"),er<rt&&(bn="miter")),dt&&this.updateDistance(dt,ct),"miter"===bn)Ot._mult(er),this.addCurrentVertex(ct,Ot,0,0,ft);else if("flipbevel"===bn){if(er>100)Ot=vt.mult(-1);else{var Tn=er*yt.add(vt).mag()/yt.sub(vt).mag();Ot._perp()._mult(Tn*(wr?-1:1))}this.addCurrentVertex(ct,Ot,0,0,ft),this.addCurrentVertex(ct,Ot.mult(-1),0,0,ft)}else if("bevel"===bn||"fakeround"===bn){var Cn=-Math.sqrt(er*er-1),In=wr?Cn:0,zn=wr?0:Cn;if(dt&&this.addCurrentVertex(ct,yt,In,zn,ft),"fakeround"===bn)for(var Mn=Math.round(180*rr/Math.PI/20),Ln=1;Ln<Mn;Ln++){var Fn=Ln/Mn;if(.5!==Fn){var Bn=Fn-.5;Fn+=Fn*Bn*(Fn-1)*((1.0904+Dt*(Dt*(3.55645-1.43519*Dt)-3.2452))*Bn*Bn+(.848013+Dt*(.215638*Dt-1.06021)))}var Nn=vt.sub(yt)._mult(Fn)._add(yt)._unit()._mult(wr?-1:1);this.addHalfVertex(ct,Nn.x,Nn.y,!1,wr,0,ft)}mt&&this.addCurrentVertex(ct,vt,-In,-zn,ft)}else if("butt"===bn)this.addCurrentVertex(ct,Ot,0,0,ft);else if("square"===bn){var Vn=dt?1:-1;this.addCurrentVertex(ct,Ot,Vn,Vn,ft)}else"round"===bn&&(dt&&(this.addCurrentVertex(ct,yt,0,0,ft),this.addCurrentVertex(ct,yt,1,1,ft,!0)),mt&&(this.addCurrentVertex(ct,vt,-1,-1,ft,!0),this.addCurrentVertex(ct,vt,0,0,ft)));if(vr&&Rt<at-1){var Wn=ct.dist(mt);if(Wn>2*pt){var $n=ct.add(mt.sub(ct)._mult(pt/Wn)._round());this.updateDistance(ct,$n),this.addCurrentVertex($n,vt,0,0,ft),ct=$n}}}}},Ts.prototype.addCurrentVertex=function(w,Ne,et,tt,rt,nt){void 0===nt&&(nt=!1);var it=Ne.y*tt-Ne.x,ot=-Ne.y-Ne.x*tt;this.addHalfVertex(w,Ne.x+Ne.y*et,Ne.y-Ne.x*et,nt,!1,et,rt),this.addHalfVertex(w,it,ot,nt,!0,-tt,rt),this.distance>Vp/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(w,Ne,et,tt,rt,nt))},Ts.prototype.addHalfVertex=function(w,Ne,et,tt,rt,nt,it){var ot=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((w.x<<1)+(tt?1:0),(w.y<<1)+(rt?1:0),Math.round(63*Ne)+128,Math.round(63*et)+128,1+(0===nt?0:nt<0?-1:1)|(63&ot)<<2,ot>>6);var at=it.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,at),it.primitiveLength++),rt?this.e2=at:this.e1=at},Ts.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Vp-1):this.distance},Ts.prototype.updateDistance=function(w,Ne){this.distance+=w.dist(Ne),this.updateScaledDistance()},Dn("LineBucket",Ts,{omit:["layers","patternFeatures"]});var Up=new xi({"line-cap":new yi($n.layout_line["line-cap"]),"line-join":new di($n.layout_line["line-join"]),"line-miter-limit":new yi($n.layout_line["line-miter-limit"]),"line-round-limit":new yi($n.layout_line["line-round-limit"]),"line-sort-key":new di($n.layout_line["line-sort-key"])}),qp={paint:new xi({"line-opacity":new di($n.paint_line["line-opacity"]),"line-color":new di($n.paint_line["line-color"]),"line-translate":new yi($n.paint_line["line-translate"]),"line-translate-anchor":new yi($n.paint_line["line-translate-anchor"]),"line-width":new di($n.paint_line["line-width"]),"line-gap-width":new di($n.paint_line["line-gap-width"]),"line-offset":new di($n.paint_line["line-offset"]),"line-blur":new di($n.paint_line["line-blur"]),"line-dasharray":new vi($n.paint_line["line-dasharray"]),"line-pattern":new yl($n.paint_line["line-pattern"]),"line-gradient":new gi($n.paint_line["line-gradient"])}),layout:Up},Wp=new(function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(Ne,et){return et=new ai(Math.floor(et.zoom),{now:et.now,fadeDuration:et.fadeDuration,zoomHistory:et.zoomHistory,transition:et.transition}),w.prototype.possiblyEvaluate.call(this,Ne,et)},e.prototype.evaluate=function(Ne,et,tt,rt){return et=c({},et,{zoom:Math.floor(et.zoom)}),w.prototype.evaluate.call(this,Ne,et,tt,rt)},e}(di))(qp.paint.properties["line-width"].specification);Wp.useIntegerZoom=!0;var Gp=function(w){function e(Ne){w.call(this,Ne,qp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(w){"line-gradient"===w&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=go(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(Ne,et){w.prototype.recalculate.call(this,Ne,et),this.paint._values["line-floorwidth"]=Wp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Ne)},e.prototype.createBucket=function(w){return new Ts(w)},e.prototype.queryRadius=function(w){var Ne=w,et=Ds($a("line-width",this,Ne),$a("line-gap-width",this,Ne)),tt=$a("line-offset",this,Ne);return et/2+Math.abs(tt)+Wa(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(w,Ne,tt,rt,nt,it,ot){var at=Qa(w,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),it.angle,ot),st=ot/2*Ds(this.paint.get("line-width").evaluate(Ne,tt),this.paint.get("line-gap-width").evaluate(Ne,tt)),ct=this.paint.get("line-offset").evaluate(Ne,tt);return ct&&(rt=function(w,Ne){for(var tt=[],rt=new et(0,0),nt=0;nt<w.length;nt++){for(var it=w[nt],ot=[],at=0;at<it.length;at++){var st=it[at],ct=it[at+1],pt=0===at?rt:st.sub(it[at-1])._unit()._perp(),ft=at===it.length-1?rt:ct.sub(st)._unit()._perp(),dt=pt._add(ft)._unit();dt._mult(1/(dt.x*ft.x+dt.y*ft.y)),ot.push(dt._mult(Ne)._add(st))}tt.push(ot)}return tt}(rt,ct*ot)),function(w,Ne,et){for(var tt=0;tt<Ne.length;tt++){var rt=Ne[tt];if(w.length>=3)for(var nt=0;nt<rt.length;nt++)if(Ha(w,rt[nt]))return!0;if(Na(w,rt,et))return!0}return!1}(at,rt,st)},e.prototype.isTileClipped=function(){return!0},e}(vl);function Ds(w,Ne){return Ne>0?Ne+2*w:w}var Zp=Si([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Hp=Si([{name:"a_projected_pos",components:3,type:"Float32"}],4),$p=(Si([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Si([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Xp=(Si([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Kp=Si([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qs(w,Ne,et){return w.sections.forEach((function(w){w.text=function(w,Ne,et){var tt=Ne.layout.get("text-transform").evaluate(et,{});return"uppercase"===tt?w=w.toLocaleUpperCase():"lowercase"===tt&&(w=w.toLocaleLowerCase()),gl.applyArabicShaping&&(w=gl.applyArabicShaping(w)),w}(w.text,Ne,et)})),w}Si([{name:"triangle",components:3,type:"Uint16"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Si([{type:"Float32",name:"offsetX"}]),Si([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Yp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Ks=function(w,Ne,et,tt,rt){var nt,it,ot=8*rt-tt-1,at=(1<<ot)-1,st=at>>1,ct=-7,pt=et?rt-1:0,ft=et?-1:1,dt=w[Ne+pt];for(pt+=ft,nt=dt&(1<<-ct)-1,dt>>=-ct,ct+=ot;ct>0;nt=256*nt+w[Ne+pt],pt+=ft,ct-=8);for(it=nt&(1<<-ct)-1,nt>>=-ct,ct+=tt;ct>0;it=256*it+w[Ne+pt],pt+=ft,ct-=8);if(0===nt)nt=1-st;else{if(nt===at)return it?NaN:1/0*(dt?-1:1);it+=Math.pow(2,tt),nt-=st}return(dt?-1:1)*it*Math.pow(2,nt-tt)},Gs=function(w,Ne,et,tt,rt,nt){var it,ot,at,st=8*nt-rt-1,ct=(1<<st)-1,pt=ct>>1,ft=23===rt?Math.pow(2,-24)-Math.pow(2,-77):0,dt=tt?0:nt-1,mt=tt?1:-1,yt=Ne<0||0===Ne&&1/Ne<0?1:0;for(Ne=Math.abs(Ne),isNaN(Ne)||Ne===1/0?(ot=isNaN(Ne)?1:0,it=ct):(it=Math.floor(Math.log(Ne)/Math.LN2),Ne*(at=Math.pow(2,-it))<1&&(it--,at*=2),(Ne+=it+pt>=1?ft/at:ft*Math.pow(2,1-pt))*at>=2&&(it++,at/=2),it+pt>=ct?(ot=0,it=ct):it+pt>=1?(ot=(Ne*at-1)*Math.pow(2,rt),it+=pt):(ot=Ne*Math.pow(2,pt-1)*Math.pow(2,rt),it=0));rt>=8;w[et+dt]=255&ot,dt+=mt,ot/=256,rt-=8);for(it=it<<rt|ot,st+=rt;st>0;w[et+dt]=255&it,dt+=mt,it/=256,st-=8);w[et+dt-mt]|=128*yt},Jp=Xs;function Xs(w){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(w)?w:new Uint8Array(w||0),this.pos=0,this.type=0,this.length=this.buf.length}Xs.Varint=0,Xs.Fixed64=1,Xs.Bytes=2,Xs.Fixed32=5;var Qp="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Hs(w){return w.type===Xs.Bytes?w.readVarint()+w.pos:w.pos+1}function Ys(w,Ne,et){return et?4294967296*Ne+(w>>>0):4294967296*(Ne>>>0)+(w>>>0)}function $s(w,Ne,et){var tt=Ne<=16383?1:Ne<=2097151?2:Ne<=268435455?3:Math.floor(Math.log(Ne)/(7*Math.LN2));et.realloc(tt);for(var rt=et.pos-1;rt>=w;rt--)et.buf[rt+tt]=et.buf[rt]}function Ws(w,Ne){for(var et=0;et<w.length;et++)Ne.writeVarint(w[et])}function Qs(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSVarint(w[et])}function tu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFloat(w[et])}function eu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeDouble(w[et])}function ru(w,Ne){for(var et=0;et<w.length;et++)Ne.writeBoolean(w[et])}function nu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFixed32(w[et])}function iu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSFixed32(w[et])}function au(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFixed64(w[et])}function ou(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSFixed64(w[et])}function su(w,Ne){return(w[Ne]|w[Ne+1]<<8|w[Ne+2]<<16)+16777216*w[Ne+3]}function uu(w,Ne,et){w[et]=Ne,w[et+1]=Ne>>>8,w[et+2]=Ne>>>16,w[et+3]=Ne>>>24}function lu(w,Ne){return(w[Ne]|w[Ne+1]<<8|w[Ne+2]<<16)+(w[Ne+3]<<24)}function pu(w,Ne,et){1===w&&et.readMessage(cu,Ne)}function cu(w,Ne,et){if(3===w){var tt=et.readMessage(hu,{}),rt=tt.width,nt=tt.height,it=tt.left,ot=tt.top,at=tt.advance;Ne.push({id:tt.id,bitmap:new yo({width:rt+6,height:nt+6},tt.bitmap),metrics:{width:rt,height:nt,left:it,top:ot,advance:at}})}}function hu(w,Ne,et){1===w?Ne.id=et.readVarint():2===w?Ne.bitmap=et.readBytes():3===w?Ne.width=et.readVarint():4===w?Ne.height=et.readVarint():5===w?Ne.left=et.readSVarint():6===w?Ne.top=et.readSVarint():7===w&&(Ne.advance=et.readVarint())}function fu(w){for(var Ne=0,et=0,tt=0,rt=w;tt<rt.length;tt+=1){var nt=rt[tt];Ne+=nt.w*nt.h,et=Math.max(et,nt.w)}w.sort((function(w,Ne){return Ne.h-w.h}));for(var it=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(Ne/.95)),et),h:1/0}],ot=0,at=0,st=0,ct=w;st<ct.length;st+=1)for(var pt=ct[st],ft=it.length-1;ft>=0;ft--){var dt=it[ft];if(!(pt.w>dt.w||pt.h>dt.h)){if(pt.x=dt.x,pt.y=dt.y,at=Math.max(at,pt.y+pt.h),ot=Math.max(ot,pt.x+pt.w),pt.w===dt.w&&pt.h===dt.h){var mt=it.pop();ft<it.length&&(it[ft]=mt)}else pt.h===dt.h?(dt.x+=pt.w,dt.w-=pt.w):pt.w===dt.w?(dt.y+=pt.h,dt.h-=pt.h):(it.push({x:dt.x+pt.w,y:dt.y,w:dt.w-pt.w,h:pt.h}),dt.y+=pt.h,dt.h-=pt.h);break}}return{w:ot,h:at,fill:Ne/(ot*at)||0}}Xs.prototype={destroy:function(){this.buf=null},readFields:function(w,Ne,et){for(et=et||this.length;this.pos<et;){var tt=this.readVarint(),rt=tt>>3,nt=this.pos;this.type=7&tt,w(rt,Ne,this),this.pos===nt&&this.skip(tt)}return Ne},readMessage:function(w,Ne){return this.readFields(w,Ne,this.readVarint()+this.pos)},readFixed32:function(){var w=su(this.buf,this.pos);return this.pos+=4,w},readSFixed32:function(){var w=lu(this.buf,this.pos);return this.pos+=4,w},readFixed64:function(){var w=su(this.buf,this.pos)+4294967296*su(this.buf,this.pos+4);return this.pos+=8,w},readSFixed64:function(){var w=su(this.buf,this.pos)+4294967296*lu(this.buf,this.pos+4);return this.pos+=8,w},readFloat:function(){var w=Ks(this.buf,this.pos,!0,23,4);return this.pos+=4,w},readDouble:function(){var w=Ks(this.buf,this.pos,!0,52,8);return this.pos+=8,w},readVarint:function(w){var Ne,et,tt=this.buf;return Ne=127&(et=tt[this.pos++]),et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<7,et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<14,et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<21,et<128?Ne:function(w,Ne,et){var tt,rt,nt=et.buf;if(tt=(112&(rt=nt[et.pos++]))>>4,rt<128)return Ys(w,tt,Ne);if(tt|=(127&(rt=nt[et.pos++]))<<3,rt<128)return Ys(w,tt,Ne);if(tt|=(127&(rt=nt[et.pos++]))<<10,rt<128)return Ys(w,tt,Ne);if(tt|=(127&(rt=nt[et.pos++]))<<17,rt<128)return Ys(w,tt,Ne);if(tt|=(127&(rt=nt[et.pos++]))<<24,rt<128)return Ys(w,tt,Ne);if(tt|=(1&(rt=nt[et.pos++]))<<31,rt<128)return Ys(w,tt,Ne);throw new Error("Expected varint not more than 10 bytes")}(Ne|=(15&(et=tt[this.pos]))<<28,w,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var w=this.readVarint();return w%2==1?(w+1)/-2:w/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var w=this.readVarint()+this.pos,Ne=this.pos;return this.pos=w,w-Ne>=12&&Qp?function(w,Ne,et){return Qp.decode(w.subarray(Ne,et))}(this.buf,Ne,w):function(w,Ne,et){for(var tt="",rt=Ne;rt<et;){var nt,it,ot,at=w[rt],st=null,ct=at>239?4:at>223?3:at>191?2:1;if(rt+ct>et)break;1===ct?at<128&&(st=at):2===ct?128==(192&(nt=w[rt+1]))&&(st=(31&at)<<6|63&nt)<=127&&(st=null):3===ct?(it=w[rt+2],128==(192&(nt=w[rt+1]))&&128==(192&it)&&((st=(15&at)<<12|(63&nt)<<6|63&it)<=2047||st>=55296&&st<=57343)&&(st=null)):4===ct&&(it=w[rt+2],ot=w[rt+3],128==(192&(nt=w[rt+1]))&&128==(192&it)&&128==(192&ot)&&((st=(15&at)<<18|(63&nt)<<12|(63&it)<<6|63&ot)<=65535||st>=1114112)&&(st=null)),null===st?(st=65533,ct=1):st>65535&&(st-=65536,tt+=String.fromCharCode(st>>>10&1023|55296),st=56320|1023&st),tt+=String.fromCharCode(st),rt+=ct}return tt}(this.buf,Ne,w)},readBytes:function(){var w=this.readVarint()+this.pos,Ne=this.buf.subarray(this.pos,w);return this.pos=w,Ne},readPackedVarint:function(w,Ne){if(this.type!==Xs.Bytes)return w.push(this.readVarint(Ne));var et=Hs(this);for(w=w||[];this.pos<et;)w.push(this.readVarint(Ne));return w},readPackedSVarint:function(w){if(this.type!==Xs.Bytes)return w.push(this.readSVarint());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readSVarint());return w},readPackedBoolean:function(w){if(this.type!==Xs.Bytes)return w.push(this.readBoolean());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readBoolean());return w},readPackedFloat:function(w){if(this.type!==Xs.Bytes)return w.push(this.readFloat());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readFloat());return w},readPackedDouble:function(w){if(this.type!==Xs.Bytes)return w.push(this.readDouble());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readDouble());return w},readPackedFixed32:function(w){if(this.type!==Xs.Bytes)return w.push(this.readFixed32());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readFixed32());return w},readPackedSFixed32:function(w){if(this.type!==Xs.Bytes)return w.push(this.readSFixed32());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readSFixed32());return w},readPackedFixed64:function(w){if(this.type!==Xs.Bytes)return w.push(this.readFixed64());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readFixed64());return w},readPackedSFixed64:function(w){if(this.type!==Xs.Bytes)return w.push(this.readSFixed64());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readSFixed64());return w},skip:function(w){var Ne=7&w;if(Ne===Xs.Varint)for(;this.buf[this.pos++]>127;);else if(Ne===Xs.Bytes)this.pos=this.readVarint()+this.pos;else if(Ne===Xs.Fixed32)this.pos+=4;else{if(Ne!==Xs.Fixed64)throw new Error("Unimplemented type: "+Ne);this.pos+=8}},writeTag:function(w,Ne){this.writeVarint(w<<3|Ne)},realloc:function(w){for(var Ne=this.length||16;Ne<this.pos+w;)Ne*=2;if(Ne!==this.length){var et=new Uint8Array(Ne);et.set(this.buf),this.buf=et,this.length=Ne}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(w){this.realloc(4),uu(this.buf,w,this.pos),this.pos+=4},writeSFixed32:function(w){this.realloc(4),uu(this.buf,w,this.pos),this.pos+=4},writeFixed64:function(w){this.realloc(8),uu(this.buf,-1&w,this.pos),uu(this.buf,Math.floor(w*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(w){this.realloc(8),uu(this.buf,-1&w,this.pos),uu(this.buf,Math.floor(w*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(w){(w=+w||0)>268435455||w<0?function(w,Ne){var et,tt;if(w>=0?(et=w%4294967296|0,tt=w/4294967296|0):(tt=~(-w/4294967296),4294967295^(et=~(-w%4294967296))?et=et+1|0:(et=0,tt=tt+1|0)),w>=0x10000000000000000||w<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");Ne.realloc(10),function(w,Ne,et){et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,et.buf[et.pos]=127&(w>>>=7)}(et,0,Ne),function(w,Ne){var et=(7&w)<<4;Ne.buf[Ne.pos++]|=et|((w>>>=3)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w)))))}(tt,Ne)}(w,this):(this.realloc(4),this.buf[this.pos++]=127&w|(w>127?128:0),w<=127||(this.buf[this.pos++]=127&(w>>>=7)|(w>127?128:0),w<=127||(this.buf[this.pos++]=127&(w>>>=7)|(w>127?128:0),w<=127||(this.buf[this.pos++]=w>>>7&127))))},writeSVarint:function(w){this.writeVarint(w<0?2*-w-1:2*w)},writeBoolean:function(w){this.writeVarint(Boolean(w))},writeString:function(w){w=String(w),this.realloc(4*w.length),this.pos++;var Ne=this.pos;this.pos=function(w,Ne,et){for(var tt,rt,nt=0;nt<Ne.length;nt++){if((tt=Ne.charCodeAt(nt))>55295&&tt<57344){if(!rt){tt>56319||nt+1===Ne.length?(w[et++]=239,w[et++]=191,w[et++]=189):rt=tt;continue}if(tt<56320){w[et++]=239,w[et++]=191,w[et++]=189,rt=tt;continue}tt=rt-55296<<10|tt-56320|65536,rt=null}else rt&&(w[et++]=239,w[et++]=191,w[et++]=189,rt=null);tt<128?w[et++]=tt:(tt<2048?w[et++]=tt>>6|192:(tt<65536?w[et++]=tt>>12|224:(w[et++]=tt>>18|240,w[et++]=tt>>12&63|128),w[et++]=tt>>6&63|128),w[et++]=63&tt|128)}return et}(this.buf,w,this.pos);var et=this.pos-Ne;et>=128&&$s(Ne,et,this),this.pos=Ne-1,this.writeVarint(et),this.pos+=et},writeFloat:function(w){this.realloc(4),Gs(this.buf,w,this.pos,!0,23,4),this.pos+=4},writeDouble:function(w){this.realloc(8),Gs(this.buf,w,this.pos,!0,52,8),this.pos+=8},writeBytes:function(w){var Ne=w.length;this.writeVarint(Ne),this.realloc(Ne);for(var et=0;et<Ne;et++)this.buf[this.pos++]=w[et]},writeRawMessage:function(w,Ne){this.pos++;var et=this.pos;w(Ne,this);var tt=this.pos-et;tt>=128&&$s(et,tt,this),this.pos=et-1,this.writeVarint(tt),this.pos+=tt},writeMessage:function(w,Ne,et){this.writeTag(w,Xs.Bytes),this.writeRawMessage(Ne,et)},writePackedVarint:function(w,Ne){Ne.length&&this.writeMessage(w,Ws,Ne)},writePackedSVarint:function(w,Ne){Ne.length&&this.writeMessage(w,Qs,Ne)},writePackedBoolean:function(w,Ne){Ne.length&&this.writeMessage(w,ru,Ne)},writePackedFloat:function(w,Ne){Ne.length&&this.writeMessage(w,tu,Ne)},writePackedDouble:function(w,Ne){Ne.length&&this.writeMessage(w,eu,Ne)},writePackedFixed32:function(w,Ne){Ne.length&&this.writeMessage(w,nu,Ne)},writePackedSFixed32:function(w,Ne){Ne.length&&this.writeMessage(w,iu,Ne)},writePackedFixed64:function(w,Ne){Ne.length&&this.writeMessage(w,au,Ne)},writePackedSFixed64:function(w,Ne){Ne.length&&this.writeMessage(w,ou,Ne)},writeBytesField:function(w,Ne){this.writeTag(w,Xs.Bytes),this.writeBytes(Ne)},writeFixed32Field:function(w,Ne){this.writeTag(w,Xs.Fixed32),this.writeFixed32(Ne)},writeSFixed32Field:function(w,Ne){this.writeTag(w,Xs.Fixed32),this.writeSFixed32(Ne)},writeFixed64Field:function(w,Ne){this.writeTag(w,Xs.Fixed64),this.writeFixed64(Ne)},writeSFixed64Field:function(w,Ne){this.writeTag(w,Xs.Fixed64),this.writeSFixed64(Ne)},writeVarintField:function(w,Ne){this.writeTag(w,Xs.Varint),this.writeVarint(Ne)},writeSVarintField:function(w,Ne){this.writeTag(w,Xs.Varint),this.writeSVarint(Ne)},writeStringField:function(w,Ne){this.writeTag(w,Xs.Bytes),this.writeString(Ne)},writeFloatField:function(w,Ne){this.writeTag(w,Xs.Fixed32),this.writeFloat(Ne)},writeDoubleField:function(w,Ne){this.writeTag(w,Xs.Fixed64),this.writeDouble(Ne)},writeBooleanField:function(w,Ne){this.writeVarintField(w,Boolean(Ne))}};var yu=function(w,Ne){var et=Ne.pixelRatio,tt=Ne.version,rt=Ne.stretchX,nt=Ne.stretchY,it=Ne.content;this.paddedRect=w,this.pixelRatio=et,this.stretchX=rt,this.stretchY=nt,this.content=it,this.version=tt},rh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};rh.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},rh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},rh.tlbr.get=function(){return this.tl.concat(this.br)},rh.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yu.prototype,rh);var mu=function(w,Ne){var et={},tt={};this.haveRenderCallbacks=[];var rt=[];this.addImages(w,et,rt),this.addImages(Ne,tt,rt);var nt=fu(rt),it=new mo({width:nt.w||1,height:nt.h||1});for(var ot in w){var at=w[ot],st=et[ot].paddedRect;mo.copy(at.data,it,{x:0,y:0},{x:st.x+1,y:st.y+1},at.data)}for(var ct in Ne){var pt=Ne[ct],ft=tt[ct].paddedRect,dt=ft.x+1,mt=ft.y+1,yt=pt.data.width,vt=pt.data.height;mo.copy(pt.data,it,{x:0,y:0},{x:dt,y:mt},pt.data),mo.copy(pt.data,it,{x:0,y:vt-1},{x:dt,y:mt-1},{width:yt,height:1}),mo.copy(pt.data,it,{x:0,y:0},{x:dt,y:mt+vt},{width:yt,height:1}),mo.copy(pt.data,it,{x:yt-1,y:0},{x:dt-1,y:mt},{width:1,height:vt}),mo.copy(pt.data,it,{x:0,y:0},{x:dt+yt,y:mt},{width:1,height:vt})}this.image=it,this.iconPositions=et,this.patternPositions=tt};mu.prototype.addImages=function(w,Ne,et){for(var tt in w){var rt=w[tt],nt={x:0,y:0,w:rt.data.width+2,h:rt.data.height+2};et.push(nt),Ne[tt]=new yu(nt,rt),rt.hasRenderCallback&&this.haveRenderCallbacks.push(tt)}},mu.prototype.patchUpdatedImages=function(w,Ne){for(var et in w.dispatchRenderCallbacks(this.haveRenderCallbacks),w.updatedImages)this.patchUpdatedImage(this.iconPositions[et],w.getImage(et),Ne),this.patchUpdatedImage(this.patternPositions[et],w.getImage(et),Ne)},mu.prototype.patchUpdatedImage=function(w,Ne,et){if(w&&Ne&&w.version!==Ne.version){w.version=Ne.version;var tt=w.tl;et.update(Ne.data,void 0,{x:tt[0],y:tt[1]})}},Dn("ImagePosition",yu),Dn("ImageAtlas",mu);var ah={horizontal:1,vertical:2,horizontalOnly:3},gu=function(){this.scale=1,this.fontStack="",this.imageName=null};gu.forText=function(w,Ne){var et=new gu;return et.scale=w||1,et.fontStack=Ne,et},gu.forImage=function(w){var Ne=new gu;return Ne.imageName=w,Ne};var xu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function bu(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt,Rt=xu.fromFeature(w,rt);pt===ah.vertical&&Rt.verticalizePunctuation();var Ot=gl.processBidirectionalText,Dt=gl.processStyledBidirectionalText;if(Ot&&1===Rt.sections.length){vt=[];for(var Bt=0,er=Ot(Rt.toString(),zu(Rt,st,nt,Ne,tt,dt,mt));Bt<er.length;Bt+=1){var rr=er[Bt],vr=new xu;vr.text=rr,vr.sections=Rt.sections;for(var wr=0;wr<rr.length;wr++)vr.sectionIndex.push(0);vt.push(vr)}}else if(Dt){vt=[];for(var Sr=0,rn=Dt(Rt.text,Rt.sectionIndex,zu(Rt,st,nt,Ne,tt,dt,mt));Sr<rn.length;Sr+=1){var vn=rn[Sr],bn=new xu;bn.text=vn[0],bn.sectionIndex=vn[1],bn.sections=Rt.sections,vt.push(bn)}}else vt=function(w,Ne){for(var et=[],tt=w.text,rt=0,nt=0,it=Ne;nt<it.length;nt+=1){var ot=it[nt];et.push(w.substring(rt,ot)),rt=ot}return rt<tt.length&&et.push(w.substring(rt,tt.length)),et}(Rt,zu(Rt,st,nt,Ne,tt,dt,mt));var Tn=[],Cn={positionedLines:Tn,text:Rt.toString(),top:ct[1],bottom:ct[1],left:ct[0],right:ct[0],writingMode:pt,iconsInText:!1,verticalizable:!1};return function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){for(var ft=0,dt=-17,mt=0,yt=0,vt="right"===ot?1:"left"===ot?0:.5,Rt=0,Ot=0,Dt=rt;Ot<Dt.length;Ot+=1){var Bt=Dt[Ot];Bt.trim();var er=Bt.getMaxScale(),rr=24*(er-1),vr={positionedGlyphs:[],lineOffset:0};w.positionedLines[Rt]=vr;var wr=vr.positionedGlyphs,Sr=0;if(Bt.length()){for(var rn=0;rn<Bt.length();rn++){var vn=Bt.getSection(rn),bn=Bt.getSectionIndex(rn),Tn=Bt.getCharCode(rn),Cn=0,In=null,zn=null,Mn=null,Ln=24,Fn=!(at===ah.horizontal||!ct&&!Gn(Tn)||ct&&(sh[Tn]||(uo=Tn,Js.Arabic(uo)||Js["Arabic Supplement"](uo)||Js["Arabic Extended-A"](uo)||Js["Arabic Presentation Forms-A"](uo)||Js["Arabic Presentation Forms-B"](uo))));if(vn.imageName){var Bn=tt[vn.imageName];if(!Bn)continue;Mn=vn.imageName,w.iconsInText=w.iconsInText||!0,zn=Bn.paddedRect;var Nn=Bn.displaySize;vn.scale=24*vn.scale/pt,Cn=rr+(24-Nn[1]*vn.scale),Ln=(In={width:Nn[0],height:Nn[1],left:1,top:-3,advance:Fn?Nn[1]:Nn[0]}).advance;var Vn=Fn?Nn[0]*vn.scale-24*er:Nn[1]*vn.scale-24*er;Vn>0&&Vn>Sr&&(Sr=Vn)}else{var Wn=et[vn.fontStack],$n=Wn&&Wn[Tn];if($n&&$n.rect)zn=$n.rect,In=$n.metrics;else{var Yn=Ne[vn.fontStack],ii=Yn&&Yn[Tn];if(!ii)continue;In=ii.metrics}Cn=24*(er-vn.scale)}Fn?(w.verticalizable=!0,wr.push({glyph:Tn,imageName:Mn,x:ft,y:dt+Cn,vertical:Fn,scale:vn.scale,fontStack:vn.fontStack,sectionIndex:bn,metrics:In,rect:zn}),ft+=Ln*vn.scale+st):(wr.push({glyph:Tn,imageName:Mn,x:ft,y:dt+Cn,vertical:Fn,scale:vn.scale,fontStack:vn.fontStack,sectionIndex:bn,metrics:In,rect:zn}),ft+=In.advance*vn.scale+st)}0!==wr.length&&(mt=Math.max(ft-st,mt),Mu(wr,0,wr.length-1,vt,Sr)),ft=0;var qi=nt*er+Sr;vr.lineOffset=Math.max(Sr,rr),dt+=qi,yt=Math.max(qi,yt),++Rt}else dt+=nt,++Rt}var uo,po=dt- -17,vo=Cu(it),So=vo.horizontalAlign,ea=vo.verticalAlign;(function(w,Ne,et,tt,rt,nt,it,ot,at){var st,ct=(Ne-et)*rt;st=nt!==it?-ot*tt- -17:(-tt*at+.5)*it;for(var pt=0,ft=w;pt<ft.length;pt+=1)for(var dt=0,mt=ft[pt].positionedGlyphs;dt<mt.length;dt+=1){var yt=mt[dt];yt.x+=ct,yt.y+=st}})(w.positionedLines,vt,So,ea,mt,yt,nt,po,rt.length),w.top+=-ea*po,w.bottom=w.top+po,w.left+=-So*mt,w.right=w.left+mt}(Cn,Ne,et,tt,vt,it,ot,at,pt,st,ft,yt),!function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(0!==et[Ne].positionedGlyphs.length)return!1;return!0}(Tn)&&Cn}xu.fromFeature=function(w,Ne){for(var et=new xu,tt=0;tt<w.sections.length;tt++){var rt=w.sections[tt];rt.image?et.addImageSection(rt):et.addTextSection(rt,Ne)}return et},xu.prototype.length=function(){return this.text.length},xu.prototype.getSection=function(w){return this.sections[this.sectionIndex[w]]},xu.prototype.getSectionIndex=function(w){return this.sectionIndex[w]},xu.prototype.getCharCode=function(w){return this.text.charCodeAt(w)},xu.prototype.verticalizePunctuation=function(){this.text=function(w){for(var Ne="",et=0;et<w.length;et++){var tt=w.charCodeAt(et+1)||null,rt=w.charCodeAt(et-1)||null;Ne+=tt&&Zn(tt)&&!Yp[w[et+1]]||rt&&Zn(rt)&&!Yp[w[et-1]]||!Yp[w[et]]?w[et]:Yp[w[et]]}return Ne}(this.text)},xu.prototype.trim=function(){for(var w=0,Ne=0;Ne<this.text.length&&sh[this.text.charCodeAt(Ne)];Ne++)w++;for(var et=this.text.length,tt=this.text.length-1;tt>=0&&tt>=w&&sh[this.text.charCodeAt(tt)];tt--)et--;this.text=this.text.substring(w,et),this.sectionIndex=this.sectionIndex.slice(w,et)},xu.prototype.substring=function(w,Ne){var et=new xu;return et.text=this.text.substring(w,Ne),et.sectionIndex=this.sectionIndex.slice(w,Ne),et.sections=this.sections,et},xu.prototype.toString=function(){return this.text},xu.prototype.getMaxScale=function(){var w=this;return this.sectionIndex.reduce((function(Ne,et){return Math.max(Ne,w.sections[et].scale)}),0)},xu.prototype.addTextSection=function(w,Ne){this.text+=w.text,this.sections.push(gu.forText(w.scale,w.fontStack||Ne));for(var et=this.sections.length-1,tt=0;tt<w.text.length;++tt)this.sectionIndex.push(et)},xu.prototype.addImageSection=function(w){var Ne=w.image?w.image.name:"";if(0!==Ne.length){var et=this.getNextImageSectionCharCode();et?(this.text+=String.fromCharCode(et),this.sections.push(gu.forImage(Ne)),this.sectionIndex.push(this.sections.length-1)):_("Reached maximum number of images 6401")}else _("Can't add FormattedSection with an empty image.")},xu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var sh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},lh={};function Au(w,Ne,et,tt,rt,nt){if(Ne.imageName){var it=tt[Ne.imageName];return it?it.displaySize[0]*Ne.scale*24/nt+rt:0}var ot=et[Ne.fontStack],at=ot&&ot[w];return at?at.metrics.advance*Ne.scale+rt:0}function Su(w,Ne,et,tt){var rt=Math.pow(w-Ne,2);return tt?w<Ne?rt/2:2*rt:rt+Math.abs(et)*et}function ku(w,Ne,et){var tt=0;return 10===w&&(tt-=1e4),et&&(tt+=150),40!==w&&65288!==w||(tt+=50),41!==Ne&&65289!==Ne||(tt+=50),tt}function Iu(w,Ne,et,tt,rt,nt){for(var it=null,ot=Su(Ne,et,rt,nt),at=0,st=tt;at<st.length;at+=1){var ct=st[at],pt=Su(Ne-ct.x,et,rt,nt)+ct.badness;pt<=ot&&(it=ct,ot=pt)}return{index:w,x:Ne,priorBreak:it,badness:ot}}function zu(w,Ne,et,tt,rt,nt,it){if("point"!==nt)return[];if(!w)return[];for(var ot,at=[],st=function(w,Ne,et,tt,rt,nt){for(var it=0,ot=0;ot<w.length();ot++){var at=w.getSection(ot);it+=Au(w.getCharCode(ot),at,tt,rt,Ne,nt)}return it/Math.max(1,Math.ceil(it/et))}(w,Ne,et,tt,rt,it),ct=w.text.indexOf("​")>=0,pt=0,ft=0;ft<w.length();ft++){var dt=w.getSection(ft),mt=w.getCharCode(ft);if(sh[mt]||(pt+=Au(mt,dt,tt,rt,Ne,it)),ft<w.length()-1){var yt=!((ot=mt)<11904||!(Js["Bopomofo Extended"](ot)||Js.Bopomofo(ot)||Js["CJK Compatibility Forms"](ot)||Js["CJK Compatibility Ideographs"](ot)||Js["CJK Compatibility"](ot)||Js["CJK Radicals Supplement"](ot)||Js["CJK Strokes"](ot)||Js["CJK Symbols and Punctuation"](ot)||Js["CJK Unified Ideographs Extension A"](ot)||Js["CJK Unified Ideographs"](ot)||Js["Enclosed CJK Letters and Months"](ot)||Js["Halfwidth and Fullwidth Forms"](ot)||Js.Hiragana(ot)||Js["Ideographic Description Characters"](ot)||Js["Kangxi Radicals"](ot)||Js["Katakana Phonetic Extensions"](ot)||Js.Katakana(ot)||Js["Vertical Forms"](ot)||Js["Yi Radicals"](ot)||Js["Yi Syllables"](ot)));(lh[mt]||yt||dt.imageName)&&at.push(Iu(ft+1,pt,st,at,ku(mt,w.getCharCode(ft+1),yt&&ct),!1))}}return function t(w){return w?t(w.priorBreak).concat(w.index):[]}(Iu(w.length(),pt,st,at,0,!0))}function Cu(w){var Ne=.5,et=.5;switch(w){case"right":case"top-right":case"bottom-right":Ne=1;break;case"left":case"top-left":case"bottom-left":Ne=0}switch(w){case"bottom":case"bottom-right":case"bottom-left":et=1;break;case"top":case"top-right":case"top-left":et=0}return{horizontalAlign:Ne,verticalAlign:et}}function Mu(w,Ne,et,tt,rt){if(tt||rt)for(var nt=w[et],it=(w[et].x+nt.metrics.advance*nt.scale)*tt,ot=Ne;ot<=et;ot++)w[ot].x-=it,w[ot].y+=rt}function Eu(w,Ne,et,tt,rt,nt){var it,ot=w.image;if(ot.content){var at=ot.content,st=ot.pixelRatio||1;it=[at[0]/st,at[1]/st,ot.displaySize[0]-at[2]/st,ot.displaySize[1]-at[3]/st]}var ct,pt,ft,dt,mt=Ne.left*nt,yt=Ne.right*nt;"width"===et||"both"===et?(dt=rt[0]+mt-tt[3],pt=rt[0]+yt+tt[1]):pt=(dt=rt[0]+(mt+yt-ot.displaySize[0])/2)+ot.displaySize[0];var vt=Ne.top*nt,Rt=Ne.bottom*nt;return"height"===et||"both"===et?(ct=rt[1]+vt-tt[0],ft=rt[1]+Rt+tt[2]):ft=(ct=rt[1]+(vt+Rt-ot.displaySize[1])/2)+ot.displaySize[1],{image:ot,top:ct,right:pt,bottom:ft,left:dt,collisionPadding:it}}lh[10]=!0,lh[32]=!0,lh[38]=!0,lh[40]=!0,lh[41]=!0,lh[43]=!0,lh[45]=!0,lh[47]=!0,lh[173]=!0,lh[183]=!0,lh[8203]=!0,lh[8208]=!0,lh[8211]=!0,lh[8231]=!0;var ph=function(w){function e(Ne,et,tt,rt){w.call(this,Ne,et),this.angle=tt,void 0!==rt&&(this.segment=rt)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(et);function Pu(w,Ne){var et=Ne.expression;if("constant"===et.kind)return{kind:"constant",layoutSize:et.evaluate(new ai(w+1))};if("source"===et.kind)return{kind:"source"};for(var tt=et.zoomStops,rt=et.interpolationType,nt=0;nt<tt.length&&tt[nt]<=w;)nt++;for(var it=nt=Math.max(0,nt-1);it<tt.length&&tt[it]<w+1;)it++;it=Math.min(tt.length-1,it);var ot=tt[nt],at=tt[it];return"composite"===et.kind?{kind:"composite",minZoom:ot,maxZoom:at,interpolationType:rt}:{kind:"camera",minZoom:ot,maxZoom:at,minSize:et.evaluate(new ai(ot)),maxSize:et.evaluate(new ai(at)),interpolationType:rt}}function Bu(w,Ne,et){var tt=Ne.uSize,rt=et.lowerSize;return"source"===w.kind?rt/128:"composite"===w.kind?qe(rt/128,et.upperSize/128,Ne.uSizeT):tt}function Vu(w,Ne){var et=0,tt=0;if("constant"===w.kind)tt=w.layoutSize;else if("source"!==w.kind){var rt=w.interpolationType,nt=rt?l(nr.interpolationFactor(rt,Ne,w.minZoom,w.maxZoom),0,1):0;"camera"===w.kind?tt=qe(w.minSize,w.maxSize,nt):et=nt}return{uSizeT:et,uSize:tt}}Dn("Anchor",ph);var mh=Object.freeze({__proto__:null,getSizeData:Pu,evaluateSizeForFeature:Bu,evaluateSizeForZoom:Vu,SIZE_PACK_FACTOR:128});function Du(w,Ne,et,tt,rt){if(void 0===Ne.segment)return!0;for(var nt=Ne,it=Ne.segment+1,ot=0;ot>-et/2;){if(--it<0)return!1;ot-=w[it].dist(nt),nt=w[it]}ot+=w[it].dist(w[it+1]),it++;for(var at=[],st=0;ot<et/2;){var ct=w[it],pt=w[it+1];if(!pt)return!1;var ft=w[it-1].angleTo(ct)-ct.angleTo(pt);for(ft=Math.abs((ft+3*Math.PI)%(2*Math.PI)-Math.PI),at.push({distance:ot,angleDelta:ft}),st+=ft;ot-at[0].distance>tt;)st-=at.shift().angleDelta;if(st>rt)return!1;it++,ot+=ct.dist(pt)}return!0}function Lu(w){for(var Ne=0,et=0;et<w.length-1;et++)Ne+=w[et].dist(w[et+1]);return Ne}function Ru(w,Ne,et){return w?.6*Ne*et:0}function Ou(w,Ne){return Math.max(w?w.right-w.left:0,Ne?Ne.right-Ne.left:0)}function Uu(w,Ne,et,tt,rt,nt){for(var it=Ru(et,rt,nt),ot=Ou(et,tt)*nt,at=0,st=Lu(w)/2,ct=0;ct<w.length-1;ct++){var pt=w[ct],ft=w[ct+1],dt=pt.dist(ft);if(at+dt>st){var mt=(st-at)/dt,yt=qe(pt.x,ft.x,mt),vt=qe(pt.y,ft.y,mt),Rt=new ph(yt,vt,ft.angleTo(pt),ct);return Rt._round(),!it||Du(w,Rt,ot,it,Ne)?Rt:void 0}at+=dt}}function ju(w,Ne,et,tt,rt,nt,it,ot,at){var st=Ru(tt,nt,it),ct=Ou(tt,rt),pt=ct*it,ft=0===w[0].x||w[0].x===at||0===w[0].y||w[0].y===at;return Ne-pt<Ne/4&&(Ne=pt+Ne/4),function t(w,Ne,et,tt,rt,nt,it,ot,at){for(var st=nt/2,ct=Lu(w),pt=0,ft=Ne-et,dt=[],mt=0;mt<w.length-1;mt++){for(var yt=w[mt],vt=w[mt+1],Rt=yt.dist(vt),Ot=vt.angleTo(yt);ft+et<pt+Rt;){var Dt=((ft+=et)-pt)/Rt,Bt=qe(yt.x,vt.x,Dt),er=qe(yt.y,vt.y,Dt);if(Bt>=0&&Bt<at&&er>=0&&er<at&&ft-st>=0&&ft+st<=ct){var rr=new ph(Bt,er,Ot,mt);rr._round(),tt&&!Du(w,rr,nt,tt,rt)||dt.push(rr)}}pt+=Rt}return ot||dt.length||it||(dt=t(w,pt/2,et,tt,rt,nt,it,!0,at)),dt}(w,ft?Ne/2*ot%Ne:(ct/2+2*nt)*it*ot%Ne,Ne,st,et,pt,ft,!1,at)}function qu(w,Ne,tt,rt,nt){for(var it=[],ot=0;ot<w.length;ot++)for(var at=w[ot],st=void 0,ct=0;ct<at.length-1;ct++){var pt=at[ct],ft=at[ct+1];pt.x<Ne&&ft.x<Ne||(pt.x<Ne?pt=new et(Ne,pt.y+(Ne-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round():ft.x<Ne&&(ft=new et(Ne,pt.y+(Ne-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round()),pt.y<tt&&ft.y<tt||(pt.y<tt?pt=new et(pt.x+(tt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),tt)._round():ft.y<tt&&(ft=new et(pt.x+(tt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),tt)._round()),pt.x>=rt&&ft.x>=rt||(pt.x>=rt?pt=new et(rt,pt.y+(rt-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round():ft.x>=rt&&(ft=new et(rt,pt.y+(rt-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round()),pt.y>=nt&&ft.y>=nt||(pt.y>=nt?pt=new et(pt.x+(nt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),nt)._round():ft.y>=nt&&(ft=new et(pt.x+(nt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),nt)._round()),st&&pt.equals(st[st.length-1])||it.push(st=[pt]),st.push(ft)))))}return it}function Nu(w,Ne,tt,rt){var nt=[],it=w.image,ot=it.pixelRatio,at=it.paddedRect.w-2,st=it.paddedRect.h-2,ct=w.right-w.left,pt=w.bottom-w.top,ft=it.stretchX||[[0,at]],dt=it.stretchY||[[0,st]],y=function(w,Ne){return w+Ne[1]-Ne[0]},mt=ft.reduce(y,0),yt=dt.reduce(y,0),vt=at-mt,Rt=st-yt,Ot=0,Dt=mt,Bt=0,er=yt,rr=0,vr=vt,wr=0,Sr=Rt;if(it.content&&rt){var rn=it.content;Ot=Ku(ft,0,rn[0]),Bt=Ku(dt,0,rn[1]),Dt=Ku(ft,rn[0],rn[2]),er=Ku(dt,rn[1],rn[3]),rr=rn[0]-Ot,wr=rn[1]-Bt,vr=rn[2]-rn[0]-Dt,Sr=rn[3]-rn[1]-er}var C=function(rt,nt,at,st){var ft=Zu(rt.stretch-Ot,Dt,ct,w.left),dt=Xu(rt.fixed-rr,vr,rt.stretch,mt),vt=Zu(nt.stretch-Bt,er,pt,w.top),Rt=Xu(nt.fixed-wr,Sr,nt.stretch,yt),rn=Zu(at.stretch-Ot,Dt,ct,w.left),vn=Xu(at.fixed-rr,vr,at.stretch,mt),bn=Zu(st.stretch-Bt,er,pt,w.top),Tn=Xu(st.fixed-wr,Sr,st.stretch,yt),Cn=new et(ft,vt),In=new et(rn,vt),zn=new et(rn,bn),Mn=new et(ft,bn),Ln=new et(dt/ot,Rt/ot),Fn=new et(vn/ot,Tn/ot),Bn=Ne*Math.PI/180;if(Bn){var Nn=Math.sin(Bn),Vn=Math.cos(Bn),Wn=[Vn,-Nn,Nn,Vn];Cn._matMult(Wn),In._matMult(Wn),Mn._matMult(Wn),zn._matMult(Wn)}var $n=rt.stretch+rt.fixed,Yn=nt.stretch+nt.fixed;return{tl:Cn,tr:In,bl:Mn,br:zn,tex:{x:it.paddedRect.x+1+$n,y:it.paddedRect.y+1+Yn,w:at.stretch+at.fixed-$n,h:st.stretch+st.fixed-Yn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ln,pixelOffsetBR:Fn,minFontScaleX:vr/ot/ct,minFontScaleY:Sr/ot/pt,isSDF:tt}};if(rt&&(it.stretchX||it.stretchY))for(var vn=Gu(ft,vt,mt),bn=Gu(dt,Rt,yt),Tn=0;Tn<vn.length-1;Tn++)for(var Cn=vn[Tn],In=vn[Tn+1],zn=0;zn<bn.length-1;zn++)nt.push(C(Cn,bn[zn],In,bn[zn+1]));else nt.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:at+1},{fixed:0,stretch:st+1}));return nt}function Ku(w,Ne,et){for(var tt=0,rt=0,nt=w;rt<nt.length;rt+=1){var it=nt[rt];tt+=Math.max(Ne,Math.min(et,it[1]))-Math.max(Ne,Math.min(et,it[0]))}return tt}function Gu(w,Ne,et){for(var tt=[{fixed:-1,stretch:0}],rt=0,nt=w;rt<nt.length;rt+=1){var it=nt[rt],ot=it[0],at=it[1],st=tt[tt.length-1];tt.push({fixed:ot-st.stretch,stretch:st.stretch}),tt.push({fixed:ot-st.stretch,stretch:st.stretch+(at-ot)})}return tt.push({fixed:Ne+1,stretch:et}),tt}function Zu(w,Ne,et,tt){return w/Ne*et+tt}function Xu(w,Ne,et,tt){return w-Ne*et/tt}var Ju=function(w,Ne,tt,rt,nt,it,ot,at,st,ct){if(this.boxStartIndex=w.length,st){var pt=it.top,ft=it.bottom,dt=it.collisionPadding;dt&&(pt-=dt[1],ft+=dt[3]);var mt=ft-pt;mt>0&&(mt=Math.max(10,mt),this.circleDiameter=mt)}else{var yt=it.top*ot-at,vt=it.bottom*ot+at,Rt=it.left*ot-at,Ot=it.right*ot+at,Dt=it.collisionPadding;if(Dt&&(Rt-=Dt[0]*ot,yt-=Dt[1]*ot,Ot+=Dt[2]*ot,vt+=Dt[3]*ot),ct){var Bt=new et(Rt,yt),er=new et(Ot,yt),rr=new et(Rt,vt),vr=new et(Ot,vt),wr=ct*Math.PI/180;Bt._rotate(wr),er._rotate(wr),rr._rotate(wr),vr._rotate(wr),Rt=Math.min(Bt.x,er.x,rr.x,vr.x),Ot=Math.max(Bt.x,er.x,rr.x,vr.x),yt=Math.min(Bt.y,er.y,rr.y,vr.y),vt=Math.max(Bt.y,er.y,rr.y,vr.y)}w.emplaceBack(Ne.x,Ne.y,Rt,yt,Ot,vt,tt,rt,nt)}this.boxEndIndex=w.length},Hu=function(w,Ne){if(void 0===w&&(w=[]),void 0===Ne&&(Ne=Yu),this.data=w,this.length=this.data.length,this.compare=Ne,this.length>0)for(var et=(this.length>>1)-1;et>=0;et--)this._down(et)};function Yu(w,Ne){return w<Ne?-1:w>Ne?1:0}function $u(w,Ne,tt){void 0===Ne&&(Ne=1),void 0===tt&&(tt=!1);for(var rt=1/0,nt=1/0,it=-1/0,ot=-1/0,at=w[0],st=0;st<at.length;st++){var ct=at[st];(!st||ct.x<rt)&&(rt=ct.x),(!st||ct.y<nt)&&(nt=ct.y),(!st||ct.x>it)&&(it=ct.x),(!st||ct.y>ot)&&(ot=ct.y)}var pt=Math.min(it-rt,ot-nt),ft=pt/2,dt=new Hu([],Wu);if(0===pt)return new et(rt,nt);for(var mt=rt;mt<it;mt+=pt)for(var yt=nt;yt<ot;yt+=pt)dt.push(new Qu(mt+ft,yt+ft,ft,w));for(var vt=function(w){for(var Ne=0,et=0,tt=0,rt=w[0],nt=0,it=rt.length,ot=it-1;nt<it;ot=nt++){var at=rt[nt],st=rt[ot],ct=at.x*st.y-st.x*at.y;et+=(at.x+st.x)*ct,tt+=(at.y+st.y)*ct,Ne+=3*ct}return new Qu(et/Ne,tt/Ne,0,w)}(w),Rt=dt.length;dt.length;){var Ot=dt.pop();(Ot.d>vt.d||!vt.d)&&(vt=Ot,tt&&console.log("found best %d after %d probes",Math.round(1e4*Ot.d)/1e4,Rt)),Ot.max-vt.d<=Ne||(dt.push(new Qu(Ot.p.x-(ft=Ot.h/2),Ot.p.y-ft,ft,w)),dt.push(new Qu(Ot.p.x+ft,Ot.p.y-ft,ft,w)),dt.push(new Qu(Ot.p.x-ft,Ot.p.y+ft,ft,w)),dt.push(new Qu(Ot.p.x+ft,Ot.p.y+ft,ft,w)),Rt+=4)}return tt&&(console.log("num probes: "+Rt),console.log("best distance: "+vt.d)),vt.p}function Wu(w,Ne){return Ne.max-w.max}function Qu(w,Ne,tt,rt){this.p=new et(w,Ne),this.h=tt,this.d=function(w,Ne){for(var et=!1,tt=1/0,rt=0;rt<Ne.length;rt++)for(var nt=Ne[rt],it=0,ot=nt.length,at=ot-1;it<ot;at=it++){var st=nt[it],ct=nt[at];st.y>w.y!=ct.y>w.y&&w.x<(ct.x-st.x)*(w.y-st.y)/(ct.y-st.y)+st.x&&(et=!et),tt=Math.min(tt,Xa(w,st,ct))}return(et?1:-1)*Math.sqrt(tt)}(this.p,rt),this.max=this.d+this.h*Math.SQRT2}Hu.prototype.push=function(w){this.data.push(w),this.length++,this._up(this.length-1)},Hu.prototype.pop=function(){if(0!==this.length){var w=this.data[0],Ne=this.data.pop();return this.length--,this.length>0&&(this.data[0]=Ne,this._down(0)),w}},Hu.prototype.peek=function(){return this.data[0]},Hu.prototype._up=function(w){for(var Ne=this.data,et=this.compare,tt=Ne[w];w>0;){var rt=w-1>>1,nt=Ne[rt];if(et(tt,nt)>=0)break;Ne[w]=nt,w=rt}Ne[w]=tt},Hu.prototype._down=function(w){for(var Ne=this.data,et=this.compare,tt=this.length>>1,rt=Ne[w];w<tt;){var nt=1+(w<<1),it=Ne[nt],ot=nt+1;if(ot<this.length&&et(Ne[ot],it)<0&&(nt=ot,it=Ne[ot]),et(it,rt)>=0)break;Ne[w]=it,w=nt}Ne[w]=rt};var _h=Number.POSITIVE_INFINITY;function el(w,Ne){return Ne[1]!==_h?function(w,Ne,et){var tt=0,rt=0;switch(Ne=Math.abs(Ne),et=Math.abs(et),w){case"top-right":case"top-left":case"top":rt=et-7;break;case"bottom-right":case"bottom-left":case"bottom":rt=7-et}switch(w){case"top-right":case"bottom-right":case"right":tt=-Ne;break;case"top-left":case"bottom-left":case"left":tt=Ne}return[tt,rt]}(w,Ne[0],Ne[1]):function(w,Ne){var et=0,tt=0;Ne<0&&(Ne=0);var rt=Ne/Math.sqrt(2);switch(w){case"top-right":case"top-left":tt=rt-7;break;case"bottom-right":case"bottom-left":tt=7-rt;break;case"bottom":tt=7-Ne;break;case"top":tt=Ne-7}switch(w){case"top-right":case"bottom-right":et=-rt;break;case"top-left":case"bottom-left":et=rt;break;case"left":et=Ne;break;case"right":et=-Ne}return[et,tt]}(w,Ne[0])}function rl(w){switch(w){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function nl(w,Ne,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt=function(w,Ne,tt,rt,nt,it,ot,at){for(var st=rt.layout.get("text-rotate").evaluate(it,{})*Math.PI/180,ct=[],pt=0,ft=Ne.positionedLines;pt<ft.length;pt+=1)for(var dt=ft[pt],mt=0,yt=dt.positionedGlyphs;mt<yt.length;mt+=1){var vt=yt[mt];if(vt.rect){var Rt=vt.rect||{},Ot=4,Dt=!0,Bt=1,er=0,rr=(nt||at)&&vt.vertical,vr=vt.metrics.advance*vt.scale/2;if(at&&Ne.verticalizable&&(er=dt.lineOffset/2-(vt.imageName?-(24-vt.metrics.width*vt.scale)/2:24*(vt.scale-1))),vt.imageName){var wr=ot[vt.imageName];Dt=wr.sdf,Ot=1/(Bt=wr.pixelRatio)}var Sr=nt?[vt.x+vr,vt.y]:[0,0],rn=nt?[0,0]:[vt.x+vr+tt[0],vt.y+tt[1]-er],vn=[0,0];rr&&(vn=rn,rn=[0,0]);var bn=(vt.metrics.left-Ot)*vt.scale-vr+rn[0],Tn=(-vt.metrics.top-Ot)*vt.scale+rn[1],Cn=bn+Rt.w*vt.scale/Bt,In=Tn+Rt.h*vt.scale/Bt,zn=new et(bn,Tn),Mn=new et(Cn,Tn),Ln=new et(bn,In),Fn=new et(Cn,In);if(rr){var Bn=new et(-vr,vr- -17),Nn=-Math.PI/2,Vn=12-vr,Wn=new et(22-Vn,-(vt.imageName?Vn:0)),$n=new(Function.prototype.bind.apply(et,[null].concat(vn)));zn._rotateAround(Nn,Bn)._add(Wn)._add($n),Mn._rotateAround(Nn,Bn)._add(Wn)._add($n),Ln._rotateAround(Nn,Bn)._add(Wn)._add($n),Fn._rotateAround(Nn,Bn)._add(Wn)._add($n)}if(st){var Yn=Math.sin(st),ii=Math.cos(st),qi=[ii,-Yn,Yn,ii];zn._matMult(qi),Mn._matMult(qi),Ln._matMult(qi),Fn._matMult(qi)}var uo=new et(0,0),po=new et(0,0);ct.push({tl:zn,tr:Mn,bl:Ln,br:Fn,tex:Rt,writingMode:Ne.writingMode,glyphOffset:Sr,sectionIndex:vt.sectionIndex,isSDF:Dt,pixelOffsetTL:uo,pixelOffsetBR:po,minFontScaleX:0,minFontScaleY:0})}}return ct}(0,tt,at,nt,it,ot,rt,w.allowVerticalPlacement),Rt=w.textSizeData,Ot=null;"source"===Rt.kind?(Ot=[128*nt.layout.get("text-size").evaluate(ot,{})])[0]>32640&&_(w.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Rt.kind&&((Ot=[128*mt.compositeTextSizes[0].evaluate(ot,{},yt),128*mt.compositeTextSizes[1].evaluate(ot,{},yt)])[0]>32640||Ot[1]>32640)&&_(w.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),w.addSymbols(w.text,vt,Ot,at,it,ot,ct,Ne,st.lineStartIndex,st.lineLength,dt,yt);for(var Dt=0,Bt=pt;Dt<Bt.length;Dt+=1)ft[Bt[Dt]]=w.text.placedSymbolArray.length-1;return 4*vt.length}function il(w){for(var Ne in w)return w[Ne];return null}function al(w,Ne,et,tt){var rt=w.compareText;if(Ne in rt){for(var nt=rt[Ne],it=nt.length-1;it>=0;it--)if(tt.dist(nt[it])<et)return!0}else rt[Ne]=[];return rt[Ne].push(tt),!1}var bh=Lp.VectorTileFeature.types,kh=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ul(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft){var dt=ot?Math.min(32640,Math.round(ot[0])):0,mt=ot?Math.min(32640,Math.round(ot[1])):0;w.emplaceBack(Ne,et,Math.round(32*tt),Math.round(32*rt),nt,it,(dt<<1)+(at?1:0),mt,16*st,16*ct,256*pt,256*ft)}function ll(w,Ne,et){w.emplaceBack(Ne.x,Ne.y,et),w.emplaceBack(Ne.x,Ne.y,et),w.emplaceBack(Ne.x,Ne.y,et),w.emplaceBack(Ne.x,Ne.y,et)}function pl(w){for(var Ne=0,et=w.sections;Ne<et.length;Ne+=1)if(Hn(et[Ne].text))return!0;return!1}var cl=function(w){this.layoutVertexArray=new Cl,this.indexArray=new vu,this.programConfigurations=w,this.segments=new aa,this.dynamicLayoutVertexArray=new Il,this.opacityVertexArray=new Al,this.placedSymbolArray=new Ec};cl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},cl.prototype.upload=function(w,Ne,et,tt){this.isEmpty()||(et&&(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,Zp.members),this.indexBuffer=w.createIndexBuffer(this.indexArray,Ne),this.dynamicLayoutVertexBuffer=w.createVertexBuffer(this.dynamicLayoutVertexArray,Hp.members,!0),this.opacityVertexBuffer=w.createVertexBuffer(this.opacityVertexArray,kh,!0),this.opacityVertexBuffer.itemSize=1),(et||tt)&&this.programConfigurations.upload(w))},cl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Dn("SymbolBuffers",cl);var hl=function(w,Ne,et){this.layoutVertexArray=new w,this.layoutAttributes=Ne,this.indexArray=new et,this.segments=new aa,this.collisionVertexArray=new du};hl.prototype.upload=function(w){this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=w.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=w.createVertexBuffer(this.collisionVertexArray,$p.members,!0)},hl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Dn("CollisionBuffers",hl);var fl=function(w){this.collisionBoxArray=w.collisionBoxArray,this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.pixelRatio=w.pixelRatio,this.sourceLayerIndex=w.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=no([]),this.placementViewportMatrix=no([]);var Ne=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Pu(this.zoom,Ne["text-size"]),this.iconSizeData=Pu(this.zoom,Ne["icon-size"]);var et=this.layers[0].layout,tt=et.get("symbol-sort-key"),rt=et.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==rt&&void 0!==tt.constantOr(1),this.sortFeaturesByY=("viewport-y"===rt||"auto"===rt&&!this.sortFeaturesByKey)&&(et.get("text-allow-overlap")||et.get("icon-allow-overlap")||et.get("text-ignore-placement")||et.get("icon-ignore-placement")),"point"===et.get("symbol-placement")&&(this.writingModes=et.get("text-writing-mode").map((function(w){return ah[w]}))),this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id})),this.sourceID=w.sourceID};fl.prototype.createArrays=function(){this.text=new cl(new Pa(this.layers,this.zoom,(function(w){return/^text/.test(w)}))),this.icon=new cl(new Pa(this.layers,this.zoom,(function(w){return/^icon/.test(w)}))),this.glyphOffsetArray=new Ac,this.lineVertexArray=new zc,this.symbolInstances=new Ic},fl.prototype.calculateGlyphDependencies=function(w,Ne,et,tt,rt){for(var nt=0;nt<w.length;nt++)if(Ne[w.charCodeAt(nt)]=!0,(et||tt)&&rt){var it=Yp[w.charAt(nt)];it&&(Ne[it.charCodeAt(0)]=!0)}},fl.prototype.populate=function(w,Ne,et){var tt=this.layers[0],rt=tt.layout,nt=rt.get("text-font"),it=rt.get("text-field"),ot=rt.get("icon-image"),at=("constant"!==it.value.kind||it.value.value instanceof ee&&!it.value.value.isEmpty()||it.value.value.toString().length>0)&&("constant"!==nt.value.kind||nt.value.value.length>0),st="constant"!==ot.value.kind||!!ot.value.value||Object.keys(ot.parameters).length>0,ct=rt.get("symbol-sort-key");if(this.features=[],at||st){for(var pt=Ne.iconDependencies,ft=Ne.glyphDependencies,dt=Ne.availableImages,mt=new ai(this.zoom),yt=0,vt=w;yt<vt.length;yt+=1){var Rt=vt[yt],Ot=Rt.feature,Dt=Rt.id,Bt=Rt.index,er=Rt.sourceLayerIndex,rr=tt._featureFilter.needGeometry,vr={type:Ot.type,id:Dt,properties:Ot.properties,geometry:rr?La(Ot):[]};if(tt._featureFilter.filter(mt,vr,et)){rr||(vr.geometry=La(Ot));var wr=void 0;if(at){var Sr=tt.getValueAndResolveTokens("text-field",vr,et,dt),rn=ee.factory(Sr);pl(rn)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ri()||this.hasRTLText&&gl.isParsed())&&(wr=qs(rn,tt,vr))}var vn=void 0;if(st){var bn=tt.getValueAndResolveTokens("icon-image",vr,et,dt);vn=bn instanceof re?bn:re.fromString(bn)}if(wr||vn){var Tn=this.sortFeaturesByKey?ct.evaluate(vr,{},et):void 0,Cn={id:Dt,text:wr,icon:vn,index:Bt,sourceLayerIndex:er,geometry:La(Ot),properties:Ot.properties,type:bh[Ot.type],sortKey:Tn};if(this.features.push(Cn),vn&&(pt[vn.name]=!0),wr){var In=nt.evaluate(vr,{},et).join(","),zn="map"===rt.get("text-rotation-alignment")&&"point"!==rt.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ah.vertical)>=0;for(var Mn=0,Ln=wr.sections;Mn<Ln.length;Mn+=1){var Fn=Ln[Mn];if(Fn.image)pt[Fn.image.name]=!0;else{var Bn=Kn(wr.toString()),Nn=Fn.fontStack||In,Vn=ft[Nn]=ft[Nn]||{};this.calculateGlyphDependencies(Fn.text,Vn,zn,this.allowVerticalPlacement,Bn)}}}}}}"line"===rt.get("symbol-placement")&&(this.features=function(w){var Ne={},et={},tt=[],rt=0;function a(Ne){tt.push(w[Ne]),rt++}function o(w,Ne,rt){var nt=et[w];return delete et[w],et[Ne]=nt,tt[nt].geometry[0].pop(),tt[nt].geometry[0]=tt[nt].geometry[0].concat(rt[0]),nt}function s(w,et,rt){var nt=Ne[et];return delete Ne[et],Ne[w]=nt,tt[nt].geometry[0].shift(),tt[nt].geometry[0]=rt[0].concat(tt[nt].geometry[0]),nt}function u(w,Ne,et){var tt=et?Ne[0][Ne[0].length-1]:Ne[0][0];return w+":"+tt.x+":"+tt.y}for(var nt=0;nt<w.length;nt++){var it=w[nt],ot=it.geometry,at=it.text?it.text.toString():null;if(at){var st=u(at,ot),ct=u(at,ot,!0);if(st in et&&ct in Ne&&et[st]!==Ne[ct]){var pt=s(st,ct,ot),ft=o(st,ct,tt[pt].geometry);delete Ne[st],delete et[ct],et[u(at,tt[ft].geometry,!0)]=ft,tt[pt].geometry=null}else st in et?o(st,ct,ot):ct in Ne?s(st,ct,ot):(a(nt),Ne[st]=rt-1,et[ct]=rt-1)}else a(nt)}return tt.filter((function(w){return w.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(w,Ne){return w.sortKey-Ne.sortKey}))}},fl.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(w,Ne,this.layers,et),this.icon.programConfigurations.updatePaintArrays(w,Ne,this.layers,et))},fl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},fl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},fl.prototype.upload=function(w){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(w),this.iconCollisionBox.upload(w)),this.text.upload(w,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(w,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},fl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},fl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},fl.prototype.addToLineVertexArray=function(w,Ne){var et=this.lineVertexArray.length;if(void 0!==w.segment){for(var tt=w.dist(Ne[w.segment+1]),rt=w.dist(Ne[w.segment]),nt={},it=w.segment+1;it<Ne.length;it++)nt[it]={x:Ne[it].x,y:Ne[it].y,tileUnitDistanceFromAnchor:tt},it<Ne.length-1&&(tt+=Ne[it+1].dist(Ne[it]));for(var ot=w.segment||0;ot>=0;ot--)nt[ot]={x:Ne[ot].x,y:Ne[ot].y,tileUnitDistanceFromAnchor:rt},ot>0&&(rt+=Ne[ot-1].dist(Ne[ot]));for(var at=0;at<Ne.length;at++){var st=nt[at];this.lineVertexArray.emplaceBack(st.x,st.y,st.tileUnitDistanceFromAnchor)}}return{lineStartIndex:et,lineLength:this.lineVertexArray.length-et}},fl.prototype.addSymbols=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){for(var ft=w.indexArray,dt=w.layoutVertexArray,mt=w.segments.prepareSegment(4*Ne.length,dt,ft,nt.sortKey),yt=this.glyphOffsetArray.length,vt=mt.vertexLength,Rt=this.allowVerticalPlacement&&it===ah.vertical?Math.PI/2:0,Ot=nt.text&&nt.text.sections,Dt=0;Dt<Ne.length;Dt++){var Bt=Ne[Dt],er=Bt.tl,rr=Bt.tr,vr=Bt.bl,wr=Bt.br,Sr=Bt.tex,rn=Bt.pixelOffsetTL,vn=Bt.pixelOffsetBR,bn=Bt.minFontScaleX,Tn=Bt.minFontScaleY,Cn=Bt.glyphOffset,In=Bt.isSDF,zn=Bt.sectionIndex,Mn=mt.vertexLength,Ln=Cn[1];ul(dt,ot.x,ot.y,er.x,Ln+er.y,Sr.x,Sr.y,et,In,rn.x,rn.y,bn,Tn),ul(dt,ot.x,ot.y,rr.x,Ln+rr.y,Sr.x+Sr.w,Sr.y,et,In,vn.x,rn.y,bn,Tn),ul(dt,ot.x,ot.y,vr.x,Ln+vr.y,Sr.x,Sr.y+Sr.h,et,In,rn.x,vn.y,bn,Tn),ul(dt,ot.x,ot.y,wr.x,Ln+wr.y,Sr.x+Sr.w,Sr.y+Sr.h,et,In,vn.x,vn.y,bn,Tn),ll(w.dynamicLayoutVertexArray,ot,Rt),ft.emplaceBack(Mn,Mn+1,Mn+2),ft.emplaceBack(Mn+1,Mn+2,Mn+3),mt.vertexLength+=4,mt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Cn[0]),Dt!==Ne.length-1&&zn===Ne[Dt+1].sectionIndex||w.programConfigurations.populatePaintArrays(dt.length,nt,nt.index,{},pt,Ot&&Ot[zn])}w.placedSymbolArray.emplaceBack(ot.x,ot.y,yt,this.glyphOffsetArray.length-yt,vt,at,st,ot.segment,et?et[0]:0,et?et[1]:0,tt[0],tt[1],it,0,!1,0,ct)},fl.prototype._addCollisionDebugVertex=function(w,Ne,et,tt,rt,nt){return Ne.emplaceBack(0,0),w.emplaceBack(et.x,et.y,tt,rt,Math.round(nt.x),Math.round(nt.y))},fl.prototype.addCollisionDebugVertices=function(w,Ne,tt,rt,nt,it,ot){var at=nt.segments.prepareSegment(4,nt.layoutVertexArray,nt.indexArray),st=at.vertexLength,ct=nt.layoutVertexArray,pt=nt.collisionVertexArray,ft=ot.anchorX,dt=ot.anchorY;this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(w,Ne)),this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(tt,Ne)),this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(tt,rt)),this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(w,rt)),at.vertexLength+=4;var mt=nt.indexArray;mt.emplaceBack(st,st+1),mt.emplaceBack(st+1,st+2),mt.emplaceBack(st+2,st+3),mt.emplaceBack(st+3,st),at.primitiveLength+=4},fl.prototype.addDebugCollisionBoxes=function(w,Ne,et,tt){for(var rt=w;rt<Ne;rt++){var nt=this.collisionBoxArray.get(rt);this.addCollisionDebugVertices(nt.x1,nt.y1,nt.x2,nt.y2,tt?this.textCollisionBox:this.iconCollisionBox,nt.anchorPoint,et)}},fl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hl(Fl,Xp.members,pc),this.iconCollisionBox=new hl(Fl,Xp.members,pc);for(var w=0;w<this.symbolInstances.length;w++){var Ne=this.symbolInstances.get(w);this.addDebugCollisionBoxes(Ne.textBoxStartIndex,Ne.textBoxEndIndex,Ne,!0),this.addDebugCollisionBoxes(Ne.verticalTextBoxStartIndex,Ne.verticalTextBoxEndIndex,Ne,!0),this.addDebugCollisionBoxes(Ne.iconBoxStartIndex,Ne.iconBoxEndIndex,Ne,!1),this.addDebugCollisionBoxes(Ne.verticalIconBoxStartIndex,Ne.verticalIconBoxEndIndex,Ne,!1)}},fl.prototype._deserializeCollisionBoxesForSymbol=function(w,Ne,et,tt,rt,nt,it,ot,at){for(var st={},ct=Ne;ct<et;ct++){var pt=w.get(ct);st.textBox={x1:pt.x1,y1:pt.y1,x2:pt.x2,y2:pt.y2,anchorPointX:pt.anchorPointX,anchorPointY:pt.anchorPointY},st.textFeatureIndex=pt.featureIndex;break}for(var ft=tt;ft<rt;ft++){var dt=w.get(ft);st.verticalTextBox={x1:dt.x1,y1:dt.y1,x2:dt.x2,y2:dt.y2,anchorPointX:dt.anchorPointX,anchorPointY:dt.anchorPointY},st.verticalTextFeatureIndex=dt.featureIndex;break}for(var mt=nt;mt<it;mt++){var yt=w.get(mt);st.iconBox={x1:yt.x1,y1:yt.y1,x2:yt.x2,y2:yt.y2,anchorPointX:yt.anchorPointX,anchorPointY:yt.anchorPointY},st.iconFeatureIndex=yt.featureIndex;break}for(var vt=ot;vt<at;vt++){var Rt=w.get(vt);st.verticalIconBox={x1:Rt.x1,y1:Rt.y1,x2:Rt.x2,y2:Rt.y2,anchorPointX:Rt.anchorPointX,anchorPointY:Rt.anchorPointY},st.verticalIconFeatureIndex=Rt.featureIndex;break}return st},fl.prototype.deserializeCollisionBoxes=function(w){this.collisionArrays=[];for(var Ne=0;Ne<this.symbolInstances.length;Ne++){var et=this.symbolInstances.get(Ne);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(w,et.textBoxStartIndex,et.textBoxEndIndex,et.verticalTextBoxStartIndex,et.verticalTextBoxEndIndex,et.iconBoxStartIndex,et.iconBoxEndIndex,et.verticalIconBoxStartIndex,et.verticalIconBoxEndIndex))}},fl.prototype.hasTextData=function(){return this.text.segments.get().length>0},fl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},fl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},fl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},fl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},fl.prototype.addIndicesForPlacedSymbol=function(w,Ne){for(var et=w.placedSymbolArray.get(Ne),tt=et.vertexStartIndex+4*et.numGlyphs,rt=et.vertexStartIndex;rt<tt;rt+=4)w.indexArray.emplaceBack(rt,rt+1,rt+2),w.indexArray.emplaceBack(rt+1,rt+2,rt+3)},fl.prototype.getSortedSymbolIndexes=function(w){if(this.sortedAngle===w&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var Ne=Math.sin(w),et=Math.cos(w),tt=[],rt=[],nt=[],it=0;it<this.symbolInstances.length;++it){nt.push(it);var ot=this.symbolInstances.get(it);tt.push(0|Math.round(Ne*ot.anchorX+et*ot.anchorY)),rt.push(ot.featureIndex)}return nt.sort((function(w,Ne){return tt[w]-tt[Ne]||rt[Ne]-rt[w]})),nt},fl.prototype.addToSortKeyRanges=function(w,Ne){var et=this.sortKeyRanges[this.sortKeyRanges.length-1];et&&et.sortKey===Ne?et.symbolInstanceEnd=w+1:this.sortKeyRanges.push({sortKey:Ne,symbolInstanceStart:w,symbolInstanceEnd:w+1})},fl.prototype.sortFeatures=function(w){var Ne=this;if(this.sortFeaturesByY&&this.sortedAngle!==w&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(w),this.sortedAngle=w,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var et=0,tt=this.symbolInstanceIndexes;et<tt.length;et+=1){var rt=this.symbolInstances.get(tt[et]);this.featureSortOrder.push(rt.featureIndex),[rt.rightJustifiedTextSymbolIndex,rt.centerJustifiedTextSymbolIndex,rt.leftJustifiedTextSymbolIndex].forEach((function(w,et,tt){w>=0&&tt.indexOf(w)===et&&Ne.addIndicesForPlacedSymbol(Ne.text,w)})),rt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,rt.verticalPlacedTextSymbolIndex),rt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,rt.placedIconSymbolIndex),rt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,rt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Dn("SymbolBucket",fl,{omit:["layers","collisionBoxArray","features","compareText"]}),fl.MAX_GLYPHS=65535,fl.addDynamicAttributes=ll;var Ph=new xi({"symbol-placement":new yi($n.layout_symbol["symbol-placement"]),"symbol-spacing":new yi($n.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yi($n.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new di($n.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yi($n.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yi($n.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new yi($n.layout_symbol["icon-ignore-placement"]),"icon-optional":new yi($n.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yi($n.layout_symbol["icon-rotation-alignment"]),"icon-size":new di($n.layout_symbol["icon-size"]),"icon-text-fit":new yi($n.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yi($n.layout_symbol["icon-text-fit-padding"]),"icon-image":new di($n.layout_symbol["icon-image"]),"icon-rotate":new di($n.layout_symbol["icon-rotate"]),"icon-padding":new yi($n.layout_symbol["icon-padding"]),"icon-keep-upright":new yi($n.layout_symbol["icon-keep-upright"]),"icon-offset":new di($n.layout_symbol["icon-offset"]),"icon-anchor":new di($n.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yi($n.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yi($n.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yi($n.layout_symbol["text-rotation-alignment"]),"text-field":new di($n.layout_symbol["text-field"]),"text-font":new di($n.layout_symbol["text-font"]),"text-size":new di($n.layout_symbol["text-size"]),"text-max-width":new di($n.layout_symbol["text-max-width"]),"text-line-height":new yi($n.layout_symbol["text-line-height"]),"text-letter-spacing":new di($n.layout_symbol["text-letter-spacing"]),"text-justify":new di($n.layout_symbol["text-justify"]),"text-radial-offset":new di($n.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yi($n.layout_symbol["text-variable-anchor"]),"text-anchor":new di($n.layout_symbol["text-anchor"]),"text-max-angle":new yi($n.layout_symbol["text-max-angle"]),"text-writing-mode":new yi($n.layout_symbol["text-writing-mode"]),"text-rotate":new di($n.layout_symbol["text-rotate"]),"text-padding":new yi($n.layout_symbol["text-padding"]),"text-keep-upright":new yi($n.layout_symbol["text-keep-upright"]),"text-transform":new di($n.layout_symbol["text-transform"]),"text-offset":new di($n.layout_symbol["text-offset"]),"text-allow-overlap":new yi($n.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new yi($n.layout_symbol["text-ignore-placement"]),"text-optional":new yi($n.layout_symbol["text-optional"])}),Oh={paint:new xi({"icon-opacity":new di($n.paint_symbol["icon-opacity"]),"icon-color":new di($n.paint_symbol["icon-color"]),"icon-halo-color":new di($n.paint_symbol["icon-halo-color"]),"icon-halo-width":new di($n.paint_symbol["icon-halo-width"]),"icon-halo-blur":new di($n.paint_symbol["icon-halo-blur"]),"icon-translate":new yi($n.paint_symbol["icon-translate"]),"icon-translate-anchor":new yi($n.paint_symbol["icon-translate-anchor"]),"text-opacity":new di($n.paint_symbol["text-opacity"]),"text-color":new di($n.paint_symbol["text-color"],{runtimeType:vo,getOverride:function(w){return w.textColor},hasOverride:function(w){return!!w.textColor}}),"text-halo-color":new di($n.paint_symbol["text-halo-color"]),"text-halo-width":new di($n.paint_symbol["text-halo-width"]),"text-halo-blur":new di($n.paint_symbol["text-halo-blur"]),"text-translate":new yi($n.paint_symbol["text-translate"]),"text-translate-anchor":new yi($n.paint_symbol["text-translate-anchor"])}),layout:Ph},ml=function(w){this.type=w.property.overrides?w.property.overrides.runtimeType:ii,this.defaultValue=w};ml.prototype.evaluate=function(w){if(w.formattedSection){var Ne=this.defaultValue.property.overrides;if(Ne&&Ne.hasOverride(w.formattedSection))return Ne.getOverride(w.formattedSection)}return w.feature&&w.featureState?this.defaultValue.evaluate(w.feature,w.featureState):this.defaultValue.property.specification.default},ml.prototype.eachChild=function(w){this.defaultValue.isConstant()||w(this.defaultValue.value._styleExpression.expression)},ml.prototype.outputDefined=function(){return!1},ml.prototype.serialize=function(){return null},Dn("FormatSectionOverride",ml,{omit:["defaultValue"]});var jh=function(w){function e(Ne){w.call(this,Ne,Oh)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.recalculate=function(Ne,et){if(w.prototype.recalculate.call(this,Ne,et),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var tt=this.layout.get("text-writing-mode");if(tt){for(var rt=[],nt=0,it=tt;nt<it.length;nt+=1){var ot=it[nt];rt.indexOf(ot)<0&&rt.push(ot)}this.layout._values["text-writing-mode"]=rt}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(w,Ne,et,tt){var rt=this.layout.get(w).evaluate(Ne,{},et,tt),nt=this._unevaluatedLayout._values[w];return nt.isDataDriven()||Nr(nt.value)||!rt?rt:function(w,Ne){return Ne.replace(/{([^{}]+)}/g,(function(Ne,et){return et in w?String(w[et]):""}))}(Ne.properties,rt)},e.prototype.createBucket=function(w){return new fl(w)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var w=0,Ne=Oh.paint.overridableProperties;w<Ne.length;w+=1){var et=Ne[w];if(e.hasPaintOverride(this.layout,et)){var tt,rt=this.paint.get(et),nt=new ml(rt),it=new qr(nt,rt.property.specification);tt="constant"===rt.value.kind||"source"===rt.value.kind?new Gr("source",it):new Zr("composite",it,rt.value.zoomStops,rt.value._interpolationType),this.paint._values[et]=new hi(rt.property,tt,rt.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(w,Ne,et){return!(!this.layout||Ne.isDataDriven()||et.isDataDriven())&&e.hasPaintOverride(this.layout,w)},e.hasPaintOverride=function(w,Ne){var et=w.get("text-field"),tt=Oh.paint.properties[Ne],rt=!1,a=function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(tt.overrides&&tt.overrides.hasOverride(et[Ne]))return void(rt=!0)};if("constant"===et.value.kind&&et.value.value instanceof ee)a(et.value.value.sections);else if("source"===et.value.kind){var o=function(w){rt||(w instanceof se&&ae(w.value)===ia?a(w.value.sections):w instanceof ce?a(w.sections):w.eachChild(o))},nt=et.value;nt._styleExpression&&o(nt._styleExpression.expression)}return rt},e}(vl),qh={paint:new xi({"background-color":new yi($n.paint_background["background-color"]),"background-pattern":new vi($n.paint_background["background-pattern"]),"background-opacity":new yi($n.paint_background["background-opacity"])})},Yh=function(w){function e(Ne){w.call(this,Ne,qh)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(vl),Qh={paint:new xi({"raster-opacity":new yi($n.paint_raster["raster-opacity"]),"raster-hue-rotate":new yi($n.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yi($n.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yi($n.paint_raster["raster-brightness-max"]),"raster-saturation":new yi($n.paint_raster["raster-saturation"]),"raster-contrast":new yi($n.paint_raster["raster-contrast"]),"raster-resampling":new yi($n.paint_raster["raster-resampling"]),"raster-fade-duration":new yi($n.paint_raster["raster-fade-duration"])})},ef=function(w){function e(Ne){w.call(this,Ne,Qh)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(vl),tf=function(w){function e(Ne){w.call(this,Ne,{}),this.implementation=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(w){this.implementation.onAdd&&this.implementation.onAdd(w,w.painter.context.gl)},e.prototype.onRemove=function(w){this.implementation.onRemove&&this.implementation.onRemove(w,w.painter.context.gl)},e}(vl),rf={circle:vp,heatmap:xp,hillshade:kp,fill:Ip,"fill-extrusion":Fp,line:Gp,symbol:jh,background:Yh,raster:ef},nf=tt.HTMLImageElement,af=tt.HTMLCanvasElement,sf=tt.HTMLVideoElement,lf=tt.ImageData,uf=tt.ImageBitmap,Ml=function(w,Ne,et,tt){this.context=w,this.format=et,this.texture=w.gl.createTexture(),this.update(Ne,tt)};Ml.prototype.update=function(w,Ne,et){var tt=w.width,rt=w.height,nt=!(this.size&&this.size[0]===tt&&this.size[1]===rt||et),it=this.context,ot=it.gl;if(this.useMipmap=Boolean(Ne&&Ne.useMipmap),ot.bindTexture(ot.TEXTURE_2D,this.texture),it.pixelStoreUnpackFlipY.set(!1),it.pixelStoreUnpack.set(1),it.pixelStoreUnpackPremultiplyAlpha.set(this.format===ot.RGBA&&(!Ne||!1!==Ne.premultiply)),nt)this.size=[tt,rt],w instanceof nf||w instanceof af||w instanceof sf||w instanceof lf||uf&&w instanceof uf?ot.texImage2D(ot.TEXTURE_2D,0,this.format,this.format,ot.UNSIGNED_BYTE,w):ot.texImage2D(ot.TEXTURE_2D,0,this.format,tt,rt,0,this.format,ot.UNSIGNED_BYTE,w.data);else{var at=et||{x:0,y:0},st=at.x,ct=at.y;w instanceof nf||w instanceof af||w instanceof sf||w instanceof lf||uf&&w instanceof uf?ot.texSubImage2D(ot.TEXTURE_2D,0,st,ct,ot.RGBA,ot.UNSIGNED_BYTE,w):ot.texSubImage2D(ot.TEXTURE_2D,0,st,ct,tt,rt,ot.RGBA,ot.UNSIGNED_BYTE,w.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ot.generateMipmap(ot.TEXTURE_2D)},Ml.prototype.bind=function(w,Ne,et){var tt=this.context.gl;tt.bindTexture(tt.TEXTURE_2D,this.texture),et!==tt.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(et=tt.LINEAR),w!==this.filter&&(tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,w),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,et||w),this.filter=w),Ne!==this.wrap&&(tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,Ne),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,Ne),this.wrap=Ne)},Ml.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ml.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var El=function(w){var Ne=this;this._callback=w,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){Ne._triggered=!1,Ne._callback()})};El.prototype.trigger=function(){var w=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){w._triggered=!1,w._callback()}),0))},El.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Tl=function(w,Ne,et){this.target=w,this.parent=Ne,this.mapId=et,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new El(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?w:tt};function Pl(w,Ne,et){var tt=2*Math.PI*6378137/256/Math.pow(2,et);return[w*tt-2*Math.PI*6378137/2,Ne*tt-2*Math.PI*6378137/2]}Tl.prototype.send=function(w,Ne,et,tt,rt){var nt=this;void 0===rt&&(rt=!1);var it=Math.round(1e18*Math.random()).toString(36).substring(0,10);et&&(this.callbacks[it]=et);var ot=C(this.globalScope)?void 0:[];return this.target.postMessage({id:it,type:w,hasCallback:!!et,targetMapId:tt,mustQueue:rt,sourceMapId:this.mapId,data:Un(Ne,ot)},ot),{cancel:function(){et&&delete nt.callbacks[it],nt.target.postMessage({id:it,type:"<cancel>",targetMapId:tt,sourceMapId:nt.mapId})}}},Tl.prototype.receive=function(w){var Ne=w.data,et=Ne.id;if(et&&(!Ne.targetMapId||this.mapId===Ne.targetMapId))if("<cancel>"===Ne.type){delete this.tasks[et];var tt=this.cancelCallbacks[et];delete this.cancelCallbacks[et],tt&&tt()}else k()||Ne.mustQueue?(this.tasks[et]=Ne,this.taskQueue.push(et),this.invoker.trigger()):this.processTask(et,Ne)},Tl.prototype.process=function(){if(this.taskQueue.length){var w=this.taskQueue.shift(),Ne=this.tasks[w];delete this.tasks[w],this.taskQueue.length&&this.invoker.trigger(),Ne&&this.processTask(w,Ne)}},Tl.prototype.processTask=function(w,Ne){var et=this;if("<response>"===Ne.type){var tt=this.callbacks[w];delete this.callbacks[w],tt&&(Ne.error?tt(jn(Ne.error)):tt(null,jn(Ne.data)))}else{var rt=!1,nt=C(this.globalScope)?void 0:[],it=Ne.hasCallback?function(Ne,tt){rt=!0,delete et.cancelCallbacks[w],et.target.postMessage({id:w,type:"<response>",sourceMapId:et.mapId,error:Ne?Un(Ne):null,data:Un(tt,nt)},nt)}:function(w){rt=!0},ot=null,at=jn(Ne.data);if(this.parent[Ne.type])ot=this.parent[Ne.type](Ne.sourceMapId,at,it);else if(this.parent.getWorkerSource){var st=Ne.type.split(".");ot=this.parent.getWorkerSource(Ne.sourceMapId,st[0],at.source)[st[1]](at,it)}else it(new Error("Could not find function "+Ne.type));!rt&&ot&&ot.cancel&&(this.cancelCallbacks[w]=ot.cancel)}},Tl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Bl=function(w,Ne){w&&(Ne?this.setSouthWest(w).setNorthEast(Ne):4===w.length?this.setSouthWest([w[0],w[1]]).setNorthEast([w[2],w[3]]):this.setSouthWest(w[0]).setNorthEast(w[1]))};Bl.prototype.setNorthEast=function(w){return this._ne=w instanceof Vl?new Vl(w.lng,w.lat):Vl.convert(w),this},Bl.prototype.setSouthWest=function(w){return this._sw=w instanceof Vl?new Vl(w.lng,w.lat):Vl.convert(w),this},Bl.prototype.extend=function(w){var Ne,et,tt=this._sw,rt=this._ne;if(w instanceof Vl)Ne=w,et=w;else{if(!(w instanceof Bl))return Array.isArray(w)?4===w.length||w.every(Array.isArray)?this.extend(Bl.convert(w)):this.extend(Vl.convert(w)):this;if(et=w._ne,!(Ne=w._sw)||!et)return this}return tt||rt?(tt.lng=Math.min(Ne.lng,tt.lng),tt.lat=Math.min(Ne.lat,tt.lat),rt.lng=Math.max(et.lng,rt.lng),rt.lat=Math.max(et.lat,rt.lat)):(this._sw=new Vl(Ne.lng,Ne.lat),this._ne=new Vl(et.lng,et.lat)),this},Bl.prototype.getCenter=function(){return new Vl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Bl.prototype.getSouthWest=function(){return this._sw},Bl.prototype.getNorthEast=function(){return this._ne},Bl.prototype.getNorthWest=function(){return new Vl(this.getWest(),this.getNorth())},Bl.prototype.getSouthEast=function(){return new Vl(this.getEast(),this.getSouth())},Bl.prototype.getWest=function(){return this._sw.lng},Bl.prototype.getSouth=function(){return this._sw.lat},Bl.prototype.getEast=function(){return this._ne.lng},Bl.prototype.getNorth=function(){return this._ne.lat},Bl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Bl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Bl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Bl.prototype.contains=function(w){var Ne=Vl.convert(w),et=Ne.lng,tt=Ne.lat,rt=this._sw.lng<=et&&et<=this._ne.lng;return this._sw.lng>this._ne.lng&&(rt=this._sw.lng>=et&&et>=this._ne.lng),this._sw.lat<=tt&&tt<=this._ne.lat&&rt},Bl.convert=function(w){return!w||w instanceof Bl?w:new Bl(w)};var Vl=function(w,Ne){if(isNaN(w)||isNaN(Ne))throw new Error("Invalid LngLat object: ("+w+", "+Ne+")");if(this.lng=+w,this.lat=+Ne,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Vl.prototype.wrap=function(){return new Vl(p(this.lng,-180,180),this.lat)},Vl.prototype.toArray=function(){return[this.lng,this.lat]},Vl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Vl.prototype.distanceTo=function(w){var Ne=Math.PI/180,et=this.lat*Ne,tt=w.lat*Ne,rt=Math.sin(et)*Math.sin(tt)+Math.cos(et)*Math.cos(tt)*Math.cos((w.lng-this.lng)*Ne);return 6371008.8*Math.acos(Math.min(rt,1))},Vl.prototype.toBounds=function(w){void 0===w&&(w=0);var Ne=360*w/40075017,et=Ne/Math.cos(Math.PI/180*this.lat);return new Bl(new Vl(this.lng-et,this.lat-Ne),new Vl(this.lng+et,this.lat+Ne))},Vl.convert=function(w){if(w instanceof Vl)return w;if(Array.isArray(w)&&(2===w.length||3===w.length))return new Vl(Number(w[0]),Number(w[1]));if(!Array.isArray(w)&&"object"==typeof w&&null!==w)return new Vl(Number("lng"in w?w.lng:w.lon),Number(w.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var cf=2*Math.PI*6371008.8;function Dl(w){return cf*Math.cos(w*Math.PI/180)}function Ll(w){return(180+w)/360}function Rl(w){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+w*Math.PI/360)))/360}function Ol(w,Ne){return w/Dl(Ne)}function Ul(w){return 360/Math.PI*Math.atan(Math.exp((180-360*w)*Math.PI/180))-90}var jl=function(w,Ne,et){void 0===et&&(et=0),this.x=+w,this.y=+Ne,this.z=+et};jl.fromLngLat=function(w,Ne){void 0===Ne&&(Ne=0);var et=Vl.convert(w);return new jl(Ll(et.lng),Rl(et.lat),Ol(Ne,et.lat))},jl.prototype.toLngLat=function(){return new Vl(360*this.x-180,Ul(this.y))},jl.prototype.toAltitude=function(){return this.z*Dl(Ul(this.y))},jl.prototype.meterInMercatorCoordinateUnits=function(){return 1/cf*(w=Ul(this.y),1/Math.cos(w*Math.PI/180));var w};var ql=function(w,Ne,et){this.z=w,this.x=Ne,this.y=et,this.key=Gl(0,w,w,Ne,et)};ql.prototype.equals=function(w){return this.z===w.z&&this.x===w.x&&this.y===w.y},ql.prototype.url=function(w,Ne){var et,tt,rt,nt,it,ot=(tt=this.y,rt=this.z,nt=Pl(256*(et=this.x),256*(tt=Math.pow(2,rt)-tt-1),rt),it=Pl(256*(et+1),256*(tt+1),rt),nt[0]+","+nt[1]+","+it[0]+","+it[1]),at=function(w,Ne,et){for(var tt,rt="",nt=w;nt>0;nt--)rt+=(Ne&(tt=1<<nt-1)?1:0)+(et&tt?2:0);return rt}(this.z,this.x,this.y);return w[(this.x+this.y)%w.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===Ne?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",at).replace("{bbox-epsg-3857}",ot)},ql.prototype.getTilePoint=function(w){var Ne=Math.pow(2,this.z);return new et(8192*(w.x*Ne-this.x),8192*(w.y*Ne-this.y))},ql.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Nl=function(w,Ne){this.wrap=w,this.canonical=Ne,this.key=Gl(w,Ne.z,Ne.z,Ne.x,Ne.y)},Kl=function(w,Ne,et,tt,rt){this.overscaledZ=w,this.wrap=Ne,this.canonical=new ql(et,+tt,+rt),this.key=Gl(Ne,w,et,tt,rt)};function Gl(w,Ne,et,tt,rt){(w*=2)<0&&(w=-1*w-1);var nt=1<<et;return(nt*nt*w+nt*rt+tt).toString(36)+et.toString(36)+Ne.toString(36)}Kl.prototype.equals=function(w){return this.overscaledZ===w.overscaledZ&&this.wrap===w.wrap&&this.canonical.equals(w.canonical)},Kl.prototype.scaledTo=function(w){var Ne=this.canonical.z-w;return w>this.canonical.z?new Kl(w,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Kl(w,this.wrap,w,this.canonical.x>>Ne,this.canonical.y>>Ne)},Kl.prototype.calculateScaledKey=function(w,Ne){var et=this.canonical.z-w;return w>this.canonical.z?Gl(this.wrap*+Ne,w,this.canonical.z,this.canonical.x,this.canonical.y):Gl(this.wrap*+Ne,w,w,this.canonical.x>>et,this.canonical.y>>et)},Kl.prototype.isChildOf=function(w){if(w.wrap!==this.wrap)return!1;var Ne=this.canonical.z-w.canonical.z;return 0===w.overscaledZ||w.overscaledZ<this.overscaledZ&&w.canonical.x===this.canonical.x>>Ne&&w.canonical.y===this.canonical.y>>Ne},Kl.prototype.children=function(w){if(this.overscaledZ>=w)return[new Kl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var Ne=this.canonical.z+1,et=2*this.canonical.x,tt=2*this.canonical.y;return[new Kl(Ne,this.wrap,Ne,et,tt),new Kl(Ne,this.wrap,Ne,et+1,tt),new Kl(Ne,this.wrap,Ne,et,tt+1),new Kl(Ne,this.wrap,Ne,et+1,tt+1)]},Kl.prototype.isLessThan=function(w){return this.wrap<w.wrap||!(this.wrap>w.wrap)&&(this.overscaledZ<w.overscaledZ||!(this.overscaledZ>w.overscaledZ)&&(this.canonical.x<w.canonical.x||!(this.canonical.x>w.canonical.x)&&this.canonical.y<w.canonical.y))},Kl.prototype.wrapped=function(){return new Kl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.unwrapTo=function(w){return new Kl(this.overscaledZ,w,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Kl.prototype.toUnwrapped=function(){return new Nl(this.wrap,this.canonical)},Kl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Kl.prototype.getTilePoint=function(w){return this.canonical.getTilePoint(new jl(w.x-this.wrap,w.y))},Dn("CanonicalTileID",ql),Dn("OverscaledTileID",Kl,{omit:["posMatrix"]});var Zl=function(w,Ne,et){if(this.uid=w,Ne.height!==Ne.width)throw new RangeError("DEM tiles must be square");if(et&&"mapbox"!==et&&"terrarium"!==et)return _('"'+et+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=Ne.height;var tt=this.dim=Ne.height-2;this.data=new Uint32Array(Ne.data.buffer),this.encoding=et||"mapbox";for(var rt=0;rt<tt;rt++)this.data[this._idx(-1,rt)]=this.data[this._idx(0,rt)],this.data[this._idx(tt,rt)]=this.data[this._idx(tt-1,rt)],this.data[this._idx(rt,-1)]=this.data[this._idx(rt,0)],this.data[this._idx(rt,tt)]=this.data[this._idx(rt,tt-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(tt,-1)]=this.data[this._idx(tt-1,0)],this.data[this._idx(-1,tt)]=this.data[this._idx(0,tt-1)],this.data[this._idx(tt,tt)]=this.data[this._idx(tt-1,tt-1)]};Zl.prototype.get=function(w,Ne){var et=new Uint8Array(this.data.buffer),tt=4*this._idx(w,Ne);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(et[tt],et[tt+1],et[tt+2])},Zl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Zl.prototype._idx=function(w,Ne){if(w<-1||w>=this.dim+1||Ne<-1||Ne>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(Ne+1)*this.stride+(w+1)},Zl.prototype._unpackMapbox=function(w,Ne,et){return(256*w*256+256*Ne+et)/10-1e4},Zl.prototype._unpackTerrarium=function(w,Ne,et){return 256*w+Ne+et/256-32768},Zl.prototype.getPixels=function(){return new mo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Zl.prototype.backfillBorder=function(w,Ne,et){if(this.dim!==w.dim)throw new Error("dem dimension mismatch");var tt=Ne*this.dim,rt=Ne*this.dim+this.dim,nt=et*this.dim,it=et*this.dim+this.dim;switch(Ne){case-1:tt=rt-1;break;case 1:rt=tt+1}switch(et){case-1:nt=it-1;break;case 1:it=nt+1}for(var ot=-Ne*this.dim,at=-et*this.dim,st=nt;st<it;st++)for(var ct=tt;ct<rt;ct++)this.data[this._idx(ct,st)]=w.data[this._idx(ct+ot,st+at)]},Dn("DEMData",Zl);var Xl=function(w){this._stringToNumber={},this._numberToString=[];for(var Ne=0;Ne<w.length;Ne++){var et=w[Ne];this._stringToNumber[et]=Ne,this._numberToString[Ne]=et}};Xl.prototype.encode=function(w){return this._stringToNumber[w]},Xl.prototype.decode=function(w){return this._numberToString[w]};var Jl=function(w,Ne,et,tt,rt){this.type="Feature",this._vectorTileFeature=w,w._z=Ne,w._x=et,w._y=tt,this.properties=w.properties,this.id=rt},pf={geometry:{configurable:!0}};pf.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},pf.geometry.set=function(w){this._geometry=w},Jl.prototype.toJSON=function(){var w={geometry:this.geometry};for(var Ne in this)"_geometry"!==Ne&&"_vectorTileFeature"!==Ne&&(w[Ne]=this[Ne]);return w},Object.defineProperties(Jl.prototype,pf);var Yl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Yl.prototype.updateState=function(w,Ne,et){var tt=String(Ne);if(this.stateChanges[w]=this.stateChanges[w]||{},this.stateChanges[w][tt]=this.stateChanges[w][tt]||{},c(this.stateChanges[w][tt],et),null===this.deletedStates[w])for(var rt in this.deletedStates[w]={},this.state[w])rt!==tt&&(this.deletedStates[w][rt]=null);else if(this.deletedStates[w]&&null===this.deletedStates[w][tt])for(var nt in this.deletedStates[w][tt]={},this.state[w][tt])et[nt]||(this.deletedStates[w][tt][nt]=null);else for(var it in et)this.deletedStates[w]&&this.deletedStates[w][tt]&&null===this.deletedStates[w][tt][it]&&delete this.deletedStates[w][tt][it]},Yl.prototype.removeFeatureState=function(w,Ne,et){if(null!==this.deletedStates[w]){var tt=String(Ne);if(this.deletedStates[w]=this.deletedStates[w]||{},et&&void 0!==Ne)null!==this.deletedStates[w][tt]&&(this.deletedStates[w][tt]=this.deletedStates[w][tt]||{},this.deletedStates[w][tt][et]=null);else if(void 0!==Ne)if(this.stateChanges[w]&&this.stateChanges[w][tt])for(et in this.deletedStates[w][tt]={},this.stateChanges[w][tt])this.deletedStates[w][tt][et]=null;else this.deletedStates[w][tt]=null;else this.deletedStates[w]=null}},Yl.prototype.getState=function(w,Ne){var et=String(Ne),tt=c({},(this.state[w]||{})[et],(this.stateChanges[w]||{})[et]);if(null===this.deletedStates[w])return{};if(this.deletedStates[w]){var rt=this.deletedStates[w][Ne];if(null===rt)return{};for(var nt in rt)delete tt[nt]}return tt},Yl.prototype.initializeTileState=function(w,Ne){w.setFeatureState(this.state,Ne)},Yl.prototype.coalesceChanges=function(w,Ne){var et={};for(var tt in this.stateChanges){this.state[tt]=this.state[tt]||{};var rt={};for(var nt in this.stateChanges[tt])this.state[tt][nt]||(this.state[tt][nt]={}),c(this.state[tt][nt],this.stateChanges[tt][nt]),rt[nt]=this.state[tt][nt];et[tt]=rt}for(var it in this.deletedStates){this.state[it]=this.state[it]||{};var ot={};if(null===this.deletedStates[it])for(var at in this.state[it])ot[at]={},this.state[it][at]={};else for(var st in this.deletedStates[it]){if(null===this.deletedStates[it][st])this.state[it][st]={};else for(var ct=0,pt=Object.keys(this.deletedStates[it][st]);ct<pt.length;ct+=1)delete this.state[it][st][pt[ct]];ot[st]=this.state[it][st]}et[it]=et[it]||{},c(et[it],ot)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(et).length)for(var ft in w)w[ft].setFeatureState(et,Ne)};var $l=function(w,Ne){this.tileID=w,this.x=w.canonical.x,this.y=w.canonical.y,this.z=w.canonical.z,this.grid=new Ns(8192,16,0),this.grid3D=new Ns(8192,16,0),this.featureIndexArray=new Fc,this.promoteId=Ne};function Wl(w,Ne,et,tt,rt){return g(w,(function(w,nt){var it=Ne instanceof fi?Ne.get(nt):null;return it&&it.evaluate?it.evaluate(et,tt,rt):it}))}function Ql(w){for(var Ne=1/0,et=1/0,tt=-1/0,rt=-1/0,nt=0,it=w;nt<it.length;nt+=1){var ot=it[nt];Ne=Math.min(Ne,ot.x),et=Math.min(et,ot.y),tt=Math.max(tt,ot.x),rt=Math.max(rt,ot.y)}return{minX:Ne,minY:et,maxX:tt,maxY:rt}}function tp(w,Ne){return Ne-w}$l.prototype.insert=function(w,Ne,et,tt,rt,nt){var it=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(et,tt,rt);for(var ot=nt?this.grid3D:this.grid,at=0;at<Ne.length;at++){for(var st=Ne[at],ct=[1/0,1/0,-1/0,-1/0],pt=0;pt<st.length;pt++){var ft=st[pt];ct[0]=Math.min(ct[0],ft.x),ct[1]=Math.min(ct[1],ft.y),ct[2]=Math.max(ct[2],ft.x),ct[3]=Math.max(ct[3],ft.y)}ct[0]<8192&&ct[1]<8192&&ct[2]>=0&&ct[3]>=0&&ot.insert(it,ct[0],ct[1],ct[2],ct[3])}},$l.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Lp.VectorTile(new Jp(this.rawTileData)).layers,this.sourceLayerCoder=new Xl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},$l.prototype.query=function(w,Ne,tt,rt){var nt=this;this.loadVTLayers();for(var it=w.params||{},ot=8192/w.tileSize/w.scale,at=nn(it.filter),st=w.queryGeometry,ct=w.queryPadding*ot,pt=Ql(st),ft=this.grid.query(pt.minX-ct,pt.minY-ct,pt.maxX+ct,pt.maxY+ct),dt=Ql(w.cameraQueryGeometry),mt=0,yt=this.grid3D.query(dt.minX-ct,dt.minY-ct,dt.maxX+ct,dt.maxY+ct,(function(Ne,tt,rt,nt){return function(w,Ne,tt,rt,nt){for(var it=0,ot=w;it<ot.length;it+=1){var at=ot[it];if(Ne<=at.x&&tt<=at.y&&rt>=at.x&&nt>=at.y)return!0}var st=[new et(Ne,tt),new et(Ne,nt),new et(rt,nt),new et(rt,tt)];if(w.length>2)for(var ct=0,pt=st;ct<pt.length;ct+=1)if(Ha(w,pt[ct]))return!0;for(var ft=0;ft<w.length-1;ft++)if(Ya(w[ft],w[ft+1],st))return!0;return!1}(w.cameraQueryGeometry,Ne-ct,tt-ct,rt+ct,nt+ct)}));mt<yt.length;mt+=1)ft.push(yt[mt]);ft.sort(tp);for(var vt,Rt={},x=function(et){var ct=ft[et];if(ct!==vt){vt=ct;var pt=nt.featureIndexArray.get(ct),dt=null;nt.loadMatchingFeature(Rt,pt.bucketIndex,pt.sourceLayerIndex,pt.featureIndex,at,it.layers,it.availableImages,Ne,tt,rt,(function(Ne,et,tt){return dt||(dt=La(Ne)),et.queryIntersectsFeature(st,Ne,tt,dt,nt.z,w.transform,ot,w.pixelPosMatrix)}))}},Ot=0;Ot<ft.length;Ot++)x(Ot);return Rt},$l.prototype.loadMatchingFeature=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct){var pt=this.bucketLayerIDs[Ne];if(!nt||function(w,Ne){for(var et=0;et<w.length;et++)if(Ne.indexOf(w[et])>=0)return!0;return!1}(nt,pt)){var ft=this.sourceLayerCoder.decode(et),dt=this.vtLayers[ft].feature(tt);if(rt.filter(new ai(this.tileID.overscaledZ),dt))for(var mt=this.getId(dt,ft),yt=0;yt<pt.length;yt++){var vt=pt[yt];if(!(nt&&nt.indexOf(vt)<0)){var Rt=ot[vt];if(Rt){var Ot={};void 0!==mt&&st&&(Ot=st.getState(Rt.sourceLayer||"_geojsonTileLayer",mt));var Dt=at[vt];Dt.paint=Wl(Dt.paint,Rt.paint,dt,Ot,it),Dt.layout=Wl(Dt.layout,Rt.layout,dt,Ot,it);var Bt=!ct||ct(dt,Rt,Ot);if(Bt){var er=new Jl(dt,this.z,this.x,this.y,mt);er.layer=Dt;var rr=w[vt];void 0===rr&&(rr=w[vt]=[]),rr.push({featureIndex:tt,feature:er,intersectionZ:Bt})}}}}}},$l.prototype.lookupSymbolFeatures=function(w,Ne,et,tt,rt,nt,it,ot){var at={};this.loadVTLayers();for(var st=nn(rt),ct=0,pt=w;ct<pt.length;ct+=1)this.loadMatchingFeature(at,et,tt,pt[ct],st,nt,it,ot,Ne);return at},$l.prototype.hasLayer=function(w){for(var Ne=0,et=this.bucketLayerIDs;Ne<et.length;Ne+=1)for(var tt=0,rt=et[Ne];tt<rt.length;tt+=1)if(w===rt[tt])return!0;return!1},$l.prototype.getId=function(w,Ne){var et=w.id;return this.promoteId&&"boolean"==typeof(et=w.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[Ne]])&&(et=Number(et)),et},Dn("FeatureIndex",$l,{omit:["rawTileData","sourceLayerCoder"]});var ep=function(w,Ne){this.tileID=w,this.uid=f(),this.uses=0,this.tileSize=Ne,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ep.prototype.registerFadeDuration=function(w){var Ne=w+this.timeAdded;Ne<yt.now()||this.fadeEndTime&&Ne<this.fadeEndTime||(this.fadeEndTime=Ne)},ep.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ep.prototype.loadVectorData=function(w,Ne,et){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",w){for(var tt in w.featureIndex&&(this.latestFeatureIndex=w.featureIndex,w.rawTileData?(this.latestRawTileData=w.rawTileData,this.latestFeatureIndex.rawTileData=w.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=w.collisionBoxArray,this.buckets=function(w,Ne){var et={};if(!Ne)return et;for(var n=function(){var w=rt[tt],nt=w.layerIds.map((function(w){return Ne.getLayer(w)})).filter(Boolean);if(0!==nt.length){w.layers=nt,w.stateDependentLayerIds&&(w.stateDependentLayers=w.stateDependentLayerIds.map((function(w){return nt.filter((function(Ne){return Ne.id===w}))[0]})));for(var it=0,ot=nt;it<ot.length;it+=1)et[ot[it].id]=w}},tt=0,rt=w;tt<rt.length;tt+=1)n();return et}(w.buckets,Ne.style),this.hasSymbolBuckets=!1,this.buckets){var rt=this.buckets[tt];if(rt instanceof fl){if(this.hasSymbolBuckets=!0,!et)break;rt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var nt in this.buckets){var it=this.buckets[nt];if(it instanceof fl&&it.hasRTLText){this.hasRTLText=!0,gl.isLoading()||gl.isLoaded()||"deferred"!==ri()||ni();break}}for(var ot in this.queryPadding=0,this.buckets){var at=this.buckets[ot];this.queryPadding=Math.max(this.queryPadding,Ne.style.getLayer(ot).queryRadius(at))}w.imageAtlas&&(this.imageAtlas=w.imageAtlas),w.glyphAtlasImage&&(this.glyphAtlasImage=w.glyphAtlasImage)}else this.collisionBoxArray=new wc},ep.prototype.unloadVectorData=function(){for(var w in this.buckets)this.buckets[w].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ep.prototype.getBucket=function(w){return this.buckets[w.id]},ep.prototype.upload=function(w){for(var Ne in this.buckets){var et=this.buckets[Ne];et.uploadPending()&&et.upload(w)}var tt=w.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ml(w,this.imageAtlas.image,tt.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ml(w,this.glyphAtlasImage,tt.ALPHA),this.glyphAtlasImage=null)},ep.prototype.prepare=function(w){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(w,this.imageAtlasTexture)},ep.prototype.queryRenderedFeatures=function(w,Ne,et,tt,rt,nt,it,ot,at,st){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:tt,cameraQueryGeometry:rt,scale:nt,tileSize:this.tileSize,pixelPosMatrix:st,transform:ot,params:it,queryPadding:this.queryPadding*at},w,Ne,et):{}},ep.prototype.querySourceFeatures=function(w,Ne){var et=this.latestFeatureIndex;if(et&&et.rawTileData){var tt=et.loadVTLayers(),rt=Ne?Ne.sourceLayer:"",nt=tt._geojsonTileLayer||tt[rt];if(nt)for(var it=nn(Ne&&Ne.filter),ot=this.tileID.canonical,at=ot.z,st=ot.x,ct=ot.y,pt={z:at,x:st,y:ct},ft=0;ft<nt.length;ft++){var dt=nt.feature(ft);if(it.filter(new ai(this.tileID.overscaledZ),dt)){var mt=et.getId(dt,rt),yt=new Jl(dt,at,st,ct,mt);yt.tile=pt,w.push(yt)}}}},ep.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ep.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ep.prototype.setExpiryData=function(w){var Ne=this.expirationTime;if(w.cacheControl){var et=I(w.cacheControl);et["max-age"]&&(this.expirationTime=Date.now()+1e3*et["max-age"])}else w.expires&&(this.expirationTime=new Date(w.expires).getTime());if(this.expirationTime){var tt=Date.now(),rt=!1;if(this.expirationTime>tt)rt=!1;else if(Ne)if(this.expirationTime<Ne)rt=!0;else{var nt=this.expirationTime-Ne;nt?this.expirationTime=tt+Math.max(nt,3e4):rt=!0}else rt=!0;rt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ep.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ep.prototype.setFeatureState=function(w,Ne){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(w).length){var et=this.latestFeatureIndex.loadVTLayers();for(var tt in this.buckets)if(Ne.style.hasLayer(tt)){var rt=this.buckets[tt],nt=rt.layers[0].sourceLayer||"_geojsonTileLayer",it=et[nt],ot=w[nt];if(it&&ot&&0!==Object.keys(ot).length){rt.update(ot,it,this.imageAtlas&&this.imageAtlas.patternPositions||{});var at=Ne&&Ne.style&&Ne.style.getLayer(tt);at&&(this.queryPadding=Math.max(this.queryPadding,at.queryRadius(rt)))}}}},ep.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ep.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<yt.now()},ep.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ep.prototype.setHoldDuration=function(w){this.symbolFadeHoldUntil=yt.now()+w},ep.prototype.setDependencies=function(w,Ne){for(var et={},tt=0,rt=Ne;tt<rt.length;tt+=1)et[rt[tt]]=!0;this.dependencies[w]=et},ep.prototype.hasDependency=function(w,Ne){for(var et=0,tt=w;et<tt.length;et+=1){var rt=this.dependencies[tt[et]];if(rt)for(var nt=0,it=Ne;nt<it.length;nt+=1)if(rt[it[nt]])return!0}return!1};var hf=tt.performance,np=function(w){this._marks={start:[w.url,"start"].join("#"),end:[w.url,"end"].join("#"),measure:w.url.toString()},hf.mark(this._marks.start)};np.prototype.finish=function(){hf.mark(this._marks.end);var w=hf.getEntriesByName(this._marks.measure);return 0===w.length&&(hf.measure(this._marks.measure,this._marks.start,this._marks.end),w=hf.getEntriesByName(this._marks.measure),hf.clearMarks(this._marks.start),hf.clearMarks(this._marks.end),hf.clearMeasures(this._marks.measure)),w},w.Actor=Tl,w.AlphaImage=yo,w.CanonicalTileID=ql,w.CollisionBoxArray=wc,w.Color=Wt,w.DEMData=Zl,w.DataConstantProperty=yi,w.DictionaryCoder=Xl,w.EXTENT=8192,w.ErrorEvent=Wn,w.EvaluationParameters=ai,w.Event=St,w.Evented=It,w.FeatureIndex=$l,w.FillBucket=is,w.FillExtrusionBucket=ws,w.ImageAtlas=mu,w.ImagePosition=yu,w.LineBucket=Ts,w.LngLat=Vl,w.LngLatBounds=Bl,w.MercatorCoordinate=jl,w.ONE_EM=24,w.OverscaledTileID=Kl,w.Point=et,w.Point$1=et,w.Properties=xi,w.Protobuf=Jp,w.RGBAImage=mo,w.RequestManager=K,w.RequestPerformance=np,w.ResourceType=Ln,w.SegmentVector=aa,w.SourceFeatureState=Yl,w.StructArrayLayout1ui2=yc,w.StructArrayLayout2f1f2i16=Hl,w.StructArrayLayout2i4=bl,w.StructArrayLayout3ui6=vu,w.StructArrayLayout4i8=xl,w.SymbolBucket=fl,w.Texture=Ml,w.Tile=ep,w.Transitionable=ui,w.Uniform1f=rp,w.Uniform1i=Yc,w.Uniform2f=ip,w.Uniform3f=op,w.Uniform4f=ap,w.UniformColor=sp,w.UniformMatrix4f=cp,w.UnwrappedTileID=Nl,w.ValidationError=Ct,w.WritingMode=ah,w.ZoomHistory=qn,w.add=function(w,Ne,et){return w[0]=Ne[0]+et[0],w[1]=Ne[1]+et[1],w[2]=Ne[2]+et[2],w},w.addDynamicAttributes=ll,w.asyncAll=function(w,Ne,et){if(!w.length)return et(null,[]);var tt=w.length,rt=new Array(w.length),nt=null;w.forEach((function(w,it){Ne(w,(function(w,Ne){w&&(nt=w),rt[it]=Ne,0==--tt&&et(nt,rt)}))}))},w.bezier=s,w.bindAll=m,w.browser=yt,w.cacheEntryPossiblyAdded=function(w){++Mn>In&&(w.getActor().send("enforceCacheSizeLimit",Cn),Mn=0)},w.clamp=l,w.clearTileCache=function(w){var Ne=tt.caches.delete("mapbox-tiles");w&&Ne.catch(w).then((function(){return w()}))},w.clipLine=qu,w.clone=function(w){var Ne=new mp(16);return Ne[0]=w[0],Ne[1]=w[1],Ne[2]=w[2],Ne[3]=w[3],Ne[4]=w[4],Ne[5]=w[5],Ne[6]=w[6],Ne[7]=w[7],Ne[8]=w[8],Ne[9]=w[9],Ne[10]=w[10],Ne[11]=w[11],Ne[12]=w[12],Ne[13]=w[13],Ne[14]=w[14],Ne[15]=w[15],Ne},w.clone$1=b,w.clone$2=function(w){var Ne=new mp(3);return Ne[0]=w[0],Ne[1]=w[1],Ne[2]=w[2],Ne},w.collisionCircleLayout=Kp,w.config=vt,w.create=function(){var w=new mp(16);return mp!=Float32Array&&(w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=0,w[12]=0,w[13]=0,w[14]=0),w[0]=1,w[5]=1,w[10]=1,w[15]=1,w},w.create$1=function(){var w=new mp(9);return mp!=Float32Array&&(w[1]=0,w[2]=0,w[3]=0,w[5]=0,w[6]=0,w[7]=0),w[0]=1,w[4]=1,w[8]=1,w},w.create$2=function(){var w=new mp(4);return mp!=Float32Array&&(w[1]=0,w[2]=0),w[0]=1,w[3]=1,w},w.createCommonjsModule=e,w.createExpression=Kr,w.createLayout=Si,w.createStyleLayer=function(w){return"custom"===w.type?new tf(w):new rf[w.type](w)},w.cross=function(w,Ne,et){var tt=Ne[0],rt=Ne[1],nt=Ne[2],it=et[0],ot=et[1],at=et[2];return w[0]=rt*at-nt*ot,w[1]=nt*it-tt*at,w[2]=tt*ot-rt*it,w},w.deepEqual=function t(w,Ne){if(Array.isArray(w)){if(!Array.isArray(Ne)||w.length!==Ne.length)return!1;for(var et=0;et<w.length;et++)if(!t(w[et],Ne[et]))return!1;return!0}if("object"==typeof w&&null!==w&&null!==Ne){if("object"!=typeof Ne)return!1;if(Object.keys(w).length!==Object.keys(Ne).length)return!1;for(var tt in w)if(!t(w[tt],Ne[tt]))return!1;return!0}return w===Ne},w.dot=function(w,Ne){return w[0]*Ne[0]+w[1]*Ne[1]+w[2]*Ne[2]},w.dot$1=function(w,Ne){return w[0]*Ne[0]+w[1]*Ne[1]+w[2]*Ne[2]+w[3]*Ne[3]},w.ease=rt,w.emitValidationErrors=En,w.endsWith=v,w.enforceCacheSizeLimit=function(w){ut(),vr&&vr.then((function(Ne){Ne.keys().then((function(et){for(var tt=0;tt<et.length-w;tt++)Ne.delete(et[tt])}))}))},w.evaluateSizeForFeature=Bu,w.evaluateSizeForZoom=Vu,w.evaluateVariableOffset=el,w.evented=dl,w.extend=c,w.featureFilter=nn,w.filterObject=x,w.fromRotation=function(w,Ne){var et=Math.sin(Ne),tt=Math.cos(Ne);return w[0]=tt,w[1]=et,w[2]=0,w[3]=-et,w[4]=tt,w[5]=0,w[6]=0,w[7]=0,w[8]=1,w},w.getAnchorAlignment=Cu,w.getAnchorJustification=rl,w.getArrayBuffer=xt,w.getImage=wt,w.getJSON=function(w,Ne){return gt(c(w,{type:"json"}),Ne)},w.getRTLTextPluginStatus=ri,w.getReferrer=Vn,w.getVideo=function(w,Ne){var et,rt,nt=tt.document.createElement("video");nt.muted=!0,nt.onloadstart=function(){Ne(null,nt)};for(var it=0;it<w.length;it++){var ot=tt.document.createElement("source");et=w[it],rt=void 0,(rt=tt.document.createElement("a")).href=et,(rt.protocol!==tt.document.location.protocol||rt.host!==tt.document.location.host)&&(nt.crossOrigin="Anonymous"),ot.src=w[it],nt.appendChild(ot)}return{cancel:function(){}}},w.identity=no,w.invert=function(w,Ne){var et=Ne[0],tt=Ne[1],rt=Ne[2],nt=Ne[3],it=Ne[4],ot=Ne[5],at=Ne[6],st=Ne[7],ct=Ne[8],pt=Ne[9],ft=Ne[10],dt=Ne[11],mt=Ne[12],yt=Ne[13],vt=Ne[14],Rt=Ne[15],Ot=et*ot-tt*it,Dt=et*at-rt*it,Bt=et*st-nt*it,er=tt*at-rt*ot,rr=tt*st-nt*ot,vr=rt*st-nt*at,wr=ct*yt-pt*mt,Sr=ct*vt-ft*mt,rn=ct*Rt-dt*mt,vn=pt*vt-ft*yt,bn=pt*Rt-dt*yt,Tn=ft*Rt-dt*vt,Cn=Ot*Tn-Dt*bn+Bt*vn+er*rn-rr*Sr+vr*wr;return Cn?(w[0]=(ot*Tn-at*bn+st*vn)*(Cn=1/Cn),w[1]=(rt*bn-tt*Tn-nt*vn)*Cn,w[2]=(yt*vr-vt*rr+Rt*er)*Cn,w[3]=(ft*rr-pt*vr-dt*er)*Cn,w[4]=(at*rn-it*Tn-st*Sr)*Cn,w[5]=(et*Tn-rt*rn+nt*Sr)*Cn,w[6]=(vt*Bt-mt*vr-Rt*Dt)*Cn,w[7]=(ct*vr-ft*Bt+dt*Dt)*Cn,w[8]=(it*bn-ot*rn+st*wr)*Cn,w[9]=(tt*rn-et*bn-nt*wr)*Cn,w[10]=(mt*rr-yt*Bt+Rt*Ot)*Cn,w[11]=(pt*Bt-ct*rr-dt*Ot)*Cn,w[12]=(ot*Sr-it*vn-at*wr)*Cn,w[13]=(et*vn-tt*Sr+rt*wr)*Cn,w[14]=(yt*Dt-mt*er-vt*Ot)*Cn,w[15]=(ct*er-pt*Dt+ft*Ot)*Cn,w):null},w.isChar=Js,w.isMapboxURL=G,w.keysDifference=function(w,Ne){var et=[];for(var tt in w)tt in Ne||et.push(tt);return et},w.makeRequest=gt,w.mapObject=g,w.mercatorXfromLng=Ll,w.mercatorYfromLat=Rl,w.mercatorZfromAltitude=Ol,w.mul=yp,w.multiply=io,w.mvt=Lp,w.normalize=function(w,Ne){var et=Ne[0],tt=Ne[1],rt=Ne[2],nt=et*et+tt*tt+rt*rt;return nt>0&&(nt=1/Math.sqrt(nt)),w[0]=Ne[0]*nt,w[1]=Ne[1]*nt,w[2]=Ne[2]*nt,w},w.number=qe,w.offscreenCanvasSupported=ht,w.ortho=function(w,Ne,et,tt,rt,nt,it){var ot=1/(Ne-et),at=1/(tt-rt),st=1/(nt-it);return w[0]=-2*ot,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=-2*at,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=2*st,w[11]=0,w[12]=(Ne+et)*ot,w[13]=(rt+tt)*at,w[14]=(it+nt)*st,w[15]=1,w},w.parseGlyphPBF=function(w){return new Jp(w).readFields(pu,[])},w.pbf=Jp,w.performSymbolLayout=function(w,Ne,et,tt,rt,nt,it){w.createArrays(),w.tilePixelRatio=8192/(512*w.overscaling),w.compareText={},w.iconsNeedLinear=!1;var ot=w.layers[0].layout,at=w.layers[0]._unevaluatedLayout._values,st={};if("composite"===w.textSizeData.kind){var ct=w.textSizeData,pt=ct.maxZoom;st.compositeTextSizes=[at["text-size"].possiblyEvaluate(new ai(ct.minZoom),it),at["text-size"].possiblyEvaluate(new ai(pt),it)]}if("composite"===w.iconSizeData.kind){var ft=w.iconSizeData,dt=ft.maxZoom;st.compositeIconSizes=[at["icon-size"].possiblyEvaluate(new ai(ft.minZoom),it),at["icon-size"].possiblyEvaluate(new ai(dt),it)]}st.layoutTextSize=at["text-size"].possiblyEvaluate(new ai(w.zoom+1),it),st.layoutIconSize=at["icon-size"].possiblyEvaluate(new ai(w.zoom+1),it),st.textMaxSize=at["text-size"].possiblyEvaluate(new ai(18));for(var mt=24*ot.get("text-line-height"),yt="map"===ot.get("text-rotation-alignment")&&"point"!==ot.get("symbol-placement"),vt=ot.get("text-keep-upright"),Rt=ot.get("text-size"),g=function(){var nt=Dt[Ot],at=ot.get("text-font").evaluate(nt,{},it).join(","),ct=Rt.evaluate(nt,{},it),pt=st.layoutTextSize.evaluate(nt,{},it),ft=st.layoutIconSize.evaluate(nt,{},it),dt={horizontal:{},vertical:void 0},Bt=nt.text,er=[0,0];if(Bt){var rr=Bt.toString(),vr=24*ot.get("text-letter-spacing").evaluate(nt,{},it),wr=function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(tt=et[Ne].charCodeAt(0),Js.Arabic(tt)||Js["Arabic Supplement"](tt)||Js["Arabic Extended-A"](tt)||Js["Arabic Presentation Forms-A"](tt)||Js["Arabic Presentation Forms-B"](tt))return!1;var tt;return!0}(rr)?vr:0,Sr=ot.get("text-anchor").evaluate(nt,{},it),rn=ot.get("text-variable-anchor");if(!rn){var vn=ot.get("text-radial-offset").evaluate(nt,{},it);er=vn?el(Sr,[24*vn,_h]):ot.get("text-offset").evaluate(nt,{},it).map((function(w){return 24*w}))}var bn=yt?"center":ot.get("text-justify").evaluate(nt,{},it),Tn=ot.get("symbol-placement"),Cn="point"===Tn?24*ot.get("text-max-width").evaluate(nt,{},it):0,P=function(){w.allowVerticalPlacement&&Kn(rr)&&(dt.vertical=bu(Bt,Ne,et,rt,at,Cn,mt,Sr,"left",wr,er,ah.vertical,!0,Tn,pt,ct))};if(!yt&&rn){for(var In="auto"===bn?rn.map((function(w){return rl(w)})):[bn],zn=!1,Mn=0;Mn<In.length;Mn++){var Ln=In[Mn];if(!dt.horizontal[Ln])if(zn)dt.horizontal[Ln]=dt.horizontal[0];else{var Fn=bu(Bt,Ne,et,rt,at,Cn,mt,"center",Ln,wr,er,ah.horizontal,!1,Tn,pt,ct);Fn&&(dt.horizontal[Ln]=Fn,zn=1===Fn.positionedLines.length)}}P()}else{"auto"===bn&&(bn=rl(Sr));var Bn=bu(Bt,Ne,et,rt,at,Cn,mt,Sr,bn,wr,er,ah.horizontal,!1,Tn,pt,ct);Bn&&(dt.horizontal[bn]=Bn),P(),Kn(rr)&&yt&&vt&&(dt.vertical=bu(Bt,Ne,et,rt,at,Cn,mt,Sr,bn,wr,er,ah.vertical,!1,Tn,pt,ct))}}var Nn=void 0,Vn=!1;if(nt.icon&&nt.icon.name){var Wn=tt[nt.icon.name];Wn&&(Nn=function(w,Ne,et){var tt=Cu(et),rt=Ne[0]-w.displaySize[0]*tt.horizontalAlign,nt=Ne[1]-w.displaySize[1]*tt.verticalAlign;return{image:w,top:nt,bottom:nt+w.displaySize[1],left:rt,right:rt+w.displaySize[0]}}(rt[nt.icon.name],ot.get("icon-offset").evaluate(nt,{},it),ot.get("icon-anchor").evaluate(nt,{},it)),Vn=Wn.sdf,void 0===w.sdfIcons?w.sdfIcons=Wn.sdf:w.sdfIcons!==Wn.sdf&&_("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Wn.pixelRatio!==w.pixelRatio||0!==ot.get("icon-rotate").constantOr(1))&&(w.iconsNeedLinear=!0))}var $n=il(dt.horizontal)||dt.vertical;w.iconsInText=!!$n&&$n.iconsInText,($n||Nn)&&function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct){var pt=nt.textMaxSize.evaluate(Ne,{});void 0===pt&&(pt=it);var ft,dt=w.layers[0].layout,mt=dt.get("icon-offset").evaluate(Ne,{},ct),yt=il(et.horizontal),vt=it/24,Rt=w.tilePixelRatio*vt,Ot=w.tilePixelRatio*pt/24,Dt=w.tilePixelRatio*ot,Bt=w.tilePixelRatio*dt.get("symbol-spacing"),er=dt.get("text-padding")*w.tilePixelRatio,rr=dt.get("icon-padding")*w.tilePixelRatio,vr=dt.get("text-max-angle")/180*Math.PI,wr="map"===dt.get("text-rotation-alignment")&&"point"!==dt.get("symbol-placement"),Sr="map"===dt.get("icon-rotation-alignment")&&"point"!==dt.get("symbol-placement"),rn=dt.get("symbol-placement"),vn=Bt/2,bn=dt.get("icon-text-fit");tt&&"none"!==bn&&(w.allowVerticalPlacement&&et.vertical&&(ft=Eu(tt,et.vertical,bn,dt.get("icon-text-fit-padding"),mt,vt)),yt&&(tt=Eu(tt,yt,bn,dt.get("icon-text-fit-padding"),mt,vt)));var E=function(ot,pt){pt.x<0||pt.x>=8192||pt.y<0||pt.y>=8192||function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Ot,Dt,Bt,er,rr,vr,wr){var Sr,rn,vn,bn,Tn,Cn=w.addToLineVertexArray(Ne,et),In=0,zn=0,Mn=0,Ln=0,Fn=-1,Bn=-1,Nn={},Vn=Hc(""),Wn=0,$n=0;if(void 0===ot._unevaluatedLayout.getValue("text-radial-offset")?(Wn=(Sr=ot.layout.get("text-offset").evaluate(Bt,{},vr).map((function(w){return 24*w})))[0],$n=Sr[1]):(Wn=24*ot.layout.get("text-radial-offset").evaluate(Bt,{},vr),$n=_h),w.allowVerticalPlacement&&tt.vertical){var Yn=ot.layout.get("text-rotate").evaluate(Bt,{},vr)+90;bn=new Ju(at,Ne,st,ct,pt,tt.vertical,ft,dt,mt,Yn),it&&(Tn=new Ju(at,Ne,st,ct,pt,it,vt,Rt,mt,Yn))}if(rt){var ii=ot.layout.get("icon-rotate").evaluate(Bt,{}),qi="none"!==ot.layout.get("icon-text-fit"),uo=Nu(rt,ii,rr,qi),po=it?Nu(it,ii,rr,qi):void 0;vn=new Ju(at,Ne,st,ct,pt,rt,vt,Rt,!1,ii),In=4*uo.length;var vo=w.iconSizeData,So=null;"source"===vo.kind?(So=[128*ot.layout.get("icon-size").evaluate(Bt,{})])[0]>32640&&_(w.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===vo.kind&&((So=[128*er.compositeIconSizes[0].evaluate(Bt,{},vr),128*er.compositeIconSizes[1].evaluate(Bt,{},vr)])[0]>32640||So[1]>32640)&&_(w.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),w.addSymbols(w.icon,uo,So,Dt,Ot,Bt,!1,Ne,Cn.lineStartIndex,Cn.lineLength,-1,vr),Fn=w.icon.placedSymbolArray.length-1,po&&(zn=4*po.length,w.addSymbols(w.icon,po,So,Dt,Ot,Bt,ah.vertical,Ne,Cn.lineStartIndex,Cn.lineLength,-1,vr),Bn=w.icon.placedSymbolArray.length-1)}for(var ea in tt.horizontal){var ta=tt.horizontal[ea];if(!rn){Vn=Hc(ta.text);var ia=ot.layout.get("text-rotate").evaluate(Bt,{},vr);rn=new Ju(at,Ne,st,ct,pt,ta,ft,dt,mt,ia)}var sa=1===ta.positionedLines.length;if(Mn+=nl(w,Ne,ta,nt,ot,mt,Bt,yt,Cn,tt.vertical?ah.horizontal:ah.horizontalOnly,sa?Object.keys(tt.horizontal):[ea],Nn,Fn,er,vr),sa)break}tt.vertical&&(Ln+=nl(w,Ne,tt.vertical,nt,ot,mt,Bt,yt,Cn,ah.vertical,["vertical"],Nn,Bn,er,vr));var la=rn?rn.boxStartIndex:w.collisionBoxArray.length,fa=rn?rn.boxEndIndex:w.collisionBoxArray.length,ga=bn?bn.boxStartIndex:w.collisionBoxArray.length,_a=bn?bn.boxEndIndex:w.collisionBoxArray.length,Aa=vn?vn.boxStartIndex:w.collisionBoxArray.length,os=vn?vn.boxEndIndex:w.collisionBoxArray.length,as=Tn?Tn.boxStartIndex:w.collisionBoxArray.length,ss=Tn?Tn.boxEndIndex:w.collisionBoxArray.length,ls=-1,ut=function(w,Ne){return w&&w.circleDiameter?Math.max(w.circleDiameter,Ne):Ne};ls=ut(rn,ls),ls=ut(bn,ls),ls=ut(vn,ls);var us=(ls=ut(Tn,ls))>-1?1:0;us&&(ls*=wr/24),w.glyphOffsetArray.length>=fl.MAX_GLYPHS&&_("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Bt.sortKey&&w.addToSortKeyRanges(w.symbolInstances.length,Bt.sortKey),w.symbolInstances.emplaceBack(Ne.x,Ne.y,Nn.right>=0?Nn.right:-1,Nn.center>=0?Nn.center:-1,Nn.left>=0?Nn.left:-1,Nn.vertical||-1,Fn,Bn,Vn,la,fa,ga,_a,Aa,os,as,ss,st,Mn,Ln,In,zn,us,0,ft,Wn,$n,ls)}(w,pt,ot,et,tt,rt,ft,w.layers[0],w.collisionBoxArray,Ne.index,Ne.sourceLayerIndex,w.index,Rt,er,wr,at,Dt,rr,Sr,mt,Ne,nt,st,ct,it)};if("line"===rn)for(var Tn=0,Cn=qu(Ne.geometry,0,0,8192,8192);Tn<Cn.length;Tn+=1)for(var In=Cn[Tn],zn=0,Mn=ju(In,Bt,vr,et.vertical||yt,tt,24,Ot,w.overscaling,8192);zn<Mn.length;zn+=1){var Ln=Mn[zn];yt&&al(w,yt.text,vn,Ln)||E(In,Ln)}else if("line-center"===rn)for(var Fn=0,Bn=Ne.geometry;Fn<Bn.length;Fn+=1){var Nn=Bn[Fn];if(Nn.length>1){var Vn=Uu(Nn,vr,et.vertical||yt,tt,24,Ot);Vn&&E(Nn,Vn)}}else if("Polygon"===Ne.type)for(var Wn=0,$n=ts(Ne.geometry,0);Wn<$n.length;Wn+=1){var Yn=$n[Wn],ii=$u(Yn,16);E(Yn[0],new ph(ii.x,ii.y,0))}else if("LineString"===Ne.type)for(var qi=0,uo=Ne.geometry;qi<uo.length;qi+=1){var po=uo[qi];E(po,new ph(po[0].x,po[0].y,0))}else if("Point"===Ne.type)for(var vo=0,So=Ne.geometry;vo<So.length;vo+=1)for(var ea=0,ta=So[vo];ea<ta.length;ea+=1){var ia=ta[ea];E([ia],new ph(ia.x,ia.y,0))}}(w,nt,dt,Nn,tt,st,pt,ft,er,Vn,it)},Ot=0,Dt=w.features;Ot<Dt.length;Ot+=1)g();nt&&w.generateCollisionDebugBuffers()},w.perspective=function(w,Ne,et,tt,rt){var nt,it=1/Math.tan(Ne/2);return w[0]=it/et,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=it,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=-1,w[12]=0,w[13]=0,w[15]=0,null!=rt&&rt!==1/0?(w[10]=(rt+tt)*(nt=1/(tt-rt)),w[14]=2*rt*tt*nt):(w[10]=-1,w[14]=-2*tt),w},w.pick=function(w,Ne){for(var et={},tt=0;tt<Ne.length;tt++){var rt=Ne[tt];rt in w&&(et[rt]=w[rt])}return et},w.plugin=gl,w.polygonIntersectsPolygon=Ua,w.postMapLoadEvent=Tn,w.postTurnstileEvent=vn,w.potpack=fu,w.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],w.register=Dn,w.registerForPluginStateChange=function(w){return w({pluginStatus:ol,pluginURL:sl}),dl.on("pluginStateChange",w),w},w.rotate=function(w,Ne,et){var tt=Ne[0],rt=Ne[1],nt=Ne[2],it=Ne[3],ot=Math.sin(et),at=Math.cos(et);return w[0]=tt*at+nt*ot,w[1]=rt*at+it*ot,w[2]=tt*-ot+nt*at,w[3]=rt*-ot+it*at,w},w.rotateX=function(w,Ne,et){var tt=Math.sin(et),rt=Math.cos(et),nt=Ne[4],it=Ne[5],ot=Ne[6],at=Ne[7],st=Ne[8],ct=Ne[9],pt=Ne[10],ft=Ne[11];return Ne!==w&&(w[0]=Ne[0],w[1]=Ne[1],w[2]=Ne[2],w[3]=Ne[3],w[12]=Ne[12],w[13]=Ne[13],w[14]=Ne[14],w[15]=Ne[15]),w[4]=nt*rt+st*tt,w[5]=it*rt+ct*tt,w[6]=ot*rt+pt*tt,w[7]=at*rt+ft*tt,w[8]=st*rt-nt*tt,w[9]=ct*rt-it*tt,w[10]=pt*rt-ot*tt,w[11]=ft*rt-at*tt,w},w.rotateZ=function(w,Ne,et){var tt=Math.sin(et),rt=Math.cos(et),nt=Ne[0],it=Ne[1],ot=Ne[2],at=Ne[3],st=Ne[4],ct=Ne[5],pt=Ne[6],ft=Ne[7];return Ne!==w&&(w[8]=Ne[8],w[9]=Ne[9],w[10]=Ne[10],w[11]=Ne[11],w[12]=Ne[12],w[13]=Ne[13],w[14]=Ne[14],w[15]=Ne[15]),w[0]=nt*rt+st*tt,w[1]=it*rt+ct*tt,w[2]=ot*rt+pt*tt,w[3]=at*rt+ft*tt,w[4]=st*rt-nt*tt,w[5]=ct*rt-it*tt,w[6]=pt*rt-ot*tt,w[7]=ft*rt-at*tt,w},w.scale=function(w,Ne,et){var tt=et[0],rt=et[1],nt=et[2];return w[0]=Ne[0]*tt,w[1]=Ne[1]*tt,w[2]=Ne[2]*tt,w[3]=Ne[3]*tt,w[4]=Ne[4]*rt,w[5]=Ne[5]*rt,w[6]=Ne[6]*rt,w[7]=Ne[7]*rt,w[8]=Ne[8]*nt,w[9]=Ne[9]*nt,w[10]=Ne[10]*nt,w[11]=Ne[11]*nt,w[12]=Ne[12],w[13]=Ne[13],w[14]=Ne[14],w[15]=Ne[15],w},w.scale$1=function(w,Ne,et){return w[0]=Ne[0]*et,w[1]=Ne[1]*et,w[2]=Ne[2]*et,w[3]=Ne[3]*et,w},w.scale$2=function(w,Ne,et){return w[0]=Ne[0]*et,w[1]=Ne[1]*et,w[2]=Ne[2]*et,w},w.setCacheLimits=function(w,Ne){Cn=w,In=Ne},w.setRTLTextPlugin=function(w,Ne,et){if(void 0===et&&(et=!1),"deferred"===ol||"loading"===ol||"loaded"===ol)throw new Error("setRTLTextPlugin cannot be called multiple times.");sl=yt.resolveURL(w),ol="deferred",tl=Ne,ti(),et||ni()},w.sphericalToCartesian=function(w){var Ne=w[0],et=w[1],tt=w[2];return et+=90,et*=Math.PI/180,tt*=Math.PI/180,{x:Ne*Math.cos(et)*Math.sin(tt),y:Ne*Math.sin(et)*Math.sin(tt),z:Ne*Math.cos(tt)}},w.sqrLen=function(w){var Ne=w[0],et=w[1];return Ne*Ne+et*et},w.styleSpec=$n,w.sub=function(w,Ne,et){return w[0]=Ne[0]-et[0],w[1]=Ne[1]-et[1],w[2]=Ne[2]-et[2],w},w.symbolSize=mh,w.transformMat3=function(w,Ne,et){var tt=Ne[0],rt=Ne[1],nt=Ne[2];return w[0]=tt*et[0]+rt*et[3]+nt*et[6],w[1]=tt*et[1]+rt*et[4]+nt*et[7],w[2]=tt*et[2]+rt*et[5]+nt*et[8],w},w.transformMat4=so,w.translate=function(w,Ne,et){var tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt=et[0],vt=et[1],Rt=et[2];return Ne===w?(w[12]=Ne[0]*yt+Ne[4]*vt+Ne[8]*Rt+Ne[12],w[13]=Ne[1]*yt+Ne[5]*vt+Ne[9]*Rt+Ne[13],w[14]=Ne[2]*yt+Ne[6]*vt+Ne[10]*Rt+Ne[14],w[15]=Ne[3]*yt+Ne[7]*vt+Ne[11]*Rt+Ne[15]):(rt=Ne[1],nt=Ne[2],it=Ne[3],ot=Ne[4],at=Ne[5],st=Ne[6],ct=Ne[7],pt=Ne[8],ft=Ne[9],dt=Ne[10],mt=Ne[11],w[0]=tt=Ne[0],w[1]=rt,w[2]=nt,w[3]=it,w[4]=ot,w[5]=at,w[6]=st,w[7]=ct,w[8]=pt,w[9]=ft,w[10]=dt,w[11]=mt,w[12]=tt*yt+ot*vt+pt*Rt+Ne[12],w[13]=rt*yt+at*vt+ft*Rt+Ne[13],w[14]=nt*yt+st*vt+dt*Rt+Ne[14],w[15]=it*yt+ct*vt+mt*Rt+Ne[15]),w},w.triggerPluginCompletionEvent=Qn,w.uniqueId=f,w.validateCustomStyleLayer=function(w){var Ne=[],et=w.id;return void 0===et&&Ne.push({message:"layers."+et+': missing required property "id"'}),void 0===w.render&&Ne.push({message:"layers."+et+': missing required method "render"'}),w.renderingMode&&"2d"!==w.renderingMode&&"3d"!==w.renderingMode&&Ne.push({message:"layers."+et+': property "renderingMode" must be either "2d" or "3d"'}),Ne},w.validateLight=Os,w.validateStyle=Rs,w.values=function(w){var Ne=[];for(var et in w)Ne.push(w[et]);return Ne},w.vectorTile=Lp,w.version="1.11.0",w.warnOnce=_,w.webpSupported=Rt,w.window=tt,w.wrap=p})),define(0,(function(w){function t(w){var Ne=typeof w;if("number"===Ne||"boolean"===Ne||"string"===Ne||null==w)return JSON.stringify(w);if(Array.isArray(w)){for(var et="[",tt=0,rt=w;tt<rt.length;tt+=1)et+=t(rt[tt])+",";return et+"]"}for(var nt=Object.keys(w).sort(),it="{",ot=0;ot<nt.length;ot++)it+=JSON.stringify(nt[ot])+":"+t(w[nt[ot]])+",";return it+"}"}function r(Ne){for(var et="",tt=0,rt=w.refProperties;tt<rt.length;tt+=1)et+="/"+t(Ne[rt[tt]]);return et}var i=function(w){this.keyCache={},w&&this.replace(w)};i.prototype.replace=function(w){this._layerConfigs={},this._layers={},this.update(w,[])},i.prototype.update=function(Ne,et){for(var tt=this,rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt];this._layerConfigs[it.id]=it;var ot=this._layers[it.id]=w.createStyleLayer(it);ot._featureFilter=w.featureFilter(ot.filter),this.keyCache[it.id]&&delete this.keyCache[it.id]}for(var at=0,st=et;at<st.length;at+=1){var ct=st[at];delete this.keyCache[ct],delete this._layerConfigs[ct],delete this._layers[ct]}this.familiesBySource={};for(var pt=0,ft=function(w,Ne){for(var et={},tt=0;tt<w.length;tt++){var rt=Ne&&Ne[w[tt].id]||r(w[tt]);Ne&&(Ne[w[tt].id]=rt);var nt=et[rt];nt||(nt=et[rt]=[]),nt.push(w[tt])}var it=[];for(var ot in et)it.push(et[ot]);return it}(w.values(this._layerConfigs),this.keyCache);pt<ft.length;pt+=1){var dt=ft[pt].map((function(w){return tt._layers[w.id]})),mt=dt[0];if("none"!==mt.visibility){var yt=mt.source||"",vt=this.familiesBySource[yt];vt||(vt=this.familiesBySource[yt]={});var Rt=mt.sourceLayer||"_geojsonTileLayer",Ot=vt[Rt];Ot||(Ot=vt[Rt]=[]),Ot.push(dt)}}};var o=function(Ne){var et={},tt=[];for(var rt in Ne){var nt=Ne[rt],it=et[rt]={};for(var ot in nt){var at=nt[+ot];if(at&&0!==at.bitmap.width&&0!==at.bitmap.height){var st={x:0,y:0,w:at.bitmap.width+2,h:at.bitmap.height+2};tt.push(st),it[ot]={rect:st,metrics:at.metrics}}}}var ct=w.potpack(tt),pt=new w.AlphaImage({width:ct.w||1,height:ct.h||1});for(var ft in Ne){var dt=Ne[ft];for(var mt in dt){var yt=dt[+mt];if(yt&&0!==yt.bitmap.width&&0!==yt.bitmap.height){var vt=et[ft][mt].rect;w.AlphaImage.copy(yt.bitmap,pt,{x:0,y:0},{x:vt.x+1,y:vt.y+1},yt.bitmap)}}}this.image=pt,this.positions=et};w.register("GlyphAtlas",o);var n=function(Ne){this.tileID=new w.OverscaledTileID(Ne.tileID.overscaledZ,Ne.tileID.wrap,Ne.tileID.canonical.z,Ne.tileID.canonical.x,Ne.tileID.canonical.y),this.uid=Ne.uid,this.zoom=Ne.zoom,this.pixelRatio=Ne.pixelRatio,this.tileSize=Ne.tileSize,this.source=Ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ne.showCollisionBoxes,this.collectResourceTiming=!!Ne.collectResourceTiming,this.returnDependencies=!!Ne.returnDependencies,this.promoteId=Ne.promoteId};function s(Ne,et,tt){for(var rt=new w.EvaluationParameters(et),nt=0,it=Ne;nt<it.length;nt+=1)it[nt].recalculate(rt,tt)}function a(Ne,et){var tt=w.getArrayBuffer(Ne.request,(function(Ne,tt,rt,nt){Ne?et(Ne):tt&&et(null,{vectorTile:new w.vectorTile.VectorTile(new w.pbf(tt)),rawData:tt,cacheControl:rt,expires:nt})}));return function(){tt.cancel(),et()}}n.prototype.parse=function(Ne,et,tt,rt,nt){var it=this;this.status="parsing",this.data=Ne,this.collisionBoxArray=new w.CollisionBoxArray;var ot=new w.DictionaryCoder(Object.keys(Ne.layers).sort()),at=new w.FeatureIndex(this.tileID,this.promoteId);at.bucketLayerIDs=[];var st,ct,pt,ft,dt={},mt={featureIndex:at,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:tt},yt=et.familiesBySource[this.source];for(var vt in yt){var Rt=Ne.layers[vt];if(Rt){1===Rt.version&&w.warnOnce('Vector tile source "'+this.source+'" layer "'+vt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=ot.encode(vt),Dt=[],Bt=0;Bt<Rt.length;Bt++){var er=Rt.feature(Bt),rr=at.getId(er,vt);Dt.push({feature:er,id:rr,index:Bt,sourceLayerIndex:Ot})}for(var vr=0,wr=yt[vt];vr<wr.length;vr+=1){var Sr=wr[vr],rn=Sr[0];rn.minzoom&&this.zoom<Math.floor(rn.minzoom)||rn.maxzoom&&this.zoom>=rn.maxzoom||"none"!==rn.visibility&&(s(Sr,this.zoom,tt),(dt[rn.id]=rn.createBucket({index:at.bucketLayerIDs.length,layers:Sr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source})).populate(Dt,mt,this.tileID.canonical),at.bucketLayerIDs.push(Sr.map((function(w){return w.id}))))}}}var vn=w.mapObject(mt.glyphDependencies,(function(w){return Object.keys(w).map(Number)}));Object.keys(vn).length?rt.send("getGlyphs",{uid:this.uid,stacks:vn},(function(w,Ne){st||(st=w,ct=Ne,z.call(it))})):ct={};var bn=Object.keys(mt.iconDependencies);bn.length?rt.send("getImages",{icons:bn,source:this.source,tileID:this.tileID,type:"icons"},(function(w,Ne){st||(st=w,pt=Ne,z.call(it))})):pt={};var Tn=Object.keys(mt.patternDependencies);function z(){if(st)return nt(st);if(ct&&pt&&ft){var Ne=new o(ct),et=new w.ImageAtlas(pt,ft);for(var rt in dt){var it=dt[rt];it instanceof w.SymbolBucket?(s(it.layers,this.zoom,tt),w.performSymbolLayout(it,ct,Ne.positions,pt,et.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):it.hasPattern&&(it instanceof w.LineBucket||it instanceof w.FillBucket||it instanceof w.FillExtrusionBucket)&&(s(it.layers,this.zoom,tt),it.addFeatures(mt,this.tileID.canonical,et.patternPositions))}this.status="done",nt(null,{buckets:w.values(dt).filter((function(w){return!w.isEmpty()})),featureIndex:at,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ne.image,imageAtlas:et,glyphMap:this.returnDependencies?ct:null,iconMap:this.returnDependencies?pt:null,glyphPositions:this.returnDependencies?Ne.positions:null})}}Tn.length?rt.send("getImages",{icons:Tn,source:this.source,tileID:this.tileID,type:"patterns"},(function(w,Ne){st||(st=w,ft=Ne,z.call(it))})):ft={},z.call(this)};var l=function(w,Ne,et,tt){this.actor=w,this.layerIndex=Ne,this.availableImages=et,this.loadVectorData=tt||a,this.loading={},this.loaded={}};l.prototype.loadTile=function(Ne,et){var tt=this,rt=Ne.uid;this.loading||(this.loading={});var nt=!!(Ne&&Ne.request&&Ne.request.collectResourceTiming)&&new w.RequestPerformance(Ne.request),it=this.loading[rt]=new n(Ne);it.abort=this.loadVectorData(Ne,(function(Ne,ot){if(delete tt.loading[rt],Ne||!ot)return it.status="done",tt.loaded[rt]=it,et(Ne);var at=ot.rawData,st={};ot.expires&&(st.expires=ot.expires),ot.cacheControl&&(st.cacheControl=ot.cacheControl);var ct={};if(nt){var pt=nt.finish();pt&&(ct.resourceTiming=JSON.parse(JSON.stringify(pt)))}it.vectorTile=ot.vectorTile,it.parse(ot.vectorTile,tt.layerIndex,tt.availableImages,tt.actor,(function(Ne,tt){if(Ne||!tt)return et(Ne);et(null,w.extend({rawTileData:at.slice(0)},tt,st,ct))})),tt.loaded=tt.loaded||{},tt.loaded[rt]=it}))},l.prototype.reloadTile=function(w,Ne){var et=this,tt=this.loaded,rt=w.uid,nt=this;if(tt&&tt[rt]){var it=tt[rt];it.showCollisionBoxes=w.showCollisionBoxes;var a=function(w,tt){var rt=it.reloadCallback;rt&&(delete it.reloadCallback,it.parse(it.vectorTile,nt.layerIndex,et.availableImages,nt.actor,rt)),Ne(w,tt)};"parsing"===it.status?it.reloadCallback=a:"done"===it.status&&(it.vectorTile?it.parse(it.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}},l.prototype.abortTile=function(w,Ne){var et=this.loading,tt=w.uid;et&&et[tt]&&et[tt].abort&&(et[tt].abort(),delete et[tt]),Ne()},l.prototype.removeTile=function(w,Ne){var et=this.loaded,tt=w.uid;et&&et[tt]&&delete et[tt],Ne()};var Ne=w.window.ImageBitmap,h=function(){this.loaded={}};function c(w,Ne){if(0!==w.length){p(w[0],Ne);for(var et=1;et<w.length;et++)p(w[et],!Ne)}}function p(w,Ne){for(var et=0,tt=0,rt=w.length,nt=rt-1;tt<rt;nt=tt++)et+=(w[tt][0]-w[nt][0])*(w[nt][1]+w[tt][1]);et>=0!=!!Ne&&w.reverse()}h.prototype.loadTile=function(et,tt){var rt=et.uid,nt=et.encoding,it=et.rawImageData,ot=Ne&&it instanceof Ne?this.getImageData(it):it,at=new w.DEMData(rt,ot,nt);this.loaded=this.loaded||{},this.loaded[rt]=at,tt(null,at)},h.prototype.getImageData=function(Ne){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ne.width,Ne.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ne.width,this.offscreenCanvas.height=Ne.height,this.offscreenCanvasContext.drawImage(Ne,0,0,Ne.width,Ne.height);var et=this.offscreenCanvasContext.getImageData(-1,-1,Ne.width+2,Ne.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new w.RGBAImage({width:et.width,height:et.height},et.data)},h.prototype.removeTile=function(w){var Ne=this.loaded,et=w.uid;Ne&&Ne[et]&&delete Ne[et]};var et=w.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(Ne){this._feature=Ne,this.extent=w.EXTENT,this.type=Ne.type,this.properties=Ne.tags,"id"in Ne&&!isNaN(Ne.id)&&(this.id=parseInt(Ne.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var Ne=[],et=0,tt=this._feature.geometry;et<tt.length;et+=1){var rt=tt[et];Ne.push([new w.Point$1(rt[0],rt[1])])}return Ne}for(var nt=[],it=0,ot=this._feature.geometry;it<ot.length;it+=1){for(var at=[],st=0,ct=ot[it];st<ct.length;st+=1){var pt=ct[st];at.push(new w.Point$1(pt[0],pt[1]))}nt.push(at)}return nt},d.prototype.toGeoJSON=function(w,Ne,tt){return et.call(this,w,Ne,tt)};var g=function(Ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=w.EXTENT,this.length=Ne.length,this._features=Ne};g.prototype.feature=function(w){return new d(this._features[w])};var tt=w.vectorTile.VectorTileFeature,rt=y;function y(w,Ne){this.options=Ne||{},this.features=w,this.length=w.length}function x(w,Ne){this.id="number"==typeof w.id?w.id:void 0,this.type=w.type,this.rawGeometry=1===w.type?[w.geometry]:w.geometry,this.properties=w.tags,this.extent=Ne||4096}y.prototype.feature=function(w){return new x(this.features[w],this.options.extent)},x.prototype.loadGeometry=function(){var Ne=this.rawGeometry;this.geometry=[];for(var et=0;et<Ne.length;et++){for(var tt=Ne[et],rt=[],nt=0;nt<tt.length;nt++)rt.push(new w.Point$1(tt[nt][0],tt[nt][1]));this.geometry.push(rt)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var w=this.geometry,Ne=1/0,et=-1/0,tt=1/0,rt=-1/0,nt=0;nt<w.length;nt++)for(var it=w[nt],ot=0;ot<it.length;ot++){var at=it[ot];Ne=Math.min(Ne,at.x),et=Math.max(et,at.x),tt=Math.min(tt,at.y),rt=Math.max(rt,at.y)}return[Ne,tt,et,rt]},x.prototype.toGeoJSON=tt.prototype.toGeoJSON;var nt=I,it=rt;function I(Ne){var et=new w.pbf;return function(w,Ne){for(var et in w.layers)Ne.writeMessage(3,M,w.layers[et])}(Ne,et),et.finish()}function M(w,Ne){var et;Ne.writeVarintField(15,w.version||1),Ne.writeStringField(1,w.name||""),Ne.writeVarintField(5,w.extent||4096);var tt={keys:[],values:[],keycache:{},valuecache:{}};for(et=0;et<w.length;et++)tt.feature=w.feature(et),Ne.writeMessage(2,b,tt);var rt=tt.keys;for(et=0;et<rt.length;et++)Ne.writeStringField(3,rt[et]);var nt=tt.values;for(et=0;et<nt.length;et++)Ne.writeMessage(4,C,nt[et])}function b(w,Ne){var et=w.feature;void 0!==et.id&&Ne.writeVarintField(1,et.id),Ne.writeMessage(2,_,w),Ne.writeVarintField(3,et.type),Ne.writeMessage(4,T,et)}function _(w,Ne){var et=w.feature,tt=w.keys,rt=w.values,nt=w.keycache,it=w.valuecache;for(var ot in et.properties){var at=nt[ot];void 0===at&&(tt.push(ot),nt[ot]=at=tt.length-1),Ne.writeVarint(at);var st=et.properties[ot],ct=typeof st;"string"!==ct&&"boolean"!==ct&&"number"!==ct&&(st=JSON.stringify(st));var pt=ct+":"+st,ft=it[pt];void 0===ft&&(rt.push(st),it[pt]=ft=rt.length-1),Ne.writeVarint(ft)}}function k(w,Ne){return(Ne<<3)+(7&w)}function P(w){return w<<1^w>>31}function T(w,Ne){for(var et=w.loadGeometry(),tt=w.type,rt=0,nt=0,it=et.length,ot=0;ot<it;ot++){var at=et[ot],st=1;1===tt&&(st=at.length),Ne.writeVarint(k(1,st));for(var ct=3===tt?at.length-1:at.length,pt=0;pt<ct;pt++){1===pt&&1!==tt&&Ne.writeVarint(k(2,ct-1));var ft=at[pt].x-rt,dt=at[pt].y-nt;Ne.writeVarint(P(ft)),Ne.writeVarint(P(dt)),rt+=ft,nt+=dt}3===tt&&Ne.writeVarint(k(7,1))}}function C(w,Ne){var et=typeof w;"string"===et?Ne.writeStringField(1,w):"boolean"===et?Ne.writeBooleanField(7,w):"number"===et&&(w%1!=0?Ne.writeDoubleField(3,w):w<0?Ne.writeSVarintField(6,w):Ne.writeVarintField(5,w))}function D(w,Ne,et,tt){L(w,et,tt),L(Ne,2*et,2*tt),L(Ne,2*et+1,2*tt+1)}function L(w,Ne,et){var tt=w[Ne];w[Ne]=w[et],w[et]=tt}function z(w,Ne,et,tt){var rt=w-et,nt=Ne-tt;return rt*rt+nt*nt}nt.fromVectorTileJs=I,nt.fromGeojsonVt=function(w,Ne){Ne=Ne||{};var et={};for(var tt in w)et[tt]=new rt(w[tt].features,Ne),et[tt].name=tt,et[tt].version=Ne.version,et[tt].extent=Ne.extent;return I({layers:et})},nt.GeoJSONWrapper=it;var O=function(w){return w[0]},E=function(w){return w[1]},F=function(w,Ne,et,tt,rt){void 0===Ne&&(Ne=O),void 0===et&&(et=E),void 0===tt&&(tt=64),void 0===rt&&(rt=Float64Array),this.nodeSize=tt,this.points=w;for(var nt=w.length<65536?Uint16Array:Uint32Array,it=this.ids=new nt(w.length),ot=this.coords=new rt(2*w.length),at=0;at<w.length;at++)it[at]=at,ot[2*at]=Ne(w[at]),ot[2*at+1]=et(w[at]);!function e(w,Ne,et,tt,rt,nt){if(!(rt-tt<=et)){var it=tt+rt>>1;!function e(w,Ne,et,tt,rt,nt){for(;rt>tt;){if(rt-tt>600){var it=rt-tt+1,ot=et-tt+1,at=Math.log(it),st=.5*Math.exp(2*at/3),ct=.5*Math.sqrt(at*st*(it-st)/it)*(ot-it/2<0?-1:1);e(w,Ne,et,Math.max(tt,Math.floor(et-ot*st/it+ct)),Math.min(rt,Math.floor(et+(it-ot)*st/it+ct)),nt)}var pt=Ne[2*et+nt],ft=tt,dt=rt;for(D(w,Ne,tt,et),Ne[2*rt+nt]>pt&&D(w,Ne,tt,rt);ft<dt;){for(D(w,Ne,ft,dt),ft++,dt--;Ne[2*ft+nt]<pt;)ft++;for(;Ne[2*dt+nt]>pt;)dt--}Ne[2*tt+nt]===pt?D(w,Ne,tt,dt):D(w,Ne,++dt,rt),dt<=et&&(tt=dt+1),et<=dt&&(rt=dt-1)}}(w,Ne,it,tt,rt,nt%2),e(w,Ne,et,tt,it-1,nt+1),e(w,Ne,et,it+1,rt,nt+1)}}(it,ot,tt,0,it.length-1,0)};F.prototype.range=function(w,Ne,et,tt){return function(w,Ne,et,tt,rt,nt,it){for(var ot,at,st=[0,w.length-1,0],ct=[];st.length;){var pt=st.pop(),ft=st.pop(),dt=st.pop();if(ft-dt<=it)for(var mt=dt;mt<=ft;mt++)at=Ne[2*mt+1],(ot=Ne[2*mt])>=et&&ot<=rt&&at>=tt&&at<=nt&&ct.push(w[mt]);else{var yt=Math.floor((dt+ft)/2);at=Ne[2*yt+1],(ot=Ne[2*yt])>=et&&ot<=rt&&at>=tt&&at<=nt&&ct.push(w[yt]);var vt=(pt+1)%2;(0===pt?et<=ot:tt<=at)&&(st.push(dt),st.push(yt-1),st.push(vt)),(0===pt?rt>=ot:nt>=at)&&(st.push(yt+1),st.push(ft),st.push(vt))}}return ct}(this.ids,this.coords,w,Ne,et,tt,this.nodeSize)},F.prototype.within=function(w,Ne,et){return function(w,Ne,et,tt,rt,nt){for(var it=[0,w.length-1,0],ot=[],at=rt*rt;it.length;){var st=it.pop(),ct=it.pop(),pt=it.pop();if(ct-pt<=nt)for(var ft=pt;ft<=ct;ft++)z(Ne[2*ft],Ne[2*ft+1],et,tt)<=at&&ot.push(w[ft]);else{var dt=Math.floor((pt+ct)/2),mt=Ne[2*dt],yt=Ne[2*dt+1];z(mt,yt,et,tt)<=at&&ot.push(w[dt]);var vt=(st+1)%2;(0===st?et-rt<=mt:tt-rt<=yt)&&(it.push(pt),it.push(dt-1),it.push(vt)),(0===st?et+rt>=mt:tt+rt>=yt)&&(it.push(dt+1),it.push(ct),it.push(vt))}}return ot}(this.ids,this.coords,w,Ne,et,this.nodeSize)};var ot={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(w){return w}},J=function(w){this.options=V(Object.create(ot),w),this.trees=new Array(this.options.maxZoom+1)};function Z(w,Ne,et,tt,rt){return{x:w,y:Ne,zoom:1/0,id:et,parentId:-1,numPoints:tt,properties:rt}}function A(w,Ne){var et=w.geometry.coordinates,tt=et[1];return{x:Y(et[0]),y:j(tt),zoom:1/0,index:Ne,parentId:-1}}function B(w){return{type:"Feature",id:w.id,properties:G(w),geometry:{type:"Point",coordinates:[(tt=w.x,360*(tt-.5)),(Ne=w.y,et=(180-360*Ne)*Math.PI/180,360*Math.atan(Math.exp(et))/Math.PI-90)]}};var Ne,et,tt}function G(w){var Ne=w.numPoints,et=Ne>=1e4?Math.round(Ne/1e3)+"k":Ne>=1e3?Math.round(Ne/100)/10+"k":Ne;return V(V({},w.properties),{cluster:!0,cluster_id:w.id,point_count:Ne,point_count_abbreviated:et})}function Y(w){return w/360+.5}function j(w){var Ne=Math.sin(w*Math.PI/180),et=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return et<0?0:et>1?1:et}function V(w,Ne){for(var et in Ne)w[et]=Ne[et];return w}function X(w){return w.x}function W(w){return w.y}function R(w,Ne,et,tt,rt,nt){var it=rt-et,ot=nt-tt;if(0!==it||0!==ot){var at=((w-et)*it+(Ne-tt)*ot)/(it*it+ot*ot);at>1?(et=rt,tt=nt):at>0&&(et+=it*at,tt+=ot*at)}return(it=w-et)*it+(ot=Ne-tt)*ot}function q(w,Ne,et,tt){var rt={id:void 0===w?null:w,type:Ne,geometry:et,tags:tt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(w){var Ne=w.geometry,et=w.type;if("Point"===et||"MultiPoint"===et||"LineString"===et)U(w,Ne);else if("Polygon"===et||"MultiLineString"===et)for(var tt=0;tt<Ne.length;tt++)U(w,Ne[tt]);else if("MultiPolygon"===et)for(tt=0;tt<Ne.length;tt++)for(var rt=0;rt<Ne[tt].length;rt++)U(w,Ne[tt][rt])}(rt),rt}function U(w,Ne){for(var et=0;et<Ne.length;et+=3)w.minX=Math.min(w.minX,Ne[et]),w.minY=Math.min(w.minY,Ne[et+1]),w.maxX=Math.max(w.maxX,Ne[et]),w.maxY=Math.max(w.maxY,Ne[et+1])}function $(w,Ne,et,tt){if(Ne.geometry){var rt=Ne.geometry.coordinates,nt=Ne.geometry.type,it=Math.pow(et.tolerance/((1<<et.maxZoom)*et.extent),2),ot=[],at=Ne.id;if(et.promoteId?at=Ne.properties[et.promoteId]:et.generateId&&(at=tt||0),"Point"===nt)H(rt,ot);else if("MultiPoint"===nt)for(var st=0;st<rt.length;st++)H(rt[st],ot);else if("LineString"===nt)K(rt,ot,it,!1);else if("MultiLineString"===nt){if(et.lineMetrics){for(st=0;st<rt.length;st++)K(rt[st],ot=[],it,!1),w.push(q(at,"LineString",ot,Ne.properties));return}Q(rt,ot,it,!1)}else if("Polygon"===nt)Q(rt,ot,it,!0);else{if("MultiPolygon"!==nt){if("GeometryCollection"===nt){for(st=0;st<Ne.geometry.geometries.length;st++)$(w,{id:at,geometry:Ne.geometry.geometries[st],properties:Ne.properties},et,tt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(st=0;st<rt.length;st++){var ct=[];Q(rt[st],ct,it,!0),ot.push(ct)}}w.push(q(at,nt,ot,Ne.properties))}}function H(w,Ne){Ne.push(ee(w[0])),Ne.push(te(w[1])),Ne.push(0)}function K(w,Ne,et,tt){for(var rt,nt,it=0,ot=0;ot<w.length;ot++){var at=ee(w[ot][0]),st=te(w[ot][1]);Ne.push(at),Ne.push(st),Ne.push(0),ot>0&&(it+=tt?(rt*st-at*nt)/2:Math.sqrt(Math.pow(at-rt,2)+Math.pow(st-nt,2))),rt=at,nt=st}var ct=Ne.length-3;Ne[2]=1,function e(w,Ne,et,tt){for(var rt,nt=tt,it=et-Ne>>1,ot=et-Ne,at=w[Ne],st=w[Ne+1],ct=w[et],pt=w[et+1],ft=Ne+3;ft<et;ft+=3){var dt=R(w[ft],w[ft+1],at,st,ct,pt);if(dt>nt)rt=ft,nt=dt;else if(dt===nt){var mt=Math.abs(ft-it);mt<ot&&(rt=ft,ot=mt)}}nt>tt&&(rt-Ne>3&&e(w,Ne,rt,tt),w[rt+2]=nt,et-rt>3&&e(w,rt,et,tt))}(Ne,0,ct,et),Ne[ct+2]=1,Ne.size=Math.abs(it),Ne.start=0,Ne.end=Ne.size}function Q(w,Ne,et,tt){for(var rt=0;rt<w.length;rt++){var nt=[];K(w[rt],nt,et,tt),Ne.push(nt)}}function ee(w){return w/360+.5}function te(w){var Ne=Math.sin(w*Math.PI/180),et=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return et<0?0:et>1?1:et}function re(w,Ne,et,tt,rt,nt,it,ot){if(tt/=Ne,nt>=(et/=Ne)&&it<tt)return w;if(it<et||nt>=tt)return null;for(var at=[],st=0;st<w.length;st++){var ct=w[st],pt=ct.geometry,ft=ct.type,dt=0===rt?ct.minX:ct.minY,mt=0===rt?ct.maxX:ct.maxY;if(dt>=et&&mt<tt)at.push(ct);else if(!(mt<et||dt>=tt)){var yt=[];if("Point"===ft||"MultiPoint"===ft)ie(pt,yt,et,tt,rt);else if("LineString"===ft)oe(pt,yt,et,tt,rt,!1,ot.lineMetrics);else if("MultiLineString"===ft)se(pt,yt,et,tt,rt,!1);else if("Polygon"===ft)se(pt,yt,et,tt,rt,!0);else if("MultiPolygon"===ft)for(var vt=0;vt<pt.length;vt++){var Rt=[];se(pt[vt],Rt,et,tt,rt,!0),Rt.length&&yt.push(Rt)}if(yt.length){if(ot.lineMetrics&&"LineString"===ft){for(vt=0;vt<yt.length;vt++)at.push(q(ct.id,ft,yt[vt],ct.tags));continue}"LineString"!==ft&&"MultiLineString"!==ft||(1===yt.length?(ft="LineString",yt=yt[0]):ft="MultiLineString"),"Point"!==ft&&"MultiPoint"!==ft||(ft=3===yt.length?"Point":"MultiPoint"),at.push(q(ct.id,ft,yt,ct.tags))}}}return at.length?at:null}function ie(w,Ne,et,tt,rt){for(var nt=0;nt<w.length;nt+=3){var it=w[nt+rt];it>=et&&it<=tt&&(Ne.push(w[nt]),Ne.push(w[nt+1]),Ne.push(w[nt+2]))}}function oe(w,Ne,et,tt,rt,nt,it){for(var ot,at,st=ne(w),ct=0===rt?le:ue,pt=w.start,ft=0;ft<w.length-3;ft+=3){var dt=w[ft],mt=w[ft+1],yt=w[ft+2],vt=w[ft+3],Rt=w[ft+4],Ot=0===rt?dt:mt,Dt=0===rt?vt:Rt,Bt=!1;it&&(ot=Math.sqrt(Math.pow(dt-vt,2)+Math.pow(mt-Rt,2))),Ot<et?Dt>et&&(at=ct(st,dt,mt,vt,Rt,et),it&&(st.start=pt+ot*at)):Ot>tt?Dt<tt&&(at=ct(st,dt,mt,vt,Rt,tt),it&&(st.start=pt+ot*at)):ae(st,dt,mt,yt),Dt<et&&Ot>=et&&(at=ct(st,dt,mt,vt,Rt,et),Bt=!0),Dt>tt&&Ot<=tt&&(at=ct(st,dt,mt,vt,Rt,tt),Bt=!0),!nt&&Bt&&(it&&(st.end=pt+ot*at),Ne.push(st),st=ne(w)),it&&(pt+=ot)}var er=w.length-3;dt=w[er],mt=w[er+1],yt=w[er+2],(Ot=0===rt?dt:mt)>=et&&Ot<=tt&&ae(st,dt,mt,yt),er=st.length-3,nt&&er>=3&&(st[er]!==st[0]||st[er+1]!==st[1])&&ae(st,st[0],st[1],st[2]),st.length&&Ne.push(st)}function ne(w){var Ne=[];return Ne.size=w.size,Ne.start=w.start,Ne.end=w.end,Ne}function se(w,Ne,et,tt,rt,nt){for(var it=0;it<w.length;it++)oe(w[it],Ne,et,tt,rt,nt,!1)}function ae(w,Ne,et,tt){w.push(Ne),w.push(et),w.push(tt)}function le(w,Ne,et,tt,rt,nt){var it=(nt-Ne)/(tt-Ne);return w.push(nt),w.push(et+(rt-et)*it),w.push(1),it}function ue(w,Ne,et,tt,rt,nt){var it=(nt-et)/(rt-et);return w.push(Ne+(tt-Ne)*it),w.push(nt),w.push(1),it}function he(w,Ne){for(var et=[],tt=0;tt<w.length;tt++){var rt,nt=w[tt],it=nt.type;if("Point"===it||"MultiPoint"===it||"LineString"===it)rt=ce(nt.geometry,Ne);else if("MultiLineString"===it||"Polygon"===it){rt=[];for(var ot=0;ot<nt.geometry.length;ot++)rt.push(ce(nt.geometry[ot],Ne))}else if("MultiPolygon"===it)for(rt=[],ot=0;ot<nt.geometry.length;ot++){for(var at=[],st=0;st<nt.geometry[ot].length;st++)at.push(ce(nt.geometry[ot][st],Ne));rt.push(at)}et.push(q(nt.id,it,rt,nt.tags))}return et}function ce(w,Ne){var et=[];et.size=w.size,void 0!==w.start&&(et.start=w.start,et.end=w.end);for(var tt=0;tt<w.length;tt+=3)et.push(w[tt]+Ne,w[tt+1],w[tt+2]);return et}function pe(w,Ne){if(w.transformed)return w;var et,tt,rt,nt=1<<w.z,it=w.x,ot=w.y;for(et=0;et<w.features.length;et++){var at=w.features[et],st=at.geometry,ct=at.type;if(at.geometry=[],1===ct)for(tt=0;tt<st.length;tt+=2)at.geometry.push(fe(st[tt],st[tt+1],Ne,nt,it,ot));else for(tt=0;tt<st.length;tt++){var pt=[];for(rt=0;rt<st[tt].length;rt+=2)pt.push(fe(st[tt][rt],st[tt][rt+1],Ne,nt,it,ot));at.geometry.push(pt)}}return w.transformed=!0,w}function fe(w,Ne,et,tt,rt,nt){return[Math.round(et*(w*tt-rt)),Math.round(et*(Ne*tt-nt))]}function de(w,Ne,et,tt,rt){for(var nt=Ne===rt.maxZoom?0:rt.tolerance/((1<<Ne)*rt.extent),it={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:et,y:tt,z:Ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ot=0;ot<w.length;ot++){it.numFeatures++,ge(it,w[ot],nt,rt);var at=w[ot].minX,st=w[ot].minY,ct=w[ot].maxX,pt=w[ot].maxY;at<it.minX&&(it.minX=at),st<it.minY&&(it.minY=st),ct>it.maxX&&(it.maxX=ct),pt>it.maxY&&(it.maxY=pt)}return it}function ge(w,Ne,et,tt){var rt=Ne.geometry,nt=Ne.type,it=[];if("Point"===nt||"MultiPoint"===nt)for(var ot=0;ot<rt.length;ot+=3)it.push(rt[ot]),it.push(rt[ot+1]),w.numPoints++,w.numSimplified++;else if("LineString"===nt)me(it,rt,w,et,!1,!1);else if("MultiLineString"===nt||"Polygon"===nt)for(ot=0;ot<rt.length;ot++)me(it,rt[ot],w,et,"Polygon"===nt,0===ot);else if("MultiPolygon"===nt)for(var at=0;at<rt.length;at++){var st=rt[at];for(ot=0;ot<st.length;ot++)me(it,st[ot],w,et,!0,0===ot)}if(it.length){var ct=Ne.tags||null;if("LineString"===nt&&tt.lineMetrics){for(var pt in ct={},Ne.tags)ct[pt]=Ne.tags[pt];ct.mapbox_clip_start=rt.start/rt.size,ct.mapbox_clip_end=rt.end/rt.size}var ft={geometry:it,type:"Polygon"===nt||"MultiPolygon"===nt?3:"LineString"===nt||"MultiLineString"===nt?2:1,tags:ct};null!==Ne.id&&(ft.id=Ne.id),w.features.push(ft)}}function me(w,Ne,et,tt,rt,nt){var it=tt*tt;if(tt>0&&Ne.size<(rt?it:tt))et.numPoints+=Ne.length/3;else{for(var ot=[],at=0;at<Ne.length;at+=3)(0===tt||Ne[at+2]>it)&&(et.numSimplified++,ot.push(Ne[at]),ot.push(Ne[at+1])),et.numPoints++;rt&&function(w,Ne){for(var et=0,tt=0,rt=w.length,nt=rt-2;tt<rt;nt=tt,tt+=2)et+=(w[tt]-w[nt])*(w[tt+1]+w[nt+1]);if(et>0===Ne)for(tt=0,rt=w.length;tt<rt/2;tt+=2){var it=w[tt],ot=w[tt+1];w[tt]=w[rt-2-tt],w[tt+1]=w[rt-1-tt],w[rt-2-tt]=it,w[rt-1-tt]=ot}}(ot,nt),w.push(ot)}}function ve(w,Ne){var et=(Ne=this.options=function(w,Ne){for(var et in Ne)w[et]=Ne[et];return w}(Object.create(this.options),Ne)).debug;if(et&&console.time("preprocess data"),Ne.maxZoom<0||Ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ne.promoteId&&Ne.generateId)throw new Error("promoteId and generateId cannot be used together.");var tt=function(w,Ne){var et=[];if("FeatureCollection"===w.type)for(var tt=0;tt<w.features.length;tt++)$(et,w.features[tt],Ne,tt);else $(et,"Feature"===w.type?w:{geometry:w},Ne);return et}(w,Ne);this.tiles={},this.tileCoords=[],et&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ne.indexMaxZoom,Ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(tt=function(w,Ne){var et=Ne.buffer/Ne.extent,tt=w,rt=re(w,1,-1-et,et,0,-1,2,Ne),nt=re(w,1,1-et,2+et,0,-1,2,Ne);return(rt||nt)&&(tt=re(w,1,-et,1+et,0,-1,2,Ne)||[],rt&&(tt=he(rt,1).concat(tt)),nt&&(tt=tt.concat(he(nt,-1)))),tt}(tt,Ne)).length&&this.splitTile(tt,0,0,0),et&&(tt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(w,Ne,et){return 32*((1<<w)*et+Ne)+w}function xe(w,Ne){var et=w.tileID.canonical;if(!this._geoJSONIndex)return Ne(null,null);var tt=this._geoJSONIndex.getTile(et.z,et.x,et.y);if(!tt)return Ne(null,null);var rt=new g(tt.features),it=nt(rt);0===it.byteOffset&&it.byteLength===it.buffer.byteLength||(it=new Uint8Array(it)),Ne(null,{vectorTile:rt,rawData:it.buffer})}J.prototype.load=function(w){var Ne=this.options,et=Ne.log,tt=Ne.minZoom,rt=Ne.maxZoom,nt=Ne.nodeSize;et&&console.time("total time");var it="prepare "+w.length+" points";et&&console.time(it),this.points=w;for(var ot=[],at=0;at<w.length;at++)w[at].geometry&&ot.push(A(w[at],at));this.trees[rt+1]=new F(ot,X,W,nt,Float32Array),et&&console.timeEnd(it);for(var st=rt;st>=tt;st--){var ct=+Date.now();ot=this._cluster(ot,st),this.trees[st]=new F(ot,X,W,nt,Float32Array),et&&console.log("z%d: %d clusters in %dms",st,ot.length,+Date.now()-ct)}return et&&console.timeEnd("total time"),this},J.prototype.getClusters=function(w,Ne){var et=((w[0]+180)%360+360)%360-180,tt=Math.max(-90,Math.min(90,w[1])),rt=180===w[2]?180:((w[2]+180)%360+360)%360-180,nt=Math.max(-90,Math.min(90,w[3]));if(w[2]-w[0]>=360)et=-180,rt=180;else if(et>rt){var it=this.getClusters([et,tt,180,nt],Ne),ot=this.getClusters([-180,tt,rt,nt],Ne);return it.concat(ot)}for(var at=this.trees[this._limitZoom(Ne)],st=[],ct=0,pt=at.range(Y(et),j(nt),Y(rt),j(tt));ct<pt.length;ct+=1){var ft=at.points[pt[ct]];st.push(ft.numPoints?B(ft):this.points[ft.index])}return st},J.prototype.getChildren=function(w){var Ne=this._getOriginId(w),et=this._getOriginZoom(w),tt="No cluster with the specified id.",rt=this.trees[et];if(!rt)throw new Error(tt);var nt=rt.points[Ne];if(!nt)throw new Error(tt);for(var it=this.options.radius/(this.options.extent*Math.pow(2,et-1)),ot=[],at=0,st=rt.within(nt.x,nt.y,it);at<st.length;at+=1){var ct=rt.points[st[at]];ct.parentId===w&&ot.push(ct.numPoints?B(ct):this.points[ct.index])}if(0===ot.length)throw new Error(tt);return ot},J.prototype.getLeaves=function(w,Ne,et){var tt=[];return this._appendLeaves(tt,w,Ne=Ne||10,et=et||0,0),tt},J.prototype.getTile=function(w,Ne,et){var tt=this.trees[this._limitZoom(w)],rt=Math.pow(2,w),nt=this.options,it=nt.radius/nt.extent,ot=(et-it)/rt,at=(et+1+it)/rt,st={features:[]};return this._addTileFeatures(tt.range((Ne-it)/rt,ot,(Ne+1+it)/rt,at),tt.points,Ne,et,rt,st),0===Ne&&this._addTileFeatures(tt.range(1-it/rt,ot,1,at),tt.points,rt,et,rt,st),Ne===rt-1&&this._addTileFeatures(tt.range(0,ot,it/rt,at),tt.points,-1,et,rt,st),st.features.length?st:null},J.prototype.getClusterExpansionZoom=function(w){for(var Ne=this._getOriginZoom(w)-1;Ne<=this.options.maxZoom;){var et=this.getChildren(w);if(Ne++,1!==et.length)break;w=et[0].properties.cluster_id}return Ne},J.prototype._appendLeaves=function(w,Ne,et,tt,rt){for(var nt=0,it=this.getChildren(Ne);nt<it.length;nt+=1){var ot=it[nt],at=ot.properties;if(at&&at.cluster?rt+at.point_count<=tt?rt+=at.point_count:rt=this._appendLeaves(w,at.cluster_id,et,tt,rt):rt<tt?rt++:w.push(ot),w.length===et)break}return rt},J.prototype._addTileFeatures=function(w,Ne,et,tt,rt,nt){for(var it=0,ot=w;it<ot.length;it+=1){var at=Ne[ot[it]],st=at.numPoints,ct={type:1,geometry:[[Math.round(this.options.extent*(at.x*rt-et)),Math.round(this.options.extent*(at.y*rt-tt))]],tags:st?G(at):this.points[at.index].properties},pt=void 0;st?pt=at.id:this.options.generateId?pt=at.index:this.points[at.index].id&&(pt=this.points[at.index].id),void 0!==pt&&(ct.id=pt),nt.features.push(ct)}},J.prototype._limitZoom=function(w){return Math.max(this.options.minZoom,Math.min(+w,this.options.maxZoom+1))},J.prototype._cluster=function(w,Ne){for(var et=[],tt=this.options,rt=tt.reduce,nt=tt.minPoints,it=tt.radius/(tt.extent*Math.pow(2,Ne)),ot=0;ot<w.length;ot++){var at=w[ot];if(!(at.zoom<=Ne)){at.zoom=Ne;for(var st=this.trees[Ne+1],ct=st.within(at.x,at.y,it),pt=at.numPoints||1,ft=pt,dt=0,mt=ct;dt<mt.length;dt+=1){var yt=st.points[mt[dt]];yt.zoom>Ne&&(ft+=yt.numPoints||1)}if(ft>=nt){for(var vt=at.x*pt,Rt=at.y*pt,Ot=rt&&pt>1?this._map(at,!0):null,Dt=(ot<<5)+(Ne+1)+this.points.length,Bt=0,er=ct;Bt<er.length;Bt+=1){var rr=st.points[er[Bt]];if(!(rr.zoom<=Ne)){rr.zoom=Ne;var vr=rr.numPoints||1;vt+=rr.x*vr,Rt+=rr.y*vr,rr.parentId=Dt,rt&&(Ot||(Ot=this._map(at,!0)),rt(Ot,this._map(rr)))}}at.parentId=Dt,et.push(Z(vt/ft,Rt/ft,Dt,ft,Ot))}else if(et.push(at),ft>1)for(var wr=0,Sr=ct;wr<Sr.length;wr+=1){var rn=st.points[Sr[wr]];rn.zoom<=Ne||(rn.zoom=Ne,et.push(rn))}}}return et},J.prototype._getOriginId=function(w){return w-this.points.length>>5},J.prototype._getOriginZoom=function(w){return(w-this.points.length)%32},J.prototype._map=function(w,Ne){if(w.numPoints)return Ne?V({},w.properties):w.properties;var et=this.points[w.index].properties,tt=this.options.map(et);return Ne&&tt===et?V({},tt):tt},ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(w,Ne,et,tt,rt,nt,it){for(var ot=[w,Ne,et,tt],at=this.options,st=at.debug;ot.length;){tt=ot.pop(),et=ot.pop(),Ne=ot.pop(),w=ot.pop();var ct=1<<Ne,pt=ye(Ne,et,tt),ft=this.tiles[pt];if(!ft&&(st>1&&console.time("creation"),ft=this.tiles[pt]=de(w,Ne,et,tt,at),this.tileCoords.push({z:Ne,x:et,y:tt}),st)){st>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ne,et,tt,ft.numFeatures,ft.numPoints,ft.numSimplified),console.timeEnd("creation"));var dt="z"+Ne;this.stats[dt]=(this.stats[dt]||0)+1,this.total++}if(ft.source=w,rt){if(Ne===at.maxZoom||Ne===rt)continue;var mt=1<<rt-Ne;if(et!==Math.floor(nt/mt)||tt!==Math.floor(it/mt))continue}else if(Ne===at.indexMaxZoom||ft.numPoints<=at.indexMaxPoints)continue;if(ft.source=null,0!==w.length){st>1&&console.time("clipping");var yt,vt,Rt,Ot,Dt,Bt,er=.5*at.buffer/at.extent,rr=.5-er,vr=.5+er,wr=1+er;yt=vt=Rt=Ot=null,Dt=re(w,ct,et-er,et+vr,0,ft.minX,ft.maxX,at),Bt=re(w,ct,et+rr,et+wr,0,ft.minX,ft.maxX,at),w=null,Dt&&(yt=re(Dt,ct,tt-er,tt+vr,1,ft.minY,ft.maxY,at),vt=re(Dt,ct,tt+rr,tt+wr,1,ft.minY,ft.maxY,at),Dt=null),Bt&&(Rt=re(Bt,ct,tt-er,tt+vr,1,ft.minY,ft.maxY,at),Ot=re(Bt,ct,tt+rr,tt+wr,1,ft.minY,ft.maxY,at),Bt=null),st>1&&console.timeEnd("clipping"),ot.push(yt||[],Ne+1,2*et,2*tt),ot.push(vt||[],Ne+1,2*et,2*tt+1),ot.push(Rt||[],Ne+1,2*et+1,2*tt),ot.push(Ot||[],Ne+1,2*et+1,2*tt+1)}}},ve.prototype.getTile=function(w,Ne,et){var tt=this.options,rt=tt.extent,nt=tt.debug;if(w<0||w>24)return null;var it=1<<w,ot=ye(w,Ne=(Ne%it+it)%it,et);if(this.tiles[ot])return pe(this.tiles[ot],rt);nt>1&&console.log("drilling down to z%d-%d-%d",w,Ne,et);for(var at,st=w,ct=Ne,pt=et;!at&&st>0;)st--,ct=Math.floor(ct/2),pt=Math.floor(pt/2),at=this.tiles[ye(st,ct,pt)];return at&&at.source?(nt>1&&console.log("found parent tile z%d-%d-%d",st,ct,pt),nt>1&&console.time("drilling down"),this.splitTile(at.source,st,ct,pt,w,Ne,et),nt>1&&console.timeEnd("drilling down"),this.tiles[ot]?pe(this.tiles[ot],rt):null):null};var at=function(Ne){function r(w,et,tt,rt){Ne.call(this,w,et,tt,xe),rt&&(this.loadGeoJSON=rt)}return Ne&&(r.__proto__=Ne),(r.prototype=Object.create(Ne&&Ne.prototype)).constructor=r,r.prototype.loadData=function(w,Ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ne,this._pendingLoadDataParams=w,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var Ne=this;if(this._pendingCallback&&this._pendingLoadDataParams){var et=this._pendingCallback,tt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var rt=!!(tt&&tt.request&&tt.request.collectResourceTiming)&&new w.RequestPerformance(tt.request);this.loadGeoJSON(tt,(function(nt,it){if(nt||!it)return et(nt);if("object"!=typeof it)return et(new Error("Input data given to '"+tt.source+"' is not a valid GeoJSON object."));!function e(w,Ne){var et,tt=w&&w.type;if("FeatureCollection"===tt)for(et=0;et<w.features.length;et++)e(w.features[et],Ne);else if("GeometryCollection"===tt)for(et=0;et<w.geometries.length;et++)e(w.geometries[et],Ne);else if("Feature"===tt)e(w.geometry,Ne);else if("Polygon"===tt)c(w.coordinates,Ne);else if("MultiPolygon"===tt)for(et=0;et<w.coordinates.length;et++)c(w.coordinates[et],Ne);return w}(it,!0);try{Ne._geoJSONIndex=tt.cluster?new J(function(Ne){var et=Ne.superclusterOptions,tt=Ne.clusterProperties;if(!tt||!et)return et;for(var rt={},nt={},it={accumulated:null,zoom:0},ot={properties:null},at=Object.keys(tt),st=0,ct=at;st<ct.length;st+=1){var pt=ct[st],ft=tt[pt],dt=ft[0],mt=w.createExpression(ft[1]),yt=w.createExpression("string"==typeof dt?[dt,["accumulated"],["get",pt]]:dt);rt[pt]=mt.value,nt[pt]=yt.value}return et.map=function(w){ot.properties=w;for(var Ne={},et=0,tt=at;et<tt.length;et+=1){var nt=tt[et];Ne[nt]=rt[nt].evaluate(it,ot)}return Ne},et.reduce=function(w,Ne){ot.properties=Ne;for(var et=0,tt=at;et<tt.length;et+=1){var rt=tt[et];it.accumulated=w[rt],w[rt]=nt[rt].evaluate(it,ot)}},et}(tt)).load(it.features):function(w,Ne){return new ve(w,Ne)}(it,tt.geojsonVtOptions)}catch(nt){return et(nt)}Ne.loaded={};var ot={};if(rt){var at=rt.finish();at&&(ot.resourceTiming={},ot.resourceTiming[tt.source]=JSON.parse(JSON.stringify(at)))}et(null,ot)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(w,et){var tt=this.loaded;return tt&&tt[w.uid]?Ne.prototype.reloadTile.call(this,w,et):this.loadTile(w,et)},r.prototype.loadGeoJSON=function(Ne,et){if(Ne.request)w.getJSON(Ne.request,et);else{if("string"!=typeof Ne.data)return et(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."));try{return et(null,JSON.parse(Ne.data))}catch(w){return et(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(w,Ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ne()},r.prototype.getClusterExpansionZoom=function(w,Ne){try{Ne(null,this._geoJSONIndex.getClusterExpansionZoom(w.clusterId))}catch(w){Ne(w)}},r.prototype.getClusterChildren=function(w,Ne){try{Ne(null,this._geoJSONIndex.getChildren(w.clusterId))}catch(w){Ne(w)}},r.prototype.getClusterLeaves=function(w,Ne){try{Ne(null,this._geoJSONIndex.getLeaves(w.clusterId,w.limit,w.offset))}catch(w){Ne(w)}},r}(l),Se=function(Ne){var et=this;this.self=Ne,this.actor=new w.Actor(Ne,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:at},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(w,Ne){if(et.workerSourceTypes[w])throw new Error('Worker source with name "'+w+'" already registered.');et.workerSourceTypes[w]=Ne},this.self.registerRTLTextPlugin=function(Ne){if(w.plugin.isParsed())throw new Error("RTL text plugin already registered.");w.plugin.applyArabicShaping=Ne.applyArabicShaping,w.plugin.processBidirectionalText=Ne.processBidirectionalText,w.plugin.processStyledBidirectionalText=Ne.processStyledBidirectionalText}};return Se.prototype.setReferrer=function(w,Ne){this.referrer=Ne},Se.prototype.setImages=function(w,Ne,et){for(var tt in this.availableImages[w]=Ne,this.workerSources[w]){var rt=this.workerSources[w][tt];for(var nt in rt)rt[nt].availableImages=Ne}et()},Se.prototype.setLayers=function(w,Ne,et){this.getLayerIndex(w).replace(Ne),et()},Se.prototype.updateLayers=function(w,Ne,et){this.getLayerIndex(w).update(Ne.layers,Ne.removedIds),et()},Se.prototype.loadTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).loadTile(Ne,et)},Se.prototype.loadDEMTile=function(w,Ne,et){this.getDEMWorkerSource(w,Ne.source).loadTile(Ne,et)},Se.prototype.reloadTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).reloadTile(Ne,et)},Se.prototype.abortTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).abortTile(Ne,et)},Se.prototype.removeTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).removeTile(Ne,et)},Se.prototype.removeDEMTile=function(w,Ne){this.getDEMWorkerSource(w,Ne.source).removeTile(Ne)},Se.prototype.removeSource=function(w,Ne,et){if(this.workerSources[w]&&this.workerSources[w][Ne.type]&&this.workerSources[w][Ne.type][Ne.source]){var tt=this.workerSources[w][Ne.type][Ne.source];delete this.workerSources[w][Ne.type][Ne.source],void 0!==tt.removeSource?tt.removeSource(Ne,et):et()}},Se.prototype.loadWorkerSource=function(w,Ne,et){try{this.self.importScripts(Ne.url),et()}catch(w){et(w.toString())}},Se.prototype.syncRTLPluginState=function(Ne,et,tt){try{w.plugin.setState(et);var rt=w.plugin.getPluginURL();if(w.plugin.isLoaded()&&!w.plugin.isParsed()&&null!=rt){this.self.importScripts(rt);var nt=w.plugin.isParsed();tt(nt?void 0:new Error("RTL Text Plugin failed to import scripts from "+rt),nt)}}catch(w){tt(w.toString())}},Se.prototype.getAvailableImages=function(w){var Ne=this.availableImages[w];return Ne||(Ne=[]),Ne},Se.prototype.getLayerIndex=function(w){var Ne=this.layerIndexes[w];return Ne||(Ne=this.layerIndexes[w]=new i),Ne},Se.prototype.getWorkerSource=function(w,Ne,et){var tt=this;return this.workerSources[w]||(this.workerSources[w]={}),this.workerSources[w][Ne]||(this.workerSources[w][Ne]={}),this.workerSources[w][Ne][et]||(this.workerSources[w][Ne][et]=new this.workerSourceTypes[Ne]({send:function(Ne,et,rt){tt.actor.send(Ne,et,rt,w)}},this.getLayerIndex(w),this.getAvailableImages(w))),this.workerSources[w][Ne][et]},Se.prototype.getDEMWorkerSource=function(w,Ne){return this.demWorkerSources[w]||(this.demWorkerSources[w]={}),this.demWorkerSources[w][Ne]||(this.demWorkerSources[w][Ne]=new h),this.demWorkerSources[w][Ne]},Se.prototype.enforceCacheSizeLimit=function(Ne,et){w.enforceCacheSizeLimit(et)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Se(self)),Se})),define(0,(function(w){var Ne=w.createCommonjsModule((function(w){function e(w){return!i(w)}function i(w){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,Ne,et=new Blob([""],{type:"text/javascript"}),tt=URL.createObjectURL(et);try{Ne=new Worker(tt),w=!0}catch(Ne){w=!1}return Ne&&Ne.terminate(),URL.revokeObjectURL(tt),w}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var w=document.createElement("canvas");w.width=w.height=1;var Ne=w.getContext("2d");if(!Ne)return!1;var et=Ne.getImageData(0,0,1,1);return et&&et.width===w.width}()?(void 0===Ne[et=w&&w.failIfMajorPerformanceCaveat]&&(Ne[et]=function(w){var Ne=function(w){var Ne=document.createElement("canvas"),et=Object.create(e.webGLContextAttributes);return et.failIfMajorPerformanceCaveat=w,Ne.probablySupportsContext?Ne.probablySupportsContext("webgl",et)||Ne.probablySupportsContext("experimental-webgl",et):Ne.supportsContext?Ne.supportsContext("webgl",et)||Ne.supportsContext("experimental-webgl",et):Ne.getContext("webgl",et)||Ne.getContext("experimental-webgl",et)}(w);if(!Ne)return!1;var et=Ne.createShader(Ne.VERTEX_SHADER);return!(!et||Ne.isContextLost())&&(Ne.shaderSource(et,"void main() {}"),Ne.compileShader(et),!0===Ne.getShaderParameter(et,Ne.COMPILE_STATUS))}(et)),Ne[et]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var et}w.exports?w.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=i);var Ne={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),et={create:function(Ne,et,tt){var rt=w.window.document.createElement(Ne);return void 0!==et&&(rt.className=et),tt&&tt.appendChild(rt),rt},createNS:function(Ne,et){return w.window.document.createElementNS(Ne,et)}},tt=w.window.document&&w.window.document.documentElement.style;function r(w){if(!tt)return w[0];for(var Ne=0;Ne<w.length;Ne++)if(w[Ne]in tt)return w[Ne];return w[0]}var rt,nt=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);et.disableDrag=function(){tt&&nt&&(rt=tt[nt],tt[nt]="none")},et.enableDrag=function(){tt&&nt&&(tt[nt]=rt)};var it=r(["transform","WebkitTransform"]);et.setTransform=function(w,Ne){w.style[it]=Ne};var ot=!1;try{var at=Object.defineProperty({},"passive",{get:function(){ot=!0}});w.window.addEventListener("test",at,at),w.window.removeEventListener("test",at,at)}catch(w){ot=!1}et.addEventListener=function(w,Ne,et,tt){void 0===tt&&(tt={}),w.addEventListener(Ne,et,"passive"in tt&&ot?tt:tt.capture)},et.removeEventListener=function(w,Ne,et,tt){void 0===tt&&(tt={}),w.removeEventListener(Ne,et,"passive"in tt&&ot?tt:tt.capture)};var u=function(Ne){Ne.preventDefault(),Ne.stopPropagation(),w.window.removeEventListener("click",u,!0)};function h(w){var Ne=w.userImage;return!!(Ne&&Ne.render&&Ne.render())&&(w.data.replace(new Uint8Array(Ne.data.buffer)),!0)}et.suppressClick=function(){w.window.addEventListener("click",u,!0),w.window.setTimeout((function(){w.window.removeEventListener("click",u,!0)}),0)},et.mousePos=function(Ne,et){var tt=Ne.getBoundingClientRect();return new w.Point(et.clientX-tt.left-Ne.clientLeft,et.clientY-tt.top-Ne.clientTop)},et.touchPos=function(Ne,et){for(var tt=Ne.getBoundingClientRect(),rt=[],nt=0;nt<et.length;nt++)rt.push(new w.Point(et[nt].clientX-tt.left-Ne.clientLeft,et[nt].clientY-tt.top-Ne.clientTop));return rt},et.mouseButton=function(Ne){return void 0!==w.window.InstallTrigger&&2===Ne.button&&Ne.ctrlKey&&w.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:Ne.button},et.remove=function(w){w.parentNode&&w.parentNode.removeChild(w)};var st=function(Ne){function i(){Ne.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new w.RGBAImage({width:1,height:1}),this.dirty=!0}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(w){if(this.loaded!==w&&(this.loaded=w,w)){for(var Ne=0,et=this.requestors;Ne<et.length;Ne+=1){var tt=et[Ne];this._notify(tt.ids,tt.callback)}this.requestors=[]}},i.prototype.getImage=function(w){return this.images[w]},i.prototype.addImage=function(w,Ne){this._validate(w,Ne)&&(this.images[w]=Ne)},i.prototype._validate=function(Ne,et){var tt=!0;return this._validateStretch(et.stretchX,et.data&&et.data.width)||(this.fire(new w.ErrorEvent(new Error('Image "'+Ne+'" has invalid "stretchX" value'))),tt=!1),this._validateStretch(et.stretchY,et.data&&et.data.height)||(this.fire(new w.ErrorEvent(new Error('Image "'+Ne+'" has invalid "stretchY" value'))),tt=!1),this._validateContent(et.content,et)||(this.fire(new w.ErrorEvent(new Error('Image "'+Ne+'" has invalid "content" value'))),tt=!1),tt},i.prototype._validateStretch=function(w,Ne){if(!w)return!0;for(var et=0,tt=0,rt=w;tt<rt.length;tt+=1){var nt=rt[tt];if(nt[0]<et||nt[1]<nt[0]||Ne<nt[1])return!1;et=nt[1]}return!0},i.prototype._validateContent=function(w,Ne){return!(w&&(4!==w.length||w[0]<0||Ne.data.width<w[0]||w[1]<0||Ne.data.height<w[1]||w[2]<0||Ne.data.width<w[2]||w[3]<0||Ne.data.height<w[3]||w[2]<w[0]||w[3]<w[1]))},i.prototype.updateImage=function(w,Ne){Ne.version=this.images[w].version+1,this.images[w]=Ne,this.updatedImages[w]=!0},i.prototype.removeImage=function(w){var Ne=this.images[w];delete this.images[w],delete this.patterns[w],Ne.userImage&&Ne.userImage.onRemove&&Ne.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(w,Ne){var et=!0;if(!this.isLoaded())for(var tt=0,rt=w;tt<rt.length;tt+=1)this.images[rt[tt]]||(et=!1);this.isLoaded()||et?this._notify(w,Ne):this.requestors.push({ids:w,callback:Ne})},i.prototype._notify=function(Ne,et){for(var tt={},rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt];this.images[it]||this.fire(new w.Event("styleimagemissing",{id:it}));var ot=this.images[it];ot?tt[it]={data:ot.data.clone(),pixelRatio:ot.pixelRatio,sdf:ot.sdf,version:ot.version,stretchX:ot.stretchX,stretchY:ot.stretchY,content:ot.content,hasRenderCallback:Boolean(ot.userImage&&ot.userImage.render)}:w.warnOnce('Image "'+it+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}et(null,tt)},i.prototype.getPixelSize=function(){var w=this.atlasImage;return{width:w.width,height:w.height}},i.prototype.getPattern=function(Ne){var et=this.patterns[Ne],tt=this.getImage(Ne);if(!tt)return null;if(et&&et.position.version===tt.version)return et.position;if(et)et.position.version=tt.version;else{var rt={w:tt.data.width+2,h:tt.data.height+2,x:0,y:0},nt=new w.ImagePosition(rt,tt);this.patterns[Ne]={bin:rt,position:nt}}return this._updatePatternAtlas(),this.patterns[Ne].position},i.prototype.bind=function(Ne){var et=Ne.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new w.Texture(Ne,this.atlasImage,et.RGBA),this.atlasTexture.bind(et.LINEAR,et.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var Ne=[];for(var et in this.patterns)Ne.push(this.patterns[et].bin);var tt=w.potpack(Ne),rt=tt.w,nt=tt.h,it=this.atlasImage;for(var ot in it.resize({width:rt||1,height:nt||1}),this.patterns){var at=this.patterns[ot].bin,st=at.x+1,ct=at.y+1,pt=this.images[ot].data,ft=pt.width,dt=pt.height;w.RGBAImage.copy(pt,it,{x:0,y:0},{x:st,y:ct},{width:ft,height:dt}),w.RGBAImage.copy(pt,it,{x:0,y:dt-1},{x:st,y:ct-1},{width:ft,height:1}),w.RGBAImage.copy(pt,it,{x:0,y:0},{x:st,y:ct+dt},{width:ft,height:1}),w.RGBAImage.copy(pt,it,{x:ft-1,y:0},{x:st-1,y:ct},{width:1,height:dt}),w.RGBAImage.copy(pt,it,{x:0,y:0},{x:st+ft,y:ct},{width:1,height:dt})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1){var tt=et[Ne];if(!this.callbackDispatchedThisFrame[tt]){this.callbackDispatchedThisFrame[tt]=!0;var rt=this.images[tt];h(rt)&&this.updateImage(tt,rt)}}},i}(w.Evented),ct=m,pt=m,ft=1e20;function m(w,Ne,et,tt,rt,nt){this.fontSize=w||24,this.buffer=void 0===Ne?3:Ne,this.cutoff=tt||.25,this.fontFamily=rt||"sans-serif",this.fontWeight=nt||"normal",this.radius=et||8;var it=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=it,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(it*it),this.gridInner=new Float64Array(it*it),this.f=new Float64Array(it),this.d=new Float64Array(it),this.z=new Float64Array(it+1),this.v=new Int16Array(it),this.middle=Math.round(it/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(w,Ne,et,tt,rt,nt,it){for(var ot=0;ot<Ne;ot++){for(var at=0;at<et;at++)tt[at]=w[at*Ne+ot];for(v(tt,rt,nt,it,et),at=0;at<et;at++)w[at*Ne+ot]=rt[at]}for(at=0;at<et;at++){for(ot=0;ot<Ne;ot++)tt[ot]=w[at*Ne+ot];for(v(tt,rt,nt,it,Ne),ot=0;ot<Ne;ot++)w[at*Ne+ot]=Math.sqrt(rt[ot])}}function v(w,Ne,et,tt,rt){et[0]=0,tt[0]=-ft,tt[1]=+ft;for(var nt=1,it=0;nt<rt;nt++){for(var ot=(w[nt]+nt*nt-(w[et[it]]+et[it]*et[it]))/(2*nt-2*et[it]);ot<=tt[it];)it--,ot=(w[nt]+nt*nt-(w[et[it]]+et[it]*et[it]))/(2*nt-2*et[it]);et[++it]=nt,tt[it]=ot,tt[it+1]=+ft}for(nt=0,it=0;nt<rt;nt++){for(;tt[it+1]<nt;)it++;Ne[nt]=(nt-et[it])*(nt-et[it])+w[et[it]]}}m.prototype.draw=function(w){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(w,this.buffer,this.middle);for(var Ne=this.ctx.getImageData(0,0,this.size,this.size),et=new Uint8ClampedArray(this.size*this.size),tt=0;tt<this.size*this.size;tt++){var rt=Ne.data[4*tt+3]/255;this.gridOuter[tt]=1===rt?0:0===rt?ft:Math.pow(Math.max(0,.5-rt),2),this.gridInner[tt]=1===rt?ft:0===rt?0:Math.pow(Math.max(0,rt-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),tt=0;tt<this.size*this.size;tt++)et[tt]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[tt]-this.gridInner[tt])/this.radius+this.cutoff))));return et},ct.default=pt;var y=function(w,Ne){this.requestManager=w,this.localIdeographFontFamily=Ne,this.entries={}};y.prototype.setURL=function(w){this.url=w},y.prototype.getGlyphs=function(Ne,et){var tt=this,rt=[];for(var nt in Ne)for(var it=0,ot=Ne[nt];it<ot.length;it+=1)rt.push({stack:nt,id:ot[it]});w.asyncAll(rt,(function(w,Ne){var et=w.stack,rt=w.id,nt=tt.entries[et];nt||(nt=tt.entries[et]={glyphs:{},requests:{},ranges:{}});var it=nt.glyphs[rt];if(void 0===it){if(it=tt._tinySDF(nt,et,rt))return nt.glyphs[rt]=it,void Ne(null,{stack:et,id:rt,glyph:it});var ot=Math.floor(rt/256);if(256*ot>65535)Ne(new Error("glyphs > 65535 not supported"));else if(nt.ranges[ot])Ne(null,{stack:et,id:rt,glyph:it});else{var at=nt.requests[ot];at||(at=nt.requests[ot]=[],y.loadGlyphRange(et,ot,tt.url,tt.requestManager,(function(w,Ne){if(Ne){for(var et in Ne)tt._doesCharSupportLocalGlyph(+et)||(nt.glyphs[+et]=Ne[+et]);nt.ranges[ot]=!0}for(var rt=0,it=at;rt<it.length;rt+=1)(0,it[rt])(w,Ne);delete nt.requests[ot]}))),at.push((function(w,tt){w?Ne(w):tt&&Ne(null,{stack:et,id:rt,glyph:tt[rt]||null})}))}}else Ne(null,{stack:et,id:rt,glyph:it})}),(function(w,Ne){if(w)et(w);else if(Ne){for(var tt={},rt=0,nt=Ne;rt<nt.length;rt+=1){var it=nt[rt],ot=it.stack,at=it.id,st=it.glyph;(tt[ot]||(tt[ot]={}))[at]=st&&{id:st.id,bitmap:st.bitmap.clone(),metrics:st.metrics}}et(null,tt)}}))},y.prototype._doesCharSupportLocalGlyph=function(Ne){return!!this.localIdeographFontFamily&&(w.isChar["CJK Unified Ideographs"](Ne)||w.isChar["Hangul Syllables"](Ne)||w.isChar.Hiragana(Ne)||w.isChar.Katakana(Ne))},y.prototype._tinySDF=function(Ne,et,tt){var rt=this.localIdeographFontFamily;if(rt&&this._doesCharSupportLocalGlyph(tt)){var nt=Ne.tinySDF;if(!nt){var it="400";/bold/i.test(et)?it="900":/medium/i.test(et)?it="500":/light/i.test(et)&&(it="200"),nt=Ne.tinySDF=new y.TinySDF(24,3,8,.25,rt,it)}return{id:tt,bitmap:new w.AlphaImage({width:30,height:30},nt.draw(String.fromCharCode(tt))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(Ne,et,tt,rt,nt){var it=256*et,ot=it+255,at=rt.transformRequest(rt.normalizeGlyphsURL(tt).replace("{fontstack}",Ne).replace("{range}",it+"-"+ot),w.ResourceType.Glyphs);w.getArrayBuffer(at,(function(Ne,et){if(Ne)nt(Ne);else if(et){for(var tt={},rt=0,it=w.parseGlyphPBF(et);rt<it.length;rt+=1){var ot=it[rt];tt[ot.id]=ot}nt(null,tt)}}))},y.TinySDF=ct;var x=function(){this.specification=w.styleSpec.light.position};x.prototype.possiblyEvaluate=function(Ne,et){return w.sphericalToCartesian(Ne.expression.evaluate(et))},x.prototype.interpolate=function(Ne,et,tt){return{x:w.number(Ne.x,et.x,tt),y:w.number(Ne.y,et.y,tt),z:w.number(Ne.z,et.z,tt)}};var dt=new w.Properties({anchor:new w.DataConstantProperty(w.styleSpec.light.anchor),position:new x,color:new w.DataConstantProperty(w.styleSpec.light.color),intensity:new w.DataConstantProperty(w.styleSpec.light.intensity)}),mt=function(Ne){function i(et){Ne.call(this),this._transitionable=new w.Transitionable(dt),this.setLight(et),this._transitioning=this._transitionable.untransitioned()}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(Ne,et){if(void 0===et&&(et={}),!this._validate(w.validateLight,Ne,et))for(var tt in Ne){var rt=Ne[tt];w.endsWith(tt,"-transition")?this._transitionable.setTransition(tt.slice(0,-"-transition".length),rt):this._transitionable.setValue(tt,rt)}},i.prototype.updateTransitions=function(w){this._transitioning=this._transitionable.transitioned(w,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(w){this.properties=this._transitioning.possiblyEvaluate(w)},i.prototype._validate=function(Ne,et,tt){return(!tt||!1!==tt.validate)&&w.emitValidationErrors(this,Ne.call(w.validateStyle,w.extend({value:et,style:{glyphs:!0,sprite:!0},styleSpec:w.styleSpec})))},i}(w.Evented),T=function(w,Ne){this.width=w,this.height=Ne,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};T.prototype.getDash=function(w,Ne){var et=w.join(",")+String(Ne);return this.dashEntry[et]||(this.dashEntry[et]=this.addDash(w,Ne)),this.dashEntry[et]},T.prototype.getDashRanges=function(w,Ne,et){var tt=[],rt=w.length%2==1?-w[w.length-1]*et:0,nt=w[0]*et,it=!0;tt.push({left:rt,right:nt,isDash:it,zeroLength:0===w[0]});for(var ot=w[0],at=1;at<w.length;at++){var st=w[at];tt.push({left:rt=ot*et,right:nt=(ot+=st)*et,isDash:it=!it,zeroLength:0===st})}return tt},T.prototype.addRoundDash=function(w,Ne,et){for(var tt=Ne/2,rt=-et;rt<=et;rt++)for(var nt=this.width*(this.nextRow+et+rt),it=0,ot=w[it],at=0;at<this.width;at++){at/ot.right>1&&(ot=w[++it]);var st=Math.abs(at-ot.left),ct=Math.abs(at-ot.right),pt=Math.min(st,ct),ft=void 0,dt=rt/et*(tt+1);if(ot.isDash){var mt=tt-Math.abs(dt);ft=Math.sqrt(pt*pt+mt*mt)}else ft=tt-Math.sqrt(pt*pt+dt*dt);this.data[nt+at]=Math.max(0,Math.min(255,ft+128))}},T.prototype.addRegularDash=function(w){for(var Ne=w.length-1;Ne>=0;--Ne){var et=w[Ne],tt=w[Ne+1];et.zeroLength?w.splice(Ne,1):tt&&tt.isDash===et.isDash&&(tt.left=et.left,w.splice(Ne,1))}var rt=w[0],nt=w[w.length-1];rt.isDash===nt.isDash&&(rt.left=nt.left-this.width,nt.right=rt.right+this.width);for(var it=this.width*this.nextRow,ot=0,at=w[ot],st=0;st<this.width;st++){st/at.right>1&&(at=w[++ot]);var ct=Math.abs(st-at.left),pt=Math.abs(st-at.right),ft=Math.min(ct,pt);this.data[it+st]=Math.max(0,Math.min(255,(at.isDash?ft:-ft)+128))}},T.prototype.addDash=function(Ne,et){var tt=et?7:0,rt=2*tt+1;if(this.nextRow+rt>this.height)return w.warnOnce("LineAtlas out of space"),null;for(var nt=0,it=0;it<Ne.length;it++)nt+=Ne[it];if(0!==nt){var ot=this.width/nt,at=this.getDashRanges(Ne,this.width,ot);et?this.addRoundDash(at,ot,tt):this.addRegularDash(at)}var st={y:(this.nextRow+tt+.5)/this.height,height:2*tt/this.height,width:nt};return this.nextRow+=rt,this.dirty=!0,st},T.prototype.bind=function(w){var Ne=w.gl;this.texture?(Ne.bindTexture(Ne.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Ne.texSubImage2D(Ne.TEXTURE_2D,0,0,0,this.width,this.height,Ne.ALPHA,Ne.UNSIGNED_BYTE,this.data))):(this.texture=Ne.createTexture(),Ne.bindTexture(Ne.TEXTURE_2D,this.texture),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_S,Ne.REPEAT),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_T,Ne.REPEAT),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MIN_FILTER,Ne.LINEAR),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MAG_FILTER,Ne.LINEAR),Ne.texImage2D(Ne.TEXTURE_2D,0,Ne.ALPHA,this.width,this.height,0,Ne.ALPHA,Ne.UNSIGNED_BYTE,this.data))};var yt=function e(Ne,et){this.workerPool=Ne,this.actors=[],this.currentActor=0,this.id=w.uniqueId();for(var tt=this.workerPool.acquire(this.id),rt=0;rt<tt.length;rt++){var nt=new e.Actor(tt[rt],et,this.id);nt.name="Worker "+rt,this.actors.push(nt)}};function I(Ne,et,tt){var r=function(rt,nt){if(rt)return tt(rt);if(nt){var it=w.pick(w.extend(nt,Ne),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);nt.vector_layers&&(it.vectorLayers=nt.vector_layers,it.vectorLayerIds=it.vectorLayers.map((function(w){return w.id}))),it.tiles=et.canonicalizeTileset(it,Ne.url),tt(null,it)}};return Ne.url?w.getJSON(et.transformRequest(et.normalizeSourceURL(Ne.url),w.ResourceType.Source),r):w.browser.frame((function(){return r(null,Ne)}))}yt.prototype.broadcast=function(Ne,et,tt){w.asyncAll(this.actors,(function(w,tt){w.send(Ne,et,tt)}),tt=tt||function(){})},yt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},yt.prototype.remove=function(){this.actors.forEach((function(w){w.remove()})),this.actors=[],this.workerPool.release(this.id)},yt.Actor=w.Actor;var P=function(Ne,et,tt){this.bounds=w.LngLatBounds.convert(this.validateBounds(Ne)),this.minzoom=et||0,this.maxzoom=tt||24};P.prototype.validateBounds=function(w){return Array.isArray(w)&&4===w.length?[Math.max(-180,w[0]),Math.max(-90,w[1]),Math.min(180,w[2]),Math.min(90,w[3])]:[-180,-90,180,90]},P.prototype.contains=function(Ne){var et=Math.pow(2,Ne.z),tt=Math.floor(w.mercatorXfromLng(this.bounds.getWest())*et),rt=Math.floor(w.mercatorYfromLat(this.bounds.getNorth())*et),nt=Math.ceil(w.mercatorXfromLng(this.bounds.getEast())*et),it=Math.ceil(w.mercatorYfromLat(this.bounds.getSouth())*et);return Ne.x>=tt&&Ne.x<nt&&Ne.y>=rt&&Ne.y<it};var vt=function(Ne){function i(et,tt,rt,nt){if(Ne.call(this),this.id=et,this.dispatcher=rt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,w.extend(this,w.pick(tt,["url","scheme","tileSize","promoteId"])),this._options=w.extend({type:"vector"},tt),this._collectResourceTiming=tt.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(nt)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this._loaded=!1,this.fire(new w.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(et,tt){Ne._tileJSONRequest=null,Ne._loaded=!0,et?Ne.fire(new w.ErrorEvent(et)):tt&&(w.extend(Ne,tt),tt.bounds&&(Ne.tileBounds=new P(tt.bounds,Ne.minzoom,Ne.maxzoom)),w.postTurnstileEvent(tt.tiles,Ne.map._requestManager._customAccessToken),w.postMapLoadEvent(tt.tiles,Ne.map._getMapId(),Ne.map._requestManager._skuToken,Ne.map._requestManager._customAccessToken),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"metadata"})),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(w){return!this.tileBounds||this.tileBounds.contains(w.canonical)},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return w.extend({},this._options)},i.prototype.loadTile=function(Ne,et){var tt=this.map._requestManager.normalizeTileURL(Ne.tileID.canonical.url(this.tiles,this.scheme)),rt={request:this.map._requestManager.transformRequest(tt,w.ResourceType.Tile),uid:Ne.uid,tileID:Ne.tileID,zoom:Ne.tileID.overscaledZ,tileSize:this.tileSize*Ne.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:w.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(tt,rt){return delete Ne.request,Ne.aborted?et(null):tt&&404!==tt.status?et(tt):(rt&&rt.resourceTiming&&(Ne.resourceTiming=rt.resourceTiming),this.map._refreshExpiredTiles&&rt&&Ne.setExpiryData(rt),Ne.loadVectorData(rt,this.map.painter),w.cacheEntryPossiblyAdded(this.dispatcher),et(null),void(Ne.reloadCallback&&(this.loadTile(Ne,Ne.reloadCallback),Ne.reloadCallback=null)))}rt.request.collectResourceTiming=this._collectResourceTiming,Ne.actor&&"expired"!==Ne.state?"loading"===Ne.state?Ne.reloadCallback=et:Ne.request=Ne.actor.send("reloadTile",rt,a.bind(this)):(Ne.actor=this.dispatcher.getActor(),Ne.request=Ne.actor.send("loadTile",rt,a.bind(this)))},i.prototype.abortTile=function(w){w.request&&(w.request.cancel(),delete w.request),w.actor&&w.actor.send("abortTile",{uid:w.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(w){w.unloadVectorData(),w.actor&&w.actor.send("removeTile",{uid:w.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(w.Evented),Rt=function(Ne){function i(et,tt,rt,nt){Ne.call(this),this.id=et,this.dispatcher=rt,this.setEventedParent(nt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=w.extend({type:"raster"},tt),w.extend(this,w.pick(tt,["url","scheme","tileSize"]))}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this._loaded=!1,this.fire(new w.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(et,tt){Ne._tileJSONRequest=null,Ne._loaded=!0,et?Ne.fire(new w.ErrorEvent(et)):tt&&(w.extend(Ne,tt),tt.bounds&&(Ne.tileBounds=new P(tt.bounds,Ne.minzoom,Ne.maxzoom)),w.postTurnstileEvent(tt.tiles),w.postMapLoadEvent(tt.tiles,Ne.map._getMapId(),Ne.map._requestManager._skuToken),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"metadata"})),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return w.extend({},this._options)},i.prototype.hasTile=function(w){return!this.tileBounds||this.tileBounds.contains(w.canonical)},i.prototype.loadTile=function(Ne,et){var tt=this,rt=this.map._requestManager.normalizeTileURL(Ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);Ne.request=w.getImage(this.map._requestManager.transformRequest(rt,w.ResourceType.Tile),(function(rt,nt){if(delete Ne.request,Ne.aborted)Ne.state="unloaded",et(null);else if(rt)Ne.state="errored",et(rt);else if(nt){tt.map._refreshExpiredTiles&&Ne.setExpiryData(nt),delete nt.cacheControl,delete nt.expires;var it=tt.map.painter.context,ot=it.gl;Ne.texture=tt.map.painter.getTileTexture(nt.width),Ne.texture?Ne.texture.update(nt,{useMipmap:!0}):(Ne.texture=new w.Texture(it,nt,ot.RGBA,{useMipmap:!0}),Ne.texture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE,ot.LINEAR_MIPMAP_NEAREST),it.extTextureFilterAnisotropic&&ot.texParameterf(ot.TEXTURE_2D,it.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,it.extTextureFilterAnisotropicMax)),Ne.state="loaded",w.cacheEntryPossiblyAdded(tt.dispatcher),et(null)}}))},i.prototype.abortTile=function(w,Ne){w.request&&(w.request.cancel(),delete w.request),Ne()},i.prototype.unloadTile=function(w,Ne){w.texture&&this.map.painter.saveTileTexture(w.texture),Ne()},i.prototype.hasTransition=function(){return!1},i}(w.Evented),Ot=function(Ne){function i(et,tt,rt,nt){Ne.call(this,et,tt,rt,nt),this.type="raster-dem",this.maxzoom=22,this._options=w.extend({type:"raster-dem"},tt),this.encoding=tt.encoding||"mapbox"}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(Ne,et){var tt=this.map._requestManager.normalizeTileURL(Ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function r(w,tt){w&&(Ne.state="errored",et(w)),tt&&(Ne.dem=tt,Ne.needsHillshadePrepare=!0,Ne.state="loaded",et(null))}Ne.request=w.getImage(this.map._requestManager.transformRequest(tt,w.ResourceType.Tile),function(tt,rt){if(delete Ne.request,Ne.aborted)Ne.state="unloaded",et(null);else if(tt)Ne.state="errored",et(tt);else if(rt){this.map._refreshExpiredTiles&&Ne.setExpiryData(rt),delete rt.cacheControl,delete rt.expires;var nt=w.window.ImageBitmap&&rt instanceof w.window.ImageBitmap&&w.offscreenCanvasSupported()?rt:w.browser.getImageData(rt,1),it={uid:Ne.uid,coord:Ne.tileID,source:this.id,rawImageData:nt,encoding:this.encoding};Ne.actor&&"expired"!==Ne.state||(Ne.actor=this.dispatcher.getActor(),Ne.actor.send("loadDEMTile",it,r.bind(this)))}}.bind(this)),Ne.neighboringTiles=this._getNeighboringTiles(Ne.tileID)},i.prototype._getNeighboringTiles=function(Ne){var et=Ne.canonical,tt=Math.pow(2,et.z),rt=(et.x-1+tt)%tt,nt=0===et.x?Ne.wrap-1:Ne.wrap,it=(et.x+1+tt)%tt,ot=et.x+1===tt?Ne.wrap+1:Ne.wrap,at={};return at[new w.OverscaledTileID(Ne.overscaledZ,nt,et.z,rt,et.y).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,ot,et.z,it,et.y).key]={backfilled:!1},et.y>0&&(at[new w.OverscaledTileID(Ne.overscaledZ,nt,et.z,rt,et.y-1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,Ne.wrap,et.z,et.x,et.y-1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,ot,et.z,it,et.y-1).key]={backfilled:!1}),et.y+1<tt&&(at[new w.OverscaledTileID(Ne.overscaledZ,nt,et.z,rt,et.y+1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,Ne.wrap,et.z,et.x,et.y+1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,ot,et.z,it,et.y+1).key]={backfilled:!1}),at},i.prototype.unloadTile=function(w){w.demTexture&&this.map.painter.saveTileTexture(w.demTexture),w.fbo&&(w.fbo.destroy(),delete w.fbo),w.dem&&delete w.dem,delete w.neighboringTiles,w.state="unloaded",w.actor&&w.actor.send("removeDEMTile",{uid:w.uid,source:this.id})},i}(Rt),Dt=function(Ne){function i(et,tt,rt,nt){Ne.call(this),this.id=et,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=rt.getActor(),this.setEventedParent(nt),this._data=tt.data,this._options=w.extend({},tt),this._collectResourceTiming=tt.collectResourceTiming,this._resourceTiming=[],void 0!==tt.maxzoom&&(this.maxzoom=tt.maxzoom),tt.type&&(this.type=tt.type),tt.attribution&&(this.attribution=tt.attribution),this.promoteId=tt.promoteId;var it=w.EXTENT/this.tileSize;this.workerOptions=w.extend({source:this.id,cluster:tt.cluster||!1,geojsonVtOptions:{buffer:(void 0!==tt.buffer?tt.buffer:128)*it,tolerance:(void 0!==tt.tolerance?tt.tolerance:.375)*it,extent:w.EXTENT,maxZoom:this.maxzoom,lineMetrics:tt.lineMetrics||!1,generateId:tt.generateId||!1},superclusterOptions:{maxZoom:void 0!==tt.clusterMaxZoom?Math.min(tt.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,tt.clusterMinPoints||2),extent:w.EXTENT,radius:(tt.clusterRadius||50)*it,log:!1,generateId:tt.generateId||!1},clusterProperties:tt.clusterProperties},tt.workerOptions)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this.fire(new w.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(et){if(et)Ne.fire(new w.ErrorEvent(et));else{var tt={dataType:"source",sourceDataType:"metadata"};Ne._collectResourceTiming&&Ne._resourceTiming&&Ne._resourceTiming.length>0&&(tt.resourceTiming=Ne._resourceTiming,Ne._resourceTiming=[]),Ne.fire(new w.Event("data",tt))}}))},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.setData=function(Ne){var et=this;return this._data=Ne,this.fire(new w.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(Ne){if(Ne)et.fire(new w.ErrorEvent(Ne));else{var tt={dataType:"source",sourceDataType:"content"};et._collectResourceTiming&&et._resourceTiming&&et._resourceTiming.length>0&&(tt.resourceTiming=et._resourceTiming,et._resourceTiming=[]),et.fire(new w.Event("data",tt))}})),this},i.prototype.getClusterExpansionZoom=function(w,Ne){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:w,source:this.id},Ne),this},i.prototype.getClusterChildren=function(w,Ne){return this.actor.send("geojson.getClusterChildren",{clusterId:w,source:this.id},Ne),this},i.prototype.getClusterLeaves=function(w,Ne,et,tt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:w,limit:Ne,offset:et},tt),this},i.prototype._updateWorkerData=function(Ne){var et=this;this._loaded=!1;var tt=w.extend({},this.workerOptions),rt=this._data;"string"==typeof rt?(tt.request=this.map._requestManager.transformRequest(w.browser.resolveURL(rt),w.ResourceType.Source),tt.request.collectResourceTiming=this._collectResourceTiming):tt.data=JSON.stringify(rt),this.actor.send(this.type+".loadData",tt,(function(w,rt){et._removed||rt&&rt.abandoned||(et._loaded=!0,rt&&rt.resourceTiming&&rt.resourceTiming[et.id]&&(et._resourceTiming=rt.resourceTiming[et.id].slice(0)),et.actor.send(et.type+".coalesce",{source:tt.source},null),Ne(w))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(Ne,et){var tt=this,rt=Ne.actor?"reloadTile":"loadTile";Ne.actor=this.actor,Ne.request=this.actor.send(rt,{type:this.type,uid:Ne.uid,tileID:Ne.tileID,zoom:Ne.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:w.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(w,nt){return delete Ne.request,Ne.unloadVectorData(),Ne.aborted?et(null):w?et(w):(Ne.loadVectorData(nt,tt.map.painter,"reloadTile"===rt),et(null))}))},i.prototype.abortTile=function(w){w.request&&(w.request.cancel(),delete w.request),w.aborted=!0},i.prototype.unloadTile=function(w){w.unloadVectorData(),this.actor.send("removeTile",{uid:w.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return w.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(w.Evented),Bt=w.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),er=function(Ne){function i(w,et,tt,rt){Ne.call(this),this.id=w,this.dispatcher=tt,this.coordinates=et.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(rt),this.options=et}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(Ne,et){var tt=this;this._loaded=!1,this.fire(new w.Event("dataloading",{dataType:"source"})),this.url=this.options.url,w.getImage(this.map._requestManager.transformRequest(this.url,w.ResourceType.Image),(function(rt,nt){tt._loaded=!0,rt?tt.fire(new w.ErrorEvent(rt)):nt&&(tt.image=nt,Ne&&(tt.coordinates=Ne),et&&et(),tt._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(w){var Ne=this;return this.image&&w.url?(this.options.url=w.url,this.load(w.coordinates,(function(){Ne.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new w.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.setCoordinates=function(Ne){var et=this;this.coordinates=Ne;var tt=Ne.map(w.MercatorCoordinate.fromLngLat);this.tileID=function(Ne){for(var et=1/0,tt=1/0,rt=-1/0,nt=-1/0,it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it];et=Math.min(et,at.x),tt=Math.min(tt,at.y),rt=Math.max(rt,at.x),nt=Math.max(nt,at.y)}var st=Math.max(rt-et,nt-tt),ct=Math.max(0,Math.floor(-Math.log(st)/Math.LN2)),pt=Math.pow(2,ct);return new w.CanonicalTileID(ct,Math.floor((et+rt)/2*pt),Math.floor((tt+nt)/2*pt))}(tt),this.minzoom=this.maxzoom=this.tileID.z;var rt=tt.map((function(w){return et.tileID.getTilePoint(w)._round()}));return this._boundsArray=new w.StructArrayLayout4i8,this._boundsArray.emplaceBack(rt[0].x,rt[0].y,0,0),this._boundsArray.emplaceBack(rt[1].x,rt[1].y,w.EXTENT,0),this._boundsArray.emplaceBack(rt[3].x,rt[3].y,0,w.EXTENT),this._boundsArray.emplaceBack(rt[2].x,rt[2].y,w.EXTENT,w.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new w.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var Ne=this.map.painter.context,et=Ne.gl;for(var tt in this.boundsBuffer||(this.boundsBuffer=Ne.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=w.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new w.Texture(Ne,this.image,et.RGBA),this.texture.bind(et.LINEAR,et.CLAMP_TO_EDGE)),this.tiles){var rt=this.tiles[tt];"loaded"!==rt.state&&(rt.state="loaded",rt.texture=this.texture)}}},i.prototype.loadTile=function(w,Ne){this.tileID&&this.tileID.equals(w.tileID.canonical)?(this.tiles[String(w.tileID.wrap)]=w,w.buckets={},Ne(null)):(w.state="errored",Ne(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(w.Evented),rr=function(Ne){function i(w,et,tt,rt){Ne.call(this,w,et,tt,rt),this.roundZoom=!0,this.type="video",this.options=et}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this._loaded=!1;var et=this.options;this.urls=[];for(var tt=0,rt=et.urls;tt<rt.length;tt+=1)this.urls.push(this.map._requestManager.transformRequest(rt[tt],w.ResourceType.Source).url);w.getVideo(this.urls,(function(et,tt){Ne._loaded=!0,et?Ne.fire(new w.ErrorEvent(et)):tt&&(Ne.video=tt,Ne.video.loop=!0,Ne.video.addEventListener("playing",(function(){Ne.map.triggerRepaint()})),Ne.map&&Ne.video.play(),Ne._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(Ne){if(this.video){var et=this.video.seekable;Ne<et.start(0)||Ne>et.end(0)?this.fire(new w.ErrorEvent(new w.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+et.start(0)+" and "+et.end(0)+"-second mark."))):this.video.currentTime=Ne}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(w){this.map||(this.map=w,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var Ne=this.map.painter.context,et=Ne.gl;for(var tt in this.boundsBuffer||(this.boundsBuffer=Ne.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=w.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(et.LINEAR,et.CLAMP_TO_EDGE),et.texSubImage2D(et.TEXTURE_2D,0,0,0,et.RGBA,et.UNSIGNED_BYTE,this.video)):(this.texture=new w.Texture(Ne,this.video,et.RGBA),this.texture.bind(et.LINEAR,et.CLAMP_TO_EDGE)),this.tiles){var rt=this.tiles[tt];"loaded"!==rt.state&&(rt.state="loaded",rt.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(er),vr=function(Ne){function i(et,tt,rt,nt){Ne.call(this,et,tt,rt,nt),tt.coordinates?Array.isArray(tt.coordinates)&&4===tt.coordinates.length&&!tt.coordinates.some((function(w){return!Array.isArray(w)||2!==w.length||w.some((function(w){return"number"!=typeof w}))}))||this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'missing required property "coordinates"'))),tt.animate&&"boolean"!=typeof tt.animate&&this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'optional "animate" property must be a boolean value'))),tt.canvas?"string"==typeof tt.canvas||tt.canvas instanceof w.window.HTMLCanvasElement||this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'missing required property "canvas"'))),this.options=tt,this.animate=void 0===tt.animate||tt.animate}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof w.window.HTMLCanvasElement?this.options.canvas:w.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new w.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(w){this.map=w,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var Ne=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,Ne=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,Ne=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var et=this.map.painter.context,tt=et.gl;for(var rt in this.boundsBuffer||(this.boundsBuffer=et.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=w.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(Ne||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new w.Texture(et,this.canvas,tt.RGBA,{premultiply:!0}),this.tiles){var nt=this.tiles[rt];"loaded"!==nt.state&&(nt.state="loaded",nt.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var w=0,Ne=[this.canvas.width,this.canvas.height];w<Ne.length;w+=1){var et=Ne[w];if(isNaN(et)||et<=0)return!0}return!1},i}(er),wr={vector:vt,raster:Rt,"raster-dem":Ot,geojson:Dt,video:rr,image:er,canvas:vr};function B(Ne,et){var tt=w.identity([]);return w.translate(tt,tt,[1,1,0]),w.scale(tt,tt,[.5*Ne.width,.5*Ne.height,1]),w.multiply(tt,tt,Ne.calculatePosMatrix(et.toUnwrapped()))}function O(w,Ne,et,tt,rt,nt){var it=function(w,Ne,et){if(w)for(var tt=0,rt=w;tt<rt.length;tt+=1){var nt=Ne[rt[tt]];if(nt&&nt.source===et&&"fill-extrusion"===nt.type)return!0}else for(var it in Ne){var ot=Ne[it];if(ot.source===et&&"fill-extrusion"===ot.type)return!0}return!1}(rt&&rt.layers,Ne,w.id),ot=nt.maxPitchScaleFactor(),at=w.tilesIn(tt,ot,it);at.sort(F);for(var st=[],ct=0,pt=at;ct<pt.length;ct+=1){var ft=pt[ct];st.push({wrappedTileID:ft.tileID.wrapped().key,queryResults:ft.tile.queryRenderedFeatures(Ne,et,w._state,ft.queryGeometry,ft.cameraQueryGeometry,ft.scale,rt,nt,ot,B(w.transform,ft.tileID))})}var dt=function(w){for(var Ne={},et={},tt=0,rt=w;tt<rt.length;tt+=1){var nt=rt[tt],it=nt.queryResults,ot=nt.wrappedTileID,at=et[ot]=et[ot]||{};for(var st in it)for(var ct=it[st],pt=at[st]=at[st]||{},ft=Ne[st]=Ne[st]||[],dt=0,mt=ct;dt<mt.length;dt+=1){var yt=mt[dt];pt[yt.featureIndex]||(pt[yt.featureIndex]=!0,ft.push(yt))}}return Ne}(st);for(var mt in dt)dt[mt].forEach((function(Ne){var et=Ne.feature,tt=w.getFeatureState(et.layer["source-layer"],et.id);et.source=et.layer.source,et.layer["source-layer"]&&(et.sourceLayer=et.layer["source-layer"]),et.state=tt}));return dt}function F(w,Ne){var et=w.tileID,tt=Ne.tileID;return et.overscaledZ-tt.overscaledZ||et.canonical.y-tt.canonical.y||et.wrap-tt.wrap||et.canonical.x-tt.canonical.x}var U=function(w,Ne){this.max=w,this.onRemove=Ne,this.reset()};U.prototype.reset=function(){for(var w in this.data)for(var Ne=0,et=this.data[w];Ne<et.length;Ne+=1){var tt=et[Ne];tt.timeout&&clearTimeout(tt.timeout),this.onRemove(tt.value)}return this.data={},this.order=[],this},U.prototype.add=function(w,Ne,et){var tt=this,rt=w.wrapped().key;void 0===this.data[rt]&&(this.data[rt]=[]);var nt={value:Ne,timeout:void 0};if(void 0!==et&&(nt.timeout=setTimeout((function(){tt.remove(w,nt)}),et)),this.data[rt].push(nt),this.order.push(rt),this.order.length>this.max){var it=this._getAndRemoveByKey(this.order[0]);it&&this.onRemove(it)}return this},U.prototype.has=function(w){return w.wrapped().key in this.data},U.prototype.getAndRemove=function(w){return this.has(w)?this._getAndRemoveByKey(w.wrapped().key):null},U.prototype._getAndRemoveByKey=function(w){var Ne=this.data[w].shift();return Ne.timeout&&clearTimeout(Ne.timeout),0===this.data[w].length&&delete this.data[w],this.order.splice(this.order.indexOf(w),1),Ne.value},U.prototype.getByKey=function(w){var Ne=this.data[w];return Ne?Ne[0].value:null},U.prototype.get=function(w){return this.has(w)?this.data[w.wrapped().key][0].value:null},U.prototype.remove=function(w,Ne){if(!this.has(w))return this;var et=w.wrapped().key,tt=void 0===Ne?0:this.data[et].indexOf(Ne),rt=this.data[et][tt];return this.data[et].splice(tt,1),rt.timeout&&clearTimeout(rt.timeout),0===this.data[et].length&&delete this.data[et],this.onRemove(rt.value),this.order.splice(this.order.indexOf(et),1),this},U.prototype.setMaxSize=function(w){for(this.max=w;this.order.length>this.max;){var Ne=this._getAndRemoveByKey(this.order[0]);Ne&&this.onRemove(Ne)}return this},U.prototype.filter=function(w){var Ne=[];for(var et in this.data)for(var tt=0,rt=this.data[et];tt<rt.length;tt+=1){var nt=rt[tt];w(nt.value)||Ne.push(nt)}for(var it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it];this.remove(at.value.tileID,at)}};var N=function(w,Ne,et){this.context=w;var tt=w.gl;this.buffer=tt.createBuffer(),this.dynamicDraw=Boolean(et),this.context.unbindVAO(),w.bindElementBuffer.set(this.buffer),tt.bufferData(tt.ELEMENT_ARRAY_BUFFER,Ne.arrayBuffer,this.dynamicDraw?tt.DYNAMIC_DRAW:tt.STATIC_DRAW),this.dynamicDraw||delete Ne.arrayBuffer};N.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},N.prototype.updateData=function(w){var Ne=this.context.gl;this.context.unbindVAO(),this.bind(),Ne.bufferSubData(Ne.ELEMENT_ARRAY_BUFFER,0,w.arrayBuffer)},N.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Sr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},j=function(w,Ne,et,tt){this.length=Ne.length,this.attributes=et,this.itemSize=Ne.bytesPerElement,this.dynamicDraw=tt,this.context=w;var rt=w.gl;this.buffer=rt.createBuffer(),w.bindVertexBuffer.set(this.buffer),rt.bufferData(rt.ARRAY_BUFFER,Ne.arrayBuffer,this.dynamicDraw?rt.DYNAMIC_DRAW:rt.STATIC_DRAW),this.dynamicDraw||delete Ne.arrayBuffer};j.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},j.prototype.updateData=function(w){var Ne=this.context.gl;this.bind(),Ne.bufferSubData(Ne.ARRAY_BUFFER,0,w.arrayBuffer)},j.prototype.enableAttributes=function(w,Ne){for(var et=0;et<this.attributes.length;et++){var tt=Ne.attributes[this.attributes[et].name];void 0!==tt&&w.enableVertexAttribArray(tt)}},j.prototype.setVertexAttribPointers=function(w,Ne,et){for(var tt=0;tt<this.attributes.length;tt++){var rt=this.attributes[tt],nt=Ne.attributes[rt.name];void 0!==nt&&w.vertexAttribPointer(nt,rt.components,w[Sr[rt.type]],!1,this.itemSize,rt.offset+this.itemSize*(et||0))}},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var q=function(w){this.gl=w.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(w){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var rn=function(Ne){function i(){Ne.apply(this,arguments)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getDefault=function(){return w.Color.transparent},i.prototype.set=function(w){var Ne=this.current;(w.r!==Ne.r||w.g!==Ne.g||w.b!==Ne.b||w.a!==Ne.a||this.dirty)&&(this.gl.clearColor(w.r,w.g,w.b,w.a),this.current=w,this.dirty=!1)},i}(q),vn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.clearDepth(w),this.current=w,this.dirty=!1)},e}(q),bn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.clearStencil(w),this.current=w,this.dirty=!1)},e}(q),Tn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||w[2]!==Ne[2]||w[3]!==Ne[3]||this.dirty)&&(this.gl.colorMask(w[0],w[1],w[2],w[3]),this.current=w,this.dirty=!1)},e}(q),Cn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.depthMask(w),this.current=w,this.dirty=!1)},e}(q),In=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.stencilMask(w),this.current=w,this.dirty=!1)},e}(q),zn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(w){var Ne=this.current;(w.func!==Ne.func||w.ref!==Ne.ref||w.mask!==Ne.mask||this.dirty)&&(this.gl.stencilFunc(w.func,w.ref,w.mask),this.current=w,this.dirty=!1)},e}(q),Mn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){var w=this.gl;return[w.KEEP,w.KEEP,w.KEEP]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||w[2]!==Ne[2]||this.dirty)&&(this.gl.stencilOp(w[0],w[1],w[2]),this.current=w,this.dirty=!1)},e}(q),Ln=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.STENCIL_TEST):Ne.disable(Ne.STENCIL_TEST),this.current=w,this.dirty=!1}},e}(q),Fn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||this.dirty)&&(this.gl.depthRange(w[0],w[1]),this.current=w,this.dirty=!1)},e}(q),Bn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.DEPTH_TEST):Ne.disable(Ne.DEPTH_TEST),this.current=w,this.dirty=!1}},e}(q),Nn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.depthFunc(w),this.current=w,this.dirty=!1)},e}(q),Vn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.BLEND):Ne.disable(Ne.BLEND),this.current=w,this.dirty=!1}},e}(q),Wn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){var w=this.gl;return[w.ONE,w.ZERO]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||this.dirty)&&(this.gl.blendFunc(w[0],w[1]),this.current=w,this.dirty=!1)},e}(q),$n=function(Ne){function i(){Ne.apply(this,arguments)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getDefault=function(){return w.Color.transparent},i.prototype.set=function(w){var Ne=this.current;(w.r!==Ne.r||w.g!==Ne.g||w.b!==Ne.b||w.a!==Ne.a||this.dirty)&&(this.gl.blendColor(w.r,w.g,w.b,w.a),this.current=w,this.dirty=!1)},i}(q),Yn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.blendEquation(w),this.current=w,this.dirty=!1)},e}(q),ii=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.CULL_FACE):Ne.disable(Ne.CULL_FACE),this.current=w,this.dirty=!1}},e}(q),qi=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.cullFace(w),this.current=w,this.dirty=!1)},e}(q),uo=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.frontFace(w),this.current=w,this.dirty=!1)},e}(q),po=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.useProgram(w),this.current=w,this.dirty=!1)},e}(q),vo=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.activeTexture(w),this.current=w,this.dirty=!1)},e}(q),So=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){var w=this.gl;return[0,0,w.drawingBufferWidth,w.drawingBufferHeight]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||w[2]!==Ne[2]||w[3]!==Ne[3]||this.dirty)&&(this.gl.viewport(w[0],w[1],w[2],w[3]),this.current=w,this.dirty=!1)},e}(q),ea=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindFramebuffer(Ne.FRAMEBUFFER,w),this.current=w,this.dirty=!1}},e}(q),ta=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindRenderbuffer(Ne.RENDERBUFFER,w),this.current=w,this.dirty=!1}},e}(q),ia=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindTexture(Ne.TEXTURE_2D,w),this.current=w,this.dirty=!1}},e}(q),sa=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindBuffer(Ne.ARRAY_BUFFER,w),this.current=w,this.dirty=!1}},e}(q),la=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){var Ne=this.gl;Ne.bindBuffer(Ne.ELEMENT_ARRAY_BUFFER,w),this.current=w,this.dirty=!1},e}(q),fa=function(w){function e(Ne){w.call(this,Ne),this.vao=Ne.extVertexArrayObject}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){this.vao&&(w!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(w),this.current=w,this.dirty=!1)},e}(q),ga=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.pixelStorei(Ne.UNPACK_ALIGNMENT,w),this.current=w,this.dirty=!1}},e}(q),_a=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.pixelStorei(Ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w),this.current=w,this.dirty=!1}},e}(q),Aa=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.pixelStorei(Ne.UNPACK_FLIP_Y_WEBGL,w),this.current=w,this.dirty=!1}},e}(q),os=function(w){function e(Ne,et){w.call(this,Ne),this.context=Ne,this.parent=et}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(q),as=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(w){if(w!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var Ne=this.gl;Ne.framebufferTexture2D(Ne.FRAMEBUFFER,Ne.COLOR_ATTACHMENT0,Ne.TEXTURE_2D,w,0),this.current=w,this.dirty=!1}},e}(os),ss=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){if(w!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var Ne=this.gl;Ne.framebufferRenderbuffer(Ne.FRAMEBUFFER,Ne.DEPTH_ATTACHMENT,Ne.RENDERBUFFER,w),this.current=w,this.dirty=!1}},e}(os),Et=function(w,Ne,et,tt){this.context=w,this.width=Ne,this.height=et;var rt=this.framebuffer=w.gl.createFramebuffer();this.colorAttachment=new as(w,rt),tt&&(this.depthAttachment=new ss(w,rt))};Et.prototype.destroy=function(){var w=this.context.gl,Ne=this.colorAttachment.get();if(Ne&&w.deleteTexture(Ne),this.depthAttachment){var et=this.depthAttachment.get();et&&w.deleteRenderbuffer(et)}w.deleteFramebuffer(this.framebuffer)};var It=function(w,Ne,et){this.func=w,this.mask=Ne,this.range=et};It.ReadOnly=!1,It.ReadWrite=!0,It.disabled=new It(519,It.ReadOnly,[0,1]);var Pt=function(w,Ne,et,tt,rt,nt){this.test=w,this.ref=Ne,this.mask=et,this.fail=tt,this.depthFail=rt,this.pass=nt};Pt.disabled=new Pt({func:519,mask:0},0,0,7680,7680,7680);var St=function(w,Ne,et){this.blendFunction=w,this.blendColor=Ne,this.mask=et};St.disabled=new St(St.Replace=[1,0],w.Color.transparent,[!1,!1,!1,!1]),St.unblended=new St(St.Replace,w.Color.transparent,[!0,!0,!0,!0]),St.alphaBlended=new St([1,771],w.Color.transparent,[!0,!0,!0,!0]);var Ct=function(w,Ne,et){this.enable=w,this.mode=Ne,this.frontFace=et};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var zt=function(w){this.gl=w,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new rn(this),this.clearDepth=new vn(this),this.clearStencil=new bn(this),this.colorMask=new Tn(this),this.depthMask=new Cn(this),this.stencilMask=new In(this),this.stencilFunc=new zn(this),this.stencilOp=new Mn(this),this.stencilTest=new Ln(this),this.depthRange=new Fn(this),this.depthTest=new Bn(this),this.depthFunc=new Nn(this),this.blend=new Vn(this),this.blendFunc=new Wn(this),this.blendColor=new $n(this),this.blendEquation=new Yn(this),this.cullFace=new ii(this),this.cullFaceSide=new qi(this),this.frontFace=new uo(this),this.program=new po(this),this.activeTexture=new vo(this),this.viewport=new So(this),this.bindFramebuffer=new ea(this),this.bindRenderbuffer=new ta(this),this.bindTexture=new ia(this),this.bindVertexBuffer=new sa(this),this.bindElementBuffer=new la(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new fa(this),this.pixelStoreUnpack=new ga(this),this.pixelStoreUnpackPremultiplyAlpha=new _a(this),this.pixelStoreUnpackFlipY=new Aa(this),this.extTextureFilterAnisotropic=w.getExtension("EXT_texture_filter_anisotropic")||w.getExtension("MOZ_EXT_texture_filter_anisotropic")||w.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=w.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=w.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(w.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=w.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=w.getExtension("EXT_disjoint_timer_query")};zt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},zt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},zt.prototype.createIndexBuffer=function(w,Ne){return new N(this,w,Ne)},zt.prototype.createVertexBuffer=function(w,Ne,et){return new j(this,w,Ne,et)},zt.prototype.createRenderbuffer=function(w,Ne,et){var tt=this.gl,rt=tt.createRenderbuffer();return this.bindRenderbuffer.set(rt),tt.renderbufferStorage(tt.RENDERBUFFER,w,Ne,et),this.bindRenderbuffer.set(null),rt},zt.prototype.createFramebuffer=function(w,Ne,et){return new Et(this,w,Ne,et)},zt.prototype.clear=function(w){var Ne=w.color,et=w.depth,tt=this.gl,rt=0;Ne&&(rt|=tt.COLOR_BUFFER_BIT,this.clearColor.set(Ne),this.colorMask.set([!0,!0,!0,!0])),void 0!==et&&(rt|=tt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(et),this.depthMask.set(!0)),tt.clear(rt)},zt.prototype.setCullFace=function(w){!1===w.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(w.mode),this.frontFace.set(w.frontFace))},zt.prototype.setDepthMode=function(w){w.func!==this.gl.ALWAYS||w.mask?(this.depthTest.set(!0),this.depthFunc.set(w.func),this.depthMask.set(w.mask),this.depthRange.set(w.range)):this.depthTest.set(!1)},zt.prototype.setStencilMode=function(w){w.test.func!==this.gl.ALWAYS||w.mask?(this.stencilTest.set(!0),this.stencilMask.set(w.mask),this.stencilOp.set([w.fail,w.depthFail,w.pass]),this.stencilFunc.set({func:w.test.func,ref:w.ref,mask:w.test.mask})):this.stencilTest.set(!1)},zt.prototype.setColorMode=function(Ne){w.deepEqual(Ne.blendFunction,St.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Ne.blendFunction),this.blendColor.set(Ne.blendColor)),this.colorMask.set(Ne.mask)},zt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ls=function(Ne){function i(et,tt,rt){var nt=this;Ne.call(this),this.id=et,this.dispatcher=rt,this.on("data",(function(w){"source"===w.dataType&&"metadata"===w.sourceDataType&&(nt._sourceLoaded=!0),nt._sourceLoaded&&!nt._paused&&"source"===w.dataType&&"content"===w.sourceDataType&&(nt.reload(),nt.transform&&nt.update(nt.transform))})),this.on("error",(function(){nt._sourceErrored=!0})),this._source=function(Ne,et,tt,rt){var nt=new wr[et.type](Ne,et,tt,rt);if(nt.id!==Ne)throw new Error("Expected Source id to be "+Ne+" instead of "+nt.id);return w.bindAll(["load","abort","unload","serialize","prepare"],nt),nt}(et,tt,rt,this),this._tiles={},this._cache=new U(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new w.SourceFeatureState}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.onAdd=function(w){this.map=w,this._maxTileCacheSize=w?w._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(w)},i.prototype.onRemove=function(w){this._source&&this._source.onRemove&&this._source.onRemove(w)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var w in this._tiles){var Ne=this._tiles[w];if("loaded"!==Ne.state&&"errored"!==Ne.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var w=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,w&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(w,Ne){return this._source.loadTile(w,Ne)},i.prototype._unloadTile=function(w){if(this._source.unloadTile)return this._source.unloadTile(w,(function(){}))},i.prototype._abortTile=function(w){if(this._source.abortTile)return this._source.abortTile(w,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(w){for(var Ne in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var et=this._tiles[Ne];et.upload(w),et.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return w.values(this._tiles).map((function(w){return w.tileID})).sort(Mt).map((function(w){return w.key}))},i.prototype.getRenderableIds=function(Ne){var et=this,tt=[];for(var rt in this._tiles)this._isIdRenderable(rt,Ne)&&tt.push(this._tiles[rt]);return Ne?tt.sort((function(Ne,tt){var rt=Ne.tileID,nt=tt.tileID,it=new w.Point(rt.canonical.x,rt.canonical.y)._rotate(et.transform.angle),ot=new w.Point(nt.canonical.x,nt.canonical.y)._rotate(et.transform.angle);return rt.overscaledZ-nt.overscaledZ||ot.y-it.y||ot.x-it.x})).map((function(w){return w.tileID.key})):tt.map((function(w){return w.tileID})).sort(Mt).map((function(w){return w.key}))},i.prototype.hasRenderableParent=function(w){var Ne=this.findLoadedParent(w,0);return!!Ne&&this._isIdRenderable(Ne.tileID.key)},i.prototype._isIdRenderable=function(w,Ne){return this._tiles[w]&&this._tiles[w].hasData()&&!this._coveredTiles[w]&&(Ne||!this._tiles[w].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var w in this._cache.reset(),this._tiles)"errored"!==this._tiles[w].state&&this._reloadTile(w,"reloading")},i.prototype._reloadTile=function(w,Ne){var et=this._tiles[w];et&&("loading"!==et.state&&(et.state=Ne),this._loadTile(et,this._tileLoaded.bind(this,et,w,Ne)))},i.prototype._tileLoaded=function(Ne,et,tt,rt){if(rt)return Ne.state="errored",void(404!==rt.status?this._source.fire(new w.ErrorEvent(rt,{tile:Ne})):this.update(this.transform));Ne.timeAdded=w.browser.now(),"expired"===tt&&(Ne.refreshedUponExpiration=!0),this._setTileReloadTimer(et,Ne),"raster-dem"===this.getSource().type&&Ne.dem&&this._backfillDEM(Ne),this._state.initializeTileState(Ne,this.map?this.map.painter:null),this._source.fire(new w.Event("data",{dataType:"source",tile:Ne,coord:Ne.tileID}))},i.prototype._backfillDEM=function(w){for(var Ne=this.getRenderableIds(),et=0;et<Ne.length;et++){var tt=Ne[et];if(w.neighboringTiles&&w.neighboringTiles[tt]){var rt=this.getTileByID(tt);a(w,rt),a(rt,w)}}function a(w,Ne){w.needsHillshadePrepare=!0;var et=Ne.tileID.canonical.x-w.tileID.canonical.x,tt=Ne.tileID.canonical.y-w.tileID.canonical.y,rt=Math.pow(2,w.tileID.canonical.z),nt=Ne.tileID.key;0===et&&0===tt||Math.abs(tt)>1||(Math.abs(et)>1&&(1===Math.abs(et+rt)?et+=rt:1===Math.abs(et-rt)&&(et-=rt)),Ne.dem&&w.dem&&(w.dem.backfillBorder(Ne.dem,et,tt),w.neighboringTiles&&w.neighboringTiles[nt]&&(w.neighboringTiles[nt].backfilled=!0)))}},i.prototype.getTile=function(w){return this.getTileByID(w.key)},i.prototype.getTileByID=function(w){return this._tiles[w]},i.prototype._retainLoadedChildren=function(w,Ne,et,tt){for(var rt in this._tiles){var nt=this._tiles[rt];if(!(tt[rt]||!nt.hasData()||nt.tileID.overscaledZ<=Ne||nt.tileID.overscaledZ>et)){for(var it=nt.tileID;nt&&nt.tileID.overscaledZ>Ne+1;){var ot=nt.tileID.scaledTo(nt.tileID.overscaledZ-1);(nt=this._tiles[ot.key])&&nt.hasData()&&(it=ot)}for(var at=it;at.overscaledZ>Ne;)if(w[(at=at.scaledTo(at.overscaledZ-1)).key]){tt[it.key]=it;break}}}},i.prototype.findLoadedParent=function(w,Ne){if(w.key in this._loadedParentTiles){var et=this._loadedParentTiles[w.key];return et&&et.tileID.overscaledZ>=Ne?et:null}for(var tt=w.overscaledZ-1;tt>=Ne;tt--){var rt=w.scaledTo(tt),nt=this._getLoadedTile(rt);if(nt)return nt}},i.prototype._getLoadedTile=function(w){var Ne=this._tiles[w.key];return Ne&&Ne.hasData()?Ne:this._cache.getByKey(w.wrapped().key)},i.prototype.updateCacheSize=function(w){var Ne=Math.ceil(w.width/this._source.tileSize)+1,et=Math.ceil(w.height/this._source.tileSize)+1,tt=Math.floor(Ne*et*5),rt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,tt):tt;this._cache.setMaxSize(rt)},i.prototype.handleWrapJump=function(w){var Ne=Math.round((w-(void 0===this._prevLng?w:this._prevLng))/360);if(this._prevLng=w,Ne){var et={};for(var tt in this._tiles){var rt=this._tiles[tt];rt.tileID=rt.tileID.unwrapTo(rt.tileID.wrap+Ne),et[rt.tileID.key]=rt}for(var nt in this._tiles=et,this._timers)clearTimeout(this._timers[nt]),delete this._timers[nt];for(var it in this._tiles)this._setTileReloadTimer(it,this._tiles[it])}},i.prototype.update=function(Ne){var et=this;if(this.transform=Ne,this._sourceLoaded&&!this._paused){var tt;this.updateCacheSize(Ne),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?tt=Ne.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(Ne){return new w.OverscaledTileID(Ne.canonical.z,Ne.wrap,Ne.canonical.z,Ne.canonical.x,Ne.canonical.y)})):(tt=Ne.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(tt=tt.filter((function(w){return et._source.hasTile(w)})))):tt=[];var rt=Ne.coveringZoomLevel(this._source),nt=Math.max(rt-i.maxOverzooming,this._source.minzoom),it=Math.max(rt+i.maxUnderzooming,this._source.minzoom),ot=this._updateRetainedTiles(tt,rt);if(Lt(this._source.type)){for(var at={},st={},ct=0,pt=Object.keys(ot);ct<pt.length;ct+=1){var ft=pt[ct],dt=ot[ft],mt=this._tiles[ft];if(mt&&!(mt.fadeEndTime&&mt.fadeEndTime<=w.browser.now())){var yt=this.findLoadedParent(dt,nt);yt&&(this._addTile(yt.tileID),at[yt.tileID.key]=yt.tileID),st[ft]=dt}}for(var vt in this._retainLoadedChildren(st,rt,it,ot),at)ot[vt]||(this._coveredTiles[vt]=!0,ot[vt]=at[vt])}for(var Rt in ot)this._tiles[Rt].clearFadeHold();for(var Ot=0,Dt=w.keysDifference(this._tiles,ot);Ot<Dt.length;Ot+=1){var Bt=Dt[Ot],er=this._tiles[Bt];er.hasSymbolBuckets&&!er.holdingForFade()?er.setHoldDuration(this.map._fadeDuration):er.hasSymbolBuckets&&!er.symbolFadeFinished()||this._removeTile(Bt)}this._updateLoadedParentTileCache()}},i.prototype.releaseSymbolFadeTiles=function(){for(var w in this._tiles)this._tiles[w].holdingForFade()&&this._removeTile(w)},i.prototype._updateRetainedTiles=function(w,Ne){for(var et={},tt={},rt=Math.max(Ne-i.maxOverzooming,this._source.minzoom),nt=Math.max(Ne+i.maxUnderzooming,this._source.minzoom),it={},ot=0,at=w;ot<at.length;ot+=1){var st=at[ot],ct=this._addTile(st);et[st.key]=st,ct.hasData()||Ne<this._source.maxzoom&&(it[st.key]=st)}this._retainLoadedChildren(it,Ne,nt,et);for(var pt=0,ft=w;pt<ft.length;pt+=1){var dt=ft[pt],mt=this._tiles[dt.key];if(!mt.hasData()){if(Ne+1>this._source.maxzoom){var yt=dt.children(this._source.maxzoom)[0],vt=this.getTile(yt);if(vt&&vt.hasData()){et[yt.key]=yt;continue}}else{var Rt=dt.children(this._source.maxzoom);if(et[Rt[0].key]&&et[Rt[1].key]&&et[Rt[2].key]&&et[Rt[3].key])continue}for(var Ot=mt.wasRequested(),Dt=dt.overscaledZ-1;Dt>=rt;--Dt){var Bt=dt.scaledTo(Dt);if(tt[Bt.key])break;if(tt[Bt.key]=!0,!(mt=this.getTile(Bt))&&Ot&&(mt=this._addTile(Bt)),mt&&(et[Bt.key]=Bt,Ot=mt.wasRequested(),mt.hasData()))break}}}return et},i.prototype._updateLoadedParentTileCache=function(){for(var w in this._loadedParentTiles={},this._tiles){for(var Ne=[],et=void 0,tt=this._tiles[w].tileID;tt.overscaledZ>0;){if(tt.key in this._loadedParentTiles){et=this._loadedParentTiles[tt.key];break}Ne.push(tt.key);var rt=tt.scaledTo(tt.overscaledZ-1);if(et=this._getLoadedTile(rt))break;tt=rt}for(var nt=0,it=Ne;nt<it.length;nt+=1)this._loadedParentTiles[it[nt]]=et}},i.prototype._addTile=function(Ne){var et=this._tiles[Ne.key];if(et)return et;(et=this._cache.getAndRemove(Ne))&&(this._setTileReloadTimer(Ne.key,et),et.tileID=Ne,this._state.initializeTileState(et,this.map?this.map.painter:null),this._cacheTimers[Ne.key]&&(clearTimeout(this._cacheTimers[Ne.key]),delete this._cacheTimers[Ne.key],this._setTileReloadTimer(Ne.key,et)));var tt=Boolean(et);return tt||(et=new w.Tile(Ne,this._source.tileSize*Ne.overscaleFactor()),this._loadTile(et,this._tileLoaded.bind(this,et,Ne.key,et.state))),et?(et.uses++,this._tiles[Ne.key]=et,tt||this._source.fire(new w.Event("dataloading",{tile:et,coord:et.tileID,dataType:"source"})),et):null},i.prototype._setTileReloadTimer=function(w,Ne){var et=this;w in this._timers&&(clearTimeout(this._timers[w]),delete this._timers[w]);var tt=Ne.getExpiryTimeout();tt&&(this._timers[w]=setTimeout((function(){et._reloadTile(w,"expired"),delete et._timers[w]}),tt))},i.prototype._removeTile=function(w){var Ne=this._tiles[w];Ne&&(Ne.uses--,delete this._tiles[w],this._timers[w]&&(clearTimeout(this._timers[w]),delete this._timers[w]),Ne.uses>0||(Ne.hasData()&&"reloading"!==Ne.state?this._cache.add(Ne.tileID,Ne,Ne.getExpiryTimeout()):(Ne.aborted=!0,this._abortTile(Ne),this._unloadTile(Ne))))},i.prototype.clearTiles=function(){for(var w in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(w);this._cache.reset()},i.prototype.tilesIn=function(Ne,et,tt){var rt=this,nt=[],it=this.transform;if(!it)return nt;for(var ot=tt?it.getCameraQueryGeometry(Ne):Ne,at=Ne.map((function(w){return it.pointCoordinate(w)})),st=ot.map((function(w){return it.pointCoordinate(w)})),ct=this.getIds(),pt=1/0,ft=1/0,dt=-1/0,mt=-1/0,yt=0,vt=st;yt<vt.length;yt+=1){var Rt=vt[yt];pt=Math.min(pt,Rt.x),ft=Math.min(ft,Rt.y),dt=Math.max(dt,Rt.x),mt=Math.max(mt,Rt.y)}for(var v=function(Ne){var tt=rt._tiles[ct[Ne]];if(!tt.holdingForFade()){var ot=tt.tileID,yt=Math.pow(2,it.zoom-tt.tileID.overscaledZ),vt=et*tt.queryPadding*w.EXTENT/tt.tileSize/yt,Rt=[ot.getTilePoint(new w.MercatorCoordinate(pt,ft)),ot.getTilePoint(new w.MercatorCoordinate(dt,mt))];if(Rt[0].x-vt<w.EXTENT&&Rt[0].y-vt<w.EXTENT&&Rt[1].x+vt>=0&&Rt[1].y+vt>=0){var Ot=at.map((function(w){return ot.getTilePoint(w)})),Dt=st.map((function(w){return ot.getTilePoint(w)}));nt.push({tile:tt,tileID:ot,queryGeometry:Ot,cameraQueryGeometry:Dt,scale:yt})}}},Ot=0;Ot<ct.length;Ot++)v(Ot);return nt},i.prototype.getVisibleCoordinates=function(w){for(var Ne=this,et=this.getRenderableIds(w).map((function(w){return Ne._tiles[w].tileID})),tt=0,rt=et;tt<rt.length;tt+=1){var nt=rt[tt];nt.posMatrix=this.transform.calculatePosMatrix(nt.toUnwrapped())}return et},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Lt(this._source.type))for(var Ne in this._tiles){var et=this._tiles[Ne];if(void 0!==et.fadeEndTime&&et.fadeEndTime>=w.browser.now())return!0}return!1},i.prototype.setFeatureState=function(w,Ne,et){this._state.updateState(w=w||"_geojsonTileLayer",Ne,et)},i.prototype.removeFeatureState=function(w,Ne,et){this._state.removeFeatureState(w=w||"_geojsonTileLayer",Ne,et)},i.prototype.getFeatureState=function(w,Ne){return this._state.getState(w=w||"_geojsonTileLayer",Ne)},i.prototype.setDependencies=function(w,Ne,et){var tt=this._tiles[w];tt&&tt.setDependencies(Ne,et)},i.prototype.reloadTilesForDependencies=function(w,Ne){for(var et in this._tiles)this._tiles[et].hasDependency(w,Ne)&&this._reloadTile(et,"reloading");this._cache.filter((function(et){return!et.hasDependency(w,Ne)}))},i}(w.Evented);function Mt(w,Ne){var et=Math.abs(2*w.wrap)-+(w.wrap<0),tt=Math.abs(2*Ne.wrap)-+(Ne.wrap<0);return w.overscaledZ-Ne.overscaledZ||tt-et||Ne.canonical.y-w.canonical.y||Ne.canonical.x-w.canonical.x}function Lt(w){return"raster"===w||"image"===w||"video"===w}function At(){return new w.window.Worker(Sp.workerUrl)}ls.maxOverzooming=10,ls.maxUnderzooming=3;var us="mapboxgl_preloaded_worker_pool",kt=function(){this.active={}};kt.prototype.acquire=function(w){if(!this.workers)for(this.workers=[];this.workers.length<kt.workerCount;)this.workers.push(new At);return this.active[w]=!0,this.workers.slice()},kt.prototype.release=function(w){delete this.active[w],0===this.numActive()&&(this.workers.forEach((function(w){w.terminate()})),this.workers=null)},kt.prototype.isPreloaded=function(){return!!this.active[us]},kt.prototype.numActive=function(){return Object.keys(this.active).length};var fs,gs=Math.floor(w.browser.hardwareConcurrency/2);function Ft(){return fs||(fs=new kt),fs}function Ut(Ne,et){var tt={};for(var rt in Ne)"ref"!==rt&&(tt[rt]=Ne[rt]);return w.refProperties.forEach((function(w){w in et&&(tt[w]=et[w])})),tt}function Nt(w){w=w.slice();for(var Ne=Object.create(null),et=0;et<w.length;et++)Ne[w[et].id]=w[et];for(var tt=0;tt<w.length;tt++)"ref"in w[tt]&&(w[tt]=Ut(w[tt],Ne[w[tt].ref]));return w}kt.workerCount=Math.max(Math.min(gs,6),1);var vs={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function jt(w,Ne,et){et.push({command:vs.addSource,args:[w,Ne[w]]})}function qt(w,Ne,et){Ne.push({command:vs.removeSource,args:[w]}),et[w]=!0}function Vt(w,Ne,et,tt){qt(w,et,tt),jt(w,Ne,et)}function Gt(Ne,et,tt){var rt;for(rt in Ne[tt])if(Ne[tt].hasOwnProperty(rt)&&"data"!==rt&&!w.deepEqual(Ne[tt][rt],et[tt][rt]))return!1;for(rt in et[tt])if(et[tt].hasOwnProperty(rt)&&"data"!==rt&&!w.deepEqual(Ne[tt][rt],et[tt][rt]))return!1;return!0}function Wt(Ne,et,tt,rt,nt,it){var ot;for(ot in et=et||{},Ne=Ne||{})Ne.hasOwnProperty(ot)&&(w.deepEqual(Ne[ot],et[ot])||tt.push({command:it,args:[rt,ot,et[ot],nt]}));for(ot in et)et.hasOwnProperty(ot)&&!Ne.hasOwnProperty(ot)&&(w.deepEqual(Ne[ot],et[ot])||tt.push({command:it,args:[rt,ot,et[ot],nt]}))}function Xt(w){return w.id}function Ht(w,Ne){return w[Ne.id]=Ne,w}var Kt=function(w,Ne){this.reset(w,Ne)};Kt.prototype.reset=function(w,Ne){this.points=w||[],this._distances=[0];for(var et=1;et<this.points.length;et++)this._distances[et]=this._distances[et-1]+this.points[et].dist(this.points[et-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Ne||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Kt.prototype.lerp=function(Ne){if(1===this.points.length)return this.points[0];Ne=w.clamp(Ne,0,1);for(var et=1,tt=this._distances[et],rt=Ne*this.paddedLength+this.padding;tt<rt&&et<this._distances.length;)tt=this._distances[++et];var nt=et-1,it=this._distances[nt],ot=tt-it,at=ot>0?(rt-it)/ot:0;return this.points[nt].mult(1-at).add(this.points[et].mult(at))};var Yt=function(w,Ne,et){var tt=this.boxCells=[],rt=this.circleCells=[];this.xCellCount=Math.ceil(w/et),this.yCellCount=Math.ceil(Ne/et);for(var nt=0;nt<this.xCellCount*this.yCellCount;nt++)tt.push([]),rt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=w,this.height=Ne,this.xScale=this.xCellCount/w,this.yScale=this.yCellCount/Ne,this.boxUid=0,this.circleUid=0};function Jt(Ne,et,tt,rt,nt){var it=w.create();return et?(w.scale(it,it,[1/nt,1/nt,1]),tt||w.rotateZ(it,it,rt.angle)):w.multiply(it,rt.labelPlaneMatrix,Ne),it}function Qt(Ne,et,tt,rt,nt){if(et){var it=w.clone(Ne);return w.scale(it,it,[nt,nt,1]),tt||w.rotateZ(it,it,-rt.angle),it}return rt.glCoordMatrix}function $t(Ne,et){var tt=[Ne.x,Ne.y,0,1];ue(tt,tt,et);var rt=tt[3];return{point:new w.Point(tt[0]/rt,tt[1]/rt),signedDistanceFromCamera:rt}}function te(w,Ne){return.5+w/Ne*.5}function ee(w,Ne){var et=w[0]/w[3],tt=w[1]/w[3];return et>=-Ne[0]&&et<=Ne[0]&&tt>=-Ne[1]&&tt<=Ne[1]}function ie(Ne,et,tt,rt,nt,it,ot,at){var st=rt?Ne.textSizeData:Ne.iconSizeData,ct=w.evaluateSizeForZoom(st,tt.transform.zoom),pt=[256/tt.width*2+1,256/tt.height*2+1],ft=rt?Ne.text.dynamicLayoutVertexArray:Ne.icon.dynamicLayoutVertexArray;ft.clear();for(var dt=Ne.lineVertexArray,mt=rt?Ne.text.placedSymbolArray:Ne.icon.placedSymbolArray,yt=tt.transform.width/tt.transform.height,vt=!1,Rt=0;Rt<mt.length;Rt++){var Ot=mt.get(Rt);if(Ot.hidden||Ot.writingMode===w.WritingMode.vertical&&!vt)ce(Ot.numGlyphs,ft);else{vt=!1;var Dt=[Ot.anchorX,Ot.anchorY,0,1];if(w.transformMat4(Dt,Dt,et),ee(Dt,pt)){var Bt=te(tt.transform.cameraToCenterDistance,Dt[3]),er=w.evaluateSizeForFeature(st,ct,Ot),rr=ot?er/Bt:er*Bt,vr=new w.Point(Ot.anchorX,Ot.anchorY),wr=$t(vr,nt).point,Sr={},rn=ae(Ot,rr,!1,at,et,nt,it,Ne.glyphOffsetArray,dt,ft,wr,vr,Sr,yt);vt=rn.useVertical,(rn.notEnoughRoom||vt||rn.needsFlipping&&ae(Ot,rr,!0,at,et,nt,it,Ne.glyphOffsetArray,dt,ft,wr,vr,Sr,yt).notEnoughRoom)&&ce(Ot.numGlyphs,ft)}else ce(Ot.numGlyphs,ft)}}rt?Ne.text.dynamicLayoutVertexBuffer.updateData(ft):Ne.icon.dynamicLayoutVertexBuffer.updateData(ft)}function oe(w,Ne,et,tt,rt,nt,it,ot,at,st,ct){var pt=ot.glyphStartIndex+ot.numGlyphs,ft=ot.lineStartIndex,dt=ot.lineStartIndex+ot.lineLength,mt=Ne.getoffsetX(ot.glyphStartIndex),yt=Ne.getoffsetX(pt-1),vt=se(w*mt,et,tt,rt,nt,it,ot.segment,ft,dt,at,st,ct);if(!vt)return null;var Rt=se(w*yt,et,tt,rt,nt,it,ot.segment,ft,dt,at,st,ct);return Rt?{first:vt,last:Rt}:null}function re(Ne,et,tt,rt){return Ne===w.WritingMode.horizontal&&Math.abs(tt.y-et.y)>Math.abs(tt.x-et.x)*rt?{useVertical:!0}:(Ne===w.WritingMode.vertical?et.y<tt.y:et.x>tt.x)?{needsFlipping:!0}:null}function ae(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt){var yt,vt=et/24,Rt=Ne.lineOffsetX*vt,Ot=Ne.lineOffsetY*vt;if(Ne.numGlyphs>1){var Dt=Ne.glyphStartIndex+Ne.numGlyphs,Bt=Ne.lineStartIndex,er=Ne.lineStartIndex+Ne.lineLength,rr=oe(vt,at,Rt,Ot,tt,pt,ft,Ne,st,it,dt);if(!rr)return{notEnoughRoom:!0};var vr=$t(rr.first.point,ot).point,wr=$t(rr.last.point,ot).point;if(rt&&!tt){var Sr=re(Ne.writingMode,vr,wr,mt);if(Sr)return Sr}yt=[rr.first];for(var rn=Ne.glyphStartIndex+1;rn<Dt-1;rn++)yt.push(se(vt*at.getoffsetX(rn),Rt,Ot,tt,pt,ft,Ne.segment,Bt,er,st,it,dt));yt.push(rr.last)}else{if(rt&&!tt){var vn=$t(ft,nt).point,bn=Ne.lineStartIndex+Ne.segment+1,Tn=new w.Point(st.getx(bn),st.gety(bn)),Cn=$t(Tn,nt),In=Cn.signedDistanceFromCamera>0?Cn.point:ne(ft,Tn,vn,1,nt),zn=re(Ne.writingMode,vn,In,mt);if(zn)return zn}var Mn=se(vt*at.getoffsetX(Ne.glyphStartIndex),Rt,Ot,tt,pt,ft,Ne.segment,Ne.lineStartIndex,Ne.lineStartIndex+Ne.lineLength,st,it,dt);if(!Mn)return{notEnoughRoom:!0};yt=[Mn]}for(var Ln=0,Fn=yt;Ln<Fn.length;Ln+=1){var Bn=Fn[Ln];w.addDynamicAttributes(ct,Bn.point,Bn.angle)}return{}}function ne(w,Ne,et,tt,rt){var nt=$t(w.add(w.sub(Ne)._unit()),rt).point,it=et.sub(nt);return et.add(it._mult(tt/it.mag()))}function se(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft){var dt=rt?Ne-et:Ne+et,mt=dt>0?1:-1,yt=0;rt&&(mt*=-1,yt=Math.PI),mt<0&&(yt+=Math.PI);for(var vt=mt>0?at+ot:at+ot+1,Rt=nt,Ot=nt,Dt=0,Bt=0,er=Math.abs(dt),rr=[];Dt+Bt<=er;){if((vt+=mt)<at||vt>=st)return null;if(Ot=Rt,rr.push(Rt),void 0===(Rt=ft[vt])){var vr=new w.Point(ct.getx(vt),ct.gety(vt)),wr=$t(vr,pt);if(wr.signedDistanceFromCamera>0)Rt=ft[vt]=wr.point;else{var Sr=vt-mt;Rt=ne(0===Dt?it:new w.Point(ct.getx(Sr),ct.gety(Sr)),vr,Ot,er-Dt+1,pt)}}Dt+=Bt,Bt=Ot.dist(Rt)}var rn=(er-Dt)/Bt,vn=Rt.sub(Ot),bn=vn.mult(rn)._add(Ot);bn._add(vn._unit()._perp()._mult(tt*mt));var Tn=yt+Math.atan2(Rt.y-Ot.y,Rt.x-Ot.x);return rr.push(bn),{point:bn,angle:Tn,path:rr}}Yt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Yt.prototype.insert=function(w,Ne,et,tt,rt){this._forEachCell(Ne,et,tt,rt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(w),this.bboxes.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(rt)},Yt.prototype.insertCircle=function(w,Ne,et,tt){this._forEachCell(Ne-tt,et-tt,Ne+tt,et+tt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(w),this.circles.push(Ne),this.circles.push(et),this.circles.push(tt)},Yt.prototype._insertBoxCell=function(w,Ne,et,tt,rt,nt){this.boxCells[rt].push(nt)},Yt.prototype._insertCircleCell=function(w,Ne,et,tt,rt,nt){this.circleCells[rt].push(nt)},Yt.prototype._query=function(w,Ne,et,tt,rt,nt){if(et<0||w>this.width||tt<0||Ne>this.height)return!rt&&[];var it=[];if(w<=0&&Ne<=0&&this.width<=et&&this.height<=tt){if(rt)return!0;for(var ot=0;ot<this.boxKeys.length;ot++)it.push({key:this.boxKeys[ot],x1:this.bboxes[4*ot],y1:this.bboxes[4*ot+1],x2:this.bboxes[4*ot+2],y2:this.bboxes[4*ot+3]});for(var at=0;at<this.circleKeys.length;at++){var st=this.circles[3*at],ct=this.circles[3*at+1],pt=this.circles[3*at+2];it.push({key:this.circleKeys[at],x1:st-pt,y1:ct-pt,x2:st+pt,y2:ct+pt})}return nt?it.filter(nt):it}return this._forEachCell(w,Ne,et,tt,this._queryCell,it,{hitTest:rt,seenUids:{box:{},circle:{}}},nt),rt?it.length>0:it},Yt.prototype._queryCircle=function(w,Ne,et,tt,rt){var nt=w-et,it=w+et,ot=Ne-et,at=Ne+et;if(it<0||nt>this.width||at<0||ot>this.height)return!tt&&[];var st=[];return this._forEachCell(nt,ot,it,at,this._queryCellCircle,st,{hitTest:tt,circle:{x:w,y:Ne,radius:et},seenUids:{box:{},circle:{}}},rt),tt?st.length>0:st},Yt.prototype.query=function(w,Ne,et,tt,rt){return this._query(w,Ne,et,tt,!1,rt)},Yt.prototype.hitTest=function(w,Ne,et,tt,rt){return this._query(w,Ne,et,tt,!0,rt)},Yt.prototype.hitTestCircle=function(w,Ne,et,tt){return this._queryCircle(w,Ne,et,!0,tt)},Yt.prototype._queryCell=function(w,Ne,et,tt,rt,nt,it,ot){var at=it.seenUids,st=this.boxCells[rt];if(null!==st)for(var ct=this.bboxes,pt=0,ft=st;pt<ft.length;pt+=1){var dt=ft[pt];if(!at.box[dt]){at.box[dt]=!0;var mt=4*dt;if(w<=ct[mt+2]&&Ne<=ct[mt+3]&&et>=ct[mt+0]&&tt>=ct[mt+1]&&(!ot||ot(this.boxKeys[dt]))){if(it.hitTest)return nt.push(!0),!0;nt.push({key:this.boxKeys[dt],x1:ct[mt],y1:ct[mt+1],x2:ct[mt+2],y2:ct[mt+3]})}}}var yt=this.circleCells[rt];if(null!==yt)for(var vt=this.circles,Rt=0,Ot=yt;Rt<Ot.length;Rt+=1){var Dt=Ot[Rt];if(!at.circle[Dt]){at.circle[Dt]=!0;var Bt=3*Dt;if(this._circleAndRectCollide(vt[Bt],vt[Bt+1],vt[Bt+2],w,Ne,et,tt)&&(!ot||ot(this.circleKeys[Dt]))){if(it.hitTest)return nt.push(!0),!0;var er=vt[Bt],rr=vt[Bt+1],vr=vt[Bt+2];nt.push({key:this.circleKeys[Dt],x1:er-vr,y1:rr-vr,x2:er+vr,y2:rr+vr})}}}},Yt.prototype._queryCellCircle=function(w,Ne,et,tt,rt,nt,it,ot){var at=it.circle,st=it.seenUids,ct=this.boxCells[rt];if(null!==ct)for(var pt=this.bboxes,ft=0,dt=ct;ft<dt.length;ft+=1){var mt=dt[ft];if(!st.box[mt]){st.box[mt]=!0;var yt=4*mt;if(this._circleAndRectCollide(at.x,at.y,at.radius,pt[yt+0],pt[yt+1],pt[yt+2],pt[yt+3])&&(!ot||ot(this.boxKeys[mt])))return nt.push(!0),!0}}var vt=this.circleCells[rt];if(null!==vt)for(var Rt=this.circles,Ot=0,Dt=vt;Ot<Dt.length;Ot+=1){var Bt=Dt[Ot];if(!st.circle[Bt]){st.circle[Bt]=!0;var er=3*Bt;if(this._circlesCollide(Rt[er],Rt[er+1],Rt[er+2],at.x,at.y,at.radius)&&(!ot||ot(this.circleKeys[Bt])))return nt.push(!0),!0}}},Yt.prototype._forEachCell=function(w,Ne,et,tt,rt,nt,it,ot){for(var at=this._convertToXCellCoord(w),st=this._convertToYCellCoord(Ne),ct=this._convertToXCellCoord(et),pt=this._convertToYCellCoord(tt),ft=at;ft<=ct;ft++)for(var dt=st;dt<=pt;dt++)if(rt.call(this,w,Ne,et,tt,this.xCellCount*dt+ft,nt,it,ot))return},Yt.prototype._convertToXCellCoord=function(w){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(w*this.xScale)))},Yt.prototype._convertToYCellCoord=function(w){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(w*this.yScale)))},Yt.prototype._circlesCollide=function(w,Ne,et,tt,rt,nt){var it=tt-w,ot=rt-Ne,at=et+nt;return at*at>it*it+ot*ot},Yt.prototype._circleAndRectCollide=function(w,Ne,et,tt,rt,nt,it){var ot=(nt-tt)/2,at=Math.abs(w-(tt+ot));if(at>ot+et)return!1;var st=(it-rt)/2,ct=Math.abs(Ne-(rt+st));if(ct>st+et)return!1;if(at<=ot||ct<=st)return!0;var pt=at-ot,ft=ct-st;return pt*pt+ft*ft<=et*et};var xs=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ce(w,Ne){for(var et=0;et<w;et++){var tt=Ne.length;Ne.resize(tt+4),Ne.float32.set(xs,3*tt)}}function ue(w,Ne,et){var tt=Ne[0],rt=Ne[1];return w[0]=et[0]*tt+et[4]*rt+et[12],w[1]=et[1]*tt+et[5]*rt+et[13],w[3]=et[3]*tt+et[7]*rt+et[15],w}var he=function(w,Ne,et){void 0===Ne&&(Ne=new Yt(w.width+200,w.height+200,25)),void 0===et&&(et=new Yt(w.width+200,w.height+200,25)),this.transform=w,this.grid=Ne,this.ignoredGrid=et,this.pitchfactor=Math.cos(w._pitch)*w.cameraToCenterDistance,this.screenRightBoundary=w.width+100,this.screenBottomBoundary=w.height+100,this.gridRightBoundary=w.width+200,this.gridBottomBoundary=w.height+200};function pe(Ne,et,tt){return et*(w.EXTENT/(Ne.tileSize*Math.pow(2,tt-Ne.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(w,Ne,et,tt,rt){var nt=this.projectAndGetPerspectiveRatio(tt,w.anchorPointX,w.anchorPointY),it=et*nt.perspectiveRatio,ot=w.x1*it+nt.point.x,at=w.y1*it+nt.point.y,st=w.x2*it+nt.point.x,ct=w.y2*it+nt.point.y;return!this.isInsideGrid(ot,at,st,ct)||!Ne&&this.grid.hitTest(ot,at,st,ct,rt)?{box:[],offscreen:!1}:{box:[ot,at,st,ct],offscreen:this.isOffscreen(ot,at,st,ct)}},he.prototype.placeCollisionCircles=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt){var mt=[],yt=new w.Point(et.anchorX,et.anchorY),vt=$t(yt,it),Rt=te(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),Ot=(ct?nt/Rt:nt*Rt)/w.ONE_EM,Dt=$t(yt,ot).point,Bt=oe(Ot,rt,et.lineOffsetX*Ot,et.lineOffsetY*Ot,!1,Dt,yt,et,tt,ot,{}),er=!1,rr=!1,vr=!0;if(Bt){for(var wr=.5*ft*Rt+dt,Sr=new w.Point(-100,-100),rn=new w.Point(this.screenRightBoundary,this.screenBottomBoundary),vn=new Kt,bn=Bt.first,Tn=Bt.last,Cn=[],In=bn.path.length-1;In>=1;In--)Cn.push(bn.path[In]);for(var zn=1;zn<Tn.path.length;zn++)Cn.push(Tn.path[zn]);var Mn=2.5*wr;if(at){var Ln=Cn.map((function(w){return $t(w,at)}));Cn=Ln.some((function(w){return w.signedDistanceFromCamera<=0}))?[]:Ln.map((function(w){return w.point}))}var Fn=[];if(Cn.length>0){for(var Bn=Cn[0].clone(),Nn=Cn[0].clone(),Vn=1;Vn<Cn.length;Vn++)Bn.x=Math.min(Bn.x,Cn[Vn].x),Bn.y=Math.min(Bn.y,Cn[Vn].y),Nn.x=Math.max(Nn.x,Cn[Vn].x),Nn.y=Math.max(Nn.y,Cn[Vn].y);Fn=Bn.x>=Sr.x&&Nn.x<=rn.x&&Bn.y>=Sr.y&&Nn.y<=rn.y?[Cn]:Nn.x<Sr.x||Bn.x>rn.x||Nn.y<Sr.y||Bn.y>rn.y?[]:w.clipLine([Cn],Sr.x,Sr.y,rn.x,rn.y)}for(var Wn=0,$n=Fn;Wn<$n.length;Wn+=1){var Yn;vn.reset($n[Wn],.25*wr),Yn=vn.length<=.5*wr?1:Math.ceil(vn.paddedLength/Mn)+1;for(var ii=0;ii<Yn;ii++){var qi=ii/Math.max(Yn-1,1),uo=vn.lerp(qi),po=uo.x+100,vo=uo.y+100;mt.push(po,vo,wr,0);var So=po-wr,ea=vo-wr,ta=po+wr,ia=vo+wr;if(vr=vr&&this.isOffscreen(So,ea,ta,ia),rr=rr||this.isInsideGrid(So,ea,ta,ia),!Ne&&this.grid.hitTestCircle(po,vo,wr,pt)&&(er=!0,!st))return{circles:[],offscreen:!1,collisionDetected:er}}}}return{circles:!st&&er||!rr?[]:mt,offscreen:vr,collisionDetected:er}},he.prototype.queryRenderedSymbols=function(Ne){if(0===Ne.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var et=[],tt=1/0,rt=1/0,nt=-1/0,it=-1/0,ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot],ct=new w.Point(st.x+100,st.y+100);tt=Math.min(tt,ct.x),rt=Math.min(rt,ct.y),nt=Math.max(nt,ct.x),it=Math.max(it,ct.y),et.push(ct)}for(var pt={},ft={},dt=0,mt=this.grid.query(tt,rt,nt,it).concat(this.ignoredGrid.query(tt,rt,nt,it));dt<mt.length;dt+=1){var yt=mt[dt],vt=yt.key;if(void 0===pt[vt.bucketInstanceId]&&(pt[vt.bucketInstanceId]={}),!pt[vt.bucketInstanceId][vt.featureIndex]){var Rt=[new w.Point(yt.x1,yt.y1),new w.Point(yt.x2,yt.y1),new w.Point(yt.x2,yt.y2),new w.Point(yt.x1,yt.y2)];w.polygonIntersectsPolygon(et,Rt)&&(pt[vt.bucketInstanceId][vt.featureIndex]=!0,void 0===ft[vt.bucketInstanceId]&&(ft[vt.bucketInstanceId]=[]),ft[vt.bucketInstanceId].push(vt.featureIndex))}}return ft},he.prototype.insertCollisionBox=function(w,Ne,et,tt,rt){(Ne?this.ignoredGrid:this.grid).insert({bucketInstanceId:et,featureIndex:tt,collisionGroupID:rt},w[0],w[1],w[2],w[3])},he.prototype.insertCollisionCircles=function(w,Ne,et,tt,rt){for(var nt=Ne?this.ignoredGrid:this.grid,it={bucketInstanceId:et,featureIndex:tt,collisionGroupID:rt},ot=0;ot<w.length;ot+=4)nt.insertCircle(it,w[ot],w[ot+1],w[ot+2])},he.prototype.projectAndGetPerspectiveRatio=function(Ne,et,tt){var rt=[et,tt,0,1];return ue(rt,rt,Ne),{point:new w.Point((rt[0]/rt[3]+1)/2*this.transform.width+100,(-rt[1]/rt[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/rt[3]*.5}},he.prototype.isOffscreen=function(w,Ne,et,tt){return et<100||w>=this.screenRightBoundary||tt<100||Ne>this.screenBottomBoundary},he.prototype.isInsideGrid=function(w,Ne,et,tt){return et>=0&&w<this.gridRightBoundary&&tt>=0&&Ne<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var Ne=w.identity([]);return w.translate(Ne,Ne,[-100,-100,0]),Ne};var de=function(w,Ne,et,tt){this.opacity=w?Math.max(0,Math.min(1,w.opacity+(w.placed?Ne:-Ne))):tt&&et?1:0,this.placed=et};de.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var _e=function(w,Ne,et,tt,rt){this.text=new de(w?w.text:null,Ne,et,rt),this.icon=new de(w?w.icon:null,Ne,tt,rt)};_e.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var fe=function(w,Ne,et){this.text=w,this.icon=Ne,this.skipFade=et},me=function(){this.invProjMatrix=w.create(),this.viewportMatrix=w.create(),this.circles=[]},ge=function(w,Ne,et,tt,rt){this.bucketInstanceId=w,this.featureIndex=Ne,this.sourceLayerIndex=et,this.bucketIndex=tt,this.tileID=rt},ve=function(w){this.crossSourceCollisions=w,this.maxGroupID=0,this.collisionGroups={}};function ye(Ne,et,tt,rt,nt){var it=w.getAnchorAlignment(Ne),ot=-(it.horizontalAlign-.5)*et,at=-(it.verticalAlign-.5)*tt,st=w.evaluateVariableOffset(Ne,rt);return new w.Point(ot+st[0]*nt,at+st[1]*nt)}function xe(Ne,et,tt,rt,nt,it){var ot=Ne.x1,at=Ne.x2,st=Ne.y1,ct=Ne.y2,pt=Ne.anchorPointX,ft=Ne.anchorPointY,dt=new w.Point(et,tt);return rt&&dt._rotate(nt?it:-it),{x1:ot+dt.x,y1:st+dt.y,x2:at+dt.x,y2:ct+dt.y,anchorPointX:pt,anchorPointY:ft}}ve.prototype.get=function(w){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[w]){var Ne=++this.maxGroupID;this.collisionGroups[w]={ID:Ne,predicate:function(w){return w.collisionGroupID===Ne}}}return this.collisionGroups[w]};var be=function(w,Ne,et,tt){this.transform=w.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Ne,this.retainedQueryData={},this.collisionGroups=new ve(et),this.collisionCircleArrays={},this.prevPlacement=tt,tt&&(tt.prevPlacement=void 0),this.placedOrientations={}};function we(w,Ne,et,tt,rt){w.emplaceBack(Ne?1:0,et?1:0,tt||0,rt||0),w.emplaceBack(Ne?1:0,et?1:0,tt||0,rt||0),w.emplaceBack(Ne?1:0,et?1:0,tt||0,rt||0),w.emplaceBack(Ne?1:0,et?1:0,tt||0,rt||0)}be.prototype.getBucketParts=function(Ne,et,tt,rt){var nt=tt.getBucket(et),it=tt.latestFeatureIndex;if(nt&&it&&et.id===nt.layerIds[0]){var ot=tt.collisionBoxArray,at=nt.layers[0].layout,st=Math.pow(2,this.transform.zoom-tt.tileID.overscaledZ),ct=tt.tileSize/w.EXTENT,pt=this.transform.calculatePosMatrix(tt.tileID.toUnwrapped()),ft="map"===at.get("text-pitch-alignment"),dt="map"===at.get("text-rotation-alignment"),mt=pe(tt,1,this.transform.zoom),yt=Jt(pt,ft,dt,this.transform,mt),vt=null;if(ft){var Rt=Qt(pt,ft,dt,this.transform,mt);vt=w.multiply([],this.transform.labelPlaneMatrix,Rt)}this.retainedQueryData[nt.bucketInstanceId]=new ge(nt.bucketInstanceId,it,nt.sourceLayerIndex,nt.index,tt.tileID);var Ot={bucket:nt,layout:at,posMatrix:pt,textLabelPlaneMatrix:yt,labelToScreenMatrix:vt,scale:st,textPixelRatio:ct,holdingForFade:tt.holdingForFade(),collisionBoxArray:ot,partiallyEvaluatedTextSize:w.evaluateSizeForZoom(nt.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(nt.sourceID)};if(rt)for(var Dt=0,Bt=nt.sortKeyRanges;Dt<Bt.length;Dt+=1){var er=Bt[Dt];Ne.push({sortKey:er.sortKey,symbolInstanceStart:er.symbolInstanceStart,symbolInstanceEnd:er.symbolInstanceEnd,parameters:Ot})}else Ne.push({symbolInstanceStart:0,symbolInstanceEnd:nt.symbolInstances.length,parameters:Ot})}},be.prototype.attemptAnchorPlacement=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt){var yt,vt=[pt.textOffset0,pt.textOffset1],Rt=ye(w,et,tt,vt,rt),Ot=this.collisionIndex.placeCollisionBox(xe(Ne,Rt.x,Rt.y,nt,it,this.transform.angle),ct,ot,at,st.predicate);if(!mt||0!==this.collisionIndex.placeCollisionBox(xe(mt,Rt.x,Rt.y,nt,it,this.transform.angle),ct,ot,at,st.predicate).box.length)return Ot.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[pt.crossTileID]&&this.prevPlacement.placements[pt.crossTileID]&&this.prevPlacement.placements[pt.crossTileID].text&&(yt=this.prevPlacement.variableOffsets[pt.crossTileID].anchor),this.variableOffsets[pt.crossTileID]={textOffset:vt,width:et,height:tt,anchor:w,textBoxScale:rt,prevAnchor:yt},this.markUsedJustification(ft,w,pt,dt),ft.allowVerticalPlacement&&(this.markUsedOrientation(ft,dt,pt),this.placedOrientations[pt.crossTileID]=dt),{shift:Rt,placedGlyphBoxes:Ot}):void 0},be.prototype.placeLayerBucketPart=function(Ne,et,tt){var rt=this,nt=Ne.parameters,it=nt.bucket,ot=nt.layout,at=nt.posMatrix,st=nt.textLabelPlaneMatrix,ct=nt.labelToScreenMatrix,pt=nt.textPixelRatio,ft=nt.holdingForFade,dt=nt.collisionBoxArray,mt=nt.partiallyEvaluatedTextSize,yt=nt.collisionGroup,vt=ot.get("text-optional"),Rt=ot.get("icon-optional"),Ot=ot.get("text-allow-overlap"),Dt=ot.get("icon-allow-overlap"),Bt="map"===ot.get("text-rotation-alignment"),er="map"===ot.get("text-pitch-alignment"),rr="none"!==ot.get("icon-text-fit"),vr="viewport-y"===ot.get("symbol-z-order"),wr=Ot&&(Dt||!it.hasIconData()||Rt),Sr=Dt&&(Ot||!it.hasTextData()||vt);!it.collisionArrays&&dt&&it.deserializeCollisionBoxes(dt);var P=function(Ne,nt){if(!et[Ne.crossTileID])if(ft)rt.placements[Ne.crossTileID]=new fe(!1,!1,!1);else{var dt,vr=!1,rn=!1,vn=!0,bn=null,Tn={box:null,offscreen:null},Cn={box:null,offscreen:null},In=null,zn=null,Mn=0,Ln=0,Fn=0;nt.textFeatureIndex?Mn=nt.textFeatureIndex:Ne.useRuntimeCollisionCircles&&(Mn=Ne.featureIndex),nt.verticalTextFeatureIndex&&(Ln=nt.verticalTextFeatureIndex);var Bn=nt.textBox;if(Bn){var O=function(et){var tt=w.WritingMode.horizontal;if(it.allowVerticalPlacement&&!et&&rt.prevPlacement){var nt=rt.prevPlacement.placedOrientations[Ne.crossTileID];nt&&(rt.placedOrientations[Ne.crossTileID]=nt,rt.markUsedOrientation(it,tt=nt,Ne))}return tt},F=function(et,tt){if(it.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&nt.verticalTextBox)for(var rt=0,ot=it.writingModes;rt<ot.length&&(ot[rt]===w.WritingMode.vertical?(Tn=tt(),Cn=Tn):Tn=et(),!(Tn&&Tn.box&&Tn.box.length));rt+=1);else Tn=et()};if(ot.get("text-variable-anchor")){var Nn=ot.get("text-variable-anchor");if(rt.prevPlacement&&rt.prevPlacement.variableOffsets[Ne.crossTileID]){var Vn=rt.prevPlacement.variableOffsets[Ne.crossTileID];Nn.indexOf(Vn.anchor)>0&&(Nn=Nn.filter((function(w){return w!==Vn.anchor}))).unshift(Vn.anchor)}var Z=function(w,et,tt){for(var nt=w.x2-w.x1,ot=w.y2-w.y1,st=Ne.textBoxScale,ct=rr&&!Dt?et:null,ft={box:[],offscreen:!1},dt=Ot?2*Nn.length:Nn.length,mt=0;mt<dt;++mt){var vt=rt.attemptAnchorPlacement(Nn[mt%Nn.length],w,nt,ot,st,Bt,er,pt,at,yt,mt>=Nn.length,Ne,it,tt,ct);if(vt&&(ft=vt.placedGlyphBoxes)&&ft.box&&ft.box.length){vr=!0,bn=vt.shift;break}}return ft};F((function(){return Z(Bn,nt.iconBox,w.WritingMode.horizontal)}),(function(){var et=nt.verticalTextBox;return it.allowVerticalPlacement&&!(Tn&&Tn.box&&Tn.box.length)&&Ne.numVerticalGlyphVertices>0&&et?Z(et,nt.verticalIconBox,w.WritingMode.vertical):{box:null,offscreen:null}})),Tn&&(vr=Tn.box,vn=Tn.offscreen);var Wn=O(Tn&&Tn.box);if(!vr&&rt.prevPlacement){var $n=rt.prevPlacement.variableOffsets[Ne.crossTileID];$n&&(rt.variableOffsets[Ne.crossTileID]=$n,rt.markUsedJustification(it,$n.anchor,Ne,Wn))}}else{var V=function(w,et){var tt=rt.collisionIndex.placeCollisionBox(w,Ot,pt,at,yt.predicate);return tt&&tt.box&&tt.box.length&&(rt.markUsedOrientation(it,et,Ne),rt.placedOrientations[Ne.crossTileID]=et),tt};F((function(){return V(Bn,w.WritingMode.horizontal)}),(function(){var et=nt.verticalTextBox;return it.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&et?V(et,w.WritingMode.vertical):{box:null,offscreen:null}})),O(Tn&&Tn.box&&Tn.box.length)}}if(vr=(dt=Tn)&&dt.box&&dt.box.length>0,vn=dt&&dt.offscreen,Ne.useRuntimeCollisionCircles){var Yn=it.text.placedSymbolArray.get(Ne.centerJustifiedTextSymbolIndex),ii=w.evaluateSizeForFeature(it.textSizeData,mt,Yn),qi=ot.get("text-padding");In=rt.collisionIndex.placeCollisionCircles(Ot,Yn,it.lineVertexArray,it.glyphOffsetArray,ii,at,st,ct,tt,er,yt.predicate,Ne.collisionCircleDiameter,qi),vr=Ot||In.circles.length>0&&!In.collisionDetected,vn=vn&&In.offscreen}if(nt.iconFeatureIndex&&(Fn=nt.iconFeatureIndex),nt.iconBox){var H=function(w){var Ne=rr&&bn?xe(w,bn.x,bn.y,Bt,er,rt.transform.angle):w;return rt.collisionIndex.placeCollisionBox(Ne,Dt,pt,at,yt.predicate)};rn=Cn&&Cn.box&&Cn.box.length&&nt.verticalIconBox?(zn=H(nt.verticalIconBox)).box.length>0:(zn=H(nt.iconBox)).box.length>0,vn=vn&&zn.offscreen}var uo=vt||0===Ne.numHorizontalGlyphVertices&&0===Ne.numVerticalGlyphVertices,po=Rt||0===Ne.numIconVertices;if(uo||po?po?uo||(rn=rn&&vr):vr=rn&&vr:rn=vr=rn&&vr,vr&&dt&&dt.box&&rt.collisionIndex.insertCollisionBox(dt.box,ot.get("text-ignore-placement"),it.bucketInstanceId,Cn&&Cn.box&&Ln?Ln:Mn,yt.ID),rn&&zn&&rt.collisionIndex.insertCollisionBox(zn.box,ot.get("icon-ignore-placement"),it.bucketInstanceId,Fn,yt.ID),In&&(vr&&rt.collisionIndex.insertCollisionCircles(In.circles,ot.get("text-ignore-placement"),it.bucketInstanceId,Mn,yt.ID),tt)){var vo=it.bucketInstanceId,So=rt.collisionCircleArrays[vo];void 0===So&&(So=rt.collisionCircleArrays[vo]=new me);for(var ea=0;ea<In.circles.length;ea+=4)So.circles.push(In.circles[ea+0]),So.circles.push(In.circles[ea+1]),So.circles.push(In.circles[ea+2]),So.circles.push(In.collisionDetected?1:0)}rt.placements[Ne.crossTileID]=new fe(vr||wr,rn||Sr,vn||it.justReloaded),et[Ne.crossTileID]=!0}};if(vr)for(var rn=it.getSortedSymbolIndexes(this.transform.angle),vn=rn.length-1;vn>=0;--vn){var bn=rn[vn];P(it.symbolInstances.get(bn),it.collisionArrays[bn])}else for(var Tn=Ne.symbolInstanceStart;Tn<Ne.symbolInstanceEnd;Tn++)P(it.symbolInstances.get(Tn),it.collisionArrays[Tn]);if(tt&&it.bucketInstanceId in this.collisionCircleArrays){var Cn=this.collisionCircleArrays[it.bucketInstanceId];w.invert(Cn.invProjMatrix,at),Cn.viewportMatrix=this.collisionIndex.getViewportMatrix()}it.justReloaded=!1},be.prototype.markUsedJustification=function(Ne,et,tt,rt){var nt;nt=rt===w.WritingMode.vertical?tt.verticalPlacedTextSymbolIndex:{left:tt.leftJustifiedTextSymbolIndex,center:tt.centerJustifiedTextSymbolIndex,right:tt.rightJustifiedTextSymbolIndex}[w.getAnchorJustification(et)];for(var it=0,ot=[tt.leftJustifiedTextSymbolIndex,tt.centerJustifiedTextSymbolIndex,tt.rightJustifiedTextSymbolIndex,tt.verticalPlacedTextSymbolIndex];it<ot.length;it+=1){var at=ot[it];at>=0&&(Ne.text.placedSymbolArray.get(at).crossTileID=nt>=0&&at!==nt?0:tt.crossTileID)}},be.prototype.markUsedOrientation=function(Ne,et,tt){for(var rt=et===w.WritingMode.horizontal||et===w.WritingMode.horizontalOnly?et:0,nt=et===w.WritingMode.vertical?et:0,it=0,ot=[tt.leftJustifiedTextSymbolIndex,tt.centerJustifiedTextSymbolIndex,tt.rightJustifiedTextSymbolIndex];it<ot.length;it+=1)Ne.text.placedSymbolArray.get(ot[it]).placedOrientation=rt;tt.verticalPlacedTextSymbolIndex&&(Ne.text.placedSymbolArray.get(tt.verticalPlacedTextSymbolIndex).placedOrientation=nt)},be.prototype.commit=function(w){this.commitTime=w,this.zoomAtLastRecencyCheck=this.transform.zoom;var Ne=this.prevPlacement,et=!1;this.prevZoomAdjustment=Ne?Ne.zoomAdjustment(this.transform.zoom):0;var tt=Ne?Ne.symbolFadeChange(w):1,rt=Ne?Ne.opacities:{},nt=Ne?Ne.variableOffsets:{},it=Ne?Ne.placedOrientations:{};for(var ot in this.placements){var at=this.placements[ot],st=rt[ot];st?(this.opacities[ot]=new _e(st,tt,at.text,at.icon),et=et||at.text!==st.text.placed||at.icon!==st.icon.placed):(this.opacities[ot]=new _e(null,tt,at.text,at.icon,at.skipFade),et=et||at.text||at.icon)}for(var ct in rt){var pt=rt[ct];if(!this.opacities[ct]){var ft=new _e(pt,tt,!1,!1);ft.isHidden()||(this.opacities[ct]=ft,et=et||pt.text.placed||pt.icon.placed)}}for(var dt in nt)this.variableOffsets[dt]||!this.opacities[dt]||this.opacities[dt].isHidden()||(this.variableOffsets[dt]=nt[dt]);for(var mt in it)this.placedOrientations[mt]||!this.opacities[mt]||this.opacities[mt].isHidden()||(this.placedOrientations[mt]=it[mt]);et?this.lastPlacementChangeTime=w:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=Ne?Ne.lastPlacementChangeTime:w)},be.prototype.updateLayerOpacities=function(w,Ne){for(var et={},tt=0,rt=Ne;tt<rt.length;tt+=1){var nt=rt[tt],it=nt.getBucket(w);it&&nt.latestFeatureIndex&&w.id===it.layerIds[0]&&this.updateBucketOpacities(it,et,nt.collisionBoxArray)}},be.prototype.updateBucketOpacities=function(Ne,et,tt){var rt=this;Ne.hasTextData()&&Ne.text.opacityVertexArray.clear(),Ne.hasIconData()&&Ne.icon.opacityVertexArray.clear(),Ne.hasIconCollisionBoxData()&&Ne.iconCollisionBox.collisionVertexArray.clear(),Ne.hasTextCollisionBoxData()&&Ne.textCollisionBox.collisionVertexArray.clear();var nt=Ne.layers[0].layout,it=new _e(null,0,!1,!1,!0),ot=nt.get("text-allow-overlap"),at=nt.get("icon-allow-overlap"),st=nt.get("text-variable-anchor"),ct="map"===nt.get("text-rotation-alignment"),pt="map"===nt.get("text-pitch-alignment"),ft="none"!==nt.get("icon-text-fit"),dt=new _e(null,0,ot&&(at||!Ne.hasIconData()||nt.get("icon-optional")),at&&(ot||!Ne.hasTextData()||nt.get("text-optional")),!0);!Ne.collisionArrays&&tt&&(Ne.hasIconCollisionBoxData()||Ne.hasTextCollisionBoxData())&&Ne.deserializeCollisionBoxes(tt);for(var _=function(w,Ne,et){for(var tt=0;tt<Ne/4;tt++)w.opacityVertexArray.emplaceBack(et)},f=function(tt){var nt=Ne.symbolInstances.get(tt),ot=nt.numHorizontalGlyphVertices,at=nt.numVerticalGlyphVertices,mt=nt.crossTileID,yt=rt.opacities[mt];et[mt]?yt=it:yt||(rt.opacities[mt]=yt=dt),et[mt]=!0;var vt=nt.numIconVertices>0,Rt=rt.placedOrientations[nt.crossTileID],Ot=Rt===w.WritingMode.vertical,Dt=Rt===w.WritingMode.horizontal||Rt===w.WritingMode.horizontalOnly;if(ot>0||at>0){var Bt=De(yt.text);_(Ne.text,ot,Ot?Ls:Bt),_(Ne.text,at,Dt?Ls:Bt);var er=yt.text.isHidden();[nt.rightJustifiedTextSymbolIndex,nt.centerJustifiedTextSymbolIndex,nt.leftJustifiedTextSymbolIndex].forEach((function(w){w>=0&&(Ne.text.placedSymbolArray.get(w).hidden=er||Ot?1:0)})),nt.verticalPlacedTextSymbolIndex>=0&&(Ne.text.placedSymbolArray.get(nt.verticalPlacedTextSymbolIndex).hidden=er||Dt?1:0);var rr=rt.variableOffsets[nt.crossTileID];rr&&rt.markUsedJustification(Ne,rr.anchor,nt,Rt);var vr=rt.placedOrientations[nt.crossTileID];vr&&(rt.markUsedJustification(Ne,"left",nt,vr),rt.markUsedOrientation(Ne,vr,nt))}if(vt){var wr=De(yt.icon),Sr=!(ft&&nt.verticalPlacedIconSymbolIndex&&Ot);nt.placedIconSymbolIndex>=0&&(_(Ne.icon,nt.numIconVertices,Sr?wr:Ls),Ne.icon.placedSymbolArray.get(nt.placedIconSymbolIndex).hidden=yt.icon.isHidden()),nt.verticalPlacedIconSymbolIndex>=0&&(_(Ne.icon,nt.numVerticalIconVertices,Sr?Ls:wr),Ne.icon.placedSymbolArray.get(nt.verticalPlacedIconSymbolIndex).hidden=yt.icon.isHidden())}if(Ne.hasIconCollisionBoxData()||Ne.hasTextCollisionBoxData()){var rn=Ne.collisionArrays[tt];if(rn){var vn=new w.Point(0,0);if(rn.textBox||rn.verticalTextBox){var bn=!0;if(st){var Tn=rt.variableOffsets[mt];Tn?(vn=ye(Tn.anchor,Tn.width,Tn.height,Tn.textOffset,Tn.textBoxScale),ct&&vn._rotate(pt?rt.transform.angle:-rt.transform.angle)):bn=!1}rn.textBox&&we(Ne.textCollisionBox.collisionVertexArray,yt.text.placed,!bn||Ot,vn.x,vn.y),rn.verticalTextBox&&we(Ne.textCollisionBox.collisionVertexArray,yt.text.placed,!bn||Dt,vn.x,vn.y)}var Cn=Boolean(!Dt&&rn.verticalIconBox);rn.iconBox&&we(Ne.iconCollisionBox.collisionVertexArray,yt.icon.placed,Cn,ft?vn.x:0,ft?vn.y:0),rn.verticalIconBox&&we(Ne.iconCollisionBox.collisionVertexArray,yt.icon.placed,!Cn,ft?vn.x:0,ft?vn.y:0)}}},mt=0;mt<Ne.symbolInstances.length;mt++)f(mt);if(Ne.sortFeatures(this.transform.angle),this.retainedQueryData[Ne.bucketInstanceId]&&(this.retainedQueryData[Ne.bucketInstanceId].featureSortOrder=Ne.featureSortOrder),Ne.hasTextData()&&Ne.text.opacityVertexBuffer&&Ne.text.opacityVertexBuffer.updateData(Ne.text.opacityVertexArray),Ne.hasIconData()&&Ne.icon.opacityVertexBuffer&&Ne.icon.opacityVertexBuffer.updateData(Ne.icon.opacityVertexArray),Ne.hasIconCollisionBoxData()&&Ne.iconCollisionBox.collisionVertexBuffer&&Ne.iconCollisionBox.collisionVertexBuffer.updateData(Ne.iconCollisionBox.collisionVertexArray),Ne.hasTextCollisionBoxData()&&Ne.textCollisionBox.collisionVertexBuffer&&Ne.textCollisionBox.collisionVertexBuffer.updateData(Ne.textCollisionBox.collisionVertexArray),Ne.bucketInstanceId in this.collisionCircleArrays){var yt=this.collisionCircleArrays[Ne.bucketInstanceId];Ne.placementInvProjMatrix=yt.invProjMatrix,Ne.placementViewportMatrix=yt.viewportMatrix,Ne.collisionCircleArray=yt.circles,delete this.collisionCircleArrays[Ne.bucketInstanceId]}},be.prototype.symbolFadeChange=function(w){return 0===this.fadeDuration?1:(w-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},be.prototype.zoomAdjustment=function(w){return Math.max(0,(this.transform.zoom-w)/1.5)},be.prototype.hasTransitions=function(w){return this.stale||w-this.lastPlacementChangeTime<this.fadeDuration},be.prototype.stillRecent=function(w,Ne){var et=this.zoomAtLastRecencyCheck===Ne?1-this.zoomAdjustment(Ne):1;return this.zoomAtLastRecencyCheck=Ne,this.commitTime+this.fadeDuration*et>w},be.prototype.setStale=function(){this.stale=!0};var Ss=Math.pow(2,25),Es=Math.pow(2,24),Cs=Math.pow(2,17),Ps=Math.pow(2,16),As=Math.pow(2,9),zs=Math.pow(2,8),Ms=Math.pow(2,1);function De(w){if(0===w.opacity&&!w.placed)return 0;if(1===w.opacity&&w.placed)return 4294967295;var Ne=w.placed?1:0,et=Math.floor(127*w.opacity);return et*Ss+Ne*Es+et*Cs+Ne*Ps+et*As+Ne*zs+et*Ms+Ne}var Ls=0,Le=function(w){this._sortAcrossTiles="viewport-y"!==w.layout.get("symbol-z-order")&&void 0!==w.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Le.prototype.continuePlacement=function(w,Ne,et,tt,rt){for(var nt=this._bucketParts;this._currentTileIndex<w.length;)if(Ne.getBucketParts(nt,tt,w[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,rt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,nt.sort((function(w,Ne){return w.sortKey-Ne.sortKey})));this._currentPartIndex<nt.length;)if(Ne.placeLayerBucketPart(nt[this._currentPartIndex],this._seenCrossTileIDs,et),this._currentPartIndex++,rt())return!0;return!1};var Ae=function(w,Ne,et,tt,rt,nt,it){this.placement=new be(w,rt,nt,it),this._currentPlacementIndex=Ne.length-1,this._forceFullPlacement=et,this._showCollisionBoxes=tt,this._done=!1};Ae.prototype.isDone=function(){return this._done},Ae.prototype.continuePlacement=function(Ne,et,tt){for(var rt=this,nt=w.browser.now(),n=function(){var Ne=w.browser.now()-nt;return!rt._forceFullPlacement&&Ne>2};this._currentPlacementIndex>=0;){var it=et[Ne[this._currentPlacementIndex]],ot=this.placement.collisionIndex.transform.zoom;if("symbol"===it.type&&(!it.minzoom||it.minzoom<=ot)&&(!it.maxzoom||it.maxzoom>ot)){if(this._inProgressLayer||(this._inProgressLayer=new Le(it)),this._inProgressLayer.continuePlacement(tt[it.source],this.placement,this._showCollisionBoxes,it,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ae.prototype.commit=function(w){return this.placement.commit(w),this.placement};var Rs=512/w.EXTENT/2,ke=function(w,Ne,et){this.tileID=w,this.indexedSymbolInstances={},this.bucketInstanceId=et;for(var tt=0;tt<Ne.length;tt++){var rt=Ne.get(tt),nt=rt.key;this.indexedSymbolInstances[nt]||(this.indexedSymbolInstances[nt]=[]),this.indexedSymbolInstances[nt].push({crossTileID:rt.crossTileID,coord:this.getScaledCoordinates(rt,w)})}};ke.prototype.getScaledCoordinates=function(Ne,et){var tt=Rs/Math.pow(2,et.canonical.z-this.tileID.canonical.z);return{x:Math.floor((et.canonical.x*w.EXTENT+Ne.anchorX)*tt),y:Math.floor((et.canonical.y*w.EXTENT+Ne.anchorY)*tt)}},ke.prototype.findMatches=function(w,Ne,et){for(var tt=this.tileID.canonical.z<Ne.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Ne.canonical.z),rt=0;rt<w.length;rt++){var nt=w.get(rt);if(!nt.crossTileID){var it=this.indexedSymbolInstances[nt.key];if(it)for(var ot=this.getScaledCoordinates(nt,Ne),at=0,st=it;at<st.length;at+=1){var ct=st[at];if(Math.abs(ct.coord.x-ot.x)<=tt&&Math.abs(ct.coord.y-ot.y)<=tt&&!et[ct.crossTileID]){et[ct.crossTileID]=!0,nt.crossTileID=ct.crossTileID;break}}}}};var Be=function(){this.maxCrossTileID=0};Be.prototype.generate=function(){return++this.maxCrossTileID};var Oe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Oe.prototype.handleWrapJump=function(w){var Ne=Math.round((w-this.lng)/360);if(0!==Ne)for(var et in this.indexes){var tt=this.indexes[et],rt={};for(var nt in tt){var it=tt[nt];it.tileID=it.tileID.unwrapTo(it.tileID.wrap+Ne),rt[it.tileID.key]=it}this.indexes[et]=rt}this.lng=w},Oe.prototype.addBucket=function(w,Ne,et){if(this.indexes[w.overscaledZ]&&this.indexes[w.overscaledZ][w.key]){if(this.indexes[w.overscaledZ][w.key].bucketInstanceId===Ne.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(w.overscaledZ,this.indexes[w.overscaledZ][w.key])}for(var tt=0;tt<Ne.symbolInstances.length;tt++)Ne.symbolInstances.get(tt).crossTileID=0;this.usedCrossTileIDs[w.overscaledZ]||(this.usedCrossTileIDs[w.overscaledZ]={});var rt=this.usedCrossTileIDs[w.overscaledZ];for(var nt in this.indexes){var it=this.indexes[nt];if(Number(nt)>w.overscaledZ)for(var ot in it){var at=it[ot];at.tileID.isChildOf(w)&&at.findMatches(Ne.symbolInstances,w,rt)}else{var st=it[w.scaledTo(Number(nt)).key];st&&st.findMatches(Ne.symbolInstances,w,rt)}}for(var ct=0;ct<Ne.symbolInstances.length;ct++){var pt=Ne.symbolInstances.get(ct);pt.crossTileID||(pt.crossTileID=et.generate(),rt[pt.crossTileID]=!0)}return void 0===this.indexes[w.overscaledZ]&&(this.indexes[w.overscaledZ]={}),this.indexes[w.overscaledZ][w.key]=new ke(w,Ne.symbolInstances,Ne.bucketInstanceId),!0},Oe.prototype.removeBucketCrossTileIDs=function(w,Ne){for(var et in Ne.indexedSymbolInstances)for(var tt=0,rt=Ne.indexedSymbolInstances[et];tt<rt.length;tt+=1)delete this.usedCrossTileIDs[w][rt[tt].crossTileID]},Oe.prototype.removeStaleBuckets=function(w){var Ne=!1;for(var et in this.indexes){var tt=this.indexes[et];for(var rt in tt)w[tt[rt].bucketInstanceId]||(this.removeBucketCrossTileIDs(et,tt[rt]),delete tt[rt],Ne=!0)}return Ne};var Fe=function(){this.layerIndexes={},this.crossTileIDs=new Be,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Fe.prototype.addLayer=function(w,Ne,et){var tt=this.layerIndexes[w.id];void 0===tt&&(tt=this.layerIndexes[w.id]=new Oe);var rt=!1,nt={};tt.handleWrapJump(et);for(var it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.getBucket(w);st&&w.id===st.layerIds[0]&&(st.bucketInstanceId||(st.bucketInstanceId=++this.maxBucketInstanceId),tt.addBucket(at.tileID,st,this.crossTileIDs)&&(rt=!0),nt[st.bucketInstanceId]=!0)}return tt.removeStaleBuckets(nt)&&(rt=!0),rt},Fe.prototype.pruneUnusedLayers=function(w){var Ne={};for(var et in w.forEach((function(w){Ne[w]=!0})),this.layerIndexes)Ne[et]||delete this.layerIndexes[et]};var Ue=function(Ne,et){return w.emitValidationErrors(Ne,et&&et.filter((function(w){return"source.canvas"!==w.identifier})))},Os=w.pick(vs,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Fs=w.pick(vs,["setCenter","setZoom","setBearing","setPitch"]),Bs=function(){var Ne={},et=w.styleSpec.$version;for(var tt in w.styleSpec.$root){var rt,nt=w.styleSpec.$root[tt];nt.required&&null!=(rt="version"===tt?et:"array"===nt.type?[]:{})&&(Ne[tt]=rt)}return Ne}(),Ns=function(Ne){function i(et,tt){var rt=this;void 0===tt&&(tt={}),Ne.call(this),this.map=et,this.dispatcher=new yt(Ft(),this),this.imageManager=new st,this.imageManager.setEventedParent(this),this.glyphManager=new y(et._requestManager,tt.localIdeographFontFamily),this.lineAtlas=new T(256,512),this.crossTileSymbolIndex=new Fe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new w.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",w.getReferrer());var nt=this;this._rtlTextPluginCallback=i.registerForPluginStateChange((function(Ne){nt.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Ne.pluginStatus,pluginURL:Ne.pluginURL},(function(Ne,et){if(w.triggerPluginCompletionEvent(Ne),et&&et.every((function(w){return w})))for(var tt in nt.sourceCaches)nt.sourceCaches[tt].reload()}))})),this.on("data",(function(w){if("source"===w.dataType&&"metadata"===w.sourceDataType){var Ne=rt.sourceCaches[w.sourceId];if(Ne){var et=Ne.getSource();if(et&&et.vectorLayerIds)for(var tt in rt._layers){var nt=rt._layers[tt];nt.source===et.id&&rt._validateLayer(nt)}}}}))}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.loadURL=function(Ne,et){var tt=this;void 0===et&&(et={}),this.fire(new w.Event("dataloading",{dataType:"style"}));var rt="boolean"==typeof et.validate?et.validate:!w.isMapboxURL(Ne);Ne=this.map._requestManager.normalizeStyleURL(Ne,et.accessToken);var nt=this.map._requestManager.transformRequest(Ne,w.ResourceType.Style);this._request=w.getJSON(nt,(function(Ne,et){tt._request=null,Ne?tt.fire(new w.ErrorEvent(Ne)):et&&tt._load(et,rt)}))},i.prototype.loadJSON=function(Ne,et){var tt=this;void 0===et&&(et={}),this.fire(new w.Event("dataloading",{dataType:"style"})),this._request=w.browser.frame((function(){tt._request=null,tt._load(Ne,!1!==et.validate)}))},i.prototype.loadEmpty=function(){this.fire(new w.Event("dataloading",{dataType:"style"})),this._load(Bs,!1)},i.prototype._load=function(Ne,et){if(!et||!Ue(this,w.validateStyle(Ne))){for(var tt in this._loaded=!0,this.stylesheet=Ne,Ne.sources)this.addSource(tt,Ne.sources[tt],{validate:!1});Ne.sprite?this._loadSprite(Ne.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(Ne.glyphs);var rt=Nt(this.stylesheet.layers);this._order=rt.map((function(w){return w.id})),this._layers={},this._serializedLayers={};for(var nt=0,it=rt;nt<it.length;nt+=1){var ot=it[nt];(ot=w.createStyleLayer(ot)).setEventedParent(this,{layer:{id:ot.id}}),this._layers[ot.id]=ot,this._serializedLayers[ot.id]=ot.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new mt(this.stylesheet.light),this.fire(new w.Event("data",{dataType:"style"})),this.fire(new w.Event("style.load"))}},i.prototype._loadSprite=function(Ne){var et=this;this._spriteRequest=function(Ne,et,tt){var rt,nt,it,ot=w.browser.devicePixelRatio>1?"@2x":"",at=w.getJSON(et.transformRequest(et.normalizeSpriteURL(Ne,ot,".json"),w.ResourceType.SpriteJSON),(function(w,Ne){at=null,it||(it=w,rt=Ne,u())})),st=w.getImage(et.transformRequest(et.normalizeSpriteURL(Ne,ot,".png"),w.ResourceType.SpriteImage),(function(w,Ne){st=null,it||(it=w,nt=Ne,u())}));function u(){if(it)tt(it);else if(rt&&nt){var Ne=w.browser.getImageData(nt),et={};for(var ot in rt){var at=rt[ot],st=at.width,ct=at.height,pt=at.x,ft=at.y,dt=at.sdf,mt=at.pixelRatio,yt=at.stretchX,vt=at.stretchY,Rt=at.content,Ot=new w.RGBAImage({width:st,height:ct});w.RGBAImage.copy(Ne,Ot,{x:pt,y:ft},{x:0,y:0},{width:st,height:ct}),et[ot]={data:Ot,pixelRatio:mt,sdf:dt,stretchX:yt,stretchY:vt,content:Rt}}tt(null,et)}}return{cancel:function(){at&&(at.cancel(),at=null),st&&(st.cancel(),st=null)}}}(Ne,this.map._requestManager,(function(Ne,tt){if(et._spriteRequest=null,Ne)et.fire(new w.ErrorEvent(Ne));else if(tt)for(var rt in tt)et.imageManager.addImage(rt,tt[rt]);et.imageManager.setLoaded(!0),et._availableImages=et.imageManager.listImages(),et.dispatcher.broadcast("setImages",et._availableImages),et.fire(new w.Event("data",{dataType:"style"}))}))},i.prototype._validateLayer=function(Ne){var et=this.sourceCaches[Ne.source];if(et){var tt=Ne.sourceLayer;if(tt){var rt=et.getSource();("geojson"===rt.type||rt.vectorLayerIds&&-1===rt.vectorLayerIds.indexOf(tt))&&this.fire(new w.ErrorEvent(new Error('Source layer "'+tt+'" does not exist on source "'+rt.id+'" as specified by style layer "'+Ne.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var w in this.sourceCaches)if(!this.sourceCaches[w].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(w){for(var Ne=[],et=0,tt=w;et<tt.length;et+=1){var rt=this._layers[tt[et]];"custom"!==rt.type&&Ne.push(rt.serialize())}return Ne},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var w in this.sourceCaches)if(this.sourceCaches[w].hasTransition())return!0;for(var Ne in this._layers)if(this._layers[Ne].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(Ne){if(this._loaded){var et=this._changed;if(this._changed){var tt=Object.keys(this._updatedLayers),rt=Object.keys(this._removedLayers);for(var nt in(tt.length||rt.length)&&this._updateWorkerLayers(tt,rt),this._updatedSources){var it=this._updatedSources[nt];"reload"===it?this._reloadSource(nt):"clear"===it&&this._clearSource(nt)}for(var ot in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ot].updateTransitions(Ne);this.light.updateTransitions(Ne),this._resetUpdates()}for(var at in this.sourceCaches)this.sourceCaches[at].used=!1;for(var st=0,ct=this._order;st<ct.length;st+=1){var pt=this._layers[ct[st]];pt.recalculate(Ne,this._availableImages),!pt.isHidden(Ne.zoom)&&pt.source&&(this.sourceCaches[pt.source].used=!0)}this.light.recalculate(Ne),this.z=Ne.zoom,et&&this.fire(new w.Event("data",{dataType:"style"}))}},i.prototype._updateTilesForChangedImages=function(){var w=Object.keys(this._changedImages);if(w.length){for(var Ne in this.sourceCaches)this.sourceCaches[Ne].reloadTilesForDependencies(["icons","patterns"],w);this._changedImages={}}},i.prototype._updateWorkerLayers=function(w,Ne){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(w),removedIds:Ne})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},i.prototype.setState=function(Ne){var et=this;if(this._checkLoaded(),Ue(this,w.validateStyle(Ne)))return!1;(Ne=w.clone$1(Ne)).layers=Nt(Ne.layers);var tt=function(Ne,et){if(!Ne)return[{command:vs.setStyle,args:[et]}];var tt=[];try{if(!w.deepEqual(Ne.version,et.version))return[{command:vs.setStyle,args:[et]}];w.deepEqual(Ne.center,et.center)||tt.push({command:vs.setCenter,args:[et.center]}),w.deepEqual(Ne.zoom,et.zoom)||tt.push({command:vs.setZoom,args:[et.zoom]}),w.deepEqual(Ne.bearing,et.bearing)||tt.push({command:vs.setBearing,args:[et.bearing]}),w.deepEqual(Ne.pitch,et.pitch)||tt.push({command:vs.setPitch,args:[et.pitch]}),w.deepEqual(Ne.sprite,et.sprite)||tt.push({command:vs.setSprite,args:[et.sprite]}),w.deepEqual(Ne.glyphs,et.glyphs)||tt.push({command:vs.setGlyphs,args:[et.glyphs]}),w.deepEqual(Ne.transition,et.transition)||tt.push({command:vs.setTransition,args:[et.transition]}),w.deepEqual(Ne.light,et.light)||tt.push({command:vs.setLight,args:[et.light]});var rt={},nt=[];!function(Ne,et,tt,rt){var nt;for(nt in et=et||{},Ne=Ne||{})Ne.hasOwnProperty(nt)&&(et.hasOwnProperty(nt)||qt(nt,tt,rt));for(nt in et)et.hasOwnProperty(nt)&&(Ne.hasOwnProperty(nt)?w.deepEqual(Ne[nt],et[nt])||("geojson"===Ne[nt].type&&"geojson"===et[nt].type&&Gt(Ne,et,nt)?tt.push({command:vs.setGeoJSONSourceData,args:[nt,et[nt].data]}):Vt(nt,et,tt,rt)):jt(nt,et,tt))}(Ne.sources,et.sources,nt,rt);var it=[];Ne.layers&&Ne.layers.forEach((function(w){rt[w.source]?tt.push({command:vs.removeLayer,args:[w.id]}):it.push(w)})),tt=tt.concat(nt),function(Ne,et,tt){et=et||[];var rt,nt,it,ot,at,st,ct,pt=(Ne=Ne||[]).map(Xt),ft=et.map(Xt),dt=Ne.reduce(Ht,{}),mt=et.reduce(Ht,{}),yt=pt.slice(),vt=Object.create(null);for(rt=0,nt=0;rt<pt.length;rt++)mt.hasOwnProperty(it=pt[rt])?nt++:(tt.push({command:vs.removeLayer,args:[it]}),yt.splice(yt.indexOf(it,nt),1));for(rt=0,nt=0;rt<ft.length;rt++)yt[yt.length-1-rt]!==(it=ft[ft.length-1-rt])&&(dt.hasOwnProperty(it)?(tt.push({command:vs.removeLayer,args:[it]}),yt.splice(yt.lastIndexOf(it,yt.length-nt),1)):nt++,tt.push({command:vs.addLayer,args:[mt[it],st=yt[yt.length-rt]]}),yt.splice(yt.length-rt,0,it),vt[it]=!0);for(rt=0;rt<ft.length;rt++)if(ot=dt[it=ft[rt]],at=mt[it],!vt[it]&&!w.deepEqual(ot,at))if(w.deepEqual(ot.source,at.source)&&w.deepEqual(ot["source-layer"],at["source-layer"])&&w.deepEqual(ot.type,at.type)){for(ct in Wt(ot.layout,at.layout,tt,it,null,vs.setLayoutProperty),Wt(ot.paint,at.paint,tt,it,null,vs.setPaintProperty),w.deepEqual(ot.filter,at.filter)||tt.push({command:vs.setFilter,args:[it,at.filter]}),w.deepEqual(ot.minzoom,at.minzoom)&&w.deepEqual(ot.maxzoom,at.maxzoom)||tt.push({command:vs.setLayerZoomRange,args:[it,at.minzoom,at.maxzoom]}),ot)ot.hasOwnProperty(ct)&&"layout"!==ct&&"paint"!==ct&&"filter"!==ct&&"metadata"!==ct&&"minzoom"!==ct&&"maxzoom"!==ct&&(0===ct.indexOf("paint.")?Wt(ot[ct],at[ct],tt,it,ct.slice(6),vs.setPaintProperty):w.deepEqual(ot[ct],at[ct])||tt.push({command:vs.setLayerProperty,args:[it,ct,at[ct]]}));for(ct in at)at.hasOwnProperty(ct)&&!ot.hasOwnProperty(ct)&&"layout"!==ct&&"paint"!==ct&&"filter"!==ct&&"metadata"!==ct&&"minzoom"!==ct&&"maxzoom"!==ct&&(0===ct.indexOf("paint.")?Wt(ot[ct],at[ct],tt,it,ct.slice(6),vs.setPaintProperty):w.deepEqual(ot[ct],at[ct])||tt.push({command:vs.setLayerProperty,args:[it,ct,at[ct]]}))}else tt.push({command:vs.removeLayer,args:[it]}),st=yt[yt.lastIndexOf(it)+1],tt.push({command:vs.addLayer,args:[at,st]})}(it,et.layers,tt)}catch(w){console.warn("Unable to compute style diff:",w),tt=[{command:vs.setStyle,args:[et]}]}return tt}(this.serialize(),Ne).filter((function(w){return!(w.command in Fs)}));if(0===tt.length)return!1;var rt=tt.filter((function(w){return!(w.command in Os)}));if(rt.length>0)throw new Error("Unimplemented: "+rt.map((function(w){return w.command})).join(", ")+".");return tt.forEach((function(w){"setTransition"!==w.command&&et[w.command].apply(et,w.args)})),this.stylesheet=Ne,!0},i.prototype.addImage=function(Ne,et){if(this.getImage(Ne))return this.fire(new w.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(Ne,et),this._availableImages=this.imageManager.listImages(),this._changedImages[Ne]=!0,this._changed=!0,this.fire(new w.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(w,Ne){this.imageManager.updateImage(w,Ne)},i.prototype.getImage=function(w){return this.imageManager.getImage(w)},i.prototype.removeImage=function(Ne){if(!this.getImage(Ne))return this.fire(new w.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(Ne),this._availableImages=this.imageManager.listImages(),this._changedImages[Ne]=!0,this._changed=!0,this.fire(new w.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(Ne,et,tt){var rt=this;if(void 0===tt&&(tt={}),this._checkLoaded(),void 0!==this.sourceCaches[Ne])throw new Error("There is already a source with this ID");if(!et.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(et).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(et.type)>=0&&this._validate(w.validateStyle.source,"sources."+Ne,et,null,tt))){this.map&&this.map._collectResourceTiming&&(et.collectResourceTiming=!0);var nt=this.sourceCaches[Ne]=new ls(Ne,et,this.dispatcher);nt.style=this,nt.setEventedParent(this,(function(){return{isSourceLoaded:rt.loaded(),source:nt.serialize(),sourceId:Ne}})),nt.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(Ne){if(this._checkLoaded(),void 0===this.sourceCaches[Ne])throw new Error("There is no source with this ID");for(var et in this._layers)if(this._layers[et].source===Ne)return this.fire(new w.ErrorEvent(new Error('Source "'+Ne+'" cannot be removed while layer "'+et+'" is using it.')));var tt=this.sourceCaches[Ne];delete this.sourceCaches[Ne],delete this._updatedSources[Ne],tt.fire(new w.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Ne})),tt.setEventedParent(null),tt.clearTiles(),tt.onRemove&&tt.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(w,Ne){this._checkLoaded(),this.sourceCaches[w].getSource().setData(Ne),this._changed=!0},i.prototype.getSource=function(w){return this.sourceCaches[w]&&this.sourceCaches[w].getSource()},i.prototype.addLayer=function(Ne,et,tt){void 0===tt&&(tt={}),this._checkLoaded();var rt=Ne.id;if(this.getLayer(rt))this.fire(new w.ErrorEvent(new Error('Layer with id "'+rt+'" already exists on this map')));else{var nt;if("custom"===Ne.type){if(Ue(this,w.validateCustomStyleLayer(Ne)))return;nt=w.createStyleLayer(Ne)}else{if("object"==typeof Ne.source&&(this.addSource(rt,Ne.source),Ne=w.clone$1(Ne),Ne=w.extend(Ne,{source:rt})),this._validate(w.validateStyle.layer,"layers."+rt,Ne,{arrayIndex:-1},tt))return;nt=w.createStyleLayer(Ne),this._validateLayer(nt),nt.setEventedParent(this,{layer:{id:rt}}),this._serializedLayers[nt.id]=nt.serialize()}var it=et?this._order.indexOf(et):this._order.length;if(et&&-1===it)this.fire(new w.ErrorEvent(new Error('Layer with id "'+et+'" does not exist on this map.')));else{if(this._order.splice(it,0,rt),this._layerOrderChanged=!0,this._layers[rt]=nt,this._removedLayers[rt]&&nt.source&&"custom"!==nt.type){var ot=this._removedLayers[rt];delete this._removedLayers[rt],ot.type!==nt.type?this._updatedSources[nt.source]="clear":(this._updatedSources[nt.source]="reload",this.sourceCaches[nt.source].pause())}this._updateLayer(nt),nt.onAdd&&nt.onAdd(this.map)}}},i.prototype.moveLayer=function(Ne,et){if(this._checkLoaded(),this._changed=!0,this._layers[Ne]){if(Ne!==et){var tt=this._order.indexOf(Ne);this._order.splice(tt,1);var rt=et?this._order.indexOf(et):this._order.length;et&&-1===rt?this.fire(new w.ErrorEvent(new Error('Layer with id "'+et+'" does not exist on this map.'))):(this._order.splice(rt,0,Ne),this._layerOrderChanged=!0)}}else this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(Ne){this._checkLoaded();var et=this._layers[Ne];if(et){et.setEventedParent(null);var tt=this._order.indexOf(Ne);this._order.splice(tt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[Ne]=et,delete this._layers[Ne],delete this._serializedLayers[Ne],delete this._updatedLayers[Ne],delete this._updatedPaintProps[Ne],et.onRemove&&et.onRemove(this.map)}else this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(w){return this._layers[w]},i.prototype.hasLayer=function(w){return w in this._layers},i.prototype.setLayerZoomRange=function(Ne,et,tt){this._checkLoaded();var rt=this.getLayer(Ne);rt?rt.minzoom===et&&rt.maxzoom===tt||(null!=et&&(rt.minzoom=et),null!=tt&&(rt.maxzoom=tt),this._updateLayer(rt)):this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(Ne,et,tt){void 0===tt&&(tt={}),this._checkLoaded();var rt=this.getLayer(Ne);if(rt){if(!w.deepEqual(rt.filter,et))return null==et?(rt.filter=void 0,void this._updateLayer(rt)):void(this._validate(w.validateStyle.filter,"layers."+rt.id+".filter",et,null,tt)||(rt.filter=w.clone$1(et),this._updateLayer(rt)))}else this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(Ne){return w.clone$1(this.getLayer(Ne).filter)},i.prototype.setLayoutProperty=function(Ne,et,tt,rt){void 0===rt&&(rt={}),this._checkLoaded();var nt=this.getLayer(Ne);nt?w.deepEqual(nt.getLayoutProperty(et),tt)||(nt.setLayoutProperty(et,tt,rt),this._updateLayer(nt)):this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(Ne,et){var tt=this.getLayer(Ne);if(tt)return tt.getLayoutProperty(et);this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(Ne,et,tt,rt){void 0===rt&&(rt={}),this._checkLoaded();var nt=this.getLayer(Ne);nt?w.deepEqual(nt.getPaintProperty(et),tt)||(nt.setPaintProperty(et,tt,rt)&&this._updateLayer(nt),this._changed=!0,this._updatedPaintProps[Ne]=!0):this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(w,Ne){return this.getLayer(w).getPaintProperty(Ne)},i.prototype.setFeatureState=function(Ne,et){this._checkLoaded();var tt=Ne.source,rt=Ne.sourceLayer,nt=this.sourceCaches[tt];if(void 0!==nt){var it=nt.getSource().type;"geojson"===it&&rt?this.fire(new w.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==it||rt?(void 0===Ne.id&&this.fire(new w.ErrorEvent(new Error("The feature id parameter must be provided."))),nt.setFeatureState(rt,Ne.id,et)):this.fire(new w.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new w.ErrorEvent(new Error("The source '"+tt+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(Ne,et){this._checkLoaded();var tt=Ne.source,rt=this.sourceCaches[tt];if(void 0!==rt){var nt=rt.getSource().type,it="vector"===nt?Ne.sourceLayer:void 0;"vector"!==nt||it?et&&"string"!=typeof Ne.id&&"number"!=typeof Ne.id?this.fire(new w.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):rt.removeFeatureState(it,Ne.id,et):this.fire(new w.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new w.ErrorEvent(new Error("The source '"+tt+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(Ne){this._checkLoaded();var et=Ne.source,tt=Ne.sourceLayer,rt=this.sourceCaches[et];if(void 0!==rt){if("vector"!==rt.getSource().type||tt)return void 0===Ne.id&&this.fire(new w.ErrorEvent(new Error("The feature id parameter must be provided."))),rt.getFeatureState(tt,Ne.id);this.fire(new w.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new w.ErrorEvent(new Error("The source '"+et+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return w.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return w.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:w.mapObject(this.sourceCaches,(function(w){return w.serialize()})),layers:this._serializeLayers(this._order)},(function(w){return void 0!==w}))},i.prototype._updateLayer=function(w){this._updatedLayers[w.id]=!0,w.source&&!this._updatedSources[w.source]&&"raster"!==this.sourceCaches[w.source].getSource().type&&(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(w){for(var Ne=this,i=function(w){return"fill-extrusion"===Ne._layers[w].type},et={},tt=[],rt=this._order.length-1;rt>=0;rt--){var nt=this._order[rt];if(i(nt)){et[nt]=rt;for(var it=0,ot=w;it<ot.length;it+=1){var at=ot[it][nt];if(at)for(var st=0,ct=at;st<ct.length;st+=1)tt.push(ct[st])}}}tt.sort((function(w,Ne){return Ne.intersectionZ-w.intersectionZ}));for(var pt=[],ft=this._order.length-1;ft>=0;ft--){var dt=this._order[ft];if(i(dt))for(var mt=tt.length-1;mt>=0;mt--){var yt=tt[mt].feature;if(et[yt.layer.id]<ft)break;pt.push(yt),tt.pop()}else for(var vt=0,Rt=w;vt<Rt.length;vt+=1){var Ot=Rt[vt][dt];if(Ot)for(var Dt=0,Bt=Ot;Dt<Bt.length;Dt+=1)pt.push(Bt[Dt].feature)}}return pt},i.prototype.queryRenderedFeatures=function(Ne,et,tt){et&&et.filter&&this._validate(w.validateStyle.filter,"queryRenderedFeatures.filter",et.filter,null,et);var rt={};if(et&&et.layers){if(!Array.isArray(et.layers))return this.fire(new w.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var nt=0,it=et.layers;nt<it.length;nt+=1){var ot=it[nt],at=this._layers[ot];if(!at)return this.fire(new w.ErrorEvent(new Error("The layer '"+ot+"' does not exist in the map's style and cannot be queried for features."))),[];rt[at.source]=!0}}var st=[];for(var ct in et.availableImages=this._availableImages,this.sourceCaches)et.layers&&!rt[ct]||st.push(O(this.sourceCaches[ct],this._layers,this._serializedLayers,Ne,et,tt));return this.placement&&st.push(function(w,Ne,et,tt,rt,nt,it){for(var ot={},at=nt.queryRenderedSymbols(tt),st=[],ct=0,pt=Object.keys(at).map(Number);ct<pt.length;ct+=1)st.push(it[pt[ct]]);st.sort(F);for(var p=function(){var et=dt[ft],tt=et.featureIndex.lookupSymbolFeatures(at[et.bucketInstanceId],Ne,et.bucketIndex,et.sourceLayerIndex,rt.filter,rt.layers,rt.availableImages,w);for(var nt in tt){var it=ot[nt]=ot[nt]||[],st=tt[nt];st.sort((function(w,Ne){var tt=et.featureSortOrder;if(tt){var rt=tt.indexOf(w.featureIndex);return tt.indexOf(Ne.featureIndex)-rt}return Ne.featureIndex-w.featureIndex}));for(var ct=0,pt=st;ct<pt.length;ct+=1)it.push(pt[ct])}},ft=0,dt=st;ft<dt.length;ft+=1)p();var f=function(Ne){ot[Ne].forEach((function(tt){var rt=tt.feature,nt=et[w[Ne].source].getFeatureState(rt.layer["source-layer"],rt.id);rt.source=rt.layer.source,rt.layer["source-layer"]&&(rt.sourceLayer=rt.layer["source-layer"]),rt.state=nt}))};for(var mt in ot)f(mt);return ot}(this._layers,this._serializedLayers,this.sourceCaches,Ne,et,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(st)},i.prototype.querySourceFeatures=function(Ne,et){et&&et.filter&&this._validate(w.validateStyle.filter,"querySourceFeatures.filter",et.filter,null,et);var tt=this.sourceCaches[Ne];return tt?function(w,Ne){for(var et=w.getRenderableIds().map((function(Ne){return w.getTileByID(Ne)})),tt=[],rt={},nt=0;nt<et.length;nt++){var it=et[nt],ot=it.tileID.canonical.key;rt[ot]||(rt[ot]=!0,it.querySourceFeatures(tt,Ne))}return tt}(tt,et):[]},i.prototype.addSourceType=function(w,Ne,et){return i.getSourceType(w)?et(new Error('A source type called "'+w+'" already exists.')):(i.setSourceType(w,Ne),Ne.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:w,url:Ne.workerSourceURL},et):et(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(Ne,et){void 0===et&&(et={}),this._checkLoaded();var tt=this.light.getLight(),rt=!1;for(var nt in Ne)if(!w.deepEqual(Ne[nt],tt[nt])){rt=!0;break}if(rt){var it={now:w.browser.now(),transition:w.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(Ne,et),this.light.updateTransitions(it)}},i.prototype._validate=function(Ne,et,tt,rt,nt){return void 0===nt&&(nt={}),(!nt||!1!==nt.validate)&&Ue(this,Ne.call(w.validateStyle,w.extend({key:et,style:this.serialize(),value:tt,styleSpec:w.styleSpec},rt)))},i.prototype._remove=function(){for(var Ne in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),w.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[Ne].setEventedParent(null);for(var et in this.sourceCaches)this.sourceCaches[et].clearTiles(),this.sourceCaches[et].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},i.prototype._clearSource=function(w){this.sourceCaches[w].clearTiles()},i.prototype._reloadSource=function(w){this.sourceCaches[w].resume(),this.sourceCaches[w].reload()},i.prototype._updateSources=function(w){for(var Ne in this.sourceCaches)this.sourceCaches[Ne].update(w)},i.prototype._generateCollisionBoxes=function(){for(var w in this.sourceCaches)this._reloadSource(w)},i.prototype._updatePlacement=function(Ne,et,tt,rt,nt){void 0===nt&&(nt=!1);for(var it=!1,ot=!1,at={},st=0,ct=this._order;st<ct.length;st+=1){var pt=this._layers[ct[st]];if("symbol"===pt.type){if(!at[pt.source]){var ft=this.sourceCaches[pt.source];at[pt.source]=ft.getRenderableIds(!0).map((function(w){return ft.getTileByID(w)})).sort((function(w,Ne){return Ne.tileID.overscaledZ-w.tileID.overscaledZ||(w.tileID.isLessThan(Ne.tileID)?-1:1)}))}var dt=this.crossTileSymbolIndex.addLayer(pt,at[pt.source],Ne.center.lng);it=it||dt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((nt=nt||this._layerOrderChanged||0===tt)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(w.browser.now(),Ne.zoom))&&(this.pauseablePlacement=new Ae(Ne,this._order,nt,et,tt,rt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,at),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(w.browser.now()),ot=!0),it&&this.pauseablePlacement.placement.setStale()),ot||it)for(var mt=0,yt=this._order;mt<yt.length;mt+=1){var vt=this._layers[yt[mt]];"symbol"===vt.type&&this.placement.updateLayerOpacities(vt,at[vt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(w.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var w in this.sourceCaches)this.sourceCaches[w].releaseSymbolFadeTiles()},i.prototype.getImages=function(w,Ne,et){this.imageManager.getImages(Ne.icons,et),this._updateTilesForChangedImages();var tt=this.sourceCaches[Ne.source];tt&&tt.setDependencies(Ne.tileID.key,Ne.type,Ne.icons)},i.prototype.getGlyphs=function(w,Ne,et){this.glyphManager.getGlyphs(Ne.stacks,et)},i.prototype.getResource=function(Ne,et,tt){return w.makeRequest(et,tt)},i}(w.Evented);Ns.getSourceType=function(w){return wr[w]},Ns.setSourceType=function(w,Ne){wr[w]=Ne},Ns.registerForPluginStateChange=w.registerForPluginStateChange;var js=w.createLayout([{name:"a_pos",type:"Int16",components:2}]),Vs=gi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Us=gi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zs=gi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Js=gi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),tl=gi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ol=gi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),sl=gi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),dl=gi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),gl=gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),yl=gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),vl=gi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),_l=gi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),bl=gi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),xl=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),wl=gi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),kl=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Sl=gi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Cl=gi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Il=gi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Al=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),zl=gi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Fl=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Hl=gi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),du=gi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vu=gi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),_u=gi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gi(w,Ne){var et=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,tt=Ne.match(/attribute ([\w]+) ([\w]+)/g),rt=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),nt=Ne.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),it=nt?nt.concat(rt):rt,ot={};return{fragmentSource:w=w.replace(et,(function(w,Ne,et,tt,rt){return ot[rt]=!0,"define"===Ne?"\n#ifndef HAS_UNIFORM_u_"+rt+"\nvarying "+et+" "+tt+" "+rt+";\n#else\nuniform "+et+" "+tt+" u_"+rt+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+rt+"\n    "+et+" "+tt+" "+rt+" = u_"+rt+";\n#endif\n"})),vertexSource:Ne=Ne.replace(et,(function(w,Ne,et,tt,rt){var nt="float"===tt?"vec2":"vec4",it=rt.match(/color/)?"color":nt;return ot[rt]?"define"===Ne?"\n#ifndef HAS_UNIFORM_u_"+rt+"\nuniform lowp float u_"+rt+"_t;\nattribute "+et+" "+nt+" a_"+rt+";\nvarying "+et+" "+tt+" "+rt+";\n#else\nuniform "+et+" "+tt+" u_"+rt+";\n#endif\n":"vec4"===it?"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+rt+" = a_"+rt+";\n#else\n    "+et+" "+tt+" "+rt+" = u_"+rt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+rt+" = unpack_mix_"+it+"(a_"+rt+", u_"+rt+"_t);\n#else\n    "+et+" "+tt+" "+rt+" = u_"+rt+";\n#endif\n":"define"===Ne?"\n#ifndef HAS_UNIFORM_u_"+rt+"\nuniform lowp float u_"+rt+"_t;\nattribute "+et+" "+nt+" a_"+rt+";\n#else\nuniform "+et+" "+tt+" u_"+rt+";\n#endif\n":"vec4"===it?"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+et+" "+tt+" "+rt+" = a_"+rt+";\n#else\n    "+et+" "+tt+" "+rt+" = u_"+rt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+rt+"\n    "+et+" "+tt+" "+rt+" = unpack_mix_"+it+"(a_"+rt+", u_"+rt+"_t);\n#else\n    "+et+" "+tt+" "+rt+" = u_"+rt+";\n#endif\n"})),staticAttributes:tt,staticUniforms:it}}var wu=Object.freeze({__proto__:null,prelude:Vs,background:Us,backgroundPattern:Zs,circle:Js,clippingMask:tl,heatmap:ol,heatmapTexture:sl,collisionBox:dl,collisionCircle:gl,debug:yl,fill:vl,fillOutline:_l,fillOutlinePattern:bl,fillPattern:xl,fillExtrusion:wl,fillExtrusionPattern:kl,hillshadePrepare:Sl,hillshade:Cl,line:Il,lineGradient:Al,linePattern:zl,lineSDF:Fl,raster:Hl,symbolIcon:du,symbolSDF:vu,symbolTextAndIcon:_u}),yi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xi(w){for(var Ne=[],et=0;et<w.length;et++)if(null!==w[et]){var tt=w[et].split(" ");Ne.push(tt.pop())}return Ne}yi.prototype.bind=function(w,Ne,et,tt,rt,nt,it,ot){this.context=w;for(var at=this.boundPaintVertexBuffers.length!==tt.length,st=0;!at&&st<tt.length;st++)this.boundPaintVertexBuffers[st]!==tt[st]&&(at=!0);w.extVertexArrayObject&&this.vao&&this.boundProgram===Ne&&this.boundLayoutVertexBuffer===et&&!at&&this.boundIndexBuffer===rt&&this.boundVertexOffset===nt&&this.boundDynamicVertexBuffer===it&&this.boundDynamicVertexBuffer2===ot?(w.bindVertexArrayOES.set(this.vao),it&&it.bind(),rt&&rt.dynamicDraw&&rt.bind(),ot&&ot.bind()):this.freshBind(Ne,et,tt,rt,nt,it,ot)},yi.prototype.freshBind=function(w,Ne,et,tt,rt,nt,it){var ot,at=w.numAttributes,st=this.context,ct=st.gl;if(st.extVertexArrayObject)this.vao&&this.destroy(),this.vao=st.extVertexArrayObject.createVertexArrayOES(),st.bindVertexArrayOES.set(this.vao),ot=0,this.boundProgram=w,this.boundLayoutVertexBuffer=Ne,this.boundPaintVertexBuffers=et,this.boundIndexBuffer=tt,this.boundVertexOffset=rt,this.boundDynamicVertexBuffer=nt,this.boundDynamicVertexBuffer2=it;else{ot=st.currentNumAttributes||0;for(var pt=at;pt<ot;pt++)ct.disableVertexAttribArray(pt)}Ne.enableAttributes(ct,w);for(var ft=0,dt=et;ft<dt.length;ft+=1)dt[ft].enableAttributes(ct,w);nt&&nt.enableAttributes(ct,w),it&&it.enableAttributes(ct,w),Ne.bind(),Ne.setVertexAttribPointers(ct,w,rt);for(var mt=0,yt=et;mt<yt.length;mt+=1){var vt=yt[mt];vt.bind(),vt.setVertexAttribPointers(ct,w,rt)}nt&&(nt.bind(),nt.setVertexAttribPointers(ct,w,rt)),tt&&tt.bind(),it&&(it.bind(),it.setVertexAttribPointers(ct,w,rt)),st.currentNumAttributes=at},yi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var bi=function(w,Ne,et,tt,rt,nt){var it=w.gl;this.program=it.createProgram();for(var ot=xi(et.staticAttributes),at=tt?tt.getBinderAttributes():[],st=ot.concat(at),ct=et.staticUniforms?xi(et.staticUniforms):[],pt=tt?tt.getBinderUniforms():[],ft=[],dt=0,mt=ct.concat(pt);dt<mt.length;dt+=1){var yt=mt[dt];ft.indexOf(yt)<0&&ft.push(yt)}var vt=tt?tt.defines():[];nt&&vt.push("#define OVERDRAW_INSPECTOR;");var Rt=vt.concat(Vs.fragmentSource,et.fragmentSource).join("\n"),Ot=vt.concat(Vs.vertexSource,et.vertexSource).join("\n"),Dt=it.createShader(it.FRAGMENT_SHADER);if(it.isContextLost())this.failedToCreate=!0;else{it.shaderSource(Dt,Rt),it.compileShader(Dt),it.attachShader(this.program,Dt);var Bt=it.createShader(it.VERTEX_SHADER);if(it.isContextLost())this.failedToCreate=!0;else{it.shaderSource(Bt,Ot),it.compileShader(Bt),it.attachShader(this.program,Bt),this.attributes={};var er={};this.numAttributes=st.length;for(var rr=0;rr<this.numAttributes;rr++)st[rr]&&(it.bindAttribLocation(this.program,rr,st[rr]),this.attributes[st[rr]]=rr);it.linkProgram(this.program),it.deleteShader(Bt),it.deleteShader(Dt);for(var vr=0;vr<ft.length;vr++){var wr=ft[vr];if(wr&&!er[wr]){var Sr=it.getUniformLocation(this.program,wr);Sr&&(er[wr]=Sr)}}this.fixedUniforms=rt(w,er),this.binderUniforms=tt?tt.getUniforms(w,er):[]}}};function wi(w,Ne,et){var tt=1/pe(et,1,Ne.transform.tileZoom),rt=Math.pow(2,et.tileID.overscaledZ),nt=et.tileSize*Math.pow(2,Ne.transform.tileZoom)/rt,it=nt*(et.tileID.canonical.x+et.tileID.wrap*rt),ot=nt*et.tileID.canonical.y;return{u_image:0,u_texsize:et.imageAtlasTexture.size,u_scale:[tt,w.fromScale,w.toScale],u_fade:w.t,u_pixel_coord_upper:[it>>16,ot>>16],u_pixel_coord_lower:[65535&it,65535&ot]}}bi.prototype.draw=function(w,Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt,Rt=w.gl;if(!this.failedToCreate){for(var Ot in w.program.set(this.program),w.setDepthMode(et),w.setStencilMode(tt),w.setColorMode(rt),w.setCullFace(nt),this.fixedUniforms)this.fixedUniforms[Ot].set(it[Ot]);dt&&dt.setUniforms(w,this.binderUniforms,pt,{zoom:ft});for(var Dt=(vt={},vt[Rt.LINES]=2,vt[Rt.TRIANGLES]=3,vt[Rt.LINE_STRIP]=1,vt)[Ne],Bt=0,er=ct.get();Bt<er.length;Bt+=1){var rr=er[Bt],vr=rr.vaos||(rr.vaos={});(vr[ot]||(vr[ot]=new yi)).bind(w,this,at,dt?dt.getPaintVertexBuffers():[],st,rr.vertexOffset,mt,yt),Rt.drawElements(Ne,rr.primitiveLength*Dt,Rt.UNSIGNED_SHORT,rr.primitiveOffset*Dt*2)}}};var Ti=function(Ne,et,tt,rt){var nt=et.style.light,it=nt.properties.get("position"),ot=[it.x,it.y,it.z],at=w.create$1();"viewport"===nt.properties.get("anchor")&&w.fromRotation(at,-et.transform.angle),w.transformMat3(ot,ot,at);var st=nt.properties.get("color");return{u_matrix:Ne,u_lightpos:ot,u_lightintensity:nt.properties.get("intensity"),u_lightcolor:[st.r,st.g,st.b],u_vertical_gradient:+tt,u_opacity:rt}},Ei=function(Ne,et,tt,rt,nt,it,ot){return w.extend(Ti(Ne,et,tt,rt),wi(it,et,ot),{u_height_factor:-Math.pow(2,nt.overscaledZ)/ot.tileSize/8})},Ii=function(w){return{u_matrix:w}},Pi=function(Ne,et,tt,rt){return w.extend(Ii(Ne),wi(tt,et,rt))},Si=function(w,Ne){return{u_matrix:w,u_world:Ne}},Ci=function(Ne,et,tt,rt,nt){return w.extend(Pi(Ne,et,tt,rt),{u_world:nt})},zi=function(Ne,et,tt,rt){var nt,it,ot=Ne.transform;if("map"===rt.paint.get("circle-pitch-alignment")){var at=pe(tt,1,ot.zoom);nt=!0,it=[at,at]}else nt=!1,it=ot.pixelsToGLUnits;return{u_camera_to_center_distance:ot.cameraToCenterDistance,u_scale_with_map:+("map"===rt.paint.get("circle-pitch-scale")),u_matrix:Ne.translatePosMatrix(et.posMatrix,tt,rt.paint.get("circle-translate"),rt.paint.get("circle-translate-anchor")),u_pitch_with_map:+nt,u_device_pixel_ratio:w.browser.devicePixelRatio,u_extrude_scale:it}},Di=function(w,Ne,et){var tt=pe(et,1,Ne.zoom),rt=Math.pow(2,Ne.zoom-et.tileID.overscaledZ),nt=et.tileID.overscaleFactor();return{u_matrix:w,u_camera_to_center_distance:Ne.cameraToCenterDistance,u_pixels_to_tile_units:tt,u_extrude_scale:[Ne.pixelsToGLUnits[0]/(tt*rt),Ne.pixelsToGLUnits[1]/(tt*rt)],u_overscale_factor:nt}},Mi=function(w,Ne,et){return{u_matrix:w,u_inv_matrix:Ne,u_camera_to_center_distance:et.cameraToCenterDistance,u_viewport_size:[et.width,et.height]}},Li=function(w,Ne,et){return void 0===et&&(et=1),{u_matrix:w,u_color:Ne,u_overlay:0,u_overlay_scale:et}},Ai=function(w){return{u_matrix:w}},Ri=function(w,Ne,et,tt){return{u_matrix:w,u_extrude_scale:pe(Ne,1,et),u_intensity:tt}},ki=function(Ne,et,tt){var rt=Ne.transform;return{u_matrix:Ni(Ne,et,tt),u_ratio:1/pe(et,1,rt.zoom),u_device_pixel_ratio:w.browser.devicePixelRatio,u_units_to_pixels:[1/rt.pixelsToGLUnits[0],1/rt.pixelsToGLUnits[1]]}},Bi=function(Ne,et,tt){return w.extend(ki(Ne,et,tt),{u_image:0})},Oi=function(Ne,et,tt,rt){var nt=Ne.transform,it=Ui(et,nt);return{u_matrix:Ni(Ne,et,tt),u_texsize:et.imageAtlasTexture.size,u_ratio:1/pe(et,1,nt.zoom),u_device_pixel_ratio:w.browser.devicePixelRatio,u_image:0,u_scale:[it,rt.fromScale,rt.toScale],u_fade:rt.t,u_units_to_pixels:[1/nt.pixelsToGLUnits[0],1/nt.pixelsToGLUnits[1]]}},Fi=function(Ne,et,tt,rt,nt){var it=Ne.lineAtlas,ot=Ui(et,Ne.transform),at="round"===tt.layout.get("line-cap"),st=it.getDash(rt.from,at),ct=it.getDash(rt.to,at),pt=st.width*nt.fromScale,ft=ct.width*nt.toScale;return w.extend(ki(Ne,et,tt),{u_patternscale_a:[ot/pt,-st.height/2],u_patternscale_b:[ot/ft,-ct.height/2],u_sdfgamma:it.width/(256*Math.min(pt,ft)*w.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:st.y,u_tex_y_b:ct.y,u_mix:nt.t})};function Ui(w,Ne){return 1/pe(w,1,Ne.tileZoom)}function Ni(w,Ne,et){return w.translatePosMatrix(Ne.tileID.posMatrix,Ne,et.paint.get("line-translate"),et.paint.get("line-translate-anchor"))}var Zi=function(w,Ne,et,tt,rt){return{u_matrix:w,u_tl_parent:Ne,u_scale_parent:et,u_buffer_scale:1,u_fade_t:tt.mix,u_opacity:tt.opacity*rt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:rt.paint.get("raster-brightness-min"),u_brightness_high:rt.paint.get("raster-brightness-max"),u_saturation_factor:(it=rt.paint.get("raster-saturation"),it>0?1-1/(1.001-it):-it),u_contrast_factor:(nt=rt.paint.get("raster-contrast"),nt>0?1/(1-nt):1+nt),u_spin_weights:ji(rt.paint.get("raster-hue-rotate"))};var nt,it};function ji(w){w*=Math.PI/180;var Ne=Math.sin(w),et=Math.cos(w);return[(2*et+1)/3,(-Math.sqrt(3)*Ne-et+1)/3,(Math.sqrt(3)*Ne-et+1)/3]}var Tu,Vi=function(w,Ne,et,tt,rt,nt,it,ot,at,st){var ct=rt.transform;return{u_is_size_zoom_constant:+("constant"===w||"source"===w),u_is_size_feature_constant:+("constant"===w||"camera"===w),u_size_t:Ne?Ne.uSizeT:0,u_size:Ne?Ne.uSize:0,u_camera_to_center_distance:ct.cameraToCenterDistance,u_pitch:ct.pitch/360*2*Math.PI,u_rotate_symbol:+et,u_aspect_ratio:ct.width/ct.height,u_fade_change:rt.options.fadeDuration?rt.symbolFadeChange:1,u_matrix:nt,u_label_plane_matrix:it,u_coord_matrix:ot,u_is_text:+at,u_pitch_with_map:+tt,u_texsize:st,u_texture:0}},Gi=function(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){var ft=nt.transform;return w.extend(Vi(Ne,et,tt,rt,nt,it,ot,at,st,ct),{u_gamma_scale:rt?Math.cos(ft._pitch)*ft.cameraToCenterDistance:1,u_device_pixel_ratio:w.browser.devicePixelRatio,u_is_halo:+pt})},Wi=function(Ne,et,tt,rt,nt,it,ot,at,st,ct){return w.extend(Gi(Ne,et,tt,rt,nt,it,ot,at,!0,st,!0),{u_texsize_icon:ct,u_texture_icon:1})},Xi=function(w,Ne,et){return{u_matrix:w,u_opacity:Ne,u_color:et}},Hi=function(Ne,et,tt,rt,nt,it){return w.extend(function(w,Ne,et,tt){var rt=et.imageManager.getPattern(w.from.toString()),nt=et.imageManager.getPattern(w.to.toString()),it=et.imageManager.getPixelSize(),ot=it.width,at=it.height,st=Math.pow(2,tt.tileID.overscaledZ),ct=tt.tileSize*Math.pow(2,et.transform.tileZoom)/st,pt=ct*(tt.tileID.canonical.x+tt.tileID.wrap*st),ft=ct*tt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:rt.tl,u_pattern_br_a:rt.br,u_pattern_tl_b:nt.tl,u_pattern_br_b:nt.br,u_texsize:[ot,at],u_mix:Ne.t,u_pattern_size_a:rt.displaySize,u_pattern_size_b:nt.displaySize,u_scale_a:Ne.fromScale,u_scale_b:Ne.toScale,u_tile_units_to_pixels:1/pe(tt,1,et.transform.tileZoom),u_pixel_coord_upper:[pt>>16,ft>>16],u_pixel_coord_lower:[65535&pt,65535&ft]}}(rt,it,tt,nt),{u_matrix:Ne,u_opacity:et})},Fu={fillExtrusion:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_lightpos:new w.Uniform3f(Ne,et.u_lightpos),u_lightintensity:new w.Uniform1f(Ne,et.u_lightintensity),u_lightcolor:new w.Uniform3f(Ne,et.u_lightcolor),u_vertical_gradient:new w.Uniform1f(Ne,et.u_vertical_gradient),u_opacity:new w.Uniform1f(Ne,et.u_opacity)}},fillExtrusionPattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_lightpos:new w.Uniform3f(Ne,et.u_lightpos),u_lightintensity:new w.Uniform1f(Ne,et.u_lightintensity),u_lightcolor:new w.Uniform3f(Ne,et.u_lightcolor),u_vertical_gradient:new w.Uniform1f(Ne,et.u_vertical_gradient),u_height_factor:new w.Uniform1f(Ne,et.u_height_factor),u_image:new w.Uniform1i(Ne,et.u_image),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade),u_opacity:new w.Uniform1f(Ne,et.u_opacity)}},fill:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},fillPattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_image:new w.Uniform1i(Ne,et.u_image),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade)}},fillOutline:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_world:new w.Uniform2f(Ne,et.u_world)}},fillOutlinePattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_world:new w.Uniform2f(Ne,et.u_world),u_image:new w.Uniform1i(Ne,et.u_image),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade)}},circle:function(Ne,et){return{u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_scale_with_map:new w.Uniform1i(Ne,et.u_scale_with_map),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_extrude_scale:new w.Uniform2f(Ne,et.u_extrude_scale),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},collisionBox:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pixels_to_tile_units:new w.Uniform1f(Ne,et.u_pixels_to_tile_units),u_extrude_scale:new w.Uniform2f(Ne,et.u_extrude_scale),u_overscale_factor:new w.Uniform1f(Ne,et.u_overscale_factor)}},collisionCircle:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_inv_matrix:new w.UniformMatrix4f(Ne,et.u_inv_matrix),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_viewport_size:new w.Uniform2f(Ne,et.u_viewport_size)}},debug:function(Ne,et){return{u_color:new w.UniformColor(Ne,et.u_color),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_overlay:new w.Uniform1i(Ne,et.u_overlay),u_overlay_scale:new w.Uniform1f(Ne,et.u_overlay_scale)}},clippingMask:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},heatmap:function(Ne,et){return{u_extrude_scale:new w.Uniform1f(Ne,et.u_extrude_scale),u_intensity:new w.Uniform1f(Ne,et.u_intensity),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},heatmapTexture:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_world:new w.Uniform2f(Ne,et.u_world),u_image:new w.Uniform1i(Ne,et.u_image),u_color_ramp:new w.Uniform1i(Ne,et.u_color_ramp),u_opacity:new w.Uniform1f(Ne,et.u_opacity)}},hillshade:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_image:new w.Uniform1i(Ne,et.u_image),u_latrange:new w.Uniform2f(Ne,et.u_latrange),u_light:new w.Uniform2f(Ne,et.u_light),u_shadow:new w.UniformColor(Ne,et.u_shadow),u_highlight:new w.UniformColor(Ne,et.u_highlight),u_accent:new w.UniformColor(Ne,et.u_accent)}},hillshadePrepare:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_image:new w.Uniform1i(Ne,et.u_image),u_dimension:new w.Uniform2f(Ne,et.u_dimension),u_zoom:new w.Uniform1f(Ne,et.u_zoom),u_maxzoom:new w.Uniform1f(Ne,et.u_maxzoom),u_unpack:new w.Uniform4f(Ne,et.u_unpack)}},line:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels)}},lineGradient:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels),u_image:new w.Uniform1i(Ne,et.u_image)}},linePattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_image:new w.Uniform1i(Ne,et.u_image),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade)}},lineSDF:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels),u_patternscale_a:new w.Uniform2f(Ne,et.u_patternscale_a),u_patternscale_b:new w.Uniform2f(Ne,et.u_patternscale_b),u_sdfgamma:new w.Uniform1f(Ne,et.u_sdfgamma),u_image:new w.Uniform1i(Ne,et.u_image),u_tex_y_a:new w.Uniform1f(Ne,et.u_tex_y_a),u_tex_y_b:new w.Uniform1f(Ne,et.u_tex_y_b),u_mix:new w.Uniform1f(Ne,et.u_mix)}},raster:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_tl_parent:new w.Uniform2f(Ne,et.u_tl_parent),u_scale_parent:new w.Uniform1f(Ne,et.u_scale_parent),u_buffer_scale:new w.Uniform1f(Ne,et.u_buffer_scale),u_fade_t:new w.Uniform1f(Ne,et.u_fade_t),u_opacity:new w.Uniform1f(Ne,et.u_opacity),u_image0:new w.Uniform1i(Ne,et.u_image0),u_image1:new w.Uniform1i(Ne,et.u_image1),u_brightness_low:new w.Uniform1f(Ne,et.u_brightness_low),u_brightness_high:new w.Uniform1f(Ne,et.u_brightness_high),u_saturation_factor:new w.Uniform1f(Ne,et.u_saturation_factor),u_contrast_factor:new w.Uniform1f(Ne,et.u_contrast_factor),u_spin_weights:new w.Uniform3f(Ne,et.u_spin_weights)}},symbolIcon:function(Ne,et){return{u_is_size_zoom_constant:new w.Uniform1i(Ne,et.u_is_size_zoom_constant),u_is_size_feature_constant:new w.Uniform1i(Ne,et.u_is_size_feature_constant),u_size_t:new w.Uniform1f(Ne,et.u_size_t),u_size:new w.Uniform1f(Ne,et.u_size),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pitch:new w.Uniform1f(Ne,et.u_pitch),u_rotate_symbol:new w.Uniform1i(Ne,et.u_rotate_symbol),u_aspect_ratio:new w.Uniform1f(Ne,et.u_aspect_ratio),u_fade_change:new w.Uniform1f(Ne,et.u_fade_change),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_label_plane_matrix:new w.UniformMatrix4f(Ne,et.u_label_plane_matrix),u_coord_matrix:new w.UniformMatrix4f(Ne,et.u_coord_matrix),u_is_text:new w.Uniform1i(Ne,et.u_is_text),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_texture:new w.Uniform1i(Ne,et.u_texture)}},symbolSDF:function(Ne,et){return{u_is_size_zoom_constant:new w.Uniform1i(Ne,et.u_is_size_zoom_constant),u_is_size_feature_constant:new w.Uniform1i(Ne,et.u_is_size_feature_constant),u_size_t:new w.Uniform1f(Ne,et.u_size_t),u_size:new w.Uniform1f(Ne,et.u_size),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pitch:new w.Uniform1f(Ne,et.u_pitch),u_rotate_symbol:new w.Uniform1i(Ne,et.u_rotate_symbol),u_aspect_ratio:new w.Uniform1f(Ne,et.u_aspect_ratio),u_fade_change:new w.Uniform1f(Ne,et.u_fade_change),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_label_plane_matrix:new w.UniformMatrix4f(Ne,et.u_label_plane_matrix),u_coord_matrix:new w.UniformMatrix4f(Ne,et.u_coord_matrix),u_is_text:new w.Uniform1i(Ne,et.u_is_text),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_texture:new w.Uniform1i(Ne,et.u_texture),u_gamma_scale:new w.Uniform1f(Ne,et.u_gamma_scale),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_is_halo:new w.Uniform1i(Ne,et.u_is_halo)}},symbolTextAndIcon:function(Ne,et){return{u_is_size_zoom_constant:new w.Uniform1i(Ne,et.u_is_size_zoom_constant),u_is_size_feature_constant:new w.Uniform1i(Ne,et.u_is_size_feature_constant),u_size_t:new w.Uniform1f(Ne,et.u_size_t),u_size:new w.Uniform1f(Ne,et.u_size),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pitch:new w.Uniform1f(Ne,et.u_pitch),u_rotate_symbol:new w.Uniform1i(Ne,et.u_rotate_symbol),u_aspect_ratio:new w.Uniform1f(Ne,et.u_aspect_ratio),u_fade_change:new w.Uniform1f(Ne,et.u_fade_change),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_label_plane_matrix:new w.UniformMatrix4f(Ne,et.u_label_plane_matrix),u_coord_matrix:new w.UniformMatrix4f(Ne,et.u_coord_matrix),u_is_text:new w.Uniform1i(Ne,et.u_is_text),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_texsize_icon:new w.Uniform2f(Ne,et.u_texsize_icon),u_texture:new w.Uniform1i(Ne,et.u_texture),u_texture_icon:new w.Uniform1i(Ne,et.u_texture_icon),u_gamma_scale:new w.Uniform1f(Ne,et.u_gamma_scale),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_is_halo:new w.Uniform1i(Ne,et.u_is_halo)}},background:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_opacity:new w.Uniform1f(Ne,et.u_opacity),u_color:new w.UniformColor(Ne,et.u_color)}},backgroundPattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_opacity:new w.Uniform1f(Ne,et.u_opacity),u_image:new w.Uniform1i(Ne,et.u_image),u_pattern_tl_a:new w.Uniform2f(Ne,et.u_pattern_tl_a),u_pattern_br_a:new w.Uniform2f(Ne,et.u_pattern_br_a),u_pattern_tl_b:new w.Uniform2f(Ne,et.u_pattern_tl_b),u_pattern_br_b:new w.Uniform2f(Ne,et.u_pattern_br_b),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_mix:new w.Uniform1f(Ne,et.u_mix),u_pattern_size_a:new w.Uniform2f(Ne,et.u_pattern_size_a),u_pattern_size_b:new w.Uniform2f(Ne,et.u_pattern_size_b),u_scale_a:new w.Uniform1f(Ne,et.u_scale_a),u_scale_b:new w.Uniform1f(Ne,et.u_scale_b),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_tile_units_to_pixels:new w.Uniform1f(Ne,et.u_tile_units_to_pixels)}}};function Yi(Ne,et,tt,rt,nt,it,ot){for(var at=Ne.context,st=at.gl,ct=Ne.useProgram("collisionBox"),pt=[],ft=0,dt=0,mt=0;mt<rt.length;mt++){var yt=rt[mt],vt=et.getTile(yt),Rt=vt.getBucket(tt);if(Rt){var Ot=yt.posMatrix;0===nt[0]&&0===nt[1]||(Ot=Ne.translatePosMatrix(yt.posMatrix,vt,nt,it));var Dt=ot?Rt.textCollisionBox:Rt.iconCollisionBox,Bt=Rt.collisionCircleArray;if(Bt.length>0){var er=w.create(),rr=Ot;w.mul(er,Rt.placementInvProjMatrix,Ne.transform.glCoordMatrix),w.mul(er,er,Rt.placementViewportMatrix),pt.push({circleArray:Bt,circleOffset:dt,transform:rr,invTransform:er}),dt=ft+=Bt.length/4}Dt&&ct.draw(at,st.LINES,It.disabled,Pt.disabled,Ne.colorModeForRenderPass(),Ct.disabled,Di(Ot,Ne.transform,vt),tt.id,Dt.layoutVertexBuffer,Dt.indexBuffer,Dt.segments,null,Ne.transform.zoom,null,null,Dt.collisionVertexBuffer)}}if(ot&&pt.length){var vr=Ne.useProgram("collisionCircle"),wr=new w.StructArrayLayout2f1f2i16;wr.resize(4*ft),wr._trim();for(var Sr=0,rn=0,vn=pt;rn<vn.length;rn+=1)for(var bn=vn[rn],Tn=0;Tn<bn.circleArray.length/4;Tn++){var Cn=4*Tn,In=bn.circleArray[Cn+0],zn=bn.circleArray[Cn+1],Mn=bn.circleArray[Cn+2],Ln=bn.circleArray[Cn+3];wr.emplace(Sr++,In,zn,Mn,Ln,0),wr.emplace(Sr++,In,zn,Mn,Ln,1),wr.emplace(Sr++,In,zn,Mn,Ln,2),wr.emplace(Sr++,In,zn,Mn,Ln,3)}(!Tu||Tu.length<2*ft)&&(Tu=function(Ne){var et=2*Ne,tt=new w.StructArrayLayout3ui6;tt.resize(et),tt._trim();for(var rt=0;rt<et;rt++){var nt=6*rt;tt.uint16[nt+0]=4*rt+0,tt.uint16[nt+1]=4*rt+1,tt.uint16[nt+2]=4*rt+2,tt.uint16[nt+3]=4*rt+2,tt.uint16[nt+4]=4*rt+3,tt.uint16[nt+5]=4*rt+0}return tt}(ft));for(var Fn=at.createIndexBuffer(Tu,!0),Bn=at.createVertexBuffer(wr,w.collisionCircleLayout.members,!0),Nn=0,Vn=pt;Nn<Vn.length;Nn+=1){var Wn=Vn[Nn],$n=Mi(Wn.transform,Wn.invTransform,Ne.transform);vr.draw(at,st.TRIANGLES,It.disabled,Pt.disabled,Ne.colorModeForRenderPass(),Ct.disabled,$n,tt.id,Bn,Fn,w.SegmentVector.simpleSegment(0,2*Wn.circleOffset,Wn.circleArray.length,Wn.circleArray.length/2),null,Ne.transform.zoom,null,null,null)}Bn.destroy(),Fn.destroy()}}var ac=w.identity(new Float32Array(16));function Qi(Ne,et,tt,rt,nt,it){var ot=w.getAnchorAlignment(Ne),at=-(ot.horizontalAlign-.5)*et,st=-(ot.verticalAlign-.5)*tt,ct=w.evaluateVariableOffset(Ne,rt);return new w.Point((at/nt+ct[0])*it,(st/nt+ct[1])*it)}function $i(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt){var ft=Ne.text.placedSymbolArray,dt=Ne.text.dynamicLayoutVertexArray,mt=Ne.icon.dynamicLayoutVertexArray,yt={};dt.clear();for(var vt=0;vt<ft.length;vt++){var Rt=ft.get(vt),Ot=Rt.hidden||!Rt.crossTileID||Ne.allowVerticalPlacement&&!Rt.placedOrientation?null:rt[Rt.crossTileID];if(Ot){var Dt=new w.Point(Rt.anchorX,Rt.anchorY),Bt=$t(Dt,tt?at:ot),er=te(it.cameraToCenterDistance,Bt.signedDistanceFromCamera),rr=nt.evaluateSizeForFeature(Ne.textSizeData,ct,Rt)*er/w.ONE_EM;tt&&(rr*=Ne.tilePixelRatio/st);for(var vr=Qi(Ot.anchor,Ot.width,Ot.height,Ot.textOffset,Ot.textBoxScale,rr),wr=tt?$t(Dt.add(vr),ot).point:Bt.point.add(et?vr.rotate(-it.angle):vr),Sr=Ne.allowVerticalPlacement&&Rt.placedOrientation===w.WritingMode.vertical?Math.PI/2:0,rn=0;rn<Rt.numGlyphs;rn++)w.addDynamicAttributes(dt,wr,Sr);pt&&Rt.associatedIconIndex>=0&&(yt[Rt.associatedIconIndex]={shiftedAnchor:wr,angle:Sr})}else ce(Rt.numGlyphs,dt)}if(pt){mt.clear();for(var vn=Ne.icon.placedSymbolArray,bn=0;bn<vn.length;bn++){var Tn=vn.get(bn);if(Tn.hidden)ce(Tn.numGlyphs,mt);else{var Cn=yt[bn];if(Cn)for(var In=0;In<Tn.numGlyphs;In++)w.addDynamicAttributes(mt,Cn.shiftedAnchor,Cn.angle);else ce(Tn.numGlyphs,mt)}}Ne.icon.dynamicLayoutVertexBuffer.updateData(mt)}Ne.text.dynamicLayoutVertexBuffer.updateData(dt)}function to(w,Ne,et){return et.iconsInText&&Ne?"symbolTextAndIcon":w?"symbolSDF":"symbolIcon"}function eo(Ne,et,tt,rt,nt,it,ot,at,st,ct,pt,ft){for(var dt=Ne.context,mt=dt.gl,yt=Ne.transform,vt="map"===at,Rt="map"===st,Ot=vt&&"point"!==tt.layout.get("symbol-placement"),Dt=vt&&!Rt&&!Ot,Bt=void 0!==tt.layout.get("symbol-sort-key").constantOr(1),er=Ne.depthModeForSublayer(0,It.ReadOnly),rr=tt.layout.get("text-variable-anchor"),vr=[],wr=0,Sr=rt;wr<Sr.length;wr+=1){var rn=Sr[wr],vn=et.getTile(rn),bn=vn.getBucket(tt);if(bn){var Tn=nt?bn.text:bn.icon;if(Tn&&Tn.segments.get().length){var Cn=Tn.programConfigurations.get(tt.id),In=nt||bn.sdfIcons,zn=nt?bn.textSizeData:bn.iconSizeData,Mn=Rt||0!==yt.pitch,Ln=Ne.useProgram(to(In,nt,bn),Cn),Fn=w.evaluateSizeForZoom(zn,yt.zoom),Bn=void 0,Nn=[0,0],Vn=void 0,Wn=void 0,$n=null,Yn=void 0;if(nt)Vn=vn.glyphAtlasTexture,Wn=mt.LINEAR,Bn=vn.glyphAtlasTexture.size,bn.iconsInText&&(Nn=vn.imageAtlasTexture.size,$n=vn.imageAtlasTexture,Yn=Mn||Ne.options.rotating||Ne.options.zooming||"composite"===zn.kind||"camera"===zn.kind?mt.LINEAR:mt.NEAREST);else{var ii=1!==tt.layout.get("icon-size").constantOr(0)||bn.iconsNeedLinear;Vn=vn.imageAtlasTexture,Wn=In||Ne.options.rotating||Ne.options.zooming||ii||Mn?mt.LINEAR:mt.NEAREST,Bn=vn.imageAtlasTexture.size}var qi=pe(vn,1,Ne.transform.zoom),uo=Jt(rn.posMatrix,Rt,vt,Ne.transform,qi),po=Qt(rn.posMatrix,Rt,vt,Ne.transform,qi),vo=rr&&bn.hasTextData(),So="none"!==tt.layout.get("icon-text-fit")&&vo&&bn.hasIconData();Ot&&ie(bn,rn.posMatrix,Ne,nt,uo,po,Rt,ct);var ea=Ne.translatePosMatrix(rn.posMatrix,vn,it,ot),ta=Ot||nt&&rr||So?ac:uo,ia=Ne.translatePosMatrix(po,vn,it,ot,!0),sa=In&&0!==tt.paint.get(nt?"text-halo-width":"icon-halo-width").constantOr(1),la={program:Ln,buffers:Tn,uniformValues:In?bn.iconsInText?Wi(zn.kind,Fn,Dt,Rt,Ne,ea,ta,ia,Bn,Nn):Gi(zn.kind,Fn,Dt,Rt,Ne,ea,ta,ia,nt,Bn,!0):Vi(zn.kind,Fn,Dt,Rt,Ne,ea,ta,ia,nt,Bn),atlasTexture:Vn,atlasTextureIcon:$n,atlasInterpolation:Wn,atlasInterpolationIcon:Yn,isSDF:In,hasHalo:sa};if(Bt)for(var fa=0,ga=Tn.segments.get();fa<ga.length;fa+=1){var _a=ga[fa];vr.push({segments:new w.SegmentVector([_a]),sortKey:_a.sortKey,state:la})}else vr.push({segments:Tn.segments,sortKey:0,state:la})}}}Bt&&vr.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var Aa=0,os=vr;Aa<os.length;Aa+=1){var as=os[Aa],ss=as.state;if(dt.activeTexture.set(mt.TEXTURE0),ss.atlasTexture.bind(ss.atlasInterpolation,mt.CLAMP_TO_EDGE),ss.atlasTextureIcon&&(dt.activeTexture.set(mt.TEXTURE1),ss.atlasTextureIcon&&ss.atlasTextureIcon.bind(ss.atlasInterpolationIcon,mt.CLAMP_TO_EDGE)),ss.isSDF){var ls=ss.uniformValues;ss.hasHalo&&(ls.u_is_halo=1,io(ss.buffers,as.segments,tt,Ne,ss.program,er,pt,ft,ls)),ls.u_is_halo=0}io(ss.buffers,as.segments,tt,Ne,ss.program,er,pt,ft,ss.uniformValues)}}function io(w,Ne,et,tt,rt,nt,it,ot,at){var st=tt.context;rt.draw(st,st.gl.TRIANGLES,nt,it,ot,Ct.disabled,at,et.id,w.layoutVertexBuffer,w.indexBuffer,Ne,et.paint,tt.transform.zoom,w.programConfigurations.get(et.id),w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer)}function oo(w,Ne,et,tt,rt,nt,it){var ot,at,st,ct,pt,ft=w.context.gl,dt=et.paint.get("fill-pattern"),mt=dt&&dt.constantOr(1),yt=et.getCrossfadeParameters();it?(at=mt&&!et.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ot=ft.LINES):(at=mt?"fillPattern":"fill",ot=ft.TRIANGLES);for(var vt=0,Rt=tt;vt<Rt.length;vt+=1){var Ot=Rt[vt],Dt=Ne.getTile(Ot);if(!mt||Dt.patternsLoaded()){var Bt=Dt.getBucket(et);if(Bt){var er=Bt.programConfigurations.get(et.id),rr=w.useProgram(at,er);mt&&(w.context.activeTexture.set(ft.TEXTURE0),Dt.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),er.updatePaintBuffers(yt));var vr=dt.constantOr(null);if(vr&&Dt.imageAtlas){var wr=Dt.imageAtlas,Sr=wr.patternPositions[vr.to.toString()],rn=wr.patternPositions[vr.from.toString()];Sr&&rn&&er.setConstantPatternPositions(Sr,rn)}var vn=w.translatePosMatrix(Ot.posMatrix,Dt,et.paint.get("fill-translate"),et.paint.get("fill-translate-anchor"));if(it){ct=Bt.indexBuffer2,pt=Bt.segments2;var bn=[ft.drawingBufferWidth,ft.drawingBufferHeight];st="fillOutlinePattern"===at&&mt?Ci(vn,w,yt,Dt,bn):Si(vn,bn)}else ct=Bt.indexBuffer,pt=Bt.segments,st=mt?Pi(vn,w,yt,Dt):Ii(vn);rr.draw(w.context,ot,rt,w.stencilModeForClipping(Ot),nt,Ct.disabled,st,et.id,Bt.layoutVertexBuffer,ct,pt,et.paint,w.transform.zoom,er)}}}}function ro(w,Ne,et,tt,rt,nt,it){for(var ot=w.context,at=ot.gl,st=et.paint.get("fill-extrusion-pattern"),ct=st.constantOr(1),pt=et.getCrossfadeParameters(),ft=et.paint.get("fill-extrusion-opacity"),dt=0,mt=tt;dt<mt.length;dt+=1){var yt=mt[dt],vt=Ne.getTile(yt),Rt=vt.getBucket(et);if(Rt){var Ot=Rt.programConfigurations.get(et.id),Dt=w.useProgram(ct?"fillExtrusionPattern":"fillExtrusion",Ot);ct&&(w.context.activeTexture.set(at.TEXTURE0),vt.imageAtlasTexture.bind(at.LINEAR,at.CLAMP_TO_EDGE),Ot.updatePaintBuffers(pt));var Bt=st.constantOr(null);if(Bt&&vt.imageAtlas){var er=vt.imageAtlas,rr=er.patternPositions[Bt.to.toString()],vr=er.patternPositions[Bt.from.toString()];rr&&vr&&Ot.setConstantPatternPositions(rr,vr)}var wr=w.translatePosMatrix(yt.posMatrix,vt,et.paint.get("fill-extrusion-translate"),et.paint.get("fill-extrusion-translate-anchor")),Sr=et.paint.get("fill-extrusion-vertical-gradient"),rn=ct?Ei(wr,w,Sr,ft,yt,pt,vt):Ti(wr,w,Sr,ft);Dt.draw(ot,ot.gl.TRIANGLES,rt,nt,it,Ct.backCCW,rn,et.id,Rt.layoutVertexBuffer,Rt.indexBuffer,Rt.segments,et.paint,w.transform.zoom,Ot)}}}function ao(Ne,et,tt,rt,nt,it){var ot=Ne.context,at=ot.gl,st=et.fbo;if(st){var ct=Ne.useProgram("hillshade");ot.activeTexture.set(at.TEXTURE0),at.bindTexture(at.TEXTURE_2D,st.colorAttachment.get());var pt=function(Ne,et,tt){var rt=tt.paint.get("hillshade-shadow-color"),nt=tt.paint.get("hillshade-highlight-color"),it=tt.paint.get("hillshade-accent-color"),ot=tt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===tt.paint.get("hillshade-illumination-anchor")&&(ot-=Ne.transform.angle);var at,st,ct,pt=!Ne.options.moving;return{u_matrix:Ne.transform.calculatePosMatrix(et.tileID.toUnwrapped(),pt),u_image:0,u_latrange:(at=et.tileID,st=Math.pow(2,at.canonical.z),ct=at.canonical.y,[new w.MercatorCoordinate(0,ct/st).toLngLat().lat,new w.MercatorCoordinate(0,(ct+1)/st).toLngLat().lat]),u_light:[tt.paint.get("hillshade-exaggeration"),ot],u_shadow:rt,u_highlight:nt,u_accent:it}}(Ne,et,tt);ct.draw(ot,at.TRIANGLES,rt,nt,it,Ct.disabled,pt,tt.id,Ne.rasterBoundsBuffer,Ne.quadTriangleIndexBuffer,Ne.rasterBoundsSegments)}}function no(Ne,et,tt,rt,nt,it,ot){var at=Ne.context,st=at.gl,ct=et.dem;if(ct&&ct.data){var pt=ct.dim,ft=ct.stride,dt=ct.getPixels();if(at.activeTexture.set(st.TEXTURE1),at.pixelStoreUnpackPremultiplyAlpha.set(!1),et.demTexture=et.demTexture||Ne.getTileTexture(ft),et.demTexture){var mt=et.demTexture;mt.update(dt,{premultiply:!1}),mt.bind(st.NEAREST,st.CLAMP_TO_EDGE)}else et.demTexture=new w.Texture(at,dt,st.RGBA,{premultiply:!1}),et.demTexture.bind(st.NEAREST,st.CLAMP_TO_EDGE);at.activeTexture.set(st.TEXTURE0);var yt=et.fbo;if(!yt){var vt=new w.Texture(at,{width:pt,height:pt,data:null},st.RGBA);vt.bind(st.LINEAR,st.CLAMP_TO_EDGE),(yt=et.fbo=at.createFramebuffer(pt,pt,!0)).colorAttachment.set(vt.texture)}at.bindFramebuffer.set(yt.framebuffer),at.viewport.set([0,0,pt,pt]),Ne.useProgram("hillshadePrepare").draw(at,st.TRIANGLES,nt,it,ot,Ct.disabled,function(Ne,et,tt){var rt=et.stride,nt=w.create();return w.ortho(nt,0,w.EXTENT,-w.EXTENT,0,0,1),w.translate(nt,nt,[0,-w.EXTENT,0]),{u_matrix:nt,u_image:1,u_dimension:[rt,rt],u_zoom:Ne.overscaledZ,u_maxzoom:tt,u_unpack:et.getUnpackVector()}}(et.tileID,ct,rt),tt.id,Ne.rasterBoundsBuffer,Ne.quadTriangleIndexBuffer,Ne.rasterBoundsSegments),et.needsHillshadePrepare=!1}}function so(Ne,et,tt,rt,nt){var it=rt.paint.get("raster-fade-duration");if(it>0){var ot=w.browser.now(),at=(ot-Ne.timeAdded)/it,st=et?(ot-et.timeAdded)/it:-1,ct=tt.getSource(),pt=nt.coveringZoomLevel({tileSize:ct.tileSize,roundZoom:ct.roundZoom}),ft=!et||Math.abs(et.tileID.overscaledZ-pt)>Math.abs(Ne.tileID.overscaledZ-pt),dt=ft&&Ne.refreshedUponExpiration?1:w.clamp(ft?at:1-st,0,1);return Ne.refreshedUponExpiration&&at>=1&&(Ne.refreshedUponExpiration=!1),et?{opacity:1,mix:1-dt}:{opacity:dt,mix:0}}return{opacity:1,mix:0}}var pc=new w.Color(1,0,0,1),yc=new w.Color(0,1,0,1),_c=new w.Color(0,0,1,1),bc=new w.Color(1,0,1,1),xc=new w.Color(0,1,1,1);function _o(w,Ne,et,tt){mo(w,0,Ne+et/2,w.transform.width,et,tt)}function fo(w,Ne,et,tt){mo(w,Ne-et/2,0,et,w.transform.height,tt)}function mo(Ne,et,tt,rt,nt,it){var ot=Ne.context,at=ot.gl;at.enable(at.SCISSOR_TEST),at.scissor(et*w.browser.devicePixelRatio,tt*w.browser.devicePixelRatio,rt*w.browser.devicePixelRatio,nt*w.browser.devicePixelRatio),ot.clear({color:it}),at.disable(at.SCISSOR_TEST)}function go(Ne,et,tt){var rt=Ne.context,nt=rt.gl,it=tt.posMatrix,ot=Ne.useProgram("debug"),at=It.disabled,st=Pt.disabled,ct=Ne.colorModeForRenderPass();rt.activeTexture.set(nt.TEXTURE0),Ne.emptyTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),ot.draw(rt,nt.LINE_STRIP,at,st,ct,Ct.disabled,Li(it,w.Color.red),"$debug",Ne.debugBuffer,Ne.tileBorderIndexBuffer,Ne.debugSegments);var pt=et.getTileByID(tt.key).latestRawTileData,ft=Math.floor((pt&&pt.byteLength||0)/1024),dt=et.getTile(tt).tileSize,mt=512/Math.min(dt,512)*(tt.overscaledZ/Ne.transform.zoom)*.5,yt=tt.canonical.toString();tt.overscaledZ!==tt.canonical.z&&(yt+=" => "+tt.overscaledZ),function(w,Ne){w.initDebugOverlayCanvas();var et=w.debugOverlayCanvas,tt=w.context.gl,rt=w.debugOverlayCanvas.getContext("2d");rt.clearRect(0,0,et.width,et.height),rt.shadowColor="white",rt.shadowBlur=2,rt.lineWidth=1.5,rt.strokeStyle="white",rt.textBaseline="top",rt.font="bold 36px Open Sans, sans-serif",rt.fillText(Ne,5,5),rt.strokeText(Ne,5,5),w.debugOverlayTexture.update(et),w.debugOverlayTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)}(Ne,yt+" "+ft+"kb"),ot.draw(rt,nt.TRIANGLES,at,st,St.alphaBlended,Ct.disabled,Li(it,w.Color.transparent,mt),"$debug",Ne.debugBuffer,Ne.quadTriangleIndexBuffer,Ne.debugSegments)}var wc={symbol:function(Ne,et,tt,rt,nt){if("translucent"===Ne.renderPass){var it=Pt.disabled,ot=Ne.colorModeForRenderPass();tt.layout.get("text-variable-anchor")&&function(Ne,et,tt,rt,nt,it,ot){for(var at=et.transform,st="map"===nt,ct="map"===it,pt=0,ft=Ne;pt<ft.length;pt+=1){var dt=ft[pt],mt=rt.getTile(dt),yt=mt.getBucket(tt);if(yt&&yt.text&&yt.text.segments.get().length){var vt=w.evaluateSizeForZoom(yt.textSizeData,at.zoom),Rt=pe(mt,1,et.transform.zoom),Ot=Jt(dt.posMatrix,ct,st,et.transform,Rt),Dt="none"!==tt.layout.get("icon-text-fit")&&yt.hasIconData();if(vt){var Bt=Math.pow(2,at.zoom-mt.tileID.overscaledZ);$i(yt,st,ct,ot,w.symbolSize,at,Ot,dt.posMatrix,Bt,vt,Dt)}}}}(rt,Ne,tt,et,tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),nt),0!==tt.paint.get("icon-opacity").constantOr(1)&&eo(Ne,et,tt,rt,!1,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),tt.layout.get("icon-rotation-alignment"),tt.layout.get("icon-pitch-alignment"),tt.layout.get("icon-keep-upright"),it,ot),0!==tt.paint.get("text-opacity").constantOr(1)&&eo(Ne,et,tt,rt,!0,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),tt.layout.get("text-keep-upright"),it,ot),et.map.showCollisionBoxes&&(Yi(Ne,et,tt,rt,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),!0),Yi(Ne,et,tt,rt,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),!1))}},circle:function(Ne,et,tt,rt){if("translucent"===Ne.renderPass){var nt=tt.paint.get("circle-opacity"),it=tt.paint.get("circle-stroke-width"),ot=tt.paint.get("circle-stroke-opacity"),at=void 0!==tt.layout.get("circle-sort-key").constantOr(1);if(0!==nt.constantOr(1)||0!==it.constantOr(1)&&0!==ot.constantOr(1)){for(var st=Ne.context,ct=st.gl,pt=Ne.depthModeForSublayer(0,It.ReadOnly),ft=Pt.disabled,dt=Ne.colorModeForRenderPass(),mt=[],yt=0;yt<rt.length;yt++){var vt=rt[yt],Rt=et.getTile(vt),Ot=Rt.getBucket(tt);if(Ot){var Dt=Ot.programConfigurations.get(tt.id),Bt={programConfiguration:Dt,program:Ne.useProgram("circle",Dt),layoutVertexBuffer:Ot.layoutVertexBuffer,indexBuffer:Ot.indexBuffer,uniformValues:zi(Ne,vt,Rt,tt)};if(at)for(var er=0,rr=Ot.segments.get();er<rr.length;er+=1){var vr=rr[er];mt.push({segments:new w.SegmentVector([vr]),sortKey:vr.sortKey,state:Bt})}else mt.push({segments:Ot.segments,sortKey:0,state:Bt})}}at&&mt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var wr=0,Sr=mt;wr<Sr.length;wr+=1){var rn=Sr[wr],vn=rn.state;vn.program.draw(st,ct.TRIANGLES,pt,ft,dt,Ct.disabled,vn.uniformValues,tt.id,vn.layoutVertexBuffer,vn.indexBuffer,rn.segments,tt.paint,Ne.transform.zoom,vn.programConfiguration)}}}},heatmap:function(Ne,et,tt,rt){if(0!==tt.paint.get("heatmap-opacity"))if("offscreen"===Ne.renderPass){var nt=Ne.context,it=nt.gl,ot=Pt.disabled,at=new St([it.ONE,it.ONE],w.Color.transparent,[!0,!0,!0,!0]);!function(w,Ne,et){var tt=w.gl;w.activeTexture.set(tt.TEXTURE1),w.viewport.set([0,0,Ne.width/4,Ne.height/4]);var rt=et.heatmapFbo;if(rt)tt.bindTexture(tt.TEXTURE_2D,rt.colorAttachment.get()),w.bindFramebuffer.set(rt.framebuffer);else{var nt=tt.createTexture();tt.bindTexture(tt.TEXTURE_2D,nt),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,tt.LINEAR),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,tt.LINEAR),rt=et.heatmapFbo=w.createFramebuffer(Ne.width/4,Ne.height/4,!1),function(w,Ne,et,tt){var rt=w.gl;rt.texImage2D(rt.TEXTURE_2D,0,rt.RGBA,Ne.width/4,Ne.height/4,0,rt.RGBA,w.extRenderToTextureHalfFloat?w.extTextureHalfFloat.HALF_FLOAT_OES:rt.UNSIGNED_BYTE,null),tt.colorAttachment.set(et)}(w,Ne,nt,rt)}}(nt,Ne,tt),nt.clear({color:w.Color.transparent});for(var st=0;st<rt.length;st++){var ct=rt[st];if(!et.hasRenderableParent(ct)){var pt=et.getTile(ct),ft=pt.getBucket(tt);if(ft){var dt=ft.programConfigurations.get(tt.id);Ne.useProgram("heatmap",dt).draw(nt,it.TRIANGLES,It.disabled,ot,at,Ct.disabled,Ri(ct.posMatrix,pt,Ne.transform.zoom,tt.paint.get("heatmap-intensity")),tt.id,ft.layoutVertexBuffer,ft.indexBuffer,ft.segments,tt.paint,Ne.transform.zoom,dt)}}}nt.viewport.set([0,0,Ne.width,Ne.height])}else"translucent"===Ne.renderPass&&(Ne.context.setColorMode(Ne.colorModeForRenderPass()),function(Ne,et){var tt=Ne.context,rt=tt.gl,nt=et.heatmapFbo;if(nt){tt.activeTexture.set(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,nt.colorAttachment.get()),tt.activeTexture.set(rt.TEXTURE1);var it=et.colorRampTexture;it||(it=et.colorRampTexture=new w.Texture(tt,et.colorRamp,rt.RGBA)),it.bind(rt.LINEAR,rt.CLAMP_TO_EDGE),Ne.useProgram("heatmapTexture").draw(tt,rt.TRIANGLES,It.disabled,Pt.disabled,Ne.colorModeForRenderPass(),Ct.disabled,function(Ne,et,tt,rt){var nt=w.create();w.ortho(nt,0,Ne.width,Ne.height,0,0,1);var it=Ne.context.gl;return{u_matrix:nt,u_world:[it.drawingBufferWidth,it.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:et.paint.get("heatmap-opacity")}}(Ne,et),et.id,Ne.viewportBuffer,Ne.quadTriangleIndexBuffer,Ne.viewportSegments,et.paint,Ne.transform.zoom)}}(Ne,tt))},line:function(Ne,et,tt,rt){if("translucent"===Ne.renderPass){var nt=tt.paint.get("line-opacity"),it=tt.paint.get("line-width");if(0!==nt.constantOr(1)&&0!==it.constantOr(1)){var ot=Ne.depthModeForSublayer(0,It.ReadOnly),at=Ne.colorModeForRenderPass(),st=tt.paint.get("line-dasharray"),ct=tt.paint.get("line-pattern"),pt=ct.constantOr(1),ft=tt.paint.get("line-gradient"),dt=tt.getCrossfadeParameters(),mt=pt?"linePattern":st?"lineSDF":ft?"lineGradient":"line",yt=Ne.context,vt=yt.gl,Rt=!0;if(ft){yt.activeTexture.set(vt.TEXTURE0);var Ot=tt.gradientTexture;if(!tt.gradient)return;Ot||(Ot=tt.gradientTexture=new w.Texture(yt,tt.gradient,vt.RGBA)),Ot.bind(vt.LINEAR,vt.CLAMP_TO_EDGE)}for(var Dt=0,Bt=rt;Dt<Bt.length;Dt+=1){var er=Bt[Dt],rr=et.getTile(er);if(!pt||rr.patternsLoaded()){var vr=rr.getBucket(tt);if(vr){var wr=vr.programConfigurations.get(tt.id),Sr=Ne.context.program.get(),rn=Ne.useProgram(mt,wr),vn=Rt||rn.program!==Sr,bn=ct.constantOr(null);if(bn&&rr.imageAtlas){var Tn=rr.imageAtlas,Cn=Tn.patternPositions[bn.to.toString()],In=Tn.patternPositions[bn.from.toString()];Cn&&In&&wr.setConstantPatternPositions(Cn,In)}var zn=pt?Oi(Ne,rr,tt,dt):st?Fi(Ne,rr,tt,st,dt):ft?Bi(Ne,rr,tt):ki(Ne,rr,tt);pt?(yt.activeTexture.set(vt.TEXTURE0),rr.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),wr.updatePaintBuffers(dt)):st&&(vn||Ne.lineAtlas.dirty)&&(yt.activeTexture.set(vt.TEXTURE0),Ne.lineAtlas.bind(yt)),rn.draw(yt,vt.TRIANGLES,ot,Ne.stencilModeForClipping(er),at,Ct.disabled,zn,tt.id,vr.layoutVertexBuffer,vr.indexBuffer,vr.segments,tt.paint,Ne.transform.zoom,wr),Rt=!1}}}}}},fill:function(Ne,et,tt,rt){var nt=tt.paint.get("fill-color"),it=tt.paint.get("fill-opacity");if(0!==it.constantOr(1)){var ot=Ne.colorModeForRenderPass(),at=tt.paint.get("fill-pattern"),st=Ne.opaquePassEnabledForLayer()&&!at.constantOr(1)&&1===nt.constantOr(w.Color.transparent).a&&1===it.constantOr(0)?"opaque":"translucent";if(Ne.renderPass===st){var ct=Ne.depthModeForSublayer(1,"opaque"===Ne.renderPass?It.ReadWrite:It.ReadOnly);oo(Ne,et,tt,rt,ct,ot,!1)}if("translucent"===Ne.renderPass&&tt.paint.get("fill-antialias")){var pt=Ne.depthModeForSublayer(tt.getPaintProperty("fill-outline-color")?2:0,It.ReadOnly);oo(Ne,et,tt,rt,pt,ot,!0)}}},"fill-extrusion":function(w,Ne,et,tt){var rt=et.paint.get("fill-extrusion-opacity");if(0!==rt&&"translucent"===w.renderPass){var nt=new It(w.context.gl.LEQUAL,It.ReadWrite,w.depthRangeFor3D);if(1!==rt||et.paint.get("fill-extrusion-pattern").constantOr(1))ro(w,Ne,et,tt,nt,Pt.disabled,St.disabled),ro(w,Ne,et,tt,nt,w.stencilModeFor3D(),w.colorModeForRenderPass());else{var it=w.colorModeForRenderPass();ro(w,Ne,et,tt,nt,Pt.disabled,it)}}},hillshade:function(w,Ne,et,tt){if("offscreen"===w.renderPass||"translucent"===w.renderPass){for(var rt=w.context,nt=Ne.getSource().maxzoom,it=w.depthModeForSublayer(0,It.ReadOnly),ot=w.colorModeForRenderPass(),at="translucent"===w.renderPass?w.stencilConfigForOverlap(tt):[{},tt],st=at[0],ct=0,pt=at[1];ct<pt.length;ct+=1){var ft=pt[ct],dt=Ne.getTile(ft);dt.needsHillshadePrepare&&"offscreen"===w.renderPass?no(w,dt,et,nt,it,Pt.disabled,ot):"translucent"===w.renderPass&&ao(w,dt,et,it,st[ft.overscaledZ],ot)}rt.viewport.set([0,0,w.width,w.height])}},raster:function(w,Ne,et,tt){if("translucent"===w.renderPass&&0!==et.paint.get("raster-opacity")&&tt.length)for(var rt=w.context,nt=rt.gl,it=Ne.getSource(),ot=w.useProgram("raster"),at=w.colorModeForRenderPass(),st=it instanceof er?[{},tt]:w.stencilConfigForOverlap(tt),ct=st[0],pt=st[1],ft=pt[pt.length-1].overscaledZ,dt=!w.options.moving,mt=0,yt=pt;mt<yt.length;mt+=1){var vt=yt[mt],Rt=w.depthModeForSublayer(vt.overscaledZ-ft,1===et.paint.get("raster-opacity")?It.ReadWrite:It.ReadOnly,nt.LESS),Ot=Ne.getTile(vt),Dt=w.transform.calculatePosMatrix(vt.toUnwrapped(),dt);Ot.registerFadeDuration(et.paint.get("raster-fade-duration"));var Bt=Ne.findLoadedParent(vt,0),rr=so(Ot,Bt,Ne,et,w.transform),vr=void 0,wr=void 0,Sr="nearest"===et.paint.get("raster-resampling")?nt.NEAREST:nt.LINEAR;rt.activeTexture.set(nt.TEXTURE0),Ot.texture.bind(Sr,nt.CLAMP_TO_EDGE,nt.LINEAR_MIPMAP_NEAREST),rt.activeTexture.set(nt.TEXTURE1),Bt?(Bt.texture.bind(Sr,nt.CLAMP_TO_EDGE,nt.LINEAR_MIPMAP_NEAREST),vr=Math.pow(2,Bt.tileID.overscaledZ-Ot.tileID.overscaledZ),wr=[Ot.tileID.canonical.x*vr%1,Ot.tileID.canonical.y*vr%1]):Ot.texture.bind(Sr,nt.CLAMP_TO_EDGE,nt.LINEAR_MIPMAP_NEAREST);var rn=Zi(Dt,wr||[0,0],vr||1,rr,et);it instanceof er?ot.draw(rt,nt.TRIANGLES,Rt,Pt.disabled,at,Ct.disabled,rn,et.id,it.boundsBuffer,w.quadTriangleIndexBuffer,it.boundsSegments):ot.draw(rt,nt.TRIANGLES,Rt,ct[vt.overscaledZ],at,Ct.disabled,rn,et.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}},background:function(w,Ne,et){var tt=et.paint.get("background-color"),rt=et.paint.get("background-opacity");if(0!==rt){var nt=w.context,it=nt.gl,ot=w.transform,at=ot.tileSize,st=et.paint.get("background-pattern");if(!w.isPatternMissing(st)){var ct=!st&&1===tt.a&&1===rt&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass===ct){var pt=Pt.disabled,ft=w.depthModeForSublayer(0,"opaque"===ct?It.ReadWrite:It.ReadOnly),dt=w.colorModeForRenderPass(),mt=w.useProgram(st?"backgroundPattern":"background"),yt=ot.coveringTiles({tileSize:at});st&&(nt.activeTexture.set(it.TEXTURE0),w.imageManager.bind(w.context));for(var vt=et.getCrossfadeParameters(),Rt=0,Ot=yt;Rt<Ot.length;Rt+=1){var Dt=Ot[Rt],Bt=w.transform.calculatePosMatrix(Dt.toUnwrapped()),er=st?Hi(Bt,rt,w,st,{tileID:Dt,tileSize:at},vt):Xi(Bt,rt,tt);mt.draw(nt,it.TRIANGLES,ft,pt,dt,Ct.disabled,er,et.id,w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}}}}},debug:function(w,Ne,et){for(var tt=0;tt<et.length;tt++)go(w,Ne,et[tt])},custom:function(w,Ne,et){var tt=w.context,rt=et.implementation;if("offscreen"===w.renderPass){var nt=rt.prerender;nt&&(w.setCustomLayerDefaults(),tt.setColorMode(w.colorModeForRenderPass()),nt.call(rt,tt.gl,w.transform.customLayerMatrix()),tt.setDirty(),w.setBaseState())}else if("translucent"===w.renderPass){w.setCustomLayerDefaults(),tt.setColorMode(w.colorModeForRenderPass()),tt.setStencilMode(Pt.disabled);var it="3d"===rt.renderingMode?new It(w.context.gl.LEQUAL,It.ReadWrite,w.depthRangeFor3D):w.depthModeForSublayer(0,It.ReadOnly);tt.setDepthMode(it),rt.render(tt.gl,w.transform.customLayerMatrix()),tt.setDirty(),w.setBaseState(),tt.bindFramebuffer.set(null)}}},yo=function(w,Ne){this.context=new zt(w),this.transform=Ne,this._tileTextures={},this.setup(),this.numSublayers=ls.maxUnderzooming+ls.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Fe,this.gpuTimers={}};yo.prototype.resize=function(Ne,et){if(this.width=Ne*w.browser.devicePixelRatio,this.height=et*w.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var tt=0,rt=this.style._order;tt<rt.length;tt+=1)this.style._layers[rt[tt]].resize()},yo.prototype.setup=function(){var Ne=this.context,et=new w.StructArrayLayout2i4;et.emplaceBack(0,0),et.emplaceBack(w.EXTENT,0),et.emplaceBack(0,w.EXTENT),et.emplaceBack(w.EXTENT,w.EXTENT),this.tileExtentBuffer=Ne.createVertexBuffer(et,js.members),this.tileExtentSegments=w.SegmentVector.simpleSegment(0,0,4,2);var tt=new w.StructArrayLayout2i4;tt.emplaceBack(0,0),tt.emplaceBack(w.EXTENT,0),tt.emplaceBack(0,w.EXTENT),tt.emplaceBack(w.EXTENT,w.EXTENT),this.debugBuffer=Ne.createVertexBuffer(tt,js.members),this.debugSegments=w.SegmentVector.simpleSegment(0,0,4,5);var rt=new w.StructArrayLayout4i8;rt.emplaceBack(0,0,0,0),rt.emplaceBack(w.EXTENT,0,w.EXTENT,0),rt.emplaceBack(0,w.EXTENT,0,w.EXTENT),rt.emplaceBack(w.EXTENT,w.EXTENT,w.EXTENT,w.EXTENT),this.rasterBoundsBuffer=Ne.createVertexBuffer(rt,Bt.members),this.rasterBoundsSegments=w.SegmentVector.simpleSegment(0,0,4,2);var nt=new w.StructArrayLayout2i4;nt.emplaceBack(0,0),nt.emplaceBack(1,0),nt.emplaceBack(0,1),nt.emplaceBack(1,1),this.viewportBuffer=Ne.createVertexBuffer(nt,js.members),this.viewportSegments=w.SegmentVector.simpleSegment(0,0,4,2);var it=new w.StructArrayLayout1ui2;it.emplaceBack(0),it.emplaceBack(1),it.emplaceBack(3),it.emplaceBack(2),it.emplaceBack(0),this.tileBorderIndexBuffer=Ne.createIndexBuffer(it);var ot=new w.StructArrayLayout3ui6;ot.emplaceBack(0,1,2),ot.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Ne.createIndexBuffer(ot),this.emptyTexture=new w.Texture(Ne,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Ne.gl.RGBA);var at=this.context.gl;this.stencilClearMode=new Pt({func:at.ALWAYS,mask:0},0,255,at.ZERO,at.ZERO,at.ZERO)},yo.prototype.clearStencil=function(){var Ne=this.context,et=Ne.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var tt=w.create();w.ortho(tt,0,this.width,this.height,0,0,1),w.scale(tt,tt,[et.drawingBufferWidth,et.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Ne,et.TRIANGLES,It.disabled,this.stencilClearMode,St.disabled,Ct.disabled,Ai(tt),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},yo.prototype._renderTileClippingMasks=function(w,Ne){if(this.currentStencilSource!==w.source&&w.isTileClipped()&&Ne&&Ne.length){this.currentStencilSource=w.source;var et=this.context,tt=et.gl;this.nextStencilID+Ne.length>256&&this.clearStencil(),et.setColorMode(St.disabled),et.setDepthMode(It.disabled);var rt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var nt=0,it=Ne;nt<it.length;nt+=1){var ot=it[nt],at=this._tileClippingMaskIDs[ot.key]=this.nextStencilID++;rt.draw(et,tt.TRIANGLES,It.disabled,new Pt({func:tt.ALWAYS,mask:0},at,255,tt.KEEP,tt.KEEP,tt.REPLACE),St.disabled,Ct.disabled,Ai(ot.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},yo.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var w=this.nextStencilID++,Ne=this.context.gl;return new Pt({func:Ne.NOTEQUAL,mask:255},w,255,Ne.KEEP,Ne.KEEP,Ne.REPLACE)},yo.prototype.stencilModeForClipping=function(w){var Ne=this.context.gl;return new Pt({func:Ne.EQUAL,mask:255},this._tileClippingMaskIDs[w.key],0,Ne.KEEP,Ne.KEEP,Ne.REPLACE)},yo.prototype.stencilConfigForOverlap=function(w){var Ne,et=this.context.gl,tt=w.sort((function(w,Ne){return Ne.overscaledZ-w.overscaledZ})),rt=tt[tt.length-1].overscaledZ,nt=tt[0].overscaledZ-rt+1;if(nt>1){this.currentStencilSource=void 0,this.nextStencilID+nt>256&&this.clearStencil();for(var it={},ot=0;ot<nt;ot++)it[ot+rt]=new Pt({func:et.GEQUAL,mask:255},ot+this.nextStencilID,255,et.KEEP,et.KEEP,et.REPLACE);return this.nextStencilID+=nt,[it,tt]}return[(Ne={},Ne[rt]=Pt.disabled,Ne),tt]},yo.prototype.colorModeForRenderPass=function(){var Ne=this.context.gl;return this._showOverdrawInspector?new St([Ne.CONSTANT_COLOR,Ne.ONE],new w.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?St.unblended:St.alphaBlended},yo.prototype.depthModeForSublayer=function(w,Ne,et){if(!this.opaquePassEnabledForLayer())return It.disabled;var tt=1-((1+this.currentLayer)*this.numSublayers+w)*this.depthEpsilon;return new It(et||this.context.gl.LEQUAL,Ne,[tt,tt])},yo.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},yo.prototype.render=function(Ne,et){var tt=this;this.style=Ne,this.options=et,this.lineAtlas=Ne.lineAtlas,this.imageManager=Ne.imageManager,this.glyphManager=Ne.glyphManager,this.symbolFadeChange=Ne.placement.symbolFadeChange(w.browser.now()),this.imageManager.beginFrame();var rt=this.style._order,nt=this.style.sourceCaches;for(var it in nt){var ot=nt[it];ot.used&&ot.prepare(this.context)}var at,st,ct={},pt={},ft={};for(var dt in nt){var mt=nt[dt];ct[dt]=mt.getVisibleCoordinates(),pt[dt]=ct[dt].slice().reverse(),ft[dt]=mt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var yt=0;yt<rt.length;yt++)if(this.style._layers[rt[yt]].is3D()){this.opaquePassCutoff=yt;break}this.renderPass="offscreen";for(var vt=0,Rt=rt;vt<Rt.length;vt+=1){var Ot=this.style._layers[Rt[vt]];if(Ot.hasOffscreenPass()&&!Ot.isHidden(this.transform.zoom)){var Dt=pt[Ot.source];("custom"===Ot.type||Dt.length)&&this.renderLayer(this,nt[Ot.source],Ot,Dt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:et.showOverdrawInspector?w.Color.black:w.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=et.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Ne._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=rt.length-1;this.currentLayer>=0;this.currentLayer--){var Bt=this.style._layers[rt[this.currentLayer]],er=nt[Bt.source],rr=ct[Bt.source];this._renderTileClippingMasks(Bt,rr),this.renderLayer(this,er,Bt,rr)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<rt.length;this.currentLayer++){var vr=this.style._layers[rt[this.currentLayer]],wr=nt[vr.source],Sr=("symbol"===vr.type?ft:pt)[vr.source];this._renderTileClippingMasks(vr,ct[vr.source]),this.renderLayer(this,wr,vr,Sr)}this.options.showTileBoundaries&&(w.values(this.style._layers).forEach((function(w){w.source&&!w.isHidden(tt.transform.zoom)&&(w.source!==(st&&st.id)&&(st=tt.style.sourceCaches[w.source]),(!at||at.getSource().maxzoom<st.getSource().maxzoom)&&(at=st))})),at&&wc.debug(this,at,at.getVisibleCoordinates())),this.options.showPadding&&function(w){var Ne=w.transform.padding;_o(w,w.transform.height-(Ne.top||0),3,pc),_o(w,Ne.bottom||0,3,yc),fo(w,Ne.left||0,3,_c),fo(w,w.transform.width-(Ne.right||0),3,bc);var et=w.transform.centerPoint;!function(w,Ne,et,tt){mo(w,Ne-1,et-10,2,20,tt),mo(w,Ne-10,et-1,20,2,tt)}(w,et.x,w.transform.height-et.y,xc)}(this),this.context.setDefault()},yo.prototype.renderLayer=function(w,Ne,et,tt){et.isHidden(this.transform.zoom)||("background"===et.type||"custom"===et.type||tt.length)&&(this.id=et.id,this.gpuTimingStart(et),wc[et.type](w,Ne,et,tt,this.style.placement.variableOffsets),this.gpuTimingEnd())},yo.prototype.gpuTimingStart=function(w){if(this.options.gpuTiming){var Ne=this.context.extTimerQuery,et=this.gpuTimers[w.id];et||(et=this.gpuTimers[w.id]={calls:0,cpuTime:0,query:Ne.createQueryEXT()}),et.calls++,Ne.beginQueryEXT(Ne.TIME_ELAPSED_EXT,et.query)}},yo.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var w=this.context.extTimerQuery;w.endQueryEXT(w.TIME_ELAPSED_EXT)}},yo.prototype.collectGpuTimers=function(){var w=this.gpuTimers;return this.gpuTimers={},w},yo.prototype.queryGpuTimers=function(w){var Ne={};for(var et in w){var tt=w[et],rt=this.context.extTimerQuery,nt=rt.getQueryObjectEXT(tt.query,rt.QUERY_RESULT_EXT)/1e6;rt.deleteQueryEXT(tt.query),Ne[et]=nt}return Ne},yo.prototype.translatePosMatrix=function(Ne,et,tt,rt,nt){if(!tt[0]&&!tt[1])return Ne;var it=nt?"map"===rt?this.transform.angle:0:"viewport"===rt?-this.transform.angle:0;if(it){var ot=Math.sin(it),at=Math.cos(it);tt=[tt[0]*at-tt[1]*ot,tt[0]*ot+tt[1]*at]}var st=[nt?tt[0]:pe(et,tt[0],this.transform.zoom),nt?tt[1]:pe(et,tt[1],this.transform.zoom),0],ct=new Float32Array(16);return w.translate(ct,Ne,st),ct},yo.prototype.saveTileTexture=function(w){var Ne=this._tileTextures[w.size[0]];Ne?Ne.push(w):this._tileTextures[w.size[0]]=[w]},yo.prototype.getTileTexture=function(w){var Ne=this._tileTextures[w];return Ne&&Ne.length>0?Ne.pop():null},yo.prototype.isPatternMissing=function(w){if(!w)return!1;if(!w.from||!w.to)return!0;var Ne=this.imageManager.getPattern(w.from.toString()),et=this.imageManager.getPattern(w.to.toString());return!Ne||!et},yo.prototype.useProgram=function(w,Ne){this.cache=this.cache||{};var et=""+w+(Ne?Ne.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[et]||(this.cache[et]=new bi(this.context,w,wu[w],Ne,Fu[w],this._showOverdrawInspector)),this.cache[et]},yo.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},yo.prototype.setBaseState=function(){var w=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(w.FUNC_ADD)},yo.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=w.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new w.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},yo.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xo=function(w,Ne){this.points=w,this.planes=Ne};xo.fromInvProjectionMatrix=function(Ne,et,tt){var rt=Math.pow(2,tt),nt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(et){return w.transformMat4([],et,Ne)})).map((function(Ne){return w.scale$1([],Ne,1/Ne[3]/et*rt)})),it=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(Ne){var et=w.sub([],nt[Ne[0]],nt[Ne[1]]),tt=w.sub([],nt[Ne[2]],nt[Ne[1]]),rt=w.normalize([],w.cross([],et,tt)),it=-w.dot(rt,nt[Ne[1]]);return rt.concat(it)}));return new xo(nt,it)};var bo=function(Ne,et){this.min=Ne,this.max=et,this.center=w.scale$2([],w.add([],this.min,this.max),.5)};bo.prototype.quadrant=function(Ne){for(var et=[Ne%2==0,Ne<2],tt=w.clone$2(this.min),rt=w.clone$2(this.max),nt=0;nt<et.length;nt++)tt[nt]=et[nt]?this.min[nt]:this.center[nt],rt[nt]=et[nt]?this.center[nt]:this.max[nt];return rt[2]=this.max[2],new bo(tt,rt)},bo.prototype.distanceX=function(w){return Math.max(Math.min(this.max[0],w[0]),this.min[0])-w[0]},bo.prototype.distanceY=function(w){return Math.max(Math.min(this.max[1],w[1]),this.min[1])-w[1]},bo.prototype.intersects=function(Ne){for(var et=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],tt=!0,rt=0;rt<Ne.planes.length;rt++){for(var nt=Ne.planes[rt],it=0,ot=0;ot<et.length;ot++)it+=w.dot$1(nt,et[ot])>=0;if(0===it)return 0;it!==et.length&&(tt=!1)}if(tt)return 2;for(var at=0;at<3;at++){for(var st=Number.MAX_VALUE,ct=-Number.MAX_VALUE,pt=0;pt<Ne.points.length;pt++){var ft=Ne.points[pt][at]-this.min[at];st=Math.min(st,ft),ct=Math.max(ct,ft)}if(ct<0||st>this.max[at]-this.min[at])return 0}return 1};var wo=function(w,Ne,et,tt){if(void 0===w&&(w=0),void 0===Ne&&(Ne=0),void 0===et&&(et=0),void 0===tt&&(tt=0),isNaN(w)||w<0||isNaN(Ne)||Ne<0||isNaN(et)||et<0||isNaN(tt)||tt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=w,this.bottom=Ne,this.left=et,this.right=tt};wo.prototype.interpolate=function(Ne,et,tt){return null!=et.top&&null!=Ne.top&&(this.top=w.number(Ne.top,et.top,tt)),null!=et.bottom&&null!=Ne.bottom&&(this.bottom=w.number(Ne.bottom,et.bottom,tt)),null!=et.left&&null!=Ne.left&&(this.left=w.number(Ne.left,et.left,tt)),null!=et.right&&null!=Ne.right&&(this.right=w.number(Ne.right,et.right,tt)),this},wo.prototype.getCenter=function(Ne,et){var tt=w.clamp((this.left+Ne-this.right)/2,0,Ne),rt=w.clamp((this.top+et-this.bottom)/2,0,et);return new w.Point(tt,rt)},wo.prototype.equals=function(w){return this.top===w.top&&this.bottom===w.bottom&&this.left===w.left&&this.right===w.right},wo.prototype.clone=function(){return new wo(this.top,this.bottom,this.left,this.right)},wo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var To=function(Ne,et,tt,rt,nt){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===nt||nt,this._minZoom=Ne||0,this._maxZoom=et||22,this._minPitch=null==tt?0:tt,this._maxPitch=null==rt?60:rt,this.setMaxBounds(),this.width=0,this.height=0,this._center=new w.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wo,this._posMatrixCache={},this._alignedPosMatrixCache={}},kc={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};To.prototype.clone=function(){var w=new To(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return w.tileSize=this.tileSize,w.latRange=this.latRange,w.width=this.width,w.height=this.height,w._center=this._center,w.zoom=this.zoom,w.angle=this.angle,w._fov=this._fov,w._pitch=this._pitch,w._unmodified=this._unmodified,w._edgeInsets=this._edgeInsets.clone(),w._calcMatrices(),w},kc.minZoom.get=function(){return this._minZoom},kc.minZoom.set=function(w){this._minZoom!==w&&(this._minZoom=w,this.zoom=Math.max(this.zoom,w))},kc.maxZoom.get=function(){return this._maxZoom},kc.maxZoom.set=function(w){this._maxZoom!==w&&(this._maxZoom=w,this.zoom=Math.min(this.zoom,w))},kc.minPitch.get=function(){return this._minPitch},kc.minPitch.set=function(w){this._minPitch!==w&&(this._minPitch=w,this.pitch=Math.max(this.pitch,w))},kc.maxPitch.get=function(){return this._maxPitch},kc.maxPitch.set=function(w){this._maxPitch!==w&&(this._maxPitch=w,this.pitch=Math.min(this.pitch,w))},kc.renderWorldCopies.get=function(){return this._renderWorldCopies},kc.renderWorldCopies.set=function(w){void 0===w?w=!0:null===w&&(w=!1),this._renderWorldCopies=w},kc.worldSize.get=function(){return this.tileSize*this.scale},kc.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},kc.size.get=function(){return new w.Point(this.width,this.height)},kc.bearing.get=function(){return-this.angle/Math.PI*180},kc.bearing.set=function(Ne){var et=-w.wrap(Ne,-180,180)*Math.PI/180;this.angle!==et&&(this._unmodified=!1,this.angle=et,this._calcMatrices(),this.rotationMatrix=w.create$2(),w.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},kc.pitch.get=function(){return this._pitch/Math.PI*180},kc.pitch.set=function(Ne){var et=w.clamp(Ne,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==et&&(this._unmodified=!1,this._pitch=et,this._calcMatrices())},kc.fov.get=function(){return this._fov/Math.PI*180},kc.fov.set=function(w){w=Math.max(.01,Math.min(60,w)),this._fov!==w&&(this._unmodified=!1,this._fov=w/180*Math.PI,this._calcMatrices())},kc.zoom.get=function(){return this._zoom},kc.zoom.set=function(w){var Ne=Math.min(Math.max(w,this.minZoom),this.maxZoom);this._zoom!==Ne&&(this._unmodified=!1,this._zoom=Ne,this.scale=this.zoomScale(Ne),this.tileZoom=Math.floor(Ne),this.zoomFraction=Ne-this.tileZoom,this._constrain(),this._calcMatrices())},kc.center.get=function(){return this._center},kc.center.set=function(w){w.lat===this._center.lat&&w.lng===this._center.lng||(this._unmodified=!1,this._center=w,this._constrain(),this._calcMatrices())},kc.padding.get=function(){return this._edgeInsets.toJSON()},kc.padding.set=function(w){this._edgeInsets.equals(w)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,w,1),this._calcMatrices())},kc.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},To.prototype.isPaddingEqual=function(w){return this._edgeInsets.equals(w)},To.prototype.interpolatePadding=function(w,Ne,et){this._unmodified=!1,this._edgeInsets.interpolate(w,Ne,et),this._constrain(),this._calcMatrices()},To.prototype.coveringZoomLevel=function(w){var Ne=(w.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/w.tileSize));return Math.max(0,Ne)},To.prototype.getVisibleUnwrappedCoordinates=function(Ne){var et=[new w.UnwrappedTileID(0,Ne)];if(this._renderWorldCopies)for(var tt=this.pointCoordinate(new w.Point(0,0)),rt=this.pointCoordinate(new w.Point(this.width,0)),nt=this.pointCoordinate(new w.Point(this.width,this.height)),it=this.pointCoordinate(new w.Point(0,this.height)),ot=Math.floor(Math.min(tt.x,rt.x,nt.x,it.x)),at=Math.floor(Math.max(tt.x,rt.x,nt.x,it.x)),st=ot-1;st<=at+1;st++)0!==st&&et.push(new w.UnwrappedTileID(st,Ne));return et},To.prototype.coveringTiles=function(Ne){var et=this.coveringZoomLevel(Ne),tt=et;if(void 0!==Ne.minzoom&&et<Ne.minzoom)return[];void 0!==Ne.maxzoom&&et>Ne.maxzoom&&(et=Ne.maxzoom);var rt=w.MercatorCoordinate.fromLngLat(this.center),nt=Math.pow(2,et),it=[nt*rt.x,nt*rt.y,0],ot=xo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,et),at=Ne.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(at=et);var c=function(w){return{aabb:new bo([w*nt,0,0],[(w+1)*nt,nt,0]),zoom:0,x:0,y:0,wrap:w,fullyVisible:!1}},st=[],ct=[],pt=et,ft=Ne.reparseOverscaled?tt:et;if(this._renderWorldCopies)for(var dt=1;dt<=3;dt++)st.push(c(-dt)),st.push(c(dt));for(st.push(c(0));st.length>0;){var mt=st.pop(),yt=mt.x,vt=mt.y,Rt=mt.fullyVisible;if(!Rt){var Ot=mt.aabb.intersects(ot);if(0===Ot)continue;Rt=2===Ot}var Dt=mt.aabb.distanceX(it),Bt=mt.aabb.distanceY(it),er=Math.max(Math.abs(Dt),Math.abs(Bt));if(mt.zoom===pt||er>3+(1<<pt-mt.zoom)-2&&mt.zoom>=at)ct.push({tileID:new w.OverscaledTileID(mt.zoom===pt?ft:mt.zoom,mt.wrap,mt.zoom,yt,vt),distanceSq:w.sqrLen([it[0]-.5-yt,it[1]-.5-vt])});else for(var rr=0;rr<4;rr++){var vr=(yt<<1)+rr%2,wr=(vt<<1)+(rr>>1);st.push({aabb:mt.aabb.quadrant(rr),zoom:mt.zoom+1,x:vr,y:wr,wrap:mt.wrap,fullyVisible:Rt})}}return ct.sort((function(w,Ne){return w.distanceSq-Ne.distanceSq})).map((function(w){return w.tileID}))},To.prototype.resize=function(w,Ne){this.width=w,this.height=Ne,this.pixelsToGLUnits=[2/w,-2/Ne],this._constrain(),this._calcMatrices()},kc.unmodified.get=function(){return this._unmodified},To.prototype.zoomScale=function(w){return Math.pow(2,w)},To.prototype.scaleZoom=function(w){return Math.log(w)/Math.LN2},To.prototype.project=function(Ne){var et=w.clamp(Ne.lat,-this.maxValidLatitude,this.maxValidLatitude);return new w.Point(w.mercatorXfromLng(Ne.lng)*this.worldSize,w.mercatorYfromLat(et)*this.worldSize)},To.prototype.unproject=function(Ne){return new w.MercatorCoordinate(Ne.x/this.worldSize,Ne.y/this.worldSize).toLngLat()},kc.point.get=function(){return this.project(this.center)},To.prototype.setLocationAtPoint=function(Ne,et){var tt=this.pointCoordinate(et),rt=this.pointCoordinate(this.centerPoint),nt=this.locationCoordinate(Ne),it=new w.MercatorCoordinate(nt.x-(tt.x-rt.x),nt.y-(tt.y-rt.y));this.center=this.coordinateLocation(it),this._renderWorldCopies&&(this.center=this.center.wrap())},To.prototype.locationPoint=function(w){return this.coordinatePoint(this.locationCoordinate(w))},To.prototype.pointLocation=function(w){return this.coordinateLocation(this.pointCoordinate(w))},To.prototype.locationCoordinate=function(Ne){return w.MercatorCoordinate.fromLngLat(Ne)},To.prototype.coordinateLocation=function(w){return w.toLngLat()},To.prototype.pointCoordinate=function(Ne){var et=[Ne.x,Ne.y,0,1],tt=[Ne.x,Ne.y,1,1];w.transformMat4(et,et,this.pixelMatrixInverse),w.transformMat4(tt,tt,this.pixelMatrixInverse);var rt=et[3],nt=tt[3],it=et[1]/rt,ot=tt[1]/nt,at=et[2]/rt,st=tt[2]/nt,ct=at===st?0:(0-at)/(st-at);return new w.MercatorCoordinate(w.number(et[0]/rt,tt[0]/nt,ct)/this.worldSize,w.number(it,ot,ct)/this.worldSize)},To.prototype.coordinatePoint=function(Ne){var et=[Ne.x*this.worldSize,Ne.y*this.worldSize,0,1];return w.transformMat4(et,et,this.pixelMatrix),new w.Point(et[0]/et[3],et[1]/et[3])},To.prototype.getBounds=function(){return(new w.LngLatBounds).extend(this.pointLocation(new w.Point(0,0))).extend(this.pointLocation(new w.Point(this.width,0))).extend(this.pointLocation(new w.Point(this.width,this.height))).extend(this.pointLocation(new w.Point(0,this.height)))},To.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new w.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},To.prototype.setMaxBounds=function(w){w?(this.lngRange=[w.getWest(),w.getEast()],this.latRange=[w.getSouth(),w.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},To.prototype.calculatePosMatrix=function(Ne,et){void 0===et&&(et=!1);var tt=Ne.key,rt=et?this._alignedPosMatrixCache:this._posMatrixCache;if(rt[tt])return rt[tt];var nt=Ne.canonical,it=this.worldSize/this.zoomScale(nt.z),ot=nt.x+Math.pow(2,nt.z)*Ne.wrap,at=w.identity(new Float64Array(16));return w.translate(at,at,[ot*it,nt.y*it,0]),w.scale(at,at,[it/w.EXTENT,it/w.EXTENT,1]),w.multiply(at,et?this.alignedProjMatrix:this.projMatrix,at),rt[tt]=new Float32Array(at),rt[tt]},To.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},To.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var Ne,et,tt,rt,nt=-90,it=90,ot=-180,at=180,st=this.size,ct=this._unmodified;if(this.latRange){var pt=this.latRange;nt=w.mercatorYfromLat(pt[1])*this.worldSize,Ne=(it=w.mercatorYfromLat(pt[0])*this.worldSize)-nt<st.y?st.y/(it-nt):0}if(this.lngRange){var ft=this.lngRange;ot=w.mercatorXfromLng(ft[0])*this.worldSize,et=(at=w.mercatorXfromLng(ft[1])*this.worldSize)-ot<st.x?st.x/(at-ot):0}var dt=this.point,mt=Math.max(et||0,Ne||0);if(mt)return this.center=this.unproject(new w.Point(et?(at+ot)/2:dt.x,Ne?(it+nt)/2:dt.y)),this.zoom+=this.scaleZoom(mt),this._unmodified=ct,void(this._constraining=!1);if(this.latRange){var yt=dt.y,vt=st.y/2;yt-vt<nt&&(rt=nt+vt),yt+vt>it&&(rt=it-vt)}if(this.lngRange){var Rt=dt.x,Ot=st.x/2;Rt-Ot<ot&&(tt=ot+Ot),Rt+Ot>at&&(tt=at-Ot)}void 0===tt&&void 0===rt||(this.center=this.unproject(new w.Point(void 0!==tt?tt:dt.x,void 0!==rt?rt:dt.y))),this._unmodified=ct,this._constraining=!1}},To.prototype._calcMatrices=function(){if(this.height){var Ne=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var et=Math.PI/2+this._pitch,tt=this._fov*(.5+Ne.y/this.height),rt=Math.sin(tt)*this.cameraToCenterDistance/Math.sin(w.clamp(Math.PI-et-tt,.01,Math.PI-.01)),nt=this.point,it=nt.x,ot=nt.y,at=1.01*(Math.cos(Math.PI/2-this._pitch)*rt+this.cameraToCenterDistance),st=this.height/50,ct=new Float64Array(16);w.perspective(ct,this._fov,this.width/this.height,st,at),ct[8]=2*-Ne.x/this.width,ct[9]=2*Ne.y/this.height,w.scale(ct,ct,[1,-1,1]),w.translate(ct,ct,[0,0,-this.cameraToCenterDistance]),w.rotateX(ct,ct,this._pitch),w.rotateZ(ct,ct,this.angle),w.translate(ct,ct,[-it,-ot,0]),this.mercatorMatrix=w.scale([],ct,[this.worldSize,this.worldSize,this.worldSize]),w.scale(ct,ct,[1,1,w.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ct,this.invProjMatrix=w.invert([],this.projMatrix);var pt=this.width%2/2,ft=this.height%2/2,dt=Math.cos(this.angle),mt=Math.sin(this.angle),yt=it-Math.round(it)+dt*pt+mt*ft,vt=ot-Math.round(ot)+dt*ft+mt*pt,Rt=new Float64Array(ct);if(w.translate(Rt,Rt,[yt>.5?yt-1:yt,vt>.5?vt-1:vt,0]),this.alignedProjMatrix=Rt,ct=w.create(),w.scale(ct,ct,[this.width/2,-this.height/2,1]),w.translate(ct,ct,[1,-1,0]),this.labelPlaneMatrix=ct,ct=w.create(),w.scale(ct,ct,[1,-1,1]),w.translate(ct,ct,[-1,-1,0]),w.scale(ct,ct,[2/this.width,2/this.height,1]),this.glCoordMatrix=ct,this.pixelMatrix=w.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ct=w.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ct,this._posMatrixCache={},this._alignedPosMatrixCache={}}},To.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Ne=this.pointCoordinate(new w.Point(0,0)),et=[Ne.x*this.worldSize,Ne.y*this.worldSize,0,1];return w.transformMat4(et,et,this.pixelMatrix)[3]/this.cameraToCenterDistance},To.prototype.getCameraPoint=function(){var Ne=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new w.Point(0,Ne))},To.prototype.getCameraQueryGeometry=function(Ne){var et=this.getCameraPoint();if(1===Ne.length)return[Ne[0],et];for(var tt=et.x,rt=et.y,nt=et.x,it=et.y,ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot];tt=Math.min(tt,st.x),rt=Math.min(rt,st.y),nt=Math.max(nt,st.x),it=Math.max(it,st.y)}return[new w.Point(tt,rt),new w.Point(nt,rt),new w.Point(nt,it),new w.Point(tt,it),new w.Point(tt,rt)]},Object.defineProperties(To.prototype,kc);var Io=function(Ne){var et,tt,rt,nt;this._hashName=Ne&&encodeURIComponent(Ne),w.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(et=this._updateHashUnthrottled.bind(this),tt=!1,rt=null,nt=function(){rt=null,tt&&(et(),rt=setTimeout(nt,300),tt=!1)},function(){return tt=!0,rt||nt(),rt})};Io.prototype.addTo=function(Ne){return this._map=Ne,w.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Io.prototype.remove=function(){return w.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Io.prototype.getHashString=function(Ne){var et=this._map.getCenter(),tt=Math.round(100*this._map.getZoom())/100,rt=Math.ceil((tt*Math.LN2+Math.log(512/360/.5))/Math.LN10),nt=Math.pow(10,rt),it=Math.round(et.lng*nt)/nt,ot=Math.round(et.lat*nt)/nt,at=this._map.getBearing(),st=this._map.getPitch(),ct="";if(ct+=Ne?"/"+it+"/"+ot+"/"+tt:tt+"/"+ot+"/"+it,(at||st)&&(ct+="/"+Math.round(10*at)/10),st&&(ct+="/"+Math.round(st)),this._hashName){var pt=this._hashName,ft=!1,dt=w.window.location.hash.slice(1).split("&").map((function(w){var Ne=w.split("=")[0];return Ne===pt?(ft=!0,Ne+"="+ct):w})).filter((function(w){return w}));return ft||dt.push(pt+"="+ct),"#"+dt.join("&")}return"#"+ct},Io.prototype._getCurrentHash=function(){var Ne,et=this,tt=w.window.location.hash.replace("#","");return this._hashName?(tt.split("&").map((function(w){return w.split("=")})).forEach((function(w){w[0]===et._hashName&&(Ne=w)})),(Ne&&Ne[1]||"").split("/")):tt.split("/")},Io.prototype._onHashChange=function(){var w=this._getCurrentHash();if(w.length>=3&&!w.some((function(w){return isNaN(w)}))){var Ne=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(w[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+w[2],+w[1]],zoom:+w[0],bearing:Ne,pitch:+(w[4]||0)}),!0}return!1},Io.prototype._updateHashUnthrottled=function(){var Ne=this.getHashString();try{w.window.history.replaceState(w.window.history.state,"",Ne)}catch(w){}};var Ec={linearity:.3,easing:w.bezier(0,0,.3,1)},Cc=w.extend({deceleration:2500,maxSpeed:1400},Ec),Ic=w.extend({deceleration:20,maxSpeed:1400},Ec),Ac=w.extend({deceleration:1e3,maxSpeed:360},Ec),zc=w.extend({deceleration:1e3,maxSpeed:90},Ec),Mo=function(w){this._map=w,this.clear()};function Lo(w,Ne){(!w.duration||w.duration<Ne.duration)&&(w.duration=Ne.duration,w.easing=Ne.easing)}function Ao(Ne,et,tt){var rt=tt.maxSpeed,nt=tt.linearity,it=tt.deceleration,ot=w.clamp(Ne*nt/(et/1e3),-rt,rt),at=Math.abs(ot)/(it*nt);return{easing:tt.easing,duration:1e3*at,amount:ot*(at/2)}}Mo.prototype.clear=function(){this._inertiaBuffer=[]},Mo.prototype.record=function(Ne){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:w.browser.now(),settings:Ne})},Mo.prototype._drainInertiaBuffer=function(){for(var Ne=this._inertiaBuffer,et=w.browser.now();Ne.length>0&&et-Ne[0].time>160;)Ne.shift()},Mo.prototype._onMoveEnd=function(Ne){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var et={zoom:0,bearing:0,pitch:0,pan:new w.Point(0,0),pinchAround:void 0,around:void 0},tt=0,rt=this._inertiaBuffer;tt<rt.length;tt+=1){var nt=rt[tt].settings;et.zoom+=nt.zoomDelta||0,et.bearing+=nt.bearingDelta||0,et.pitch+=nt.pitchDelta||0,nt.panDelta&&et.pan._add(nt.panDelta),nt.around&&(et.around=nt.around),nt.pinchAround&&(et.pinchAround=nt.pinchAround)}var it=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ot={};if(et.pan.mag()){var at=Ao(et.pan.mag(),it,w.extend({},Cc,Ne||{}));ot.offset=et.pan.mult(at.amount/et.pan.mag()),ot.center=this._map.transform.center,Lo(ot,at)}if(et.zoom){var st=Ao(et.zoom,it,Ic);ot.zoom=this._map.transform.zoom+st.amount,Lo(ot,st)}if(et.bearing){var ct=Ao(et.bearing,it,Ac);ot.bearing=this._map.transform.bearing+w.clamp(ct.amount,-179,179),Lo(ot,ct)}if(et.pitch){var pt=Ao(et.pitch,it,zc);ot.pitch=this._map.transform.pitch+pt.amount,Lo(ot,pt)}if(ot.zoom||ot.bearing){var ft=void 0===et.pinchAround?et.around:et.pinchAround;ot.around=ft?this._map.unproject(ft):this._map.getCenter()}return this.clear(),w.extend(ot,{noMoveStart:!0})}};var Dc=function(Ne){function o(tt,rt,nt,it){void 0===it&&(it={});var ot=et.mousePos(rt.getCanvasContainer(),nt),at=rt.unproject(ot);Ne.call(this,tt,w.extend({point:ot,lngLat:at,originalEvent:nt},it)),this._defaultPrevented=!1,this.target=rt}Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o;var tt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},tt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,tt),o}(w.Event),Fc=function(Ne){function o(tt,rt,nt){var it="touchend"===tt?nt.changedTouches:nt.touches,ot=et.touchPos(rt.getCanvasContainer(),it),at=ot.map((function(w){return rt.unproject(w)})),st=ot.reduce((function(w,Ne,et,tt){return w.add(Ne.div(tt.length))}),new w.Point(0,0)),ct=rt.unproject(st);Ne.call(this,tt,{points:ot,point:st,lngLats:at,lngLat:ct,originalEvent:nt}),this._defaultPrevented=!1}Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o;var tt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},tt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,tt),o}(w.Event),Bc=function(w){function e(Ne,et,tt){w.call(this,Ne,{originalEvent:tt}),this._defaultPrevented=!1}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},Ne.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,Ne),e}(w.Event),Oo=function(w,Ne){this._map=w,this._clickTolerance=Ne.clickTolerance};Oo.prototype.reset=function(){delete this._mousedownPos},Oo.prototype.wheel=function(w){return this._firePreventable(new Bc(w.type,this._map,w))},Oo.prototype.mousedown=function(w,Ne){return this._mousedownPos=Ne,this._firePreventable(new Dc(w.type,this._map,w))},Oo.prototype.mouseup=function(w){this._map.fire(new Dc(w.type,this._map,w))},Oo.prototype.click=function(w,Ne){this._mousedownPos&&this._mousedownPos.dist(Ne)>=this._clickTolerance||this._map.fire(new Dc(w.type,this._map,w))},Oo.prototype.dblclick=function(w){return this._firePreventable(new Dc(w.type,this._map,w))},Oo.prototype.mouseover=function(w){this._map.fire(new Dc(w.type,this._map,w))},Oo.prototype.mouseout=function(w){this._map.fire(new Dc(w.type,this._map,w))},Oo.prototype.touchstart=function(w){return this._firePreventable(new Fc(w.type,this._map,w))},Oo.prototype.touchmove=function(w){this._map.fire(new Fc(w.type,this._map,w))},Oo.prototype.touchend=function(w){this._map.fire(new Fc(w.type,this._map,w))},Oo.prototype.touchcancel=function(w){this._map.fire(new Fc(w.type,this._map,w))},Oo.prototype._firePreventable=function(w){if(this._map.fire(w),w.defaultPrevented)return{}},Oo.prototype.isEnabled=function(){return!0},Oo.prototype.isActive=function(){return!1},Oo.prototype.enable=function(){},Oo.prototype.disable=function(){};var Fo=function(w){this._map=w};Fo.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fo.prototype.mousemove=function(w){this._map.fire(new Dc(w.type,this._map,w))},Fo.prototype.mousedown=function(){this._delayContextMenu=!0},Fo.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Dc("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fo.prototype.contextmenu=function(w){this._delayContextMenu?this._contextMenuEvent=w:this._map.fire(new Dc(w.type,this._map,w)),this._map.listens("contextmenu")&&w.preventDefault()},Fo.prototype.isEnabled=function(){return!0},Fo.prototype.isActive=function(){return!1},Fo.prototype.enable=function(){},Fo.prototype.disable=function(){};var Uo=function(w,Ne){this._map=w,this._el=w.getCanvasContainer(),this._container=w.getContainer(),this._clickTolerance=Ne.clickTolerance||1};function No(w,Ne){for(var et={},tt=0;tt<w.length;tt++)et[w[tt].identifier]=Ne[tt];return et}Uo.prototype.isEnabled=function(){return!!this._enabled},Uo.prototype.isActive=function(){return!!this._active},Uo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Uo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Uo.prototype.mousedown=function(w,Ne){this.isEnabled()&&w.shiftKey&&0===w.button&&(et.disableDrag(),this._startPos=this._lastPos=Ne,this._active=!0)},Uo.prototype.mousemoveWindow=function(w,Ne){if(this._active){var tt=Ne;if(!(this._lastPos.equals(tt)||!this._box&&tt.dist(this._startPos)<this._clickTolerance)){var rt=this._startPos;this._lastPos=tt,this._box||(this._box=et.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",w));var nt=Math.min(rt.x,tt.x),it=Math.max(rt.x,tt.x),ot=Math.min(rt.y,tt.y),at=Math.max(rt.y,tt.y);et.setTransform(this._box,"translate("+nt+"px,"+ot+"px)"),this._box.style.width=it-nt+"px",this._box.style.height=at-ot+"px"}}},Uo.prototype.mouseupWindow=function(Ne,tt){var rt=this;if(this._active&&0===Ne.button){var nt=this._startPos,it=tt;if(this.reset(),et.suppressClick(),nt.x!==it.x||nt.y!==it.y)return this._map.fire(new w.Event("boxzoomend",{originalEvent:Ne})),{cameraAnimation:function(w){return w.fitScreenCoordinates(nt,it,rt._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",Ne)}},Uo.prototype.keydown=function(w){this._active&&27===w.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",w))},Uo.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(et.remove(this._box),this._box=null),et.enableDrag(),delete this._startPos,delete this._lastPos},Uo.prototype._fireEvent=function(Ne,et){return this._map.fire(new w.Event(Ne,{originalEvent:et}))};var Zo=function(w){this.reset(),this.numTouches=w.numTouches};Zo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zo.prototype.touchstart=function(Ne,et,tt){(this.centroid||tt.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=Ne.timeStamp),tt.length===this.numTouches&&(this.centroid=function(Ne){for(var et=new w.Point(0,0),tt=0,rt=Ne;tt<rt.length;tt+=1)et._add(rt[tt]);return et.div(Ne.length)}(et),this.touches=No(tt,et)))},Zo.prototype.touchmove=function(w,Ne,et){if(!this.aborted&&this.centroid){var tt=No(et,Ne);for(var rt in this.touches){var nt=tt[rt];(!nt||nt.dist(this.touches[rt])>30)&&(this.aborted=!0)}}},Zo.prototype.touchend=function(w,Ne,et){if((!this.centroid||w.timeStamp-this.startTime>500)&&(this.aborted=!0),0===et.length){var tt=!this.aborted&&this.centroid;if(this.reset(),tt)return tt}};var jo=function(w){this.singleTap=new Zo(w),this.numTaps=w.numTaps,this.reset()};jo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},jo.prototype.touchstart=function(w,Ne,et){this.singleTap.touchstart(w,Ne,et)},jo.prototype.touchmove=function(w,Ne,et){this.singleTap.touchmove(w,Ne,et)},jo.prototype.touchend=function(w,Ne,et){var tt=this.singleTap.touchend(w,Ne,et);if(tt){var rt=w.timeStamp-this.lastTime<500,nt=!this.lastTap||this.lastTap.dist(tt)<30;if(rt&&nt||this.reset(),this.count++,this.lastTime=w.timeStamp,this.lastTap=tt,this.count===this.numTaps)return this.reset(),tt}};var qo=function(){this._zoomIn=new jo({numTouches:1,numTaps:2}),this._zoomOut=new jo({numTouches:2,numTaps:1}),this.reset()};qo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qo.prototype.touchstart=function(w,Ne,et){this._zoomIn.touchstart(w,Ne,et),this._zoomOut.touchstart(w,Ne,et)},qo.prototype.touchmove=function(w,Ne,et){this._zoomIn.touchmove(w,Ne,et),this._zoomOut.touchmove(w,Ne,et)},qo.prototype.touchend=function(w,Ne,et){var tt=this,rt=this._zoomIn.touchend(w,Ne,et),nt=this._zoomOut.touchend(w,Ne,et);return rt?(this._active=!0,w.preventDefault(),setTimeout((function(){return tt.reset()}),0),{cameraAnimation:function(Ne){return Ne.easeTo({duration:300,zoom:Ne.getZoom()+1,around:Ne.unproject(rt)},{originalEvent:w})}}):nt?(this._active=!0,w.preventDefault(),setTimeout((function(){return tt.reset()}),0),{cameraAnimation:function(Ne){return Ne.easeTo({duration:300,zoom:Ne.getZoom()-1,around:Ne.unproject(nt)},{originalEvent:w})}}):void 0},qo.prototype.touchcancel=function(){this.reset()},qo.prototype.enable=function(){this._enabled=!0},qo.prototype.disable=function(){this._enabled=!1,this.reset()},qo.prototype.isEnabled=function(){return this._enabled},qo.prototype.isActive=function(){return this._active};var Wc={0:1,2:2},Go=function(w){this.reset(),this._clickTolerance=w.clickTolerance||1};Go.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Go.prototype._correctButton=function(w,Ne){return!1},Go.prototype._move=function(w,Ne){return{}},Go.prototype.mousedown=function(w,Ne){if(!this._lastPoint){var tt=et.mouseButton(w);this._correctButton(w,tt)&&(this._lastPoint=Ne,this._eventButton=tt)}},Go.prototype.mousemoveWindow=function(w,Ne){var et=this._lastPoint;if(et)if(w.preventDefault(),function(w,Ne){var et=Wc[Ne];return void 0===w.buttons||(w.buttons&et)!==et}(w,this._eventButton))this.reset();else if(this._moved||!(Ne.dist(et)<this._clickTolerance))return this._moved=!0,this._lastPoint=Ne,this._move(et,Ne)},Go.prototype.mouseupWindow=function(w){this._lastPoint&&et.mouseButton(w)===this._eventButton&&(this._moved&&et.suppressClick(),this.reset())},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var Gc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.mousedown=function(Ne,et){w.prototype.mousedown.call(this,Ne,et),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(w,Ne){return 0===Ne&&!w.ctrlKey},e.prototype._move=function(w,Ne){return{around:Ne,panDelta:Ne.sub(w)}},e}(Go),Zc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._correctButton=function(w,Ne){return 0===Ne&&w.ctrlKey||2===Ne},e.prototype._move=function(w,Ne){var et=.8*(Ne.x-w.x);if(et)return this._active=!0,{bearingDelta:et}},e.prototype.contextmenu=function(w){w.preventDefault()},e}(Go),Hc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._correctButton=function(w,Ne){return 0===Ne&&w.ctrlKey||2===Ne},e.prototype._move=function(w,Ne){var et=-.5*(Ne.y-w.y);if(et)return this._active=!0,{pitchDelta:et}},e.prototype.contextmenu=function(w){w.preventDefault()},e}(Go),Ko=function(w){this._minTouches=1,this._clickTolerance=w.clickTolerance||1,this.reset()};Ko.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new w.Point(0,0)},Ko.prototype.touchstart=function(w,Ne,et){return this._calculateTransform(w,Ne,et)},Ko.prototype.touchmove=function(w,Ne,et){if(this._active)return w.preventDefault(),this._calculateTransform(w,Ne,et)},Ko.prototype.touchend=function(w,Ne,et){this._calculateTransform(w,Ne,et),this._active&&et.length<this._minTouches&&this.reset()},Ko.prototype.touchcancel=function(){this.reset()},Ko.prototype._calculateTransform=function(Ne,et,tt){tt.length>0&&(this._active=!0);var rt=No(tt,et),nt=new w.Point(0,0),it=new w.Point(0,0),ot=0;for(var at in rt){var st=rt[at],ct=this._touches[at];ct&&(nt._add(st),it._add(st.sub(ct)),ot++,rt[at]=st)}if(this._touches=rt,!(ot<this._minTouches)&&it.mag()){var pt=it.div(ot);if(this._sum._add(pt),!(this._sum.mag()<this._clickTolerance))return{around:nt.div(ot),panDelta:pt}}},Ko.prototype.enable=function(){this._enabled=!0},Ko.prototype.disable=function(){this._enabled=!1,this.reset()},Ko.prototype.isEnabled=function(){return this._enabled},Ko.prototype.isActive=function(){return this._active};var Yo=function(){this.reset()};function Jo(w,Ne,et){for(var tt=0;tt<w.length;tt++)if(w[tt].identifier===et)return Ne[tt]}function Qo(w,Ne){return Math.log(w/Ne)/Math.LN2}Yo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yo.prototype._start=function(w){},Yo.prototype._move=function(w,Ne,et){return{}},Yo.prototype.touchstart=function(w,Ne,et){this._firstTwoTouches||et.length<2||(this._firstTwoTouches=[et[0].identifier,et[1].identifier],this._start([Ne[0],Ne[1]]))},Yo.prototype.touchmove=function(w,Ne,et){if(this._firstTwoTouches){w.preventDefault();var tt=this._firstTwoTouches,rt=tt[1],nt=Jo(et,Ne,tt[0]),it=Jo(et,Ne,rt);if(nt&&it){var ot=this._aroundCenter?null:nt.add(it).div(2);return this._move([nt,it],ot,w)}}},Yo.prototype.touchend=function(w,Ne,tt){if(this._firstTwoTouches){var rt=this._firstTwoTouches,nt=rt[1],it=Jo(tt,Ne,rt[0]),ot=Jo(tt,Ne,nt);it&&ot||(this._active&&et.suppressClick(),this.reset())}},Yo.prototype.touchcancel=function(){this.reset()},Yo.prototype.enable=function(w){this._enabled=!0,this._aroundCenter=!!w&&"center"===w.around},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var $c=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.reset=function(){w.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(w){this._startDistance=this._distance=w[0].dist(w[1])},e.prototype._move=function(w,Ne){var et=this._distance;if(this._distance=w[0].dist(w[1]),this._active||!(Math.abs(Qo(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qo(this._distance,et),pinchAround:Ne}},e}(Yo);function tr(w,Ne){return 180*w.angleWith(Ne)/Math.PI}var Xc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.reset=function(){w.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(w){this._startVector=this._vector=w[0].sub(w[1]),this._minDiameter=w[0].dist(w[1])},e.prototype._move=function(w,Ne){var et=this._vector;if(this._vector=w[0].sub(w[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,et),pinchAround:Ne}},e.prototype._isBelowThreshold=function(w){this._minDiameter=Math.min(this._minDiameter,w.mag());var Ne=25/(Math.PI*this._minDiameter)*360,et=tr(w,this._startVector);return Math.abs(et)<Ne},e}(Yo);function ir(w){return Math.abs(w.y)>Math.abs(w.x)}var Yc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.reset=function(){w.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(w){this._lastPoints=w,ir(w[0].sub(w[1]))&&(this._valid=!1)},e.prototype._move=function(w,Ne,et){var tt=w[0].sub(this._lastPoints[0]),rt=w[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(tt,rt,et.timeStamp),this._valid)return this._lastPoints=w,this._active=!0,{pitchDelta:(tt.y+rt.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(w,Ne,et){if(void 0!==this._valid)return this._valid;var tt=w.mag()>=2,rt=Ne.mag()>=2;if(tt||rt){if(!tt||!rt)return void 0===this._firstMove&&(this._firstMove=et),et-this._firstMove<100&&void 0;var nt=w.y>0==Ne.y>0;return ir(w)&&ir(Ne)&&nt}},e}(Yo),rp={panStep:100,bearingStep:15,pitchStep:10},ar=function(){var w=rp;this._panStep=w.panStep,this._bearingStep=w.bearingStep,this._pitchStep=w.pitchStep};function nr(w){return w*(2-w)}ar.prototype.reset=function(){this._active=!1},ar.prototype.keydown=function(w){var Ne=this;if(!(w.altKey||w.ctrlKey||w.metaKey)){var et=0,tt=0,rt=0,nt=0,it=0;switch(w.keyCode){case 61:case 107:case 171:case 187:et=1;break;case 189:case 109:case 173:et=-1;break;case 37:w.shiftKey?tt=-1:(w.preventDefault(),nt=-1);break;case 39:w.shiftKey?tt=1:(w.preventDefault(),nt=1);break;case 38:w.shiftKey?rt=1:(w.preventDefault(),it=-1);break;case 40:w.shiftKey?rt=-1:(w.preventDefault(),it=1);break;default:return}return{cameraAnimation:function(ot){var at=ot.getZoom();ot.easeTo({duration:300,easeId:"keyboardHandler",easing:nr,zoom:et?Math.round(at)+et*(w.shiftKey?2:1):at,bearing:ot.getBearing()+tt*Ne._bearingStep,pitch:ot.getPitch()+rt*Ne._pitchStep,offset:[-nt*Ne._panStep,-it*Ne._panStep],center:ot.getCenter()},{originalEvent:w})}}}},ar.prototype.enable=function(){this._enabled=!0},ar.prototype.disable=function(){this._enabled=!1,this.reset()},ar.prototype.isEnabled=function(){return this._enabled},ar.prototype.isActive=function(){return this._active};var sr=function(Ne,et){this._map=Ne,this._el=Ne.getCanvasContainer(),this._handler=et,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,w.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};sr.prototype.setZoomRate=function(w){this._defaultZoomRate=w},sr.prototype.setWheelZoomRate=function(w){this._wheelZoomRate=w},sr.prototype.isEnabled=function(){return!!this._enabled},sr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},sr.prototype.isZooming=function(){return!!this._zooming},sr.prototype.enable=function(w){this.isEnabled()||(this._enabled=!0,this._aroundCenter=w&&"center"===w.around)},sr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sr.prototype.wheel=function(Ne){if(this.isEnabled()){var et=Ne.deltaMode===w.window.WheelEvent.DOM_DELTA_LINE?40*Ne.deltaY:Ne.deltaY,tt=w.browser.now(),rt=tt-(this._lastWheelEventTime||0);this._lastWheelEventTime=tt,0!==et&&et%4.000244140625==0?this._type="wheel":0!==et&&Math.abs(et)<4?this._type="trackpad":rt>400?(this._type=null,this._lastValue=et,this._timeout=setTimeout(this._onTimeout,40,Ne)):this._type||(this._type=Math.abs(rt*et)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,et+=this._lastValue)),Ne.shiftKey&&et&&(et/=4),this._type&&(this._lastWheelEvent=Ne,this._delta-=et,this._active||this._start(Ne)),Ne.preventDefault()}},sr.prototype._onTimeout=function(w){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(w)},sr.prototype._start=function(Ne){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var tt=et.mousePos(this._el,Ne);this._around=w.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(tt)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sr.prototype.renderFrame=function(){return this._onScrollFrame()},sr.prototype._onScrollFrame=function(){var Ne=this;if(this._frameId&&(this._frameId=null,this.isActive())){var et=this._map.transform;if(0!==this._delta){var tt="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,rt=2/(1+Math.exp(-Math.abs(this._delta*tt)));this._delta<0&&0!==rt&&(rt=1/rt);var nt="number"==typeof this._targetZoom?et.zoomScale(this._targetZoom):et.scale;this._targetZoom=Math.min(et.maxZoom,Math.max(et.minZoom,et.scaleZoom(nt*rt))),"wheel"===this._type&&(this._startZoom=et.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var it,ot="number"==typeof this._targetZoom?this._targetZoom:et.zoom,at=this._startZoom,st=this._easing,ct=!1;if("wheel"===this._type&&at&&st){var pt=Math.min((w.browser.now()-this._lastWheelEventTime)/200,1),ft=st(pt);it=w.number(at,ot,ft),pt<1?this._frameId||(this._frameId=!0):ct=!0}else it=ot,ct=!0;return this._active=!0,ct&&(this._active=!1,this._finishTimeout=setTimeout((function(){Ne._zooming=!1,Ne._handler._triggerRenderFrame(),delete Ne._targetZoom,delete Ne._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!ct,zoomDelta:it-et.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sr.prototype._smoothOutEasing=function(Ne){var et=w.ease;if(this._prevEase){var tt=this._prevEase,rt=(w.browser.now()-tt.start)/tt.duration,nt=tt.easing(rt+.01)-tt.easing(rt),it=.27/Math.sqrt(nt*nt+1e-4)*.01,ot=Math.sqrt(.0729-it*it);et=w.bezier(it,ot,.25,1)}return this._prevEase={start:w.browser.now(),duration:Ne,easing:et},et},sr.prototype.reset=function(){this._active=!1};var lr=function(w,Ne){this._clickZoom=w,this._tapZoom=Ne};lr.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},lr.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},lr.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},lr.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var cr=function(){this.reset()};cr.prototype.reset=function(){this._active=!1},cr.prototype.dblclick=function(w,Ne){return w.preventDefault(),{cameraAnimation:function(et){et.easeTo({duration:300,zoom:et.getZoom()+(w.shiftKey?-1:1),around:et.unproject(Ne)},{originalEvent:w})}}},cr.prototype.enable=function(){this._enabled=!0},cr.prototype.disable=function(){this._enabled=!1,this.reset()},cr.prototype.isEnabled=function(){return this._enabled},cr.prototype.isActive=function(){return this._active};var ur=function(){this._tap=new jo({numTouches:1,numTaps:1}),this.reset()};ur.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ur.prototype.touchstart=function(w,Ne,et){this._swipePoint||(this._tapTime&&w.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?et.length>0&&(this._swipePoint=Ne[0],this._swipeTouch=et[0].identifier):this._tap.touchstart(w,Ne,et))},ur.prototype.touchmove=function(w,Ne,et){if(this._tapTime){if(this._swipePoint){if(et[0].identifier!==this._swipeTouch)return;var tt=Ne[0],rt=tt.y-this._swipePoint.y;return this._swipePoint=tt,w.preventDefault(),this._active=!0,{zoomDelta:rt/128}}}else this._tap.touchmove(w,Ne,et)},ur.prototype.touchend=function(w,Ne,et){this._tapTime?this._swipePoint&&0===et.length&&this.reset():this._tap.touchend(w,Ne,et)&&(this._tapTime=w.timeStamp)},ur.prototype.touchcancel=function(){this.reset()},ur.prototype.enable=function(){this._enabled=!0},ur.prototype.disable=function(){this._enabled=!1,this.reset()},ur.prototype.isEnabled=function(){return this._enabled},ur.prototype.isActive=function(){return this._active};var hr=function(w,Ne,et){this._el=w,this._mousePan=Ne,this._touchPan=et};hr.prototype.enable=function(w){this._inertiaOptions=w||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pr=function(w,Ne,et){this._pitchWithRotate=w.pitchWithRotate,this._mouseRotate=Ne,this._mousePitch=et};pr.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pr.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pr.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pr.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var dr=function(w,Ne,et,tt){this._el=w,this._touchZoom=Ne,this._touchRotate=et,this._tapDragZoom=tt,this._rotationDisabled=!1,this._enabled=!0};dr.prototype.enable=function(w){this._touchZoom.enable(w),this._rotationDisabled||this._touchRotate.enable(w),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},dr.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},dr.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},dr.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},dr.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},dr.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var _r=function(w){return w.zoom||w.drag||w.pitch||w.rotate},ip=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(w.Event);function mr(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}var gr=function(Ne,tt){this._map=Ne,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mo(Ne),this._bearingSnap=tt.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(tt),w.bindAll(["handleEvent","handleWindowEvent"],this);var rt=this._el;this._listeners=[[rt,"touchstart",{passive:!0}],[rt,"touchmove",{passive:!1}],[rt,"touchend",void 0],[rt,"touchcancel",void 0],[rt,"mousedown",void 0],[rt,"mousemove",void 0],[rt,"mouseup",void 0],[w.window.document,"mousemove",{capture:!0}],[w.window.document,"mouseup",void 0],[rt,"mouseover",void 0],[rt,"mouseout",void 0],[rt,"dblclick",void 0],[rt,"click",void 0],[rt,"keydown",{capture:!1}],[rt,"keyup",void 0],[rt,"wheel",{passive:!1}],[rt,"contextmenu",void 0],[w.window,"blur",void 0]];for(var nt=0,it=this._listeners;nt<it.length;nt+=1){var ot=it[nt],at=ot[0];et.addEventListener(at,ot[1],at===w.window.document?this.handleWindowEvent:this.handleEvent,ot[2])}};gr.prototype.destroy=function(){for(var Ne=0,tt=this._listeners;Ne<tt.length;Ne+=1){var rt=tt[Ne],nt=rt[0];et.removeEventListener(nt,rt[1],nt===w.window.document?this.handleWindowEvent:this.handleEvent,rt[2])}},gr.prototype._addDefaultHandlers=function(w){var Ne=this._map,et=Ne.getCanvasContainer();this._add("mapEvent",new Oo(Ne,w));var tt=Ne.boxZoom=new Uo(Ne,w);this._add("boxZoom",tt);var rt=new qo,nt=new cr;Ne.doubleClickZoom=new lr(nt,rt),this._add("tapZoom",rt),this._add("clickZoom",nt);var it=new ur;this._add("tapDragZoom",it);var ot=Ne.touchPitch=new Yc;this._add("touchPitch",ot);var at=new Zc(w),st=new Hc(w);Ne.dragRotate=new pr(w,at,st),this._add("mouseRotate",at,["mousePitch"]),this._add("mousePitch",st,["mouseRotate"]);var ct=new Gc(w),pt=new Ko(w);Ne.dragPan=new hr(et,ct,pt),this._add("mousePan",ct),this._add("touchPan",pt,["touchZoom","touchRotate"]);var ft=new Xc,dt=new $c;Ne.touchZoomRotate=new dr(et,dt,ft,it),this._add("touchRotate",ft,["touchPan","touchZoom"]),this._add("touchZoom",dt,["touchPan","touchRotate"]);var mt=Ne.scrollZoom=new sr(Ne,this);this._add("scrollZoom",mt,["mousePan"]);var yt=Ne.keyboard=new ar;this._add("keyboard",yt),this._add("blockableMapEvent",new Fo(Ne));for(var vt=0,Rt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];vt<Rt.length;vt+=1){var Ot=Rt[vt];w.interactive&&w[Ot]&&Ne[Ot].enable(w[Ot])}},gr.prototype._add=function(w,Ne,et){this._handlers.push({handlerName:w,handler:Ne,allowed:et}),this._handlersById[w]=Ne},gr.prototype.stop=function(){if(!this._updatingCamera){for(var w=0,Ne=this._handlers;w<Ne.length;w+=1)Ne[w].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},gr.prototype.isActive=function(){for(var w=0,Ne=this._handlers;w<Ne.length;w+=1)if(Ne[w].handler.isActive())return!0;return!1},gr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gr.prototype.isMoving=function(){return Boolean(_r(this._eventsInProgress))||this.isZooming()},gr.prototype._blockedByActive=function(w,Ne,et){for(var tt in w)if(tt!==et&&(!Ne||Ne.indexOf(tt)<0))return!0;return!1},gr.prototype.handleWindowEvent=function(w){this.handleEvent(w,w.type+"Window")},gr.prototype._getMapTouches=function(w){for(var Ne=[],et=0,tt=w;et<tt.length;et+=1){var rt=tt[et];this._el.contains(rt.target)&&Ne.push(rt)}return Ne},gr.prototype.handleEvent=function(w,Ne){if("blur"!==w.type){this._updatingCamera=!0;for(var tt="renderFrame"===w.type?void 0:w,rt={needsRenderFrame:!1},nt={},it={},ot=w.touches?this._getMapTouches(w.touches):void 0,at=ot?et.touchPos(this._el,ot):et.mousePos(this._el,w),st=0,ct=this._handlers;st<ct.length;st+=1){var pt=ct[st],ft=pt.handlerName,dt=pt.handler,mt=pt.allowed;if(dt.isEnabled()){var yt=void 0;this._blockedByActive(it,mt,ft)?dt.reset():dt[Ne||w.type]&&(yt=dt[Ne||w.type](w,at,ot),this.mergeHandlerResult(rt,nt,yt,ft,tt),yt&&yt.needsRenderFrame&&this._triggerRenderFrame()),(yt||dt.isActive())&&(it[ft]=dt)}}var vt={};for(var Rt in this._previousActiveHandlers)it[Rt]||(vt[Rt]=tt);this._previousActiveHandlers=it,(Object.keys(vt).length||mr(rt))&&(this._changes.push([rt,nt,vt]),this._triggerRenderFrame()),(Object.keys(it).length||mr(rt))&&this._map._stop(!0),this._updatingCamera=!1;var Ot=rt.cameraAnimation;Ot&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],Ot(this._map))}else this.stop()},gr.prototype.mergeHandlerResult=function(Ne,et,tt,rt,nt){if(tt){w.extend(Ne,tt);var it={handlerName:rt,originalEvent:tt.originalEvent||nt};void 0!==tt.zoomDelta&&(et.zoom=it),void 0!==tt.panDelta&&(et.drag=it),void 0!==tt.pitchDelta&&(et.pitch=it),void 0!==tt.bearingDelta&&(et.rotate=it)}},gr.prototype._applyChanges=function(){for(var Ne={},et={},tt={},rt=0,nt=this._changes;rt<nt.length;rt+=1){var it=nt[rt],ot=it[0],at=it[1],st=it[2];ot.panDelta&&(Ne.panDelta=(Ne.panDelta||new w.Point(0,0))._add(ot.panDelta)),ot.zoomDelta&&(Ne.zoomDelta=(Ne.zoomDelta||0)+ot.zoomDelta),ot.bearingDelta&&(Ne.bearingDelta=(Ne.bearingDelta||0)+ot.bearingDelta),ot.pitchDelta&&(Ne.pitchDelta=(Ne.pitchDelta||0)+ot.pitchDelta),void 0!==ot.around&&(Ne.around=ot.around),void 0!==ot.pinchAround&&(Ne.pinchAround=ot.pinchAround),ot.noInertia&&(Ne.noInertia=ot.noInertia),w.extend(et,at),w.extend(tt,st)}this._updateMapTransform(Ne,et,tt),this._changes=[]},gr.prototype._updateMapTransform=function(w,Ne,et){var tt=this._map,rt=tt.transform;if(!mr(w))return this._fireEvents(Ne,et);var nt=w.panDelta,it=w.zoomDelta,ot=w.bearingDelta,at=w.pitchDelta,st=w.around,ct=w.pinchAround;void 0!==ct&&(st=ct),tt._stop(!0),st=st||tt.transform.centerPoint;var pt=rt.pointLocation(nt?st.sub(nt):st);ot&&(rt.bearing+=ot),at&&(rt.pitch+=at),it&&(rt.zoom+=it),rt.setLocationAtPoint(pt,st),this._map._update(),w.noInertia||this._inertia.record(w),this._fireEvents(Ne,et)},gr.prototype._fireEvents=function(Ne,et){var tt=this,rt=_r(this._eventsInProgress),nt=_r(Ne),it={};for(var ot in Ne)this._eventsInProgress[ot]||(it[ot+"start"]=Ne[ot].originalEvent),this._eventsInProgress[ot]=Ne[ot];for(var at in!rt&&nt&&this._fireEvent("movestart",nt.originalEvent),it)this._fireEvent(at,it[at]);for(var st in Ne.rotate&&(this._bearingChanged=!0),nt&&this._fireEvent("move",nt.originalEvent),Ne)this._fireEvent(st,Ne[st].originalEvent);var ct,pt={};for(var ft in this._eventsInProgress){var dt=this._eventsInProgress[ft],mt=dt.handlerName,yt=dt.originalEvent;this._handlersById[mt].isActive()||(delete this._eventsInProgress[ft],pt[ft+"end"]=ct=et[mt]||yt)}for(var vt in pt)this._fireEvent(vt,pt[vt]);var Rt=_r(this._eventsInProgress);if((rt||nt)&&!Rt){this._updatingCamera=!0;var Ot=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),y=function(w){return 0!==w&&-tt._bearingSnap<w&&w<tt._bearingSnap};Ot?(y(Ot.bearing||this._map.getBearing())&&(Ot.bearing=0),this._map.easeTo(Ot,{originalEvent:ct})):(this._map.fire(new w.Event("moveend",{originalEvent:ct})),y(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},gr.prototype._fireEvent=function(Ne,et){this._map.fire(new w.Event(Ne,et?{originalEvent:et}:{}))},gr.prototype._triggerRenderFrame=function(){var w=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame((function(Ne){delete w._frameId,w.handleEvent(new ip("renderFrame",{timeStamp:Ne})),w._applyChanges()})))};var op=function(Ne){function i(et,tt){Ne.call(this),this._moving=!1,this._zooming=!1,this.transform=et,this._bearingSnap=tt.bearingSnap,w.bindAll(["_renderFrameCallback"],this)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getCenter=function(){return new w.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(w,Ne){return this.jumpTo({center:w},Ne)},i.prototype.panBy=function(Ne,et,tt){return Ne=w.Point.convert(Ne).mult(-1),this.panTo(this.transform.center,w.extend({offset:Ne},et),tt)},i.prototype.panTo=function(Ne,et,tt){return this.easeTo(w.extend({center:Ne},et),tt)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(w,Ne){return this.jumpTo({zoom:w},Ne),this},i.prototype.zoomTo=function(Ne,et,tt){return this.easeTo(w.extend({zoom:Ne},et),tt)},i.prototype.zoomIn=function(w,Ne){return this.zoomTo(this.getZoom()+1,w,Ne),this},i.prototype.zoomOut=function(w,Ne){return this.zoomTo(this.getZoom()-1,w,Ne),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(w,Ne){return this.jumpTo({bearing:w},Ne),this},i.prototype.getPadding=function(){return this.transform.padding},i.prototype.setPadding=function(w,Ne){return this.jumpTo({padding:w},Ne),this},i.prototype.rotateTo=function(Ne,et,tt){return this.easeTo(w.extend({bearing:Ne},et),tt)},i.prototype.resetNorth=function(Ne,et){return this.rotateTo(0,w.extend({duration:1e3},Ne),et),this},i.prototype.resetNorthPitch=function(Ne,et){return this.easeTo(w.extend({bearing:0,pitch:0,duration:1e3},Ne),et),this},i.prototype.snapToNorth=function(w,Ne){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(w,Ne):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(w,Ne){return this.jumpTo({pitch:w},Ne),this},i.prototype.cameraForBounds=function(Ne,et){return Ne=w.LngLatBounds.convert(Ne),this._cameraForBoxAndBearing(Ne.getNorthWest(),Ne.getSouthEast(),0,et)},i.prototype._cameraForBoxAndBearing=function(Ne,et,tt,rt){var nt={top:0,bottom:0,right:0,left:0};if("number"==typeof(rt=w.extend({padding:nt,offset:[0,0],maxZoom:this.transform.maxZoom},rt)).padding){var it=rt.padding;rt.padding={top:it,bottom:it,right:it,left:it}}rt.padding=w.extend(nt,rt.padding);var ot=this.transform,at=ot.padding,st=ot.project(w.LngLat.convert(Ne)),ct=ot.project(w.LngLat.convert(et)),pt=st.rotate(-tt*Math.PI/180),ft=ct.rotate(-tt*Math.PI/180),dt=new w.Point(Math.max(pt.x,ft.x),Math.max(pt.y,ft.y)),mt=new w.Point(Math.min(pt.x,ft.x),Math.min(pt.y,ft.y)),yt=dt.sub(mt),vt=(ot.width-(at.left+at.right+rt.padding.left+rt.padding.right))/yt.x,Rt=(ot.height-(at.top+at.bottom+rt.padding.top+rt.padding.bottom))/yt.y;if(!(Rt<0||vt<0)){var Ot=Math.min(ot.scaleZoom(ot.scale*Math.min(vt,Rt)),rt.maxZoom),Dt=w.Point.convert(rt.offset),Bt=new w.Point(Dt.x+(rt.padding.left-rt.padding.right)/2,Dt.y+(rt.padding.top-rt.padding.bottom)/2).mult(ot.scale/ot.zoomScale(Ot));return{center:ot.unproject(st.add(ct).div(2).sub(Bt)),zoom:Ot,bearing:tt}}w.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},i.prototype.fitBounds=function(w,Ne,et){return this._fitInternal(this.cameraForBounds(w,Ne),Ne,et)},i.prototype.fitScreenCoordinates=function(Ne,et,tt,rt,nt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(w.Point.convert(Ne)),this.transform.pointLocation(w.Point.convert(et)),tt,rt),rt,nt)},i.prototype._fitInternal=function(Ne,et,tt){return Ne?(delete(et=w.extend(Ne,et)).padding,et.linear?this.easeTo(et,tt):this.flyTo(et,tt)):this},i.prototype.jumpTo=function(Ne,et){this.stop();var tt=this.transform,rt=!1,nt=!1,it=!1;return"zoom"in Ne&&tt.zoom!==+Ne.zoom&&(rt=!0,tt.zoom=+Ne.zoom),void 0!==Ne.center&&(tt.center=w.LngLat.convert(Ne.center)),"bearing"in Ne&&tt.bearing!==+Ne.bearing&&(nt=!0,tt.bearing=+Ne.bearing),"pitch"in Ne&&tt.pitch!==+Ne.pitch&&(it=!0,tt.pitch=+Ne.pitch),null==Ne.padding||tt.isPaddingEqual(Ne.padding)||(tt.padding=Ne.padding),this.fire(new w.Event("movestart",et)).fire(new w.Event("move",et)),rt&&this.fire(new w.Event("zoomstart",et)).fire(new w.Event("zoom",et)).fire(new w.Event("zoomend",et)),nt&&this.fire(new w.Event("rotatestart",et)).fire(new w.Event("rotate",et)).fire(new w.Event("rotateend",et)),it&&this.fire(new w.Event("pitchstart",et)).fire(new w.Event("pitch",et)).fire(new w.Event("pitchend",et)),this.fire(new w.Event("moveend",et))},i.prototype.easeTo=function(Ne,et){var tt=this;this._stop(!1,Ne.easeId),(!1===(Ne=w.extend({offset:[0,0],duration:500,easing:w.ease},Ne)).animate||!Ne.essential&&w.browser.prefersReducedMotion)&&(Ne.duration=0);var rt=this.transform,nt=this.getZoom(),it=this.getBearing(),ot=this.getPitch(),at=this.getPadding(),st="zoom"in Ne?+Ne.zoom:nt,ct="bearing"in Ne?this._normalizeBearing(Ne.bearing,it):it,pt="pitch"in Ne?+Ne.pitch:ot,ft="padding"in Ne?Ne.padding:rt.padding,dt=w.Point.convert(Ne.offset),mt=rt.centerPoint.add(dt),yt=rt.pointLocation(mt),vt=w.LngLat.convert(Ne.center||yt);this._normalizeCenter(vt);var Rt,Ot,Dt=rt.project(yt),Bt=rt.project(vt).sub(Dt),er=rt.zoomScale(st-nt);Ne.around&&(Rt=w.LngLat.convert(Ne.around),Ot=rt.locationPoint(Rt));var rr={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||st!==nt,this._rotating=this._rotating||it!==ct,this._pitching=this._pitching||pt!==ot,this._padding=!rt.isPaddingEqual(ft),this._easeId=Ne.easeId,this._prepareEase(et,Ne.noMoveStart,rr),clearTimeout(this._easeEndTimeoutID),this._ease((function(Ne){if(tt._zooming&&(rt.zoom=w.number(nt,st,Ne)),tt._rotating&&(rt.bearing=w.number(it,ct,Ne)),tt._pitching&&(rt.pitch=w.number(ot,pt,Ne)),tt._padding&&(rt.interpolatePadding(at,ft,Ne),mt=rt.centerPoint.add(dt)),Rt)rt.setLocationAtPoint(Rt,Ot);else{var yt=rt.zoomScale(rt.zoom-nt),vt=st>nt?Math.min(2,er):Math.max(.5,er),rr=Math.pow(vt,1-Ne),vr=rt.unproject(Dt.add(Bt.mult(Ne*rr)).mult(yt));rt.setLocationAtPoint(rt.renderWorldCopies?vr.wrap():vr,mt)}tt._fireMoveEvents(et)}),(function(w){tt._afterEase(et,w)}),Ne),this},i.prototype._prepareEase=function(Ne,et,tt){void 0===tt&&(tt={}),this._moving=!0,et||tt.moving||this.fire(new w.Event("movestart",Ne)),this._zooming&&!tt.zooming&&this.fire(new w.Event("zoomstart",Ne)),this._rotating&&!tt.rotating&&this.fire(new w.Event("rotatestart",Ne)),this._pitching&&!tt.pitching&&this.fire(new w.Event("pitchstart",Ne))},i.prototype._fireMoveEvents=function(Ne){this.fire(new w.Event("move",Ne)),this._zooming&&this.fire(new w.Event("zoom",Ne)),this._rotating&&this.fire(new w.Event("rotate",Ne)),this._pitching&&this.fire(new w.Event("pitch",Ne))},i.prototype._afterEase=function(Ne,et){if(!this._easeId||!et||this._easeId!==et){delete this._easeId;var tt=this._zooming,rt=this._rotating,nt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,tt&&this.fire(new w.Event("zoomend",Ne)),rt&&this.fire(new w.Event("rotateend",Ne)),nt&&this.fire(new w.Event("pitchend",Ne)),this.fire(new w.Event("moveend",Ne))}},i.prototype.flyTo=function(Ne,et){var tt=this;if(!Ne.essential&&w.browser.prefersReducedMotion){var rt=w.pick(Ne,["center","zoom","bearing","pitch","around"]);return this.jumpTo(rt,et)}this.stop(),Ne=w.extend({offset:[0,0],speed:1.2,curve:1.42,easing:w.ease},Ne);var nt=this.transform,it=this.getZoom(),ot=this.getBearing(),at=this.getPitch(),st=this.getPadding(),ct="zoom"in Ne?w.clamp(+Ne.zoom,nt.minZoom,nt.maxZoom):it,pt="bearing"in Ne?this._normalizeBearing(Ne.bearing,ot):ot,ft="pitch"in Ne?+Ne.pitch:at,dt="padding"in Ne?Ne.padding:nt.padding,mt=nt.zoomScale(ct-it),yt=w.Point.convert(Ne.offset),vt=nt.centerPoint.add(yt),Rt=nt.pointLocation(vt),Ot=w.LngLat.convert(Ne.center||Rt);this._normalizeCenter(Ot);var Dt=nt.project(Rt),Bt=nt.project(Ot).sub(Dt),er=Ne.curve,rr=Math.max(nt.width,nt.height),vr=rr/mt,wr=Bt.mag();if("minZoom"in Ne){var Sr=w.clamp(Math.min(Ne.minZoom,it,ct),nt.minZoom,nt.maxZoom),rn=rr/nt.zoomScale(Sr-it);er=Math.sqrt(rn/wr*2)}var vn=er*er;function C(w){var Ne=(vr*vr-rr*rr+(w?-1:1)*vn*vn*wr*wr)/(2*(w?vr:rr)*vn*wr);return Math.log(Math.sqrt(Ne*Ne+1)-Ne)}function z(w){return(Math.exp(w)-Math.exp(-w))/2}function D(w){return(Math.exp(w)+Math.exp(-w))/2}var bn=C(0),L=function(w){return D(bn)/D(bn+er*w)},A=function(w){return rr*((D(bn)*(z(Ne=bn+er*w)/D(Ne))-z(bn))/vn)/wr;var Ne},Tn=(C(1)-bn)/er;if(Math.abs(wr)<1e-6||!isFinite(Tn)){if(Math.abs(rr-vr)<1e-6)return this.easeTo(Ne,et);var Cn=vr<rr?-1:1;Tn=Math.abs(Math.log(vr/rr))/er,A=function(){return 0},L=function(w){return Math.exp(Cn*er*w)}}return Ne.duration="duration"in Ne?+Ne.duration:1e3*Tn/("screenSpeed"in Ne?+Ne.screenSpeed/er:+Ne.speed),Ne.maxDuration&&Ne.duration>Ne.maxDuration&&(Ne.duration=0),this._zooming=!0,this._rotating=ot!==pt,this._pitching=ft!==at,this._padding=!nt.isPaddingEqual(dt),this._prepareEase(et,!1),this._ease((function(Ne){var rt=Ne*Tn,mt=1/L(rt);nt.zoom=1===Ne?ct:it+nt.scaleZoom(mt),tt._rotating&&(nt.bearing=w.number(ot,pt,Ne)),tt._pitching&&(nt.pitch=w.number(at,ft,Ne)),tt._padding&&(nt.interpolatePadding(st,dt,Ne),vt=nt.centerPoint.add(yt));var Rt=1===Ne?Ot:nt.unproject(Dt.add(Bt.mult(A(rt))).mult(mt));nt.setLocationAtPoint(nt.renderWorldCopies?Rt.wrap():Rt,vt),tt._fireMoveEvents(et)}),(function(){return tt._afterEase(et)}),Ne),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){return this._stop()},i.prototype._stop=function(w,Ne){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var et=this._onEaseEnd;delete this._onEaseEnd,et.call(this,Ne)}if(!w){var tt=this.handlers;tt&&tt.stop()}return this},i.prototype._ease=function(Ne,et,tt){!1===tt.animate||0===tt.duration?(Ne(1),et()):(this._easeStart=w.browser.now(),this._easeOptions=tt,this._onEaseFrame=Ne,this._onEaseEnd=et,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var Ne=Math.min((w.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(Ne)),Ne<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(Ne,et){Ne=w.wrap(Ne,-180,180);var tt=Math.abs(Ne-et);return Math.abs(Ne-360-et)<tt&&(Ne-=360),Math.abs(Ne+360-et)<tt&&(Ne+=360),Ne},i.prototype._normalizeCenter=function(w){var Ne=this.transform;if(Ne.renderWorldCopies&&!Ne.lngRange){var et=w.lng-Ne.center.lng;w.lng+=et>180?-360:et<-180?360:0}},i}(w.Evented),yr=function(Ne){void 0===Ne&&(Ne={}),this.options=Ne,w.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};yr.prototype.getDefaultPosition=function(){return"bottom-right"},yr.prototype.onAdd=function(w){var Ne=this.options&&this.options.compact;return this._map=w,this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=et.create("div","mapboxgl-ctrl-attrib-inner",this._container),Ne&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===Ne&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},yr.prototype.onRemove=function(){et.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},yr.prototype._updateEditLink=function(){var Ne=this._editLink;Ne||(Ne=this._editLink=this._container.querySelector(".mapbox-improve-map"));var et=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||w.config.ACCESS_TOKEN}];if(Ne){var tt=et.reduce((function(w,Ne,tt){return Ne.value&&(w+=Ne.key+"="+Ne.value+(tt<et.length-1?"&":"")),w}),"?");Ne.href=w.config.FEEDBACK_URL+"/"+tt+(this._map._hash?this._map._hash.getHashString(!0):""),Ne.rel="noopener nofollow"}},yr.prototype._updateData=function(w){!w||"metadata"!==w.sourceDataType&&"style"!==w.dataType||(this._updateAttributions(),this._updateEditLink())},yr.prototype._updateAttributions=function(){if(this._map.style){var w=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?w=w.concat(this.options.customAttribution.map((function(w){return"string"!=typeof w?"":w}))):"string"==typeof this.options.customAttribution&&w.push(this.options.customAttribution)),this._map.style.stylesheet){var Ne=this._map.style.stylesheet;this.styleOwner=Ne.owner,this.styleId=Ne.id}var et=this._map.style.sourceCaches;for(var tt in et){var rt=et[tt];if(rt.used){var nt=rt.getSource();nt.attribution&&w.indexOf(nt.attribution)<0&&w.push(nt.attribution)}}w.sort((function(w,Ne){return w.length-Ne.length}));var it=(w=w.filter((function(Ne,et){for(var tt=et+1;tt<w.length;tt++)if(w[tt].indexOf(Ne)>=0)return!1;return!0}))).join(" | ");it!==this._attribHTML&&(this._attribHTML=it,w.length?(this._innerContainer.innerHTML=it,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},yr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var xr=function(){w.bindAll(["_updateLogo"],this),w.bindAll(["_updateCompact"],this)};xr.prototype.onAdd=function(w){this._map=w,this._container=et.create("div","mapboxgl-ctrl");var Ne=et.create("a","mapboxgl-ctrl-logo");return Ne.target="_blank",Ne.rel="noopener nofollow",Ne.href="https://www.mapbox.com/",Ne.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Ne.setAttribute("rel","noopener nofollow"),this._container.appendChild(Ne),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},xr.prototype.onRemove=function(){et.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},xr.prototype.getDefaultPosition=function(){return"bottom-left"},xr.prototype._updateLogo=function(w){w&&"metadata"!==w.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},xr.prototype._logoRequired=function(){if(this._map.style){var w=this._map.style.sourceCaches;for(var Ne in w)if(w[Ne].getSource().mapbox_logo)return!0;return!1}},xr.prototype._updateCompact=function(){var w=this._container.children;if(w.length){var Ne=w[0];this._map.getCanvasContainer().offsetWidth<250?Ne.classList.add("mapboxgl-compact"):Ne.classList.remove("mapboxgl-compact")}};var br=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};br.prototype.add=function(w){var Ne=++this._id;return this._queue.push({callback:w,id:Ne,cancelled:!1}),Ne},br.prototype.remove=function(w){for(var Ne=this._currentlyRunning,et=0,tt=Ne?this._queue.concat(Ne):this._queue;et<tt.length;et+=1){var rt=tt[et];if(rt.id===w)return void(rt.cancelled=!0)}},br.prototype.run=function(w){void 0===w&&(w=0);var Ne=this._currentlyRunning=this._queue;this._queue=[];for(var et=0,tt=Ne;et<tt.length;et+=1){var rt=tt[et];if(!rt.cancelled&&(rt.callback(w),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},br.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ap={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},sp=w.window.HTMLImageElement,lp=w.window.HTMLElement,cp=w.window.ImageBitmap,pp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},hp=function(tt){function r(Ne){var et=this;if(null!=(Ne=w.extend({},pp,Ne)).minZoom&&null!=Ne.maxZoom&&Ne.minZoom>Ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=Ne.minPitch&&null!=Ne.maxPitch&&Ne.minPitch>Ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=Ne.minPitch&&Ne.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=Ne.maxPitch&&Ne.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var rt=new To(Ne.minZoom,Ne.maxZoom,Ne.minPitch,Ne.maxPitch,Ne.renderWorldCopies);if(tt.call(this,rt,Ne),this._interactive=Ne.interactive,this._maxTileCacheSize=Ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=Ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=Ne.preserveDrawingBuffer,this._antialias=Ne.antialias,this._trackResize=Ne.trackResize,this._bearingSnap=Ne.bearingSnap,this._refreshExpiredTiles=Ne.refreshExpiredTiles,this._fadeDuration=Ne.fadeDuration,this._crossSourceCollisions=Ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=Ne.collectResourceTiming,this._renderTaskQueue=new br,this._controls=[],this._mapId=w.uniqueId(),this._locale=w.extend({},ap,Ne.locale),this._requestManager=new w.RequestManager(Ne.transformRequest,Ne.accessToken),"string"==typeof Ne.container){if(this._container=w.window.document.getElementById(Ne.container),!this._container)throw new Error("Container '"+Ne.container+"' not found.")}else{if(!(Ne.container instanceof lp))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=Ne.container}if(Ne.maxBounds&&this.setMaxBounds(Ne.maxBounds),w.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return et._update(!1)})),this.on("moveend",(function(){return et._update(!1)})),this.on("zoom",(function(){return et._update(!0)})),void 0!==w.window&&(w.window.addEventListener("online",this._onWindowOnline,!1),w.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new gr(this,Ne),this._hash=Ne.hash&&new Io("string"==typeof Ne.hash&&Ne.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:Ne.center,zoom:Ne.zoom,bearing:Ne.bearing,pitch:Ne.pitch}),Ne.bounds&&(this.resize(),this.fitBounds(Ne.bounds,w.extend({},Ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=Ne.localIdeographFontFamily,Ne.style&&this.setStyle(Ne.style,{localIdeographFontFamily:Ne.localIdeographFontFamily}),Ne.attributionControl&&this.addControl(new yr({customAttribution:Ne.customAttribution})),this.addControl(new xr,Ne.logoPosition),this.on("style.load",(function(){et.transform.unmodified&&et.jumpTo(et.style.stylesheet)})),this.on("data",(function(Ne){et._update("style"===Ne.dataType),et.fire(new w.Event(Ne.dataType+"data",Ne))})),this.on("dataloading",(function(Ne){et.fire(new w.Event(Ne.dataType+"dataloading",Ne))}))}tt&&(r.__proto__=tt),(r.prototype=Object.create(tt&&tt.prototype)).constructor=r;var rt={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(Ne,et){if(void 0===et&&Ne.getDefaultPosition&&(et=Ne.getDefaultPosition()),void 0===et&&(et="top-right"),!Ne||!Ne.onAdd)return this.fire(new w.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var tt=Ne.onAdd(this);this._controls.push(Ne);var rt=this._controlPositions[et];return-1!==et.indexOf("bottom")?rt.insertBefore(tt,rt.firstChild):rt.appendChild(tt),this},r.prototype.removeControl=function(Ne){if(!Ne||!Ne.onRemove)return this.fire(new w.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var et=this._controls.indexOf(Ne);return et>-1&&this._controls.splice(et,1),Ne.onRemove(this),this},r.prototype.resize=function(Ne){var et=this._containerDimensions(),tt=et[0],rt=et[1];this._resizeCanvas(tt,rt),this.transform.resize(tt,rt),this.painter.resize(tt,rt);var nt=!this._moving;return nt&&(this.stop(),this.fire(new w.Event("movestart",Ne)).fire(new w.Event("move",Ne))),this.fire(new w.Event("resize",Ne)),nt&&this.fire(new w.Event("moveend",Ne)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(Ne){return this.transform.setMaxBounds(w.LngLatBounds.convert(Ne)),this._update()},r.prototype.setMinZoom=function(w){if((w=null==w?-2:w)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w&&this.setZoom(w),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(w){if((w=null==w?22:w)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w&&this.setZoom(w),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(w){if((w=null==w?0:w)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w&&this.setPitch(w),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(w){if((w=null==w?60:w)>60)throw new Error("maxPitch must be less than or equal to 60");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w&&this.setPitch(w),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(w){return this.transform.renderWorldCopies=w,this._update()},r.prototype.project=function(Ne){return this.transform.locationPoint(w.LngLat.convert(Ne))},r.prototype.unproject=function(Ne){return this.transform.pointLocation(w.Point.convert(Ne))},r.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},r.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},r.prototype._createDelegatedListener=function(w,Ne,et){var tt,rt=this;if("mouseenter"===w||"mouseover"===w){var nt=!1;return{layer:Ne,listener:et,delegates:{mousemove:function(tt){var it=rt.getLayer(Ne)?rt.queryRenderedFeatures(tt.point,{layers:[Ne]}):[];it.length?nt||(nt=!0,et.call(rt,new Dc(w,rt,tt.originalEvent,{features:it}))):nt=!1},mouseout:function(){nt=!1}}}}if("mouseleave"===w||"mouseout"===w){var it=!1;return{layer:Ne,listener:et,delegates:{mousemove:function(tt){(rt.getLayer(Ne)?rt.queryRenderedFeatures(tt.point,{layers:[Ne]}):[]).length?it=!0:it&&(it=!1,et.call(rt,new Dc(w,rt,tt.originalEvent)))},mouseout:function(Ne){it&&(it=!1,et.call(rt,new Dc(w,rt,Ne.originalEvent)))}}}}return{layer:Ne,listener:et,delegates:(tt={},tt[w]=function(w){var tt=rt.getLayer(Ne)?rt.queryRenderedFeatures(w.point,{layers:[Ne]}):[];tt.length&&(w.features=tt,et.call(rt,w),delete w.features)},tt)}},r.prototype.on=function(w,Ne,et){if(void 0===et)return tt.prototype.on.call(this,w,Ne);var rt=this._createDelegatedListener(w,Ne,et);for(var nt in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(rt),rt.delegates)this.on(nt,rt.delegates[nt]);return this},r.prototype.once=function(w,Ne,et){if(void 0===et)return tt.prototype.once.call(this,w,Ne);var rt=this._createDelegatedListener(w,Ne,et);for(var nt in rt.delegates)this.once(nt,rt.delegates[nt]);return this},r.prototype.off=function(w,Ne,et){var rt=this;return void 0===et?tt.prototype.off.call(this,w,Ne):(this._delegatedListeners&&this._delegatedListeners[w]&&function(tt){for(var nt=tt[w],it=0;it<nt.length;it++){var ot=nt[it];if(ot.layer===Ne&&ot.listener===et){for(var at in ot.delegates)rt.off(at,ot.delegates[at]);return nt.splice(it,1),rt}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(Ne,et){if(!this.style)return[];var tt;if(void 0!==et||void 0===Ne||Ne instanceof w.Point||Array.isArray(Ne)||(et=Ne,Ne=void 0),et=et||{},(Ne=Ne||[[0,0],[this.transform.width,this.transform.height]])instanceof w.Point||"number"==typeof Ne[0])tt=[w.Point.convert(Ne)];else{var rt=w.Point.convert(Ne[0]),nt=w.Point.convert(Ne[1]);tt=[rt,new w.Point(nt.x,rt.y),nt,new w.Point(rt.x,nt.y),rt]}return this.style.queryRenderedFeatures(tt,et,this.transform)},r.prototype.querySourceFeatures=function(w,Ne){return this.style.querySourceFeatures(w,Ne)},r.prototype.setStyle=function(Ne,et){return!1!==(et=w.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},et)).diff&&et.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&Ne?(this._diffStyle(Ne,et),this):(this._localIdeographFontFamily=et.localIdeographFontFamily,this._updateStyle(Ne,et))},r.prototype._getUIString=function(w){var Ne=this._locale[w];if(null==Ne)throw new Error("Missing UI string '"+w+"'");return Ne},r.prototype._updateStyle=function(w,Ne){return this.style&&(this.style.setEventedParent(null),this.style._remove()),w?(this.style=new Ns(this,Ne||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof w?this.style.loadURL(w):this.style.loadJSON(w),this):(delete this.style,this)},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ns(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(Ne,et){var tt=this;if("string"==typeof Ne){var rt=this._requestManager.normalizeStyleURL(Ne),nt=this._requestManager.transformRequest(rt,w.ResourceType.Style);w.getJSON(nt,(function(Ne,rt){Ne?tt.fire(new w.ErrorEvent(Ne)):rt&&tt._updateDiff(rt,et)}))}else"object"==typeof Ne&&this._updateDiff(Ne,et)},r.prototype._updateDiff=function(Ne,et){try{this.style.setState(Ne)&&this._update(!0)}catch(tt){w.warnOnce("Unable to perform style diff: "+(tt.message||tt.error||tt)+".  Rebuilding the style from scratch."),this._updateStyle(Ne,et)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():w.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(w,Ne){return this._lazyInitEmptyStyle(),this.style.addSource(w,Ne),this._update(!0)},r.prototype.isSourceLoaded=function(Ne){var et=this.style&&this.style.sourceCaches[Ne];if(void 0!==et)return et.loaded();this.fire(new w.ErrorEvent(new Error("There is no source with ID '"+Ne+"'")))},r.prototype.areTilesLoaded=function(){var w=this.style&&this.style.sourceCaches;for(var Ne in w){var et=w[Ne]._tiles;for(var tt in et){var rt=et[tt];if("loaded"!==rt.state&&"errored"!==rt.state)return!1}}return!0},r.prototype.addSourceType=function(w,Ne,et){return this._lazyInitEmptyStyle(),this.style.addSourceType(w,Ne,et)},r.prototype.removeSource=function(w){return this.style.removeSource(w),this._update(!0)},r.prototype.getSource=function(w){return this.style.getSource(w)},r.prototype.addImage=function(Ne,et,tt){void 0===tt&&(tt={});var rt=tt.pixelRatio;void 0===rt&&(rt=1);var nt=tt.sdf;void 0===nt&&(nt=!1);var it=tt.stretchX,ot=tt.stretchY,at=tt.content;if(this._lazyInitEmptyStyle(),et instanceof sp||cp&&et instanceof cp){var st=w.browser.getImageData(et);this.style.addImage(Ne,{data:new w.RGBAImage({width:st.width,height:st.height},st.data),pixelRatio:rt,stretchX:it,stretchY:ot,content:at,sdf:nt,version:0})}else{if(void 0===et.width||void 0===et.height)return this.fire(new w.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ct=et;this.style.addImage(Ne,{data:new w.RGBAImage({width:et.width,height:et.height},new Uint8Array(et.data)),pixelRatio:rt,stretchX:it,stretchY:ot,content:at,sdf:nt,version:0,userImage:ct}),ct.onAdd&&ct.onAdd(this,Ne)}},r.prototype.updateImage=function(Ne,et){var tt=this.style.getImage(Ne);if(!tt)return this.fire(new w.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var rt=et instanceof sp||cp&&et instanceof cp?w.browser.getImageData(et):et,nt=rt.width,it=rt.height,ot=rt.data;return void 0===nt||void 0===it?this.fire(new w.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):nt!==tt.data.width||it!==tt.data.height?this.fire(new w.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(tt.data.replace(ot,!(et instanceof sp||cp&&et instanceof cp)),void this.style.updateImage(Ne,tt))},r.prototype.hasImage=function(Ne){return Ne?!!this.style.getImage(Ne):(this.fire(new w.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(w){this.style.removeImage(w)},r.prototype.loadImage=function(Ne,et){w.getImage(this._requestManager.transformRequest(Ne,w.ResourceType.Image),et)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(w,Ne){return this._lazyInitEmptyStyle(),this.style.addLayer(w,Ne),this._update(!0)},r.prototype.moveLayer=function(w,Ne){return this.style.moveLayer(w,Ne),this._update(!0)},r.prototype.removeLayer=function(w){return this.style.removeLayer(w),this._update(!0)},r.prototype.getLayer=function(w){return this.style.getLayer(w)},r.prototype.setLayerZoomRange=function(w,Ne,et){return this.style.setLayerZoomRange(w,Ne,et),this._update(!0)},r.prototype.setFilter=function(w,Ne,et){return void 0===et&&(et={}),this.style.setFilter(w,Ne,et),this._update(!0)},r.prototype.getFilter=function(w){return this.style.getFilter(w)},r.prototype.setPaintProperty=function(w,Ne,et,tt){return void 0===tt&&(tt={}),this.style.setPaintProperty(w,Ne,et,tt),this._update(!0)},r.prototype.getPaintProperty=function(w,Ne){return this.style.getPaintProperty(w,Ne)},r.prototype.setLayoutProperty=function(w,Ne,et,tt){return void 0===tt&&(tt={}),this.style.setLayoutProperty(w,Ne,et,tt),this._update(!0)},r.prototype.getLayoutProperty=function(w,Ne){return this.style.getLayoutProperty(w,Ne)},r.prototype.setLight=function(w,Ne){return void 0===Ne&&(Ne={}),this._lazyInitEmptyStyle(),this.style.setLight(w,Ne),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(w,Ne){return this.style.setFeatureState(w,Ne),this._update()},r.prototype.removeFeatureState=function(w,Ne){return this.style.removeFeatureState(w,Ne),this._update()},r.prototype.getFeatureState=function(w){return this.style.getFeatureState(w)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var w=0,Ne=0;return this._container&&(w=this._container.clientWidth||400,Ne=this._container.clientHeight||300),[w,Ne]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==w.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&w.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var w=this._container;w.classList.add("mapboxgl-map"),(this._missingCSSCanary=et.create("div","mapboxgl-canary",w)).style.visibility="hidden",this._detectMissingCSS();var Ne=this._canvasContainer=et.create("div","mapboxgl-canvas-container",w);this._interactive&&Ne.classList.add("mapboxgl-interactive"),this._canvas=et.create("canvas","mapboxgl-canvas",Ne),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var tt=this._containerDimensions();this._resizeCanvas(tt[0],tt[1]);var rt=this._controlContainer=et.create("div","mapboxgl-control-container",w),nt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(w){nt[w]=et.create("div","mapboxgl-ctrl-"+w,rt)}))},r.prototype._resizeCanvas=function(Ne,et){var tt=w.browser.devicePixelRatio||1;this._canvas.width=tt*Ne,this._canvas.height=tt*et,this._canvas.style.width=Ne+"px",this._canvas.style.height=et+"px"},r.prototype._setupPainter=function(){var et=w.extend({},Ne.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),tt=this._canvas.getContext("webgl",et)||this._canvas.getContext("experimental-webgl",et);tt?(this.painter=new yo(tt,this.transform),w.webpSupported.testSupport(tt)):this.fire(new w.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(Ne){Ne.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new w.Event("webglcontextlost",{originalEvent:Ne}))},r.prototype._contextRestored=function(Ne){this._setupPainter(),this.resize(),this._update(),this.fire(new w.Event("webglcontextrestored",{originalEvent:Ne}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(w){return this.style?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(w){return this._update(),this._renderTaskQueue.add(w)},r.prototype._cancelRenderFrame=function(w){this._renderTaskQueue.remove(w)},r.prototype._render=function(Ne){var et,tt=this,rt=0,nt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(et=nt.createQueryEXT(),nt.beginQueryEXT(nt.TIME_ELAPSED_EXT,et),rt=w.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(Ne),!this._removed){var it=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ot=this.transform.zoom,at=w.browser.now();this.style.zoomHistory.update(ot,at);var st=new w.EvaluationParameters(ot,{now:at,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ct=st.crossFadingFactor();1===ct&&ct===this._crossFadingFactor||(it=!0,this._crossFadingFactor=ct),this.style.update(st)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new w.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new w.Event("load"))),this.style&&(this.style.hasTransitions()||it)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var pt=w.browser.now()-rt;nt.endQueryEXT(nt.TIME_ELAPSED_EXT,et),setTimeout((function(){var Ne=nt.getQueryObjectEXT(et,nt.QUERY_RESULT_EXT)/1e6;nt.deleteQueryEXT(et),tt.fire(new w.Event("gpu-timing-frame",{cpuTime:pt,gpuTime:Ne}))}),50)}if(this.listens("gpu-timing-layer")){var ft=this.painter.collectGpuTimers();setTimeout((function(){var Ne=tt.painter.queryGpuTimers(ft);tt.fire(new w.Event("gpu-timing-layer",{layerTimes:Ne}))}),50)}var dt=this._sourcesDirty||this._styleDirty||this._placementDirty;return dt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new w.Event("idle")),!this._loaded||this._fullyLoaded||dt||(this._fullyLoaded=!0),this}},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var Ne=0,et=this._controls;Ne<et.length;Ne+=1)et[Ne].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==w.window&&(w.window.removeEventListener("resize",this._onWindowResize,!1),w.window.removeEventListener("online",this._onWindowOnline,!1));var tt=this.painter.context.gl.getExtension("WEBGL_lose_context");tt&&tt.loseContext(),Cr(this._canvasContainer),Cr(this._controlContainer),Cr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new w.Event("remove"))},r.prototype.triggerRepaint=function(){var Ne=this;this.style&&!this._frame&&(this._frame=w.browser.frame((function(w){Ne._frame=null,Ne._render(w)})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(w){this._trackResize&&this.resize({originalEvent:w})._update()},rt.showTileBoundaries.get=function(){return!!this._showTileBoundaries},rt.showTileBoundaries.set=function(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())},rt.showPadding.get=function(){return!!this._showPadding},rt.showPadding.set=function(w){this._showPadding!==w&&(this._showPadding=w,this._update())},rt.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},rt.showCollisionBoxes.set=function(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())},rt.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},rt.showOverdrawInspector.set=function(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())},rt.repaint.get=function(){return!!this._repaint},rt.repaint.set=function(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())},rt.vertices.get=function(){return!!this._vertices},rt.vertices.set=function(w){this._vertices=w,this._update()},r.prototype._setCacheLimits=function(Ne,et){w.setCacheLimits(Ne,et)},rt.version.get=function(){return w.version},Object.defineProperties(r.prototype,rt),r}(op);function Cr(w){w.parentNode&&w.parentNode.removeChild(w)}var fp={showCompass:!0,showZoom:!0,visualizePitch:!1},Dr=function(Ne){var tt=this;this.options=w.extend({},fp,Ne),this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(w){return w.preventDefault()})),this.options.showZoom&&(w.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(w){return tt._map.zoomIn({},{originalEvent:w})})),et.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(w){return tt._map.zoomOut({},{originalEvent:w})})),et.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(w.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(w){tt.options.visualizePitch?tt._map.resetNorthPitch({},{originalEvent:w}):tt._map.resetNorth({},{originalEvent:w})})),this._compassIcon=et.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Dr.prototype._updateZoomButtons=function(){var w=this._map.getZoom();this._zoomInButton.disabled=w===this._map.getMaxZoom(),this._zoomOutButton.disabled=w===this._map.getMinZoom()},Dr.prototype._rotateCompassArrow=function(){var w=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=w},Dr.prototype.onAdd=function(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Mr(this._map,this._compass,this.options.visualizePitch)),this._container},Dr.prototype.onRemove=function(){et.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Dr.prototype._createButton=function(w,Ne){var tt=et.create("button",w,this._container);return tt.type="button",tt.addEventListener("click",Ne),tt},Dr.prototype._setButtonTitle=function(w,Ne){var et=this._map._getUIString("NavigationControl."+Ne);w.title=et,w.setAttribute("aria-label",et)};var Mr=function(Ne,tt,rt){void 0===rt&&(rt=!1),this._clickTolerance=10,this.element=tt,this.mouseRotate=new Zc({clickTolerance:Ne.dragRotate._mouseRotate._clickTolerance}),this.map=Ne,rt&&(this.mousePitch=new Hc({clickTolerance:Ne.dragRotate._mousePitch._clickTolerance})),w.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),et.addEventListener(tt,"mousedown",this.mousedown),et.addEventListener(tt,"touchstart",this.touchstart,{passive:!1}),et.addEventListener(tt,"touchmove",this.touchmove),et.addEventListener(tt,"touchend",this.touchend),et.addEventListener(tt,"touchcancel",this.reset)};function Lr(Ne,et,tt){if(Ne=new w.LngLat(Ne.lng,Ne.lat),et){var rt=new w.LngLat(Ne.lng-360,Ne.lat),nt=new w.LngLat(Ne.lng+360,Ne.lat),it=tt.locationPoint(Ne).distSqr(et);tt.locationPoint(rt).distSqr(et)<it?Ne=rt:tt.locationPoint(nt).distSqr(et)<it&&(Ne=nt)}for(;Math.abs(Ne.lng-tt.center.lng)>180;){var ot=tt.locationPoint(Ne);if(ot.x>=0&&ot.y>=0&&ot.x<=tt.width&&ot.y<=tt.height)break;Ne.lng>tt.center.lng?Ne.lng-=360:Ne.lng+=360}return Ne}Mr.prototype.down=function(w,Ne){this.mouseRotate.mousedown(w,Ne),this.mousePitch&&this.mousePitch.mousedown(w,Ne),et.disableDrag()},Mr.prototype.move=function(w,Ne){var et=this.map,tt=this.mouseRotate.mousemoveWindow(w,Ne);if(tt&&tt.bearingDelta&&et.setBearing(et.getBearing()+tt.bearingDelta),this.mousePitch){var rt=this.mousePitch.mousemoveWindow(w,Ne);rt&&rt.pitchDelta&&et.setPitch(et.getPitch()+rt.pitchDelta)}},Mr.prototype.off=function(){var w=this.element;et.removeEventListener(w,"mousedown",this.mousedown),et.removeEventListener(w,"touchstart",this.touchstart,{passive:!1}),et.removeEventListener(w,"touchmove",this.touchmove),et.removeEventListener(w,"touchend",this.touchend),et.removeEventListener(w,"touchcancel",this.reset),this.offTemp()},Mr.prototype.offTemp=function(){et.enableDrag(),et.removeEventListener(w.window,"mousemove",this.mousemove),et.removeEventListener(w.window,"mouseup",this.mouseup)},Mr.prototype.mousedown=function(Ne){this.down(w.extend({},Ne,{ctrlKey:!0,preventDefault:function(){return Ne.preventDefault()}}),et.mousePos(this.element,Ne)),et.addEventListener(w.window,"mousemove",this.mousemove),et.addEventListener(w.window,"mouseup",this.mouseup)},Mr.prototype.mousemove=function(w){this.move(w,et.mousePos(this.element,w))},Mr.prototype.mouseup=function(w){this.mouseRotate.mouseupWindow(w),this.mousePitch&&this.mousePitch.mouseupWindow(w),this.offTemp()},Mr.prototype.touchstart=function(w){1!==w.targetTouches.length?this.reset():(this._startPos=this._lastPos=et.touchPos(this.element,w.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return w.preventDefault()}},this._startPos))},Mr.prototype.touchmove=function(w){1!==w.targetTouches.length?this.reset():(this._lastPos=et.touchPos(this.element,w.targetTouches)[0],this.move({preventDefault:function(){return w.preventDefault()}},this._lastPos))},Mr.prototype.touchend=function(w){0===w.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Mr.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var dp={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rr(w,Ne,et){var tt=w.classList;for(var rt in dp)tt.remove("mapboxgl-"+et+"-anchor-"+rt);tt.add("mapboxgl-"+et+"-anchor-"+Ne)}var mp,gp=function(Ne){function o(tt,rt){var nt=this;if(Ne.call(this),(tt instanceof w.window.HTMLElement||rt)&&(tt=w.extend({element:tt},rt)),w.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=tt&&tt.anchor||"center",this._color=tt&&tt.color||"#3FB1CE",this._scale=tt&&tt.scale||1,this._draggable=tt&&tt.draggable||!1,this._state="inactive",this._rotation=tt&&tt.rotation||0,this._rotationAlignment=tt&&tt.rotationAlignment||"auto",this._pitchAlignment=tt&&tt.pitchAlignment&&"auto"!==tt.pitchAlignment?tt.pitchAlignment:this._rotationAlignment,tt&&tt.element)this._element=tt.element,this._offset=w.Point.convert(tt&&tt.offset||[0,0]);else{this._defaultMarker=!0,this._element=et.create("div"),this._element.setAttribute("aria-label","Map marker");var it=et.createNS("http://www.w3.org/2000/svg","svg");it.setAttributeNS(null,"display","block"),it.setAttributeNS(null,"height","41px"),it.setAttributeNS(null,"width","27px"),it.setAttributeNS(null,"viewBox","0 0 27 41");var ot=et.createNS("http://www.w3.org/2000/svg","g");ot.setAttributeNS(null,"stroke","none"),ot.setAttributeNS(null,"stroke-width","1"),ot.setAttributeNS(null,"fill","none"),ot.setAttributeNS(null,"fill-rule","evenodd");var at=et.createNS("http://www.w3.org/2000/svg","g");at.setAttributeNS(null,"fill-rule","nonzero");var st=et.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"transform","translate(3.0, 29.0)"),st.setAttributeNS(null,"fill","#000000");for(var ct=0,pt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ct<pt.length;ct+=1){var ft=pt[ct],dt=et.createNS("http://www.w3.org/2000/svg","ellipse");dt.setAttributeNS(null,"opacity","0.04"),dt.setAttributeNS(null,"cx","10.5"),dt.setAttributeNS(null,"cy","5.80029008"),dt.setAttributeNS(null,"rx",ft.rx),dt.setAttributeNS(null,"ry",ft.ry),st.appendChild(dt)}var mt=et.createNS("http://www.w3.org/2000/svg","g");mt.setAttributeNS(null,"fill",this._color);var yt=et.createNS("http://www.w3.org/2000/svg","path");yt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),mt.appendChild(yt);var vt=et.createNS("http://www.w3.org/2000/svg","g");vt.setAttributeNS(null,"opacity","0.25"),vt.setAttributeNS(null,"fill","#000000");var Rt=et.createNS("http://www.w3.org/2000/svg","path");Rt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),vt.appendChild(Rt);var Ot=et.createNS("http://www.w3.org/2000/svg","g");Ot.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ot.setAttributeNS(null,"fill","#FFFFFF");var Dt=et.createNS("http://www.w3.org/2000/svg","g");Dt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Bt=et.createNS("http://www.w3.org/2000/svg","circle");Bt.setAttributeNS(null,"fill","#000000"),Bt.setAttributeNS(null,"opacity","0.25"),Bt.setAttributeNS(null,"cx","5.5"),Bt.setAttributeNS(null,"cy","5.5"),Bt.setAttributeNS(null,"r","5.4999962");var er=et.createNS("http://www.w3.org/2000/svg","circle");er.setAttributeNS(null,"fill","#FFFFFF"),er.setAttributeNS(null,"cx","5.5"),er.setAttributeNS(null,"cy","5.5"),er.setAttributeNS(null,"r","5.4999962"),Dt.appendChild(Bt),Dt.appendChild(er),at.appendChild(st),at.appendChild(mt),at.appendChild(vt),at.appendChild(Ot),at.appendChild(Dt),it.appendChild(at),it.setAttributeNS(null,"height",41*this._scale+"px"),it.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(it),this._offset=w.Point.convert(tt&&tt.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(w){w.preventDefault()})),this._element.addEventListener("mousedown",(function(w){w.preventDefault()})),this._element.addEventListener("focus",(function(){var w=nt._map.getContainer();w.scrollTop=0,w.scrollLeft=0})),Rr(this._element,this._anchor,"marker"),this._popup=null}return Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o,o.prototype.addTo=function(w){return this.remove(),this._map=w,w.getCanvasContainer().appendChild(this._element),w.on("move",this._update),w.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},o.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),et.remove(this._element),this._popup&&this._popup.remove(),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(Ne){return this._lngLat=w.LngLat.convert(Ne),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},o.prototype.getElement=function(){return this._element},o.prototype.setPopup=function(w){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),w){if(!("offset"in w.options)){var Ne=Math.sqrt(Math.pow(13.5,2)/2);w.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[Ne,-1*(24.6+Ne)],"bottom-right":[-Ne,-1*(24.6+Ne)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=w,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},o.prototype._onKeyPress=function(w){var Ne=w.code,et=w.charCode||w.keyCode;"Space"!==Ne&&"Enter"!==Ne&&32!==et&&13!==et||this.togglePopup()},o.prototype._onMapClick=function(w){var Ne=w.originalEvent.target,et=this._element;this._popup&&(Ne===et||et.contains(Ne))&&this.togglePopup()},o.prototype.getPopup=function(){return this._popup},o.prototype.togglePopup=function(){var w=this._popup;return w?(w.isOpen()?w.remove():w.addTo(this._map),this):this},o.prototype._update=function(w){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var Ne="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?Ne="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(Ne="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var tt="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?tt="rotateX(0deg)":"map"===this._pitchAlignment&&(tt="rotateX("+this._map.getPitch()+"deg)"),w&&"moveend"!==w.type||(this._pos=this._pos.round()),et.setTransform(this._element,dp[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+tt+" "+Ne)}},o.prototype.getOffset=function(){return this._offset},o.prototype.setOffset=function(Ne){return this._offset=w.Point.convert(Ne),this._update(),this},o.prototype._onMove=function(Ne){this._pos=Ne.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new w.Event("dragstart"))),this.fire(new w.Event("drag"))},o.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new w.Event("dragend")),this._state="inactive"},o.prototype._addDragHandler=function(w){this._element.contains(w.originalEvent.target)&&(w.preventDefault(),this._positionDelta=w.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},o.prototype.setDraggable=function(w){return this._draggable=!!w,this._map&&(w?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},o.prototype.isDraggable=function(){return this._draggable},o.prototype.setRotation=function(w){return this._rotation=w||0,this._update(),this},o.prototype.getRotation=function(){return this._rotation},o.prototype.setRotationAlignment=function(w){return this._rotationAlignment=w||"auto",this._update(),this},o.prototype.getRotationAlignment=function(){return this._rotationAlignment},o.prototype.setPitchAlignment=function(w){return this._pitchAlignment=w&&"auto"!==w?w:this._rotationAlignment,this._update(),this},o.prototype.getPitchAlignment=function(){return this._pitchAlignment},o}(w.Evented),yp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},vp=0,_p=!1,bp=function(Ne){function o(et){Ne.call(this),this.options=w.extend({},yp,et),w.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o,o.prototype.onAdd=function(Ne){var tt;return this._map=Ne,this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),tt=this._setupUI,void 0!==mp?tt(mp):void 0!==w.window.navigator.permissions?w.window.navigator.permissions.query({name:"geolocation"}).then((function(w){tt(mp="denied"!==w.state)})):tt(mp=!!w.window.navigator.geolocation),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(w.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),et.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,vp=0,_p=!1},o.prototype._isOutOfMapMaxBounds=function(w){var Ne=this._map.getMaxBounds(),et=w.coords;return Ne&&(et.longitude<Ne.getWest()||et.longitude>Ne.getEast()||et.latitude<Ne.getSouth()||et.latitude>Ne.getNorth())},o.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},o.prototype._onSuccess=function(Ne){if(this._map){if(this._isOutOfMapMaxBounds(Ne))return this._setErrorState(),this.fire(new w.Event("outofmaxbounds",Ne)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=Ne,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(Ne),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(Ne),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new w.Event("geolocate",Ne)),this._finish()}},o.prototype._updateCamera=function(Ne){var et=new w.LngLat(Ne.coords.longitude,Ne.coords.latitude),tt=Ne.coords.accuracy,rt=this._map.getBearing(),nt=w.extend({bearing:rt},this.options.fitBoundsOptions);this._map.fitBounds(et.toBounds(tt),nt,{geolocateSource:!0})},o.prototype._updateMarker=function(Ne){if(Ne){var et=new w.LngLat(Ne.coords.longitude,Ne.coords.latitude);this._accuracyCircleMarker.setLngLat(et).addTo(this._map),this._userLocationDotMarker.setLngLat(et).addTo(this._map),this._accuracy=Ne.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},o.prototype._updateCircleRadius=function(){var w=this._map._container.clientHeight/2,Ne=this._map.unproject([0,w]),et=this._map.unproject([1,w]),tt=Ne.distanceTo(et),rt=Math.ceil(2*this._accuracy/tt);this._circleElement.style.width=rt+"px",this._circleElement.style.height=rt+"px"},o.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},o.prototype._onError=function(Ne){if(this._map){if(this.options.trackUserLocation)if(1===Ne.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var et=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=et,this._geolocateButton.setAttribute("aria-label",et),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===Ne.code&&_p)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new w.Event("error",Ne)),this._finish()}},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(Ne){var tt=this;if(this._container.addEventListener("contextmenu",(function(w){return w.preventDefault()})),this._geolocateButton=et.create("button","mapboxgl-ctrl-geolocate",this._container),et.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===Ne){w.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var rt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=rt,this._geolocateButton.setAttribute("aria-label",rt)}else{var nt=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=nt,this._geolocateButton.setAttribute("aria-label",nt)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=et.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new gp(this._dotElement),this._circleElement=et.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new gp({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(Ne){Ne.geolocateSource||"ACTIVE_LOCK"!==tt._watchState||Ne.originalEvent&&"resize"===Ne.originalEvent.type||(tt._watchState="BACKGROUND",tt._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),tt._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),tt.fire(new w.Event("trackuserlocationend")))}))},o.prototype.trigger=function(){if(!this._setup)return w.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new w.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":vp--,_p=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new w.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new w.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var Ne;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++vp>1?(Ne={maximumAge:6e5,timeout:0},_p=!0):(Ne=this.options.positionOptions,_p=!1),this._geolocationWatchID=w.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,Ne)}}else w.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},o.prototype._clearWatch=function(){w.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(w.Evented),xp={maxWidth:100,unit:"metric"},jr=function(Ne){this.options=w.extend({},xp,Ne),w.bindAll(["_onMove","setUnit"],this)};function qr(w,Ne,et){var tt=et&&et.maxWidth||100,rt=w._container.clientHeight/2,nt=w.unproject([0,rt]),it=w.unproject([tt,rt]),ot=nt.distanceTo(it);if(et&&"imperial"===et.unit){var at=3.2808*ot;at>5280?Vr(Ne,tt,at/5280,w._getUIString("ScaleControl.Miles")):Vr(Ne,tt,at,w._getUIString("ScaleControl.Feet"))}else et&&"nautical"===et.unit?Vr(Ne,tt,ot/1852,w._getUIString("ScaleControl.NauticalMiles")):ot>=1e3?Vr(Ne,tt,ot/1e3,w._getUIString("ScaleControl.Kilometers")):Vr(Ne,tt,ot,w._getUIString("ScaleControl.Meters"))}function Vr(w,Ne,et,tt){var rt,nt,it,ot=(rt=et,(nt=Math.pow(10,(""+Math.floor(rt)).length-1))*(it=(it=rt/nt)>=10?10:it>=5?5:it>=3?3:it>=2?2:it>=1?1:function(w){var Ne=Math.pow(10,Math.ceil(-Math.log(w)/Math.LN10));return Math.round(w*Ne)/Ne}(it)));w.style.width=Ne*(ot/et)+"px",w.innerHTML=ot+"&nbsp;"+tt}jr.prototype.getDefaultPosition=function(){return"bottom-left"},jr.prototype._onMove=function(){qr(this._map,this._container,this.options)},jr.prototype.onAdd=function(w){return this._map=w,this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",w.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jr.prototype.onRemove=function(){et.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jr.prototype.setUnit=function(w){this.options.unit=w,qr(this._map,this._container,this.options)};var Gr=function(Ne){this._fullscreen=!1,Ne&&Ne.container&&(Ne.container instanceof w.window.HTMLElement?this._container=Ne.container:w.warnOnce("Full screen control 'container' must be a DOM element.")),w.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in w.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in w.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in w.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in w.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gr.prototype.onAdd=function(Ne){return this._map=Ne,this._container||(this._container=this._map.getContainer()),this._controlContainer=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",w.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gr.prototype.onRemove=function(){et.remove(this._controlContainer),this._map=null,w.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._checkFullscreenSupport=function(){return!!(w.window.document.fullscreenEnabled||w.window.document.mozFullScreenEnabled||w.window.document.msFullscreenEnabled||w.window.document.webkitFullscreenEnabled)},Gr.prototype._setupUI=function(){var Ne=this._fullscreenButton=et.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);et.create("span","mapboxgl-ctrl-icon",Ne).setAttribute("aria-hidden",!0),Ne.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),w.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._updateTitle=function(){var w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.title=w},Gr.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gr.prototype._isFullscreen=function(){return this._fullscreen},Gr.prototype._changeIcon=function(){(w.window.document.fullscreenElement||w.window.document.mozFullScreenElement||w.window.document.webkitFullscreenElement||w.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gr.prototype._onClickFullscreen=function(){this._isFullscreen()?w.window.document.exitFullscreen?w.window.document.exitFullscreen():w.window.document.mozCancelFullScreen?w.window.document.mozCancelFullScreen():w.window.document.msExitFullscreen?w.window.document.msExitFullscreen():w.window.document.webkitCancelFullScreen&&w.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var wp={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},kp=function(Ne){function o(et){Ne.call(this),this.options=w.extend(Object.create(wp),et),w.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o,o.prototype.addTo=function(Ne){return this._map&&this.remove(),this._map=Ne,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new w.Event("open")),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&et.remove(this._content),this._container&&(et.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new w.Event("close")),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(Ne){return this._lngLat=w.LngLat.convert(Ne),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},o.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},o.prototype.getElement=function(){return this._container},o.prototype.setText=function(Ne){return this.setDOMContent(w.window.document.createTextNode(Ne))},o.prototype.setHTML=function(Ne){var et,tt=w.window.document.createDocumentFragment(),rt=w.window.document.createElement("body");for(rt.innerHTML=Ne;et=rt.firstChild;)tt.appendChild(et);return this.setDOMContent(tt)},o.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},o.prototype.setMaxWidth=function(w){return this.options.maxWidth=w,this._update(),this},o.prototype.setDOMContent=function(w){return this._createContent(),this._content.appendChild(w),this._update(),this},o.prototype.addClassName=function(w){this._container&&this._container.classList.add(w)},o.prototype.removeClassName=function(w){this._container&&this._container.classList.remove(w)},o.prototype.toggleClassName=function(w){if(this._container)return this._container.classList.toggle(w)},o.prototype._createContent=function(){this._content&&et.remove(this._content),this._content=et.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=et.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},o.prototype._onMouseUp=function(w){this._update(w.point)},o.prototype._onMouseMove=function(w){this._update(w.point)},o.prototype._onDrag=function(w){this._update(w.point)},o.prototype._update=function(Ne){var tt=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=et.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=et.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(w){return tt._container.classList.add(w)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||Ne)){var rt=this._pos=this._trackPointer&&Ne?Ne:this._map.project(this._lngLat),nt=this.options.anchor,it=function e(Ne){if(Ne){if("number"==typeof Ne){var et=Math.round(Math.sqrt(.5*Math.pow(Ne,2)));return{center:new w.Point(0,0),top:new w.Point(0,Ne),"top-left":new w.Point(et,et),"top-right":new w.Point(-et,et),bottom:new w.Point(0,-Ne),"bottom-left":new w.Point(et,-et),"bottom-right":new w.Point(-et,-et),left:new w.Point(Ne,0),right:new w.Point(-Ne,0)}}if(Ne instanceof w.Point||Array.isArray(Ne)){var tt=w.Point.convert(Ne);return{center:tt,top:tt,"top-left":tt,"top-right":tt,bottom:tt,"bottom-left":tt,"bottom-right":tt,left:tt,right:tt}}return{center:w.Point.convert(Ne.center||[0,0]),top:w.Point.convert(Ne.top||[0,0]),"top-left":w.Point.convert(Ne["top-left"]||[0,0]),"top-right":w.Point.convert(Ne["top-right"]||[0,0]),bottom:w.Point.convert(Ne.bottom||[0,0]),"bottom-left":w.Point.convert(Ne["bottom-left"]||[0,0]),"bottom-right":w.Point.convert(Ne["bottom-right"]||[0,0]),left:w.Point.convert(Ne.left||[0,0]),right:w.Point.convert(Ne.right||[0,0])}}return e(new w.Point(0,0))}(this.options.offset);if(!nt){var ot,at=this._container.offsetWidth,st=this._container.offsetHeight;ot=rt.y+it.bottom.y<st?["top"]:rt.y>this._map.transform.height-st?["bottom"]:[],rt.x<at/2?ot.push("left"):rt.x>this._map.transform.width-at/2&&ot.push("right"),nt=0===ot.length?"bottom":ot.join("-")}var ct=rt.add(it[nt]).round();et.setTransform(this._container,dp[nt]+" translate("+ct.x+"px,"+ct.y+"px)"),Rr(this._container,nt,"popup")}},o.prototype._onClose=function(){this.remove()},o}(w.Evented),Sp={version:w.version,supported:Ne,setRTLTextPlugin:w.setRTLTextPlugin,getRTLTextPluginStatus:w.getRTLTextPluginStatus,Map:hp,NavigationControl:Dr,GeolocateControl:bp,AttributionControl:yr,ScaleControl:jr,FullscreenControl:Gr,Popup:kp,Marker:gp,Style:Ns,LngLat:w.LngLat,LngLatBounds:w.LngLatBounds,Point:w.Point,MercatorCoordinate:w.MercatorCoordinate,Evented:w.Evented,config:w.config,prewarm:function(){Ft().acquire(us)},clearPrewarmedResources:function(){var w=fs;w&&(w.isPreloaded()&&1===w.numActive()?(w.release(us),fs=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return w.config.ACCESS_TOKEN},set accessToken(Ne){w.config.ACCESS_TOKEN=Ne},get baseApiUrl(){return w.config.API_URL},set baseApiUrl(Ne){w.config.API_URL=Ne},get workerCount(){return kt.workerCount},set workerCount(w){kt.workerCount=w},get maxParallelImageRequests(){return w.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(Ne){w.config.MAX_PARALLEL_IMAGE_REQUESTS=Ne},clearStorage:function(Ne){w.clearTileCache(Ne)},workerUrl:""};return Sp})),et}()},function(w,Ne,et){var tt=et(74);w.exports=function(w){return Object(tt(w))}},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(227);tt({target:"Set",proto:!0,real:!0,forced:rt},{addAll:function addAll(){return nt.apply(this,arguments)}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(100);tt({target:"Set",proto:!0,real:!0,forced:rt},{deleteAll:function deleteAll(){return nt.apply(this,arguments)}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(30),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{difference:function difference(w){var Ne=it(this),et=new(at(Ne,nt("Set")))(Ne),tt=ot(et.delete);return st(w,(function(w){tt.call(et,w)})),et}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(17),ot=et(44),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{every:function every(w){var Ne=nt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return!at(et,(function(w){if(!tt(w,w,Ne))return at.stop()}),void 0,!1,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(17),st=et(30),ct=et(44),pt=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{filter:function filter(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),rt=new(st(Ne,nt("Set"))),ft=ot(rt.add);return pt(et,(function(w){tt(w,w,Ne)&&ft.call(rt,w)}),void 0,!1,!0),rt}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(17),ot=et(44),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{find:function find(w){var Ne=nt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w){if(tt(w,w,Ne))return at.stop(w)}),void 0,!1,!0).result}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(30),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{intersection:function intersection(w){var Ne=it(this),et=new(at(Ne,nt("Set"))),tt=ot(Ne.has),rt=ot(et.add);return st(w,(function(w){tt.call(Ne,w)&&rt.call(et,w)})),et}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(13),ot=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{isDisjointFrom:function isDisjointFrom(w){var Ne=nt(this),et=it(Ne.has);return!ot(w,(function(w){if(!0===et.call(Ne,w))return ot.stop()})).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(101),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{isSubsetOf:function isSubsetOf(w){var Ne=at(this),et=it(w),tt=et.has;return"function"!=typeof tt&&(et=new(nt("Set"))(w),tt=ot(et.has)),!st(Ne,(function(w){if(!1===tt.call(et,w))return st.stop()}),void 0,!1,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(13),ot=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{isSupersetOf:function isSupersetOf(w){var Ne=nt(this),et=it(Ne.has);return!ot(w,(function(w){if(!1===et.call(Ne,w))return ot.stop()})).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(44),ot=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{join:function join(w){var Ne=nt(this),et=it(Ne),tt=void 0===w?",":String(w),rt=[];return ot(et,rt.push,rt,!1,!0),rt.join(tt)}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(17),st=et(30),ct=et(44),pt=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{map:function map(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),rt=new(st(Ne,nt("Set"))),ft=ot(rt.add);return pt(et,(function(w){ft.call(rt,tt(w,w,Ne))}),void 0,!1,!0),rt}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(13),ot=et(44),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{reduce:function reduce(w){var Ne=nt(this),et=ot(Ne),tt=arguments.length<2,rt=tt?void 0:arguments[1];if(it(w),at(et,(function(et){tt?(tt=!1,rt=et):rt=w(rt,et,et,Ne)}),void 0,!1,!0),tt)throw TypeError("Reduce of empty set with no initial value");return rt}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(17),ot=et(44),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{some:function some(w){var Ne=nt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w){if(tt(w,w,Ne))return at.stop()}),void 0,!1,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(30),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{symmetricDifference:function symmetricDifference(w){var Ne=it(this),et=new(at(Ne,nt("Set")))(Ne),tt=ot(et.delete),rt=ot(et.add);return st(w,(function(w){tt.call(et,w)||rt.call(et,w)})),et}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(30),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:rt},{union:function union(w){var Ne=it(this),et=new(at(Ne,nt("Set")))(Ne);return st(w,ot(et.add),et),et}})},function(w,Ne,et){var tt=et(34),rt=et(208);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},function(w,Ne,et){var tt=et(34),rt=et(247);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},function(w,Ne,et){"use strict";var tt=et(184),rt=et(6),nt=et(47),it=et(29),ot=et(43),at=et(74),st=et(196),ct=et(198),pt=Math.max,ft=Math.min,dt=Math.floor,mt=/\$([$&'`]|\d\d?|<[^>]*>)/g,yt=/\$([$&'`]|\d\d?)/g;tt("replace",2,(function(w,Ne,et,tt){var vt=tt.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Rt=tt.REPLACE_KEEPS_$0,Ot=vt?"$":"$0";return[function replace(et,tt){var rt=at(this),nt=null==et?void 0:et[w];return void 0!==nt?nt.call(et,rt,tt):Ne.call(String(rt),et,tt)},function(w,tt){if(!vt&&Rt||"string"==typeof tt&&-1===tt.indexOf(Ot)){var nt=et(Ne,w,this,tt);if(nt.done)return nt.value}var at=rt(w),dt=String(this),mt="function"==typeof tt;mt||(tt=String(tt));var yt=at.global;if(yt){var Dt=at.unicode;at.lastIndex=0}for(var Bt=[];;){var er=ct(at,dt);if(null===er)break;if(Bt.push(er),!yt)break;""===String(er[0])&&(at.lastIndex=st(dt,it(at.lastIndex),Dt))}for(var rr,vr="",wr=0,Sr=0;Sr<Bt.length;Sr++){er=Bt[Sr];for(var rn=String(er[0]),vn=pt(ft(ot(er.index),dt.length),0),bn=[],Tn=1;Tn<er.length;Tn++)bn.push(void 0===(rr=er[Tn])?rr:String(rr));var Cn=er.groups;if(mt){var In=[rn].concat(bn,vn,dt);void 0!==Cn&&In.push(Cn);var zn=String(tt.apply(void 0,In))}else zn=getSubstitution(rn,dt,vn,bn,Cn,tt);vn>=wr&&(vr+=dt.slice(wr,vn)+zn,wr=vn+rn.length)}return vr+dt.slice(wr)}];function getSubstitution(w,et,tt,rt,it,ot){var at=tt+w.length,st=rt.length,ct=yt;return void 0!==it&&(it=nt(it),ct=mt),Ne.call(ot,ct,(function(Ne,nt){var ot;switch(nt.charAt(0)){case"$":return"$";case"&":return w;case"`":return et.slice(0,tt);case"'":return et.slice(at);case"<":ot=it[nt.slice(1,-1)];break;default:var ct=+nt;if(0===ct)return Ne;if(ct>st){var pt=dt(ct/10);return 0===pt?Ne:pt<=st?void 0===rt[pt-1]?nt.charAt(1):rt[pt-1]+nt.charAt(1):Ne}ot=rt[ct-1]}return void 0===ot?"":ot}))}}))},function(w,Ne,et){var tt=et(14),rt=et(36),nt=et(27),it=et(88),ot=et(89),at=et(75),st=at.get,ct=at.enforce,pt=String(String).split("String");(w.exports=function(w,Ne,et,ot){var at=!!ot&&!!ot.unsafe,st=!!ot&&!!ot.enumerable,ft=!!ot&&!!ot.noTargetGet;"function"==typeof et&&("string"!=typeof Ne||nt(et,"name")||rt(et,"name",Ne),ct(et).source=pt.join("string"==typeof Ne?Ne:"")),w!==tt?(at?!ft&&w[Ne]&&(st=!0):delete w[Ne],st?w[Ne]=et:rt(w,Ne,et)):st?w[Ne]=et:it(Ne,et)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&st(this).source||ot(this)}))},function(w,Ne,et){"use strict";function _typeof(w){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(w){return typeof w}:function _typeof(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(w)}et.d(Ne,"a",(function(){return _typeof}))},function(w,Ne,et){"use strict";function _assertThisInitialized(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}et.d(Ne,"a",(function(){return _assertThisInitialized}))},function(w,Ne,et){"use strict";function _arrayLikeToArray(w,Ne){(null==Ne||Ne>w.length)&&(Ne=w.length);for(var et=0,tt=new Array(Ne);et<Ne;et++)tt[et]=w[et];return tt}et.d(Ne,"a",(function(){return _arrayLikeToArray}))},function(w,Ne,et){var tt=et(34),rt=et(252);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},function(w,Ne){var et;et=function(){return this}();try{et=et||new Function("return this")()}catch(w){"object"==typeof window&&(et=window)}w.exports=et},function(w,Ne,et){var tt=et(26),rt=et(186),nt=et(84),it=et(85),ot=et(86),at=et(27),st=et(115),ct=Object.getOwnPropertyDescriptor;Ne.f=tt?ct:function getOwnPropertyDescriptor(w,Ne){if(w=it(w),Ne=ot(Ne,!0),st)try{return ct(w,Ne)}catch(w){}if(at(w,Ne))return nt(!rt.f.call(w,Ne),w[Ne])}},function(w,Ne){w.exports=function(w){if(null==w)throw TypeError("Can't call method on "+w);return w}},function(w,Ne,et){var tt,rt,nt,it=et(187),ot=et(14),at=et(25),st=et(36),ct=et(27),pt=et(90),ft=et(92),dt=ot.WeakMap;if(it){var mt=new dt,yt=mt.get,vt=mt.has,Rt=mt.set;tt=function(w,Ne){return Rt.call(mt,w,Ne),Ne},rt=function(w){return yt.call(mt,w)||{}},nt=function(w){return vt.call(mt,w)}}else{var Ot=pt("state");ft[Ot]=!0,tt=function(w,Ne){return st(w,Ot,Ne),Ne},rt=function(w){return ct(w,Ot)?w[Ot]:{}},nt=function(w){return ct(w,Ot)}}w.exports={set:tt,get:rt,has:nt,enforce:function(w){return nt(w)?rt(w):tt(w,{})},getterFor:function(w){return function(Ne){var et;if(!at(Ne)||(et=rt(Ne)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return et}}}},function(w,Ne,et){"use strict";var tt,rt,nt,it,ot=et(10),at=et(9),st=et(14),ct=et(19),pt=et(200),ft=et(67),dt=et(122),mt=et(123),yt=et(124),vt=et(25),Rt=et(13),Ot=et(96),Dt=et(42),Bt=et(89),er=et(11),rr=et(127),vr=et(30),wr=et(128).set,Sr=et(203),rn=et(204),vn=et(205),bn=et(132),Tn=et(206),Cn=et(75),In=et(120),zn=et(23),Mn=et(207),Ln=zn("species"),Fn="Promise",Bn=Cn.get,Nn=Cn.set,Vn=Cn.getterFor(Fn),Wn=pt,$n=st.TypeError,Yn=st.document,ii=st.process,qi=ct("fetch"),uo=bn.f,po=uo,vo="process"==Dt(ii),So=!!(Yn&&Yn.createEvent&&st.dispatchEvent),ea=In(Fn,(function(){if(!(Bt(Wn)!==String(Wn))){if(66===Mn)return!0;if(!vo&&"function"!=typeof PromiseRejectionEvent)return!0}if(at&&!Wn.prototype.finally)return!0;if(Mn>=51&&/native code/.test(Wn))return!1;var w=Wn.resolve(1),FakePromise=function(w){w((function(){}),(function(){}))};return(w.constructor={})[Ln]=FakePromise,!(w.then((function(){}))instanceof FakePromise)})),ta=ea||!rr((function(w){Wn.all(w).catch((function(){}))})),isThenable=function(w){var Ne;return!(!vt(w)||"function"!=typeof(Ne=w.then))&&Ne},notify=function(w,Ne,et){if(!Ne.notified){Ne.notified=!0;var tt=Ne.reactions;Sr((function(){for(var rt=Ne.value,nt=1==Ne.state,it=0;tt.length>it;){var ot,at,st,ct=tt[it++],pt=nt?ct.ok:ct.fail,ft=ct.resolve,dt=ct.reject,mt=ct.domain;try{pt?(nt||(2===Ne.rejection&&onHandleUnhandled(w,Ne),Ne.rejection=1),!0===pt?ot=rt:(mt&&mt.enter(),ot=pt(rt),mt&&(mt.exit(),st=!0)),ot===ct.promise?dt($n("Promise-chain cycle")):(at=isThenable(ot))?at.call(ot,ft,dt):ft(ot)):dt(rt)}catch(w){mt&&!st&&mt.exit(),dt(w)}}Ne.reactions=[],Ne.notified=!1,et&&!Ne.rejection&&onUnhandled(w,Ne)}))}},dispatchEvent=function(w,Ne,et){var tt,rt;So?((tt=Yn.createEvent("Event")).promise=Ne,tt.reason=et,tt.initEvent(w,!1,!0),st.dispatchEvent(tt)):tt={promise:Ne,reason:et},(rt=st["on"+w])?rt(tt):"unhandledrejection"===w&&vn("Unhandled promise rejection",et)},onUnhandled=function(w,Ne){wr.call(st,(function(){var et,tt=Ne.value;if(isUnhandled(Ne)&&(et=Tn((function(){vo?ii.emit("unhandledRejection",tt,w):dispatchEvent("unhandledrejection",w,tt)})),Ne.rejection=vo||isUnhandled(Ne)?2:1,et.error))throw et.value}))},isUnhandled=function(w){return 1!==w.rejection&&!w.parent},onHandleUnhandled=function(w,Ne){wr.call(st,(function(){vo?ii.emit("rejectionHandled",w):dispatchEvent("rejectionhandled",w,Ne.value)}))},bind=function(w,Ne,et,tt){return function(rt){w(Ne,et,rt,tt)}},internalReject=function(w,Ne,et,tt){Ne.done||(Ne.done=!0,tt&&(Ne=tt),Ne.value=et,Ne.state=2,notify(w,Ne,!0))},internalResolve=function(w,Ne,et,tt){if(!Ne.done){Ne.done=!0,tt&&(Ne=tt);try{if(w===et)throw $n("Promise can't be resolved itself");var rt=isThenable(et);rt?Sr((function(){var tt={done:!1};try{rt.call(et,bind(internalResolve,w,tt,Ne),bind(internalReject,w,tt,Ne))}catch(et){internalReject(w,tt,et,Ne)}})):(Ne.value=et,Ne.state=1,notify(w,Ne,!1))}catch(et){internalReject(w,{done:!1},et,Ne)}}};ea&&(Wn=function Promise(w){Ot(this,Wn,Fn),Rt(w),tt.call(this);var Ne=Bn(this);try{w(bind(internalResolve,this,Ne),bind(internalReject,this,Ne))}catch(w){internalReject(this,Ne,w)}},(tt=function Promise(w){Nn(this,{type:Fn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=dt(Wn.prototype,{then:function then(w,Ne){var et=Vn(this),tt=uo(vr(this,Wn));return tt.ok="function"!=typeof w||w,tt.fail="function"==typeof Ne&&Ne,tt.domain=vo?ii.domain:void 0,et.parent=!0,et.reactions.push(tt),0!=et.state&&notify(this,et,!1),tt.promise},catch:function(w){return this.then(void 0,w)}}),rt=function(){var w=new tt,Ne=Bn(w);this.promise=w,this.resolve=bind(internalResolve,w,Ne),this.reject=bind(internalReject,w,Ne)},bn.f=uo=function(w){return w===Wn||w===nt?new rt(w):po(w)},at||"function"!=typeof pt||(it=pt.prototype.then,ft(pt.prototype,"then",(function then(w,Ne){var et=this;return new Wn((function(w,Ne){it.call(et,w,Ne)})).then(w,Ne)}),{unsafe:!0}),"function"==typeof qi&&ot({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(w){return rn(Wn,qi.apply(st,arguments))}}))),ot({global:!0,wrap:!0,forced:ea},{Promise:Wn}),mt(Wn,Fn,!1,!0),yt(Fn),nt=ct(Fn),ot({target:Fn,stat:!0,forced:ea},{reject:function reject(w){var Ne=uo(this);return Ne.reject.call(void 0,w),Ne.promise}}),ot({target:Fn,stat:!0,forced:at||ea},{resolve:function resolve(w){return rn(at&&this===nt?Wn:this,w)}}),ot({target:Fn,stat:!0,forced:ta},{all:function all(w){var Ne=this,et=uo(Ne),tt=et.resolve,rt=et.reject,nt=Tn((function(){var et=Rt(Ne.resolve),nt=[],it=0,ot=1;er(w,(function(w){var at=it++,st=!1;nt.push(void 0),ot++,et.call(Ne,w).then((function(w){st||(st=!0,nt[at]=w,--ot||tt(nt))}),rt)})),--ot||tt(nt)}));return nt.error&&rt(nt.value),et.promise},race:function race(w){var Ne=this,et=uo(Ne),tt=et.reject,rt=Tn((function(){var rt=Rt(Ne.resolve);er(w,(function(w){rt.call(Ne,w).then(et.resolve,tt)}))}));return rt.error&&tt(rt.value),et.promise}})},function(w,Ne,et){var tt=et(6),rt=et(213);w.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w,Ne=!1,et={};try{(w=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(et,[]),Ne=et instanceof Array}catch(w){}return function setPrototypeOf(et,nt){return tt(et),rt(nt),Ne?w.call(et,nt):et.__proto__=nt,et}}():void 0)},function(w,Ne,et){"use strict";var tt=et(155),rt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},it={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ot={};function getStatics(w){return tt.isMemo(w)?it:ot[w.$$typeof]||rt}ot[tt.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ot[tt.Memo]=it;var at=Object.defineProperty,st=Object.getOwnPropertyNames,ct=Object.getOwnPropertySymbols,pt=Object.getOwnPropertyDescriptor,ft=Object.getPrototypeOf,dt=Object.prototype;w.exports=function hoistNonReactStatics(w,Ne,et){if("string"!=typeof Ne){if(dt){var tt=ft(Ne);tt&&tt!==dt&&hoistNonReactStatics(w,tt,et)}var rt=st(Ne);ct&&(rt=rt.concat(ct(Ne)));for(var it=getStatics(w),ot=getStatics(Ne),mt=0;mt<rt.length;++mt){var yt=rt[mt];if(!(nt[yt]||et&&et[yt]||ot&&ot[yt]||it&&it[yt])){var vt=pt(Ne,yt);try{at(w,yt,vt)}catch(w){}}}}return w}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _unsupportedIterableToArray}));var tt=et(70);function _unsupportedIterableToArray(w,Ne){if(w){if("string"==typeof w)return Object(tt.a)(w,Ne);var et=Object.prototype.toString.call(w).slice(8,-1);return"Object"===et&&w.constructor&&(et=w.constructor.name),"Map"===et||"Set"===et?Array.from(w):"Arguments"===et||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?Object(tt.a)(w,Ne):void 0}}},function(w,Ne,et){"use strict";et.d(Ne,"b",(function(){return nt}));var tt=et(2),rt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(w){return"".concat(Math.round(w),"ms")}Ne.a={easing:rt,duration:nt,create:function create(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=Ne.duration,it=void 0===et?nt.standard:et,ot=Ne.easing,at=void 0===ot?rt.easeInOut:ot,st=Ne.delay,ct=void 0===st?0:st;Object(tt.a)(Ne,["duration","easing","delay"]);return(Array.isArray(w)?w:[w]).map((function(w){return"".concat(w," ").concat("string"==typeof it?it:formatMs(it)," ").concat(at," ").concat("string"==typeof ct?ct:formatMs(ct))})).join(",")},getAutoHeightDuration:function getAutoHeightDuration(w){if(!w)return 0;var Ne=w/36;return Math.round(10*(4+15*Math.pow(Ne,.25)+Ne/5))}}},function(w,Ne,et){"use strict";var tt=et(32),rt=et(2),nt=et(280),it=et(1),ot=["xs","sm","md","lg","xl"];function createBreakpoints(w){var Ne=w.values,et=void 0===Ne?{xs:0,sm:600,md:960,lg:1280,xl:1920}:Ne,tt=w.unit,nt=void 0===tt?"px":tt,at=w.step,st=void 0===at?5:at,ct=Object(rt.a)(w,["values","unit","step"]);function up(w){var Ne="number"==typeof et[w]?et[w]:w;return"@media (min-width:".concat(Ne).concat(nt,")")}function between(w,Ne){var tt=ot.indexOf(Ne);return tt===ot.length-1?up(w):"@media (min-width:".concat("number"==typeof et[w]?et[w]:w).concat(nt,") and ")+"(max-width:".concat((-1!==tt&&"number"==typeof et[ot[tt+1]]?et[ot[tt+1]]:Ne)-st/100).concat(nt,")")}return Object(it.a)({keys:ot,values:et,up:up,down:function down(w){var Ne=ot.indexOf(w)+1,tt=et[ot[Ne]];return Ne===ot.length?up("xs"):"@media (max-width:".concat(("number"==typeof tt&&Ne>0?tt:w)-st/100).concat(nt,")")},between:between,only:function only(w){return between(w,w)},width:function width(w){return et[w]}},ct)}function createMixins(w,Ne,et){var rt;return Object(it.a)({gutters:function gutters(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(it.a)({paddingLeft:Ne(2),paddingRight:Ne(2)},et,Object(tt.a)({},w.up("sm"),Object(it.a)({paddingLeft:Ne(3),paddingRight:Ne(3)},et[w.up("sm")])))},toolbar:(rt={minHeight:56},Object(tt.a)(rt,"".concat(w.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(tt.a)(rt,w.up("sm"),{minHeight:64}),rt)},et)}var at=et(165),st={black:"#000",white:"#fff"},ct=et(82),pt={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},ft={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},dt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},mt={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yt={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},vt={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Rt=et(7),Ot={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:st.white,default:ct.a[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Dt={text:{primary:st.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:ct.a[800],default:"#303030"},action:{active:st.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(w,Ne,et,tt){var rt=tt.light||tt,nt=tt.dark||1.5*tt;w[Ne]||(w.hasOwnProperty(et)?w[Ne]=w[et]:"light"===Ne?w.light=Object(Rt.e)(w.main,rt):"dark"===Ne&&(w.dark=Object(Rt.a)(w.main,nt)))}function createPalette(w){var Ne=w.primary,et=void 0===Ne?{light:pt[300],main:pt[500],dark:pt[700]}:Ne,tt=w.secondary,ot=void 0===tt?{light:ft.A200,main:ft.A400,dark:ft.A700}:tt,Bt=w.error,er=void 0===Bt?{light:dt[300],main:dt[500],dark:dt[700]}:Bt,rr=w.warning,vr=void 0===rr?{light:mt[300],main:mt[500],dark:mt[700]}:rr,wr=w.info,Sr=void 0===wr?{light:yt[300],main:yt[500],dark:yt[700]}:wr,rn=w.success,vn=void 0===rn?{light:vt[300],main:vt[500],dark:vt[700]}:rn,bn=w.type,Tn=void 0===bn?"light":bn,Cn=w.contrastThreshold,In=void 0===Cn?3:Cn,zn=w.tonalOffset,Mn=void 0===zn?.2:zn,Ln=Object(rt.a)(w,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function getContrastText(w){return Object(Rt.d)(w,Dt.text.primary)>=In?Dt.text.primary:Ot.text.primary}var Fn=function augmentColor(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,tt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(w=Object(it.a)({},w)).main&&w[Ne]&&(w.main=w[Ne]),!w.main)throw new Error(Object(at.a)(4,Ne));if("string"!=typeof w.main)throw new Error(Object(at.a)(5,JSON.stringify(w.main)));return addLightOrDark(w,"light",et,Mn),addLightOrDark(w,"dark",tt,Mn),w.contrastText||(w.contrastText=getContrastText(w.main)),w},Bn={dark:Dt,light:Ot};return Object(nt.a)(Object(it.a)({common:st,type:Tn,primary:Fn(et),secondary:Fn(ot,"A400","A200","A700"),error:Fn(er),warning:Fn(vr),info:Fn(Sr),success:Fn(vn),grey:ct.a,contrastThreshold:In,getContrastText:getContrastText,augmentColor:Fn,tonalOffset:Mn},Bn[Tn]),Ln)}function round(w){return Math.round(1e5*w)/1e5}var Bt={textTransform:"uppercase"};function createTypography(w,Ne){var et="function"==typeof Ne?Ne(w):Ne,tt=et.fontFamily,ot=void 0===tt?'"Roboto", "Helvetica", "Arial", sans-serif':tt,at=et.fontSize,st=void 0===at?14:at,ct=et.fontWeightLight,pt=void 0===ct?300:ct,ft=et.fontWeightRegular,dt=void 0===ft?400:ft,mt=et.fontWeightMedium,yt=void 0===mt?500:mt,vt=et.fontWeightBold,Rt=void 0===vt?700:vt,Ot=et.htmlFontSize,Dt=void 0===Ot?16:Ot,er=et.allVariants,rr=et.pxToRem,vr=Object(rt.a)(et,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var wr=st/14,Sr=rr||function(w){return"".concat(w/Dt*wr,"rem")},rn=function buildVariant(w,Ne,et,tt,rt){return Object(it.a)({fontFamily:ot,fontWeight:w,fontSize:Sr(Ne),lineHeight:et},'"Roboto", "Helvetica", "Arial", sans-serif'===ot?{letterSpacing:"".concat(round(tt/Ne),"em")}:{},rt,er)},vn={h1:rn(pt,96,1.167,-1.5),h2:rn(pt,60,1.2,-.5),h3:rn(dt,48,1.167,0),h4:rn(dt,34,1.235,.25),h5:rn(dt,24,1.334,0),h6:rn(yt,20,1.6,.15),subtitle1:rn(dt,16,1.75,.15),subtitle2:rn(yt,14,1.57,.1),body1:rn(dt,16,1.5,.15),body2:rn(dt,14,1.43,.15),button:rn(yt,14,1.75,.4,Bt),caption:rn(dt,12,1.66,.4),overline:rn(dt,12,2.66,1,Bt)};return Object(nt.a)(Object(it.a)({htmlFontSize:Dt,pxToRem:Sr,round:round,fontFamily:ot,fontSize:st,fontWeightLight:pt,fontWeightRegular:dt,fontWeightMedium:yt,fontWeightBold:Rt},vn),vr,{clone:!1})}function createShadow(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var er=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],rr={borderRadius:4},vr=et(21),wr=(et(38),et(68));et(5);var Sr=function merge(w,Ne){return Ne?Object(nt.a)(w,Ne,{clone:!1}):w},rn={xs:0,sm:600,md:960,lg:1280,xl:1920},vn={keys:["xs","sm","md","lg","xl"],up:function up(w){return"@media (min-width:".concat(rn[w],"px)")}};var bn={m:"margin",p:"padding"},Tn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Cn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},In=function memoize(w){var Ne={};return function(et){return void 0===Ne[et]&&(Ne[et]=w(et)),Ne[et]}}((function(w){if(w.length>2){if(!Cn[w])return[w];w=Cn[w]}var Ne=w.split(""),et=Object(vr.a)(Ne,2),tt=et[0],rt=et[1],nt=bn[tt],it=Tn[rt]||"";return Array.isArray(it)?it.map((function(w){return nt+w})):[nt+it]})),zn=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function createUnarySpacing(w){var Ne=w.spacing||8;return"number"==typeof Ne?function(w){return Ne*w}:Array.isArray(Ne)?function(w){return Ne[w]}:"function"==typeof Ne?Ne:function(){}}function getStyleFromPropValue(w,Ne){return function(et){return w.reduce((function(w,tt){return w[tt]=function getValue(w,Ne){if("string"==typeof Ne)return Ne;var et=w(Math.abs(Ne));return Ne>=0?et:"number"==typeof et?-et:"-".concat(et)}(Ne,et),w}),{})}}function spacing_spacing(w){var Ne=createUnarySpacing(w.theme);return Object.keys(w).map((function(et){if(-1===zn.indexOf(et))return null;var tt=getStyleFromPropValue(In(et),Ne),rt=w[et];return function handleBreakpoints(w,Ne,et){if(Array.isArray(Ne)){var tt=w.theme.breakpoints||vn;return Ne.reduce((function(w,rt,nt){return w[tt.up(tt.keys[nt])]=et(Ne[nt]),w}),{})}if("object"===Object(wr.a)(Ne)){var rt=w.theme.breakpoints||vn;return Object.keys(Ne).reduce((function(w,tt){return w[rt.up(tt)]=et(Ne[tt]),w}),{})}return et(Ne)}(w,rt,tt)})).reduce(Sr,{})}spacing_spacing.propTypes={},spacing_spacing.filterProps=zn;function createSpacing(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(w.mui)return w;var Ne=createUnarySpacing({spacing:w}),et=function spacing(){for(var w=arguments.length,et=new Array(w),tt=0;tt<w;tt++)et[tt]=arguments[tt];return 0===et.length?Ne(1):1===et.length?Ne(et[0]):et.map((function(w){if("string"==typeof w)return w;var et=Ne(w);return"number"==typeof et?"".concat(et,"px"):et})).join(" ")};return Object.defineProperty(et,"unit",{get:function get(){return w}}),et.mui=!0,et}var Mn=et(80),Ln={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var Fn=function createMuiTheme(){for(var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=w.breakpoints,et=void 0===Ne?{}:Ne,tt=w.mixins,it=void 0===tt?{}:tt,ot=w.palette,at=void 0===ot?{}:ot,st=w.spacing,ct=w.typography,pt=void 0===ct?{}:ct,ft=Object(rt.a)(w,["breakpoints","mixins","palette","spacing","typography"]),dt=createPalette(at),mt=createBreakpoints(et),yt=createSpacing(st),vt=Object(nt.a)({breakpoints:mt,direction:"ltr",mixins:createMixins(mt,yt,it),overrides:{},palette:dt,props:{},shadows:er,typography:createTypography(dt,pt),spacing:yt,shape:rr,transitions:Mn.a,zIndex:Ln},ft),Rt=arguments.length,Ot=new Array(Rt>1?Rt-1:0),Dt=1;Dt<Rt;Dt++)Ot[Dt-1]=arguments[Dt];return vt=Ot.reduce((function(w,Ne){return Object(nt.a)(w,Ne)}),vt)}();Ne.a=Fn},function(w,Ne,et){"use strict";Ne.a={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},function(w,Ne,et){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;function toObject(w){if(null==w)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(w)}w.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var w=new String("abc");if(w[5]="de","5"===Object.getOwnPropertyNames(w)[0])return!1;for(var Ne={},et=0;et<10;et++)Ne["_"+String.fromCharCode(et)]=et;if("0123456789"!==Object.getOwnPropertyNames(Ne).map((function(w){return Ne[w]})).join(""))return!1;var tt={};return"abcdefghijklmnopqrst".split("").forEach((function(w){tt[w]=w})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},tt)).join("")}catch(w){return!1}}()?Object.assign:function(w,Ne){for(var et,it,ot=toObject(w),at=1;at<arguments.length;at++){for(var st in et=Object(arguments[at]))rt.call(et,st)&&(ot[st]=et[st]);if(tt){it=tt(et);for(var ct=0;ct<it.length;ct++)nt.call(et,it[ct])&&(ot[it[ct]]=et[it[ct]])}}return ot}},function(w,Ne){w.exports=function(w,Ne){return{enumerable:!(1&w),configurable:!(2&w),writable:!(4&w),value:Ne}}},function(w,Ne,et){var tt=et(114),rt=et(74);w.exports=function(w){return tt(rt(w))}},function(w,Ne,et){var tt=et(25);w.exports=function(w,Ne){if(!tt(w))return w;var et,rt;if(Ne&&"function"==typeof(et=w.toString)&&!tt(rt=et.call(w)))return rt;if("function"==typeof(et=w.valueOf)&&!tt(rt=et.call(w)))return rt;if(!Ne&&"function"==typeof(et=w.toString)&&!tt(rt=et.call(w)))return rt;throw TypeError("Can't convert object to primitive value")}},function(w,Ne,et){var tt=et(14),rt=et(25),nt=tt.document,it=rt(nt)&&rt(nt.createElement);w.exports=function(w){return it?nt.createElement(w):{}}},function(w,Ne,et){var tt=et(14),rt=et(36);w.exports=function(w,Ne){try{rt(tt,w,Ne)}catch(et){tt[w]=Ne}return Ne}},function(w,Ne,et){var tt=et(116),rt=Function.toString;"function"!=typeof tt.inspectSource&&(tt.inspectSource=function(w){return rt.call(w)}),w.exports=tt.inspectSource},function(w,Ne,et){var tt=et(117),rt=et(91),nt=tt("keys");w.exports=function(w){return nt[w]||(nt[w]=rt(w))}},function(w,Ne){var et=0,tt=Math.random();w.exports=function(w){return"Symbol("+String(void 0===w?"":w)+")_"+(++et+tt).toString(36)}},function(w,Ne){w.exports={}},function(w,Ne,et){var tt=et(118),rt=et(94).concat("length","prototype");Ne.f=Object.getOwnPropertyNames||function getOwnPropertyNames(w){return tt(w,rt)}},function(w,Ne){w.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(w,Ne,et){"use strict";var tt,rt,nt=et(193),it=et(194),ot=RegExp.prototype.exec,at=String.prototype.replace,st=ot,ct=(tt=/a/,rt=/b*/g,ot.call(tt,"a"),ot.call(rt,"a"),0!==tt.lastIndex||0!==rt.lastIndex),pt=it.UNSUPPORTED_Y||it.BROKEN_CARET,ft=void 0!==/()??/.exec("")[1];(ct||ft||pt)&&(st=function exec(w){var Ne,et,tt,rt,it=this,st=pt&&it.sticky,dt=nt.call(it),mt=it.source,yt=0,vt=w;return st&&(-1===(dt=dt.replace("y","")).indexOf("g")&&(dt+="g"),vt=String(w).slice(it.lastIndex),it.lastIndex>0&&(!it.multiline||it.multiline&&"\n"!==w[it.lastIndex-1])&&(mt="(?: "+mt+")",vt=" "+vt,yt++),et=new RegExp("^(?:"+mt+")",dt)),ft&&(et=new RegExp("^"+mt+"$(?!\\s)",dt)),ct&&(Ne=it.lastIndex),tt=ot.call(st?et:it,vt),st?tt?(tt.input=tt.input.slice(yt),tt[0]=tt[0].slice(yt),tt.index=it.lastIndex,it.lastIndex+=tt[0].length):it.lastIndex=0:ct&&tt&&(it.lastIndex=it.global?tt.index+tt[0].length:Ne),ft&&tt&&tt.length>1&&at.call(tt[0],et,(function(){for(rt=1;rt<arguments.length-2;rt++)void 0===arguments[rt]&&(tt[rt]=void 0)})),tt}),w.exports=st},function(w,Ne){w.exports=function(w,Ne,et){if(!(w instanceof Ne))throw TypeError("Incorrect "+(et?et+" ":"")+"invocation");return w}},function(w,Ne,et){var tt=et(98),rt=et(126),nt=et(23)("iterator");w.exports=function(w){if(null!=w)return w[nt]||w["@@iterator"]||rt[tt(w)]}},function(w,Ne,et){var tt=et(201),rt=et(42),nt=et(23)("toStringTag"),it="Arguments"==rt(function(){return arguments}());w.exports=tt?rt:function(w){var Ne,et,tt;return void 0===w?"Undefined":null===w?"Null":"string"==typeof(et=function(w,Ne){try{return w[Ne]}catch(w){}}(Ne=Object(w),nt))?et:it?rt(Ne):"Object"==(tt=rt(Ne))&&"function"==typeof Ne.callee?"Arguments":tt}},function(w,Ne,et){"use strict";var tt,rt=et(133),nt=et(26),it=et(14),ot=et(25),at=et(27),st=et(98),ct=et(36),pt=et(67),ft=et(28).f,dt=et(134),mt=et(77),yt=et(23),vt=et(91),Rt=it.Int8Array,Ot=Rt&&Rt.prototype,Dt=it.Uint8ClampedArray,Bt=Dt&&Dt.prototype,er=Rt&&dt(Rt),rr=Ot&&dt(Ot),vr=Object.prototype,wr=vr.isPrototypeOf,Sr=yt("toStringTag"),rn=vt("TYPED_ARRAY_TAG"),vn=rt&&!!mt&&"Opera"!==st(it.opera),bn=!1,Tn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},isTypedArray=function(w){return ot(w)&&at(Tn,st(w))};for(tt in Tn)it[tt]||(vn=!1);if((!vn||"function"!=typeof er||er===Function.prototype)&&(er=function TypedArray(){throw TypeError("Incorrect invocation")},vn))for(tt in Tn)it[tt]&&mt(it[tt],er);if((!vn||!rr||rr===vr)&&(rr=er.prototype,vn))for(tt in Tn)it[tt]&&mt(it[tt].prototype,rr);if(vn&&dt(Bt)!==rr&&mt(Bt,rr),nt&&!at(rr,Sr))for(tt in bn=!0,ft(rr,Sr,{get:function(){return ot(this)?this[rn]:void 0}}),Tn)it[tt]&&ct(it[tt],rn,tt);w.exports={NATIVE_ARRAY_BUFFER_VIEWS:vn,TYPED_ARRAY_TAG:bn&&rn,aTypedArray:function(w){if(isTypedArray(w))return w;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(w){if(mt){if(wr.call(er,w))return w}else for(var Ne in Tn)if(at(Tn,tt)){var et=it[Ne];if(et&&(w===et||wr.call(et,w)))return w}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(w,Ne,et){if(nt){if(et)for(var tt in Tn){var rt=it[tt];rt&&at(rt.prototype,w)&&delete rt.prototype[w]}rr[w]&&!et||pt(rr,w,et?Ne:vn&&Ot[w]||Ne)}},exportTypedArrayStaticMethod:function(w,Ne,et){var tt,rt;if(nt){if(mt){if(et)for(tt in Tn)(rt=it[tt])&&at(rt,w)&&delete rt[w];if(er[w]&&!et)return;try{return pt(er,w,et?Ne:vn&&Rt[w]||Ne)}catch(w){}}for(tt in Tn)!(rt=it[tt])||rt[w]&&!et||pt(rt,w,Ne)}},isView:function isView(w){var Ne=st(w);return"DataView"===Ne||at(Tn,Ne)},isTypedArray:isTypedArray,TypedArray:er,TypedArrayPrototype:rr}},function(w,Ne,et){"use strict";var tt=et(6),rt=et(13);w.exports=function(){for(var w,Ne=tt(this),et=rt(Ne.delete),nt=!0,it=0,ot=arguments.length;it<ot;it++)w=et.call(Ne,arguments[it]),nt=nt&&w;return!!nt}},function(w,Ne,et){var tt=et(6),rt=et(97);w.exports=function(w){var Ne=rt(w);if("function"!=typeof Ne)throw TypeError(String(w)+" is not iterable");return tt(Ne.call(w))}},function(w,Ne,et){"use strict";w.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(w,Ne){w.exports=function _interopRequireDefault(w){return w&&w.__esModule?w:{default:w}}},function(w,Ne,et){var tt=et(34),rt=et(250);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},function(w,Ne,et){"use strict";var tt={};(0,et(37).assign)(tt,et(229),et(232),et(154)),w.exports=tt},function(w,Ne,et){"use strict";(function(w){var tt=et(0),rt=et.n(tt),nt=et(15),it=et(5),ot=et.n(it),at="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==w?w:{};function createEventEmitter(w){var Ne=[];return{on:function on(w){Ne.push(w)},off:function off(w){Ne=Ne.filter((function(Ne){return Ne!==w}))},get:function get(){return w},set:function set(et,tt){w=et,Ne.forEach((function(Ne){return Ne(w,tt)}))}}}var st=rt.a.createContext||function createReactContext(w,Ne){var et,rt,it="__create-react-context-"+function getUniqueId(){var w="__global_unique_id__";return at[w]=(at[w]||0)+1}()+"__",st=function(w){function Provider(){var Ne;return(Ne=w.apply(this,arguments)||this).emitter=createEventEmitter(Ne.props.value),Ne}Object(nt.a)(Provider,w);var et=Provider.prototype;return et.getChildContext=function getChildContext(){var w;return(w={})[it]=this.emitter,w},et.componentWillReceiveProps=function componentWillReceiveProps(w){if(this.props.value!==w.value){var et,tt=this.props.value,rt=w.value;!function objectIs(w,Ne){return w===Ne?0!==w||1/w==1/Ne:w!=w&&Ne!=Ne}(tt,rt)?(et="function"==typeof Ne?Ne(tt,rt):1073741823,0!==(et|=0)&&this.emitter.set(w.value,et)):et=0}},et.render=function render(){return this.props.children},Provider}(tt.Component);st.childContextTypes=((et={})[it]=ot.a.object.isRequired,et);var ct=function(Ne){function Consumer(){var w;return(w=Ne.apply(this,arguments)||this).state={value:w.getValue()},w.onUpdate=function(Ne,et){0!=((0|w.observedBits)&et)&&w.setState({value:w.getValue()})},w}Object(nt.a)(Consumer,Ne);var et=Consumer.prototype;return et.componentWillReceiveProps=function componentWillReceiveProps(w){var Ne=w.observedBits;this.observedBits=null==Ne?1073741823:Ne},et.componentDidMount=function componentDidMount(){this.context[it]&&this.context[it].on(this.onUpdate);var w=this.props.observedBits;this.observedBits=null==w?1073741823:w},et.componentWillUnmount=function componentWillUnmount(){this.context[it]&&this.context[it].off(this.onUpdate)},et.getValue=function getValue(){return this.context[it]?this.context[it].get():w},et.render=function render(){return function onlyChild(w){return Array.isArray(w)?w[0]:w}(this.props.children)(this.state.value)},Consumer}(tt.Component);return ct.contextTypes=((rt={})[it]=ot.a.object,rt),{Provider:st,Consumer:ct}};Ne.a=st}).call(this,et(72))},function(w,Ne,et){var tt=et(244);w.exports=pathToRegexp,w.exports.parse=parse,w.exports.compile=function compile(w,Ne){return tokensToFunction(parse(w,Ne),Ne)},w.exports.tokensToFunction=tokensToFunction,w.exports.tokensToRegExp=tokensToRegExp;var rt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(w,Ne){for(var et,tt=[],nt=0,it=0,ot="",at=Ne&&Ne.delimiter||"/";null!=(et=rt.exec(w));){var st=et[0],ct=et[1],pt=et.index;if(ot+=w.slice(it,pt),it=pt+st.length,ct)ot+=ct[1];else{var ft=w[it],dt=et[2],mt=et[3],yt=et[4],vt=et[5],Rt=et[6],Ot=et[7];ot&&(tt.push(ot),ot="");var Dt=null!=dt&&null!=ft&&ft!==dt,Bt="+"===Rt||"*"===Rt,er="?"===Rt||"*"===Rt,rr=et[2]||at,vr=yt||vt;tt.push({name:mt||nt++,prefix:dt||"",delimiter:rr,optional:er,repeat:Bt,partial:Dt,asterisk:!!Ot,pattern:vr?escapeGroup(vr):Ot?".*":"[^"+escapeString(rr)+"]+?"})}}return it<w.length&&(ot+=w.substr(it)),ot&&tt.push(ot),tt}function encodeURIComponentPretty(w){return encodeURI(w).replace(/[\/?#]/g,(function(w){return"%"+w.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(w,Ne){for(var et=new Array(w.length),rt=0;rt<w.length;rt++)"object"==typeof w[rt]&&(et[rt]=new RegExp("^(?:"+w[rt].pattern+")$",flags(Ne)));return function(Ne,rt){for(var nt="",it=Ne||{},ot=(rt||{}).pretty?encodeURIComponentPretty:encodeURIComponent,at=0;at<w.length;at++){var st=w[at];if("string"!=typeof st){var ct,pt=it[st.name];if(null==pt){if(st.optional){st.partial&&(nt+=st.prefix);continue}throw new TypeError('Expected "'+st.name+'" to be defined')}if(tt(pt)){if(!st.repeat)throw new TypeError('Expected "'+st.name+'" to not repeat, but received `'+JSON.stringify(pt)+"`");if(0===pt.length){if(st.optional)continue;throw new TypeError('Expected "'+st.name+'" to not be empty')}for(var ft=0;ft<pt.length;ft++){if(ct=ot(pt[ft]),!et[at].test(ct))throw new TypeError('Expected all "'+st.name+'" to match "'+st.pattern+'", but received `'+JSON.stringify(ct)+"`");nt+=(0===ft?st.prefix:st.delimiter)+ct}}else{if(ct=st.asterisk?encodeURI(pt).replace(/[?#]/g,(function(w){return"%"+w.charCodeAt(0).toString(16).toUpperCase()})):ot(pt),!et[at].test(ct))throw new TypeError('Expected "'+st.name+'" to match "'+st.pattern+'", but received "'+ct+'"');nt+=st.prefix+ct}}else nt+=st}return nt}}function escapeString(w){return w.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(w){return w.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(w,Ne){return w.keys=Ne,w}function flags(w){return w&&w.sensitive?"":"i"}function tokensToRegExp(w,Ne,et){tt(Ne)||(et=Ne||et,Ne=[]);for(var rt=(et=et||{}).strict,nt=!1!==et.end,it="",ot=0;ot<w.length;ot++){var at=w[ot];if("string"==typeof at)it+=escapeString(at);else{var st=escapeString(at.prefix),ct="(?:"+at.pattern+")";Ne.push(at),at.repeat&&(ct+="(?:"+st+ct+")*"),it+=ct=at.optional?at.partial?st+"("+ct+")?":"(?:"+st+"("+ct+"))?":st+"("+ct+")"}}var pt=escapeString(et.delimiter||"/"),ft=it.slice(-pt.length)===pt;return rt||(it=(ft?it.slice(0,-pt.length):it)+"(?:"+pt+"(?=$))?"),it+=nt?"$":rt&&ft?"":"(?="+pt+"|$)",attachKeys(new RegExp("^"+it,flags(et)),Ne)}function pathToRegexp(w,Ne,et){return tt(Ne)||(et=Ne||et,Ne=[]),et=et||{},w instanceof RegExp?function regexpToRegexp(w,Ne){var et=w.source.match(/\((?!\?)/g);if(et)for(var tt=0;tt<et.length;tt++)Ne.push({name:tt,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(w,Ne)}(w,Ne):tt(w)?function arrayToRegexp(w,Ne,et){for(var tt=[],rt=0;rt<w.length;rt++)tt.push(pathToRegexp(w[rt],Ne,et).source);return attachKeys(new RegExp("(?:"+tt.join("|")+")",flags(et)),Ne)}(w,Ne,et):function stringToRegexp(w,Ne,et){return tokensToRegExp(parse(w,et),Ne,et)}(w,Ne,et)}},function(w,Ne,et){var tt=et(34),rt=et(251);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},,,,,,function(w,Ne,et){var tt=et(24),rt=et(42),nt="".split;w.exports=tt((function(){return!Object("z").propertyIsEnumerable(0)}))?function(w){return"String"==rt(w)?nt.call(w,""):Object(w)}:Object},function(w,Ne,et){var tt=et(26),rt=et(24),nt=et(87);w.exports=!tt&&!rt((function(){return 7!=Object.defineProperty(nt("div"),"a",{get:function(){return 7}}).a}))},function(w,Ne,et){var tt=et(14),rt=et(88),nt=tt["__core-js_shared__"]||rt("__core-js_shared__",{});w.exports=nt},function(w,Ne,et){var tt=et(9),rt=et(116);(w.exports=function(w,Ne){return rt[w]||(rt[w]=void 0!==Ne?Ne:{})})("versions",[]).push({version:"3.6.5",mode:tt?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(w,Ne,et){var tt=et(27),rt=et(85),nt=et(191).indexOf,it=et(92);w.exports=function(w,Ne){var et,ot=rt(w),at=0,st=[];for(et in ot)!tt(it,et)&&tt(ot,et)&&st.push(et);for(;Ne.length>at;)tt(ot,et=Ne[at++])&&(~nt(st,et)||st.push(et));return st}},function(w,Ne,et){var tt=et(43),rt=Math.max,nt=Math.min;w.exports=function(w,Ne){var et=tt(w);return et<0?rt(et+Ne,0):nt(et,Ne)}},function(w,Ne,et){var tt=et(24),rt=/#|\.prototype\./,isForced=function(w,Ne){var et=it[nt(w)];return et==at||et!=ot&&("function"==typeof Ne?tt(Ne):!!Ne)},nt=isForced.normalize=function(w){return String(w).replace(rt,".").toLowerCase()},it=isForced.data={},ot=isForced.NATIVE="N",at=isForced.POLYFILL="P";w.exports=isForced},function(w,Ne,et){var tt=et(24);w.exports=!!Object.getOwnPropertySymbols&&!tt((function(){return!String(Symbol())}))},function(w,Ne,et){var tt=et(67);w.exports=function(w,Ne,et){for(var rt in Ne)tt(w,rt,Ne[rt],et);return w}},function(w,Ne,et){var tt=et(28).f,rt=et(27),nt=et(23)("toStringTag");w.exports=function(w,Ne,et){w&&!rt(w=et?w:w.prototype,nt)&&tt(w,nt,{configurable:!0,value:Ne})}},function(w,Ne,et){"use strict";var tt=et(19),rt=et(28),nt=et(23),it=et(26),ot=nt("species");w.exports=function(w){var Ne=tt(w),et=rt.f;it&&Ne&&!Ne[ot]&&et(Ne,ot,{configurable:!0,get:function(){return this}})}},function(w,Ne,et){var tt=et(23),rt=et(126),nt=tt("iterator"),it=Array.prototype;w.exports=function(w){return void 0!==w&&(rt.Array===w||it[nt]===w)}},function(w,Ne){w.exports={}},function(w,Ne,et){var tt=et(23)("iterator"),rt=!1;try{var nt=0,it={next:function(){return{done:!!nt++}},return:function(){rt=!0}};it[tt]=function(){return this},Array.from(it,(function(){throw 2}))}catch(w){}w.exports=function(w,Ne){if(!Ne&&!rt)return!1;var et=!1;try{var nt={};nt[tt]=function(){return{next:function(){return{done:et=!0}}}},w(nt)}catch(w){}return et}},function(w,Ne,et){var tt,rt,nt,it=et(14),ot=et(24),at=et(42),st=et(17),ct=et(129),pt=et(87),ft=et(130),dt=it.location,mt=it.setImmediate,yt=it.clearImmediate,vt=it.process,Rt=it.MessageChannel,Ot=it.Dispatch,Dt=0,Bt={},run=function(w){if(Bt.hasOwnProperty(w)){var Ne=Bt[w];delete Bt[w],Ne()}},runner=function(w){return function(){run(w)}},listener=function(w){run(w.data)},post=function(w){it.postMessage(w+"",dt.protocol+"//"+dt.host)};mt&&yt||(mt=function setImmediate(w){for(var Ne=[],et=1;arguments.length>et;)Ne.push(arguments[et++]);return Bt[++Dt]=function(){("function"==typeof w?w:Function(w)).apply(void 0,Ne)},tt(Dt),Dt},yt=function clearImmediate(w){delete Bt[w]},"process"==at(vt)?tt=function(w){vt.nextTick(runner(w))}:Ot&&Ot.now?tt=function(w){Ot.now(runner(w))}:Rt&&!ft?(nt=(rt=new Rt).port2,rt.port1.onmessage=listener,tt=st(nt.postMessage,nt,1)):!it.addEventListener||"function"!=typeof postMessage||it.importScripts||ot(post)||"file:"===dt.protocol?tt="onreadystatechange"in pt("script")?function(w){ct.appendChild(pt("script")).onreadystatechange=function(){ct.removeChild(this),run(w)}}:function(w){setTimeout(runner(w),0)}:(tt=post,it.addEventListener("message",listener,!1))),w.exports={set:mt,clear:yt}},function(w,Ne,et){var tt=et(19);w.exports=tt("document","documentElement")},function(w,Ne,et){var tt=et(131);w.exports=/(iphone|ipod|ipad).*applewebkit/i.test(tt)},function(w,Ne,et){var tt=et(19);w.exports=tt("navigator","userAgent")||""},function(w,Ne,et){"use strict";var tt=et(13),PromiseCapability=function(w){var Ne,et;this.promise=new w((function(w,tt){if(void 0!==Ne||void 0!==et)throw TypeError("Bad Promise constructor");Ne=w,et=tt})),this.resolve=tt(Ne),this.reject=tt(et)};w.exports.f=function(w){return new PromiseCapability(w)}},function(w,Ne){w.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(w,Ne,et){var tt=et(27),rt=et(47),nt=et(90),it=et(212),ot=nt("IE_PROTO"),at=Object.prototype;w.exports=it?Object.getPrototypeOf:function(w){return w=rt(w),tt(w,ot)?w[ot]:"function"==typeof w.constructor&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?at:null}},function(w,Ne,et){var tt=et(43),rt=et(29);w.exports=function(w){if(void 0===w)return 0;var Ne=tt(w),et=rt(Ne);if(Ne!==et)throw RangeError("Wrong length or index");return et}},function(w,Ne,et){var tt,rt=et(6),nt=et(219),it=et(94),ot=et(92),at=et(129),st=et(87),ct=et(90),pt=ct("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(w){return"<script>"+w+"<\/script>"},NullProtoObject=function(){try{tt=document.domain&&new ActiveXObject("htmlfile")}catch(w){}var w,Ne;NullProtoObject=tt?function(w){w.write(scriptTag("")),w.close();var Ne=w.parentWindow.Object;return w=null,Ne}(tt):((Ne=st("iframe")).style.display="none",at.appendChild(Ne),Ne.src=String("javascript:"),(w=Ne.contentWindow.document).open(),w.write(scriptTag("document.F=Object")),w.close(),w.F);for(var et=it.length;et--;)delete NullProtoObject.prototype[it[et]];return NullProtoObject()};ot[pt]=!0,w.exports=Object.create||function create(w,Ne){var et;return null!==w?(EmptyConstructor.prototype=rt(w),et=new EmptyConstructor,EmptyConstructor.prototype=null,et[pt]=w):et=NullProtoObject(),void 0===Ne?et:nt(et,Ne)}},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(100);tt({target:"Map",proto:!0,real:!0,forced:rt},{deleteAll:function deleteAll(){return nt.apply(this,arguments)}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(17),ot=et(31),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{every:function every(w){var Ne=nt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return!at(et,(function(w,et){if(!tt(et,w,Ne))return at.stop()}),void 0,!0,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(17),st=et(30),ct=et(31),pt=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{filter:function filter(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),rt=new(st(Ne,nt("Map"))),ft=ot(rt.set);return pt(et,(function(w,et){tt(et,w,Ne)&&ft.call(rt,w,et)}),void 0,!0,!0),rt}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(17),ot=et(31),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{find:function find(w){var Ne=nt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w,et){if(tt(et,w,Ne))return at.stop(et)}),void 0,!0,!0).result}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(17),ot=et(31),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{findKey:function findKey(w){var Ne=nt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w,et){if(tt(et,w,Ne))return at.stop(w)}),void 0,!0,!0).result}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(31),ot=et(226),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{includes:function includes(w){return at(it(nt(this)),(function(Ne,et){if(ot(et,w))return at.stop()}),void 0,!0,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(31),ot=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{keyOf:function keyOf(w){return ot(it(nt(this)),(function(Ne,et){if(et===w)return ot.stop(Ne)}),void 0,!0,!0).result}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(17),st=et(30),ct=et(31),pt=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{mapKeys:function mapKeys(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),rt=new(st(Ne,nt("Map"))),ft=ot(rt.set);return pt(et,(function(w,et){ft.call(rt,tt(et,w,Ne),et)}),void 0,!0,!0),rt}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(19),it=et(6),ot=et(13),at=et(17),st=et(30),ct=et(31),pt=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{mapValues:function mapValues(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),rt=new(st(Ne,nt("Map"))),ft=ot(rt.set);return pt(et,(function(w,et){ft.call(rt,w,tt(et,w,Ne))}),void 0,!0,!0),rt}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(13),ot=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{merge:function merge(w){for(var Ne=nt(this),et=it(Ne.set),tt=0;tt<arguments.length;)ot(arguments[tt++],et,Ne,!0);return Ne}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(13),ot=et(31),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{reduce:function reduce(w){var Ne=nt(this),et=ot(Ne),tt=arguments.length<2,rt=tt?void 0:arguments[1];if(it(w),at(et,(function(et,nt){tt?(tt=!1,rt=nt):rt=w(rt,nt,et,Ne)}),void 0,!0,!0),tt)throw TypeError("Reduce of empty map with no initial value");return rt}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(17),ot=et(31),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:rt},{some:function some(w){var Ne=nt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w,et){if(tt(et,w,Ne))return at.stop()}),void 0,!0,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(6),it=et(13);tt({target:"Map",proto:!0,real:!0,forced:rt},{update:function update(w,Ne){var et=nt(this),tt=arguments.length;it(Ne);var rt=et.has(w);if(!rt&&tt<3)throw TypeError("Updating absent value");var ot=rt?et.get(w):it(tt>2?arguments[2]:void 0)(w,et);return et.set(w,Ne(ot,w,et)),et}})},function(w,Ne,et){"use strict";w.exports=function adler32(w,Ne,et,tt){for(var rt=65535&w|0,nt=w>>>16&65535|0,it=0;0!==et;){et-=it=et>2e3?2e3:et;do{nt=nt+(rt=rt+Ne[tt++]|0)|0}while(--it);rt%=65521,nt%=65521}return rt|nt<<16|0}},function(w,Ne,et){"use strict";var tt=function makeTable(){for(var w,Ne=[],et=0;et<256;et++){w=et;for(var tt=0;tt<8;tt++)w=1&w?3988292384^w>>>1:w>>>1;Ne[et]=w}return Ne}();w.exports=function crc32(w,Ne,et,rt){var nt=tt,it=rt+et;w^=-1;for(var ot=rt;ot<it;ot++)w=w>>>8^nt[255&(w^Ne[ot])];return-1^w}},function(w,Ne,et){"use strict";var tt=et(37),rt=!0,nt=!0;try{String.fromCharCode.apply(null,[0])}catch(w){rt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(w){nt=!1}for(var it=new tt.Buf8(256),ot=0;ot<256;ot++)it[ot]=ot>=252?6:ot>=248?5:ot>=240?4:ot>=224?3:ot>=192?2:1;function buf2binstring(w,Ne){if(Ne<65534&&(w.subarray&&nt||!w.subarray&&rt))return String.fromCharCode.apply(null,tt.shrinkBuf(w,Ne));for(var et="",it=0;it<Ne;it++)et+=String.fromCharCode(w[it]);return et}it[254]=it[254]=1,Ne.string2buf=function(w){var Ne,et,rt,nt,it,ot=w.length,at=0;for(nt=0;nt<ot;nt++)55296==(64512&(et=w.charCodeAt(nt)))&&nt+1<ot&&56320==(64512&(rt=w.charCodeAt(nt+1)))&&(et=65536+(et-55296<<10)+(rt-56320),nt++),at+=et<128?1:et<2048?2:et<65536?3:4;for(Ne=new tt.Buf8(at),it=0,nt=0;it<at;nt++)55296==(64512&(et=w.charCodeAt(nt)))&&nt+1<ot&&56320==(64512&(rt=w.charCodeAt(nt+1)))&&(et=65536+(et-55296<<10)+(rt-56320),nt++),et<128?Ne[it++]=et:et<2048?(Ne[it++]=192|et>>>6,Ne[it++]=128|63&et):et<65536?(Ne[it++]=224|et>>>12,Ne[it++]=128|et>>>6&63,Ne[it++]=128|63&et):(Ne[it++]=240|et>>>18,Ne[it++]=128|et>>>12&63,Ne[it++]=128|et>>>6&63,Ne[it++]=128|63&et);return Ne},Ne.buf2binstring=function(w){return buf2binstring(w,w.length)},Ne.binstring2buf=function(w){for(var Ne=new tt.Buf8(w.length),et=0,rt=Ne.length;et<rt;et++)Ne[et]=w.charCodeAt(et);return Ne},Ne.buf2string=function(w,Ne){var et,tt,rt,nt,ot=Ne||w.length,at=new Array(2*ot);for(tt=0,et=0;et<ot;)if((rt=w[et++])<128)at[tt++]=rt;else if((nt=it[rt])>4)at[tt++]=65533,et+=nt-1;else{for(rt&=2===nt?31:3===nt?15:7;nt>1&&et<ot;)rt=rt<<6|63&w[et++],nt--;nt>1?at[tt++]=65533:rt<65536?at[tt++]=rt:(rt-=65536,at[tt++]=55296|rt>>10&1023,at[tt++]=56320|1023&rt)}return buf2binstring(at,tt)},Ne.utf8border=function(w,Ne){var et;for((Ne=Ne||w.length)>w.length&&(Ne=w.length),et=Ne-1;et>=0&&128==(192&w[et]);)et--;return et<0||0===et?Ne:et+it[w[et]]>Ne?et:Ne}},function(w,Ne,et){"use strict";w.exports=function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(w,Ne,et){"use strict";w.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(w,Ne,et){"use strict";w.exports=et(242)},function(w,Ne,et){"use strict";var tt=et(103);Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=function createSvgIcon(w,Ne){var et=nt.default.memo(nt.default.forwardRef((function(Ne,et){return nt.default.createElement(it.default,(0,rt.default)({ref:et},Ne),w)})));0;return et.muiName=it.default.muiName,et};var rt=tt(et(243)),nt=tt(et(0)),it=tt(et(157))},function(w,Ne,et){"use strict";et.r(Ne);var tt=et(158);et.d(Ne,"default",(function(){return tt.a}))},function(w,Ne,et){"use strict";var tt=et(1),rt=et(2),nt=et(0),it=(et(5),et(3)),ot=et(4),at=et(8),st=nt.forwardRef((function SvgIcon(w,Ne){var et=w.children,ot=w.classes,st=w.className,ct=w.color,pt=void 0===ct?"inherit":ct,ft=w.component,dt=void 0===ft?"svg":ft,mt=w.fontSize,yt=void 0===mt?"default":mt,vt=w.htmlColor,Rt=w.titleAccess,Ot=w.viewBox,Dt=void 0===Ot?"0 0 24 24":Ot,Bt=Object(rt.a)(w,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return nt.createElement(dt,Object(tt.a)({className:Object(it.a)(ot.root,st,"inherit"!==pt&&ot["color".concat(Object(at.a)(pt))],"default"!==yt&&ot["fontSize".concat(Object(at.a)(yt))]),focusable:"false",viewBox:Dt,color:vt,"aria-hidden":!Rt||void 0,role:Rt?"img":void 0,ref:Ne},Bt),et,Rt?nt.createElement("title",null,Rt):null)}));st.muiName="SvgIcon",Ne.a=Object(ot.a)((function styles(w){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:w.typography.pxToRem(24),transition:w.transitions.create("fill",{duration:w.transitions.duration.shorter})},colorPrimary:{color:w.palette.primary.main},colorSecondary:{color:w.palette.secondary.main},colorAction:{color:w.palette.action.active},colorError:{color:w.palette.error.main},colorDisabled:{color:w.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:w.typography.pxToRem(20)},fontSizeLarge:{fontSize:w.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(st)},function(w,Ne,et){"use strict";Ne.encode=et(237),Ne.decode=et(238)},function(w,Ne,et){"use strict";w.exports=Pbf;var tt=et(239);function Pbf(w){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(w)?w:new Uint8Array(w||0),this.pos=0,this.type=0,this.length=this.buf.length}Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;var rt="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function readPackedEnd(w){return w.type===Pbf.Bytes?w.readVarint()+w.pos:w.pos+1}function toNum(w,Ne,et){return et?4294967296*Ne+(w>>>0):4294967296*(Ne>>>0)+(w>>>0)}function makeRoomForExtraLength(w,Ne,et){var tt=Ne<=16383?1:Ne<=2097151?2:Ne<=268435455?3:Math.floor(Math.log(Ne)/(7*Math.LN2));et.realloc(tt);for(var rt=et.pos-1;rt>=w;rt--)et.buf[rt+tt]=et.buf[rt]}function writePackedVarint(w,Ne){for(var et=0;et<w.length;et++)Ne.writeVarint(w[et])}function writePackedSVarint(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSVarint(w[et])}function writePackedFloat(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFloat(w[et])}function writePackedDouble(w,Ne){for(var et=0;et<w.length;et++)Ne.writeDouble(w[et])}function writePackedBoolean(w,Ne){for(var et=0;et<w.length;et++)Ne.writeBoolean(w[et])}function writePackedFixed32(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFixed32(w[et])}function writePackedSFixed32(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSFixed32(w[et])}function writePackedFixed64(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFixed64(w[et])}function writePackedSFixed64(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSFixed64(w[et])}function readUInt32(w,Ne){return(w[Ne]|w[Ne+1]<<8|w[Ne+2]<<16)+16777216*w[Ne+3]}function writeInt32(w,Ne,et){w[et]=Ne,w[et+1]=Ne>>>8,w[et+2]=Ne>>>16,w[et+3]=Ne>>>24}function readInt32(w,Ne){return(w[Ne]|w[Ne+1]<<8|w[Ne+2]<<16)+(w[Ne+3]<<24)}Pbf.prototype={destroy:function(){this.buf=null},readFields:function(w,Ne,et){for(et=et||this.length;this.pos<et;){var tt=this.readVarint(),rt=tt>>3,nt=this.pos;this.type=7&tt,w(rt,Ne,this),this.pos===nt&&this.skip(tt)}return Ne},readMessage:function(w,Ne){return this.readFields(w,Ne,this.readVarint()+this.pos)},readFixed32:function(){var w=readUInt32(this.buf,this.pos);return this.pos+=4,w},readSFixed32:function(){var w=readInt32(this.buf,this.pos);return this.pos+=4,w},readFixed64:function(){var w=readUInt32(this.buf,this.pos)+4294967296*readUInt32(this.buf,this.pos+4);return this.pos+=8,w},readSFixed64:function(){var w=readUInt32(this.buf,this.pos)+4294967296*readInt32(this.buf,this.pos+4);return this.pos+=8,w},readFloat:function(){var w=tt.read(this.buf,this.pos,!0,23,4);return this.pos+=4,w},readDouble:function(){var w=tt.read(this.buf,this.pos,!0,52,8);return this.pos+=8,w},readVarint:function(w){var Ne,et,tt=this.buf;return Ne=127&(et=tt[this.pos++]),et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<7,et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<14,et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<21,et<128?Ne:function readVarintRemainder(w,Ne,et){var tt,rt,nt=et.buf;if(rt=nt[et.pos++],tt=(112&rt)>>4,rt<128)return toNum(w,tt,Ne);if(rt=nt[et.pos++],tt|=(127&rt)<<3,rt<128)return toNum(w,tt,Ne);if(rt=nt[et.pos++],tt|=(127&rt)<<10,rt<128)return toNum(w,tt,Ne);if(rt=nt[et.pos++],tt|=(127&rt)<<17,rt<128)return toNum(w,tt,Ne);if(rt=nt[et.pos++],tt|=(127&rt)<<24,rt<128)return toNum(w,tt,Ne);if(rt=nt[et.pos++],tt|=(1&rt)<<31,rt<128)return toNum(w,tt,Ne);throw new Error("Expected varint not more than 10 bytes")}(Ne|=(15&(et=tt[this.pos]))<<28,w,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var w=this.readVarint();return w%2==1?(w+1)/-2:w/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var w=this.readVarint()+this.pos,Ne=this.pos;return this.pos=w,w-Ne>=12&&rt?function readUtf8TextDecoder(w,Ne,et){return rt.decode(w.subarray(Ne,et))}(this.buf,Ne,w):function readUtf8(w,Ne,et){var tt="",rt=Ne;for(;rt<et;){var nt,it,ot,at=w[rt],st=null,ct=at>239?4:at>223?3:at>191?2:1;if(rt+ct>et)break;1===ct?at<128&&(st=at):2===ct?128==(192&(nt=w[rt+1]))&&(st=(31&at)<<6|63&nt)<=127&&(st=null):3===ct?(nt=w[rt+1],it=w[rt+2],128==(192&nt)&&128==(192&it)&&((st=(15&at)<<12|(63&nt)<<6|63&it)<=2047||st>=55296&&st<=57343)&&(st=null)):4===ct&&(nt=w[rt+1],it=w[rt+2],ot=w[rt+3],128==(192&nt)&&128==(192&it)&&128==(192&ot)&&((st=(15&at)<<18|(63&nt)<<12|(63&it)<<6|63&ot)<=65535||st>=1114112)&&(st=null)),null===st?(st=65533,ct=1):st>65535&&(st-=65536,tt+=String.fromCharCode(st>>>10&1023|55296),st=56320|1023&st),tt+=String.fromCharCode(st),rt+=ct}return tt}(this.buf,Ne,w)},readBytes:function(){var w=this.readVarint()+this.pos,Ne=this.buf.subarray(this.pos,w);return this.pos=w,Ne},readPackedVarint:function(w,Ne){if(this.type!==Pbf.Bytes)return w.push(this.readVarint(Ne));var et=readPackedEnd(this);for(w=w||[];this.pos<et;)w.push(this.readVarint(Ne));return w},readPackedSVarint:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readSVarint());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readSVarint());return w},readPackedBoolean:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readBoolean());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readBoolean());return w},readPackedFloat:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readFloat());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readFloat());return w},readPackedDouble:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readDouble());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readDouble());return w},readPackedFixed32:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readFixed32());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readFixed32());return w},readPackedSFixed32:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readSFixed32());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readSFixed32());return w},readPackedFixed64:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readFixed64());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readFixed64());return w},readPackedSFixed64:function(w){if(this.type!==Pbf.Bytes)return w.push(this.readSFixed64());var Ne=readPackedEnd(this);for(w=w||[];this.pos<Ne;)w.push(this.readSFixed64());return w},skip:function(w){var Ne=7&w;if(Ne===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(Ne===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(Ne===Pbf.Fixed32)this.pos+=4;else{if(Ne!==Pbf.Fixed64)throw new Error("Unimplemented type: "+Ne);this.pos+=8}},writeTag:function(w,Ne){this.writeVarint(w<<3|Ne)},realloc:function(w){for(var Ne=this.length||16;Ne<this.pos+w;)Ne*=2;if(Ne!==this.length){var et=new Uint8Array(Ne);et.set(this.buf),this.buf=et,this.length=Ne}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(w){this.realloc(4),writeInt32(this.buf,w,this.pos),this.pos+=4},writeSFixed32:function(w){this.realloc(4),writeInt32(this.buf,w,this.pos),this.pos+=4},writeFixed64:function(w){this.realloc(8),writeInt32(this.buf,-1&w,this.pos),writeInt32(this.buf,Math.floor(w*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(w){this.realloc(8),writeInt32(this.buf,-1&w,this.pos),writeInt32(this.buf,Math.floor(w*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(w){(w=+w||0)>268435455||w<0?function writeBigVarint(w,Ne){var et,tt;w>=0?(et=w%4294967296|0,tt=w/4294967296|0):(tt=~(-w/4294967296),4294967295^(et=~(-w%4294967296))?et=et+1|0:(et=0,tt=tt+1|0));if(w>=0x10000000000000000||w<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");Ne.realloc(10),function writeBigVarintLow(w,Ne,et){et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos]=127&w}(et,0,Ne),function writeBigVarintHigh(w,Ne){var et=(7&w)<<4;if(Ne.buf[Ne.pos++]|=et|((w>>>=3)?128:0),!w)return;if(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),!w)return;if(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),!w)return;if(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),!w)return;if(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),!w)return;Ne.buf[Ne.pos++]=127&w}(tt,Ne)}(w,this):(this.realloc(4),this.buf[this.pos++]=127&w|(w>127?128:0),w<=127||(this.buf[this.pos++]=127&(w>>>=7)|(w>127?128:0),w<=127||(this.buf[this.pos++]=127&(w>>>=7)|(w>127?128:0),w<=127||(this.buf[this.pos++]=w>>>7&127))))},writeSVarint:function(w){this.writeVarint(w<0?2*-w-1:2*w)},writeBoolean:function(w){this.writeVarint(Boolean(w))},writeString:function(w){w=String(w),this.realloc(4*w.length),this.pos++;var Ne=this.pos;this.pos=function writeUtf8(w,Ne,et){for(var tt,rt,nt=0;nt<Ne.length;nt++){if((tt=Ne.charCodeAt(nt))>55295&&tt<57344){if(!rt){tt>56319||nt+1===Ne.length?(w[et++]=239,w[et++]=191,w[et++]=189):rt=tt;continue}if(tt<56320){w[et++]=239,w[et++]=191,w[et++]=189,rt=tt;continue}tt=rt-55296<<10|tt-56320|65536,rt=null}else rt&&(w[et++]=239,w[et++]=191,w[et++]=189,rt=null);tt<128?w[et++]=tt:(tt<2048?w[et++]=tt>>6|192:(tt<65536?w[et++]=tt>>12|224:(w[et++]=tt>>18|240,w[et++]=tt>>12&63|128),w[et++]=tt>>6&63|128),w[et++]=63&tt|128)}return et}(this.buf,w,this.pos);var et=this.pos-Ne;et>=128&&makeRoomForExtraLength(Ne,et,this),this.pos=Ne-1,this.writeVarint(et),this.pos+=et},writeFloat:function(w){this.realloc(4),tt.write(this.buf,w,this.pos,!0,23,4),this.pos+=4},writeDouble:function(w){this.realloc(8),tt.write(this.buf,w,this.pos,!0,52,8),this.pos+=8},writeBytes:function(w){var Ne=w.length;this.writeVarint(Ne),this.realloc(Ne);for(var et=0;et<Ne;et++)this.buf[this.pos++]=w[et]},writeRawMessage:function(w,Ne){this.pos++;var et=this.pos;w(Ne,this);var tt=this.pos-et;tt>=128&&makeRoomForExtraLength(et,tt,this),this.pos=et-1,this.writeVarint(tt),this.pos+=tt},writeMessage:function(w,Ne,et){this.writeTag(w,Pbf.Bytes),this.writeRawMessage(Ne,et)},writePackedVarint:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedVarint,Ne)},writePackedSVarint:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedSVarint,Ne)},writePackedBoolean:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedBoolean,Ne)},writePackedFloat:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedFloat,Ne)},writePackedDouble:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedDouble,Ne)},writePackedFixed32:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedFixed32,Ne)},writePackedSFixed32:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedSFixed32,Ne)},writePackedFixed64:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedFixed64,Ne)},writePackedSFixed64:function(w,Ne){Ne.length&&this.writeMessage(w,writePackedSFixed64,Ne)},writeBytesField:function(w,Ne){this.writeTag(w,Pbf.Bytes),this.writeBytes(Ne)},writeFixed32Field:function(w,Ne){this.writeTag(w,Pbf.Fixed32),this.writeFixed32(Ne)},writeSFixed32Field:function(w,Ne){this.writeTag(w,Pbf.Fixed32),this.writeSFixed32(Ne)},writeFixed64Field:function(w,Ne){this.writeTag(w,Pbf.Fixed64),this.writeFixed64(Ne)},writeSFixed64Field:function(w,Ne){this.writeTag(w,Pbf.Fixed64),this.writeSFixed64(Ne)},writeVarintField:function(w,Ne){this.writeTag(w,Pbf.Varint),this.writeVarint(Ne)},writeSVarintField:function(w,Ne){this.writeTag(w,Pbf.Varint),this.writeSVarint(Ne)},writeStringField:function(w,Ne){this.writeTag(w,Pbf.Bytes),this.writeString(Ne)},writeFloatField:function(w,Ne){this.writeTag(w,Pbf.Fixed32),this.writeFloat(Ne)},writeDoubleField:function(w,Ne){this.writeTag(w,Pbf.Fixed64),this.writeDouble(Ne)},writeBooleanField:function(w,Ne){this.writeVarintField(w,Boolean(Ne))}}},function(w,Ne,et){"use strict";w.exports=et(248)},function(w,Ne,et){"use strict";(function(w){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var et="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,tt=function(){for(var w=["Edge","Trident","Firefox"],Ne=0;Ne<w.length;Ne+=1)if(et&&navigator.userAgent.indexOf(w[Ne])>=0)return 1;return 0}();var rt=et&&window.Promise?function microtaskDebounce(w){var Ne=!1;return function(){Ne||(Ne=!0,window.Promise.resolve().then((function(){Ne=!1,w()})))}}:function taskDebounce(w){var Ne=!1;return function(){Ne||(Ne=!0,setTimeout((function(){Ne=!1,w()}),tt))}};function isFunction(w){return w&&"[object Function]"==={}.toString.call(w)}function getStyleComputedProperty(w,Ne){if(1!==w.nodeType)return[];var et=w.ownerDocument.defaultView.getComputedStyle(w,null);return Ne?et[Ne]:et}function getParentNode(w){return"HTML"===w.nodeName?w:w.parentNode||w.host}function getScrollParent(w){if(!w)return document.body;switch(w.nodeName){case"HTML":case"BODY":return w.ownerDocument.body;case"#document":return w.body}var Ne=getStyleComputedProperty(w),et=Ne.overflow,tt=Ne.overflowX,rt=Ne.overflowY;return/(auto|scroll|overlay)/.test(et+rt+tt)?w:getScrollParent(getParentNode(w))}function getReferenceNode(w){return w&&w.referenceNode?w.referenceNode:w}var nt=et&&!(!window.MSInputMethodContext||!document.documentMode),it=et&&/MSIE 10/.test(navigator.userAgent);function isIE(w){return 11===w?nt:10===w?it:nt||it}function getOffsetParent(w){if(!w)return document.documentElement;for(var Ne=isIE(10)?document.body:null,et=w.offsetParent||null;et===Ne&&w.nextElementSibling;)et=(w=w.nextElementSibling).offsetParent;var tt=et&&et.nodeName;return tt&&"BODY"!==tt&&"HTML"!==tt?-1!==["TH","TD","TABLE"].indexOf(et.nodeName)&&"static"===getStyleComputedProperty(et,"position")?getOffsetParent(et):et:w?w.ownerDocument.documentElement:document.documentElement}function getRoot(w){return null!==w.parentNode?getRoot(w.parentNode):w}function findCommonOffsetParent(w,Ne){if(!(w&&w.nodeType&&Ne&&Ne.nodeType))return document.documentElement;var et=w.compareDocumentPosition(Ne)&Node.DOCUMENT_POSITION_FOLLOWING,tt=et?w:Ne,rt=et?Ne:w,nt=document.createRange();nt.setStart(tt,0),nt.setEnd(rt,0);var it=nt.commonAncestorContainer;if(w!==it&&Ne!==it||tt.contains(rt))return function isOffsetContainer(w){var Ne=w.nodeName;return"BODY"!==Ne&&("HTML"===Ne||getOffsetParent(w.firstElementChild)===w)}(it)?it:getOffsetParent(it);var ot=getRoot(w);return ot.host?findCommonOffsetParent(ot.host,Ne):findCommonOffsetParent(w,getRoot(Ne).host)}function getScroll(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",et="top"===Ne?"scrollTop":"scrollLeft",tt=w.nodeName;if("BODY"===tt||"HTML"===tt){var rt=w.ownerDocument.documentElement,nt=w.ownerDocument.scrollingElement||rt;return nt[et]}return w[et]}function includeScroll(w,Ne){var et=arguments.length>2&&void 0!==arguments[2]&&arguments[2],tt=getScroll(Ne,"top"),rt=getScroll(Ne,"left"),nt=et?-1:1;return w.top+=tt*nt,w.bottom+=tt*nt,w.left+=rt*nt,w.right+=rt*nt,w}function getBordersSize(w,Ne){var et="x"===Ne?"Left":"Top",tt="Left"===et?"Right":"Bottom";return parseFloat(w["border"+et+"Width"])+parseFloat(w["border"+tt+"Width"])}function getSize(w,Ne,et,tt){return Math.max(Ne["offset"+w],Ne["scroll"+w],et["client"+w],et["offset"+w],et["scroll"+w],isIE(10)?parseInt(et["offset"+w])+parseInt(tt["margin"+("Height"===w?"Top":"Left")])+parseInt(tt["margin"+("Height"===w?"Bottom":"Right")]):0)}function getWindowSizes(w){var Ne=w.body,et=w.documentElement,tt=isIE(10)&&getComputedStyle(et);return{height:getSize("Height",Ne,et,tt),width:getSize("Width",Ne,et,tt)}}var classCallCheck=function(w,Ne){if(!(w instanceof Ne))throw new TypeError("Cannot call a class as a function")},ot=function(){function defineProperties(w,Ne){for(var et=0;et<Ne.length;et++){var tt=Ne[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(w,tt.key,tt)}}return function(w,Ne,et){return Ne&&defineProperties(w.prototype,Ne),et&&defineProperties(w,et),w}}(),defineProperty=function(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w},at=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w};function getClientRect(w){return at({},w,{right:w.left+w.width,bottom:w.top+w.height})}function getBoundingClientRect(w){var Ne={};try{if(isIE(10)){Ne=w.getBoundingClientRect();var et=getScroll(w,"top"),tt=getScroll(w,"left");Ne.top+=et,Ne.left+=tt,Ne.bottom+=et,Ne.right+=tt}else Ne=w.getBoundingClientRect()}catch(w){}var rt={left:Ne.left,top:Ne.top,width:Ne.right-Ne.left,height:Ne.bottom-Ne.top},nt="HTML"===w.nodeName?getWindowSizes(w.ownerDocument):{},it=nt.width||w.clientWidth||rt.width,ot=nt.height||w.clientHeight||rt.height,at=w.offsetWidth-it,st=w.offsetHeight-ot;if(at||st){var ct=getStyleComputedProperty(w);at-=getBordersSize(ct,"x"),st-=getBordersSize(ct,"y"),rt.width-=at,rt.height-=st}return getClientRect(rt)}function getOffsetRectRelativeToArbitraryNode(w,Ne){var et=arguments.length>2&&void 0!==arguments[2]&&arguments[2],tt=isIE(10),rt="HTML"===Ne.nodeName,nt=getBoundingClientRect(w),it=getBoundingClientRect(Ne),ot=getScrollParent(w),at=getStyleComputedProperty(Ne),st=parseFloat(at.borderTopWidth),ct=parseFloat(at.borderLeftWidth);et&&rt&&(it.top=Math.max(it.top,0),it.left=Math.max(it.left,0));var pt=getClientRect({top:nt.top-it.top-st,left:nt.left-it.left-ct,width:nt.width,height:nt.height});if(pt.marginTop=0,pt.marginLeft=0,!tt&&rt){var ft=parseFloat(at.marginTop),dt=parseFloat(at.marginLeft);pt.top-=st-ft,pt.bottom-=st-ft,pt.left-=ct-dt,pt.right-=ct-dt,pt.marginTop=ft,pt.marginLeft=dt}return(tt&&!et?Ne.contains(ot):Ne===ot&&"BODY"!==ot.nodeName)&&(pt=includeScroll(pt,Ne)),pt}function getViewportOffsetRectRelativeToArtbitraryNode(w){var Ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1],et=w.ownerDocument.documentElement,tt=getOffsetRectRelativeToArbitraryNode(w,et),rt=Math.max(et.clientWidth,window.innerWidth||0),nt=Math.max(et.clientHeight,window.innerHeight||0),it=Ne?0:getScroll(et),ot=Ne?0:getScroll(et,"left"),at={top:it-tt.top+tt.marginTop,left:ot-tt.left+tt.marginLeft,width:rt,height:nt};return getClientRect(at)}function isFixed(w){var Ne=w.nodeName;if("BODY"===Ne||"HTML"===Ne)return!1;if("fixed"===getStyleComputedProperty(w,"position"))return!0;var et=getParentNode(w);return!!et&&isFixed(et)}function getFixedPositionOffsetParent(w){if(!w||!w.parentElement||isIE())return document.documentElement;for(var Ne=w.parentElement;Ne&&"none"===getStyleComputedProperty(Ne,"transform");)Ne=Ne.parentElement;return Ne||document.documentElement}function getBoundaries(w,Ne,et,tt){var rt=arguments.length>4&&void 0!==arguments[4]&&arguments[4],nt={top:0,left:0},it=rt?getFixedPositionOffsetParent(w):findCommonOffsetParent(w,getReferenceNode(Ne));if("viewport"===tt)nt=getViewportOffsetRectRelativeToArtbitraryNode(it,rt);else{var ot=void 0;"scrollParent"===tt?"BODY"===(ot=getScrollParent(getParentNode(Ne))).nodeName&&(ot=w.ownerDocument.documentElement):ot="window"===tt?w.ownerDocument.documentElement:tt;var at=getOffsetRectRelativeToArbitraryNode(ot,it,rt);if("HTML"!==ot.nodeName||isFixed(it))nt=at;else{var st=getWindowSizes(w.ownerDocument),ct=st.height,pt=st.width;nt.top+=at.top-at.marginTop,nt.bottom=ct+at.top,nt.left+=at.left-at.marginLeft,nt.right=pt+at.left}}var ft="number"==typeof(et=et||0);return nt.left+=ft?et:et.left||0,nt.top+=ft?et:et.top||0,nt.right-=ft?et:et.right||0,nt.bottom-=ft?et:et.bottom||0,nt}function getArea(w){return w.width*w.height}function computeAutoPlacement(w,Ne,et,tt,rt){var nt=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===w.indexOf("auto"))return w;var it=getBoundaries(et,tt,nt,rt),ot={top:{width:it.width,height:Ne.top-it.top},right:{width:it.right-Ne.right,height:it.height},bottom:{width:it.width,height:it.bottom-Ne.bottom},left:{width:Ne.left-it.left,height:it.height}},st=Object.keys(ot).map((function(w){return at({key:w},ot[w],{area:getArea(ot[w])})})).sort((function(w,Ne){return Ne.area-w.area})),ct=st.filter((function(w){var Ne=w.width,tt=w.height;return Ne>=et.clientWidth&&tt>=et.clientHeight})),pt=ct.length>0?ct[0].key:st[0].key,ft=w.split("-")[1];return pt+(ft?"-"+ft:"")}function getReferenceOffsets(w,Ne,et){var tt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,rt=tt?getFixedPositionOffsetParent(Ne):findCommonOffsetParent(Ne,getReferenceNode(et));return getOffsetRectRelativeToArbitraryNode(et,rt,tt)}function getOuterSizes(w){var Ne=w.ownerDocument.defaultView.getComputedStyle(w),et=parseFloat(Ne.marginTop||0)+parseFloat(Ne.marginBottom||0),tt=parseFloat(Ne.marginLeft||0)+parseFloat(Ne.marginRight||0);return{width:w.offsetWidth+tt,height:w.offsetHeight+et}}function getOppositePlacement(w){var Ne={left:"right",right:"left",bottom:"top",top:"bottom"};return w.replace(/left|right|bottom|top/g,(function(w){return Ne[w]}))}function getPopperOffsets(w,Ne,et){et=et.split("-")[0];var tt=getOuterSizes(w),rt={width:tt.width,height:tt.height},nt=-1!==["right","left"].indexOf(et),it=nt?"top":"left",ot=nt?"left":"top",at=nt?"height":"width",st=nt?"width":"height";return rt[it]=Ne[it]+Ne[at]/2-tt[at]/2,rt[ot]=et===ot?Ne[ot]-tt[st]:Ne[getOppositePlacement(ot)],rt}function find(w,Ne){return Array.prototype.find?w.find(Ne):w.filter(Ne)[0]}function runModifiers(w,Ne,et){return(void 0===et?w:w.slice(0,function findIndex(w,Ne,et){if(Array.prototype.findIndex)return w.findIndex((function(w){return w[Ne]===et}));var tt=find(w,(function(w){return w[Ne]===et}));return w.indexOf(tt)}(w,"name",et))).forEach((function(w){w.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var et=w.function||w.fn;w.enabled&&isFunction(et)&&(Ne.offsets.popper=getClientRect(Ne.offsets.popper),Ne.offsets.reference=getClientRect(Ne.offsets.reference),Ne=et(Ne,w))})),Ne}function update(){if(!this.state.isDestroyed){var w={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};w.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),w.placement=computeAutoPlacement(this.options.placement,w.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),w.originalPlacement=w.placement,w.positionFixed=this.options.positionFixed,w.offsets.popper=getPopperOffsets(this.popper,w.offsets.reference,w.placement),w.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",w=runModifiers(this.modifiers,w),this.state.isCreated?this.options.onUpdate(w):(this.state.isCreated=!0,this.options.onCreate(w))}}function isModifierEnabled(w,Ne){return w.some((function(w){var et=w.name;return w.enabled&&et===Ne}))}function getSupportedPropertyName(w){for(var Ne=[!1,"ms","Webkit","Moz","O"],et=w.charAt(0).toUpperCase()+w.slice(1),tt=0;tt<Ne.length;tt++){var rt=Ne[tt],nt=rt?""+rt+et:w;if(void 0!==document.body.style[nt])return nt}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(w){var Ne=w.ownerDocument;return Ne?Ne.defaultView:window}function setupEventListeners(w,Ne,et,tt){et.updateBound=tt,getWindow(w).addEventListener("resize",et.updateBound,{passive:!0});var rt=getScrollParent(w);return function attachToScrollParents(w,Ne,et,tt){var rt="BODY"===w.nodeName,nt=rt?w.ownerDocument.defaultView:w;nt.addEventListener(Ne,et,{passive:!0}),rt||attachToScrollParents(getScrollParent(nt.parentNode),Ne,et,tt),tt.push(nt)}(rt,"scroll",et.updateBound,et.scrollParents),et.scrollElement=rt,et.eventsEnabled=!0,et}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(w,Ne){return getWindow(w).removeEventListener("resize",Ne.updateBound),Ne.scrollParents.forEach((function(w){w.removeEventListener("scroll",Ne.updateBound)})),Ne.updateBound=null,Ne.scrollParents=[],Ne.scrollElement=null,Ne.eventsEnabled=!1,Ne}(this.reference,this.state))}function isNumeric(w){return""!==w&&!isNaN(parseFloat(w))&&isFinite(w)}function setStyles(w,Ne){Object.keys(Ne).forEach((function(et){var tt="";-1!==["width","height","top","right","bottom","left"].indexOf(et)&&isNumeric(Ne[et])&&(tt="px"),w.style[et]=Ne[et]+tt}))}var st=et&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(w,Ne,et){var tt=find(w,(function(w){return w.name===Ne})),rt=!!tt&&w.some((function(w){return w.name===et&&w.enabled&&w.order<tt.order}));if(!rt){var nt="`"+Ne+"`",it="`"+et+"`";console.warn(it+" modifier is required by "+nt+" modifier in order to work, be sure to include it before "+nt+"!")}return rt}var ct=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pt=ct.slice(3);function clockwise(w){var Ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1],et=pt.indexOf(w),tt=pt.slice(et+1).concat(pt.slice(0,et));return Ne?tt.reverse():tt}var ft="flip",dt="clockwise",mt="counterclockwise";function parseOffset(w,Ne,et,tt){var rt=[0,0],nt=-1!==["right","left"].indexOf(tt),it=w.split(/(\+|\-)/).map((function(w){return w.trim()})),ot=it.indexOf(find(it,(function(w){return-1!==w.search(/,|\s/)})));it[ot]&&-1===it[ot].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var at=/\s*,\s*|\s+/,st=-1!==ot?[it.slice(0,ot).concat([it[ot].split(at)[0]]),[it[ot].split(at)[1]].concat(it.slice(ot+1))]:[it];return(st=st.map((function(w,tt){var rt=(1===tt?!nt:nt)?"height":"width",it=!1;return w.reduce((function(w,Ne){return""===w[w.length-1]&&-1!==["+","-"].indexOf(Ne)?(w[w.length-1]=Ne,it=!0,w):it?(w[w.length-1]+=Ne,it=!1,w):w.concat(Ne)}),[]).map((function(w){return function toValue(w,Ne,et,tt){var rt=w.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),nt=+rt[1],it=rt[2];if(!nt)return w;if(0===it.indexOf("%")){var ot=void 0;switch(it){case"%p":ot=et;break;case"%":case"%r":default:ot=tt}return getClientRect(ot)[Ne]/100*nt}if("vh"===it||"vw"===it){return("vh"===it?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*nt}return nt}(w,rt,Ne,et)}))}))).forEach((function(w,Ne){w.forEach((function(et,tt){isNumeric(et)&&(rt[Ne]+=et*("-"===w[tt-1]?-1:1))}))})),rt}var yt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:{shift:{order:100,enabled:!0,fn:function shift(w){var Ne=w.placement,et=Ne.split("-")[0],tt=Ne.split("-")[1];if(tt){var rt=w.offsets,nt=rt.reference,it=rt.popper,ot=-1!==["bottom","top"].indexOf(et),st=ot?"left":"top",ct=ot?"width":"height",pt={start:defineProperty({},st,nt[st]),end:defineProperty({},st,nt[st]+nt[ct]-it[ct])};w.offsets.popper=at({},it,pt[tt])}return w}},offset:{order:200,enabled:!0,fn:function offset(w,Ne){var et=Ne.offset,tt=w.placement,rt=w.offsets,nt=rt.popper,it=rt.reference,ot=tt.split("-")[0],at=void 0;return at=isNumeric(+et)?[+et,0]:parseOffset(et,nt,it,ot),"left"===ot?(nt.top+=at[0],nt.left-=at[1]):"right"===ot?(nt.top+=at[0],nt.left+=at[1]):"top"===ot?(nt.left+=at[0],nt.top-=at[1]):"bottom"===ot&&(nt.left+=at[0],nt.top+=at[1]),w.popper=nt,w},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(w,Ne){var et=Ne.boundariesElement||getOffsetParent(w.instance.popper);w.instance.reference===et&&(et=getOffsetParent(et));var tt=getSupportedPropertyName("transform"),rt=w.instance.popper.style,nt=rt.top,it=rt.left,ot=rt[tt];rt.top="",rt.left="",rt[tt]="";var st=getBoundaries(w.instance.popper,w.instance.reference,Ne.padding,et,w.positionFixed);rt.top=nt,rt.left=it,rt[tt]=ot,Ne.boundaries=st;var ct=Ne.priority,pt=w.offsets.popper,ft={primary:function primary(w){var et=pt[w];return pt[w]<st[w]&&!Ne.escapeWithReference&&(et=Math.max(pt[w],st[w])),defineProperty({},w,et)},secondary:function secondary(w){var et="right"===w?"left":"top",tt=pt[et];return pt[w]>st[w]&&!Ne.escapeWithReference&&(tt=Math.min(pt[et],st[w]-("right"===w?pt.width:pt.height))),defineProperty({},et,tt)}};return ct.forEach((function(w){var Ne=-1!==["left","top"].indexOf(w)?"primary":"secondary";pt=at({},pt,ft[Ne](w))})),w.offsets.popper=pt,w},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(w){var Ne=w.offsets,et=Ne.popper,tt=Ne.reference,rt=w.placement.split("-")[0],nt=Math.floor,it=-1!==["top","bottom"].indexOf(rt),ot=it?"right":"bottom",at=it?"left":"top",st=it?"width":"height";return et[ot]<nt(tt[at])&&(w.offsets.popper[at]=nt(tt[at])-et[st]),et[at]>nt(tt[ot])&&(w.offsets.popper[at]=nt(tt[ot])),w}},arrow:{order:500,enabled:!0,fn:function arrow(w,Ne){var et;if(!isModifierRequired(w.instance.modifiers,"arrow","keepTogether"))return w;var tt=Ne.element;if("string"==typeof tt){if(!(tt=w.instance.popper.querySelector(tt)))return w}else if(!w.instance.popper.contains(tt))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),w;var rt=w.placement.split("-")[0],nt=w.offsets,it=nt.popper,ot=nt.reference,at=-1!==["left","right"].indexOf(rt),st=at?"height":"width",ct=at?"Top":"Left",pt=ct.toLowerCase(),ft=at?"left":"top",dt=at?"bottom":"right",mt=getOuterSizes(tt)[st];ot[dt]-mt<it[pt]&&(w.offsets.popper[pt]-=it[pt]-(ot[dt]-mt)),ot[pt]+mt>it[dt]&&(w.offsets.popper[pt]+=ot[pt]+mt-it[dt]),w.offsets.popper=getClientRect(w.offsets.popper);var yt=ot[pt]+ot[st]/2-mt/2,vt=getStyleComputedProperty(w.instance.popper),Rt=parseFloat(vt["margin"+ct]),Ot=parseFloat(vt["border"+ct+"Width"]),Dt=yt-w.offsets.popper[pt]-Rt-Ot;return Dt=Math.max(Math.min(it[st]-mt,Dt),0),w.arrowElement=tt,w.offsets.arrow=(defineProperty(et={},pt,Math.round(Dt)),defineProperty(et,ft,""),et),w},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(w,Ne){if(isModifierEnabled(w.instance.modifiers,"inner"))return w;if(w.flipped&&w.placement===w.originalPlacement)return w;var et=getBoundaries(w.instance.popper,w.instance.reference,Ne.padding,Ne.boundariesElement,w.positionFixed),tt=w.placement.split("-")[0],rt=getOppositePlacement(tt),nt=w.placement.split("-")[1]||"",it=[];switch(Ne.behavior){case ft:it=[tt,rt];break;case dt:it=clockwise(tt);break;case mt:it=clockwise(tt,!0);break;default:it=Ne.behavior}return it.forEach((function(ot,st){if(tt!==ot||it.length===st+1)return w;tt=w.placement.split("-")[0],rt=getOppositePlacement(tt);var ct=w.offsets.popper,pt=w.offsets.reference,ft=Math.floor,dt="left"===tt&&ft(ct.right)>ft(pt.left)||"right"===tt&&ft(ct.left)<ft(pt.right)||"top"===tt&&ft(ct.bottom)>ft(pt.top)||"bottom"===tt&&ft(ct.top)<ft(pt.bottom),mt=ft(ct.left)<ft(et.left),yt=ft(ct.right)>ft(et.right),vt=ft(ct.top)<ft(et.top),Rt=ft(ct.bottom)>ft(et.bottom),Ot="left"===tt&&mt||"right"===tt&&yt||"top"===tt&&vt||"bottom"===tt&&Rt,Dt=-1!==["top","bottom"].indexOf(tt),Bt=!!Ne.flipVariations&&(Dt&&"start"===nt&&mt||Dt&&"end"===nt&&yt||!Dt&&"start"===nt&&vt||!Dt&&"end"===nt&&Rt),er=!!Ne.flipVariationsByContent&&(Dt&&"start"===nt&&yt||Dt&&"end"===nt&&mt||!Dt&&"start"===nt&&Rt||!Dt&&"end"===nt&&vt),rr=Bt||er;(dt||Ot||rr)&&(w.flipped=!0,(dt||Ot)&&(tt=it[st+1]),rr&&(nt=function getOppositeVariation(w){return"end"===w?"start":"start"===w?"end":w}(nt)),w.placement=tt+(nt?"-"+nt:""),w.offsets.popper=at({},w.offsets.popper,getPopperOffsets(w.instance.popper,w.offsets.reference,w.placement)),w=runModifiers(w.instance.modifiers,w,"flip"))})),w},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function inner(w){var Ne=w.placement,et=Ne.split("-")[0],tt=w.offsets,rt=tt.popper,nt=tt.reference,it=-1!==["left","right"].indexOf(et),ot=-1===["top","left"].indexOf(et);return rt[it?"left":"top"]=nt[et]-(ot?rt[it?"width":"height"]:0),w.placement=getOppositePlacement(Ne),w.offsets.popper=getClientRect(rt),w}},hide:{order:800,enabled:!0,fn:function hide(w){if(!isModifierRequired(w.instance.modifiers,"hide","preventOverflow"))return w;var Ne=w.offsets.reference,et=find(w.instance.modifiers,(function(w){return"preventOverflow"===w.name})).boundaries;if(Ne.bottom<et.top||Ne.left>et.right||Ne.top>et.bottom||Ne.right<et.left){if(!0===w.hide)return w;w.hide=!0,w.attributes["x-out-of-boundaries"]=""}else{if(!1===w.hide)return w;w.hide=!1,w.attributes["x-out-of-boundaries"]=!1}return w}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(w,Ne){var et=Ne.x,tt=Ne.y,rt=w.offsets.popper,nt=find(w.instance.modifiers,(function(w){return"applyStyle"===w.name})).gpuAcceleration;void 0!==nt&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var it=void 0!==nt?nt:Ne.gpuAcceleration,ot=getOffsetParent(w.instance.popper),ct=getBoundingClientRect(ot),pt={position:rt.position},ft=function getRoundedOffsets(w,Ne){var et=w.offsets,tt=et.popper,rt=et.reference,nt=Math.round,it=Math.floor,ot=function noRound(w){return w},at=nt(rt.width),st=nt(tt.width),ct=-1!==["left","right"].indexOf(w.placement),pt=-1!==w.placement.indexOf("-"),ft=Ne?ct||pt||at%2==st%2?nt:it:ot,dt=Ne?nt:ot;return{left:ft(at%2==1&&st%2==1&&!pt&&Ne?tt.left-1:tt.left),top:dt(tt.top),bottom:dt(tt.bottom),right:ft(tt.right)}}(w,window.devicePixelRatio<2||!st),dt="bottom"===et?"top":"bottom",mt="right"===tt?"left":"right",yt=getSupportedPropertyName("transform"),vt=void 0,Rt=void 0;if(Rt="bottom"===dt?"HTML"===ot.nodeName?-ot.clientHeight+ft.bottom:-ct.height+ft.bottom:ft.top,vt="right"===mt?"HTML"===ot.nodeName?-ot.clientWidth+ft.right:-ct.width+ft.right:ft.left,it&&yt)pt[yt]="translate3d("+vt+"px, "+Rt+"px, 0)",pt[dt]=0,pt[mt]=0,pt.willChange="transform";else{var Ot="bottom"===dt?-1:1,Dt="right"===mt?-1:1;pt[dt]=Rt*Ot,pt[mt]=vt*Dt,pt.willChange=dt+", "+mt}var Bt={"x-placement":w.placement};return w.attributes=at({},Bt,w.attributes),w.styles=at({},pt,w.styles),w.arrowStyles=at({},w.offsets.arrow,w.arrowStyles),w},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(w){return setStyles(w.instance.popper,w.styles),function setAttributes(w,Ne){Object.keys(Ne).forEach((function(et){!1!==Ne[et]?w.setAttribute(et,Ne[et]):w.removeAttribute(et)}))}(w.instance.popper,w.attributes),w.arrowElement&&Object.keys(w.arrowStyles).length&&setStyles(w.arrowElement,w.arrowStyles),w},onLoad:function applyStyleOnLoad(w,Ne,et,tt,rt){var nt=getReferenceOffsets(rt,Ne,w,et.positionFixed),it=computeAutoPlacement(et.placement,nt,Ne,w,et.modifiers.flip.boundariesElement,et.modifiers.flip.padding);return Ne.setAttribute("x-placement",it),setStyles(Ne,{position:et.positionFixed?"fixed":"absolute"}),et},gpuAcceleration:void 0}}},vt=function(){function Popper(w,Ne){var et=this,tt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(et.update)},this.update=rt(this.update.bind(this)),this.options=at({},Popper.Defaults,tt),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=w&&w.jquery?w[0]:w,this.popper=Ne&&Ne.jquery?Ne[0]:Ne,this.options.modifiers={},Object.keys(at({},Popper.Defaults.modifiers,tt.modifiers)).forEach((function(w){et.options.modifiers[w]=at({},Popper.Defaults.modifiers[w]||{},tt.modifiers?tt.modifiers[w]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(w){return at({name:w},et.options.modifiers[w])})).sort((function(w,Ne){return w.order-Ne.order})),this.modifiers.forEach((function(w){w.enabled&&isFunction(w.onLoad)&&w.onLoad(et.reference,et.popper,et.options,w,et.state)})),this.update();var nt=this.options.eventsEnabled;nt&&this.enableEventListeners(),this.state.eventsEnabled=nt}return ot(Popper,[{key:"update",value:function update$$1(){return update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();vt.Utils=("undefined"!=typeof window?window:w).PopperUtils,vt.placements=ct,vt.Defaults=yt,Ne.a=vt}).call(this,et(72))},function(w,Ne,et){w.exports=function(){"use strict";function _defineProperties(w,Ne){for(var et=0;et<Ne.length;et++){var tt=Ne[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(w,tt.key,tt)}}function _arrayLikeToArray(w,Ne){(null==Ne||Ne>w.length)&&(Ne=w.length);for(var et=0,tt=new Array(Ne);et<Ne;et++)tt[et]=w[et];return tt}function _createForOfIteratorHelperLoose(w){var Ne=0;if("undefined"==typeof Symbol||null==w[Symbol.iterator]){if(Array.isArray(w)||(w=function _unsupportedIterableToArray(w,Ne){if(w){if("string"==typeof w)return _arrayLikeToArray(w,Ne);var et=Object.prototype.toString.call(w).slice(8,-1);return"Object"===et&&w.constructor&&(et=w.constructor.name),"Map"===et||"Set"===et?Array.from(w):"Arguments"===et||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?_arrayLikeToArray(w,Ne):void 0}}(w)))return function(){return Ne>=w.length?{done:!0}:{done:!1,value:w[Ne++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(Ne=w[Symbol.iterator]()).next.bind(Ne)}var w=function createCommonjsModule(w,Ne){return w(Ne={exports:{}},Ne.exports),Ne.exports}((function(w){function getDefaults(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}w.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:getDefaults,changeDefaults:function changeDefaults(Ne){w.exports.defaults=Ne}}})),Ne=(w.defaults,w.getDefaults,w.changeDefaults,/[&<>"']/),et=/[&<>"']/g,tt=/[<>"']|&(?!#?\w+;)/,rt=/[<>"']|&(?!#?\w+;)/g,nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},it=function getEscapeReplacement(w){return nt[w]},ot=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function unescape(w){return w.replace(ot,(function(w,Ne){return"colon"===(Ne=Ne.toLowerCase())?":":"#"===Ne.charAt(0)?"x"===Ne.charAt(1)?String.fromCharCode(parseInt(Ne.substring(2),16)):String.fromCharCode(+Ne.substring(1)):""}))}var at=/(^|[^\[])\^/g,st=/[^\w:]/g,ct=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,pt={},ft=/^[^:]+:\/*[^/]*$/,dt=/^([^:]+:)[\s\S]*$/,mt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(w,Ne){pt[" "+w]||(ft.test(w)?pt[" "+w]=w+"/":pt[" "+w]=rtrim(w,"/",!0));var et=-1===(w=pt[" "+w]).indexOf(":");return"//"===Ne.substring(0,2)?et?Ne:w.replace(dt,"$1")+Ne:"/"===Ne.charAt(0)?et?Ne:w.replace(mt,"$1")+Ne:w+Ne}function rtrim(w,Ne,et){var tt=w.length;if(0===tt)return"";for(var rt=0;rt<tt;){var nt=w.charAt(tt-rt-1);if(nt!==Ne||et){if(nt===Ne||!et)break;rt++}else rt++}return w.substr(0,tt-rt)}var yt=function escape(w,nt){if(nt){if(Ne.test(w))return w.replace(et,it)}else if(tt.test(w))return w.replace(rt,it);return w},vt=unescape,Rt=function edit(w,Ne){w=w.source||w,Ne=Ne||"";var et={replace:function replace(Ne,tt){return tt=(tt=tt.source||tt).replace(at,"$1"),w=w.replace(Ne,tt),et},getRegex:function getRegex(){return new RegExp(w,Ne)}};return et},Ot=function cleanUrl(w,Ne,et){if(w){var tt;try{tt=decodeURIComponent(unescape(et)).replace(st,"").toLowerCase()}catch(w){return null}if(0===tt.indexOf("javascript:")||0===tt.indexOf("vbscript:")||0===tt.indexOf("data:"))return null}Ne&&!ct.test(et)&&(et=resolveUrl(Ne,et));try{et=encodeURI(et).replace(/%25/g,"%")}catch(w){return null}return et},Dt={exec:function noopTest(){}},Bt=function merge(w){for(var Ne,et,tt=1;tt<arguments.length;tt++)for(et in Ne=arguments[tt])Object.prototype.hasOwnProperty.call(Ne,et)&&(w[et]=Ne[et]);return w},er=function splitCells(w,Ne){var et=w.replace(/\|/g,(function(w,Ne,et){for(var tt=!1,rt=Ne;--rt>=0&&"\\"===et[rt];)tt=!tt;return tt?"|":" |"})).split(/ \|/),tt=0;if(et.length>Ne)et.splice(Ne);else for(;et.length<Ne;)et.push("");for(;tt<et.length;tt++)et[tt]=et[tt].trim().replace(/\\\|/g,"|");return et},rr=rtrim,vr=function findClosingBracket(w,Ne){if(-1===w.indexOf(Ne[1]))return-1;for(var et=w.length,tt=0,rt=0;rt<et;rt++)if("\\"===w[rt])rt++;else if(w[rt]===Ne[0])tt++;else if(w[rt]===Ne[1]&&--tt<0)return rt;return-1},wr=function checkSanitizeDeprecation(w){w&&w.sanitize&&!w.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Sr=w.defaults,rn=rr,vn=er,bn=yt,Tn=vr;function outputLink(w,Ne,et){var tt=Ne.href,rt=Ne.title?bn(Ne.title):null;return"!"!==w[0].charAt(0)?{type:"link",raw:et,href:tt,title:rt,text:w[1]}:{type:"image",raw:et,text:bn(w[1]),href:tt,title:rt}}var Cn=function(){function Tokenizer(w){this.options=w||Sr}var w=Tokenizer.prototype;return w.space=function space(w){var Ne=this.rules.block.newline.exec(w);if(Ne)return Ne[0].length>1?{type:"space",raw:Ne[0]}:{raw:"\n"}},w.code=function code(w,Ne){var et=this.rules.block.code.exec(w);if(et){var tt=Ne[Ne.length-1];if(tt&&"paragraph"===tt.type)return{raw:et[0],text:et[0].trimRight()};var rt=et[0].replace(/^ {4}/gm,"");return{type:"code",raw:et[0],codeBlockStyle:"indented",text:this.options.pedantic?rt:rn(rt,"\n")}}},w.fences=function fences(w){var Ne=this.rules.block.fences.exec(w);if(Ne){var et=Ne[0],tt=function indentCodeCompensation(w,Ne){var et=w.match(/^(\s+)(?:```)/);if(null===et)return Ne;var tt=et[1];return Ne.split("\n").map((function(w){var Ne=w.match(/^\s+/);return null===Ne?w:Ne[0].length>=tt.length?w.slice(tt.length):w})).join("\n")}(et,Ne[3]||"");return{type:"code",raw:et,lang:Ne[2]?Ne[2].trim():Ne[2],text:tt}}},w.heading=function heading(w){var Ne=this.rules.block.heading.exec(w);if(Ne)return{type:"heading",raw:Ne[0],depth:Ne[1].length,text:Ne[2]}},w.nptable=function nptable(w){var Ne=this.rules.block.nptable.exec(w);if(Ne){var et={type:"table",header:vn(Ne[1].replace(/^ *| *\| *$/g,"")),align:Ne[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ne[3]?Ne[3].replace(/\n$/,"").split("\n"):[],raw:Ne[0]};if(et.header.length===et.align.length){var tt,rt=et.align.length;for(tt=0;tt<rt;tt++)/^ *-+: *$/.test(et.align[tt])?et.align[tt]="right":/^ *:-+: *$/.test(et.align[tt])?et.align[tt]="center":/^ *:-+ *$/.test(et.align[tt])?et.align[tt]="left":et.align[tt]=null;for(rt=et.cells.length,tt=0;tt<rt;tt++)et.cells[tt]=vn(et.cells[tt],et.header.length);return et}}},w.hr=function hr(w){var Ne=this.rules.block.hr.exec(w);if(Ne)return{type:"hr",raw:Ne[0]}},w.blockquote=function blockquote(w){var Ne=this.rules.block.blockquote.exec(w);if(Ne){var et=Ne[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Ne[0],text:et}}},w.list=function list(w){var Ne=this.rules.block.list.exec(w);if(Ne){for(var et,tt,rt,nt,it,ot,at,st=Ne[0],ct=Ne[2],pt=ct.length>1,list={type:"list",raw:st,ordered:pt,start:pt?+ct:"",loose:!1,items:[]},ft=Ne[0].match(this.rules.block.item),dt=!1,mt=ft.length,yt=0;yt<mt;yt++)st=et=ft[yt],tt=et.length,~(et=et.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(tt-=et.length,et=this.options.pedantic?et.replace(/^ {1,4}/gm,""):et.replace(new RegExp("^ {1,"+tt+"}","gm"),"")),yt!==mt-1&&(rt=this.rules.block.bullet.exec(ft[yt+1])[0],(ct.length>1?1===rt.length:rt.length>1||this.options.smartLists&&rt!==ct)&&(nt=ft.slice(yt+1).join("\n"),list.raw=list.raw.substring(0,list.raw.length-nt.length),yt=mt-1)),it=dt||/\n\n(?!\s*$)/.test(et),yt!==mt-1&&(dt="\n"===et.charAt(et.length-1),it||(it=dt)),it&&(list.loose=!0),at=void 0,(ot=/^\[[ xX]\] /.test(et))&&(at=" "!==et[1],et=et.replace(/^\[[ xX]\] +/,"")),list.items.push({type:"list_item",raw:st,task:ot,checked:at,loose:it,text:et});return list}},w.html=function html(w){var Ne=this.rules.block.html.exec(w);if(Ne)return{type:this.options.sanitize?"paragraph":"html",raw:Ne[0],pre:!this.options.sanitizer&&("pre"===Ne[1]||"script"===Ne[1]||"style"===Ne[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ne[0]):bn(Ne[0]):Ne[0]}},w.def=function def(w){var Ne=this.rules.block.def.exec(w);if(Ne)return Ne[3]&&(Ne[3]=Ne[3].substring(1,Ne[3].length-1)),{tag:Ne[1].toLowerCase().replace(/\s+/g," "),raw:Ne[0],href:Ne[2],title:Ne[3]}},w.table=function table(w){var Ne=this.rules.block.table.exec(w);if(Ne){var et={type:"table",header:vn(Ne[1].replace(/^ *| *\| *$/g,"")),align:Ne[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ne[3]?Ne[3].replace(/\n$/,"").split("\n"):[]};if(et.header.length===et.align.length){et.raw=Ne[0];var tt,rt=et.align.length;for(tt=0;tt<rt;tt++)/^ *-+: *$/.test(et.align[tt])?et.align[tt]="right":/^ *:-+: *$/.test(et.align[tt])?et.align[tt]="center":/^ *:-+ *$/.test(et.align[tt])?et.align[tt]="left":et.align[tt]=null;for(rt=et.cells.length,tt=0;tt<rt;tt++)et.cells[tt]=vn(et.cells[tt].replace(/^ *\| *| *\| *$/g,""),et.header.length);return et}}},w.lheading=function lheading(w){var Ne=this.rules.block.lheading.exec(w);if(Ne)return{type:"heading",raw:Ne[0],depth:"="===Ne[2].charAt(0)?1:2,text:Ne[1]}},w.paragraph=function paragraph(w){var Ne=this.rules.block.paragraph.exec(w);if(Ne)return{type:"paragraph",raw:Ne[0],text:"\n"===Ne[1].charAt(Ne[1].length-1)?Ne[1].slice(0,-1):Ne[1]}},w.text=function text(w,Ne){var et=this.rules.block.text.exec(w);if(et){var tt=Ne[Ne.length-1];return tt&&"text"===tt.type?{raw:et[0],text:et[0]}:{type:"text",raw:et[0],text:et[0]}}},w.escape=function escape(w){var Ne=this.rules.inline.escape.exec(w);if(Ne)return{type:"escape",raw:Ne[0],text:bn(Ne[1])}},w.tag=function tag(w,Ne,et){var tt=this.rules.inline.tag.exec(w);if(tt)return!Ne&&/^<a /i.test(tt[0])?Ne=!0:Ne&&/^<\/a>/i.test(tt[0])&&(Ne=!1),!et&&/^<(pre|code|kbd|script)(\s|>)/i.test(tt[0])?et=!0:et&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(tt[0])&&(et=!1),{type:this.options.sanitize?"text":"html",raw:tt[0],inLink:Ne,inRawBlock:et,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(tt[0]):bn(tt[0]):tt[0]}},w.link=function link(w){var Ne=this.rules.inline.link.exec(w);if(Ne){var et=Tn(Ne[2],"()");if(et>-1){var tt=(0===Ne[0].indexOf("!")?5:4)+Ne[1].length+et;Ne[2]=Ne[2].substring(0,et),Ne[0]=Ne[0].substring(0,tt).trim(),Ne[3]=""}var rt=Ne[2],nt="";if(this.options.pedantic){var link=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(rt);link?(rt=link[1],nt=link[3]):nt=""}else nt=Ne[3]?Ne[3].slice(1,-1):"";return outputLink(Ne,{href:(rt=rt.trim().replace(/^<([\s\S]*)>$/,"$1"))?rt.replace(this.rules.inline._escapes,"$1"):rt,title:nt?nt.replace(this.rules.inline._escapes,"$1"):nt},Ne[0])}},w.reflink=function reflink(w,Ne){var et;if((et=this.rules.inline.reflink.exec(w))||(et=this.rules.inline.nolink.exec(w))){var tt=(et[2]||et[1]).replace(/\s+/g," ");if(!(tt=Ne[tt.toLowerCase()])||!tt.href){var rt=et[0].charAt(0);return{type:"text",raw:rt,text:rt}}return outputLink(et,tt,et[0])}},w.strong=function strong(w){var Ne=this.rules.inline.strong.exec(w);if(Ne)return{type:"strong",raw:Ne[0],text:Ne[4]||Ne[3]||Ne[2]||Ne[1]}},w.em=function em(w){var Ne=this.rules.inline.em.exec(w);if(Ne)return{type:"em",raw:Ne[0],text:Ne[6]||Ne[5]||Ne[4]||Ne[3]||Ne[2]||Ne[1]}},w.codespan=function codespan(w){var Ne=this.rules.inline.code.exec(w);if(Ne){var et=Ne[2].replace(/\n/g," "),tt=/[^ ]/.test(et),rt=et.startsWith(" ")&&et.endsWith(" ");return tt&&rt&&(et=et.substring(1,et.length-1)),et=bn(et,!0),{type:"codespan",raw:Ne[0],text:et}}},w.br=function br(w){var Ne=this.rules.inline.br.exec(w);if(Ne)return{type:"br",raw:Ne[0]}},w.del=function del(w){var Ne=this.rules.inline.del.exec(w);if(Ne)return{type:"del",raw:Ne[0],text:Ne[1]}},w.autolink=function autolink(w,Ne){var et,tt,rt=this.rules.inline.autolink.exec(w);if(rt)return tt="@"===rt[2]?"mailto:"+(et=bn(this.options.mangle?Ne(rt[1]):rt[1])):et=bn(rt[1]),{type:"link",raw:rt[0],text:et,href:tt,tokens:[{type:"text",raw:et,text:et}]}},w.url=function url(w,Ne){var et;if(et=this.rules.inline.url.exec(w)){var tt,rt;if("@"===et[2])rt="mailto:"+(tt=bn(this.options.mangle?Ne(et[0]):et[0]));else{var nt;do{nt=et[0],et[0]=this.rules.inline._backpedal.exec(et[0])[0]}while(nt!==et[0]);tt=bn(et[0]),rt="www."===et[1]?"http://"+tt:tt}return{type:"link",raw:et[0],text:tt,href:rt,tokens:[{type:"text",raw:tt,text:tt}]}}},w.inlineText=function inlineText(w,Ne,et){var tt,rt=this.rules.inline.text.exec(w);if(rt)return tt=Ne?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(rt[0]):bn(rt[0]):rt[0]:bn(this.options.smartypants?et(rt[0]):rt[0]),{type:"text",raw:rt[0],text:tt}},Tokenizer}(),In=Dt,zn=Rt,Mn=Bt,Ln={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:In,table:In,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ln.def=zn(Ln.def).replace("label",Ln._label).replace("title",Ln._title).getRegex(),Ln.bullet=/(?:[*+-]|\d{1,9}\.)/,Ln.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,Ln.item=zn(Ln.item,"gm").replace(/bull/g,Ln.bullet).getRegex(),Ln.list=zn(Ln.list).replace(/bull/g,Ln.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ln.def.source+")").getRegex(),Ln._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ln._comment=/<!--(?!-?>)[\s\S]*?-->/,Ln.html=zn(Ln.html,"i").replace("comment",Ln._comment).replace("tag",Ln._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ln.paragraph=zn(Ln._paragraph).replace("hr",Ln.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Ln._tag).getRegex(),Ln.blockquote=zn(Ln.blockquote).replace("paragraph",Ln.paragraph).getRegex(),Ln.normal=Mn({},Ln),Ln.gfm=Mn({},Ln.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ln.gfm.nptable=zn(Ln.gfm.nptable).replace("hr",Ln.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Ln._tag).getRegex(),Ln.gfm.table=zn(Ln.gfm.table).replace("hr",Ln.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Ln._tag).getRegex(),Ln.pedantic=Mn({},Ln.normal,{html:zn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ln._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:In,paragraph:zn(Ln.normal._paragraph).replace("hr",Ln.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ln.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Fn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:In,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:In,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};Fn.em=zn(Fn.em).replace(/punctuation/g,Fn._punctuation).getRegex(),Fn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Fn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Fn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Fn.autolink=zn(Fn.autolink).replace("scheme",Fn._scheme).replace("email",Fn._email).getRegex(),Fn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Fn.tag=zn(Fn.tag).replace("comment",Ln._comment).replace("attribute",Fn._attribute).getRegex(),Fn._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Fn._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,Fn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Fn.link=zn(Fn.link).replace("label",Fn._label).replace("href",Fn._href).replace("title",Fn._title).getRegex(),Fn.reflink=zn(Fn.reflink).replace("label",Fn._label).getRegex(),Fn.normal=Mn({},Fn),Fn.pedantic=Mn({},Fn.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:zn(/^!?\[(label)\]\((.*?)\)/).replace("label",Fn._label).getRegex(),reflink:zn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Fn._label).getRegex()}),Fn.gfm=Mn({},Fn.normal,{escape:zn(Fn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),Fn.gfm.url=zn(Fn.gfm.url,"i").replace("email",Fn.gfm._extended_email).getRegex(),Fn.breaks=Mn({},Fn.gfm,{br:zn(Fn.br).replace("{2,}","*").getRegex(),text:zn(Fn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Bn={block:Ln,inline:Fn},Nn=w.defaults,Vn=Bn.block,Wn=Bn.inline;function smartypants(w){return w.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(w){var Ne,et,tt="",rt=w.length;for(Ne=0;Ne<rt;Ne++)et=w.charCodeAt(Ne),Math.random()>.5&&(et="x"+et.toString(16)),tt+="&#"+et+";";return tt}var $n=function(){function Lexer(w){this.tokens=[],this.tokens.links=Object.create(null),this.options=w||Nn,this.options.tokenizer=this.options.tokenizer||new Cn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var Ne={block:Vn.normal,inline:Wn.normal};this.options.pedantic?(Ne.block=Vn.pedantic,Ne.inline=Wn.pedantic):this.options.gfm&&(Ne.block=Vn.gfm,this.options.breaks?Ne.inline=Wn.breaks:Ne.inline=Wn.gfm),this.tokenizer.rules=Ne}Lexer.lex=function lex(w,Ne){return new Lexer(Ne).lex(w)};var w=Lexer.prototype;return w.lex=function lex(w){return w=w.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(w,this.tokens,!0),this.inline(this.tokens),this.tokens},w.blockTokens=function blockTokens(w,Ne,et){var tt,rt,nt,it;for(void 0===Ne&&(Ne=[]),void 0===et&&(et=!0),w=w.replace(/^ +$/gm,"");w;)if(tt=this.tokenizer.space(w))w=w.substring(tt.raw.length),tt.type&&Ne.push(tt);else if(tt=this.tokenizer.code(w,Ne))w=w.substring(tt.raw.length),tt.type?Ne.push(tt):((it=Ne[Ne.length-1]).raw+="\n"+tt.raw,it.text+="\n"+tt.text);else if(tt=this.tokenizer.fences(w))w=w.substring(tt.raw.length),Ne.push(tt);else if(tt=this.tokenizer.heading(w))w=w.substring(tt.raw.length),Ne.push(tt);else if(tt=this.tokenizer.nptable(w))w=w.substring(tt.raw.length),Ne.push(tt);else if(tt=this.tokenizer.hr(w))w=w.substring(tt.raw.length),Ne.push(tt);else if(tt=this.tokenizer.blockquote(w))w=w.substring(tt.raw.length),tt.tokens=this.blockTokens(tt.text,[],et),Ne.push(tt);else if(tt=this.tokenizer.list(w)){for(w=w.substring(tt.raw.length),nt=tt.items.length,rt=0;rt<nt;rt++)tt.items[rt].tokens=this.blockTokens(tt.items[rt].text,[],!1);Ne.push(tt)}else if(tt=this.tokenizer.html(w))w=w.substring(tt.raw.length),Ne.push(tt);else if(et&&(tt=this.tokenizer.def(w)))w=w.substring(tt.raw.length),this.tokens.links[tt.tag]||(this.tokens.links[tt.tag]={href:tt.href,title:tt.title});else if(tt=this.tokenizer.table(w))w=w.substring(tt.raw.length),Ne.push(tt);else if(tt=this.tokenizer.lheading(w))w=w.substring(tt.raw.length),Ne.push(tt);else if(et&&(tt=this.tokenizer.paragraph(w)))w=w.substring(tt.raw.length),Ne.push(tt);else if(tt=this.tokenizer.text(w,Ne))w=w.substring(tt.raw.length),tt.type?Ne.push(tt):((it=Ne[Ne.length-1]).raw+="\n"+tt.raw,it.text+="\n"+tt.text);else if(w){var ot="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(ot);break}throw new Error(ot)}return Ne},w.inline=function inline(w){var Ne,et,tt,rt,nt,it,ot=w.length;for(Ne=0;Ne<ot;Ne++)switch((it=w[Ne]).type){case"paragraph":case"text":case"heading":it.tokens=[],this.inlineTokens(it.text,it.tokens);break;case"table":for(it.tokens={header:[],cells:[]},rt=it.header.length,et=0;et<rt;et++)it.tokens.header[et]=[],this.inlineTokens(it.header[et],it.tokens.header[et]);for(rt=it.cells.length,et=0;et<rt;et++)for(nt=it.cells[et],it.tokens.cells[et]=[],tt=0;tt<nt.length;tt++)it.tokens.cells[et][tt]=[],this.inlineTokens(nt[tt],it.tokens.cells[et][tt]);break;case"blockquote":this.inline(it.tokens);break;case"list":for(rt=it.items.length,et=0;et<rt;et++)this.inline(it.items[et].tokens)}return w},w.inlineTokens=function inlineTokens(w,Ne,et,tt){var rt;for(void 0===Ne&&(Ne=[]),void 0===et&&(et=!1),void 0===tt&&(tt=!1);w;)if(rt=this.tokenizer.escape(w))w=w.substring(rt.raw.length),Ne.push(rt);else if(rt=this.tokenizer.tag(w,et,tt))w=w.substring(rt.raw.length),et=rt.inLink,tt=rt.inRawBlock,Ne.push(rt);else if(rt=this.tokenizer.link(w))w=w.substring(rt.raw.length),"link"===rt.type&&(rt.tokens=this.inlineTokens(rt.text,[],!0,tt)),Ne.push(rt);else if(rt=this.tokenizer.reflink(w,this.tokens.links))w=w.substring(rt.raw.length),"link"===rt.type&&(rt.tokens=this.inlineTokens(rt.text,[],!0,tt)),Ne.push(rt);else if(rt=this.tokenizer.strong(w))w=w.substring(rt.raw.length),rt.tokens=this.inlineTokens(rt.text,[],et,tt),Ne.push(rt);else if(rt=this.tokenizer.em(w))w=w.substring(rt.raw.length),rt.tokens=this.inlineTokens(rt.text,[],et,tt),Ne.push(rt);else if(rt=this.tokenizer.codespan(w))w=w.substring(rt.raw.length),Ne.push(rt);else if(rt=this.tokenizer.br(w))w=w.substring(rt.raw.length),Ne.push(rt);else if(rt=this.tokenizer.del(w))w=w.substring(rt.raw.length),rt.tokens=this.inlineTokens(rt.text,[],et,tt),Ne.push(rt);else if(rt=this.tokenizer.autolink(w,mangle))w=w.substring(rt.raw.length),Ne.push(rt);else if(et||!(rt=this.tokenizer.url(w,mangle))){if(rt=this.tokenizer.inlineText(w,tt,smartypants))w=w.substring(rt.raw.length),Ne.push(rt);else if(w){var nt="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(nt);break}throw new Error(nt)}}else w=w.substring(rt.raw.length),Ne.push(rt);return Ne},function _createClass(w,Ne,et){return Ne&&_defineProperties(w.prototype,Ne),et&&_defineProperties(w,et),w}(Lexer,null,[{key:"rules",get:function get(){return{block:Vn,inline:Wn}}}]),Lexer}(),Yn=w.defaults,ii=Ot,qi=yt,uo=function(){function Renderer(w){this.options=w||Yn}var w=Renderer.prototype;return w.code=function code(w,Ne,et){var tt=(Ne||"").match(/\S*/)[0];if(this.options.highlight){var rt=this.options.highlight(w,tt);null!=rt&&rt!==w&&(et=!0,w=rt)}return tt?'<pre><code class="'+this.options.langPrefix+qi(tt,!0)+'">'+(et?w:qi(w,!0))+"</code></pre>\n":"<pre><code>"+(et?w:qi(w,!0))+"</code></pre>\n"},w.blockquote=function blockquote(w){return"<blockquote>\n"+w+"</blockquote>\n"},w.html=function html(w){return w},w.heading=function heading(w,Ne,et,tt){return this.options.headerIds?"<h"+Ne+' id="'+this.options.headerPrefix+tt.slug(et)+'">'+w+"</h"+Ne+">\n":"<h"+Ne+">"+w+"</h"+Ne+">\n"},w.hr=function hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},w.list=function list(w,Ne,et){var tt=Ne?"ol":"ul";return"<"+tt+(Ne&&1!==et?' start="'+et+'"':"")+">\n"+w+"</"+tt+">\n"},w.listitem=function listitem(w){return"<li>"+w+"</li>\n"},w.checkbox=function checkbox(w){return"<input "+(w?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},w.paragraph=function paragraph(w){return"<p>"+w+"</p>\n"},w.table=function table(w,Ne){return Ne&&(Ne="<tbody>"+Ne+"</tbody>"),"<table>\n<thead>\n"+w+"</thead>\n"+Ne+"</table>\n"},w.tablerow=function tablerow(w){return"<tr>\n"+w+"</tr>\n"},w.tablecell=function tablecell(w,Ne){var et=Ne.header?"th":"td";return(Ne.align?"<"+et+' align="'+Ne.align+'">':"<"+et+">")+w+"</"+et+">\n"},w.strong=function strong(w){return"<strong>"+w+"</strong>"},w.em=function em(w){return"<em>"+w+"</em>"},w.codespan=function codespan(w){return"<code>"+w+"</code>"},w.br=function br(){return this.options.xhtml?"<br/>":"<br>"},w.del=function del(w){return"<del>"+w+"</del>"},w.link=function link(w,Ne,et){if(null===(w=ii(this.options.sanitize,this.options.baseUrl,w)))return et;var tt='<a href="'+qi(w)+'"';return Ne&&(tt+=' title="'+Ne+'"'),tt+=">"+et+"</a>"},w.image=function image(w,Ne,et){if(null===(w=ii(this.options.sanitize,this.options.baseUrl,w)))return et;var tt='<img src="'+w+'" alt="'+et+'"';return Ne&&(tt+=' title="'+Ne+'"'),tt+=this.options.xhtml?"/>":">"},w.text=function text(w){return w},Renderer}(),po=function(){function TextRenderer(){}var w=TextRenderer.prototype;return w.strong=function strong(w){return w},w.em=function em(w){return w},w.codespan=function codespan(w){return w},w.del=function del(w){return w},w.html=function html(w){return w},w.text=function text(w){return w},w.link=function link(w,Ne,et){return""+et},w.image=function image(w,Ne,et){return""+et},w.br=function br(){return""},TextRenderer}(),vo=function(){function Slugger(){this.seen={}}return Slugger.prototype.slug=function slug(w){var slug=w.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(slug)){var Ne=slug;do{this.seen[Ne]++,slug=Ne+"-"+this.seen[Ne]}while(this.seen.hasOwnProperty(slug))}return this.seen[slug]=0,slug},Slugger}(),So=w.defaults,ea=vt,ta=function(){function Parser(w){this.options=w||So,this.options.renderer=this.options.renderer||new uo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new po,this.slugger=new vo}Parser.parse=function parse(w,Ne){return new Parser(Ne).parse(w)};var w=Parser.prototype;return w.parse=function parse(w,Ne){void 0===Ne&&(Ne=!0);var et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Ot,Dt,Bt="",er=w.length;for(et=0;et<er;et++)switch((pt=w[et]).type){case"space":continue;case"hr":Bt+=this.renderer.hr();continue;case"heading":Bt+=this.renderer.heading(this.parseInline(pt.tokens),pt.depth,ea(this.parseInline(pt.tokens,this.textRenderer)),this.slugger);continue;case"code":Bt+=this.renderer.code(pt.text,pt.lang,pt.escaped);continue;case"table":for(st="",at="",nt=pt.header.length,tt=0;tt<nt;tt++)at+=this.renderer.tablecell(this.parseInline(pt.tokens.header[tt]),{header:!0,align:pt.align[tt]});for(st+=this.renderer.tablerow(at),ct="",nt=pt.cells.length,tt=0;tt<nt;tt++){for(at="",it=(ot=pt.tokens.cells[tt]).length,rt=0;rt<it;rt++)at+=this.renderer.tablecell(this.parseInline(ot[rt]),{header:!1,align:pt.align[rt]});ct+=this.renderer.tablerow(at)}Bt+=this.renderer.table(st,ct);continue;case"blockquote":ct=this.parse(pt.tokens),Bt+=this.renderer.blockquote(ct);continue;case"list":for(ft=pt.ordered,dt=pt.start,mt=pt.loose,nt=pt.items.length,ct="",tt=0;tt<nt;tt++)Rt=(vt=pt.items[tt]).checked,Ot=vt.task,yt="",vt.task&&(Dt=this.renderer.checkbox(Rt),mt?vt.tokens.length>0&&"text"===vt.tokens[0].type?(vt.tokens[0].text=Dt+" "+vt.tokens[0].text,vt.tokens[0].tokens&&vt.tokens[0].tokens.length>0&&"text"===vt.tokens[0].tokens[0].type&&(vt.tokens[0].tokens[0].text=Dt+" "+vt.tokens[0].tokens[0].text)):vt.tokens.unshift({type:"text",text:Dt}):yt+=Dt),yt+=this.parse(vt.tokens,mt),ct+=this.renderer.listitem(yt,Ot,Rt);Bt+=this.renderer.list(ct,ft,dt);continue;case"html":Bt+=this.renderer.html(pt.text);continue;case"paragraph":Bt+=this.renderer.paragraph(this.parseInline(pt.tokens));continue;case"text":for(ct=pt.tokens?this.parseInline(pt.tokens):pt.text;et+1<er&&"text"===w[et+1].type;)ct+="\n"+((pt=w[++et]).tokens?this.parseInline(pt.tokens):pt.text);Bt+=Ne?this.renderer.paragraph(ct):ct;continue;default:var rr='Token with "'+pt.type+'" type was not found.';if(this.options.silent)return void console.error(rr);throw new Error(rr)}return Bt},w.parseInline=function parseInline(w,Ne){Ne=Ne||this.renderer;var et,tt,rt="",nt=w.length;for(et=0;et<nt;et++)switch((tt=w[et]).type){case"escape":rt+=Ne.text(tt.text);break;case"html":rt+=Ne.html(tt.text);break;case"link":rt+=Ne.link(tt.href,tt.title,this.parseInline(tt.tokens,Ne));break;case"image":rt+=Ne.image(tt.href,tt.title,tt.text);break;case"strong":rt+=Ne.strong(this.parseInline(tt.tokens,Ne));break;case"em":rt+=Ne.em(this.parseInline(tt.tokens,Ne));break;case"codespan":rt+=Ne.codespan(tt.text);break;case"br":rt+=Ne.br();break;case"del":rt+=Ne.del(this.parseInline(tt.tokens,Ne));break;case"text":rt+=Ne.text(tt.text);break;default:var it='Token with "'+tt.type+'" type was not found.';if(this.options.silent)return void console.error(it);throw new Error(it)}return rt},Parser}(),ia=Bt,sa=wr,la=yt,fa=w.getDefaults,ga=w.changeDefaults,_a=w.defaults;function marked(w,Ne,et){if(null==w)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof w)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(w)+", string expected");if("function"==typeof Ne&&(et=Ne,Ne=null),Ne=ia({},marked.defaults,Ne||{}),sa(Ne),et){var tt,rt=Ne.highlight;try{tt=$n.lex(w,Ne)}catch(w){return et(w)}var nt=function done(w){var nt;if(!w)try{nt=ta.parse(tt,Ne)}catch(Ne){w=Ne}return Ne.highlight=rt,w?et(w):et(null,nt)};if(!rt||rt.length<3)return nt();if(delete Ne.highlight,!tt.length)return nt();var it=0;return marked.walkTokens(tt,(function(w){"code"===w.type&&(it++,rt(w.text,w.lang,(function(Ne,et){if(Ne)return nt(Ne);null!=et&&et!==w.text&&(w.text=et,w.escaped=!0),0==--it&&nt()})))})),void(0===it&&nt())}try{var ot=$n.lex(w,Ne);return Ne.walkTokens&&marked.walkTokens(ot,Ne.walkTokens),ta.parse(ot,Ne)}catch(w){if(w.message+="\nPlease report this to https://github.com/markedjs/marked.",Ne.silent)return"<p>An error occurred:</p><pre>"+la(w.message+"",!0)+"</pre>";throw w}}return marked.options=marked.setOptions=function(w){return ia(marked.defaults,w),ga(marked.defaults),marked},marked.getDefaults=fa,marked.defaults=_a,marked.use=function(w){var Ne=ia({},w);if(w.renderer&&function(){var et=marked.defaults.renderer||new uo,tt=function _loop(Ne){var tt=et[Ne];et[Ne]=function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];var ot=w.renderer[Ne].apply(et,nt);return!1===ot&&(ot=tt.apply(et,nt)),ot}};for(var rt in w.renderer)tt(rt);Ne.renderer=et}(),w.tokenizer&&function(){var et=marked.defaults.tokenizer||new Cn,tt=function _loop2(Ne){var tt=et[Ne];et[Ne]=function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];var ot=w.tokenizer[Ne].apply(et,nt);return!1===ot&&(ot=tt.apply(et,nt)),ot}};for(var rt in w.tokenizer)tt(rt);Ne.tokenizer=et}(),w.walkTokens){var et=marked.defaults.walkTokens;Ne.walkTokens=function(Ne){w.walkTokens(Ne),et&&et(Ne)}}marked.setOptions(Ne)},marked.walkTokens=function(w,Ne){for(var et,tt=_createForOfIteratorHelperLoose(w);!(et=tt()).done;){var rt=et.value;switch(Ne(rt),rt.type){case"table":for(var nt,it=_createForOfIteratorHelperLoose(rt.tokens.header);!(nt=it()).done;){var ot=nt.value;marked.walkTokens(ot,Ne)}for(var at,st=_createForOfIteratorHelperLoose(rt.tokens.cells);!(at=st()).done;)for(var ct,pt=_createForOfIteratorHelperLoose(at.value);!(ct=pt()).done;){var ft=ct.value;marked.walkTokens(ft,Ne)}break;case"list":marked.walkTokens(rt.items,Ne);break;default:rt.tokens&&marked.walkTokens(rt.tokens,Ne)}}},marked.Parser=ta,marked.parser=ta.parse,marked.Renderer=uo,marked.TextRenderer=po,marked.Lexer=$n,marked.lexer=$n.lex,marked.Tokenizer=Cn,marked.Slugger=vo,marked.parse=marked,marked}()},function(w,Ne){w.exports="### About\n[Project overview](https://worldprojects.columbia.edu/projects/using-data-catalyze-energy-investments)"},function(w,Ne,et){"use strict";function formatMuiErrorMessage(w){for(var Ne="https://material-ui.com/production-error/?code="+w,et=1;et<arguments.length;et+=1)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified Material-UI error #"+w+"; visit "+Ne+" for the full message."}et.d(Ne,"a",(function(){return formatMuiErrorMessage}))},,,,,,,,,,,,,function(w,Ne,et){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=et(83),rt="function"==typeof Symbol&&Symbol.for,nt=rt?Symbol.for("react.element"):60103,it=rt?Symbol.for("react.portal"):60106,ot=rt?Symbol.for("react.fragment"):60107,at=rt?Symbol.for("react.strict_mode"):60108,st=rt?Symbol.for("react.profiler"):60114,ct=rt?Symbol.for("react.provider"):60109,pt=rt?Symbol.for("react.context"):60110,ft=rt?Symbol.for("react.forward_ref"):60112,dt=rt?Symbol.for("react.suspense"):60113,mt=rt?Symbol.for("react.memo"):60115,yt=rt?Symbol.for("react.lazy"):60116,vt="function"==typeof Symbol&&Symbol.iterator;function C(w){for(var Ne="https://reactjs.org/docs/error-decoder.html?invariant="+w,et=1;et<arguments.length;et++)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+w+"; visit "+Ne+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ot={};function F(w,Ne,et){this.props=w,this.context=Ne,this.refs=Ot,this.updater=et||Rt}function G(){}function H(w,Ne,et){this.props=w,this.context=Ne,this.refs=Ot,this.updater=et||Rt}F.prototype.isReactComponent={},F.prototype.setState=function(w,Ne){if("object"!=typeof w&&"function"!=typeof w&&null!=w)throw Error(C(85));this.updater.enqueueSetState(this,w,Ne,"setState")},F.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")},G.prototype=F.prototype;var Dt=H.prototype=new G;Dt.constructor=H,tt(Dt,F.prototype),Dt.isPureReactComponent=!0;var Bt={current:null},er=Object.prototype.hasOwnProperty,rr={key:!0,ref:!0,__self:!0,__source:!0};function M(w,Ne,et){var tt,rt={},it=null,ot=null;if(null!=Ne)for(tt in void 0!==Ne.ref&&(ot=Ne.ref),void 0!==Ne.key&&(it=""+Ne.key),Ne)er.call(Ne,tt)&&!rr.hasOwnProperty(tt)&&(rt[tt]=Ne[tt]);var at=arguments.length-2;if(1===at)rt.children=et;else if(1<at){for(var st=Array(at),ct=0;ct<at;ct++)st[ct]=arguments[ct+2];rt.children=st}if(w&&w.defaultProps)for(tt in at=w.defaultProps)void 0===rt[tt]&&(rt[tt]=at[tt]);return{$$typeof:nt,type:w,key:it,ref:ot,props:rt,_owner:Bt.current}}function O(w){return"object"==typeof w&&null!==w&&w.$$typeof===nt}var vr=/\/+/g,wr=[];function R(w,Ne,et,tt){if(wr.length){var rt=wr.pop();return rt.result=w,rt.keyPrefix=Ne,rt.func=et,rt.context=tt,rt.count=0,rt}return{result:w,keyPrefix:Ne,func:et,context:tt,count:0}}function S(w){w.result=null,w.keyPrefix=null,w.func=null,w.context=null,w.count=0,10>wr.length&&wr.push(w)}function V(w,Ne,et){return null==w?0:function T(w,Ne,et,tt){var rt=typeof w;"undefined"!==rt&&"boolean"!==rt||(w=null);var ot=!1;if(null===w)ot=!0;else switch(rt){case"string":case"number":ot=!0;break;case"object":switch(w.$$typeof){case nt:case it:ot=!0}}if(ot)return et(tt,w,""===Ne?"."+U(w,0):Ne),1;if(ot=0,Ne=""===Ne?".":Ne+":",Array.isArray(w))for(var at=0;at<w.length;at++){var st=Ne+U(rt=w[at],at);ot+=T(rt,st,et,tt)}else if(null===w||"object"!=typeof w?st=null:st="function"==typeof(st=vt&&w[vt]||w["@@iterator"])?st:null,"function"==typeof st)for(w=st.call(w),at=0;!(rt=w.next()).done;)ot+=T(rt=rt.value,st=Ne+U(rt,at++),et,tt);else if("object"===rt)throw et=""+w,Error(C(31,"[object Object]"===et?"object with keys {"+Object.keys(w).join(", ")+"}":et,""));return ot}(w,"",Ne,et)}function U(w,Ne){return"object"==typeof w&&null!==w&&null!=w.key?function escape(w){var Ne={"=":"=0",":":"=2"};return"$"+(""+w).replace(/[=:]/g,(function(w){return Ne[w]}))}(w.key):Ne.toString(36)}function W(w,Ne){w.func.call(w.context,Ne,w.count++)}function aa(w,Ne,et){var tt=w.result,rt=w.keyPrefix;w=w.func.call(w.context,Ne,w.count++),Array.isArray(w)?X(w,tt,et,(function(w){return w})):null!=w&&(O(w)&&(w=function N(w,Ne){return{$$typeof:nt,type:w.type,key:Ne,ref:w.ref,props:w.props,_owner:w._owner}}(w,rt+(!w.key||Ne&&Ne.key===w.key?"":(""+w.key).replace(vr,"$&/")+"/")+et)),tt.push(w))}function X(w,Ne,et,tt,rt){var nt="";null!=et&&(nt=(""+et).replace(vr,"$&/")+"/"),V(w,aa,Ne=R(Ne,nt,tt,rt)),S(Ne)}var Sr={current:null};function Z(){var w=Sr.current;if(null===w)throw Error(C(321));return w}var rn={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Bt,IsSomeRendererActing:{current:!1},assign:tt};Ne.Children={map:function(w,Ne,et){if(null==w)return w;var tt=[];return X(w,tt,null,Ne,et),tt},forEach:function(w,Ne,et){if(null==w)return w;V(w,W,Ne=R(null,null,Ne,et)),S(Ne)},count:function(w){return V(w,(function(){return null}),null)},toArray:function(w){var Ne=[];return X(w,Ne,null,(function(w){return w})),Ne},only:function(w){if(!O(w))throw Error(C(143));return w}},Ne.Component=F,Ne.Fragment=ot,Ne.Profiler=st,Ne.PureComponent=H,Ne.StrictMode=at,Ne.Suspense=dt,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rn,Ne.cloneElement=function(w,Ne,et){if(null==w)throw Error(C(267,w));var rt=tt({},w.props),it=w.key,ot=w.ref,at=w._owner;if(null!=Ne){if(void 0!==Ne.ref&&(ot=Ne.ref,at=Bt.current),void 0!==Ne.key&&(it=""+Ne.key),w.type&&w.type.defaultProps)var st=w.type.defaultProps;for(ct in Ne)er.call(Ne,ct)&&!rr.hasOwnProperty(ct)&&(rt[ct]=void 0===Ne[ct]&&void 0!==st?st[ct]:Ne[ct])}var ct=arguments.length-2;if(1===ct)rt.children=et;else if(1<ct){st=Array(ct);for(var pt=0;pt<ct;pt++)st[pt]=arguments[pt+2];rt.children=st}return{$$typeof:nt,type:w.type,key:it,ref:ot,props:rt,_owner:at}},Ne.createContext=function(w,Ne){return void 0===Ne&&(Ne=null),(w={$$typeof:pt,_calculateChangedBits:Ne,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:ct,_context:w},w.Consumer=w},Ne.createElement=M,Ne.createFactory=function(w){var Ne=M.bind(null,w);return Ne.type=w,Ne},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(w){return{$$typeof:ft,render:w}},Ne.isValidElement=O,Ne.lazy=function(w){return{$$typeof:yt,_ctor:w,_status:-1,_result:null}},Ne.memo=function(w,Ne){return{$$typeof:mt,type:w,compare:void 0===Ne?null:Ne}},Ne.useCallback=function(w,Ne){return Z().useCallback(w,Ne)},Ne.useContext=function(w,Ne){return Z().useContext(w,Ne)},Ne.useDebugValue=function(){},Ne.useEffect=function(w,Ne){return Z().useEffect(w,Ne)},Ne.useImperativeHandle=function(w,Ne,et){return Z().useImperativeHandle(w,Ne,et)},Ne.useLayoutEffect=function(w,Ne){return Z().useLayoutEffect(w,Ne)},Ne.useMemo=function(w,Ne){return Z().useMemo(w,Ne)},Ne.useReducer=function(w,Ne,et){return Z().useReducer(w,Ne,et)},Ne.useRef=function(w){return Z().useRef(w)},Ne.useState=function(w){return Z().useState(w)},Ne.version="16.13.1"},function(w,Ne,et){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=et(0),rt=et(83),nt=et(180);function u(w){for(var Ne="https://reactjs.org/docs/error-decoder.html?invariant="+w,et=1;et<arguments.length;et++)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+w+"; visit "+Ne+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!tt)throw Error(u(227));function ba(w,Ne,et,tt,rt,nt,it,ot,at){var st=Array.prototype.slice.call(arguments,3);try{Ne.apply(et,st)}catch(w){this.onError(w)}}var it=!1,ot=null,at=!1,st=null,ct={onError:function(w){it=!0,ot=w}};function ja(w,Ne,et,tt,rt,nt,at,st,pt){it=!1,ot=null,ba.apply(ct,arguments)}var pt=null,ft=null,dt=null;function oa(w,Ne,et){var tt=w.type||"unknown-event";w.currentTarget=dt(et),function ka(w,Ne,et,tt,rt,nt,ct,pt,ft){if(ja.apply(this,arguments),it){if(!it)throw Error(u(198));var dt=ot;it=!1,ot=null,at||(at=!0,st=dt)}}(tt,Ne,void 0,w),w.currentTarget=null}var mt=null,yt={};function ra(){if(mt)for(var w in yt){var Ne=yt[w],et=mt.indexOf(w);if(!(-1<et))throw Error(u(96,w));if(!vt[et]){if(!Ne.extractEvents)throw Error(u(97,w));for(var tt in vt[et]=Ne,et=Ne.eventTypes){var rt=void 0,nt=et[tt],it=Ne,ot=tt;if(Rt.hasOwnProperty(ot))throw Error(u(99,ot));Rt[ot]=nt;var at=nt.phasedRegistrationNames;if(at){for(rt in at)at.hasOwnProperty(rt)&&ua(at[rt],it,ot);rt=!0}else nt.registrationName?(ua(nt.registrationName,it,ot),rt=!0):rt=!1;if(!rt)throw Error(u(98,tt,w))}}}}function ua(w,Ne,et){if(Ot[w])throw Error(u(100,w));Ot[w]=Ne,Dt[w]=Ne.eventTypes[et].dependencies}var vt=[],Rt={},Ot={},Dt={};function xa(w){var Ne,et=!1;for(Ne in w)if(w.hasOwnProperty(Ne)){var tt=w[Ne];if(!yt.hasOwnProperty(Ne)||yt[Ne]!==tt){if(yt[Ne])throw Error(u(102,Ne));yt[Ne]=tt,et=!0}}et&&ra()}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),er=null,rr=null,vr=null;function Ca(w){if(w=ft(w)){if("function"!=typeof er)throw Error(u(280));var Ne=w.stateNode;Ne&&(Ne=pt(Ne),er(w.stateNode,w.type,Ne))}}function Da(w){rr?vr?vr.push(w):vr=[w]:rr=w}function Ea(){if(rr){var w=rr,Ne=vr;if(vr=rr=null,Ca(w),Ne)for(w=0;w<Ne.length;w++)Ca(Ne[w])}}function Fa(w,Ne){return w(Ne)}function Ga(w,Ne,et,tt,rt){return w(Ne,et,tt,rt)}function Ha(){}var wr=Fa,Sr=!1,rn=!1;function La(){null===rr&&null===vr||(Ha(),Ea())}function Ma(w,Ne,et){if(rn)return w(Ne,et);rn=!0;try{return wr(w,Ne,et)}finally{rn=!1,La()}}var vn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bn=Object.prototype.hasOwnProperty,Tn={},Cn={};function v(w,Ne,et,tt,rt,nt){this.acceptsBooleans=2===Ne||3===Ne||4===Ne,this.attributeName=tt,this.attributeNamespace=rt,this.mustUseProperty=et,this.propertyName=w,this.type=Ne,this.sanitizeURL=nt}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(w){In[w]=new v(w,0,!1,w,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(w){var Ne=w[0];In[Ne]=new v(Ne,1,!1,w[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(w){In[w]=new v(w,2,!1,w.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(w){In[w]=new v(w,2,!1,w,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(w){In[w]=new v(w,3,!1,w.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(w){In[w]=new v(w,3,!0,w,null,!1)})),["capture","download"].forEach((function(w){In[w]=new v(w,4,!1,w,null,!1)})),["cols","rows","size","span"].forEach((function(w){In[w]=new v(w,6,!1,w,null,!1)})),["rowSpan","start"].forEach((function(w){In[w]=new v(w,5,!1,w.toLowerCase(),null,!1)}));var zn=/[\-:]([a-z])/g;function Va(w){return w[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(w){var Ne=w.replace(zn,Va);In[Ne]=new v(Ne,1,!1,w,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(w){var Ne=w.replace(zn,Va);In[Ne]=new v(Ne,1,!1,w,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(w){var Ne=w.replace(zn,Va);In[Ne]=new v(Ne,1,!1,w,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(w){In[w]=new v(w,1,!1,w.toLowerCase(),null,!1)})),In.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(w){In[w]=new v(w,1,!1,w.toLowerCase(),null,!0)}));var Mn=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Xa(w,Ne,et,tt){var rt=In.hasOwnProperty(Ne)?In[Ne]:null;(null!==rt?0===rt.type:!tt&&(2<Ne.length&&("o"===Ne[0]||"O"===Ne[0])&&("n"===Ne[1]||"N"===Ne[1])))||(function Ta(w,Ne,et,tt){if(null==Ne||function Sa(w,Ne,et,tt){if(null!==et&&0===et.type)return!1;switch(typeof Ne){case"function":case"symbol":return!0;case"boolean":return!tt&&(null!==et?!et.acceptsBooleans:"data-"!==(w=w.toLowerCase().slice(0,5))&&"aria-"!==w);default:return!1}}(w,Ne,et,tt))return!0;if(tt)return!1;if(null!==et)switch(et.type){case 3:return!Ne;case 4:return!1===Ne;case 5:return isNaN(Ne);case 6:return isNaN(Ne)||1>Ne}return!1}(Ne,et,rt,tt)&&(et=null),tt||null===rt?function Ra(w){return!!bn.call(Cn,w)||!bn.call(Tn,w)&&(vn.test(w)?Cn[w]=!0:(Tn[w]=!0,!1))}(Ne)&&(null===et?w.removeAttribute(Ne):w.setAttribute(Ne,""+et)):rt.mustUseProperty?w[rt.propertyName]=null===et?3!==rt.type&&"":et:(Ne=rt.attributeName,tt=rt.attributeNamespace,null===et?w.removeAttribute(Ne):(et=3===(rt=rt.type)||4===rt&&!0===et?"":""+et,tt?w.setAttributeNS(tt,Ne,et):w.setAttribute(Ne,et))))}Mn.hasOwnProperty("ReactCurrentDispatcher")||(Mn.ReactCurrentDispatcher={current:null}),Mn.hasOwnProperty("ReactCurrentBatchConfig")||(Mn.ReactCurrentBatchConfig={suspense:null});var Ln=/^(.*)[\\\/]/,Fn="function"==typeof Symbol&&Symbol.for,Bn=Fn?Symbol.for("react.element"):60103,Nn=Fn?Symbol.for("react.portal"):60106,Vn=Fn?Symbol.for("react.fragment"):60107,Wn=Fn?Symbol.for("react.strict_mode"):60108,$n=Fn?Symbol.for("react.profiler"):60114,Yn=Fn?Symbol.for("react.provider"):60109,ii=Fn?Symbol.for("react.context"):60110,qi=Fn?Symbol.for("react.concurrent_mode"):60111,uo=Fn?Symbol.for("react.forward_ref"):60112,po=Fn?Symbol.for("react.suspense"):60113,vo=Fn?Symbol.for("react.suspense_list"):60120,So=Fn?Symbol.for("react.memo"):60115,ea=Fn?Symbol.for("react.lazy"):60116,ta=Fn?Symbol.for("react.block"):60121,ia="function"==typeof Symbol&&Symbol.iterator;function nb(w){return null===w||"object"!=typeof w?null:"function"==typeof(w=ia&&w[ia]||w["@@iterator"])?w:null}function pb(w){if(null==w)return null;if("function"==typeof w)return w.displayName||w.name||null;if("string"==typeof w)return w;switch(w){case Vn:return"Fragment";case Nn:return"Portal";case $n:return"Profiler";case Wn:return"StrictMode";case po:return"Suspense";case vo:return"SuspenseList"}if("object"==typeof w)switch(w.$$typeof){case ii:return"Context.Consumer";case Yn:return"Context.Provider";case uo:var Ne=w.render;return Ne=Ne.displayName||Ne.name||"",w.displayName||(""!==Ne?"ForwardRef("+Ne+")":"ForwardRef");case So:return pb(w.type);case ta:return pb(w.render);case ea:if(w=1===w._status?w._result:null)return pb(w)}return null}function qb(w){var Ne="";do{e:switch(w.tag){case 3:case 4:case 6:case 7:case 10:case 9:var et="";break e;default:var tt=w._debugOwner,rt=w._debugSource,nt=pb(w.type);et=null,tt&&(et=pb(tt.type)),tt=nt,nt="",rt?nt=" (at "+rt.fileName.replace(Ln,"")+":"+rt.lineNumber+")":et&&(nt=" (created by "+et+")"),et="\n    in "+(tt||"Unknown")+nt}Ne+=et,w=w.return}while(w);return Ne}function rb(w){switch(typeof w){case"boolean":case"number":case"object":case"string":case"undefined":return w;default:return""}}function sb(w){var Ne=w.type;return(w=w.nodeName)&&"input"===w.toLowerCase()&&("checkbox"===Ne||"radio"===Ne)}function xb(w){w._valueTracker||(w._valueTracker=function tb(w){var Ne=sb(w)?"checked":"value",et=Object.getOwnPropertyDescriptor(w.constructor.prototype,Ne),tt=""+w[Ne];if(!w.hasOwnProperty(Ne)&&void 0!==et&&"function"==typeof et.get&&"function"==typeof et.set){var rt=et.get,nt=et.set;return Object.defineProperty(w,Ne,{configurable:!0,get:function(){return rt.call(this)},set:function(w){tt=""+w,nt.call(this,w)}}),Object.defineProperty(w,Ne,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(w){tt=""+w},stopTracking:function(){w._valueTracker=null,delete w[Ne]}}}}(w))}function yb(w){if(!w)return!1;var Ne=w._valueTracker;if(!Ne)return!0;var et=Ne.getValue(),tt="";return w&&(tt=sb(w)?w.checked?"true":"false":w.value),(w=tt)!==et&&(Ne.setValue(w),!0)}function zb(w,Ne){var et=Ne.checked;return rt({},Ne,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=et?et:w._wrapperState.initialChecked})}function Ab(w,Ne){var et=null==Ne.defaultValue?"":Ne.defaultValue,tt=null!=Ne.checked?Ne.checked:Ne.defaultChecked;et=rb(null!=Ne.value?Ne.value:et),w._wrapperState={initialChecked:tt,initialValue:et,controlled:"checkbox"===Ne.type||"radio"===Ne.type?null!=Ne.checked:null!=Ne.value}}function Bb(w,Ne){null!=(Ne=Ne.checked)&&Xa(w,"checked",Ne,!1)}function Cb(w,Ne){Bb(w,Ne);var et=rb(Ne.value),tt=Ne.type;if(null!=et)"number"===tt?(0===et&&""===w.value||w.value!=et)&&(w.value=""+et):w.value!==""+et&&(w.value=""+et);else if("submit"===tt||"reset"===tt)return void w.removeAttribute("value");Ne.hasOwnProperty("value")?Db(w,Ne.type,et):Ne.hasOwnProperty("defaultValue")&&Db(w,Ne.type,rb(Ne.defaultValue)),null==Ne.checked&&null!=Ne.defaultChecked&&(w.defaultChecked=!!Ne.defaultChecked)}function Eb(w,Ne,et){if(Ne.hasOwnProperty("value")||Ne.hasOwnProperty("defaultValue")){var tt=Ne.type;if(!("submit"!==tt&&"reset"!==tt||void 0!==Ne.value&&null!==Ne.value))return;Ne=""+w._wrapperState.initialValue,et||Ne===w.value||(w.value=Ne),w.defaultValue=Ne}""!==(et=w.name)&&(w.name=""),w.defaultChecked=!!w._wrapperState.initialChecked,""!==et&&(w.name=et)}function Db(w,Ne,et){"number"===Ne&&w.ownerDocument.activeElement===w||(null==et?w.defaultValue=""+w._wrapperState.initialValue:w.defaultValue!==""+et&&(w.defaultValue=""+et))}function Gb(w,Ne){return w=rt({children:void 0},Ne),(Ne=function Fb(w){var Ne="";return tt.Children.forEach(w,(function(w){null!=w&&(Ne+=w)})),Ne}(Ne.children))&&(w.children=Ne),w}function Hb(w,Ne,et,tt){if(w=w.options,Ne){Ne={};for(var rt=0;rt<et.length;rt++)Ne["$"+et[rt]]=!0;for(et=0;et<w.length;et++)rt=Ne.hasOwnProperty("$"+w[et].value),w[et].selected!==rt&&(w[et].selected=rt),rt&&tt&&(w[et].defaultSelected=!0)}else{for(et=""+rb(et),Ne=null,rt=0;rt<w.length;rt++){if(w[rt].value===et)return w[rt].selected=!0,void(tt&&(w[rt].defaultSelected=!0));null!==Ne||w[rt].disabled||(Ne=w[rt])}null!==Ne&&(Ne.selected=!0)}}function Ib(w,Ne){if(null!=Ne.dangerouslySetInnerHTML)throw Error(u(91));return rt({},Ne,{value:void 0,defaultValue:void 0,children:""+w._wrapperState.initialValue})}function Jb(w,Ne){var et=Ne.value;if(null==et){if(et=Ne.children,Ne=Ne.defaultValue,null!=et){if(null!=Ne)throw Error(u(92));if(Array.isArray(et)){if(!(1>=et.length))throw Error(u(93));et=et[0]}Ne=et}null==Ne&&(Ne=""),et=Ne}w._wrapperState={initialValue:rb(et)}}function Kb(w,Ne){var et=rb(Ne.value),tt=rb(Ne.defaultValue);null!=et&&((et=""+et)!==w.value&&(w.value=et),null==Ne.defaultValue&&w.defaultValue!==et&&(w.defaultValue=et)),null!=tt&&(w.defaultValue=""+tt)}function Lb(w){var Ne=w.textContent;Ne===w._wrapperState.initialValue&&""!==Ne&&null!==Ne&&(w.value=Ne)}var sa="http://www.w3.org/1999/xhtml",la="http://www.w3.org/2000/svg";function Nb(w){switch(w){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ob(w,Ne){return null==w||"http://www.w3.org/1999/xhtml"===w?Nb(Ne):"http://www.w3.org/2000/svg"===w&&"foreignObject"===Ne?"http://www.w3.org/1999/xhtml":w}var fa,ga=function(w){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(Ne,et,tt,rt){MSApp.execUnsafeLocalFunction((function(){return w(Ne,et)}))}:w}((function(w,Ne){if(w.namespaceURI!==la||"innerHTML"in w)w.innerHTML=Ne;else{for((fa=fa||document.createElement("div")).innerHTML="<svg>"+Ne.valueOf().toString()+"</svg>",Ne=fa.firstChild;w.firstChild;)w.removeChild(w.firstChild);for(;Ne.firstChild;)w.appendChild(Ne.firstChild)}}));function Rb(w,Ne){if(Ne){var et=w.firstChild;if(et&&et===w.lastChild&&3===et.nodeType)return void(et.nodeValue=Ne)}w.textContent=Ne}function Sb(w,Ne){var et={};return et[w.toLowerCase()]=Ne.toLowerCase(),et["Webkit"+w]="webkit"+Ne,et["Moz"+w]="moz"+Ne,et}var _a={animationend:Sb("Animation","AnimationEnd"),animationiteration:Sb("Animation","AnimationIteration"),animationstart:Sb("Animation","AnimationStart"),transitionend:Sb("Transition","TransitionEnd")},Aa={},os={};function Wb(w){if(Aa[w])return Aa[w];if(!_a[w])return w;var Ne,et=_a[w];for(Ne in et)if(et.hasOwnProperty(Ne)&&Ne in os)return Aa[w]=et[Ne];return w}Bt&&(os=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);var as=Wb("animationend"),ss=Wb("animationiteration"),ls=Wb("animationstart"),us=Wb("transitionend"),fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gs=new("function"==typeof WeakMap?WeakMap:Map);function cc(w){var Ne=gs.get(w);return void 0===Ne&&(Ne=new Map,gs.set(w,Ne)),Ne}function dc(w){var Ne=w,et=w;if(w.alternate)for(;Ne.return;)Ne=Ne.return;else{w=Ne;do{0!=(1026&(Ne=w).effectTag)&&(et=Ne.return),w=Ne.return}while(w)}return 3===Ne.tag?et:null}function ec(w){if(13===w.tag){var Ne=w.memoizedState;if(null===Ne&&(null!==(w=w.alternate)&&(Ne=w.memoizedState)),null!==Ne)return Ne.dehydrated}return null}function fc(w){if(dc(w)!==w)throw Error(u(188))}function hc(w){if(!(w=function gc(w){var Ne=w.alternate;if(!Ne){if(null===(Ne=dc(w)))throw Error(u(188));return Ne!==w?null:w}for(var et=w,tt=Ne;;){var rt=et.return;if(null===rt)break;var nt=rt.alternate;if(null===nt){if(null!==(tt=rt.return)){et=tt;continue}break}if(rt.child===nt.child){for(nt=rt.child;nt;){if(nt===et)return fc(rt),w;if(nt===tt)return fc(rt),Ne;nt=nt.sibling}throw Error(u(188))}if(et.return!==tt.return)et=rt,tt=nt;else{for(var it=!1,ot=rt.child;ot;){if(ot===et){it=!0,et=rt,tt=nt;break}if(ot===tt){it=!0,tt=rt,et=nt;break}ot=ot.sibling}if(!it){for(ot=nt.child;ot;){if(ot===et){it=!0,et=nt,tt=rt;break}if(ot===tt){it=!0,tt=nt,et=rt;break}ot=ot.sibling}if(!it)throw Error(u(189))}}if(et.alternate!==tt)throw Error(u(190))}if(3!==et.tag)throw Error(u(188));return et.stateNode.current===et?w:Ne}(w)))return null;for(var Ne=w;;){if(5===Ne.tag||6===Ne.tag)return Ne;if(Ne.child)Ne.child.return=Ne,Ne=Ne.child;else{if(Ne===w)break;for(;!Ne.sibling;){if(!Ne.return||Ne.return===w)return null;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}}return null}function ic(w,Ne){if(null==Ne)throw Error(u(30));return null==w?Ne:Array.isArray(w)?Array.isArray(Ne)?(w.push.apply(w,Ne),w):(w.push(Ne),w):Array.isArray(Ne)?[w].concat(Ne):[w,Ne]}function jc(w,Ne,et){Array.isArray(w)?w.forEach(Ne,et):w&&Ne.call(et,w)}var vs=null;function lc(w){if(w){var Ne=w._dispatchListeners,et=w._dispatchInstances;if(Array.isArray(Ne))for(var tt=0;tt<Ne.length&&!w.isPropagationStopped();tt++)oa(w,Ne[tt],et[tt]);else Ne&&oa(w,Ne,et);w._dispatchListeners=null,w._dispatchInstances=null,w.isPersistent()||w.constructor.release(w)}}function mc(w){if(null!==w&&(vs=ic(vs,w)),w=vs,vs=null,w){if(jc(w,lc),vs)throw Error(u(95));if(at)throw w=st,at=!1,st=null,w}}function nc(w){return(w=w.target||w.srcElement||window).correspondingUseElement&&(w=w.correspondingUseElement),3===w.nodeType?w.parentNode:w}function oc(w){if(!Bt)return!1;var Ne=(w="on"+w)in document;return Ne||((Ne=document.createElement("div")).setAttribute(w,"return;"),Ne="function"==typeof Ne[w]),Ne}var xs=[];function qc(w){w.topLevelType=null,w.nativeEvent=null,w.targetInst=null,w.ancestors.length=0,10>xs.length&&xs.push(w)}function rc(w,Ne,et,tt){if(xs.length){var rt=xs.pop();return rt.topLevelType=w,rt.eventSystemFlags=tt,rt.nativeEvent=Ne,rt.targetInst=et,rt}return{topLevelType:w,eventSystemFlags:tt,nativeEvent:Ne,targetInst:et,ancestors:[]}}function sc(w){var Ne=w.targetInst,et=Ne;do{if(!et){w.ancestors.push(et);break}var tt=et;if(3===tt.tag)tt=tt.stateNode.containerInfo;else{for(;tt.return;)tt=tt.return;tt=3!==tt.tag?null:tt.stateNode.containerInfo}if(!tt)break;5!==(Ne=et.tag)&&6!==Ne||w.ancestors.push(et),et=tc(tt)}while(et);for(et=0;et<w.ancestors.length;et++){Ne=w.ancestors[et];var rt=nc(w.nativeEvent);tt=w.topLevelType;var nt=w.nativeEvent,it=w.eventSystemFlags;0===et&&(it|=64);for(var ot=null,at=0;at<vt.length;at++){var st=vt[at];st&&(st=st.extractEvents(tt,Ne,nt,rt,it))&&(ot=ic(ot,st))}mc(ot)}}function uc(w,Ne,et){if(!et.has(w)){switch(w){case"scroll":vc(Ne,"scroll",!0);break;case"focus":case"blur":vc(Ne,"focus",!0),vc(Ne,"blur",!0),et.set("blur",null),et.set("focus",null);break;case"cancel":case"close":oc(w)&&vc(Ne,w,!0);break;case"invalid":case"submit":case"reset":break;default:-1===fs.indexOf(w)&&F(w,Ne)}et.set(w,null)}}var Ss,Es,Cs,Ps=!1,As=[],zs=null,Ms=null,Ls=null,Rs=new Map,Os=new Map,Fs=[],Bs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ns="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Kc(w,Ne,et,tt,rt){return{blockedOn:w,topLevelType:Ne,eventSystemFlags:32|et,nativeEvent:rt,container:tt}}function Lc(w,Ne){switch(w){case"focus":case"blur":zs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Rs.delete(Ne.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(Ne.pointerId)}}function Mc(w,Ne,et,tt,rt,nt){return null===w||w.nativeEvent!==nt?(w=Kc(Ne,et,tt,rt,nt),null!==Ne&&(null!==(Ne=Nc(Ne))&&Es(Ne)),w):(w.eventSystemFlags|=tt,w)}function Pc(w){var Ne=tc(w.target);if(null!==Ne){var et=dc(Ne);if(null!==et)if(13===(Ne=et.tag)){if(null!==(Ne=ec(et)))return w.blockedOn=Ne,void nt.unstable_runWithPriority(w.priority,(function(){Cs(et)}))}else if(3===Ne&&et.stateNode.hydrate)return void(w.blockedOn=3===et.tag?et.stateNode.containerInfo:null)}w.blockedOn=null}function Qc(w){if(null!==w.blockedOn)return!1;var Ne=Rc(w.topLevelType,w.eventSystemFlags,w.container,w.nativeEvent);if(null!==Ne){var et=Nc(Ne);return null!==et&&Es(et),w.blockedOn=Ne,!1}return!0}function Sc(w,Ne,et){Qc(w)&&et.delete(Ne)}function Tc(){for(Ps=!1;0<As.length;){var w=As[0];if(null!==w.blockedOn){null!==(w=Nc(w.blockedOn))&&Ss(w);break}var Ne=Rc(w.topLevelType,w.eventSystemFlags,w.container,w.nativeEvent);null!==Ne?w.blockedOn=Ne:As.shift()}null!==zs&&Qc(zs)&&(zs=null),null!==Ms&&Qc(Ms)&&(Ms=null),null!==Ls&&Qc(Ls)&&(Ls=null),Rs.forEach(Sc),Os.forEach(Sc)}function Uc(w,Ne){w.blockedOn===Ne&&(w.blockedOn=null,Ps||(Ps=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Tc)))}function Vc(w){function b(Ne){return Uc(Ne,w)}if(0<As.length){Uc(As[0],w);for(var Ne=1;Ne<As.length;Ne++){var et=As[Ne];et.blockedOn===w&&(et.blockedOn=null)}}for(null!==zs&&Uc(zs,w),null!==Ms&&Uc(Ms,w),null!==Ls&&Uc(Ls,w),Rs.forEach(b),Os.forEach(b),Ne=0;Ne<Fs.length;Ne++)(et=Fs[Ne]).blockedOn===w&&(et.blockedOn=null);for(;0<Fs.length&&null===(Ne=Fs[0]).blockedOn;)Pc(Ne),null===Ne.blockedOn&&Fs.shift()}var js={},Vs=new Map,Us=new Map,Zs=["abort","abort",as,"animationEnd",ss,"animationIteration",ls,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",us,"transitionEnd","waiting","waiting"];function ad(w,Ne){for(var et=0;et<w.length;et+=2){var tt=w[et],rt=w[et+1],nt="on"+(rt[0].toUpperCase()+rt.slice(1));nt={phasedRegistrationNames:{bubbled:nt,captured:nt+"Capture"},dependencies:[tt],eventPriority:Ne},Us.set(tt,Ne),Vs.set(tt,nt),js[rt]=nt}}ad("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ad("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ad(Zs,2);for(var Js="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),tl=0;tl<Js.length;tl++)Us.set(Js[tl],0);var ol=nt.unstable_UserBlockingPriority,sl=nt.unstable_runWithPriority,dl=!0;function F(w,Ne){vc(Ne,w,!1)}function vc(w,Ne,et){var tt=Us.get(Ne);switch(void 0===tt?2:tt){case 0:tt=gd.bind(null,Ne,1,w);break;case 1:tt=hd.bind(null,Ne,1,w);break;default:tt=id.bind(null,Ne,1,w)}et?w.addEventListener(Ne,tt,!0):w.addEventListener(Ne,tt,!1)}function gd(w,Ne,et,tt){Sr||Ha();var rt=id,nt=Sr;Sr=!0;try{Ga(rt,w,Ne,et,tt)}finally{(Sr=nt)||La()}}function hd(w,Ne,et,tt){sl(ol,id.bind(null,w,Ne,et,tt))}function id(w,Ne,et,tt){if(dl)if(0<As.length&&-1<Bs.indexOf(w))w=Kc(null,w,Ne,et,tt),As.push(w);else{var rt=Rc(w,Ne,et,tt);if(null===rt)Lc(w,tt);else if(-1<Bs.indexOf(w))w=Kc(rt,w,Ne,et,tt),As.push(w);else if(!function Oc(w,Ne,et,tt,rt){switch(Ne){case"focus":return zs=Mc(zs,w,Ne,et,tt,rt),!0;case"dragenter":return Ms=Mc(Ms,w,Ne,et,tt,rt),!0;case"mouseover":return Ls=Mc(Ls,w,Ne,et,tt,rt),!0;case"pointerover":var nt=rt.pointerId;return Rs.set(nt,Mc(Rs.get(nt)||null,w,Ne,et,tt,rt)),!0;case"gotpointercapture":return nt=rt.pointerId,Os.set(nt,Mc(Os.get(nt)||null,w,Ne,et,tt,rt)),!0}return!1}(rt,w,Ne,et,tt)){Lc(w,tt),w=rc(w,tt,null,Ne);try{Ma(sc,w)}finally{qc(w)}}}}function Rc(w,Ne,et,tt){if(null!==(et=tc(et=nc(tt)))){var rt=dc(et);if(null===rt)et=null;else{var nt=rt.tag;if(13===nt){if(null!==(et=ec(rt)))return et;et=null}else if(3===nt){if(rt.stateNode.hydrate)return 3===rt.tag?rt.stateNode.containerInfo:null;et=null}else rt!==et&&(et=null)}}w=rc(w,tt,et,Ne);try{Ma(sc,w)}finally{qc(w)}return null}var gl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yl=["Webkit","ms","Moz","O"];function ld(w,Ne,et){return null==Ne||"boolean"==typeof Ne||""===Ne?"":et||"number"!=typeof Ne||0===Ne||gl.hasOwnProperty(w)&&gl[w]?(""+Ne).trim():Ne+"px"}function md(w,Ne){for(var et in w=w.style,Ne)if(Ne.hasOwnProperty(et)){var tt=0===et.indexOf("--"),rt=ld(et,Ne[et],tt);"float"===et&&(et="cssFloat"),tt?w.setProperty(et,rt):w[et]=rt}}Object.keys(gl).forEach((function(w){yl.forEach((function(Ne){Ne=Ne+w.charAt(0).toUpperCase()+w.substring(1),gl[Ne]=gl[w]}))}));var vl=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(w,Ne){if(Ne){if(vl[w]&&(null!=Ne.children||null!=Ne.dangerouslySetInnerHTML))throw Error(u(137,w,""));if(null!=Ne.dangerouslySetInnerHTML){if(null!=Ne.children)throw Error(u(60));if("object"!=typeof Ne.dangerouslySetInnerHTML||!("__html"in Ne.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=Ne.style&&"object"!=typeof Ne.style)throw Error(u(62,""))}}function pd(w,Ne){if(-1===w.indexOf("-"))return"string"==typeof Ne.is;switch(w){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=sa;function rd(w,Ne){var et=cc(w=9===w.nodeType||11===w.nodeType?w:w.ownerDocument);Ne=Dt[Ne];for(var tt=0;tt<Ne.length;tt++)uc(Ne[tt],w,et)}function sd(){}function td(w){if(void 0===(w=w||("undefined"!=typeof document?document:void 0)))return null;try{return w.activeElement||w.body}catch(Ne){return w.body}}function ud(w){for(;w&&w.firstChild;)w=w.firstChild;return w}function vd(w,Ne){var et,tt=ud(w);for(w=0;tt;){if(3===tt.nodeType){if(et=w+tt.textContent.length,w<=Ne&&et>=Ne)return{node:tt,offset:Ne-w};w=et}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=ud(tt)}}function xd(){for(var w=window,Ne=td();Ne instanceof w.HTMLIFrameElement;){try{var et="string"==typeof Ne.contentWindow.location.href}catch(w){et=!1}if(!et)break;Ne=td((w=Ne.contentWindow).document)}return Ne}function yd(w){var Ne=w&&w.nodeName&&w.nodeName.toLowerCase();return Ne&&("input"===Ne&&("text"===w.type||"search"===w.type||"tel"===w.type||"url"===w.type||"password"===w.type)||"textarea"===Ne||"true"===w.contentEditable)}var bl=null,xl=null;function Fd(w,Ne){switch(w){case"button":case"input":case"select":case"textarea":return!!Ne.autoFocus}return!1}function Gd(w,Ne){return"textarea"===w||"option"===w||"noscript"===w||"string"==typeof Ne.children||"number"==typeof Ne.children||"object"==typeof Ne.dangerouslySetInnerHTML&&null!==Ne.dangerouslySetInnerHTML&&null!=Ne.dangerouslySetInnerHTML.__html}var wl="function"==typeof setTimeout?setTimeout:void 0,kl="function"==typeof clearTimeout?clearTimeout:void 0;function Jd(w){for(;null!=w;w=w.nextSibling){var Ne=w.nodeType;if(1===Ne||3===Ne)break}return w}function Kd(w){w=w.previousSibling;for(var Ne=0;w;){if(8===w.nodeType){var et=w.data;if("$"===et||"$!"===et||"$?"===et){if(0===Ne)return w;Ne--}else"/$"===et&&Ne++}w=w.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),Cl="__reactInternalInstance$"+Sl,Il="__reactEventHandlers$"+Sl,Al="__reactContainere$"+Sl;function tc(w){var Ne=w[Cl];if(Ne)return Ne;for(var et=w.parentNode;et;){if(Ne=et[Al]||et[Cl]){if(et=Ne.alternate,null!==Ne.child||null!==et&&null!==et.child)for(w=Kd(w);null!==w;){if(et=w[Cl])return et;w=Kd(w)}return Ne}et=(w=et).parentNode}return null}function Nc(w){return!(w=w[Cl]||w[Al])||5!==w.tag&&6!==w.tag&&13!==w.tag&&3!==w.tag?null:w}function Pd(w){if(5===w.tag||6===w.tag)return w.stateNode;throw Error(u(33))}function Qd(w){return w[Il]||null}function Rd(w){do{w=w.return}while(w&&5!==w.tag);return w||null}function Sd(w,Ne){var et=w.stateNode;if(!et)return null;var tt=pt(et);if(!tt)return null;et=tt[Ne];e:switch(Ne){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(tt=!("button"===(w=w.type)||"input"===w||"select"===w||"textarea"===w)),w=!tt;break e;default:w=!1}if(w)return null;if(et&&"function"!=typeof et)throw Error(u(231,Ne,typeof et));return et}function Td(w,Ne,et){(Ne=Sd(w,et.dispatchConfig.phasedRegistrationNames[Ne]))&&(et._dispatchListeners=ic(et._dispatchListeners,Ne),et._dispatchInstances=ic(et._dispatchInstances,w))}function Ud(w){if(w&&w.dispatchConfig.phasedRegistrationNames){for(var Ne=w._targetInst,et=[];Ne;)et.push(Ne),Ne=Rd(Ne);for(Ne=et.length;0<Ne--;)Td(et[Ne],"captured",w);for(Ne=0;Ne<et.length;Ne++)Td(et[Ne],"bubbled",w)}}function Vd(w,Ne,et){w&&et&&et.dispatchConfig.registrationName&&(Ne=Sd(w,et.dispatchConfig.registrationName))&&(et._dispatchListeners=ic(et._dispatchListeners,Ne),et._dispatchInstances=ic(et._dispatchInstances,w))}function Wd(w){w&&w.dispatchConfig.registrationName&&Vd(w._targetInst,null,w)}function Xd(w){jc(w,Ud)}var zl=null,Fl=null,Hl=null;function ae(){if(Hl)return Hl;var w,Ne,et=Fl,tt=et.length,rt="value"in zl?zl.value:zl.textContent,nt=rt.length;for(w=0;w<tt&&et[w]===rt[w];w++);var it=tt-w;for(Ne=1;Ne<=it&&et[tt-Ne]===rt[nt-Ne];Ne++);return Hl=rt.slice(w,1<Ne?1-Ne:void 0)}function be(){return!0}function ce(){return!1}function G(w,Ne,et,tt){for(var rt in this.dispatchConfig=w,this._targetInst=Ne,this.nativeEvent=et,w=this.constructor.Interface)w.hasOwnProperty(rt)&&((Ne=w[rt])?this[rt]=Ne(et):"target"===rt?this.target=tt:this[rt]=et[rt]);return this.isDefaultPrevented=(null!=et.defaultPrevented?et.defaultPrevented:!1===et.returnValue)?be:ce,this.isPropagationStopped=ce,this}function ee(w,Ne,et,tt){if(this.eventPool.length){var rt=this.eventPool.pop();return this.call(rt,w,Ne,et,tt),rt}return new this(w,Ne,et,tt)}function fe(w){if(!(w instanceof this))throw Error(u(279));w.destructor(),10>this.eventPool.length&&this.eventPool.push(w)}function de(w){w.eventPool=[],w.getPooled=ee,w.release=fe}rt(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():"unknown"!=typeof w.returnValue&&(w.returnValue=!1),this.isDefaultPrevented=be)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():"unknown"!=typeof w.cancelBubble&&(w.cancelBubble=!0),this.isPropagationStopped=be)},persist:function(){this.isPersistent=be},isPersistent:ce,destructor:function(){var w,Ne=this.constructor.Interface;for(w in Ne)this[w]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),G.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(w){return w.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},G.extend=function(w){function b(){}function c(){return Ne.apply(this,arguments)}var Ne=this;b.prototype=Ne.prototype;var et=new b;return rt(et,c.prototype),c.prototype=et,c.prototype.constructor=c,c.Interface=rt({},Ne.Interface,w),c.extend=Ne.extend,de(c),c},de(G);var du=G.extend({data:null}),vu=G.extend({data:null}),_u=[9,13,27,32],wu=Bt&&"CompositionEvent"in window,Tu=null;Bt&&"documentMode"in document&&(Tu=document.documentMode);var Fu=Bt&&"TextEvent"in window&&!Tu,ac=Bt&&(!wu||Tu&&8<Tu&&11>=Tu),pc=String.fromCharCode(32),yc={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_c=!1;function qe(w,Ne){switch(w){case"keyup":return-1!==_u.indexOf(Ne.keyCode);case"keydown":return 229!==Ne.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function re(w){return"object"==typeof(w=w.detail)&&"data"in w?w.data:null}var bc=!1;var xc={eventTypes:yc,extractEvents:function(w,Ne,et,tt){var rt;if(wu)e:{switch(w){case"compositionstart":var nt=yc.compositionStart;break e;case"compositionend":nt=yc.compositionEnd;break e;case"compositionupdate":nt=yc.compositionUpdate;break e}nt=void 0}else bc?qe(w,et)&&(nt=yc.compositionEnd):"keydown"===w&&229===et.keyCode&&(nt=yc.compositionStart);return nt?(ac&&"ko"!==et.locale&&(bc||nt!==yc.compositionStart?nt===yc.compositionEnd&&bc&&(rt=ae()):(Fl="value"in(zl=tt)?zl.value:zl.textContent,bc=!0)),nt=du.getPooled(nt,Ne,et,tt),rt?nt.data=rt:null!==(rt=re(et))&&(nt.data=rt),Xd(nt),rt=nt):rt=null,(w=Fu?function te(w,Ne){switch(w){case"compositionend":return re(Ne);case"keypress":return 32!==Ne.which?null:(_c=!0,pc);case"textInput":return(w=Ne.data)===pc&&_c?null:w;default:return null}}(w,et):function ue(w,Ne){if(bc)return"compositionend"===w||!wu&&qe(w,Ne)?(w=ae(),Hl=Fl=zl=null,bc=!1,w):null;switch(w){case"paste":return null;case"keypress":if(!(Ne.ctrlKey||Ne.altKey||Ne.metaKey)||Ne.ctrlKey&&Ne.altKey){if(Ne.char&&1<Ne.char.length)return Ne.char;if(Ne.which)return String.fromCharCode(Ne.which)}return null;case"compositionend":return ac&&"ko"!==Ne.locale?null:Ne.data;default:return null}}(w,et))?((Ne=vu.getPooled(yc.beforeInput,Ne,et,tt)).data=w,Xd(Ne)):Ne=null,null===rt?Ne:null===Ne?rt:[rt,Ne]}},wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(w){var Ne=w&&w.nodeName&&w.nodeName.toLowerCase();return"input"===Ne?!!wc[w.type]:"textarea"===Ne}var kc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ze(w,Ne,et){return(w=G.getPooled(kc.change,w,Ne,et)).type="change",Da(et),Xd(w),w}var Ec=null,Cc=null;function Ce(w){mc(w)}function De(w){if(yb(Pd(w)))return w}function Ee(w,Ne){if("change"===w)return Ne}var Ic=!1;function Ge(){Ec&&(Ec.detachEvent("onpropertychange",He),Cc=Ec=null)}function He(w){if("value"===w.propertyName&&De(Cc))if(w=ze(Cc,w,nc(w)),Sr)mc(w);else{Sr=!0;try{Fa(Ce,w)}finally{Sr=!1,La()}}}function Ie(w,Ne,et){"focus"===w?(Ge(),Cc=et,(Ec=Ne).attachEvent("onpropertychange",He)):"blur"===w&&Ge()}function Je(w){if("selectionchange"===w||"keyup"===w||"keydown"===w)return De(Cc)}function Ke(w,Ne){if("click"===w)return De(Ne)}function Le(w,Ne){if("input"===w||"change"===w)return De(Ne)}Bt&&(Ic=oc("input")&&(!document.documentMode||9<document.documentMode));var Ac={eventTypes:kc,_isInputEventSupported:Ic,extractEvents:function(w,Ne,et,tt){var rt=Ne?Pd(Ne):window,nt=rt.nodeName&&rt.nodeName.toLowerCase();if("select"===nt||"input"===nt&&"file"===rt.type)var it=Ee;else if(xe(rt))if(Ic)it=Le;else{it=Je;var ot=Ie}else(nt=rt.nodeName)&&"input"===nt.toLowerCase()&&("checkbox"===rt.type||"radio"===rt.type)&&(it=Ke);if(it&&(it=it(w,Ne)))return ze(it,et,tt);ot&&ot(w,rt,Ne),"blur"===w&&(w=rt._wrapperState)&&w.controlled&&"number"===rt.type&&Db(rt,"number",rt.value)}},zc=G.extend({view:null,detail:null}),Dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(w){var Ne=this.nativeEvent;return Ne.getModifierState?Ne.getModifierState(w):!!(w=Dc[w])&&!!Ne[w]}function Qe(){return Pe}var Fc=0,Bc=0,Wc=!1,Gc=!1,Zc=zc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:function(w){return w.relatedTarget||(w.fromElement===w.srcElement?w.toElement:w.fromElement)},movementX:function(w){if("movementX"in w)return w.movementX;var Ne=Fc;return Fc=w.screenX,Wc?"mousemove"===w.type?w.screenX-Ne:0:(Wc=!0,0)},movementY:function(w){if("movementY"in w)return w.movementY;var Ne=Bc;return Bc=w.screenY,Gc?"mousemove"===w.type?w.screenY-Ne:0:(Gc=!0,0)}}),Hc=Zc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$c={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xc={eventTypes:$c,extractEvents:function(w,Ne,et,tt,rt){var nt="mouseover"===w||"pointerover"===w,it="mouseout"===w||"pointerout"===w;if(nt&&0==(32&rt)&&(et.relatedTarget||et.fromElement)||!it&&!nt)return null;(nt=tt.window===tt?tt:(nt=tt.ownerDocument)?nt.defaultView||nt.parentWindow:window,it)?(it=Ne,null!==(Ne=(Ne=et.relatedTarget||et.toElement)?tc(Ne):null)&&(Ne!==dc(Ne)||5!==Ne.tag&&6!==Ne.tag)&&(Ne=null)):it=null;if(it===Ne)return null;if("mouseout"===w||"mouseover"===w)var ot=Zc,at=$c.mouseLeave,st=$c.mouseEnter,ct="mouse";else"pointerout"!==w&&"pointerover"!==w||(ot=Hc,at=$c.pointerLeave,st=$c.pointerEnter,ct="pointer");if(w=null==it?nt:Pd(it),nt=null==Ne?nt:Pd(Ne),(at=ot.getPooled(at,it,et,tt)).type=ct+"leave",at.target=w,at.relatedTarget=nt,(et=ot.getPooled(st,Ne,et,tt)).type=ct+"enter",et.target=nt,et.relatedTarget=w,ct=Ne,(tt=it)&&ct)e:{for(st=ct,it=0,w=ot=tt;w;w=Rd(w))it++;for(w=0,Ne=st;Ne;Ne=Rd(Ne))w++;for(;0<it-w;)ot=Rd(ot),it--;for(;0<w-it;)st=Rd(st),w--;for(;it--;){if(ot===st||ot===st.alternate)break e;ot=Rd(ot),st=Rd(st)}ot=null}else ot=null;for(st=ot,ot=[];tt&&tt!==st&&(null===(it=tt.alternate)||it!==st);)ot.push(tt),tt=Rd(tt);for(tt=[];ct&&ct!==st&&(null===(it=ct.alternate)||it!==st);)tt.push(ct),ct=Rd(ct);for(ct=0;ct<ot.length;ct++)Vd(ot[ct],"bubbled",at);for(ct=tt.length;0<ct--;)Vd(tt[ct],"captured",et);return 0==(64&rt)?[at]:[at,et]}};var Yc="function"==typeof Object.is?Object.is:function Ze(w,Ne){return w===Ne&&(0!==w||1/w==1/Ne)||w!=w&&Ne!=Ne},rp=Object.prototype.hasOwnProperty;function bf(w,Ne){if(Yc(w,Ne))return!0;if("object"!=typeof w||null===w||"object"!=typeof Ne||null===Ne)return!1;var et=Object.keys(w),tt=Object.keys(Ne);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++)if(!rp.call(Ne,et[tt])||!Yc(w[et[tt]],Ne[et[tt]]))return!1;return!0}var ip=Bt&&"documentMode"in document&&11>=document.documentMode,op={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ap=null,sp=null,lp=null,cp=!1;function jf(w,Ne){var et=Ne.window===Ne?Ne.document:9===Ne.nodeType?Ne:Ne.ownerDocument;return cp||null==ap||ap!==td(et)?null:("selectionStart"in(et=ap)&&yd(et)?et={start:et.selectionStart,end:et.selectionEnd}:et={anchorNode:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset},lp&&bf(lp,et)?null:(lp=et,(w=G.getPooled(op.select,sp,w,Ne)).type="select",w.target=ap,Xd(w),w))}var pp={eventTypes:op,extractEvents:function(w,Ne,et,tt,rt,nt){if(!(nt=!(rt=nt||(tt.window===tt?tt.document:9===tt.nodeType?tt:tt.ownerDocument)))){e:{rt=cc(rt),nt=Dt.onSelect;for(var it=0;it<nt.length;it++)if(!rt.has(nt[it])){rt=!1;break e}rt=!0}nt=!rt}if(nt)return null;switch(rt=Ne?Pd(Ne):window,w){case"focus":(xe(rt)||"true"===rt.contentEditable)&&(ap=rt,sp=Ne,lp=null);break;case"blur":lp=sp=ap=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":return cp=!1,jf(et,tt);case"selectionchange":if(ip)break;case"keydown":case"keyup":return jf(et,tt)}return null}},hp=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),fp=G.extend({clipboardData:function(w){return"clipboardData"in w?w.clipboardData:window.clipboardData}}),dp=zc.extend({relatedTarget:null});function of(w){var Ne=w.keyCode;return"charCode"in w?0===(w=w.charCode)&&13===Ne&&(w=13):w=Ne,10===w&&(w=13),32<=w||13===w?w:0}var mp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp=zc.extend({key:function(w){if(w.key){var Ne=mp[w.key]||w.key;if("Unidentified"!==Ne)return Ne}return"keypress"===w.type?13===(w=of(w))?"Enter":String.fromCharCode(w):"keydown"===w.type||"keyup"===w.type?gp[w.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:function(w){return"keypress"===w.type?of(w):0},keyCode:function(w){return"keydown"===w.type||"keyup"===w.type?w.keyCode:0},which:function(w){return"keypress"===w.type?of(w):"keydown"===w.type||"keyup"===w.type?w.keyCode:0}}),vp=Zc.extend({dataTransfer:null}),_p=zc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),bp=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),xp=Zc.extend({deltaX:function(w){return"deltaX"in w?w.deltaX:"wheelDeltaX"in w?-w.wheelDeltaX:0},deltaY:function(w){return"deltaY"in w?w.deltaY:"wheelDeltaY"in w?-w.wheelDeltaY:"wheelDelta"in w?-w.wheelDelta:0},deltaZ:null,deltaMode:null}),wp={eventTypes:js,extractEvents:function(w,Ne,et,tt){var rt=Vs.get(w);if(!rt)return null;switch(w){case"keypress":if(0===of(et))return null;case"keydown":case"keyup":w=yp;break;case"blur":case"focus":w=dp;break;case"click":if(2===et.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=_p;break;case as:case ss:case ls:w=hp;break;case us:w=bp;break;case"scroll":w=zc;break;case"wheel":w=xp;break;case"copy":case"cut":case"paste":w=fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Hc;break;default:w=G}return Xd(Ne=w.getPooled(rt,Ne,et,tt)),Ne}};if(mt)throw Error(u(101));mt=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ra(),pt=Qd,ft=Nc,dt=Pd,xa({SimpleEventPlugin:wp,EnterLeaveEventPlugin:Xc,ChangeEventPlugin:Ac,SelectEventPlugin:pp,BeforeInputEventPlugin:xc});var kp=[],Sp=-1;function H(w){0>Sp||(w.current=kp[Sp],kp[Sp]=null,Sp--)}function I(w,Ne){Sp++,kp[Sp]=w.current,w.current=Ne}var Ep={},Tp={current:Ep},Cp={current:!1},Pp=Ep;function Cf(w,Ne){var et=w.type.contextTypes;if(!et)return Ep;var tt=w.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===Ne)return tt.__reactInternalMemoizedMaskedChildContext;var rt,nt={};for(rt in et)nt[rt]=Ne[rt];return tt&&((w=w.stateNode).__reactInternalMemoizedUnmaskedChildContext=Ne,w.__reactInternalMemoizedMaskedChildContext=nt),nt}function L(w){return null!=(w=w.childContextTypes)}function Df(){H(Cp),H(Tp)}function Ef(w,Ne,et){if(Tp.current!==Ep)throw Error(u(168));I(Tp,Ne),I(Cp,et)}function Ff(w,Ne,et){var tt=w.stateNode;if(w=Ne.childContextTypes,"function"!=typeof tt.getChildContext)return et;for(var nt in tt=tt.getChildContext())if(!(nt in w))throw Error(u(108,pb(Ne)||"Unknown",nt));return rt({},et,{},tt)}function Gf(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||Ep,Pp=Tp.current,I(Tp,w),I(Cp,Cp.current),!0}function Hf(w,Ne,et){var tt=w.stateNode;if(!tt)throw Error(u(169));et?(w=Ff(w,Ne,Pp),tt.__reactInternalMemoizedMergedChildContext=w,H(Cp),H(Tp),I(Tp,w)):H(Cp),I(Cp,et)}var Ip=nt.unstable_runWithPriority,Ap=nt.unstable_scheduleCallback,zp=nt.unstable_cancelCallback,Mp=nt.unstable_requestPaint,Lp=nt.unstable_now,Rp=nt.unstable_getCurrentPriorityLevel,Op=nt.unstable_ImmediatePriority,Dp=nt.unstable_UserBlockingPriority,Fp=nt.unstable_NormalPriority,Bp=nt.unstable_LowPriority,Np=nt.unstable_IdlePriority,jp={},Vp=nt.unstable_shouldYield,Up=void 0!==Mp?Mp:function(){},qp=null,Wp=null,Gp=!1,Zp=Lp(),Hp=1e4>Zp?Lp:function(){return Lp()-Zp};function ag(){switch(Rp()){case Op:return 99;case Dp:return 98;case Fp:return 97;case Bp:return 96;case Np:return 95;default:throw Error(u(332))}}function bg(w){switch(w){case 99:return Op;case 98:return Dp;case 97:return Fp;case 96:return Bp;case 95:return Np;default:throw Error(u(332))}}function cg(w,Ne){return w=bg(w),Ip(w,Ne)}function dg(w,Ne,et){return w=bg(w),Ap(w,Ne,et)}function eg(w){return null===qp?(qp=[w],Wp=Ap(Op,fg)):qp.push(w),jp}function gg(){if(null!==Wp){var w=Wp;Wp=null,zp(w)}fg()}function fg(){if(!Gp&&null!==qp){Gp=!0;var w=0;try{var Ne=qp;cg(99,(function(){for(;w<Ne.length;w++){var et=Ne[w];do{et=et(!0)}while(null!==et)}})),qp=null}catch(Ne){throw null!==qp&&(qp=qp.slice(w+1)),Ap(Op,gg),Ne}finally{Gp=!1}}}function hg(w,Ne,et){return 1073741821-(1+((1073741821-w+Ne/10)/(et/=10)|0))*et}function ig(w,Ne){if(w&&w.defaultProps)for(var et in Ne=rt({},Ne),w=w.defaultProps)void 0===Ne[et]&&(Ne[et]=w[et]);return Ne}var $p={current:null},Xp=null,Kp=null,Yp=null;function ng(){Yp=Kp=Xp=null}function og(w){var Ne=$p.current;H($p),w.type._context._currentValue=Ne}function pg(w,Ne){for(;null!==w;){var et=w.alternate;if(w.childExpirationTime<Ne)w.childExpirationTime=Ne,null!==et&&et.childExpirationTime<Ne&&(et.childExpirationTime=Ne);else{if(!(null!==et&&et.childExpirationTime<Ne))break;et.childExpirationTime=Ne}w=w.return}}function qg(w,Ne){Xp=w,Yp=Kp=null,null!==(w=w.dependencies)&&null!==w.firstContext&&(w.expirationTime>=Ne&&(hf=!0),w.firstContext=null)}function sg(w,Ne){if(Yp!==w&&!1!==Ne&&0!==Ne)if("number"==typeof Ne&&1073741823!==Ne||(Yp=w,Ne=1073741823),Ne={context:w,observedBits:Ne,next:null},null===Kp){if(null===Xp)throw Error(u(308));Kp=Ne,Xp.dependencies={expirationTime:0,firstContext:Ne,responders:null}}else Kp=Kp.next=Ne;return w._currentValue}var Jp=!1;function ug(w){w.updateQueue={baseState:w.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function vg(w,Ne){w=w.updateQueue,Ne.updateQueue===w&&(Ne.updateQueue={baseState:w.baseState,baseQueue:w.baseQueue,shared:w.shared,effects:w.effects})}function wg(w,Ne){return(w={expirationTime:w,suspenseConfig:Ne,tag:0,payload:null,callback:null,next:null}).next=w}function xg(w,Ne){if(null!==(w=w.updateQueue)){var et=(w=w.shared).pending;null===et?Ne.next=Ne:(Ne.next=et.next,et.next=Ne),w.pending=Ne}}function yg(w,Ne){var et=w.alternate;null!==et&&vg(et,w),null===(et=(w=w.updateQueue).baseQueue)?(w.baseQueue=Ne.next=Ne,Ne.next=Ne):(Ne.next=et.next,et.next=Ne)}function zg(w,Ne,et,tt){var nt=w.updateQueue;Jp=!1;var it=nt.baseQueue,ot=nt.shared.pending;if(null!==ot){if(null!==it){var at=it.next;it.next=ot.next,ot.next=at}it=ot,nt.shared.pending=null,null!==(at=w.alternate)&&(null!==(at=at.updateQueue)&&(at.baseQueue=ot))}if(null!==it){at=it.next;var st=nt.baseState,ct=0,pt=null,ft=null,dt=null;if(null!==at)for(var mt=at;;){if((ot=mt.expirationTime)<tt){var yt={expirationTime:mt.expirationTime,suspenseConfig:mt.suspenseConfig,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null};null===dt?(ft=dt=yt,pt=st):dt=dt.next=yt,ot>ct&&(ct=ot)}else{null!==dt&&(dt=dt.next={expirationTime:1073741823,suspenseConfig:mt.suspenseConfig,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null}),Ag(ot,mt.suspenseConfig);e:{var vt=w,Rt=mt;switch(ot=Ne,yt=et,Rt.tag){case 1:if("function"==typeof(vt=Rt.payload)){st=vt.call(yt,st,ot);break e}st=vt;break e;case 3:vt.effectTag=-4097&vt.effectTag|64;case 0:if(null==(ot="function"==typeof(vt=Rt.payload)?vt.call(yt,st,ot):vt))break e;st=rt({},st,ot);break e;case 2:Jp=!0}}null!==mt.callback&&(w.effectTag|=32,null===(ot=nt.effects)?nt.effects=[mt]:ot.push(mt))}if(null===(mt=mt.next)||mt===at){if(null===(ot=nt.shared.pending))break;mt=it.next=ot.next,ot.next=at,nt.baseQueue=it=ot,nt.shared.pending=null}}null===dt?pt=st:dt.next=ft,nt.baseState=pt,nt.baseQueue=dt,Bg(ct),w.expirationTime=ct,w.memoizedState=st}}function Cg(w,Ne,et){if(w=Ne.effects,Ne.effects=null,null!==w)for(Ne=0;Ne<w.length;Ne++){var tt=w[Ne],rt=tt.callback;if(null!==rt){if(tt.callback=null,tt=rt,rt=et,"function"!=typeof tt)throw Error(u(191,tt));tt.call(rt)}}}var Qp=Mn.ReactCurrentBatchConfig,rh=(new tt.Component).refs;function Fg(w,Ne,et,tt){et=null==(et=et(tt,Ne=w.memoizedState))?Ne:rt({},Ne,et),w.memoizedState=et,0===w.expirationTime&&(w.updateQueue.baseState=et)}var ah={isMounted:function(w){return!!(w=w._reactInternalFiber)&&dc(w)===w},enqueueSetState:function(w,Ne,et){w=w._reactInternalFiber;var tt=Gg(),rt=Qp.suspense;(rt=wg(tt=Hg(tt,w,rt),rt)).payload=Ne,null!=et&&(rt.callback=et),xg(w,rt),Ig(w,tt)},enqueueReplaceState:function(w,Ne,et){w=w._reactInternalFiber;var tt=Gg(),rt=Qp.suspense;(rt=wg(tt=Hg(tt,w,rt),rt)).tag=1,rt.payload=Ne,null!=et&&(rt.callback=et),xg(w,rt),Ig(w,tt)},enqueueForceUpdate:function(w,Ne){w=w._reactInternalFiber;var et=Gg(),tt=Qp.suspense;(tt=wg(et=Hg(et,w,tt),tt)).tag=2,null!=Ne&&(tt.callback=Ne),xg(w,tt),Ig(w,et)}};function Kg(w,Ne,et,tt,rt,nt,it){return"function"==typeof(w=w.stateNode).shouldComponentUpdate?w.shouldComponentUpdate(tt,nt,it):!Ne.prototype||!Ne.prototype.isPureReactComponent||(!bf(et,tt)||!bf(rt,nt))}function Lg(w,Ne,et){var tt=!1,rt=Ep,nt=Ne.contextType;return"object"==typeof nt&&null!==nt?nt=sg(nt):(rt=L(Ne)?Pp:Tp.current,nt=(tt=null!=(tt=Ne.contextTypes))?Cf(w,rt):Ep),Ne=new Ne(et,nt),w.memoizedState=null!==Ne.state&&void 0!==Ne.state?Ne.state:null,Ne.updater=ah,w.stateNode=Ne,Ne._reactInternalFiber=w,tt&&((w=w.stateNode).__reactInternalMemoizedUnmaskedChildContext=rt,w.__reactInternalMemoizedMaskedChildContext=nt),Ne}function Mg(w,Ne,et,tt){w=Ne.state,"function"==typeof Ne.componentWillReceiveProps&&Ne.componentWillReceiveProps(et,tt),"function"==typeof Ne.UNSAFE_componentWillReceiveProps&&Ne.UNSAFE_componentWillReceiveProps(et,tt),Ne.state!==w&&ah.enqueueReplaceState(Ne,Ne.state,null)}function Ng(w,Ne,et,tt){var rt=w.stateNode;rt.props=et,rt.state=w.memoizedState,rt.refs=rh,ug(w);var nt=Ne.contextType;"object"==typeof nt&&null!==nt?rt.context=sg(nt):(nt=L(Ne)?Pp:Tp.current,rt.context=Cf(w,nt)),zg(w,et,rt,tt),rt.state=w.memoizedState,"function"==typeof(nt=Ne.getDerivedStateFromProps)&&(Fg(w,Ne,nt,et),rt.state=w.memoizedState),"function"==typeof Ne.getDerivedStateFromProps||"function"==typeof rt.getSnapshotBeforeUpdate||"function"!=typeof rt.UNSAFE_componentWillMount&&"function"!=typeof rt.componentWillMount||(Ne=rt.state,"function"==typeof rt.componentWillMount&&rt.componentWillMount(),"function"==typeof rt.UNSAFE_componentWillMount&&rt.UNSAFE_componentWillMount(),Ne!==rt.state&&ah.enqueueReplaceState(rt,rt.state,null),zg(w,et,rt,tt),rt.state=w.memoizedState),"function"==typeof rt.componentDidMount&&(w.effectTag|=4)}var sh=Array.isArray;function Pg(w,Ne,et){if(null!==(w=et.ref)&&"function"!=typeof w&&"object"!=typeof w){if(et._owner){if(et=et._owner){if(1!==et.tag)throw Error(u(309));var tt=et.stateNode}if(!tt)throw Error(u(147,w));var rt=""+w;return null!==Ne&&null!==Ne.ref&&"function"==typeof Ne.ref&&Ne.ref._stringRef===rt?Ne.ref:((Ne=function(w){var Ne=tt.refs;Ne===rh&&(Ne=tt.refs={}),null===w?delete Ne[rt]:Ne[rt]=w})._stringRef=rt,Ne)}if("string"!=typeof w)throw Error(u(284));if(!et._owner)throw Error(u(290,w))}return w}function Qg(w,Ne){if("textarea"!==w.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(Ne)?"object with keys {"+Object.keys(Ne).join(", ")+"}":Ne,""))}function Rg(w){function b(Ne,et){if(w){var tt=Ne.lastEffect;null!==tt?(tt.nextEffect=et,Ne.lastEffect=et):Ne.firstEffect=Ne.lastEffect=et,et.nextEffect=null,et.effectTag=8}}function c(Ne,et){if(!w)return null;for(;null!==et;)b(Ne,et),et=et.sibling;return null}function d(w,Ne){for(w=new Map;null!==Ne;)null!==Ne.key?w.set(Ne.key,Ne):w.set(Ne.index,Ne),Ne=Ne.sibling;return w}function e(w,Ne){return(w=Sg(w,Ne)).index=0,w.sibling=null,w}function f(Ne,et,tt){return Ne.index=tt,w?null!==(tt=Ne.alternate)?(tt=tt.index)<et?(Ne.effectTag=2,et):tt:(Ne.effectTag=2,et):et}function g(Ne){return w&&null===Ne.alternate&&(Ne.effectTag=2),Ne}function h(w,Ne,et,tt){return null===Ne||6!==Ne.tag?((Ne=Tg(et,w.mode,tt)).return=w,Ne):((Ne=e(Ne,et)).return=w,Ne)}function k(w,Ne,et,tt){return null!==Ne&&Ne.elementType===et.type?((tt=e(Ne,et.props)).ref=Pg(w,Ne,et),tt.return=w,tt):((tt=Ug(et.type,et.key,et.props,null,w.mode,tt)).ref=Pg(w,Ne,et),tt.return=w,tt)}function l(w,Ne,et,tt){return null===Ne||4!==Ne.tag||Ne.stateNode.containerInfo!==et.containerInfo||Ne.stateNode.implementation!==et.implementation?((Ne=Vg(et,w.mode,tt)).return=w,Ne):((Ne=e(Ne,et.children||[])).return=w,Ne)}function m(w,Ne,et,tt,rt){return null===Ne||7!==Ne.tag?((Ne=Wg(et,w.mode,tt,rt)).return=w,Ne):((Ne=e(Ne,et)).return=w,Ne)}function p(w,Ne,et){if("string"==typeof Ne||"number"==typeof Ne)return(Ne=Tg(""+Ne,w.mode,et)).return=w,Ne;if("object"==typeof Ne&&null!==Ne){switch(Ne.$$typeof){case Bn:return(et=Ug(Ne.type,Ne.key,Ne.props,null,w.mode,et)).ref=Pg(w,null,Ne),et.return=w,et;case Nn:return(Ne=Vg(Ne,w.mode,et)).return=w,Ne}if(sh(Ne)||nb(Ne))return(Ne=Wg(Ne,w.mode,et,null)).return=w,Ne;Qg(w,Ne)}return null}function x(w,Ne,et,tt){var rt=null!==Ne?Ne.key:null;if("string"==typeof et||"number"==typeof et)return null!==rt?null:h(w,Ne,""+et,tt);if("object"==typeof et&&null!==et){switch(et.$$typeof){case Bn:return et.key===rt?et.type===Vn?m(w,Ne,et.props.children,tt,rt):k(w,Ne,et,tt):null;case Nn:return et.key===rt?l(w,Ne,et,tt):null}if(sh(et)||nb(et))return null!==rt?null:m(w,Ne,et,tt,null);Qg(w,et)}return null}function z(w,Ne,et,tt,rt){if("string"==typeof tt||"number"==typeof tt)return h(Ne,w=w.get(et)||null,""+tt,rt);if("object"==typeof tt&&null!==tt){switch(tt.$$typeof){case Bn:return w=w.get(null===tt.key?et:tt.key)||null,tt.type===Vn?m(Ne,w,tt.props.children,rt,tt.key):k(Ne,w,tt,rt);case Nn:return l(Ne,w=w.get(null===tt.key?et:tt.key)||null,tt,rt)}if(sh(tt)||nb(tt))return m(Ne,w=w.get(et)||null,tt,rt,null);Qg(Ne,tt)}return null}function ca(Ne,et,tt,rt){for(var nt=null,it=null,ot=et,at=et=0,st=null;null!==ot&&at<tt.length;at++){ot.index>at?(st=ot,ot=null):st=ot.sibling;var ct=x(Ne,ot,tt[at],rt);if(null===ct){null===ot&&(ot=st);break}w&&ot&&null===ct.alternate&&b(Ne,ot),et=f(ct,et,at),null===it?nt=ct:it.sibling=ct,it=ct,ot=st}if(at===tt.length)return c(Ne,ot),nt;if(null===ot){for(;at<tt.length;at++)null!==(ot=p(Ne,tt[at],rt))&&(et=f(ot,et,at),null===it?nt=ot:it.sibling=ot,it=ot);return nt}for(ot=d(Ne,ot);at<tt.length;at++)null!==(st=z(ot,Ne,at,tt[at],rt))&&(w&&null!==st.alternate&&ot.delete(null===st.key?at:st.key),et=f(st,et,at),null===it?nt=st:it.sibling=st,it=st);return w&&ot.forEach((function(w){return b(Ne,w)})),nt}function D(Ne,et,tt,rt){var nt=nb(tt);if("function"!=typeof nt)throw Error(u(150));if(null==(tt=nt.call(tt)))throw Error(u(151));for(var it=nt=null,ot=et,at=et=0,st=null,ct=tt.next();null!==ot&&!ct.done;at++,ct=tt.next()){ot.index>at?(st=ot,ot=null):st=ot.sibling;var pt=x(Ne,ot,ct.value,rt);if(null===pt){null===ot&&(ot=st);break}w&&ot&&null===pt.alternate&&b(Ne,ot),et=f(pt,et,at),null===it?nt=pt:it.sibling=pt,it=pt,ot=st}if(ct.done)return c(Ne,ot),nt;if(null===ot){for(;!ct.done;at++,ct=tt.next())null!==(ct=p(Ne,ct.value,rt))&&(et=f(ct,et,at),null===it?nt=ct:it.sibling=ct,it=ct);return nt}for(ot=d(Ne,ot);!ct.done;at++,ct=tt.next())null!==(ct=z(ot,Ne,at,ct.value,rt))&&(w&&null!==ct.alternate&&ot.delete(null===ct.key?at:ct.key),et=f(ct,et,at),null===it?nt=ct:it.sibling=ct,it=ct);return w&&ot.forEach((function(w){return b(Ne,w)})),nt}return function(w,Ne,et,tt){var rt="object"==typeof et&&null!==et&&et.type===Vn&&null===et.key;rt&&(et=et.props.children);var nt="object"==typeof et&&null!==et;if(nt)switch(et.$$typeof){case Bn:e:{for(nt=et.key,rt=Ne;null!==rt;){if(rt.key===nt){switch(rt.tag){case 7:if(et.type===Vn){c(w,rt.sibling),(Ne=e(rt,et.props.children)).return=w,w=Ne;break e}break;default:if(rt.elementType===et.type){c(w,rt.sibling),(Ne=e(rt,et.props)).ref=Pg(w,rt,et),Ne.return=w,w=Ne;break e}}c(w,rt);break}b(w,rt),rt=rt.sibling}et.type===Vn?((Ne=Wg(et.props.children,w.mode,tt,et.key)).return=w,w=Ne):((tt=Ug(et.type,et.key,et.props,null,w.mode,tt)).ref=Pg(w,Ne,et),tt.return=w,w=tt)}return g(w);case Nn:e:{for(rt=et.key;null!==Ne;){if(Ne.key===rt){if(4===Ne.tag&&Ne.stateNode.containerInfo===et.containerInfo&&Ne.stateNode.implementation===et.implementation){c(w,Ne.sibling),(Ne=e(Ne,et.children||[])).return=w,w=Ne;break e}c(w,Ne);break}b(w,Ne),Ne=Ne.sibling}(Ne=Vg(et,w.mode,tt)).return=w,w=Ne}return g(w)}if("string"==typeof et||"number"==typeof et)return et=""+et,null!==Ne&&6===Ne.tag?(c(w,Ne.sibling),(Ne=e(Ne,et)).return=w,w=Ne):(c(w,Ne),(Ne=Tg(et,w.mode,tt)).return=w,w=Ne),g(w);if(sh(et))return ca(w,Ne,et,tt);if(nb(et))return D(w,Ne,et,tt);if(nt&&Qg(w,et),void 0===et&&!rt)switch(w.tag){case 1:case 0:throw w=w.type,Error(u(152,w.displayName||w.name||"Component"))}return c(w,Ne)}}var lh=Rg(!0),ph=Rg(!1),mh={},_h={current:mh},bh={current:mh},kh={current:mh};function ch(w){if(w===mh)throw Error(u(174));return w}function dh(w,Ne){switch(I(kh,Ne),I(bh,w),I(_h,mh),w=Ne.nodeType){case 9:case 11:Ne=(Ne=Ne.documentElement)?Ne.namespaceURI:Ob(null,"");break;default:Ne=Ob(Ne=(w=8===w?Ne.parentNode:Ne).namespaceURI||null,w=w.tagName)}H(_h),I(_h,Ne)}function eh(){H(_h),H(bh),H(kh)}function fh(w){ch(kh.current);var Ne=ch(_h.current),et=Ob(Ne,w.type);Ne!==et&&(I(bh,w),I(_h,et))}function gh(w){bh.current===w&&(H(_h),H(bh))}var Ph={current:0};function hh(w){for(var Ne=w;null!==Ne;){if(13===Ne.tag){var et=Ne.memoizedState;if(null!==et&&(null===(et=et.dehydrated)||"$?"===et.data||"$!"===et.data))return Ne}else if(19===Ne.tag&&void 0!==Ne.memoizedProps.revealOrder){if(0!=(64&Ne.effectTag))return Ne}else if(null!==Ne.child){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===w)break;for(;null===Ne.sibling;){if(null===Ne.return||Ne.return===w)return null;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}return null}function ih(w,Ne){return{responder:w,props:Ne}}var Oh=Mn.ReactCurrentDispatcher,jh=Mn.ReactCurrentBatchConfig,qh=0,Yh=null,Qh=null,ef=null,tf=!1;function Q(){throw Error(u(321))}function nh(w,Ne){if(null===Ne)return!1;for(var et=0;et<Ne.length&&et<w.length;et++)if(!Yc(w[et],Ne[et]))return!1;return!0}function oh(w,Ne,et,tt,rt,nt){if(qh=nt,Yh=Ne,Ne.memoizedState=null,Ne.updateQueue=null,Ne.expirationTime=0,Oh.current=null===w||null===w.memoizedState?nf:af,w=et(tt,rt),Ne.expirationTime===qh){nt=0;do{if(Ne.expirationTime=0,!(25>nt))throw Error(u(301));nt+=1,ef=Qh=null,Ne.updateQueue=null,Oh.current=sf,w=et(tt,rt)}while(Ne.expirationTime===qh)}if(Oh.current=rf,Ne=null!==Qh&&null!==Qh.next,qh=0,ef=Qh=Yh=null,tf=!1,Ne)throw Error(u(300));return w}function th(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ef?Yh.memoizedState=ef=w:ef=ef.next=w,ef}function uh(){if(null===Qh){var w=Yh.alternate;w=null!==w?w.memoizedState:null}else w=Qh.next;var Ne=null===ef?Yh.memoizedState:ef.next;if(null!==Ne)ef=Ne,Qh=w;else{if(null===w)throw Error(u(310));w={memoizedState:(Qh=w).memoizedState,baseState:Qh.baseState,baseQueue:Qh.baseQueue,queue:Qh.queue,next:null},null===ef?Yh.memoizedState=ef=w:ef=ef.next=w}return ef}function vh(w,Ne){return"function"==typeof Ne?Ne(w):Ne}function wh(w){var Ne=uh(),et=Ne.queue;if(null===et)throw Error(u(311));et.lastRenderedReducer=w;var tt=Qh,rt=tt.baseQueue,nt=et.pending;if(null!==nt){if(null!==rt){var it=rt.next;rt.next=nt.next,nt.next=it}tt.baseQueue=rt=nt,et.pending=null}if(null!==rt){rt=rt.next,tt=tt.baseState;var ot=it=nt=null,at=rt;do{var st=at.expirationTime;if(st<qh){var ct={expirationTime:at.expirationTime,suspenseConfig:at.suspenseConfig,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null};null===ot?(it=ot=ct,nt=tt):ot=ot.next=ct,st>Yh.expirationTime&&(Yh.expirationTime=st,Bg(st))}else null!==ot&&(ot=ot.next={expirationTime:1073741823,suspenseConfig:at.suspenseConfig,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null}),Ag(st,at.suspenseConfig),tt=at.eagerReducer===w?at.eagerState:w(tt,at.action);at=at.next}while(null!==at&&at!==rt);null===ot?nt=tt:ot.next=it,Yc(tt,Ne.memoizedState)||(hf=!0),Ne.memoizedState=tt,Ne.baseState=nt,Ne.baseQueue=ot,et.lastRenderedState=tt}return[Ne.memoizedState,et.dispatch]}function xh(w){var Ne=uh(),et=Ne.queue;if(null===et)throw Error(u(311));et.lastRenderedReducer=w;var tt=et.dispatch,rt=et.pending,nt=Ne.memoizedState;if(null!==rt){et.pending=null;var it=rt=rt.next;do{nt=w(nt,it.action),it=it.next}while(it!==rt);Yc(nt,Ne.memoizedState)||(hf=!0),Ne.memoizedState=nt,null===Ne.baseQueue&&(Ne.baseState=nt),et.lastRenderedState=nt}return[nt,tt]}function yh(w){var Ne=th();return"function"==typeof w&&(w=w()),Ne.memoizedState=Ne.baseState=w,w=(w=Ne.queue={pending:null,dispatch:null,lastRenderedReducer:vh,lastRenderedState:w}).dispatch=zh.bind(null,Yh,w),[Ne.memoizedState,w]}function Ah(w,Ne,et,tt){return w={tag:w,create:Ne,destroy:et,deps:tt,next:null},null===(Ne=Yh.updateQueue)?(Ne={lastEffect:null},Yh.updateQueue=Ne,Ne.lastEffect=w.next=w):null===(et=Ne.lastEffect)?Ne.lastEffect=w.next=w:(tt=et.next,et.next=w,w.next=tt,Ne.lastEffect=w),w}function Bh(){return uh().memoizedState}function Ch(w,Ne,et,tt){var rt=th();Yh.effectTag|=w,rt.memoizedState=Ah(1|Ne,et,void 0,void 0===tt?null:tt)}function Dh(w,Ne,et,tt){var rt=uh();tt=void 0===tt?null:tt;var nt=void 0;if(null!==Qh){var it=Qh.memoizedState;if(nt=it.destroy,null!==tt&&nh(tt,it.deps))return void Ah(Ne,et,nt,tt)}Yh.effectTag|=w,rt.memoizedState=Ah(1|Ne,et,nt,tt)}function Eh(w,Ne){return Ch(516,4,w,Ne)}function Fh(w,Ne){return Dh(516,4,w,Ne)}function Gh(w,Ne){return Dh(4,2,w,Ne)}function Hh(w,Ne){return"function"==typeof Ne?(w=w(),Ne(w),function(){Ne(null)}):null!=Ne?(w=w(),Ne.current=w,function(){Ne.current=null}):void 0}function Ih(w,Ne,et){return et=null!=et?et.concat([w]):null,Dh(4,2,Hh.bind(null,Ne,w),et)}function Jh(){}function Kh(w,Ne){return th().memoizedState=[w,void 0===Ne?null:Ne],w}function Lh(w,Ne){var et=uh();Ne=void 0===Ne?null:Ne;var tt=et.memoizedState;return null!==tt&&null!==Ne&&nh(Ne,tt[1])?tt[0]:(et.memoizedState=[w,Ne],w)}function Mh(w,Ne){var et=uh();Ne=void 0===Ne?null:Ne;var tt=et.memoizedState;return null!==tt&&null!==Ne&&nh(Ne,tt[1])?tt[0]:(w=w(),et.memoizedState=[w,Ne],w)}function Nh(w,Ne,et){var tt=ag();cg(98>tt?98:tt,(function(){w(!0)})),cg(97<tt?97:tt,(function(){var tt=jh.suspense;jh.suspense=void 0===Ne?null:Ne;try{w(!1),et()}finally{jh.suspense=tt}}))}function zh(w,Ne,et){var tt=Gg(),rt=Qp.suspense;rt={expirationTime:tt=Hg(tt,w,rt),suspenseConfig:rt,action:et,eagerReducer:null,eagerState:null,next:null};var nt=Ne.pending;if(null===nt?rt.next=rt:(rt.next=nt.next,nt.next=rt),Ne.pending=rt,nt=w.alternate,w===Yh||null!==nt&&nt===Yh)tf=!0,rt.expirationTime=qh,Yh.expirationTime=qh;else{if(0===w.expirationTime&&(null===nt||0===nt.expirationTime)&&null!==(nt=Ne.lastRenderedReducer))try{var it=Ne.lastRenderedState,ot=nt(it,et);if(rt.eagerReducer=nt,rt.eagerState=ot,Yc(ot,it))return}catch(w){}Ig(w,tt)}}var rf={readContext:sg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},nf={readContext:sg,useCallback:Kh,useContext:sg,useEffect:Eh,useImperativeHandle:function(w,Ne,et){return et=null!=et?et.concat([w]):null,Ch(4,2,Hh.bind(null,Ne,w),et)},useLayoutEffect:function(w,Ne){return Ch(4,2,w,Ne)},useMemo:function(w,Ne){var et=th();return Ne=void 0===Ne?null:Ne,w=w(),et.memoizedState=[w,Ne],w},useReducer:function(w,Ne,et){var tt=th();return Ne=void 0!==et?et(Ne):Ne,tt.memoizedState=tt.baseState=Ne,w=(w=tt.queue={pending:null,dispatch:null,lastRenderedReducer:w,lastRenderedState:Ne}).dispatch=zh.bind(null,Yh,w),[tt.memoizedState,w]},useRef:function(w){return w={current:w},th().memoizedState=w},useState:yh,useDebugValue:Jh,useResponder:ih,useDeferredValue:function(w,Ne){var et=yh(w),tt=et[0],rt=et[1];return Eh((function(){var et=jh.suspense;jh.suspense=void 0===Ne?null:Ne;try{rt(w)}finally{jh.suspense=et}}),[w,Ne]),tt},useTransition:function(w){var Ne=yh(!1),et=Ne[0];return Ne=Ne[1],[Kh(Nh.bind(null,Ne,w),[Ne,w]),et]}},af={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:wh,useRef:Bh,useState:function(){return wh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(w,Ne){var et=wh(vh),tt=et[0],rt=et[1];return Fh((function(){var et=jh.suspense;jh.suspense=void 0===Ne?null:Ne;try{rt(w)}finally{jh.suspense=et}}),[w,Ne]),tt},useTransition:function(w){var Ne=wh(vh),et=Ne[0];return Ne=Ne[1],[Lh(Nh.bind(null,Ne,w),[Ne,w]),et]}},sf={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:xh,useRef:Bh,useState:function(){return xh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(w,Ne){var et=xh(vh),tt=et[0],rt=et[1];return Fh((function(){var et=jh.suspense;jh.suspense=void 0===Ne?null:Ne;try{rt(w)}finally{jh.suspense=et}}),[w,Ne]),tt},useTransition:function(w){var Ne=xh(vh),et=Ne[0];return Ne=Ne[1],[Lh(Nh.bind(null,Ne,w),[Ne,w]),et]}},lf=null,uf=null,cf=!1;function Rh(w,Ne){var et=Sh(5,null,null,0);et.elementType="DELETED",et.type="DELETED",et.stateNode=Ne,et.return=w,et.effectTag=8,null!==w.lastEffect?(w.lastEffect.nextEffect=et,w.lastEffect=et):w.firstEffect=w.lastEffect=et}function Th(w,Ne){switch(w.tag){case 5:var et=w.type;return null!==(Ne=1!==Ne.nodeType||et.toLowerCase()!==Ne.nodeName.toLowerCase()?null:Ne)&&(w.stateNode=Ne,!0);case 6:return null!==(Ne=""===w.pendingProps||3!==Ne.nodeType?null:Ne)&&(w.stateNode=Ne,!0);case 13:default:return!1}}function Uh(w){if(cf){var Ne=uf;if(Ne){var et=Ne;if(!Th(w,Ne)){if(!(Ne=Jd(et.nextSibling))||!Th(w,Ne))return w.effectTag=-1025&w.effectTag|2,cf=!1,void(lf=w);Rh(lf,et)}lf=w,uf=Jd(Ne.firstChild)}else w.effectTag=-1025&w.effectTag|2,cf=!1,lf=w}}function Vh(w){for(w=w.return;null!==w&&5!==w.tag&&3!==w.tag&&13!==w.tag;)w=w.return;lf=w}function Wh(w){if(w!==lf)return!1;if(!cf)return Vh(w),cf=!0,!1;var Ne=w.type;if(5!==w.tag||"head"!==Ne&&"body"!==Ne&&!Gd(Ne,w.memoizedProps))for(Ne=uf;Ne;)Rh(w,Ne),Ne=Jd(Ne.nextSibling);if(Vh(w),13===w.tag){if(!(w=null!==(w=w.memoizedState)?w.dehydrated:null))throw Error(u(317));e:{for(w=w.nextSibling,Ne=0;w;){if(8===w.nodeType){var et=w.data;if("/$"===et){if(0===Ne){uf=Jd(w.nextSibling);break e}Ne--}else"$"!==et&&"$!"!==et&&"$?"!==et||Ne++}w=w.nextSibling}uf=null}}else uf=lf?Jd(w.stateNode.nextSibling):null;return!0}function Xh(){uf=lf=null,cf=!1}var pf=Mn.ReactCurrentOwner,hf=!1;function R(w,Ne,et,tt){Ne.child=null===w?ph(Ne,null,et,tt):lh(Ne,w.child,et,tt)}function Zh(w,Ne,et,tt,rt){et=et.render;var nt=Ne.ref;return qg(Ne,rt),tt=oh(w,Ne,et,tt,nt,rt),null===w||hf?(Ne.effectTag|=1,R(w,Ne,tt,rt),Ne.child):(Ne.updateQueue=w.updateQueue,Ne.effectTag&=-517,w.expirationTime<=rt&&(w.expirationTime=0),$h(w,Ne,rt))}function ai(w,Ne,et,tt,rt,nt){if(null===w){var it=et.type;return"function"!=typeof it||bi(it)||void 0!==it.defaultProps||null!==et.compare||void 0!==et.defaultProps?((w=Ug(et.type,null,tt,null,Ne.mode,nt)).ref=Ne.ref,w.return=Ne,Ne.child=w):(Ne.tag=15,Ne.type=it,ci(w,Ne,it,tt,rt,nt))}return it=w.child,rt<nt&&(rt=it.memoizedProps,(et=null!==(et=et.compare)?et:bf)(rt,tt)&&w.ref===Ne.ref)?$h(w,Ne,nt):(Ne.effectTag|=1,(w=Sg(it,tt)).ref=Ne.ref,w.return=Ne,Ne.child=w)}function ci(w,Ne,et,tt,rt,nt){return null!==w&&bf(w.memoizedProps,tt)&&w.ref===Ne.ref&&(hf=!1,rt<nt)?(Ne.expirationTime=w.expirationTime,$h(w,Ne,nt)):di(w,Ne,et,tt,nt)}function ei(w,Ne){var et=Ne.ref;(null===w&&null!==et||null!==w&&w.ref!==et)&&(Ne.effectTag|=128)}function di(w,Ne,et,tt,rt){var nt=L(et)?Pp:Tp.current;return nt=Cf(Ne,nt),qg(Ne,rt),et=oh(w,Ne,et,tt,nt,rt),null===w||hf?(Ne.effectTag|=1,R(w,Ne,et,rt),Ne.child):(Ne.updateQueue=w.updateQueue,Ne.effectTag&=-517,w.expirationTime<=rt&&(w.expirationTime=0),$h(w,Ne,rt))}function fi(w,Ne,et,tt,rt){if(L(et)){var nt=!0;Gf(Ne)}else nt=!1;if(qg(Ne,rt),null===Ne.stateNode)null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),Lg(Ne,et,tt),Ng(Ne,et,tt,rt),tt=!0;else if(null===w){var it=Ne.stateNode,ot=Ne.memoizedProps;it.props=ot;var at=it.context,st=et.contextType;"object"==typeof st&&null!==st?st=sg(st):st=Cf(Ne,st=L(et)?Pp:Tp.current);var ct=et.getDerivedStateFromProps,pt="function"==typeof ct||"function"==typeof it.getSnapshotBeforeUpdate;pt||"function"!=typeof it.UNSAFE_componentWillReceiveProps&&"function"!=typeof it.componentWillReceiveProps||(ot!==tt||at!==st)&&Mg(Ne,it,tt,st),Jp=!1;var ft=Ne.memoizedState;it.state=ft,zg(Ne,tt,it,rt),at=Ne.memoizedState,ot!==tt||ft!==at||Cp.current||Jp?("function"==typeof ct&&(Fg(Ne,et,ct,tt),at=Ne.memoizedState),(ot=Jp||Kg(Ne,et,ot,tt,ft,at,st))?(pt||"function"!=typeof it.UNSAFE_componentWillMount&&"function"!=typeof it.componentWillMount||("function"==typeof it.componentWillMount&&it.componentWillMount(),"function"==typeof it.UNSAFE_componentWillMount&&it.UNSAFE_componentWillMount()),"function"==typeof it.componentDidMount&&(Ne.effectTag|=4)):("function"==typeof it.componentDidMount&&(Ne.effectTag|=4),Ne.memoizedProps=tt,Ne.memoizedState=at),it.props=tt,it.state=at,it.context=st,tt=ot):("function"==typeof it.componentDidMount&&(Ne.effectTag|=4),tt=!1)}else it=Ne.stateNode,vg(w,Ne),ot=Ne.memoizedProps,it.props=Ne.type===Ne.elementType?ot:ig(Ne.type,ot),at=it.context,"object"==typeof(st=et.contextType)&&null!==st?st=sg(st):st=Cf(Ne,st=L(et)?Pp:Tp.current),(pt="function"==typeof(ct=et.getDerivedStateFromProps)||"function"==typeof it.getSnapshotBeforeUpdate)||"function"!=typeof it.UNSAFE_componentWillReceiveProps&&"function"!=typeof it.componentWillReceiveProps||(ot!==tt||at!==st)&&Mg(Ne,it,tt,st),Jp=!1,at=Ne.memoizedState,it.state=at,zg(Ne,tt,it,rt),ft=Ne.memoizedState,ot!==tt||at!==ft||Cp.current||Jp?("function"==typeof ct&&(Fg(Ne,et,ct,tt),ft=Ne.memoizedState),(ct=Jp||Kg(Ne,et,ot,tt,at,ft,st))?(pt||"function"!=typeof it.UNSAFE_componentWillUpdate&&"function"!=typeof it.componentWillUpdate||("function"==typeof it.componentWillUpdate&&it.componentWillUpdate(tt,ft,st),"function"==typeof it.UNSAFE_componentWillUpdate&&it.UNSAFE_componentWillUpdate(tt,ft,st)),"function"==typeof it.componentDidUpdate&&(Ne.effectTag|=4),"function"==typeof it.getSnapshotBeforeUpdate&&(Ne.effectTag|=256)):("function"!=typeof it.componentDidUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=4),"function"!=typeof it.getSnapshotBeforeUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=256),Ne.memoizedProps=tt,Ne.memoizedState=ft),it.props=tt,it.state=ft,it.context=st,tt=ct):("function"!=typeof it.componentDidUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=4),"function"!=typeof it.getSnapshotBeforeUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=256),tt=!1);return gi(w,Ne,et,tt,nt,rt)}function gi(w,Ne,et,tt,rt,nt){ei(w,Ne);var it=0!=(64&Ne.effectTag);if(!tt&&!it)return rt&&Hf(Ne,et,!1),$h(w,Ne,nt);tt=Ne.stateNode,pf.current=Ne;var ot=it&&"function"!=typeof et.getDerivedStateFromError?null:tt.render();return Ne.effectTag|=1,null!==w&&it?(Ne.child=lh(Ne,w.child,null,nt),Ne.child=lh(Ne,null,ot,nt)):R(w,Ne,ot,nt),Ne.memoizedState=tt.state,rt&&Hf(Ne,et,!0),Ne.child}function hi(w){var Ne=w.stateNode;Ne.pendingContext?Ef(0,Ne.pendingContext,Ne.pendingContext!==Ne.context):Ne.context&&Ef(0,Ne.context,!1),dh(w,Ne.containerInfo)}var ff,df,mf,gf={dehydrated:null,retryTime:0};function ji(w,Ne,et){var tt,rt=Ne.mode,nt=Ne.pendingProps,it=Ph.current,ot=!1;if((tt=0!=(64&Ne.effectTag))||(tt=0!=(2&it)&&(null===w||null!==w.memoizedState)),tt?(ot=!0,Ne.effectTag&=-65):null!==w&&null===w.memoizedState||void 0===nt.fallback||!0===nt.unstable_avoidThisFallback||(it|=1),I(Ph,1&it),null===w){if(void 0!==nt.fallback&&Uh(Ne),ot){if(ot=nt.fallback,(nt=Wg(null,rt,0,null)).return=Ne,0==(2&Ne.mode))for(w=null!==Ne.memoizedState?Ne.child.child:Ne.child,nt.child=w;null!==w;)w.return=nt,w=w.sibling;return(et=Wg(ot,rt,et,null)).return=Ne,nt.sibling=et,Ne.memoizedState=gf,Ne.child=nt,et}return rt=nt.children,Ne.memoizedState=null,Ne.child=ph(Ne,null,rt,et)}if(null!==w.memoizedState){if(rt=(w=w.child).sibling,ot){if(nt=nt.fallback,(et=Sg(w,w.pendingProps)).return=Ne,0==(2&Ne.mode)&&(ot=null!==Ne.memoizedState?Ne.child.child:Ne.child)!==w.child)for(et.child=ot;null!==ot;)ot.return=et,ot=ot.sibling;return(rt=Sg(rt,nt)).return=Ne,et.sibling=rt,et.childExpirationTime=0,Ne.memoizedState=gf,Ne.child=et,rt}return et=lh(Ne,w.child,nt.children,et),Ne.memoizedState=null,Ne.child=et}if(w=w.child,ot){if(ot=nt.fallback,(nt=Wg(null,rt,0,null)).return=Ne,nt.child=w,null!==w&&(w.return=nt),0==(2&Ne.mode))for(w=null!==Ne.memoizedState?Ne.child.child:Ne.child,nt.child=w;null!==w;)w.return=nt,w=w.sibling;return(et=Wg(ot,rt,et,null)).return=Ne,nt.sibling=et,et.effectTag|=2,nt.childExpirationTime=0,Ne.memoizedState=gf,Ne.child=nt,et}return Ne.memoizedState=null,Ne.child=lh(Ne,w,nt.children,et)}function ki(w,Ne){w.expirationTime<Ne&&(w.expirationTime=Ne);var et=w.alternate;null!==et&&et.expirationTime<Ne&&(et.expirationTime=Ne),pg(w.return,Ne)}function li(w,Ne,et,tt,rt,nt){var it=w.memoizedState;null===it?w.memoizedState={isBackwards:Ne,rendering:null,renderingStartTime:0,last:tt,tail:et,tailExpiration:0,tailMode:rt,lastEffect:nt}:(it.isBackwards=Ne,it.rendering=null,it.renderingStartTime=0,it.last=tt,it.tail=et,it.tailExpiration=0,it.tailMode=rt,it.lastEffect=nt)}function mi(w,Ne,et){var tt=Ne.pendingProps,rt=tt.revealOrder,nt=tt.tail;if(R(w,Ne,tt.children,et),0!=(2&(tt=Ph.current)))tt=1&tt|2,Ne.effectTag|=64;else{if(null!==w&&0!=(64&w.effectTag))e:for(w=Ne.child;null!==w;){if(13===w.tag)null!==w.memoizedState&&ki(w,et);else if(19===w.tag)ki(w,et);else if(null!==w.child){w.child.return=w,w=w.child;continue}if(w===Ne)break e;for(;null===w.sibling;){if(null===w.return||w.return===Ne)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}tt&=1}if(I(Ph,tt),0==(2&Ne.mode))Ne.memoizedState=null;else switch(rt){case"forwards":for(et=Ne.child,rt=null;null!==et;)null!==(w=et.alternate)&&null===hh(w)&&(rt=et),et=et.sibling;null===(et=rt)?(rt=Ne.child,Ne.child=null):(rt=et.sibling,et.sibling=null),li(Ne,!1,rt,et,nt,Ne.lastEffect);break;case"backwards":for(et=null,rt=Ne.child,Ne.child=null;null!==rt;){if(null!==(w=rt.alternate)&&null===hh(w)){Ne.child=rt;break}w=rt.sibling,rt.sibling=et,et=rt,rt=w}li(Ne,!0,et,null,nt,Ne.lastEffect);break;case"together":li(Ne,!1,null,null,void 0,Ne.lastEffect);break;default:Ne.memoizedState=null}return Ne.child}function $h(w,Ne,et){null!==w&&(Ne.dependencies=w.dependencies);var tt=Ne.expirationTime;if(0!==tt&&Bg(tt),Ne.childExpirationTime<et)return null;if(null!==w&&Ne.child!==w.child)throw Error(u(153));if(null!==Ne.child){for(et=Sg(w=Ne.child,w.pendingProps),Ne.child=et,et.return=Ne;null!==w.sibling;)w=w.sibling,(et=et.sibling=Sg(w,w.pendingProps)).return=Ne;et.sibling=null}return Ne.child}function ri(w,Ne){switch(w.tailMode){case"hidden":Ne=w.tail;for(var et=null;null!==Ne;)null!==Ne.alternate&&(et=Ne),Ne=Ne.sibling;null===et?w.tail=null:et.sibling=null;break;case"collapsed":et=w.tail;for(var tt=null;null!==et;)null!==et.alternate&&(tt=et),et=et.sibling;null===tt?Ne||null===w.tail?w.tail=null:w.tail.sibling=null:tt.sibling=null}}function si(w,Ne,et){var tt=Ne.pendingProps;switch(Ne.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return L(Ne.type)&&Df(),null;case 3:return eh(),H(Cp),H(Tp),(et=Ne.stateNode).pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),null!==w&&null!==w.child||!Wh(Ne)||(Ne.effectTag|=4),null;case 5:gh(Ne),et=ch(kh.current);var nt=Ne.type;if(null!==w&&null!=Ne.stateNode)df(w,Ne,nt,tt,et),w.ref!==Ne.ref&&(Ne.effectTag|=128);else{if(!tt){if(null===Ne.stateNode)throw Error(u(166));return null}if(w=ch(_h.current),Wh(Ne)){tt=Ne.stateNode,nt=Ne.type;var it=Ne.memoizedProps;switch(tt[Cl]=Ne,tt[Il]=it,nt){case"iframe":case"object":case"embed":F("load",tt);break;case"video":case"audio":for(w=0;w<fs.length;w++)F(fs[w],tt);break;case"source":F("error",tt);break;case"img":case"image":case"link":F("error",tt),F("load",tt);break;case"form":F("reset",tt),F("submit",tt);break;case"details":F("toggle",tt);break;case"input":Ab(tt,it),F("invalid",tt),rd(et,"onChange");break;case"select":tt._wrapperState={wasMultiple:!!it.multiple},F("invalid",tt),rd(et,"onChange");break;case"textarea":Jb(tt,it),F("invalid",tt),rd(et,"onChange")}for(var ot in od(nt,it),w=null,it)if(it.hasOwnProperty(ot)){var at=it[ot];"children"===ot?"string"==typeof at?tt.textContent!==at&&(w=["children",at]):"number"==typeof at&&tt.textContent!==""+at&&(w=["children",""+at]):Ot.hasOwnProperty(ot)&&null!=at&&rd(et,ot)}switch(nt){case"input":xb(tt),Eb(tt,it,!0);break;case"textarea":xb(tt),Lb(tt);break;case"select":case"option":break;default:"function"==typeof it.onClick&&(tt.onclick=sd)}et=w,Ne.updateQueue=et,null!==et&&(Ne.effectTag|=4)}else{switch(ot=9===et.nodeType?et:et.ownerDocument,w===_l&&(w=Nb(nt)),w===_l?"script"===nt?((w=ot.createElement("div")).innerHTML="<script><\/script>",w=w.removeChild(w.firstChild)):"string"==typeof tt.is?w=ot.createElement(nt,{is:tt.is}):(w=ot.createElement(nt),"select"===nt&&(ot=w,tt.multiple?ot.multiple=!0:tt.size&&(ot.size=tt.size))):w=ot.createElementNS(w,nt),w[Cl]=Ne,w[Il]=tt,ff(w,Ne),Ne.stateNode=w,ot=pd(nt,tt),nt){case"iframe":case"object":case"embed":F("load",w),at=tt;break;case"video":case"audio":for(at=0;at<fs.length;at++)F(fs[at],w);at=tt;break;case"source":F("error",w),at=tt;break;case"img":case"image":case"link":F("error",w),F("load",w),at=tt;break;case"form":F("reset",w),F("submit",w),at=tt;break;case"details":F("toggle",w),at=tt;break;case"input":Ab(w,tt),at=zb(w,tt),F("invalid",w),rd(et,"onChange");break;case"option":at=Gb(w,tt);break;case"select":w._wrapperState={wasMultiple:!!tt.multiple},at=rt({},tt,{value:void 0}),F("invalid",w),rd(et,"onChange");break;case"textarea":Jb(w,tt),at=Ib(w,tt),F("invalid",w),rd(et,"onChange");break;default:at=tt}od(nt,at);var st=at;for(it in st)if(st.hasOwnProperty(it)){var ct=st[it];"style"===it?md(w,ct):"dangerouslySetInnerHTML"===it?null!=(ct=ct?ct.__html:void 0)&&ga(w,ct):"children"===it?"string"==typeof ct?("textarea"!==nt||""!==ct)&&Rb(w,ct):"number"==typeof ct&&Rb(w,""+ct):"suppressContentEditableWarning"!==it&&"suppressHydrationWarning"!==it&&"autoFocus"!==it&&(Ot.hasOwnProperty(it)?null!=ct&&rd(et,it):null!=ct&&Xa(w,it,ct,ot))}switch(nt){case"input":xb(w),Eb(w,tt,!1);break;case"textarea":xb(w),Lb(w);break;case"option":null!=tt.value&&w.setAttribute("value",""+rb(tt.value));break;case"select":w.multiple=!!tt.multiple,null!=(et=tt.value)?Hb(w,!!tt.multiple,et,!1):null!=tt.defaultValue&&Hb(w,!!tt.multiple,tt.defaultValue,!0);break;default:"function"==typeof at.onClick&&(w.onclick=sd)}Fd(nt,tt)&&(Ne.effectTag|=4)}null!==Ne.ref&&(Ne.effectTag|=128)}return null;case 6:if(w&&null!=Ne.stateNode)mf(0,Ne,w.memoizedProps,tt);else{if("string"!=typeof tt&&null===Ne.stateNode)throw Error(u(166));et=ch(kh.current),ch(_h.current),Wh(Ne)?(et=Ne.stateNode,tt=Ne.memoizedProps,et[Cl]=Ne,et.nodeValue!==tt&&(Ne.effectTag|=4)):((et=(9===et.nodeType?et:et.ownerDocument).createTextNode(tt))[Cl]=Ne,Ne.stateNode=et)}return null;case 13:return H(Ph),tt=Ne.memoizedState,0!=(64&Ne.effectTag)?(Ne.expirationTime=et,Ne):(et=null!==tt,tt=!1,null===w?void 0!==Ne.memoizedProps.fallback&&Wh(Ne):(tt=null!==(nt=w.memoizedState),et||null===nt||null!==(nt=w.child.sibling)&&(null!==(it=Ne.firstEffect)?(Ne.firstEffect=nt,nt.nextEffect=it):(Ne.firstEffect=Ne.lastEffect=nt,nt.nextEffect=null),nt.effectTag=8)),et&&!tt&&0!=(2&Ne.mode)&&(null===w&&!0!==Ne.memoizedProps.unstable_avoidThisFallback||0!=(1&Ph.current)?Lf===Sf&&(Lf=Tf):(Lf!==Sf&&Lf!==Tf||(Lf=Pf),0!==Vf&&null!==Af&&(xi(Af,Mf),yi(Af,Vf)))),(et||tt)&&(Ne.effectTag|=4),null);case 4:return eh(),null;case 10:return og(Ne),null;case 17:return L(Ne.type)&&Df(),null;case 19:if(H(Ph),null===(tt=Ne.memoizedState))return null;if(nt=0!=(64&Ne.effectTag),null===(it=tt.rendering)){if(nt)ri(tt,!1);else if(Lf!==Sf||null!==w&&0!=(64&w.effectTag))for(it=Ne.child;null!==it;){if(null!==(w=hh(it))){for(Ne.effectTag|=64,ri(tt,!1),null!==(nt=w.updateQueue)&&(Ne.updateQueue=nt,Ne.effectTag|=4),null===tt.lastEffect&&(Ne.firstEffect=null),Ne.lastEffect=tt.lastEffect,tt=Ne.child;null!==tt;)it=et,(nt=tt).effectTag&=2,nt.nextEffect=null,nt.firstEffect=null,nt.lastEffect=null,null===(w=nt.alternate)?(nt.childExpirationTime=0,nt.expirationTime=it,nt.child=null,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null):(nt.childExpirationTime=w.childExpirationTime,nt.expirationTime=w.expirationTime,nt.child=w.child,nt.memoizedProps=w.memoizedProps,nt.memoizedState=w.memoizedState,nt.updateQueue=w.updateQueue,it=w.dependencies,nt.dependencies=null===it?null:{expirationTime:it.expirationTime,firstContext:it.firstContext,responders:it.responders}),tt=tt.sibling;return I(Ph,1&Ph.current|2),Ne.child}it=it.sibling}}else{if(!nt)if(null!==(w=hh(it))){if(Ne.effectTag|=64,nt=!0,null!==(et=w.updateQueue)&&(Ne.updateQueue=et,Ne.effectTag|=4),ri(tt,!0),null===tt.tail&&"hidden"===tt.tailMode&&!it.alternate)return null!==(Ne=Ne.lastEffect=tt.lastEffect)&&(Ne.nextEffect=null),null}else 2*Hp()-tt.renderingStartTime>tt.tailExpiration&&1<et&&(Ne.effectTag|=64,nt=!0,ri(tt,!1),Ne.expirationTime=Ne.childExpirationTime=et-1);tt.isBackwards?(it.sibling=Ne.child,Ne.child=it):(null!==(et=tt.last)?et.sibling=it:Ne.child=it,tt.last=it)}return null!==tt.tail?(0===tt.tailExpiration&&(tt.tailExpiration=Hp()+500),et=tt.tail,tt.rendering=et,tt.tail=et.sibling,tt.lastEffect=Ne.lastEffect,tt.renderingStartTime=Hp(),et.sibling=null,Ne=Ph.current,I(Ph,nt?1&Ne|2:1&Ne),et):null}throw Error(u(156,Ne.tag))}function zi(w){switch(w.tag){case 1:L(w.type)&&Df();var Ne=w.effectTag;return 4096&Ne?(w.effectTag=-4097&Ne|64,w):null;case 3:if(eh(),H(Cp),H(Tp),0!=(64&(Ne=w.effectTag)))throw Error(u(285));return w.effectTag=-4097&Ne|64,w;case 5:return gh(w),null;case 13:return H(Ph),4096&(Ne=w.effectTag)?(w.effectTag=-4097&Ne|64,w):null;case 19:return H(Ph),null;case 4:return eh(),null;case 10:return og(w),null;default:return null}}function Ai(w,Ne){return{value:w,source:Ne,stack:qb(Ne)}}ff=function(w,Ne){for(var et=Ne.child;null!==et;){if(5===et.tag||6===et.tag)w.appendChild(et.stateNode);else if(4!==et.tag&&null!==et.child){et.child.return=et,et=et.child;continue}if(et===Ne)break;for(;null===et.sibling;){if(null===et.return||et.return===Ne)return;et=et.return}et.sibling.return=et.return,et=et.sibling}},df=function(w,Ne,et,tt,nt){var it=w.memoizedProps;if(it!==tt){var ot,at,st=Ne.stateNode;switch(ch(_h.current),w=null,et){case"input":it=zb(st,it),tt=zb(st,tt),w=[];break;case"option":it=Gb(st,it),tt=Gb(st,tt),w=[];break;case"select":it=rt({},it,{value:void 0}),tt=rt({},tt,{value:void 0}),w=[];break;case"textarea":it=Ib(st,it),tt=Ib(st,tt),w=[];break;default:"function"!=typeof it.onClick&&"function"==typeof tt.onClick&&(st.onclick=sd)}for(ot in od(et,tt),et=null,it)if(!tt.hasOwnProperty(ot)&&it.hasOwnProperty(ot)&&null!=it[ot])if("style"===ot)for(at in st=it[ot])st.hasOwnProperty(at)&&(et||(et={}),et[at]="");else"dangerouslySetInnerHTML"!==ot&&"children"!==ot&&"suppressContentEditableWarning"!==ot&&"suppressHydrationWarning"!==ot&&"autoFocus"!==ot&&(Ot.hasOwnProperty(ot)?w||(w=[]):(w=w||[]).push(ot,null));for(ot in tt){var ct=tt[ot];if(st=null!=it?it[ot]:void 0,tt.hasOwnProperty(ot)&&ct!==st&&(null!=ct||null!=st))if("style"===ot)if(st){for(at in st)!st.hasOwnProperty(at)||ct&&ct.hasOwnProperty(at)||(et||(et={}),et[at]="");for(at in ct)ct.hasOwnProperty(at)&&st[at]!==ct[at]&&(et||(et={}),et[at]=ct[at])}else et||(w||(w=[]),w.push(ot,et)),et=ct;else"dangerouslySetInnerHTML"===ot?(ct=ct?ct.__html:void 0,st=st?st.__html:void 0,null!=ct&&st!==ct&&(w=w||[]).push(ot,ct)):"children"===ot?st===ct||"string"!=typeof ct&&"number"!=typeof ct||(w=w||[]).push(ot,""+ct):"suppressContentEditableWarning"!==ot&&"suppressHydrationWarning"!==ot&&(Ot.hasOwnProperty(ot)?(null!=ct&&rd(nt,ot),w||st===ct||(w=[])):(w=w||[]).push(ot,ct))}et&&(w=w||[]).push("style",et),nt=w,(Ne.updateQueue=nt)&&(Ne.effectTag|=4)}},mf=function(w,Ne,et,tt){et!==tt&&(Ne.effectTag|=4)};var yf="function"==typeof WeakSet?WeakSet:Set;function Ci(w,Ne){var et=Ne.source,tt=Ne.stack;null===tt&&null!==et&&(tt=qb(et)),null!==et&&pb(et.type),Ne=Ne.value,null!==w&&1===w.tag&&pb(w.type);try{console.error(Ne)}catch(w){setTimeout((function(){throw w}))}}function Fi(w){var Ne=w.ref;if(null!==Ne)if("function"==typeof Ne)try{Ne(null)}catch(Ne){Ei(w,Ne)}else Ne.current=null}function Gi(w,Ne){switch(Ne.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&Ne.effectTag&&null!==w){var et=w.memoizedProps,tt=w.memoizedState;Ne=(w=Ne.stateNode).getSnapshotBeforeUpdate(Ne.elementType===Ne.type?et:ig(Ne.type,et),tt),w.__reactInternalSnapshotBeforeUpdate=Ne}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function Hi(w,Ne){if(null!==(Ne=null!==(Ne=Ne.updateQueue)?Ne.lastEffect:null)){var et=Ne=Ne.next;do{if((et.tag&w)===w){var tt=et.destroy;et.destroy=void 0,void 0!==tt&&tt()}et=et.next}while(et!==Ne)}}function Ii(w,Ne){if(null!==(Ne=null!==(Ne=Ne.updateQueue)?Ne.lastEffect:null)){var et=Ne=Ne.next;do{if((et.tag&w)===w){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==Ne)}}function Ji(w,Ne,et){switch(et.tag){case 0:case 11:case 15:case 22:return void Ii(3,et);case 1:if(w=et.stateNode,4&et.effectTag)if(null===Ne)w.componentDidMount();else{var tt=et.elementType===et.type?Ne.memoizedProps:ig(et.type,Ne.memoizedProps);w.componentDidUpdate(tt,Ne.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}return void(null!==(Ne=et.updateQueue)&&Cg(et,Ne,w));case 3:if(null!==(Ne=et.updateQueue)){if(w=null,null!==et.child)switch(et.child.tag){case 5:w=et.child.stateNode;break;case 1:w=et.child.stateNode}Cg(et,Ne,w)}return;case 5:return w=et.stateNode,void(null===Ne&&4&et.effectTag&&Fd(et.type,et.memoizedProps)&&w.focus());case 6:case 4:case 12:return;case 13:return void(null===et.memoizedState&&(et=et.alternate,null!==et&&(et=et.memoizedState,null!==et&&(et=et.dehydrated,null!==et&&Vc(et)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function Ki(w,Ne,et){switch("function"==typeof dd&&dd(Ne),Ne.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(w=Ne.updateQueue)&&null!==(w=w.lastEffect)){var tt=w.next;cg(97<et?97:et,(function(){var w=tt;do{var et=w.destroy;if(void 0!==et){var rt=Ne;try{et()}catch(w){Ei(rt,w)}}w=w.next}while(w!==tt)}))}break;case 1:Fi(Ne),"function"==typeof(et=Ne.stateNode).componentWillUnmount&&function Di(w,Ne){try{Ne.props=w.memoizedProps,Ne.state=w.memoizedState,Ne.componentWillUnmount()}catch(Ne){Ei(w,Ne)}}(Ne,et);break;case 5:Fi(Ne);break;case 4:Mi(w,Ne,et)}}function Ni(w){var Ne=w.alternate;w.return=null,w.child=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.alternate=null,w.firstEffect=null,w.lastEffect=null,w.pendingProps=null,w.memoizedProps=null,w.stateNode=null,null!==Ne&&Ni(Ne)}function Oi(w){return 5===w.tag||3===w.tag||4===w.tag}function Pi(w){e:{for(var Ne=w.return;null!==Ne;){if(Oi(Ne)){var et=Ne;break e}Ne=Ne.return}throw Error(u(160))}switch(Ne=et.stateNode,et.tag){case 5:var tt=!1;break;case 3:case 4:Ne=Ne.containerInfo,tt=!0;break;default:throw Error(u(161))}16&et.effectTag&&(Rb(Ne,""),et.effectTag&=-17);e:t:for(et=w;;){for(;null===et.sibling;){if(null===et.return||Oi(et.return)){et=null;break e}et=et.return}for(et.sibling.return=et.return,et=et.sibling;5!==et.tag&&6!==et.tag&&18!==et.tag;){if(2&et.effectTag)continue t;if(null===et.child||4===et.tag)continue t;et.child.return=et,et=et.child}if(!(2&et.effectTag)){et=et.stateNode;break e}}tt?function Qi(w,Ne,et){var tt=w.tag,rt=5===tt||6===tt;if(rt)w=rt?w.stateNode:w.stateNode.instance,Ne?8===et.nodeType?et.parentNode.insertBefore(w,Ne):et.insertBefore(w,Ne):(8===et.nodeType?(Ne=et.parentNode).insertBefore(w,et):(Ne=et).appendChild(w),null!==(et=et._reactRootContainer)&&void 0!==et||null!==Ne.onclick||(Ne.onclick=sd));else if(4!==tt&&null!==(w=w.child))for(Qi(w,Ne,et),w=w.sibling;null!==w;)Qi(w,Ne,et),w=w.sibling}(w,et,Ne):function Ri(w,Ne,et){var tt=w.tag,rt=5===tt||6===tt;if(rt)w=rt?w.stateNode:w.stateNode.instance,Ne?et.insertBefore(w,Ne):et.appendChild(w);else if(4!==tt&&null!==(w=w.child))for(Ri(w,Ne,et),w=w.sibling;null!==w;)Ri(w,Ne,et),w=w.sibling}(w,et,Ne)}function Mi(w,Ne,et){for(var tt,rt,nt=Ne,it=!1;;){if(!it){it=nt.return;e:for(;;){if(null===it)throw Error(u(160));switch(tt=it.stateNode,it.tag){case 5:rt=!1;break e;case 3:case 4:tt=tt.containerInfo,rt=!0;break e}it=it.return}it=!0}if(5===nt.tag||6===nt.tag){e:for(var ot=w,at=nt,st=et,ct=at;;)if(Ki(ot,ct,st),null!==ct.child&&4!==ct.tag)ct.child.return=ct,ct=ct.child;else{if(ct===at)break e;for(;null===ct.sibling;){if(null===ct.return||ct.return===at)break e;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}rt?(ot=tt,at=nt.stateNode,8===ot.nodeType?ot.parentNode.removeChild(at):ot.removeChild(at)):tt.removeChild(nt.stateNode)}else if(4===nt.tag){if(null!==nt.child){tt=nt.stateNode.containerInfo,rt=!0,nt.child.return=nt,nt=nt.child;continue}}else if(Ki(w,nt,et),null!==nt.child){nt.child.return=nt,nt=nt.child;continue}if(nt===Ne)break;for(;null===nt.sibling;){if(null===nt.return||nt.return===Ne)return;4===(nt=nt.return).tag&&(it=!1)}nt.sibling.return=nt.return,nt=nt.sibling}}function Si(w,Ne){switch(Ne.tag){case 0:case 11:case 14:case 15:case 22:return void Hi(3,Ne);case 1:return;case 5:var et=Ne.stateNode;if(null!=et){var tt=Ne.memoizedProps,rt=null!==w?w.memoizedProps:tt;w=Ne.type;var nt=Ne.updateQueue;if(Ne.updateQueue=null,null!==nt){for(et[Il]=tt,"input"===w&&"radio"===tt.type&&null!=tt.name&&Bb(et,tt),pd(w,rt),Ne=pd(w,tt),rt=0;rt<nt.length;rt+=2){var it=nt[rt],ot=nt[rt+1];"style"===it?md(et,ot):"dangerouslySetInnerHTML"===it?ga(et,ot):"children"===it?Rb(et,ot):Xa(et,it,ot,Ne)}switch(w){case"input":Cb(et,tt);break;case"textarea":Kb(et,tt);break;case"select":Ne=et._wrapperState.wasMultiple,et._wrapperState.wasMultiple=!!tt.multiple,null!=(w=tt.value)?Hb(et,!!tt.multiple,w,!1):Ne!==!!tt.multiple&&(null!=tt.defaultValue?Hb(et,!!tt.multiple,tt.defaultValue,!0):Hb(et,!!tt.multiple,tt.multiple?[]:"",!1))}}}return;case 6:if(null===Ne.stateNode)throw Error(u(162));return void(Ne.stateNode.nodeValue=Ne.memoizedProps);case 3:return void((Ne=Ne.stateNode).hydrate&&(Ne.hydrate=!1,Vc(Ne.containerInfo)));case 12:return;case 13:if(et=Ne,null===Ne.memoizedState?tt=!1:(tt=!0,et=Ne.child,qf=Hp()),null!==et)e:for(w=et;;){if(5===w.tag)nt=w.stateNode,tt?"function"==typeof(nt=nt.style).setProperty?nt.setProperty("display","none","important"):nt.display="none":(nt=w.stateNode,rt=null!=(rt=w.memoizedProps.style)&&rt.hasOwnProperty("display")?rt.display:null,nt.style.display=ld("display",rt));else if(6===w.tag)w.stateNode.nodeValue=tt?"":w.memoizedProps;else{if(13===w.tag&&null!==w.memoizedState&&null===w.memoizedState.dehydrated){(nt=w.child.sibling).return=w,w=nt;continue}if(null!==w.child){w.child.return=w,w=w.child;continue}}if(w===et)break;for(;null===w.sibling;){if(null===w.return||w.return===et)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}return void Ui(Ne);case 19:return void Ui(Ne);case 17:return}throw Error(u(163))}function Ui(w){var Ne=w.updateQueue;if(null!==Ne){w.updateQueue=null;var et=w.stateNode;null===et&&(et=w.stateNode=new yf),Ne.forEach((function(Ne){var tt=Vi.bind(null,w,Ne);et.has(Ne)||(et.add(Ne),Ne.then(tt,tt))}))}}var vf="function"==typeof WeakMap?WeakMap:Map;function Xi(w,Ne,et){(et=wg(et,null)).tag=3,et.payload={element:null};var tt=Ne.value;return et.callback=function(){Zf||(Zf=!0,$f=tt),Ci(w,Ne)},et}function $i(w,Ne,et){(et=wg(et,null)).tag=3;var tt=w.type.getDerivedStateFromError;if("function"==typeof tt){var rt=Ne.value;et.payload=function(){return Ci(w,Ne),tt(rt)}}var nt=w.stateNode;return null!==nt&&"function"==typeof nt.componentDidCatch&&(et.callback=function(){"function"!=typeof tt&&(null===Xf?Xf=new Set([this]):Xf.add(this),Ci(w,Ne));var et=Ne.stack;this.componentDidCatch(Ne.value,{componentStack:null!==et?et:""})}),et}var _f,xf=Math.ceil,wf=Mn.ReactCurrentDispatcher,kf=Mn.ReactCurrentOwner,Sf=0,Tf=3,Pf=4,If=0,Af=null,zf=null,Mf=0,Lf=Sf,Rf=null,Of=1073741823,Bf=1073741823,Nf=null,Vf=0,Uf=!1,qf=0,Wf=null,Zf=!1,$f=null,Xf=null,Kf=!1,Yf=null,Jf=90,Qf=null,ed=0,nd=null,cd=0;function Gg(){return 0!=(48&If)?1073741821-(Hp()/10|0):0!==cd?cd:cd=1073741821-(Hp()/10|0)}function Hg(w,Ne,et){if(0==(2&(Ne=Ne.mode)))return 1073741823;var tt=ag();if(0==(4&Ne))return 99===tt?1073741823:1073741822;if(0!=(16&If))return Mf;if(null!==et)w=hg(w,0|et.timeoutMs||5e3,250);else switch(tt){case 99:w=1073741823;break;case 98:w=hg(w,150,100);break;case 97:case 96:w=hg(w,5e3,250);break;case 95:w=2;break;default:throw Error(u(326))}return null!==Af&&w===Mf&&--w,w}function Ig(w,Ne){if(50<ed)throw ed=0,nd=null,Error(u(185));if(null!==(w=xj(w,Ne))){var et=ag();1073741823===Ne?0!=(8&If)&&0==(48&If)?yj(w):(Z(w),0===If&&gg()):Z(w),0==(4&If)||98!==et&&99!==et||(null===Qf?Qf=new Map([[w,Ne]]):(void 0===(et=Qf.get(w))||et>Ne)&&Qf.set(w,Ne))}}function xj(w,Ne){w.expirationTime<Ne&&(w.expirationTime=Ne);var et=w.alternate;null!==et&&et.expirationTime<Ne&&(et.expirationTime=Ne);var tt=w.return,rt=null;if(null===tt&&3===w.tag)rt=w.stateNode;else for(;null!==tt;){if(et=tt.alternate,tt.childExpirationTime<Ne&&(tt.childExpirationTime=Ne),null!==et&&et.childExpirationTime<Ne&&(et.childExpirationTime=Ne),null===tt.return&&3===tt.tag){rt=tt.stateNode;break}tt=tt.return}return null!==rt&&(Af===rt&&(Bg(Ne),Lf===Pf&&xi(rt,Mf)),yi(rt,Ne)),rt}function zj(w){var Ne=w.lastExpiredTime;if(0!==Ne)return Ne;if(!Aj(w,Ne=w.firstPendingTime))return Ne;var et=w.lastPingedTime;return 2>=(w=et>(w=w.nextKnownPendingLevel)?et:w)&&Ne!==w?0:w}function Z(w){if(0!==w.lastExpiredTime)w.callbackExpirationTime=1073741823,w.callbackPriority=99,w.callbackNode=eg(yj.bind(null,w));else{var Ne=zj(w),et=w.callbackNode;if(0===Ne)null!==et&&(w.callbackNode=null,w.callbackExpirationTime=0,w.callbackPriority=90);else{var tt=Gg();if(1073741823===Ne?tt=99:1===Ne||2===Ne?tt=95:tt=0>=(tt=10*(1073741821-Ne)-10*(1073741821-tt))?99:250>=tt?98:5250>=tt?97:95,null!==et){var rt=w.callbackPriority;if(w.callbackExpirationTime===Ne&&rt>=tt)return;et!==jp&&zp(et)}w.callbackExpirationTime=Ne,w.callbackPriority=tt,Ne=1073741823===Ne?eg(yj.bind(null,w)):dg(tt,Bj.bind(null,w),{timeout:10*(1073741821-Ne)-Hp()}),w.callbackNode=Ne}}}function Bj(w,Ne){if(cd=0,Ne)return Cj(w,Ne=Gg()),Z(w),null;var et=zj(w);if(0!==et){if(Ne=w.callbackNode,0!=(48&If))throw Error(u(327));if(Dj(),w===Af&&et===Mf||Ej(w,et),null!==zf){var tt=If;If|=16;for(var rt=Fj();;)try{Gj();break}catch(Ne){Hj(w,Ne)}if(ng(),If=tt,wf.current=rt,1===Lf)throw Ne=Rf,Ej(w,et),xi(w,et),Z(w),Ne;if(null===zf)switch(rt=w.finishedWork=w.current.alternate,w.finishedExpirationTime=et,tt=Lf,Af=null,tt){case Sf:case 1:throw Error(u(345));case 2:Cj(w,2<et?2:et);break;case Tf:if(xi(w,et),et===(tt=w.lastSuspendedTime)&&(w.nextKnownPendingLevel=Ij(rt)),1073741823===Of&&10<(rt=qf+500-Hp())){if(Uf){var nt=w.lastPingedTime;if(0===nt||nt>=et){w.lastPingedTime=et,Ej(w,et);break}}if(0!==(nt=zj(w))&&nt!==et)break;if(0!==tt&&tt!==et){w.lastPingedTime=tt;break}w.timeoutHandle=wl(Jj.bind(null,w),rt);break}Jj(w);break;case Pf:if(xi(w,et),et===(tt=w.lastSuspendedTime)&&(w.nextKnownPendingLevel=Ij(rt)),Uf&&(0===(rt=w.lastPingedTime)||rt>=et)){w.lastPingedTime=et,Ej(w,et);break}if(0!==(rt=zj(w))&&rt!==et)break;if(0!==tt&&tt!==et){w.lastPingedTime=tt;break}if(1073741823!==Bf?tt=10*(1073741821-Bf)-Hp():1073741823===Of?tt=0:(tt=10*(1073741821-Of)-5e3,0>(tt=(rt=Hp())-tt)&&(tt=0),(et=10*(1073741821-et)-rt)<(tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*xf(tt/1960))-tt)&&(tt=et)),10<tt){w.timeoutHandle=wl(Jj.bind(null,w),tt);break}Jj(w);break;case 5:if(1073741823!==Of&&null!==Nf){nt=Of;var it=Nf;if(0>=(tt=0|it.busyMinDurationMs)?tt=0:(rt=0|it.busyDelayMs,tt=(nt=Hp()-(10*(1073741821-nt)-(0|it.timeoutMs||5e3)))<=rt?0:rt+tt-nt),10<tt){xi(w,et),w.timeoutHandle=wl(Jj.bind(null,w),tt);break}}Jj(w);break;default:throw Error(u(329))}if(Z(w),w.callbackNode===Ne)return Bj.bind(null,w)}}return null}function yj(w){var Ne=w.lastExpiredTime;if(Ne=0!==Ne?Ne:1073741823,0!=(48&If))throw Error(u(327));if(Dj(),w===Af&&Ne===Mf||Ej(w,Ne),null!==zf){var et=If;If|=16;for(var tt=Fj();;)try{Kj();break}catch(Ne){Hj(w,Ne)}if(ng(),If=et,wf.current=tt,1===Lf)throw et=Rf,Ej(w,Ne),xi(w,Ne),Z(w),et;if(null!==zf)throw Error(u(261));w.finishedWork=w.current.alternate,w.finishedExpirationTime=Ne,Af=null,Jj(w),Z(w)}return null}function Mj(w,Ne){var et=If;If|=1;try{return w(Ne)}finally{0===(If=et)&&gg()}}function Nj(w,Ne){var et=If;If&=-2,If|=8;try{return w(Ne)}finally{0===(If=et)&&gg()}}function Ej(w,Ne){w.finishedWork=null,w.finishedExpirationTime=0;var et=w.timeoutHandle;if(-1!==et&&(w.timeoutHandle=-1,kl(et)),null!==zf)for(et=zf.return;null!==et;){var tt=et;switch(tt.tag){case 1:null!=(tt=tt.type.childContextTypes)&&Df();break;case 3:eh(),H(Cp),H(Tp);break;case 5:gh(tt);break;case 4:eh();break;case 13:case 19:H(Ph);break;case 10:og(tt)}et=et.return}Af=w,zf=Sg(w.current,null),Mf=Ne,Lf=Sf,Rf=null,Bf=Of=1073741823,Nf=null,Vf=0,Uf=!1}function Hj(w,Ne){for(;;){try{if(ng(),Oh.current=rf,tf)for(var et=Yh.memoizedState;null!==et;){var tt=et.queue;null!==tt&&(tt.pending=null),et=et.next}if(qh=0,ef=Qh=Yh=null,tf=!1,null===zf||null===zf.return)return Lf=1,Rf=Ne,zf=null;e:{var rt=w,nt=zf.return,it=zf,ot=Ne;if(Ne=Mf,it.effectTag|=2048,it.firstEffect=it.lastEffect=null,null!==ot&&"object"==typeof ot&&"function"==typeof ot.then){var at=ot;if(0==(2&it.mode)){var st=it.alternate;st?(it.updateQueue=st.updateQueue,it.memoizedState=st.memoizedState,it.expirationTime=st.expirationTime):(it.updateQueue=null,it.memoizedState=null)}var ct=0!=(1&Ph.current),pt=nt;do{var ft;if(ft=13===pt.tag){var dt=pt.memoizedState;if(null!==dt)ft=null!==dt.dehydrated;else{var mt=pt.memoizedProps;ft=void 0!==mt.fallback&&(!0!==mt.unstable_avoidThisFallback||!ct)}}if(ft){var yt=pt.updateQueue;if(null===yt){var vt=new Set;vt.add(at),pt.updateQueue=vt}else yt.add(at);if(0==(2&pt.mode)){if(pt.effectTag|=64,it.effectTag&=-2981,1===it.tag)if(null===it.alternate)it.tag=17;else{var Rt=wg(1073741823,null);Rt.tag=2,xg(it,Rt)}it.expirationTime=1073741823;break e}ot=void 0,it=Ne;var Ot=rt.pingCache;if(null===Ot?(Ot=rt.pingCache=new vf,ot=new Set,Ot.set(at,ot)):void 0===(ot=Ot.get(at))&&(ot=new Set,Ot.set(at,ot)),!ot.has(it)){ot.add(it);var Dt=Oj.bind(null,rt,at,it);at.then(Dt,Dt)}pt.effectTag|=4096,pt.expirationTime=Ne;break e}pt=pt.return}while(null!==pt);ot=Error((pb(it.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+qb(it))}5!==Lf&&(Lf=2),ot=Ai(ot,it),pt=nt;do{switch(pt.tag){case 3:at=ot,pt.effectTag|=4096,pt.expirationTime=Ne,yg(pt,Xi(pt,at,Ne));break e;case 1:at=ot;var Bt=pt.type,er=pt.stateNode;if(0==(64&pt.effectTag)&&("function"==typeof Bt.getDerivedStateFromError||null!==er&&"function"==typeof er.componentDidCatch&&(null===Xf||!Xf.has(er)))){pt.effectTag|=4096,pt.expirationTime=Ne,yg(pt,$i(pt,at,Ne));break e}}pt=pt.return}while(null!==pt)}zf=Pj(zf)}catch(w){Ne=w;continue}break}}function Fj(){var w=wf.current;return wf.current=rf,null===w?rf:w}function Ag(w,Ne){w<Of&&2<w&&(Of=w),null!==Ne&&w<Bf&&2<w&&(Bf=w,Nf=Ne)}function Bg(w){w>Vf&&(Vf=w)}function Kj(){for(;null!==zf;)zf=Qj(zf)}function Gj(){for(;null!==zf&&!Vp();)zf=Qj(zf)}function Qj(w){var Ne=_f(w.alternate,w,Mf);return w.memoizedProps=w.pendingProps,null===Ne&&(Ne=Pj(w)),kf.current=null,Ne}function Pj(w){zf=w;do{var Ne=zf.alternate;if(w=zf.return,0==(2048&zf.effectTag)){if(Ne=si(Ne,zf,Mf),1===Mf||1!==zf.childExpirationTime){for(var et=0,tt=zf.child;null!==tt;){var rt=tt.expirationTime,nt=tt.childExpirationTime;rt>et&&(et=rt),nt>et&&(et=nt),tt=tt.sibling}zf.childExpirationTime=et}if(null!==Ne)return Ne;null!==w&&0==(2048&w.effectTag)&&(null===w.firstEffect&&(w.firstEffect=zf.firstEffect),null!==zf.lastEffect&&(null!==w.lastEffect&&(w.lastEffect.nextEffect=zf.firstEffect),w.lastEffect=zf.lastEffect),1<zf.effectTag&&(null!==w.lastEffect?w.lastEffect.nextEffect=zf:w.firstEffect=zf,w.lastEffect=zf))}else{if(null!==(Ne=zi(zf)))return Ne.effectTag&=2047,Ne;null!==w&&(w.firstEffect=w.lastEffect=null,w.effectTag|=2048)}if(null!==(Ne=zf.sibling))return Ne;zf=w}while(null!==zf);return Lf===Sf&&(Lf=5),null}function Ij(w){var Ne=w.expirationTime;return Ne>(w=w.childExpirationTime)?Ne:w}function Jj(w){var Ne=ag();return cg(99,Sj.bind(null,w,Ne)),null}function Sj(w,Ne){do{Dj()}while(null!==Yf);if(0!=(48&If))throw Error(u(327));var et=w.finishedWork,tt=w.finishedExpirationTime;if(null===et)return null;if(w.finishedWork=null,w.finishedExpirationTime=0,et===w.current)throw Error(u(177));w.callbackNode=null,w.callbackExpirationTime=0,w.callbackPriority=90,w.nextKnownPendingLevel=0;var rt=Ij(et);if(w.firstPendingTime=rt,tt<=w.lastSuspendedTime?w.firstSuspendedTime=w.lastSuspendedTime=w.nextKnownPendingLevel=0:tt<=w.firstSuspendedTime&&(w.firstSuspendedTime=tt-1),tt<=w.lastPingedTime&&(w.lastPingedTime=0),tt<=w.lastExpiredTime&&(w.lastExpiredTime=0),w===Af&&(zf=Af=null,Mf=0),1<et.effectTag?null!==et.lastEffect?(et.lastEffect.nextEffect=et,rt=et.firstEffect):rt=et:rt=et.firstEffect,null!==rt){var nt=If;If|=32,kf.current=null,bl=dl;var it=xd();if(yd(it)){if("selectionStart"in it)var ot={start:it.selectionStart,end:it.selectionEnd};else e:{var at=(ot=(ot=it.ownerDocument)&&ot.defaultView||window).getSelection&&ot.getSelection();if(at&&0!==at.rangeCount){ot=at.anchorNode;var st=at.anchorOffset,ct=at.focusNode;at=at.focusOffset;try{ot.nodeType,ct.nodeType}catch(w){ot=null;break e}var pt=0,ft=-1,dt=-1,mt=0,yt=0,vt=it,Rt=null;t:for(;;){for(var Ot;vt!==ot||0!==st&&3!==vt.nodeType||(ft=pt+st),vt!==ct||0!==at&&3!==vt.nodeType||(dt=pt+at),3===vt.nodeType&&(pt+=vt.nodeValue.length),null!==(Ot=vt.firstChild);)Rt=vt,vt=Ot;for(;;){if(vt===it)break t;if(Rt===ot&&++mt===st&&(ft=pt),Rt===ct&&++yt===at&&(dt=pt),null!==(Ot=vt.nextSibling))break;Rt=(vt=Rt).parentNode}vt=Ot}ot=-1===ft||-1===dt?null:{start:ft,end:dt}}else ot=null}ot=ot||{start:0,end:0}}else ot=null;xl={activeElementDetached:null,focusedElem:it,selectionRange:ot},dl=!1,Wf=rt;do{try{Tj()}catch(w){if(null===Wf)throw Error(u(330));Ei(Wf,w),Wf=Wf.nextEffect}}while(null!==Wf);Wf=rt;do{try{for(it=w,ot=Ne;null!==Wf;){var Dt=Wf.effectTag;if(16&Dt&&Rb(Wf.stateNode,""),128&Dt){var Bt=Wf.alternate;if(null!==Bt){var er=Bt.ref;null!==er&&("function"==typeof er?er(null):er.current=null)}}switch(1038&Dt){case 2:Pi(Wf),Wf.effectTag&=-3;break;case 6:Pi(Wf),Wf.effectTag&=-3,Si(Wf.alternate,Wf);break;case 1024:Wf.effectTag&=-1025;break;case 1028:Wf.effectTag&=-1025,Si(Wf.alternate,Wf);break;case 4:Si(Wf.alternate,Wf);break;case 8:Mi(it,st=Wf,ot),Ni(st)}Wf=Wf.nextEffect}}catch(w){if(null===Wf)throw Error(u(330));Ei(Wf,w),Wf=Wf.nextEffect}}while(null!==Wf);if(er=xl,Bt=xd(),Dt=er.focusedElem,ot=er.selectionRange,Bt!==Dt&&Dt&&Dt.ownerDocument&&function wd(w,Ne){return!(!w||!Ne)&&(w===Ne||(!w||3!==w.nodeType)&&(Ne&&3===Ne.nodeType?wd(w,Ne.parentNode):"contains"in w?w.contains(Ne):!!w.compareDocumentPosition&&!!(16&w.compareDocumentPosition(Ne))))}(Dt.ownerDocument.documentElement,Dt)){null!==ot&&yd(Dt)&&(Bt=ot.start,void 0===(er=ot.end)&&(er=Bt),"selectionStart"in Dt?(Dt.selectionStart=Bt,Dt.selectionEnd=Math.min(er,Dt.value.length)):(er=(Bt=Dt.ownerDocument||document)&&Bt.defaultView||window).getSelection&&(er=er.getSelection(),st=Dt.textContent.length,it=Math.min(ot.start,st),ot=void 0===ot.end?it:Math.min(ot.end,st),!er.extend&&it>ot&&(st=ot,ot=it,it=st),st=vd(Dt,it),ct=vd(Dt,ot),st&&ct&&(1!==er.rangeCount||er.anchorNode!==st.node||er.anchorOffset!==st.offset||er.focusNode!==ct.node||er.focusOffset!==ct.offset)&&((Bt=Bt.createRange()).setStart(st.node,st.offset),er.removeAllRanges(),it>ot?(er.addRange(Bt),er.extend(ct.node,ct.offset)):(Bt.setEnd(ct.node,ct.offset),er.addRange(Bt))))),Bt=[];for(er=Dt;er=er.parentNode;)1===er.nodeType&&Bt.push({element:er,left:er.scrollLeft,top:er.scrollTop});for("function"==typeof Dt.focus&&Dt.focus(),Dt=0;Dt<Bt.length;Dt++)(er=Bt[Dt]).element.scrollLeft=er.left,er.element.scrollTop=er.top}dl=!!bl,xl=bl=null,w.current=et,Wf=rt;do{try{for(Dt=w;null!==Wf;){var rr=Wf.effectTag;if(36&rr&&Ji(Dt,Wf.alternate,Wf),128&rr){Bt=void 0;var vr=Wf.ref;if(null!==vr){var wr=Wf.stateNode;switch(Wf.tag){case 5:Bt=wr;break;default:Bt=wr}"function"==typeof vr?vr(Bt):vr.current=Bt}}Wf=Wf.nextEffect}}catch(w){if(null===Wf)throw Error(u(330));Ei(Wf,w),Wf=Wf.nextEffect}}while(null!==Wf);Wf=null,Up(),If=nt}else w.current=et;if(Kf)Kf=!1,Yf=w,Jf=Ne;else for(Wf=rt;null!==Wf;)Ne=Wf.nextEffect,Wf.nextEffect=null,Wf=Ne;if(0===(Ne=w.firstPendingTime)&&(Xf=null),1073741823===Ne?w===nd?ed++:(ed=0,nd=w):ed=0,"function"==typeof fd&&fd(et.stateNode,tt),Z(w),Zf)throw Zf=!1,w=$f,$f=null,w;return 0!=(8&If)||gg(),null}function Tj(){for(;null!==Wf;){var w=Wf.effectTag;0!=(256&w)&&Gi(Wf.alternate,Wf),0==(512&w)||Kf||(Kf=!0,dg(97,(function(){return Dj(),null}))),Wf=Wf.nextEffect}}function Dj(){if(90!==Jf){var w=97<Jf?97:Jf;return Jf=90,cg(w,Vj)}}function Vj(){if(null===Yf)return!1;var w=Yf;if(Yf=null,0!=(48&If))throw Error(u(331));var Ne=If;for(If|=32,w=w.current.firstEffect;null!==w;){try{var et=w;if(0!=(512&et.effectTag))switch(et.tag){case 0:case 11:case 15:case 22:Hi(5,et),Ii(5,et)}}catch(Ne){if(null===w)throw Error(u(330));Ei(w,Ne)}et=w.nextEffect,w.nextEffect=null,w=et}return If=Ne,gg(),!0}function Wj(w,Ne,et){xg(w,Ne=Xi(w,Ne=Ai(et,Ne),1073741823)),null!==(w=xj(w,1073741823))&&Z(w)}function Ei(w,Ne){if(3===w.tag)Wj(w,w,Ne);else for(var et=w.return;null!==et;){if(3===et.tag){Wj(et,w,Ne);break}if(1===et.tag){var tt=et.stateNode;if("function"==typeof et.type.getDerivedStateFromError||"function"==typeof tt.componentDidCatch&&(null===Xf||!Xf.has(tt))){xg(et,w=$i(et,w=Ai(Ne,w),1073741823)),null!==(et=xj(et,1073741823))&&Z(et);break}}et=et.return}}function Oj(w,Ne,et){var tt=w.pingCache;null!==tt&&tt.delete(Ne),Af===w&&Mf===et?Lf===Pf||Lf===Tf&&1073741823===Of&&Hp()-qf<500?Ej(w,Mf):Uf=!0:Aj(w,et)&&(0!==(Ne=w.lastPingedTime)&&Ne<et||(w.lastPingedTime=et,Z(w)))}function Vi(w,Ne){var et=w.stateNode;null!==et&&et.delete(Ne),0===(Ne=0)&&(Ne=Hg(Ne=Gg(),w,null)),null!==(w=xj(w,Ne))&&Z(w)}_f=function(w,Ne,et){var tt=Ne.expirationTime;if(null!==w){var rt=Ne.pendingProps;if(w.memoizedProps!==rt||Cp.current)hf=!0;else{if(tt<et){switch(hf=!1,Ne.tag){case 3:hi(Ne),Xh();break;case 5:if(fh(Ne),4&Ne.mode&&1!==et&&rt.hidden)return Ne.expirationTime=Ne.childExpirationTime=1,null;break;case 1:L(Ne.type)&&Gf(Ne);break;case 4:dh(Ne,Ne.stateNode.containerInfo);break;case 10:tt=Ne.memoizedProps.value,rt=Ne.type._context,I($p,rt._currentValue),rt._currentValue=tt;break;case 13:if(null!==Ne.memoizedState)return 0!==(tt=Ne.child.childExpirationTime)&&tt>=et?ji(w,Ne,et):(I(Ph,1&Ph.current),null!==(Ne=$h(w,Ne,et))?Ne.sibling:null);I(Ph,1&Ph.current);break;case 19:if(tt=Ne.childExpirationTime>=et,0!=(64&w.effectTag)){if(tt)return mi(w,Ne,et);Ne.effectTag|=64}if(null!==(rt=Ne.memoizedState)&&(rt.rendering=null,rt.tail=null),I(Ph,Ph.current),!tt)return null}return $h(w,Ne,et)}hf=!1}}else hf=!1;switch(Ne.expirationTime=0,Ne.tag){case 2:if(tt=Ne.type,null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),w=Ne.pendingProps,rt=Cf(Ne,Tp.current),qg(Ne,et),rt=oh(null,Ne,tt,w,rt,et),Ne.effectTag|=1,"object"==typeof rt&&null!==rt&&"function"==typeof rt.render&&void 0===rt.$$typeof){if(Ne.tag=1,Ne.memoizedState=null,Ne.updateQueue=null,L(tt)){var nt=!0;Gf(Ne)}else nt=!1;Ne.memoizedState=null!==rt.state&&void 0!==rt.state?rt.state:null,ug(Ne);var it=tt.getDerivedStateFromProps;"function"==typeof it&&Fg(Ne,tt,it,w),rt.updater=ah,Ne.stateNode=rt,rt._reactInternalFiber=Ne,Ng(Ne,tt,w,et),Ne=gi(null,Ne,tt,!0,nt,et)}else Ne.tag=0,R(null,Ne,rt,et),Ne=Ne.child;return Ne;case 16:e:{if(rt=Ne.elementType,null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),w=Ne.pendingProps,function ob(w){if(-1===w._status){w._status=0;var Ne=w._ctor;Ne=Ne(),w._result=Ne,Ne.then((function(Ne){0===w._status&&(Ne=Ne.default,w._status=1,w._result=Ne)}),(function(Ne){0===w._status&&(w._status=2,w._result=Ne)}))}}(rt),1!==rt._status)throw rt._result;switch(rt=rt._result,Ne.type=rt,nt=Ne.tag=function Xj(w){if("function"==typeof w)return bi(w)?1:0;if(null!=w){if((w=w.$$typeof)===uo)return 11;if(w===So)return 14}return 2}(rt),w=ig(rt,w),nt){case 0:Ne=di(null,Ne,rt,w,et);break e;case 1:Ne=fi(null,Ne,rt,w,et);break e;case 11:Ne=Zh(null,Ne,rt,w,et);break e;case 14:Ne=ai(null,Ne,rt,ig(rt.type,w),tt,et);break e}throw Error(u(306,rt,""))}return Ne;case 0:return tt=Ne.type,rt=Ne.pendingProps,di(w,Ne,tt,rt=Ne.elementType===tt?rt:ig(tt,rt),et);case 1:return tt=Ne.type,rt=Ne.pendingProps,fi(w,Ne,tt,rt=Ne.elementType===tt?rt:ig(tt,rt),et);case 3:if(hi(Ne),tt=Ne.updateQueue,null===w||null===tt)throw Error(u(282));if(tt=Ne.pendingProps,rt=null!==(rt=Ne.memoizedState)?rt.element:null,vg(w,Ne),zg(Ne,tt,null,et),(tt=Ne.memoizedState.element)===rt)Xh(),Ne=$h(w,Ne,et);else{if((rt=Ne.stateNode.hydrate)&&(uf=Jd(Ne.stateNode.containerInfo.firstChild),lf=Ne,rt=cf=!0),rt)for(et=ph(Ne,null,tt,et),Ne.child=et;et;)et.effectTag=-3&et.effectTag|1024,et=et.sibling;else R(w,Ne,tt,et),Xh();Ne=Ne.child}return Ne;case 5:return fh(Ne),null===w&&Uh(Ne),tt=Ne.type,rt=Ne.pendingProps,nt=null!==w?w.memoizedProps:null,it=rt.children,Gd(tt,rt)?it=null:null!==nt&&Gd(tt,nt)&&(Ne.effectTag|=16),ei(w,Ne),4&Ne.mode&&1!==et&&rt.hidden?(Ne.expirationTime=Ne.childExpirationTime=1,Ne=null):(R(w,Ne,it,et),Ne=Ne.child),Ne;case 6:return null===w&&Uh(Ne),null;case 13:return ji(w,Ne,et);case 4:return dh(Ne,Ne.stateNode.containerInfo),tt=Ne.pendingProps,null===w?Ne.child=lh(Ne,null,tt,et):R(w,Ne,tt,et),Ne.child;case 11:return tt=Ne.type,rt=Ne.pendingProps,Zh(w,Ne,tt,rt=Ne.elementType===tt?rt:ig(tt,rt),et);case 7:return R(w,Ne,Ne.pendingProps,et),Ne.child;case 8:case 12:return R(w,Ne,Ne.pendingProps.children,et),Ne.child;case 10:e:{tt=Ne.type._context,rt=Ne.pendingProps,it=Ne.memoizedProps,nt=rt.value;var ot=Ne.type._context;if(I($p,ot._currentValue),ot._currentValue=nt,null!==it)if(ot=it.value,0===(nt=Yc(ot,nt)?0:0|("function"==typeof tt._calculateChangedBits?tt._calculateChangedBits(ot,nt):1073741823))){if(it.children===rt.children&&!Cp.current){Ne=$h(w,Ne,et);break e}}else for(null!==(ot=Ne.child)&&(ot.return=Ne);null!==ot;){var at=ot.dependencies;if(null!==at){it=ot.child;for(var st=at.firstContext;null!==st;){if(st.context===tt&&0!=(st.observedBits&nt)){1===ot.tag&&((st=wg(et,null)).tag=2,xg(ot,st)),ot.expirationTime<et&&(ot.expirationTime=et),null!==(st=ot.alternate)&&st.expirationTime<et&&(st.expirationTime=et),pg(ot.return,et),at.expirationTime<et&&(at.expirationTime=et);break}st=st.next}}else it=10===ot.tag&&ot.type===Ne.type?null:ot.child;if(null!==it)it.return=ot;else for(it=ot;null!==it;){if(it===Ne){it=null;break}if(null!==(ot=it.sibling)){ot.return=it.return,it=ot;break}it=it.return}ot=it}R(w,Ne,rt.children,et),Ne=Ne.child}return Ne;case 9:return rt=Ne.type,tt=(nt=Ne.pendingProps).children,qg(Ne,et),tt=tt(rt=sg(rt,nt.unstable_observedBits)),Ne.effectTag|=1,R(w,Ne,tt,et),Ne.child;case 14:return nt=ig(rt=Ne.type,Ne.pendingProps),ai(w,Ne,rt,nt=ig(rt.type,nt),tt,et);case 15:return ci(w,Ne,Ne.type,Ne.pendingProps,tt,et);case 17:return tt=Ne.type,rt=Ne.pendingProps,rt=Ne.elementType===tt?rt:ig(tt,rt),null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),Ne.tag=1,L(tt)?(w=!0,Gf(Ne)):w=!1,qg(Ne,et),Lg(Ne,tt,rt),Ng(Ne,tt,rt,et),gi(null,Ne,tt,!0,w,et);case 19:return mi(w,Ne,et)}throw Error(u(156,Ne.tag))};var fd=null,dd=null;function Zj(w,Ne,et,tt){this.tag=w,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Ne,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sh(w,Ne,et,tt){return new Zj(w,Ne,et,tt)}function bi(w){return!(!(w=w.prototype)||!w.isReactComponent)}function Sg(w,Ne){var et=w.alternate;return null===et?((et=Sh(w.tag,Ne,w.key,w.mode)).elementType=w.elementType,et.type=w.type,et.stateNode=w.stateNode,et.alternate=w,w.alternate=et):(et.pendingProps=Ne,et.effectTag=0,et.nextEffect=null,et.firstEffect=null,et.lastEffect=null),et.childExpirationTime=w.childExpirationTime,et.expirationTime=w.expirationTime,et.child=w.child,et.memoizedProps=w.memoizedProps,et.memoizedState=w.memoizedState,et.updateQueue=w.updateQueue,Ne=w.dependencies,et.dependencies=null===Ne?null:{expirationTime:Ne.expirationTime,firstContext:Ne.firstContext,responders:Ne.responders},et.sibling=w.sibling,et.index=w.index,et.ref=w.ref,et}function Ug(w,Ne,et,tt,rt,nt){var it=2;if(tt=w,"function"==typeof w)bi(w)&&(it=1);else if("string"==typeof w)it=5;else e:switch(w){case Vn:return Wg(et.children,rt,nt,Ne);case qi:it=8,rt|=7;break;case Wn:it=8,rt|=1;break;case $n:return(w=Sh(12,et,Ne,8|rt)).elementType=$n,w.type=$n,w.expirationTime=nt,w;case po:return(w=Sh(13,et,Ne,rt)).type=po,w.elementType=po,w.expirationTime=nt,w;case vo:return(w=Sh(19,et,Ne,rt)).elementType=vo,w.expirationTime=nt,w;default:if("object"==typeof w&&null!==w)switch(w.$$typeof){case Yn:it=10;break e;case ii:it=9;break e;case uo:it=11;break e;case So:it=14;break e;case ea:it=16,tt=null;break e;case ta:it=22;break e}throw Error(u(130,null==w?w:typeof w,""))}return(Ne=Sh(it,et,Ne,rt)).elementType=w,Ne.type=tt,Ne.expirationTime=nt,Ne}function Wg(w,Ne,et,tt){return(w=Sh(7,w,tt,Ne)).expirationTime=et,w}function Tg(w,Ne,et){return(w=Sh(6,w,null,Ne)).expirationTime=et,w}function Vg(w,Ne,et){return(Ne=Sh(4,null!==w.children?w.children:[],w.key,Ne)).expirationTime=et,Ne.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},Ne}function ak(w,Ne,et){this.tag=Ne,this.current=null,this.containerInfo=w,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=et,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Aj(w,Ne){var et=w.firstSuspendedTime;return w=w.lastSuspendedTime,0!==et&&et>=Ne&&w<=Ne}function xi(w,Ne){var et=w.firstSuspendedTime,tt=w.lastSuspendedTime;et<Ne&&(w.firstSuspendedTime=Ne),(tt>Ne||0===et)&&(w.lastSuspendedTime=Ne),Ne<=w.lastPingedTime&&(w.lastPingedTime=0),Ne<=w.lastExpiredTime&&(w.lastExpiredTime=0)}function yi(w,Ne){Ne>w.firstPendingTime&&(w.firstPendingTime=Ne);var et=w.firstSuspendedTime;0!==et&&(Ne>=et?w.firstSuspendedTime=w.lastSuspendedTime=w.nextKnownPendingLevel=0:Ne>=w.lastSuspendedTime&&(w.lastSuspendedTime=Ne+1),Ne>w.nextKnownPendingLevel&&(w.nextKnownPendingLevel=Ne))}function Cj(w,Ne){var et=w.lastExpiredTime;(0===et||et>Ne)&&(w.lastExpiredTime=Ne)}function bk(w,Ne,et,tt){var rt=Ne.current,nt=Gg(),it=Qp.suspense;nt=Hg(nt,rt,it);e:if(et){t:{if(dc(et=et._reactInternalFiber)!==et||1!==et.tag)throw Error(u(170));var ot=et;do{switch(ot.tag){case 3:ot=ot.stateNode.context;break t;case 1:if(L(ot.type)){ot=ot.stateNode.__reactInternalMemoizedMergedChildContext;break t}}ot=ot.return}while(null!==ot);throw Error(u(171))}if(1===et.tag){var at=et.type;if(L(at)){et=Ff(et,at,ot);break e}}et=ot}else et=Ep;return null===Ne.context?Ne.context=et:Ne.pendingContext=et,(Ne=wg(nt,it)).payload={element:w},null!==(tt=void 0===tt?null:tt)&&(Ne.callback=tt),xg(rt,Ne),Ig(rt,nt),nt}function ck(w){if(!(w=w.current).child)return null;switch(w.child.tag){case 5:default:return w.child.stateNode}}function dk(w,Ne){null!==(w=w.memoizedState)&&null!==w.dehydrated&&w.retryTime<Ne&&(w.retryTime=Ne)}function ek(w,Ne){dk(w,Ne),(w=w.alternate)&&dk(w,Ne)}function fk(w,Ne,et){var tt=new ak(w,Ne,et=null!=et&&!0===et.hydrate),rt=Sh(3,null,null,2===Ne?7:1===Ne?3:0);tt.current=rt,rt.stateNode=tt,ug(rt),w[Al]=tt.current,et&&0!==Ne&&function Jc(w,Ne){var et=cc(Ne);Bs.forEach((function(w){uc(w,Ne,et)})),Ns.forEach((function(w){uc(w,Ne,et)}))}(0,9===w.nodeType?w:w.ownerDocument),this._internalRoot=tt}function gk(w){return!(!w||1!==w.nodeType&&9!==w.nodeType&&11!==w.nodeType&&(8!==w.nodeType||" react-mount-point-unstable "!==w.nodeValue))}function ik(w,Ne,et,tt,rt){var nt=et._reactRootContainer;if(nt){var it=nt._internalRoot;if("function"==typeof rt){var ot=rt;rt=function(){var w=ck(it);ot.call(w)}}bk(Ne,it,w,rt)}else{if(nt=et._reactRootContainer=function hk(w,Ne){if(Ne||(Ne=!(!(Ne=w?9===w.nodeType?w.documentElement:w.firstChild:null)||1!==Ne.nodeType||!Ne.hasAttribute("data-reactroot"))),!Ne)for(var et;et=w.lastChild;)w.removeChild(et);return new fk(w,0,Ne?{hydrate:!0}:void 0)}(et,tt),it=nt._internalRoot,"function"==typeof rt){var at=rt;rt=function(){var w=ck(it);at.call(w)}}Nj((function(){bk(Ne,it,w,rt)}))}return ck(it)}function jk(w,Ne,et){var tt=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Nn,key:null==tt?null:""+tt,children:w,containerInfo:Ne,implementation:et}}function kk(w,Ne){var et=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gk(Ne))throw Error(u(200));return jk(w,Ne,null,et)}fk.prototype.render=function(w){bk(w,this._internalRoot,null,null)},fk.prototype.unmount=function(){var w=this._internalRoot,Ne=w.containerInfo;bk(null,w,null,(function(){Ne[Al]=null}))},Ss=function(w){if(13===w.tag){var Ne=hg(Gg(),150,100);Ig(w,Ne),ek(w,Ne)}},Es=function(w){13===w.tag&&(Ig(w,3),ek(w,3))},Cs=function(w){if(13===w.tag){var Ne=Gg();Ig(w,Ne=Hg(Ne,w,null)),ek(w,Ne)}},er=function(w,Ne,et){switch(Ne){case"input":if(Cb(w,et),Ne=et.name,"radio"===et.type&&null!=Ne){for(et=w;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+Ne)+'][type="radio"]'),Ne=0;Ne<et.length;Ne++){var tt=et[Ne];if(tt!==w&&tt.form===w.form){var rt=Qd(tt);if(!rt)throw Error(u(90));yb(tt),Cb(tt,rt)}}}break;case"textarea":Kb(w,et);break;case"select":null!=(Ne=et.value)&&Hb(w,!!et.multiple,Ne,!1)}},Fa=Mj,Ga=function(w,Ne,et,tt,rt){var nt=If;If|=4;try{return cg(98,w.bind(null,Ne,et,tt,rt))}finally{0===(If=nt)&&gg()}},Ha=function(){0==(49&If)&&(function Lj(){if(null!==Qf){var w=Qf;Qf=null,w.forEach((function(w,Ne){Cj(Ne,w),Z(Ne)})),gg()}}(),Dj())},wr=function(w,Ne){var et=If;If|=2;try{return w(Ne)}finally{0===(If=et)&&gg()}};var _d,bd,kd={Events:[Nc,Pd,Qd,xa,Rt,Xd,function(w){jc(w,Wd)},Da,Ea,id,mc,Dj,{current:!1}]};bd=(_d={findFiberByHostInstance:tc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function Yj(w){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var Ne=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Ne.isDisabled||!Ne.supportsFiber)return!0;try{var et=Ne.inject(w);fd=function(w){try{Ne.onCommitFiberRoot(et,w,void 0,64==(64&w.current.effectTag))}catch(w){}},dd=function(w){try{Ne.onCommitFiberUnmount(et,w)}catch(w){}}}catch(w){}return!0}(rt({},_d,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(w){return null===(w=hc(w))?null:w.stateNode},findFiberByHostInstance:function(w){return bd?bd(w):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kd,Ne.createPortal=kk,Ne.findDOMNode=function(w){if(null==w)return null;if(1===w.nodeType)return w;var Ne=w._reactInternalFiber;if(void 0===Ne){if("function"==typeof w.render)throw Error(u(188));throw Error(u(268,Object.keys(w)))}return w=null===(w=hc(Ne))?null:w.stateNode},Ne.flushSync=function(w,Ne){if(0!=(48&If))throw Error(u(187));var et=If;If|=1;try{return cg(99,w.bind(null,Ne))}finally{If=et,gg()}},Ne.hydrate=function(w,Ne,et){if(!gk(Ne))throw Error(u(200));return ik(null,w,Ne,!0,et)},Ne.render=function(w,Ne,et){if(!gk(Ne))throw Error(u(200));return ik(null,w,Ne,!1,et)},Ne.unmountComponentAtNode=function(w){if(!gk(w))throw Error(u(40));return!!w._reactRootContainer&&(Nj((function(){ik(null,null,w,!1,(function(){w._reactRootContainer=null,w[Al]=null}))})),!0)},Ne.unstable_batchedUpdates=Mj,Ne.unstable_createPortal=function(w,Ne){return kk(w,Ne,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},Ne.unstable_renderSubtreeIntoContainer=function(w,Ne,et,tt){if(!gk(et))throw Error(u(200));if(null==w||void 0===w._reactInternalFiber)throw Error(u(38));return ik(w,Ne,et,!1,tt)},Ne.version="16.13.1"},function(w,Ne,et){"use strict";w.exports=et(181)},function(w,Ne,et){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt,rt,nt,it,ot;if("undefined"==typeof window||"function"!=typeof MessageChannel){var at=null,st=null,t=function(){if(null!==at)try{var w=Ne.unstable_now();at(!0,w),at=null}catch(w){throw setTimeout(t,0),w}},ct=Date.now();Ne.unstable_now=function(){return Date.now()-ct},tt=function(w){null!==at?setTimeout(tt,0,w):(at=w,setTimeout(t,0))},rt=function(w,Ne){st=setTimeout(w,Ne)},nt=function(){clearTimeout(st)},it=function(){return!1},ot=Ne.unstable_forceFrameRate=function(){}}else{var pt=window.performance,ft=window.Date,dt=window.setTimeout,mt=window.clearTimeout;if("undefined"!=typeof console){var yt=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof yt&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof pt&&"function"==typeof pt.now)Ne.unstable_now=function(){return pt.now()};else{var vt=ft.now();Ne.unstable_now=function(){return ft.now()-vt}}var Rt=!1,Ot=null,Dt=-1,Bt=5,er=0;it=function(){return Ne.unstable_now()>=er},ot=function(){},Ne.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):Bt=0<w?Math.floor(1e3/w):5};var rr=new MessageChannel,vr=rr.port2;rr.port1.onmessage=function(){if(null!==Ot){var w=Ne.unstable_now();er=w+Bt;try{Ot(!0,w)?vr.postMessage(null):(Rt=!1,Ot=null)}catch(w){throw vr.postMessage(null),w}}else Rt=!1},tt=function(w){Ot=w,Rt||(Rt=!0,vr.postMessage(null))},rt=function(w,et){Dt=dt((function(){w(Ne.unstable_now())}),et)},nt=function(){mt(Dt),Dt=-1}}function J(w,Ne){var et=w.length;w.push(Ne);e:for(;;){var tt=et-1>>>1,rt=w[tt];if(!(void 0!==rt&&0<K(rt,Ne)))break e;w[tt]=Ne,w[et]=rt,et=tt}}function L(w){return void 0===(w=w[0])?null:w}function M(w){var Ne=w[0];if(void 0!==Ne){var et=w.pop();if(et!==Ne){w[0]=et;e:for(var tt=0,rt=w.length;tt<rt;){var nt=2*(tt+1)-1,it=w[nt],ot=nt+1,at=w[ot];if(void 0!==it&&0>K(it,et))void 0!==at&&0>K(at,it)?(w[tt]=at,w[ot]=et,tt=ot):(w[tt]=it,w[nt]=et,tt=nt);else{if(!(void 0!==at&&0>K(at,et)))break e;w[tt]=at,w[ot]=et,tt=ot}}}return Ne}return null}function K(w,Ne){var et=w.sortIndex-Ne.sortIndex;return 0!==et?et:w.id-Ne.id}var wr=[],Sr=[],rn=1,vn=null,bn=3,Tn=!1,Cn=!1,In=!1;function V(w){for(var Ne=L(Sr);null!==Ne;){if(null===Ne.callback)M(Sr);else{if(!(Ne.startTime<=w))break;M(Sr),Ne.sortIndex=Ne.expirationTime,J(wr,Ne)}Ne=L(Sr)}}function W(w){if(In=!1,V(w),!Cn)if(null!==L(wr))Cn=!0,tt(X);else{var Ne=L(Sr);null!==Ne&&rt(W,Ne.startTime-w)}}function X(w,et){Cn=!1,In&&(In=!1,nt()),Tn=!0;var tt=bn;try{for(V(et),vn=L(wr);null!==vn&&(!(vn.expirationTime>et)||w&&!it());){var ot=vn.callback;if(null!==ot){vn.callback=null,bn=vn.priorityLevel;var at=ot(vn.expirationTime<=et);et=Ne.unstable_now(),"function"==typeof at?vn.callback=at:vn===L(wr)&&M(wr),V(et)}else M(wr);vn=L(wr)}if(null!==vn)var st=!0;else{var ct=L(Sr);null!==ct&&rt(W,ct.startTime-et),st=!1}return st}finally{vn=null,bn=tt,Tn=!1}}function Y(w){switch(w){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var zn=ot;Ne.unstable_IdlePriority=5,Ne.unstable_ImmediatePriority=1,Ne.unstable_LowPriority=4,Ne.unstable_NormalPriority=3,Ne.unstable_Profiling=null,Ne.unstable_UserBlockingPriority=2,Ne.unstable_cancelCallback=function(w){w.callback=null},Ne.unstable_continueExecution=function(){Cn||Tn||(Cn=!0,tt(X))},Ne.unstable_getCurrentPriorityLevel=function(){return bn},Ne.unstable_getFirstCallbackNode=function(){return L(wr)},Ne.unstable_next=function(w){switch(bn){case 1:case 2:case 3:var Ne=3;break;default:Ne=bn}var et=bn;bn=Ne;try{return w()}finally{bn=et}},Ne.unstable_pauseExecution=function(){},Ne.unstable_requestPaint=zn,Ne.unstable_runWithPriority=function(w,Ne){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var et=bn;bn=w;try{return Ne()}finally{bn=et}},Ne.unstable_scheduleCallback=function(w,et,it){var ot=Ne.unstable_now();if("object"==typeof it&&null!==it){var at=it.delay;at="number"==typeof at&&0<at?ot+at:ot,it="number"==typeof it.timeout?it.timeout:Y(w)}else it=Y(w),at=ot;return w={id:rn++,callback:et,priorityLevel:w,startTime:at,expirationTime:it=at+it,sortIndex:-1},at>ot?(w.sortIndex=at,J(Sr,w),null===L(wr)&&w===L(Sr)&&(In?nt():In=!0,rt(W,at-ot))):(w.sortIndex=it,J(wr,w),Cn||Tn||(Cn=!0,tt(X))),w},Ne.unstable_shouldYield=function(){var w=Ne.unstable_now();V(w);var et=L(wr);return et!==vn&&null!==vn&&null!==et&&null!==et.callback&&et.startTime<=w&&et.expirationTime<vn.expirationTime||it()},Ne.unstable_wrapCallback=function(w){var Ne=bn;return function(){var et=bn;bn=Ne;try{return w.apply(this,arguments)}finally{bn=et}}}},function(w,Ne,et){var tt=et(34),rt=et(183);"string"==typeof(rt=rt.__esModule?rt.default:rt)&&(rt=[[w.i,rt,""]]);var nt={insert:"head",singleton:!1},it=(tt(rt,nt),rt.locals?rt.locals:{});w.exports=it},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,"body {\n\tmargin: 0;\n\twidth: 100vw;\n}\n\n/* stylelint-disable */\n@media (--phablet) {\n\thtml {\n\t\tfont-size: 0.875rem;\n\t}\n}\n\nh1 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 2.125rem;\n\tline-height: 2.875rem;\n}\n\nh2 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.625rem;\n\tline-height: 2.1875rem;\n}\n\nh3 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.25rem;\n\tline-height: 1.6875rem;\n}\n\nh4 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 700;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh5 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh6 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.75rem;\n\tline-height: 0.9rem;\n}\n\nsmall {\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.625rem;\n\tline-height: 0.875rem;\n}\n\np:not(:last-of-type) {\n\tmargin-bottom: 0.375rem;\n}\np {\n\tmargin-bottom: 0;\n\tmargin-top: 0;\n\t-webkit-margin-before: 0;\n\t-webkit-margin-after: 0;\n}\n\nstrong {\n\tfont-family: var(--font-extraBold);\n}\n\nhr {\n\tmargin: 0;\n\tborder: 0.03125rem solid var(--color-grey4);\n\tclear: both;\n}\n\n#styles_root-3WD {\n\twidth: 100%;\n\theight: 100%;\n}\n\nhtml {\n\tcolor: var(--color-base);\n\theight: 100%;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 400;\n}\nhtml,\nbody {\n\tposition: relative;\n\twidth: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: white;\n\tbox-sizing: border-box;\n\t-moz-osx-font-smoothing: grayscale; /* fixes bold fonts in firefox */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-font-smoothing: antialiased;\n\t-o-font-smoothing: antialiased;\n\tline-height: 1;\n}\n\nbody {\n\tmin-width: 64rem;\n\tmin-height: 100%;\n\theight: auto;\n\toverflow: auto;\n\tfont-size: 0.875rem;\n\tline-height: 1.1875rem;\n}\n\na {\n\ttext-decoration: none;\n\tcolor: var(--color-customDark);\n}\n\na:hover,\na:focus {\n\ttext-decoration: underline;\n\tcolor: var(--color-customDark);\n}\n\n*,\n*:before,\n*:after {\n\tbox-sizing: border-box;\n}\n\n*:focus {\n\toutline: 0;\n}\n\n::-moz-selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\n::selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\nimg {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\ninput,\ntextarea,\nbody,\ntext {\n\tcolor: var(--color-base);\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-weight: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\nbutton,\nselect,\ntextarea,\ninput,\ntext {\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\npre {\n\tfont-family: inherit;\n}\n\n/* Typography resets */\ndiv,\ndl,\ndt,\ndd,\nul,\nol,\nli,\npre,\nform,\nth,\ntd {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n/* Unordered Lists */\nul li {\n\tlist-style: none;\n}\n\n",""]),Ne.locals={root:"styles_root-3WD"},w.exports=Ne},function(w,Ne,et){"use strict";et(185);var tt=et(67),rt=et(24),nt=et(23),it=et(95),ot=et(36),at=nt("species"),st=!rt((function(){var w=/./;return w.exec=function(){var w=[];return w.groups={a:"7"},w},"7"!=="".replace(w,"$<a>")})),ct="$0"==="a".replace(/./,"$0"),pt=nt("replace"),ft=!!/./[pt]&&""===/./[pt]("a","$0"),dt=!rt((function(){var w=/(?:)/,Ne=w.exec;w.exec=function(){return Ne.apply(this,arguments)};var et="ab".split(w);return 2!==et.length||"a"!==et[0]||"b"!==et[1]}));w.exports=function(w,Ne,et,pt){var mt=nt(w),yt=!rt((function(){var Ne={};return Ne[mt]=function(){return 7},7!=""[w](Ne)})),vt=yt&&!rt((function(){var Ne=!1,et=/a/;return"split"===w&&((et={}).constructor={},et.constructor[at]=function(){return et},et.flags="",et[mt]=/./[mt]),et.exec=function(){return Ne=!0,null},et[mt](""),!Ne}));if(!yt||!vt||"replace"===w&&(!st||!ct||ft)||"split"===w&&!dt){var Rt=/./[mt],Ot=et(mt,""[w],(function(w,Ne,et,tt,rt){return Ne.exec===it?yt&&!rt?{done:!0,value:Rt.call(Ne,et,tt)}:{done:!0,value:w.call(et,Ne,tt)}:{done:!1}}),{REPLACE_KEEPS_$0:ct,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ft}),Dt=Ot[0],Bt=Ot[1];tt(String.prototype,w,Dt),tt(RegExp.prototype,mt,2==Ne?function(w,Ne){return Bt.call(w,this,Ne)}:function(w){return Bt.call(w,this)})}pt&&ot(RegExp.prototype[mt],"sham",!0)}},function(w,Ne,et){"use strict";var tt=et(10),rt=et(95);tt({target:"RegExp",proto:!0,forced:/./.exec!==rt},{exec:rt})},function(w,Ne,et){"use strict";var tt={}.propertyIsEnumerable,rt=Object.getOwnPropertyDescriptor,nt=rt&&!tt.call({1:2},1);Ne.f=nt?function propertyIsEnumerable(w){var Ne=rt(this,w);return!!Ne&&Ne.enumerable}:tt},function(w,Ne,et){var tt=et(14),rt=et(89),nt=tt.WeakMap;w.exports="function"==typeof nt&&/native code/.test(rt(nt))},function(w,Ne,et){var tt=et(27),rt=et(189),nt=et(73),it=et(28);w.exports=function(w,Ne){for(var et=rt(Ne),ot=it.f,at=nt.f,st=0;st<et.length;st++){var ct=et[st];tt(w,ct)||ot(w,ct,at(Ne,ct))}}},function(w,Ne,et){var tt=et(19),rt=et(93),nt=et(192),it=et(6);w.exports=tt("Reflect","ownKeys")||function ownKeys(w){var Ne=rt.f(it(w)),et=nt.f;return et?Ne.concat(et(w)):Ne}},function(w,Ne,et){var tt=et(14);w.exports=tt},function(w,Ne,et){var tt=et(85),rt=et(29),nt=et(119),createMethod=function(w){return function(Ne,et,it){var ot,at=tt(Ne),st=rt(at.length),ct=nt(it,st);if(w&&et!=et){for(;st>ct;)if((ot=at[ct++])!=ot)return!0}else for(;st>ct;ct++)if((w||ct in at)&&at[ct]===et)return w||ct||0;return!w&&-1}};w.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(w,Ne){Ne.f=Object.getOwnPropertySymbols},function(w,Ne,et){"use strict";var tt=et(6);w.exports=function(){var w=tt(this),Ne="";return w.global&&(Ne+="g"),w.ignoreCase&&(Ne+="i"),w.multiline&&(Ne+="m"),w.dotAll&&(Ne+="s"),w.unicode&&(Ne+="u"),w.sticky&&(Ne+="y"),Ne}},function(w,Ne,et){"use strict";var tt=et(24);function RE(w,Ne){return RegExp(w,Ne)}Ne.UNSUPPORTED_Y=tt((function(){var w=RE("a","y");return w.lastIndex=2,null!=w.exec("abcd")})),Ne.BROKEN_CARET=tt((function(){var w=RE("^r","gy");return w.lastIndex=2,null!=w.exec("str")}))},function(w,Ne,et){var tt=et(121);w.exports=tt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(w,Ne,et){"use strict";var tt=et(197).charAt;w.exports=function(w,Ne,et){return Ne+(et?tt(w,Ne).length:1)}},function(w,Ne,et){var tt=et(43),rt=et(74),createMethod=function(w){return function(Ne,et){var nt,it,ot=String(rt(Ne)),at=tt(et),st=ot.length;return at<0||at>=st?w?"":void 0:(nt=ot.charCodeAt(at))<55296||nt>56319||at+1===st||(it=ot.charCodeAt(at+1))<56320||it>57343?w?ot.charAt(at):nt:w?ot.slice(at,at+2):it-56320+(nt-55296<<10)+65536}};w.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(w,Ne,et){var tt=et(42),rt=et(95);w.exports=function(w,Ne){var et=w.exec;if("function"==typeof et){var nt=et.call(w,Ne);if("object"!=typeof nt)throw TypeError("RegExp exec method returned something other than an Object or null");return nt}if("RegExp"!==tt(w))throw TypeError("RegExp#exec called on incompatible receiver");return rt.call(w,Ne)}},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,".styles_appWrapper-36G{\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n}\n\n.styles_headerWrapper-2hQ{\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 5.625rem;\n}\n\n.styles_header-1h9{\n    padding: 0.625rem;\n    margin-left: 25rem;\n}\n\n.styles_navigation-2Jt{\n    padding-left: 25.25rem;\n    background: rgb(0, 152, 72);\n    color: white;\n}\n\n/*.link{*/\n/*    &:active{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*    &:hover{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*}*/\n\n.styles_link-3od{\n    display: inline-block;\n    padding: 0.375rem 1.25rem;\n    text-decoration: none;\n}\n\n.styles_link-3od.styles_active-hyt{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-3od:hover{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-3od:hover,\n.styles_link-3od:focus {\n    text-decoration: none;\n}\n\n.styles_bodyWrapper-38M{\n    position: relative;\n    height: calc(100% - 5.625rem);\n}\n\n\n",""]),Ne.locals={appWrapper:"styles_appWrapper-36G",headerWrapper:"styles_headerWrapper-2hQ",header:"styles_header-1h9",navigation:"styles_navigation-2Jt",link:"styles_link-3od",active:"styles_active-hyt",bodyWrapper:"styles_bodyWrapper-38M"},w.exports=Ne},function(w,Ne,et){var tt=et(14);w.exports=tt.Promise},function(w,Ne,et){var tt={};tt[et(23)("toStringTag")]="z",w.exports="[object z]"===String(tt)},function(w,Ne,et){var tt=et(6);w.exports=function(w,Ne,et,rt){try{return rt?Ne(tt(et)[0],et[1]):Ne(et)}catch(Ne){var nt=w.return;throw void 0!==nt&&tt(nt.call(w)),Ne}}},function(w,Ne,et){var tt,rt,nt,it,ot,at,st,ct,pt=et(14),ft=et(73).f,dt=et(42),mt=et(128).set,yt=et(130),vt=pt.MutationObserver||pt.WebKitMutationObserver,Rt=pt.process,Ot=pt.Promise,Dt="process"==dt(Rt),Bt=ft(pt,"queueMicrotask"),er=Bt&&Bt.value;er||(tt=function(){var w,Ne;for(Dt&&(w=Rt.domain)&&w.exit();rt;){Ne=rt.fn,rt=rt.next;try{Ne()}catch(w){throw rt?it():nt=void 0,w}}nt=void 0,w&&w.enter()},Dt?it=function(){Rt.nextTick(tt)}:vt&&!yt?(ot=!0,at=document.createTextNode(""),new vt(tt).observe(at,{characterData:!0}),it=function(){at.data=ot=!ot}):Ot&&Ot.resolve?(st=Ot.resolve(void 0),ct=st.then,it=function(){ct.call(st,tt)}):it=function(){mt.call(pt,tt)}),w.exports=er||function(w){var Ne={fn:w,next:void 0};nt&&(nt.next=Ne),rt||(rt=Ne,it()),nt=Ne}},function(w,Ne,et){var tt=et(6),rt=et(25),nt=et(132);w.exports=function(w,Ne){if(tt(w),rt(Ne)&&Ne.constructor===w)return Ne;var et=nt.f(w);return(0,et.resolve)(Ne),et.promise}},function(w,Ne,et){var tt=et(14);w.exports=function(w,Ne){var et=tt.console;et&&et.error&&(1===arguments.length?et.error(w):et.error(w,Ne))}},function(w,Ne){w.exports=function(w){try{return{error:!1,value:w()}}catch(w){return{error:!0,value:w}}}},function(w,Ne,et){var tt,rt,nt=et(14),it=et(131),ot=nt.process,at=ot&&ot.versions,st=at&&at.v8;st?rt=(tt=st.split("."))[0]+tt[1]:it&&(!(tt=it.match(/Edge\/(\d+)/))||tt[1]>=74)&&(tt=it.match(/Chrome\/(\d+)/))&&(rt=tt[1]),w.exports=rt&&+rt},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,".styles_exploreWrapper-2R1 {\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 1.25rem 1.25rem 1.25rem 0.3125rem;\n\tmargin-left: 25rem;\n}\n\n.styles_loadingWrapper-ESq {\n\tmargin-left: 0.9375rem;\n}\n\n.styles_imageWrapper-3BU {\n\tpadding-left: 1rem;\n\tcursor: pointer;\n}\n\n.styles_header-Jg9 {\n\tfont-weight: bold;\n\tmargin-bottom: 1.25rem;\n}\n\n.styles_regionWrapper-u_0 {\n\tpadding-right: 1.25rem;\n}\n",""]),Ne.locals={exploreWrapper:"styles_exploreWrapper-2R1",loadingWrapper:"styles_loadingWrapper-ESq",imageWrapper:"styles_imageWrapper-3BU",header:"styles_header-Jg9",regionWrapper:"styles_regionWrapper-u_0"},w.exports=Ne},function(w,Ne,et){et(210)("Uint8",(function(w){return function Uint8Array(Ne,et,tt){return w(this,Ne,et,tt)}}))},function(w,Ne,et){"use strict";var tt=et(10),rt=et(14),nt=et(26),it=et(211),ot=et(99),at=et(214),st=et(96),ct=et(84),pt=et(36),ft=et(29),dt=et(135),mt=et(217),yt=et(86),vt=et(27),Rt=et(98),Ot=et(25),Dt=et(136),Bt=et(77),er=et(93).f,rr=et(221),vr=et(222).forEach,wr=et(124),Sr=et(28),rn=et(73),vn=et(75),bn=et(225),Tn=vn.get,Cn=vn.set,In=Sr.f,zn=rn.f,Mn=Math.round,Ln=rt.RangeError,Fn=at.ArrayBuffer,Bn=at.DataView,Nn=ot.NATIVE_ARRAY_BUFFER_VIEWS,Vn=ot.TYPED_ARRAY_TAG,Wn=ot.TypedArray,$n=ot.TypedArrayPrototype,Yn=ot.aTypedArrayConstructor,ii=ot.isTypedArray,fromList=function(w,Ne){for(var et=0,tt=Ne.length,rt=new(Yn(w))(tt);tt>et;)rt[et]=Ne[et++];return rt},addGetter=function(w,Ne){In(w,Ne,{get:function(){return Tn(this)[Ne]}})},isArrayBuffer=function(w){var Ne;return w instanceof Fn||"ArrayBuffer"==(Ne=Rt(w))||"SharedArrayBuffer"==Ne},isTypedArrayIndex=function(w,Ne){return ii(w)&&"symbol"!=typeof Ne&&Ne in w&&String(+Ne)==String(Ne)},qi=function getOwnPropertyDescriptor(w,Ne){return isTypedArrayIndex(w,Ne=yt(Ne,!0))?ct(2,w[Ne]):zn(w,Ne)},uo=function defineProperty(w,Ne,et){return!(isTypedArrayIndex(w,Ne=yt(Ne,!0))&&Ot(et)&&vt(et,"value"))||vt(et,"get")||vt(et,"set")||et.configurable||vt(et,"writable")&&!et.writable||vt(et,"enumerable")&&!et.enumerable?In(w,Ne,et):(w[Ne]=et.value,w)};nt?(Nn||(rn.f=qi,Sr.f=uo,addGetter($n,"buffer"),addGetter($n,"byteOffset"),addGetter($n,"byteLength"),addGetter($n,"length")),tt({target:"Object",stat:!0,forced:!Nn},{getOwnPropertyDescriptor:qi,defineProperty:uo}),w.exports=function(w,Ne,et){var nt=w.match(/\d+$/)[0]/8,ot=w+(et?"Clamped":"")+"Array",at="get"+w,ct="set"+w,yt=rt[ot],vt=yt,Rt=vt&&vt.prototype,Sr={},addElement=function(w,Ne){In(w,Ne,{get:function(){return function(w,Ne){var et=Tn(w);return et.view[at](Ne*nt+et.byteOffset,!0)}(this,Ne)},set:function(w){return function(w,Ne,tt){var rt=Tn(w);et&&(tt=(tt=Mn(tt))<0?0:tt>255?255:255&tt),rt.view[ct](Ne*nt+rt.byteOffset,tt,!0)}(this,Ne,w)},enumerable:!0})};Nn?it&&(vt=Ne((function(w,Ne,et,tt){return st(w,vt,ot),bn(Ot(Ne)?isArrayBuffer(Ne)?void 0!==tt?new yt(Ne,mt(et,nt),tt):void 0!==et?new yt(Ne,mt(et,nt)):new yt(Ne):ii(Ne)?fromList(vt,Ne):rr.call(vt,Ne):new yt(dt(Ne)),w,vt)})),Bt&&Bt(vt,Wn),vr(er(yt),(function(w){w in vt||pt(vt,w,yt[w])})),vt.prototype=Rt):(vt=Ne((function(w,Ne,et,tt){st(w,vt,ot);var rt,it,at,ct=0,pt=0;if(Ot(Ne)){if(!isArrayBuffer(Ne))return ii(Ne)?fromList(vt,Ne):rr.call(vt,Ne);rt=Ne,pt=mt(et,nt);var yt=Ne.byteLength;if(void 0===tt){if(yt%nt)throw Ln("Wrong length");if((it=yt-pt)<0)throw Ln("Wrong length")}else if((it=ft(tt)*nt)+pt>yt)throw Ln("Wrong length");at=it/nt}else at=dt(Ne),rt=new Fn(it=at*nt);for(Cn(w,{buffer:rt,byteOffset:pt,byteLength:it,length:at,view:new Bn(rt)});ct<at;)addElement(w,ct++)})),Bt&&Bt(vt,Wn),Rt=vt.prototype=Dt($n)),Rt.constructor!==vt&&pt(Rt,"constructor",vt),Vn&&pt(Rt,Vn,ot),Sr[ot]=vt,tt({global:!0,forced:vt!=yt,sham:!Nn},Sr),"BYTES_PER_ELEMENT"in vt||pt(vt,"BYTES_PER_ELEMENT",nt),"BYTES_PER_ELEMENT"in Rt||pt(Rt,"BYTES_PER_ELEMENT",nt),wr(ot)}):w.exports=function(){}},function(w,Ne,et){var tt=et(14),rt=et(24),nt=et(127),it=et(99).NATIVE_ARRAY_BUFFER_VIEWS,ot=tt.ArrayBuffer,at=tt.Int8Array;w.exports=!it||!rt((function(){at(1)}))||!rt((function(){new at(-1)}))||!nt((function(w){new at,new at(null),new at(1.5),new at(w)}),!0)||rt((function(){return 1!==new at(new ot(2),1,void 0).length}))},function(w,Ne,et){var tt=et(24);w.exports=!tt((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(w,Ne,et){var tt=et(25);w.exports=function(w){if(!tt(w)&&null!==w)throw TypeError("Can't set "+String(w)+" as a prototype");return w}},function(w,Ne,et){"use strict";var tt=et(14),rt=et(26),nt=et(133),it=et(36),ot=et(122),at=et(24),st=et(96),ct=et(43),pt=et(29),ft=et(135),dt=et(215),mt=et(134),yt=et(77),vt=et(93).f,Rt=et(28).f,Ot=et(216),Dt=et(123),Bt=et(75),er=Bt.get,rr=Bt.set,vr=tt.ArrayBuffer,wr=vr,Sr=tt.DataView,rn=Sr&&Sr.prototype,vn=Object.prototype,bn=tt.RangeError,Tn=dt.pack,Cn=dt.unpack,packInt8=function(w){return[255&w]},packInt16=function(w){return[255&w,w>>8&255]},packInt32=function(w){return[255&w,w>>8&255,w>>16&255,w>>24&255]},unpackInt32=function(w){return w[3]<<24|w[2]<<16|w[1]<<8|w[0]},packFloat32=function(w){return Tn(w,23,4)},packFloat64=function(w){return Tn(w,52,8)},addGetter=function(w,Ne){Rt(w.prototype,Ne,{get:function(){return er(this)[Ne]}})},get=function(w,Ne,et,tt){var rt=ft(et),nt=er(w);if(rt+Ne>nt.byteLength)throw bn("Wrong index");var it=er(nt.buffer).bytes,ot=rt+nt.byteOffset,at=it.slice(ot,ot+Ne);return tt?at:at.reverse()},set=function(w,Ne,et,tt,rt,nt){var it=ft(et),ot=er(w);if(it+Ne>ot.byteLength)throw bn("Wrong index");for(var at=er(ot.buffer).bytes,st=it+ot.byteOffset,ct=tt(+rt),pt=0;pt<Ne;pt++)at[st+pt]=ct[nt?pt:Ne-pt-1]};if(nt){if(!at((function(){vr(1)}))||!at((function(){new vr(-1)}))||at((function(){return new vr,new vr(1.5),new vr(NaN),"ArrayBuffer"!=vr.name}))){for(var In,zn=(wr=function ArrayBuffer(w){return st(this,wr),new vr(ft(w))}).prototype=vr.prototype,Mn=vt(vr),Ln=0;Mn.length>Ln;)(In=Mn[Ln++])in wr||it(wr,In,vr[In]);zn.constructor=wr}yt&&mt(rn)!==vn&&yt(rn,vn);var Fn=new Sr(new wr(2)),Bn=rn.setInt8;Fn.setInt8(0,2147483648),Fn.setInt8(1,2147483649),!Fn.getInt8(0)&&Fn.getInt8(1)||ot(rn,{setInt8:function setInt8(w,Ne){Bn.call(this,w,Ne<<24>>24)},setUint8:function setUint8(w,Ne){Bn.call(this,w,Ne<<24>>24)}},{unsafe:!0})}else wr=function ArrayBuffer(w){st(this,wr,"ArrayBuffer");var Ne=ft(w);rr(this,{bytes:Ot.call(new Array(Ne),0),byteLength:Ne}),rt||(this.byteLength=Ne)},Sr=function DataView(w,Ne,et){st(this,Sr,"DataView"),st(w,wr,"DataView");var tt=er(w).byteLength,nt=ct(Ne);if(nt<0||nt>tt)throw bn("Wrong offset");if(nt+(et=void 0===et?tt-nt:pt(et))>tt)throw bn("Wrong length");rr(this,{buffer:w,byteLength:et,byteOffset:nt}),rt||(this.buffer=w,this.byteLength=et,this.byteOffset=nt)},rt&&(addGetter(wr,"byteLength"),addGetter(Sr,"buffer"),addGetter(Sr,"byteLength"),addGetter(Sr,"byteOffset")),ot(Sr.prototype,{getInt8:function getInt8(w){return get(this,1,w)[0]<<24>>24},getUint8:function getUint8(w){return get(this,1,w)[0]},getInt16:function getInt16(w){var Ne=get(this,2,w,arguments.length>1?arguments[1]:void 0);return(Ne[1]<<8|Ne[0])<<16>>16},getUint16:function getUint16(w){var Ne=get(this,2,w,arguments.length>1?arguments[1]:void 0);return Ne[1]<<8|Ne[0]},getInt32:function getInt32(w){return unpackInt32(get(this,4,w,arguments.length>1?arguments[1]:void 0))},getUint32:function getUint32(w){return unpackInt32(get(this,4,w,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function getFloat32(w){return Cn(get(this,4,w,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function getFloat64(w){return Cn(get(this,8,w,arguments.length>1?arguments[1]:void 0),52)},setInt8:function setInt8(w,Ne){set(this,1,w,packInt8,Ne)},setUint8:function setUint8(w,Ne){set(this,1,w,packInt8,Ne)},setInt16:function setInt16(w,Ne){set(this,2,w,packInt16,Ne,arguments.length>2?arguments[2]:void 0)},setUint16:function setUint16(w,Ne){set(this,2,w,packInt16,Ne,arguments.length>2?arguments[2]:void 0)},setInt32:function setInt32(w,Ne){set(this,4,w,packInt32,Ne,arguments.length>2?arguments[2]:void 0)},setUint32:function setUint32(w,Ne){set(this,4,w,packInt32,Ne,arguments.length>2?arguments[2]:void 0)},setFloat32:function setFloat32(w,Ne){set(this,4,w,packFloat32,Ne,arguments.length>2?arguments[2]:void 0)},setFloat64:function setFloat64(w,Ne){set(this,8,w,packFloat64,Ne,arguments.length>2?arguments[2]:void 0)}});Dt(wr,"ArrayBuffer"),Dt(Sr,"DataView"),w.exports={ArrayBuffer:wr,DataView:Sr}},function(w,Ne){var et=Math.abs,tt=Math.pow,rt=Math.floor,nt=Math.log,it=Math.LN2;w.exports={pack:function(w,Ne,ot){var at,st,ct,pt=new Array(ot),ft=8*ot-Ne-1,dt=(1<<ft)-1,mt=dt>>1,yt=23===Ne?tt(2,-24)-tt(2,-77):0,vt=w<0||0===w&&1/w<0?1:0,Rt=0;for((w=et(w))!=w||w===1/0?(st=w!=w?1:0,at=dt):(at=rt(nt(w)/it),w*(ct=tt(2,-at))<1&&(at--,ct*=2),(w+=at+mt>=1?yt/ct:yt*tt(2,1-mt))*ct>=2&&(at++,ct/=2),at+mt>=dt?(st=0,at=dt):at+mt>=1?(st=(w*ct-1)*tt(2,Ne),at+=mt):(st=w*tt(2,mt-1)*tt(2,Ne),at=0));Ne>=8;pt[Rt++]=255&st,st/=256,Ne-=8);for(at=at<<Ne|st,ft+=Ne;ft>0;pt[Rt++]=255&at,at/=256,ft-=8);return pt[--Rt]|=128*vt,pt},unpack:function(w,Ne){var et,rt=w.length,nt=8*rt-Ne-1,it=(1<<nt)-1,ot=it>>1,at=nt-7,st=rt-1,ct=w[st--],pt=127&ct;for(ct>>=7;at>0;pt=256*pt+w[st],st--,at-=8);for(et=pt&(1<<-at)-1,pt>>=-at,at+=Ne;at>0;et=256*et+w[st],st--,at-=8);if(0===pt)pt=1-ot;else{if(pt===it)return et?NaN:ct?-1/0:1/0;et+=tt(2,Ne),pt-=ot}return(ct?-1:1)*et*tt(2,pt-Ne)}}},function(w,Ne,et){"use strict";var tt=et(47),rt=et(119),nt=et(29);w.exports=function fill(w){for(var Ne=tt(this),et=nt(Ne.length),it=arguments.length,ot=rt(it>1?arguments[1]:void 0,et),at=it>2?arguments[2]:void 0,st=void 0===at?et:rt(at,et);st>ot;)Ne[ot++]=w;return Ne}},function(w,Ne,et){var tt=et(218);w.exports=function(w,Ne){var et=tt(w);if(et%Ne)throw RangeError("Wrong offset");return et}},function(w,Ne,et){var tt=et(43);w.exports=function(w){var Ne=tt(w);if(Ne<0)throw RangeError("The argument can't be less than 0");return Ne}},function(w,Ne,et){var tt=et(26),rt=et(28),nt=et(6),it=et(220);w.exports=tt?Object.defineProperties:function defineProperties(w,Ne){nt(w);for(var et,tt=it(Ne),ot=tt.length,at=0;ot>at;)rt.f(w,et=tt[at++],Ne[et]);return w}},function(w,Ne,et){var tt=et(118),rt=et(94);w.exports=Object.keys||function keys(w){return tt(w,rt)}},function(w,Ne,et){var tt=et(47),rt=et(29),nt=et(97),it=et(125),ot=et(17),at=et(99).aTypedArrayConstructor;w.exports=function from(w){var Ne,et,st,ct,pt,ft,dt=tt(w),mt=arguments.length,yt=mt>1?arguments[1]:void 0,vt=void 0!==yt,Rt=nt(dt);if(null!=Rt&&!it(Rt))for(ft=(pt=Rt.call(dt)).next,dt=[];!(ct=ft.call(pt)).done;)dt.push(ct.value);for(vt&&mt>2&&(yt=ot(yt,arguments[2],2)),et=rt(dt.length),st=new(at(this))(et),Ne=0;et>Ne;Ne++)st[Ne]=vt?yt(dt[Ne],Ne):dt[Ne];return st}},function(w,Ne,et){var tt=et(17),rt=et(114),nt=et(47),it=et(29),ot=et(223),at=[].push,createMethod=function(w){var Ne=1==w,et=2==w,st=3==w,ct=4==w,pt=6==w,ft=5==w||pt;return function(dt,mt,yt,vt){for(var Rt,Ot,Dt=nt(dt),Bt=rt(Dt),er=tt(mt,yt,3),rr=it(Bt.length),vr=0,wr=vt||ot,Sr=Ne?wr(dt,rr):et?wr(dt,0):void 0;rr>vr;vr++)if((ft||vr in Bt)&&(Ot=er(Rt=Bt[vr],vr,Dt),w))if(Ne)Sr[vr]=Ot;else if(Ot)switch(w){case 3:return!0;case 5:return Rt;case 6:return vr;case 2:at.call(Sr,Rt)}else if(ct)return!1;return pt?-1:st||ct?ct:Sr}};w.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},function(w,Ne,et){var tt=et(25),rt=et(224),nt=et(23)("species");w.exports=function(w,Ne){var et;return rt(w)&&("function"!=typeof(et=w.constructor)||et!==Array&&!rt(et.prototype)?tt(et)&&null===(et=et[nt])&&(et=void 0):et=void 0),new(void 0===et?Array:et)(0===Ne?0:Ne)}},function(w,Ne,et){var tt=et(42);w.exports=Array.isArray||function isArray(w){return"Array"==tt(w)}},function(w,Ne,et){var tt=et(25),rt=et(77);w.exports=function(w,Ne,et){var nt,it;return rt&&"function"==typeof(nt=Ne.constructor)&&nt!==et&&tt(it=nt.prototype)&&it!==et.prototype&&rt(w,it),w}},function(w,Ne){w.exports=function(w,Ne){return w===Ne||w!=w&&Ne!=Ne}},function(w,Ne,et){"use strict";var tt=et(6),rt=et(13);w.exports=function(){for(var w=tt(this),Ne=rt(w.add),et=0,nt=arguments.length;et<nt;et++)Ne.call(w,arguments[et]);return w}},function(w,Ne,et){"use strict";var tt=et(10),rt=et(9),nt=et(100);tt({target:"WeakMap",proto:!0,real:!0,forced:rt},{deleteAll:function deleteAll(){return nt.apply(this,arguments)}})},function(w,Ne,et){"use strict";var tt=et(230),rt=et(37),nt=et(152),it=et(102),ot=et(153),at=Object.prototype.toString;function Deflate(w){if(!(this instanceof Deflate))return new Deflate(w);this.options=rt.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},w||{});var Ne=this.options;Ne.raw&&Ne.windowBits>0?Ne.windowBits=-Ne.windowBits:Ne.gzip&&Ne.windowBits>0&&Ne.windowBits<16&&(Ne.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ot,this.strm.avail_out=0;var et=tt.deflateInit2(this.strm,Ne.level,Ne.method,Ne.windowBits,Ne.memLevel,Ne.strategy);if(0!==et)throw new Error(it[et]);if(Ne.header&&tt.deflateSetHeader(this.strm,Ne.header),Ne.dictionary){var st;if(st="string"==typeof Ne.dictionary?nt.string2buf(Ne.dictionary):"[object ArrayBuffer]"===at.call(Ne.dictionary)?new Uint8Array(Ne.dictionary):Ne.dictionary,0!==(et=tt.deflateSetDictionary(this.strm,st)))throw new Error(it[et]);this._dict_set=!0}}function deflate(w,Ne){var et=new Deflate(Ne);if(et.push(w,!0),et.err)throw et.msg||it[et.err];return et.result}Deflate.prototype.push=function(w,Ne){var et,it,ot=this.strm,st=this.options.chunkSize;if(this.ended)return!1;it=Ne===~~Ne?Ne:!0===Ne?4:0,"string"==typeof w?ot.input=nt.string2buf(w):"[object ArrayBuffer]"===at.call(w)?ot.input=new Uint8Array(w):ot.input=w,ot.next_in=0,ot.avail_in=ot.input.length;do{if(0===ot.avail_out&&(ot.output=new rt.Buf8(st),ot.next_out=0,ot.avail_out=st),1!==(et=tt.deflate(ot,it))&&0!==et)return this.onEnd(et),this.ended=!0,!1;0!==ot.avail_out&&(0!==ot.avail_in||4!==it&&2!==it)||("string"===this.options.to?this.onData(nt.buf2binstring(rt.shrinkBuf(ot.output,ot.next_out))):this.onData(rt.shrinkBuf(ot.output,ot.next_out)))}while((ot.avail_in>0||0===ot.avail_out)&&1!==et);return 4===it?(et=tt.deflateEnd(this.strm),this.onEnd(et),this.ended=!0,0===et):2!==it||(this.onEnd(0),ot.avail_out=0,!0)},Deflate.prototype.onData=function(w){this.chunks.push(w)},Deflate.prototype.onEnd=function(w){0===w&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rt.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},Ne.Deflate=Deflate,Ne.deflate=deflate,Ne.deflateRaw=function deflateRaw(w,Ne){return(Ne=Ne||{}).raw=!0,deflate(w,Ne)},Ne.gzip=function gzip(w,Ne){return(Ne=Ne||{}).gzip=!0,deflate(w,Ne)}},function(w,Ne,et){"use strict";var tt,rt=et(37),nt=et(231),it=et(150),ot=et(151),at=et(102);function err(w,Ne){return w.msg=at[Ne],Ne}function rank(w){return(w<<1)-(w>4?9:0)}function zero(w){for(var Ne=w.length;--Ne>=0;)w[Ne]=0}function flush_pending(w){var Ne=w.state,et=Ne.pending;et>w.avail_out&&(et=w.avail_out),0!==et&&(rt.arraySet(w.output,Ne.pending_buf,Ne.pending_out,et,w.next_out),w.next_out+=et,Ne.pending_out+=et,w.total_out+=et,w.avail_out-=et,Ne.pending-=et,0===Ne.pending&&(Ne.pending_out=0))}function flush_block_only(w,Ne){nt._tr_flush_block(w,w.block_start>=0?w.block_start:-1,w.strstart-w.block_start,Ne),w.block_start=w.strstart,flush_pending(w.strm)}function put_byte(w,Ne){w.pending_buf[w.pending++]=Ne}function putShortMSB(w,Ne){w.pending_buf[w.pending++]=Ne>>>8&255,w.pending_buf[w.pending++]=255&Ne}function longest_match(w,Ne){var et,tt,rt=w.max_chain_length,nt=w.strstart,it=w.prev_length,ot=w.nice_match,at=w.strstart>w.w_size-262?w.strstart-(w.w_size-262):0,st=w.window,ct=w.w_mask,pt=w.prev,ft=w.strstart+258,dt=st[nt+it-1],mt=st[nt+it];w.prev_length>=w.good_match&&(rt>>=2),ot>w.lookahead&&(ot=w.lookahead);do{if(st[(et=Ne)+it]===mt&&st[et+it-1]===dt&&st[et]===st[nt]&&st[++et]===st[nt+1]){nt+=2,et++;do{}while(st[++nt]===st[++et]&&st[++nt]===st[++et]&&st[++nt]===st[++et]&&st[++nt]===st[++et]&&st[++nt]===st[++et]&&st[++nt]===st[++et]&&st[++nt]===st[++et]&&st[++nt]===st[++et]&&nt<ft);if(tt=258-(ft-nt),nt=ft-258,tt>it){if(w.match_start=Ne,it=tt,tt>=ot)break;dt=st[nt+it-1],mt=st[nt+it]}}}while((Ne=pt[Ne&ct])>at&&0!=--rt);return it<=w.lookahead?it:w.lookahead}function fill_window(w){var Ne,et,tt,nt,at,st,ct,pt,ft,dt,mt=w.w_size;do{if(nt=w.window_size-w.lookahead-w.strstart,w.strstart>=mt+(mt-262)){rt.arraySet(w.window,w.window,mt,mt,0),w.match_start-=mt,w.strstart-=mt,w.block_start-=mt,Ne=et=w.hash_size;do{tt=w.head[--Ne],w.head[Ne]=tt>=mt?tt-mt:0}while(--et);Ne=et=mt;do{tt=w.prev[--Ne],w.prev[Ne]=tt>=mt?tt-mt:0}while(--et);nt+=mt}if(0===w.strm.avail_in)break;if(st=w.strm,ct=w.window,pt=w.strstart+w.lookahead,ft=nt,dt=void 0,(dt=st.avail_in)>ft&&(dt=ft),et=0===dt?0:(st.avail_in-=dt,rt.arraySet(ct,st.input,st.next_in,dt,pt),1===st.state.wrap?st.adler=it(st.adler,ct,dt,pt):2===st.state.wrap&&(st.adler=ot(st.adler,ct,dt,pt)),st.next_in+=dt,st.total_in+=dt,dt),w.lookahead+=et,w.lookahead+w.insert>=3)for(at=w.strstart-w.insert,w.ins_h=w.window[at],w.ins_h=(w.ins_h<<w.hash_shift^w.window[at+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[at+3-1])&w.hash_mask,w.prev[at&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=at,at++,w.insert--,!(w.lookahead+w.insert<3)););}while(w.lookahead<262&&0!==w.strm.avail_in)}function deflate_fast(w,Ne){for(var et,tt;;){if(w.lookahead<262){if(fill_window(w),w.lookahead<262&&0===Ne)return 1;if(0===w.lookahead)break}if(et=0,w.lookahead>=3&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+3-1])&w.hash_mask,et=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),0!==et&&w.strstart-et<=w.w_size-262&&(w.match_length=longest_match(w,et)),w.match_length>=3)if(tt=nt._tr_tally(w,w.strstart-w.match_start,w.match_length-3),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=3){w.match_length--;do{w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+3-1])&w.hash_mask,et=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart}while(0!=--w.match_length);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else tt=nt._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(tt&&(flush_block_only(w,!1),0===w.strm.avail_out))return 1}return w.insert=w.strstart<2?w.strstart:2,4===Ne?(flush_block_only(w,!0),0===w.strm.avail_out?3:4):w.last_lit&&(flush_block_only(w,!1),0===w.strm.avail_out)?1:2}function deflate_slow(w,Ne){for(var et,tt,rt;;){if(w.lookahead<262){if(fill_window(w),w.lookahead<262&&0===Ne)return 1;if(0===w.lookahead)break}if(et=0,w.lookahead>=3&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+3-1])&w.hash_mask,et=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=2,0!==et&&w.prev_length<w.max_lazy_match&&w.strstart-et<=w.w_size-262&&(w.match_length=longest_match(w,et),w.match_length<=5&&(1===w.strategy||3===w.match_length&&w.strstart-w.match_start>4096)&&(w.match_length=2)),w.prev_length>=3&&w.match_length<=w.prev_length){rt=w.strstart+w.lookahead-3,tt=nt._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-3),w.lookahead-=w.prev_length-1,w.prev_length-=2;do{++w.strstart<=rt&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+3-1])&w.hash_mask,et=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart)}while(0!=--w.prev_length);if(w.match_available=0,w.match_length=2,w.strstart++,tt&&(flush_block_only(w,!1),0===w.strm.avail_out))return 1}else if(w.match_available){if((tt=nt._tr_tally(w,0,w.window[w.strstart-1]))&&flush_block_only(w,!1),w.strstart++,w.lookahead--,0===w.strm.avail_out)return 1}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(tt=nt._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<2?w.strstart:2,4===Ne?(flush_block_only(w,!0),0===w.strm.avail_out?3:4):w.last_lit&&(flush_block_only(w,!1),0===w.strm.avail_out)?1:2}function Config(w,Ne,et,tt,rt){this.good_length=w,this.max_lazy=Ne,this.nice_length=et,this.max_chain=tt,this.func=rt}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new rt.Buf16(1146),this.dyn_dtree=new rt.Buf16(122),this.bl_tree=new rt.Buf16(78),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new rt.Buf16(16),this.heap=new rt.Buf16(573),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new rt.Buf16(573),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(w){var Ne;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=2,(Ne=w.state).pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?42:113,w.adler=2===Ne.wrap?0:1,Ne.last_flush=0,nt._tr_init(Ne),0):err(w,-2)}function deflateReset(w){var Ne=deflateResetKeep(w);return 0===Ne&&function lm_init(w){w.window_size=2*w.w_size,zero(w.head),w.max_lazy_match=tt[w.level].max_lazy,w.good_match=tt[w.level].good_length,w.nice_match=tt[w.level].nice_length,w.max_chain_length=tt[w.level].max_chain,w.strstart=0,w.block_start=0,w.lookahead=0,w.insert=0,w.match_length=w.prev_length=2,w.match_available=0,w.ins_h=0}(w.state),Ne}function deflateInit2(w,Ne,et,tt,nt,it){if(!w)return-2;var ot=1;if(-1===Ne&&(Ne=6),tt<0?(ot=0,tt=-tt):tt>15&&(ot=2,tt-=16),nt<1||nt>9||8!==et||tt<8||tt>15||Ne<0||Ne>9||it<0||it>4)return err(w,-2);8===tt&&(tt=9);var at=new DeflateState;return w.state=at,at.strm=w,at.wrap=ot,at.gzhead=null,at.w_bits=tt,at.w_size=1<<at.w_bits,at.w_mask=at.w_size-1,at.hash_bits=nt+7,at.hash_size=1<<at.hash_bits,at.hash_mask=at.hash_size-1,at.hash_shift=~~((at.hash_bits+3-1)/3),at.window=new rt.Buf8(2*at.w_size),at.head=new rt.Buf16(at.hash_size),at.prev=new rt.Buf16(at.w_size),at.lit_bufsize=1<<nt+6,at.pending_buf_size=4*at.lit_bufsize,at.pending_buf=new rt.Buf8(at.pending_buf_size),at.d_buf=1*at.lit_bufsize,at.l_buf=3*at.lit_bufsize,at.level=Ne,at.strategy=it,at.method=et,deflateReset(w)}tt=[new Config(0,0,0,0,(function deflate_stored(w,Ne){var et=65535;for(et>w.pending_buf_size-5&&(et=w.pending_buf_size-5);;){if(w.lookahead<=1){if(fill_window(w),0===w.lookahead&&0===Ne)return 1;if(0===w.lookahead)break}w.strstart+=w.lookahead,w.lookahead=0;var tt=w.block_start+et;if((0===w.strstart||w.strstart>=tt)&&(w.lookahead=w.strstart-tt,w.strstart=tt,flush_block_only(w,!1),0===w.strm.avail_out))return 1;if(w.strstart-w.block_start>=w.w_size-262&&(flush_block_only(w,!1),0===w.strm.avail_out))return 1}return w.insert=0,4===Ne?(flush_block_only(w,!0),0===w.strm.avail_out?3:4):(w.strstart>w.block_start&&(flush_block_only(w,!1),w.strm.avail_out),1)})),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],Ne.deflateInit=function deflateInit(w,Ne){return deflateInit2(w,Ne,8,15,8,0)},Ne.deflateInit2=deflateInit2,Ne.deflateReset=deflateReset,Ne.deflateResetKeep=deflateResetKeep,Ne.deflateSetHeader=function deflateSetHeader(w,Ne){return w&&w.state?2!==w.state.wrap?-2:(w.state.gzhead=Ne,0):-2},Ne.deflate=function deflate(w,Ne){var et,rt,it,at;if(!w||!w.state||Ne>5||Ne<0)return w?err(w,-2):-2;if(rt=w.state,!w.output||!w.input&&0!==w.avail_in||666===rt.status&&4!==Ne)return err(w,0===w.avail_out?-5:-2);if(rt.strm=w,et=rt.last_flush,rt.last_flush=Ne,42===rt.status)if(2===rt.wrap)w.adler=0,put_byte(rt,31),put_byte(rt,139),put_byte(rt,8),rt.gzhead?(put_byte(rt,(rt.gzhead.text?1:0)+(rt.gzhead.hcrc?2:0)+(rt.gzhead.extra?4:0)+(rt.gzhead.name?8:0)+(rt.gzhead.comment?16:0)),put_byte(rt,255&rt.gzhead.time),put_byte(rt,rt.gzhead.time>>8&255),put_byte(rt,rt.gzhead.time>>16&255),put_byte(rt,rt.gzhead.time>>24&255),put_byte(rt,9===rt.level?2:rt.strategy>=2||rt.level<2?4:0),put_byte(rt,255&rt.gzhead.os),rt.gzhead.extra&&rt.gzhead.extra.length&&(put_byte(rt,255&rt.gzhead.extra.length),put_byte(rt,rt.gzhead.extra.length>>8&255)),rt.gzhead.hcrc&&(w.adler=ot(w.adler,rt.pending_buf,rt.pending,0)),rt.gzindex=0,rt.status=69):(put_byte(rt,0),put_byte(rt,0),put_byte(rt,0),put_byte(rt,0),put_byte(rt,0),put_byte(rt,9===rt.level?2:rt.strategy>=2||rt.level<2?4:0),put_byte(rt,3),rt.status=113);else{var st=8+(rt.w_bits-8<<4)<<8;st|=(rt.strategy>=2||rt.level<2?0:rt.level<6?1:6===rt.level?2:3)<<6,0!==rt.strstart&&(st|=32),st+=31-st%31,rt.status=113,putShortMSB(rt,st),0!==rt.strstart&&(putShortMSB(rt,w.adler>>>16),putShortMSB(rt,65535&w.adler)),w.adler=1}if(69===rt.status)if(rt.gzhead.extra){for(it=rt.pending;rt.gzindex<(65535&rt.gzhead.extra.length)&&(rt.pending!==rt.pending_buf_size||(rt.gzhead.hcrc&&rt.pending>it&&(w.adler=ot(w.adler,rt.pending_buf,rt.pending-it,it)),flush_pending(w),it=rt.pending,rt.pending!==rt.pending_buf_size));)put_byte(rt,255&rt.gzhead.extra[rt.gzindex]),rt.gzindex++;rt.gzhead.hcrc&&rt.pending>it&&(w.adler=ot(w.adler,rt.pending_buf,rt.pending-it,it)),rt.gzindex===rt.gzhead.extra.length&&(rt.gzindex=0,rt.status=73)}else rt.status=73;if(73===rt.status)if(rt.gzhead.name){it=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>it&&(w.adler=ot(w.adler,rt.pending_buf,rt.pending-it,it)),flush_pending(w),it=rt.pending,rt.pending===rt.pending_buf_size)){at=1;break}at=rt.gzindex<rt.gzhead.name.length?255&rt.gzhead.name.charCodeAt(rt.gzindex++):0,put_byte(rt,at)}while(0!==at);rt.gzhead.hcrc&&rt.pending>it&&(w.adler=ot(w.adler,rt.pending_buf,rt.pending-it,it)),0===at&&(rt.gzindex=0,rt.status=91)}else rt.status=91;if(91===rt.status)if(rt.gzhead.comment){it=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>it&&(w.adler=ot(w.adler,rt.pending_buf,rt.pending-it,it)),flush_pending(w),it=rt.pending,rt.pending===rt.pending_buf_size)){at=1;break}at=rt.gzindex<rt.gzhead.comment.length?255&rt.gzhead.comment.charCodeAt(rt.gzindex++):0,put_byte(rt,at)}while(0!==at);rt.gzhead.hcrc&&rt.pending>it&&(w.adler=ot(w.adler,rt.pending_buf,rt.pending-it,it)),0===at&&(rt.status=103)}else rt.status=103;if(103===rt.status&&(rt.gzhead.hcrc?(rt.pending+2>rt.pending_buf_size&&flush_pending(w),rt.pending+2<=rt.pending_buf_size&&(put_byte(rt,255&w.adler),put_byte(rt,w.adler>>8&255),w.adler=0,rt.status=113)):rt.status=113),0!==rt.pending){if(flush_pending(w),0===w.avail_out)return rt.last_flush=-1,0}else if(0===w.avail_in&&rank(Ne)<=rank(et)&&4!==Ne)return err(w,-5);if(666===rt.status&&0!==w.avail_in)return err(w,-5);if(0!==w.avail_in||0!==rt.lookahead||0!==Ne&&666!==rt.status){var ct=2===rt.strategy?function deflate_huff(w,Ne){for(var et;;){if(0===w.lookahead&&(fill_window(w),0===w.lookahead)){if(0===Ne)return 1;break}if(w.match_length=0,et=nt._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++,et&&(flush_block_only(w,!1),0===w.strm.avail_out))return 1}return w.insert=0,4===Ne?(flush_block_only(w,!0),0===w.strm.avail_out?3:4):w.last_lit&&(flush_block_only(w,!1),0===w.strm.avail_out)?1:2}(rt,Ne):3===rt.strategy?function deflate_rle(w,Ne){for(var et,tt,rt,it,ot=w.window;;){if(w.lookahead<=258){if(fill_window(w),w.lookahead<=258&&0===Ne)return 1;if(0===w.lookahead)break}if(w.match_length=0,w.lookahead>=3&&w.strstart>0&&(tt=ot[rt=w.strstart-1])===ot[++rt]&&tt===ot[++rt]&&tt===ot[++rt]){it=w.strstart+258;do{}while(tt===ot[++rt]&&tt===ot[++rt]&&tt===ot[++rt]&&tt===ot[++rt]&&tt===ot[++rt]&&tt===ot[++rt]&&tt===ot[++rt]&&tt===ot[++rt]&&rt<it);w.match_length=258-(it-rt),w.match_length>w.lookahead&&(w.match_length=w.lookahead)}if(w.match_length>=3?(et=nt._tr_tally(w,1,w.match_length-3),w.lookahead-=w.match_length,w.strstart+=w.match_length,w.match_length=0):(et=nt._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++),et&&(flush_block_only(w,!1),0===w.strm.avail_out))return 1}return w.insert=0,4===Ne?(flush_block_only(w,!0),0===w.strm.avail_out?3:4):w.last_lit&&(flush_block_only(w,!1),0===w.strm.avail_out)?1:2}(rt,Ne):tt[rt.level].func(rt,Ne);if(3!==ct&&4!==ct||(rt.status=666),1===ct||3===ct)return 0===w.avail_out&&(rt.last_flush=-1),0;if(2===ct&&(1===Ne?nt._tr_align(rt):5!==Ne&&(nt._tr_stored_block(rt,0,0,!1),3===Ne&&(zero(rt.head),0===rt.lookahead&&(rt.strstart=0,rt.block_start=0,rt.insert=0))),flush_pending(w),0===w.avail_out))return rt.last_flush=-1,0}return 4!==Ne?0:rt.wrap<=0?1:(2===rt.wrap?(put_byte(rt,255&w.adler),put_byte(rt,w.adler>>8&255),put_byte(rt,w.adler>>16&255),put_byte(rt,w.adler>>24&255),put_byte(rt,255&w.total_in),put_byte(rt,w.total_in>>8&255),put_byte(rt,w.total_in>>16&255),put_byte(rt,w.total_in>>24&255)):(putShortMSB(rt,w.adler>>>16),putShortMSB(rt,65535&w.adler)),flush_pending(w),rt.wrap>0&&(rt.wrap=-rt.wrap),0!==rt.pending?0:1)},Ne.deflateEnd=function deflateEnd(w){var Ne;return w&&w.state?42!==(Ne=w.state.status)&&69!==Ne&&73!==Ne&&91!==Ne&&103!==Ne&&113!==Ne&&666!==Ne?err(w,-2):(w.state=null,113===Ne?err(w,-3):0):-2},Ne.deflateSetDictionary=function deflateSetDictionary(w,Ne){var et,tt,nt,ot,at,st,ct,pt,ft=Ne.length;if(!w||!w.state)return-2;if(2===(ot=(et=w.state).wrap)||1===ot&&42!==et.status||et.lookahead)return-2;for(1===ot&&(w.adler=it(w.adler,Ne,ft,0)),et.wrap=0,ft>=et.w_size&&(0===ot&&(zero(et.head),et.strstart=0,et.block_start=0,et.insert=0),pt=new rt.Buf8(et.w_size),rt.arraySet(pt,Ne,ft-et.w_size,et.w_size,0),Ne=pt,ft=et.w_size),at=w.avail_in,st=w.next_in,ct=w.input,w.avail_in=ft,w.next_in=0,w.input=Ne,fill_window(et);et.lookahead>=3;){tt=et.strstart,nt=et.lookahead-2;do{et.ins_h=(et.ins_h<<et.hash_shift^et.window[tt+3-1])&et.hash_mask,et.prev[tt&et.w_mask]=et.head[et.ins_h],et.head[et.ins_h]=tt,tt++}while(--nt);et.strstart=tt,et.lookahead=2,fill_window(et)}return et.strstart+=et.lookahead,et.block_start=et.strstart,et.insert=et.lookahead,et.lookahead=0,et.match_length=et.prev_length=2,et.match_available=0,w.next_in=st,w.input=ct,w.avail_in=at,et.wrap=ot,0},Ne.deflateInfo="pako deflate (from Nodeca project)"},function(w,Ne,et){"use strict";var tt=et(37);function zero(w){for(var Ne=w.length;--Ne>=0;)w[Ne]=0}var rt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],at=new Array(576);zero(at);var st=new Array(60);zero(st);var ct=new Array(512);zero(ct);var pt=new Array(256);zero(pt);var ft=new Array(29);zero(ft);var dt,mt,yt,vt=new Array(30);function StaticTreeDesc(w,Ne,et,tt,rt){this.static_tree=w,this.extra_bits=Ne,this.extra_base=et,this.elems=tt,this.max_length=rt,this.has_stree=w&&w.length}function TreeDesc(w,Ne){this.dyn_tree=w,this.max_code=0,this.stat_desc=Ne}function d_code(w){return w<256?ct[w]:ct[256+(w>>>7)]}function put_short(w,Ne){w.pending_buf[w.pending++]=255&Ne,w.pending_buf[w.pending++]=Ne>>>8&255}function send_bits(w,Ne,et){w.bi_valid>16-et?(w.bi_buf|=Ne<<w.bi_valid&65535,put_short(w,w.bi_buf),w.bi_buf=Ne>>16-w.bi_valid,w.bi_valid+=et-16):(w.bi_buf|=Ne<<w.bi_valid&65535,w.bi_valid+=et)}function send_code(w,Ne,et){send_bits(w,et[2*Ne],et[2*Ne+1])}function bi_reverse(w,Ne){var et=0;do{et|=1&w,w>>>=1,et<<=1}while(--Ne>0);return et>>>1}function gen_codes(w,Ne,et){var tt,rt,nt=new Array(16),it=0;for(tt=1;tt<=15;tt++)nt[tt]=it=it+et[tt-1]<<1;for(rt=0;rt<=Ne;rt++){var ot=w[2*rt+1];0!==ot&&(w[2*rt]=bi_reverse(nt[ot]++,ot))}}function init_block(w){var Ne;for(Ne=0;Ne<286;Ne++)w.dyn_ltree[2*Ne]=0;for(Ne=0;Ne<30;Ne++)w.dyn_dtree[2*Ne]=0;for(Ne=0;Ne<19;Ne++)w.bl_tree[2*Ne]=0;w.dyn_ltree[512]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function bi_windup(w){w.bi_valid>8?put_short(w,w.bi_buf):w.bi_valid>0&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function smaller(w,Ne,et,tt){var rt=2*Ne,nt=2*et;return w[rt]<w[nt]||w[rt]===w[nt]&&tt[Ne]<=tt[et]}function pqdownheap(w,Ne,et){for(var tt=w.heap[et],rt=et<<1;rt<=w.heap_len&&(rt<w.heap_len&&smaller(Ne,w.heap[rt+1],w.heap[rt],w.depth)&&rt++,!smaller(Ne,tt,w.heap[rt],w.depth));)w.heap[et]=w.heap[rt],et=rt,rt<<=1;w.heap[et]=tt}function compress_block(w,Ne,et){var tt,it,ot,at,st=0;if(0!==w.last_lit)do{tt=w.pending_buf[w.d_buf+2*st]<<8|w.pending_buf[w.d_buf+2*st+1],it=w.pending_buf[w.l_buf+st],st++,0===tt?send_code(w,it,Ne):(send_code(w,(ot=pt[it])+256+1,Ne),0!==(at=rt[ot])&&send_bits(w,it-=ft[ot],at),send_code(w,ot=d_code(--tt),et),0!==(at=nt[ot])&&send_bits(w,tt-=vt[ot],at))}while(st<w.last_lit);send_code(w,256,Ne)}function build_tree(w,Ne){var et,tt,rt,nt=Ne.dyn_tree,it=Ne.stat_desc.static_tree,ot=Ne.stat_desc.has_stree,at=Ne.stat_desc.elems,st=-1;for(w.heap_len=0,w.heap_max=573,et=0;et<at;et++)0!==nt[2*et]?(w.heap[++w.heap_len]=st=et,w.depth[et]=0):nt[2*et+1]=0;for(;w.heap_len<2;)nt[2*(rt=w.heap[++w.heap_len]=st<2?++st:0)]=1,w.depth[rt]=0,w.opt_len--,ot&&(w.static_len-=it[2*rt+1]);for(Ne.max_code=st,et=w.heap_len>>1;et>=1;et--)pqdownheap(w,nt,et);rt=at;do{et=w.heap[1],w.heap[1]=w.heap[w.heap_len--],pqdownheap(w,nt,1),tt=w.heap[1],w.heap[--w.heap_max]=et,w.heap[--w.heap_max]=tt,nt[2*rt]=nt[2*et]+nt[2*tt],w.depth[rt]=(w.depth[et]>=w.depth[tt]?w.depth[et]:w.depth[tt])+1,nt[2*et+1]=nt[2*tt+1]=rt,w.heap[1]=rt++,pqdownheap(w,nt,1)}while(w.heap_len>=2);w.heap[--w.heap_max]=w.heap[1],function gen_bitlen(w,Ne){var et,tt,rt,nt,it,ot,at=Ne.dyn_tree,st=Ne.max_code,ct=Ne.stat_desc.static_tree,pt=Ne.stat_desc.has_stree,ft=Ne.stat_desc.extra_bits,dt=Ne.stat_desc.extra_base,mt=Ne.stat_desc.max_length,yt=0;for(nt=0;nt<=15;nt++)w.bl_count[nt]=0;for(at[2*w.heap[w.heap_max]+1]=0,et=w.heap_max+1;et<573;et++)(nt=at[2*at[2*(tt=w.heap[et])+1]+1]+1)>mt&&(nt=mt,yt++),at[2*tt+1]=nt,tt>st||(w.bl_count[nt]++,it=0,tt>=dt&&(it=ft[tt-dt]),ot=at[2*tt],w.opt_len+=ot*(nt+it),pt&&(w.static_len+=ot*(ct[2*tt+1]+it)));if(0!==yt){do{for(nt=mt-1;0===w.bl_count[nt];)nt--;w.bl_count[nt]--,w.bl_count[nt+1]+=2,w.bl_count[mt]--,yt-=2}while(yt>0);for(nt=mt;0!==nt;nt--)for(tt=w.bl_count[nt];0!==tt;)(rt=w.heap[--et])>st||(at[2*rt+1]!==nt&&(w.opt_len+=(nt-at[2*rt+1])*at[2*rt],at[2*rt+1]=nt),tt--)}}(w,Ne),gen_codes(nt,st,w.bl_count)}function scan_tree(w,Ne,et){var tt,rt,nt=-1,it=Ne[1],ot=0,at=7,st=4;for(0===it&&(at=138,st=3),Ne[2*(et+1)+1]=65535,tt=0;tt<=et;tt++)rt=it,it=Ne[2*(tt+1)+1],++ot<at&&rt===it||(ot<st?w.bl_tree[2*rt]+=ot:0!==rt?(rt!==nt&&w.bl_tree[2*rt]++,w.bl_tree[32]++):ot<=10?w.bl_tree[34]++:w.bl_tree[36]++,ot=0,nt=rt,0===it?(at=138,st=3):rt===it?(at=6,st=3):(at=7,st=4))}function send_tree(w,Ne,et){var tt,rt,nt=-1,it=Ne[1],ot=0,at=7,st=4;for(0===it&&(at=138,st=3),tt=0;tt<=et;tt++)if(rt=it,it=Ne[2*(tt+1)+1],!(++ot<at&&rt===it)){if(ot<st)do{send_code(w,rt,w.bl_tree)}while(0!=--ot);else 0!==rt?(rt!==nt&&(send_code(w,rt,w.bl_tree),ot--),send_code(w,16,w.bl_tree),send_bits(w,ot-3,2)):ot<=10?(send_code(w,17,w.bl_tree),send_bits(w,ot-3,3)):(send_code(w,18,w.bl_tree),send_bits(w,ot-11,7));ot=0,nt=rt,0===it?(at=138,st=3):rt===it?(at=6,st=3):(at=7,st=4)}}zero(vt);var Rt=!1;function _tr_stored_block(w,Ne,et,rt){send_bits(w,0+(rt?1:0),3),function copy_block(w,Ne,et,rt){bi_windup(w),rt&&(put_short(w,et),put_short(w,~et)),tt.arraySet(w.pending_buf,w.window,Ne,et,w.pending),w.pending+=et}(w,Ne,et,!0)}Ne._tr_init=function _tr_init(w){Rt||(!function tr_static_init(){var w,Ne,et,tt,ot,Rt=new Array(16);for(et=0,tt=0;tt<28;tt++)for(ft[tt]=et,w=0;w<1<<rt[tt];w++)pt[et++]=tt;for(pt[et-1]=tt,ot=0,tt=0;tt<16;tt++)for(vt[tt]=ot,w=0;w<1<<nt[tt];w++)ct[ot++]=tt;for(ot>>=7;tt<30;tt++)for(vt[tt]=ot<<7,w=0;w<1<<nt[tt]-7;w++)ct[256+ot++]=tt;for(Ne=0;Ne<=15;Ne++)Rt[Ne]=0;for(w=0;w<=143;)at[2*w+1]=8,w++,Rt[8]++;for(;w<=255;)at[2*w+1]=9,w++,Rt[9]++;for(;w<=279;)at[2*w+1]=7,w++,Rt[7]++;for(;w<=287;)at[2*w+1]=8,w++,Rt[8]++;for(gen_codes(at,287,Rt),w=0;w<30;w++)st[2*w+1]=5,st[2*w]=bi_reverse(w,5);dt=new StaticTreeDesc(at,rt,257,286,15),mt=new StaticTreeDesc(st,nt,0,30,15),yt=new StaticTreeDesc(new Array(0),it,0,19,7)}(),Rt=!0),w.l_desc=new TreeDesc(w.dyn_ltree,dt),w.d_desc=new TreeDesc(w.dyn_dtree,mt),w.bl_desc=new TreeDesc(w.bl_tree,yt),w.bi_buf=0,w.bi_valid=0,init_block(w)},Ne._tr_stored_block=_tr_stored_block,Ne._tr_flush_block=function _tr_flush_block(w,Ne,et,tt){var rt,nt,it=0;w.level>0?(2===w.strm.data_type&&(w.strm.data_type=function detect_data_type(w){var Ne,et=4093624447;for(Ne=0;Ne<=31;Ne++,et>>>=1)if(1&et&&0!==w.dyn_ltree[2*Ne])return 0;if(0!==w.dyn_ltree[18]||0!==w.dyn_ltree[20]||0!==w.dyn_ltree[26])return 1;for(Ne=32;Ne<256;Ne++)if(0!==w.dyn_ltree[2*Ne])return 1;return 0}(w)),build_tree(w,w.l_desc),build_tree(w,w.d_desc),it=function build_bl_tree(w){var Ne;for(scan_tree(w,w.dyn_ltree,w.l_desc.max_code),scan_tree(w,w.dyn_dtree,w.d_desc.max_code),build_tree(w,w.bl_desc),Ne=18;Ne>=3&&0===w.bl_tree[2*ot[Ne]+1];Ne--);return w.opt_len+=3*(Ne+1)+5+5+4,Ne}(w),rt=w.opt_len+3+7>>>3,(nt=w.static_len+3+7>>>3)<=rt&&(rt=nt)):rt=nt=et+5,et+4<=rt&&-1!==Ne?_tr_stored_block(w,Ne,et,tt):4===w.strategy||nt===rt?(send_bits(w,2+(tt?1:0),3),compress_block(w,at,st)):(send_bits(w,4+(tt?1:0),3),function send_all_trees(w,Ne,et,tt){var rt;for(send_bits(w,Ne-257,5),send_bits(w,et-1,5),send_bits(w,tt-4,4),rt=0;rt<tt;rt++)send_bits(w,w.bl_tree[2*ot[rt]+1],3);send_tree(w,w.dyn_ltree,Ne-1),send_tree(w,w.dyn_dtree,et-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,it+1),compress_block(w,w.dyn_ltree,w.dyn_dtree)),init_block(w),tt&&bi_windup(w)},Ne._tr_tally=function _tr_tally(w,Ne,et){return w.pending_buf[w.d_buf+2*w.last_lit]=Ne>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&Ne,w.pending_buf[w.l_buf+w.last_lit]=255&et,w.last_lit++,0===Ne?w.dyn_ltree[2*et]++:(w.matches++,Ne--,w.dyn_ltree[2*(pt[et]+256+1)]++,w.dyn_dtree[2*d_code(Ne)]++),w.last_lit===w.lit_bufsize-1},Ne._tr_align=function _tr_align(w){send_bits(w,2,3),send_code(w,256,at),function bi_flush(w){16===w.bi_valid?(put_short(w,w.bi_buf),w.bi_buf=0,w.bi_valid=0):w.bi_valid>=8&&(w.pending_buf[w.pending++]=255&w.bi_buf,w.bi_buf>>=8,w.bi_valid-=8)}(w)}},function(w,Ne,et){"use strict";var tt=et(233),rt=et(37),nt=et(152),it=et(154),ot=et(102),at=et(153),st=et(236),ct=Object.prototype.toString;function Inflate(w){if(!(this instanceof Inflate))return new Inflate(w);this.options=rt.assign({chunkSize:16384,windowBits:0,to:""},w||{});var Ne=this.options;Ne.raw&&Ne.windowBits>=0&&Ne.windowBits<16&&(Ne.windowBits=-Ne.windowBits,0===Ne.windowBits&&(Ne.windowBits=-15)),!(Ne.windowBits>=0&&Ne.windowBits<16)||w&&w.windowBits||(Ne.windowBits+=32),Ne.windowBits>15&&Ne.windowBits<48&&0==(15&Ne.windowBits)&&(Ne.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new at,this.strm.avail_out=0;var et=tt.inflateInit2(this.strm,Ne.windowBits);if(et!==it.Z_OK)throw new Error(ot[et]);if(this.header=new st,tt.inflateGetHeader(this.strm,this.header),Ne.dictionary&&("string"==typeof Ne.dictionary?Ne.dictionary=nt.string2buf(Ne.dictionary):"[object ArrayBuffer]"===ct.call(Ne.dictionary)&&(Ne.dictionary=new Uint8Array(Ne.dictionary)),Ne.raw&&(et=tt.inflateSetDictionary(this.strm,Ne.dictionary))!==it.Z_OK))throw new Error(ot[et])}function inflate(w,Ne){var et=new Inflate(Ne);if(et.push(w,!0),et.err)throw et.msg||ot[et.err];return et.result}Inflate.prototype.push=function(w,Ne){var et,ot,at,st,pt,ft=this.strm,dt=this.options.chunkSize,mt=this.options.dictionary,yt=!1;if(this.ended)return!1;ot=Ne===~~Ne?Ne:!0===Ne?it.Z_FINISH:it.Z_NO_FLUSH,"string"==typeof w?ft.input=nt.binstring2buf(w):"[object ArrayBuffer]"===ct.call(w)?ft.input=new Uint8Array(w):ft.input=w,ft.next_in=0,ft.avail_in=ft.input.length;do{if(0===ft.avail_out&&(ft.output=new rt.Buf8(dt),ft.next_out=0,ft.avail_out=dt),(et=tt.inflate(ft,it.Z_NO_FLUSH))===it.Z_NEED_DICT&&mt&&(et=tt.inflateSetDictionary(this.strm,mt)),et===it.Z_BUF_ERROR&&!0===yt&&(et=it.Z_OK,yt=!1),et!==it.Z_STREAM_END&&et!==it.Z_OK)return this.onEnd(et),this.ended=!0,!1;ft.next_out&&(0!==ft.avail_out&&et!==it.Z_STREAM_END&&(0!==ft.avail_in||ot!==it.Z_FINISH&&ot!==it.Z_SYNC_FLUSH)||("string"===this.options.to?(at=nt.utf8border(ft.output,ft.next_out),st=ft.next_out-at,pt=nt.buf2string(ft.output,at),ft.next_out=st,ft.avail_out=dt-st,st&&rt.arraySet(ft.output,ft.output,at,st,0),this.onData(pt)):this.onData(rt.shrinkBuf(ft.output,ft.next_out)))),0===ft.avail_in&&0===ft.avail_out&&(yt=!0)}while((ft.avail_in>0||0===ft.avail_out)&&et!==it.Z_STREAM_END);return et===it.Z_STREAM_END&&(ot=it.Z_FINISH),ot===it.Z_FINISH?(et=tt.inflateEnd(this.strm),this.onEnd(et),this.ended=!0,et===it.Z_OK):ot!==it.Z_SYNC_FLUSH||(this.onEnd(it.Z_OK),ft.avail_out=0,!0)},Inflate.prototype.onData=function(w){this.chunks.push(w)},Inflate.prototype.onEnd=function(w){w===it.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rt.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},Ne.Inflate=Inflate,Ne.inflate=inflate,Ne.inflateRaw=function inflateRaw(w,Ne){return(Ne=Ne||{}).raw=!0,inflate(w,Ne)},Ne.ungzip=inflate},function(w,Ne,et){"use strict";var tt=et(37),rt=et(150),nt=et(151),it=et(234),ot=et(235);function zswap32(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new tt.Buf16(320),this.work=new tt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(w){var Ne;return w&&w.state?(Ne=w.state,w.total_in=w.total_out=Ne.total=0,w.msg="",Ne.wrap&&(w.adler=1&Ne.wrap),Ne.mode=1,Ne.last=0,Ne.havedict=0,Ne.dmax=32768,Ne.head=null,Ne.hold=0,Ne.bits=0,Ne.lencode=Ne.lendyn=new tt.Buf32(852),Ne.distcode=Ne.distdyn=new tt.Buf32(592),Ne.sane=1,Ne.back=-1,0):-2}function inflateReset(w){var Ne;return w&&w.state?((Ne=w.state).wsize=0,Ne.whave=0,Ne.wnext=0,inflateResetKeep(w)):-2}function inflateReset2(w,Ne){var et,tt;return w&&w.state?(tt=w.state,Ne<0?(et=0,Ne=-Ne):(et=1+(Ne>>4),Ne<48&&(Ne&=15)),Ne&&(Ne<8||Ne>15)?-2:(null!==tt.window&&tt.wbits!==Ne&&(tt.window=null),tt.wrap=et,tt.wbits=Ne,inflateReset(w))):-2}function inflateInit2(w,Ne){var et,tt;return w?(tt=new InflateState,w.state=tt,tt.window=null,0!==(et=inflateReset2(w,Ne))&&(w.state=null),et):-2}var at,st,ct=!0;function fixedtables(w){if(ct){var Ne;for(at=new tt.Buf32(512),st=new tt.Buf32(32),Ne=0;Ne<144;)w.lens[Ne++]=8;for(;Ne<256;)w.lens[Ne++]=9;for(;Ne<280;)w.lens[Ne++]=7;for(;Ne<288;)w.lens[Ne++]=8;for(ot(1,w.lens,0,288,at,0,w.work,{bits:9}),Ne=0;Ne<32;)w.lens[Ne++]=5;ot(2,w.lens,0,32,st,0,w.work,{bits:5}),ct=!1}w.lencode=at,w.lenbits=9,w.distcode=st,w.distbits=5}function updatewindow(w,Ne,et,rt){var nt,it=w.state;return null===it.window&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new tt.Buf8(it.wsize)),rt>=it.wsize?(tt.arraySet(it.window,Ne,et-it.wsize,it.wsize,0),it.wnext=0,it.whave=it.wsize):((nt=it.wsize-it.wnext)>rt&&(nt=rt),tt.arraySet(it.window,Ne,et-rt,nt,it.wnext),(rt-=nt)?(tt.arraySet(it.window,Ne,et-rt,rt,0),it.wnext=rt,it.whave=it.wsize):(it.wnext+=nt,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=nt))),0}Ne.inflateReset=inflateReset,Ne.inflateReset2=inflateReset2,Ne.inflateResetKeep=inflateResetKeep,Ne.inflateInit=function inflateInit(w){return inflateInit2(w,15)},Ne.inflateInit2=inflateInit2,Ne.inflate=function inflate(w,Ne){var et,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Ot,Dt,Bt,er,rr,vr,wr,Sr,rn,vn,bn,Tn,Cn,In=0,zn=new tt.Buf8(4),Mn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&0!==w.avail_in)return-2;12===(et=w.state).mode&&(et.mode=13),pt=w.next_out,st=w.output,dt=w.avail_out,ct=w.next_in,at=w.input,ft=w.avail_in,mt=et.hold,yt=et.bits,vt=ft,Rt=dt,bn=0;e:for(;;)switch(et.mode){case 1:if(0===et.wrap){et.mode=13;break}for(;yt<16;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(2&et.wrap&&35615===mt){et.check=0,zn[0]=255&mt,zn[1]=mt>>>8&255,et.check=nt(et.check,zn,2,0),mt=0,yt=0,et.mode=2;break}if(et.flags=0,et.head&&(et.head.done=!1),!(1&et.wrap)||(((255&mt)<<8)+(mt>>8))%31){w.msg="incorrect header check",et.mode=30;break}if(8!=(15&mt)){w.msg="unknown compression method",et.mode=30;break}if(yt-=4,vn=8+(15&(mt>>>=4)),0===et.wbits)et.wbits=vn;else if(vn>et.wbits){w.msg="invalid window size",et.mode=30;break}et.dmax=1<<vn,w.adler=et.check=1,et.mode=512&mt?10:12,mt=0,yt=0;break;case 2:for(;yt<16;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(et.flags=mt,8!=(255&et.flags)){w.msg="unknown compression method",et.mode=30;break}if(57344&et.flags){w.msg="unknown header flags set",et.mode=30;break}et.head&&(et.head.text=mt>>8&1),512&et.flags&&(zn[0]=255&mt,zn[1]=mt>>>8&255,et.check=nt(et.check,zn,2,0)),mt=0,yt=0,et.mode=3;case 3:for(;yt<32;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}et.head&&(et.head.time=mt),512&et.flags&&(zn[0]=255&mt,zn[1]=mt>>>8&255,zn[2]=mt>>>16&255,zn[3]=mt>>>24&255,et.check=nt(et.check,zn,4,0)),mt=0,yt=0,et.mode=4;case 4:for(;yt<16;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}et.head&&(et.head.xflags=255&mt,et.head.os=mt>>8),512&et.flags&&(zn[0]=255&mt,zn[1]=mt>>>8&255,et.check=nt(et.check,zn,2,0)),mt=0,yt=0,et.mode=5;case 5:if(1024&et.flags){for(;yt<16;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}et.length=mt,et.head&&(et.head.extra_len=mt),512&et.flags&&(zn[0]=255&mt,zn[1]=mt>>>8&255,et.check=nt(et.check,zn,2,0)),mt=0,yt=0}else et.head&&(et.head.extra=null);et.mode=6;case 6:if(1024&et.flags&&((Ot=et.length)>ft&&(Ot=ft),Ot&&(et.head&&(vn=et.head.extra_len-et.length,et.head.extra||(et.head.extra=new Array(et.head.extra_len)),tt.arraySet(et.head.extra,at,ct,Ot,vn)),512&et.flags&&(et.check=nt(et.check,at,Ot,ct)),ft-=Ot,ct+=Ot,et.length-=Ot),et.length))break e;et.length=0,et.mode=7;case 7:if(2048&et.flags){if(0===ft)break e;Ot=0;do{vn=at[ct+Ot++],et.head&&vn&&et.length<65536&&(et.head.name+=String.fromCharCode(vn))}while(vn&&Ot<ft);if(512&et.flags&&(et.check=nt(et.check,at,Ot,ct)),ft-=Ot,ct+=Ot,vn)break e}else et.head&&(et.head.name=null);et.length=0,et.mode=8;case 8:if(4096&et.flags){if(0===ft)break e;Ot=0;do{vn=at[ct+Ot++],et.head&&vn&&et.length<65536&&(et.head.comment+=String.fromCharCode(vn))}while(vn&&Ot<ft);if(512&et.flags&&(et.check=nt(et.check,at,Ot,ct)),ft-=Ot,ct+=Ot,vn)break e}else et.head&&(et.head.comment=null);et.mode=9;case 9:if(512&et.flags){for(;yt<16;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(mt!==(65535&et.check)){w.msg="header crc mismatch",et.mode=30;break}mt=0,yt=0}et.head&&(et.head.hcrc=et.flags>>9&1,et.head.done=!0),w.adler=et.check=0,et.mode=12;break;case 10:for(;yt<32;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}w.adler=et.check=zswap32(mt),mt=0,yt=0,et.mode=11;case 11:if(0===et.havedict)return w.next_out=pt,w.avail_out=dt,w.next_in=ct,w.avail_in=ft,et.hold=mt,et.bits=yt,2;w.adler=et.check=1,et.mode=12;case 12:if(5===Ne||6===Ne)break e;case 13:if(et.last){mt>>>=7&yt,yt-=7&yt,et.mode=27;break}for(;yt<3;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}switch(et.last=1&mt,yt-=1,3&(mt>>>=1)){case 0:et.mode=14;break;case 1:if(fixedtables(et),et.mode=20,6===Ne){mt>>>=2,yt-=2;break e}break;case 2:et.mode=17;break;case 3:w.msg="invalid block type",et.mode=30}mt>>>=2,yt-=2;break;case 14:for(mt>>>=7&yt,yt-=7&yt;yt<32;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if((65535&mt)!=(mt>>>16^65535)){w.msg="invalid stored block lengths",et.mode=30;break}if(et.length=65535&mt,mt=0,yt=0,et.mode=15,6===Ne)break e;case 15:et.mode=16;case 16:if(Ot=et.length){if(Ot>ft&&(Ot=ft),Ot>dt&&(Ot=dt),0===Ot)break e;tt.arraySet(st,at,ct,Ot,pt),ft-=Ot,ct+=Ot,dt-=Ot,pt+=Ot,et.length-=Ot;break}et.mode=12;break;case 17:for(;yt<14;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(et.nlen=257+(31&mt),mt>>>=5,yt-=5,et.ndist=1+(31&mt),mt>>>=5,yt-=5,et.ncode=4+(15&mt),mt>>>=4,yt-=4,et.nlen>286||et.ndist>30){w.msg="too many length or distance symbols",et.mode=30;break}et.have=0,et.mode=18;case 18:for(;et.have<et.ncode;){for(;yt<3;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}et.lens[Mn[et.have++]]=7&mt,mt>>>=3,yt-=3}for(;et.have<19;)et.lens[Mn[et.have++]]=0;if(et.lencode=et.lendyn,et.lenbits=7,Tn={bits:et.lenbits},bn=ot(0,et.lens,0,19,et.lencode,0,et.work,Tn),et.lenbits=Tn.bits,bn){w.msg="invalid code lengths set",et.mode=30;break}et.have=0,et.mode=19;case 19:for(;et.have<et.nlen+et.ndist;){for(;rr=(In=et.lencode[mt&(1<<et.lenbits)-1])>>>16&255,vr=65535&In,!((er=In>>>24)<=yt);){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(vr<16)mt>>>=er,yt-=er,et.lens[et.have++]=vr;else{if(16===vr){for(Cn=er+2;yt<Cn;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(mt>>>=er,yt-=er,0===et.have){w.msg="invalid bit length repeat",et.mode=30;break}vn=et.lens[et.have-1],Ot=3+(3&mt),mt>>>=2,yt-=2}else if(17===vr){for(Cn=er+3;yt<Cn;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}yt-=er,vn=0,Ot=3+(7&(mt>>>=er)),mt>>>=3,yt-=3}else{for(Cn=er+7;yt<Cn;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}yt-=er,vn=0,Ot=11+(127&(mt>>>=er)),mt>>>=7,yt-=7}if(et.have+Ot>et.nlen+et.ndist){w.msg="invalid bit length repeat",et.mode=30;break}for(;Ot--;)et.lens[et.have++]=vn}}if(30===et.mode)break;if(0===et.lens[256]){w.msg="invalid code -- missing end-of-block",et.mode=30;break}if(et.lenbits=9,Tn={bits:et.lenbits},bn=ot(1,et.lens,0,et.nlen,et.lencode,0,et.work,Tn),et.lenbits=Tn.bits,bn){w.msg="invalid literal/lengths set",et.mode=30;break}if(et.distbits=6,et.distcode=et.distdyn,Tn={bits:et.distbits},bn=ot(2,et.lens,et.nlen,et.ndist,et.distcode,0,et.work,Tn),et.distbits=Tn.bits,bn){w.msg="invalid distances set",et.mode=30;break}if(et.mode=20,6===Ne)break e;case 20:et.mode=21;case 21:if(ft>=6&&dt>=258){w.next_out=pt,w.avail_out=dt,w.next_in=ct,w.avail_in=ft,et.hold=mt,et.bits=yt,it(w,Rt),pt=w.next_out,st=w.output,dt=w.avail_out,ct=w.next_in,at=w.input,ft=w.avail_in,mt=et.hold,yt=et.bits,12===et.mode&&(et.back=-1);break}for(et.back=0;rr=(In=et.lencode[mt&(1<<et.lenbits)-1])>>>16&255,vr=65535&In,!((er=In>>>24)<=yt);){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(rr&&0==(240&rr)){for(wr=er,Sr=rr,rn=vr;rr=(In=et.lencode[rn+((mt&(1<<wr+Sr)-1)>>wr)])>>>16&255,vr=65535&In,!(wr+(er=In>>>24)<=yt);){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}mt>>>=wr,yt-=wr,et.back+=wr}if(mt>>>=er,yt-=er,et.back+=er,et.length=vr,0===rr){et.mode=26;break}if(32&rr){et.back=-1,et.mode=12;break}if(64&rr){w.msg="invalid literal/length code",et.mode=30;break}et.extra=15&rr,et.mode=22;case 22:if(et.extra){for(Cn=et.extra;yt<Cn;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}et.length+=mt&(1<<et.extra)-1,mt>>>=et.extra,yt-=et.extra,et.back+=et.extra}et.was=et.length,et.mode=23;case 23:for(;rr=(In=et.distcode[mt&(1<<et.distbits)-1])>>>16&255,vr=65535&In,!((er=In>>>24)<=yt);){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(0==(240&rr)){for(wr=er,Sr=rr,rn=vr;rr=(In=et.distcode[rn+((mt&(1<<wr+Sr)-1)>>wr)])>>>16&255,vr=65535&In,!(wr+(er=In>>>24)<=yt);){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}mt>>>=wr,yt-=wr,et.back+=wr}if(mt>>>=er,yt-=er,et.back+=er,64&rr){w.msg="invalid distance code",et.mode=30;break}et.offset=vr,et.extra=15&rr,et.mode=24;case 24:if(et.extra){for(Cn=et.extra;yt<Cn;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}et.offset+=mt&(1<<et.extra)-1,mt>>>=et.extra,yt-=et.extra,et.back+=et.extra}if(et.offset>et.dmax){w.msg="invalid distance too far back",et.mode=30;break}et.mode=25;case 25:if(0===dt)break e;if(Ot=Rt-dt,et.offset>Ot){if((Ot=et.offset-Ot)>et.whave&&et.sane){w.msg="invalid distance too far back",et.mode=30;break}Ot>et.wnext?(Ot-=et.wnext,Dt=et.wsize-Ot):Dt=et.wnext-Ot,Ot>et.length&&(Ot=et.length),Bt=et.window}else Bt=st,Dt=pt-et.offset,Ot=et.length;Ot>dt&&(Ot=dt),dt-=Ot,et.length-=Ot;do{st[pt++]=Bt[Dt++]}while(--Ot);0===et.length&&(et.mode=21);break;case 26:if(0===dt)break e;st[pt++]=et.length,dt--,et.mode=21;break;case 27:if(et.wrap){for(;yt<32;){if(0===ft)break e;ft--,mt|=at[ct++]<<yt,yt+=8}if(Rt-=dt,w.total_out+=Rt,et.total+=Rt,Rt&&(w.adler=et.check=et.flags?nt(et.check,st,Rt,pt-Rt):rt(et.check,st,Rt,pt-Rt)),Rt=dt,(et.flags?mt:zswap32(mt))!==et.check){w.msg="incorrect data check",et.mode=30;break}mt=0,yt=0}et.mode=28;case 28:if(et.wrap&&et.flags){for(;yt<32;){if(0===ft)break e;ft--,mt+=at[ct++]<<yt,yt+=8}if(mt!==(4294967295&et.total)){w.msg="incorrect length check",et.mode=30;break}mt=0,yt=0}et.mode=29;case 29:bn=1;break e;case 30:bn=-3;break e;case 31:return-4;case 32:default:return-2}return w.next_out=pt,w.avail_out=dt,w.next_in=ct,w.avail_in=ft,et.hold=mt,et.bits=yt,(et.wsize||Rt!==w.avail_out&&et.mode<30&&(et.mode<27||4!==Ne))&&updatewindow(w,w.output,w.next_out,Rt-w.avail_out)?(et.mode=31,-4):(vt-=w.avail_in,Rt-=w.avail_out,w.total_in+=vt,w.total_out+=Rt,et.total+=Rt,et.wrap&&Rt&&(w.adler=et.check=et.flags?nt(et.check,st,Rt,w.next_out-Rt):rt(et.check,st,Rt,w.next_out-Rt)),w.data_type=et.bits+(et.last?64:0)+(12===et.mode?128:0)+(20===et.mode||15===et.mode?256:0),(0===vt&&0===Rt||4===Ne)&&0===bn&&(bn=-5),bn)},Ne.inflateEnd=function inflateEnd(w){if(!w||!w.state)return-2;var Ne=w.state;return Ne.window&&(Ne.window=null),w.state=null,0},Ne.inflateGetHeader=function inflateGetHeader(w,Ne){var et;return w&&w.state?0==(2&(et=w.state).wrap)?-2:(et.head=Ne,Ne.done=!1,0):-2},Ne.inflateSetDictionary=function inflateSetDictionary(w,Ne){var et,tt=Ne.length;return w&&w.state?0!==(et=w.state).wrap&&11!==et.mode?-2:11===et.mode&&rt(1,Ne,tt,0)!==et.check?-3:updatewindow(w,Ne,tt,tt)?(et.mode=31,-4):(et.havedict=1,0):-2},Ne.inflateInfo="pako inflate (from Nodeca project)"},function(w,Ne,et){"use strict";w.exports=function inflate_fast(w,Ne){var et,tt,rt,nt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Rt,Ot,Dt,Bt,er,rr,vr,wr,Sr,rn;et=w.state,tt=w.next_in,Sr=w.input,rt=tt+(w.avail_in-5),nt=w.next_out,rn=w.output,it=nt-(Ne-w.avail_out),ot=nt+(w.avail_out-257),at=et.dmax,st=et.wsize,ct=et.whave,pt=et.wnext,ft=et.window,dt=et.hold,mt=et.bits,yt=et.lencode,vt=et.distcode,Rt=(1<<et.lenbits)-1,Ot=(1<<et.distbits)-1;e:do{mt<15&&(dt+=Sr[tt++]<<mt,mt+=8,dt+=Sr[tt++]<<mt,mt+=8),Dt=yt[dt&Rt];t:for(;;){if(dt>>>=Bt=Dt>>>24,mt-=Bt,0===(Bt=Dt>>>16&255))rn[nt++]=65535&Dt;else{if(!(16&Bt)){if(0==(64&Bt)){Dt=yt[(65535&Dt)+(dt&(1<<Bt)-1)];continue t}if(32&Bt){et.mode=12;break e}w.msg="invalid literal/length code",et.mode=30;break e}er=65535&Dt,(Bt&=15)&&(mt<Bt&&(dt+=Sr[tt++]<<mt,mt+=8),er+=dt&(1<<Bt)-1,dt>>>=Bt,mt-=Bt),mt<15&&(dt+=Sr[tt++]<<mt,mt+=8,dt+=Sr[tt++]<<mt,mt+=8),Dt=vt[dt&Ot];r:for(;;){if(dt>>>=Bt=Dt>>>24,mt-=Bt,!(16&(Bt=Dt>>>16&255))){if(0==(64&Bt)){Dt=vt[(65535&Dt)+(dt&(1<<Bt)-1)];continue r}w.msg="invalid distance code",et.mode=30;break e}if(rr=65535&Dt,mt<(Bt&=15)&&(dt+=Sr[tt++]<<mt,(mt+=8)<Bt&&(dt+=Sr[tt++]<<mt,mt+=8)),(rr+=dt&(1<<Bt)-1)>at){w.msg="invalid distance too far back",et.mode=30;break e}if(dt>>>=Bt,mt-=Bt,rr>(Bt=nt-it)){if((Bt=rr-Bt)>ct&&et.sane){w.msg="invalid distance too far back",et.mode=30;break e}if(vr=0,wr=ft,0===pt){if(vr+=st-Bt,Bt<er){er-=Bt;do{rn[nt++]=ft[vr++]}while(--Bt);vr=nt-rr,wr=rn}}else if(pt<Bt){if(vr+=st+pt-Bt,(Bt-=pt)<er){er-=Bt;do{rn[nt++]=ft[vr++]}while(--Bt);if(vr=0,pt<er){er-=Bt=pt;do{rn[nt++]=ft[vr++]}while(--Bt);vr=nt-rr,wr=rn}}}else if(vr+=pt-Bt,Bt<er){er-=Bt;do{rn[nt++]=ft[vr++]}while(--Bt);vr=nt-rr,wr=rn}for(;er>2;)rn[nt++]=wr[vr++],rn[nt++]=wr[vr++],rn[nt++]=wr[vr++],er-=3;er&&(rn[nt++]=wr[vr++],er>1&&(rn[nt++]=wr[vr++]))}else{vr=nt-rr;do{rn[nt++]=rn[vr++],rn[nt++]=rn[vr++],rn[nt++]=rn[vr++],er-=3}while(er>2);er&&(rn[nt++]=rn[vr++],er>1&&(rn[nt++]=rn[vr++]))}break}}break}}while(tt<rt&&nt<ot);tt-=er=mt>>3,dt&=(1<<(mt-=er<<3))-1,w.next_in=tt,w.next_out=nt,w.avail_in=tt<rt?rt-tt+5:5-(tt-rt),w.avail_out=nt<ot?ot-nt+257:257-(nt-ot),et.hold=dt,et.bits=mt}},function(w,Ne,et){"use strict";var tt=et(37),rt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],it=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ot=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];w.exports=function inflate_table(w,Ne,et,at,st,ct,pt,ft){var dt,mt,yt,vt,Rt,Ot,Dt,Bt,er,rr=ft.bits,vr=0,wr=0,Sr=0,rn=0,vn=0,bn=0,Tn=0,Cn=0,In=0,zn=0,Mn=null,Ln=0,Fn=new tt.Buf16(16),Bn=new tt.Buf16(16),Nn=null,Vn=0;for(vr=0;vr<=15;vr++)Fn[vr]=0;for(wr=0;wr<at;wr++)Fn[Ne[et+wr]]++;for(vn=rr,rn=15;rn>=1&&0===Fn[rn];rn--);if(vn>rn&&(vn=rn),0===rn)return st[ct++]=20971520,st[ct++]=20971520,ft.bits=1,0;for(Sr=1;Sr<rn&&0===Fn[Sr];Sr++);for(vn<Sr&&(vn=Sr),Cn=1,vr=1;vr<=15;vr++)if(Cn<<=1,(Cn-=Fn[vr])<0)return-1;if(Cn>0&&(0===w||1!==rn))return-1;for(Bn[1]=0,vr=1;vr<15;vr++)Bn[vr+1]=Bn[vr]+Fn[vr];for(wr=0;wr<at;wr++)0!==Ne[et+wr]&&(pt[Bn[Ne[et+wr]]++]=wr);if(0===w?(Mn=Nn=pt,Ot=19):1===w?(Mn=rt,Ln-=257,Nn=nt,Vn-=257,Ot=256):(Mn=it,Nn=ot,Ot=-1),zn=0,wr=0,vr=Sr,Rt=ct,bn=vn,Tn=0,yt=-1,vt=(In=1<<vn)-1,1===w&&In>852||2===w&&In>592)return 1;for(;;){Dt=vr-Tn,pt[wr]<Ot?(Bt=0,er=pt[wr]):pt[wr]>Ot?(Bt=Nn[Vn+pt[wr]],er=Mn[Ln+pt[wr]]):(Bt=96,er=0),dt=1<<vr-Tn,Sr=mt=1<<bn;do{st[Rt+(zn>>Tn)+(mt-=dt)]=Dt<<24|Bt<<16|er|0}while(0!==mt);for(dt=1<<vr-1;zn&dt;)dt>>=1;if(0!==dt?(zn&=dt-1,zn+=dt):zn=0,wr++,0==--Fn[vr]){if(vr===rn)break;vr=Ne[et+pt[wr]]}if(vr>vn&&(zn&vt)!==yt){for(0===Tn&&(Tn=vn),Rt+=Sr,Cn=1<<(bn=vr-Tn);bn+Tn<rn&&!((Cn-=Fn[bn+Tn])<=0);)bn++,Cn<<=1;if(In+=1<<bn,1===w&&In>852||2===w&&In>592)return 1;st[yt=zn&vt]=vn<<24|bn<<16|Rt-ct|0}}return 0!==zn&&(st[Rt+zn]=vr-Tn<<24|64<<16|0),ft.bits=vn,0}},function(w,Ne,et){"use strict";w.exports=function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(w,Ne,et){"use strict";w.exports=function encode(w,Ne){tt={},nt=[],rt=0,it=0,ot=1,function analyze(w){var Ne,et;if("FeatureCollection"===w.type)for(Ne=0;Ne<w.features.length;Ne++)analyze(w.features[Ne]);else if("Feature"===w.type)for(et in null!==w.geometry&&analyze(w.geometry),w.properties)saveKey(et);else if("Point"===w.type)analyzePoint(w.coordinates);else if("MultiPoint"===w.type)analyzePoints(w.coordinates);else if("GeometryCollection"===w.type)for(Ne=0;Ne<w.geometries.length;Ne++)analyze(w.geometries[Ne]);else if("LineString"===w.type)analyzePoints(w.coordinates);else if("Polygon"===w.type||"MultiLineString"===w.type)analyzeMultiLine(w.coordinates);else if("MultiPolygon"===w.type)for(Ne=0;Ne<w.coordinates.length;Ne++)analyzeMultiLine(w.coordinates[Ne]);for(et in w)isSpecialKey(et,w.type)||saveKey(et)}(w),ot=Math.min(ot,1e6);for(var et=Math.ceil(Math.log(ot)/Math.LN10),at=0;at<nt.length;at++)Ne.writeStringField(1,nt[at]);2!==it&&Ne.writeVarintField(2,it);6!==et&&Ne.writeVarintField(3,et);"FeatureCollection"===w.type?Ne.writeMessage(4,writeFeatureCollection,w):"Feature"===w.type?Ne.writeMessage(5,writeFeature,w):Ne.writeMessage(6,writeGeometry,w);return tt=null,Ne.finish()};var tt,rt,nt,it,ot,at={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function analyzeMultiLine(w){for(var Ne=0;Ne<w.length;Ne++)analyzePoints(w[Ne])}function analyzePoints(w){for(var Ne=0;Ne<w.length;Ne++)analyzePoint(w[Ne])}function analyzePoint(w){it=Math.max(it,w.length);for(var Ne=0;Ne<w.length;Ne++)for(;Math.round(w[Ne]*ot)/ot!==w[Ne]&&ot<1e6;)ot*=10}function saveKey(w){void 0===tt[w]&&(nt.push(w),tt[w]=rt++)}function writeFeatureCollection(w,Ne){for(var et=0;et<w.features.length;et++)Ne.writeMessage(1,writeFeature,w.features[et]);writeProps(w,Ne,!0)}function writeFeature(w,Ne){null!==w.geometry&&Ne.writeMessage(1,writeGeometry,w.geometry),void 0!==w.id&&("number"==typeof w.id&&w.id%1==0?Ne.writeSVarintField(12,w.id):Ne.writeStringField(11,w.id)),w.properties&&writeProps(w.properties,Ne),writeProps(w,Ne,!0)}function writeGeometry(w,Ne){Ne.writeVarintField(1,at[w.type]);var et=w.coordinates;if("Point"===w.type)!function writePoint(w,Ne){for(var et=[],tt=0;tt<it;tt++)et.push(Math.round(w[tt]*ot));Ne.writePackedSVarint(3,et)}(et,Ne);else if("MultiPoint"===w.type)writeLine(et,Ne);else if("LineString"===w.type)writeLine(et,Ne);else if("MultiLineString"===w.type)writeMultiLine(et,Ne);else if("Polygon"===w.type)writeMultiLine(et,Ne,!0);else if("MultiPolygon"===w.type)!function writeMultiPolygon(w,Ne){var et,tt,rt=w.length;if(1!==rt||1!==w[0].length){var nt=[rt];for(et=0;et<rt;et++)for(nt.push(w[et].length),tt=0;tt<w[et].length;tt++)nt.push(w[et][tt].length-1);Ne.writePackedVarint(2,nt)}var it=[];for(et=0;et<rt;et++)for(tt=0;tt<w[et].length;tt++)populateLine(it,w[et][tt],!0);Ne.writePackedSVarint(3,it)}(et,Ne);else if("GeometryCollection"===w.type)for(var tt=0;tt<w.geometries.length;tt++)Ne.writeMessage(4,writeGeometry,w.geometries[tt]);writeProps(w,Ne,!0)}function writeProps(w,Ne,et){var rt=[],nt=0;for(var it in w)et&&isSpecialKey(it,w.type)||(Ne.writeMessage(13,writeValue,w[it]),rt.push(tt[it]),rt.push(nt++));Ne.writePackedVarint(et?15:14,rt)}function writeValue(w,Ne){if(null!==w){var et=typeof w;"string"===et?Ne.writeStringField(1,w):"boolean"===et?Ne.writeBooleanField(5,w):"object"===et?Ne.writeStringField(6,JSON.stringify(w)):"number"===et&&(w%1!=0?Ne.writeDoubleField(2,w):w>=0?Ne.writeVarintField(3,w):Ne.writeVarintField(4,-w))}}function writeLine(w,Ne){var et=[];populateLine(et,w),Ne.writePackedSVarint(3,et)}function writeMultiLine(w,Ne,et){var tt,rt=w.length;if(1!==rt){var nt=[];for(tt=0;tt<rt;tt++)nt.push(w[tt].length-(et?1:0));Ne.writePackedVarint(2,nt)}var it=[];for(tt=0;tt<rt;tt++)populateLine(it,w[tt],et);Ne.writePackedSVarint(3,it)}function populateLine(w,Ne,et){var tt,rt,nt=Ne.length-(et?1:0),at=new Array(it);for(rt=0;rt<it;rt++)at[rt]=0;for(tt=0;tt<nt;tt++)for(rt=0;rt<it;rt++){var st=Math.round(Ne[tt][rt]*ot)-at[rt];w.push(st),at[rt]+=st}}function isSpecialKey(w,Ne){if("type"===w)return!0;if("FeatureCollection"===Ne){if("features"===w)return!0}else if("Feature"===Ne){if("id"===w||"properties"===w||"geometry"===w)return!0}else if("GeometryCollection"===Ne){if("geometries"===w)return!0}else if("coordinates"===w)return!0;return!1}},function(w,Ne,et){"use strict";var tt,rt,nt,it,ot;w.exports=function decode(w){it=2,ot=Math.pow(10,6),nt=null,tt=[],rt=[];var Ne=w.readFields(readDataField,{});return tt=null,Ne};var at=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function readDataField(w,Ne,et){1===w?tt.push(et.readString()):2===w?it=et.readVarint():3===w?ot=Math.pow(10,et.readVarint()):4===w?function readFeatureCollection(w,Ne){return Ne.type="FeatureCollection",Ne.features=[],w.readMessage(readFeatureCollectionField,Ne)}(et,Ne):5===w?readFeature(et,Ne):6===w&&readGeometry(et,Ne)}function readFeature(w,Ne){Ne.type="Feature";var et=w.readMessage(readFeatureField,Ne);return et.hasOwnProperty("geometry")||(et.geometry=null),et}function readGeometry(w,Ne){return w.readMessage(readGeometryField,Ne)}function readFeatureCollectionField(w,Ne,et){1===w?Ne.features.push(readFeature(et,{})):13===w?rt.push(readValue(et)):15===w&&readProps(et,Ne)}function readFeatureField(w,Ne,et){1===w?Ne.geometry=readGeometry(et,{}):11===w?Ne.id=et.readString():12===w?Ne.id=et.readSVarint():13===w?rt.push(readValue(et)):14===w?Ne.properties=readProps(et,{}):15===w&&readProps(et,Ne)}function readGeometryField(w,Ne,et){1===w?Ne.type=at[et.readVarint()]:2===w?nt=et.readPackedVarint():3===w?function readCoords(w,Ne,et){"Point"===et?w.coordinates=function readPoint(w){var Ne=w.readVarint()+w.pos,et=[];for(;w.pos<Ne;)et.push(w.readSVarint()/ot);return et}(Ne):"MultiPoint"===et||"LineString"===et?w.coordinates=readLine(Ne):"MultiLineString"===et?w.coordinates=readMultiLine(Ne):"Polygon"===et?w.coordinates=readMultiLine(Ne,!0):"MultiPolygon"===et&&(w.coordinates=function readMultiPolygon(w){var Ne=w.readVarint()+w.pos;if(!nt)return[[readLinePart(w,Ne,null,!0)]];for(var et=[],tt=1,rt=0;rt<nt[0];rt++){for(var it=[],ot=0;ot<nt[tt];ot++)it.push(readLinePart(w,Ne,nt[tt+1+ot],!0));tt+=nt[tt]+1,et.push(it)}return nt=null,et}(Ne))}(Ne,et,Ne.type):4===w?(Ne.geometries=Ne.geometries||[],Ne.geometries.push(readGeometry(et,{}))):13===w?rt.push(readValue(et)):15===w&&readProps(et,Ne)}function readValue(w){for(var Ne=w.readVarint()+w.pos,et=null;w.pos<Ne;){var tt=w.readVarint()>>3;1===tt?et=w.readString():2===tt?et=w.readDouble():3===tt?et=w.readVarint():4===tt?et=-w.readVarint():5===tt?et=w.readBoolean():6===tt&&(et=JSON.parse(w.readString()))}return et}function readProps(w,Ne){for(var et=w.readVarint()+w.pos;w.pos<et;)Ne[tt[w.readVarint()]]=rt[w.readVarint()];return rt=[],Ne}function readLinePart(w,Ne,et,tt){var rt,nt,at=0,st=[],ct=[];for(nt=0;nt<it;nt++)ct[nt]=0;for(;et?at<et:w.pos<Ne;){for(rt=[],nt=0;nt<it;nt++)ct[nt]+=w.readSVarint(),rt[nt]=ct[nt]/ot;st.push(rt),at++}return tt&&st.push(st[0]),st}function readLine(w){return readLinePart(w,w.readVarint()+w.pos)}function readMultiLine(w,Ne){var et=w.readVarint()+w.pos;if(!nt)return[readLinePart(w,et,null,Ne)];for(var tt=[],rt=0;rt<nt.length;rt++)tt.push(readLinePart(w,et,nt[rt],Ne));return nt=null,tt}},function(w,Ne){Ne.read=function(w,Ne,et,tt,rt){var nt,it,ot=8*rt-tt-1,at=(1<<ot)-1,st=at>>1,ct=-7,pt=et?rt-1:0,ft=et?-1:1,dt=w[Ne+pt];for(pt+=ft,nt=dt&(1<<-ct)-1,dt>>=-ct,ct+=ot;ct>0;nt=256*nt+w[Ne+pt],pt+=ft,ct-=8);for(it=nt&(1<<-ct)-1,nt>>=-ct,ct+=tt;ct>0;it=256*it+w[Ne+pt],pt+=ft,ct-=8);if(0===nt)nt=1-st;else{if(nt===at)return it?NaN:1/0*(dt?-1:1);it+=Math.pow(2,tt),nt-=st}return(dt?-1:1)*it*Math.pow(2,nt-tt)},Ne.write=function(w,Ne,et,tt,rt,nt){var it,ot,at,st=8*nt-rt-1,ct=(1<<st)-1,pt=ct>>1,ft=23===rt?Math.pow(2,-24)-Math.pow(2,-77):0,dt=tt?0:nt-1,mt=tt?1:-1,yt=Ne<0||0===Ne&&1/Ne<0?1:0;for(Ne=Math.abs(Ne),isNaN(Ne)||Ne===1/0?(ot=isNaN(Ne)?1:0,it=ct):(it=Math.floor(Math.log(Ne)/Math.LN2),Ne*(at=Math.pow(2,-it))<1&&(it--,at*=2),(Ne+=it+pt>=1?ft/at:ft*Math.pow(2,1-pt))*at>=2&&(it++,at/=2),it+pt>=ct?(ot=0,it=ct):it+pt>=1?(ot=(Ne*at-1)*Math.pow(2,rt),it+=pt):(ot=Ne*Math.pow(2,pt-1)*Math.pow(2,rt),it=0));rt>=8;w[et+dt]=255&ot,dt+=mt,ot/=256,rt-=8);for(it=it<<rt|ot,st+=rt;st>0;w[et+dt]=255&it,dt+=mt,it/=256,st-=8);w[et+dt-mt]|=128*yt}},function(w,Ne,et){"use strict";var tt=et(241);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,w.exports=function(){function shim(w,Ne,et,rt,nt,it){if(it!==tt){var ot=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ot.name="Invariant Violation",ot}}function getShim(){return shim}shim.isRequired=shim;var w={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return w.PropTypes=w,w}},function(w,Ne,et){"use strict";w.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(w,Ne,et){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt="function"==typeof Symbol&&Symbol.for,rt=tt?Symbol.for("react.element"):60103,nt=tt?Symbol.for("react.portal"):60106,it=tt?Symbol.for("react.fragment"):60107,ot=tt?Symbol.for("react.strict_mode"):60108,at=tt?Symbol.for("react.profiler"):60114,st=tt?Symbol.for("react.provider"):60109,ct=tt?Symbol.for("react.context"):60110,pt=tt?Symbol.for("react.async_mode"):60111,ft=tt?Symbol.for("react.concurrent_mode"):60111,dt=tt?Symbol.for("react.forward_ref"):60112,mt=tt?Symbol.for("react.suspense"):60113,yt=tt?Symbol.for("react.suspense_list"):60120,vt=tt?Symbol.for("react.memo"):60115,Rt=tt?Symbol.for("react.lazy"):60116,Ot=tt?Symbol.for("react.block"):60121,Dt=tt?Symbol.for("react.fundamental"):60117,Bt=tt?Symbol.for("react.responder"):60118,er=tt?Symbol.for("react.scope"):60119;function z(w){if("object"==typeof w&&null!==w){var Ne=w.$$typeof;switch(Ne){case rt:switch(w=w.type){case pt:case ft:case it:case at:case ot:case mt:return w;default:switch(w=w&&w.$$typeof){case ct:case dt:case Rt:case vt:case st:return w;default:return Ne}}case nt:return Ne}}}function A(w){return z(w)===ft}Ne.AsyncMode=pt,Ne.ConcurrentMode=ft,Ne.ContextConsumer=ct,Ne.ContextProvider=st,Ne.Element=rt,Ne.ForwardRef=dt,Ne.Fragment=it,Ne.Lazy=Rt,Ne.Memo=vt,Ne.Portal=nt,Ne.Profiler=at,Ne.StrictMode=ot,Ne.Suspense=mt,Ne.isAsyncMode=function(w){return A(w)||z(w)===pt},Ne.isConcurrentMode=A,Ne.isContextConsumer=function(w){return z(w)===ct},Ne.isContextProvider=function(w){return z(w)===st},Ne.isElement=function(w){return"object"==typeof w&&null!==w&&w.$$typeof===rt},Ne.isForwardRef=function(w){return z(w)===dt},Ne.isFragment=function(w){return z(w)===it},Ne.isLazy=function(w){return z(w)===Rt},Ne.isMemo=function(w){return z(w)===vt},Ne.isPortal=function(w){return z(w)===nt},Ne.isProfiler=function(w){return z(w)===at},Ne.isStrictMode=function(w){return z(w)===ot},Ne.isSuspense=function(w){return z(w)===mt},Ne.isValidElementType=function(w){return"string"==typeof w||"function"==typeof w||w===it||w===ft||w===at||w===ot||w===mt||w===yt||"object"==typeof w&&null!==w&&(w.$$typeof===Rt||w.$$typeof===vt||w.$$typeof===st||w.$$typeof===ct||w.$$typeof===dt||w.$$typeof===Dt||w.$$typeof===Bt||w.$$typeof===er||w.$$typeof===Ot)},Ne.typeOf=z},function(w,Ne){function _extends(){return w.exports=_extends=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w},_extends.apply(this,arguments)}w.exports=_extends},function(w,Ne){w.exports=Array.isArray||function(w){return"[object Array]"==Object.prototype.toString.call(w)}},function(w,Ne,et){"use strict";var tt=et(26),rt=et(246),nt=et(47),it=et(29),ot=et(28).f;tt&&!("lastIndex"in[])&&(ot(Array.prototype,"lastIndex",{configurable:!0,get:function lastIndex(){var w=nt(this),Ne=it(w.length);return 0==Ne?0:Ne-1}}),rt("lastIndex"))},function(w,Ne,et){var tt=et(23),rt=et(136),nt=et(28),it=tt("unscopables"),ot=Array.prototype;null==ot[it]&&nt.f(ot,it,{configurable:!0,value:rt(null)}),w.exports=function(w){ot[it][w]=!0}},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,".styles_mapWrapper-3J7 {\n\theight: 100%;\n}\n\n.styles_filters-2Uv {\n\tposition: absolute;\n\theight: 100%;\n\toverflow: auto;\n\tdisplay: inline-block;\n\tfloat: left;\n\twidth: 30rem;\n\tz-index: 1;\n\tborder-radius: 0 0.25rem 0.25rem 0;\n\tbackground-color: white;\n}\n\n.styles_map-1zv {\n\tposition: absolute;\n\theight: 100%;\n\tleft: 30rem;\n\tdisplay: inline-block;\n\tfloat: left;\n\twidth: calc(100% - 30rem);\n}\n\n.styles_regionTileWrapper-2o5 {\n\tposition: absolute;\n\tright: 0;\n\tz-index: 1;\n}\n\n.styles_regionSection-3Se:not(:first-of-type){\n\tmargin-top: 0.75rem;\n}\n",""]),Ne.locals={mapWrapper:"styles_mapWrapper-3J7",filters:"styles_filters-2Uv",map:"styles_map-1zv",regionTileWrapper:"styles_regionTileWrapper-2o5",regionSection:"styles_regionSection-3Se"},w.exports=Ne},function(w,Ne,et){"use strict";
/** @license React v16.13.1
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=et(83),rt=et(0);function q(w){for(var Ne="https://reactjs.org/docs/error-decoder.html?invariant="+w,et=1;et<arguments.length;et++)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+w+"; visit "+Ne+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nt="function"==typeof Symbol&&Symbol.for,it=nt?Symbol.for("react.portal"):60106,ot=nt?Symbol.for("react.fragment"):60107,at=nt?Symbol.for("react.strict_mode"):60108,st=nt?Symbol.for("react.profiler"):60114,ct=nt?Symbol.for("react.provider"):60109,pt=nt?Symbol.for("react.context"):60110,ft=nt?Symbol.for("react.concurrent_mode"):60111,dt=nt?Symbol.for("react.forward_ref"):60112,mt=nt?Symbol.for("react.suspense"):60113,yt=nt?Symbol.for("react.suspense_list"):60120,vt=nt?Symbol.for("react.memo"):60115,Rt=nt?Symbol.for("react.lazy"):60116,Ot=nt?Symbol.for("react.block"):60121,Dt=nt?Symbol.for("react.fundamental"):60117,Bt=nt?Symbol.for("react.scope"):60119;function C(w){if(null==w)return null;if("function"==typeof w)return w.displayName||w.name||null;if("string"==typeof w)return w;switch(w){case ot:return"Fragment";case it:return"Portal";case st:return"Profiler";case at:return"StrictMode";case mt:return"Suspense";case yt:return"SuspenseList"}if("object"==typeof w)switch(w.$$typeof){case pt:return"Context.Consumer";case ct:return"Context.Provider";case dt:var Ne=w.render;return Ne=Ne.displayName||Ne.name||"",w.displayName||(""!==Ne?"ForwardRef("+Ne+")":"ForwardRef");case vt:return C(w.type);case Ot:return C(w.render);case Rt:if(w=1===w._status?w._result:null)return C(w)}return null}var er=rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;er.hasOwnProperty("ReactCurrentDispatcher")||(er.ReactCurrentDispatcher={current:null}),er.hasOwnProperty("ReactCurrentBatchConfig")||(er.ReactCurrentBatchConfig={suspense:null});var rr={};function E(w,Ne){for(var et=0|w._threadCount;et<=Ne;et++)w[et]=w._currentValue2,w._threadCount=et+1}for(var vr=new Uint16Array(16),wr=0;15>wr;wr++)vr[wr]=wr+1;vr[15]=0;var Sr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rn=Object.prototype.hasOwnProperty,vn={},bn={};function ua(w){return!!rn.call(bn,w)||!rn.call(vn,w)&&(Sr.test(w)?bn[w]=!0:(vn[w]=!0,!1))}function J(w,Ne,et,tt,rt,nt){this.acceptsBooleans=2===Ne||3===Ne||4===Ne,this.attributeName=tt,this.attributeNamespace=rt,this.mustUseProperty=et,this.propertyName=w,this.type=Ne,this.sanitizeURL=nt}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(w){Tn[w]=new J(w,0,!1,w,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(w){var Ne=w[0];Tn[Ne]=new J(Ne,1,!1,w[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(w){Tn[w]=new J(w,2,!1,w.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(w){Tn[w]=new J(w,2,!1,w,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(w){Tn[w]=new J(w,3,!1,w.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(w){Tn[w]=new J(w,3,!0,w,null,!1)})),["capture","download"].forEach((function(w){Tn[w]=new J(w,4,!1,w,null,!1)})),["cols","rows","size","span"].forEach((function(w){Tn[w]=new J(w,6,!1,w,null,!1)})),["rowSpan","start"].forEach((function(w){Tn[w]=new J(w,5,!1,w.toLowerCase(),null,!1)}));var Cn=/[\-:]([a-z])/g;function M(w){return w[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(w){var Ne=w.replace(Cn,M);Tn[Ne]=new J(Ne,1,!1,w,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(w){var Ne=w.replace(Cn,M);Tn[Ne]=new J(Ne,1,!1,w,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(w){var Ne=w.replace(Cn,M);Tn[Ne]=new J(Ne,1,!1,w,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(w){Tn[w]=new J(w,1,!1,w.toLowerCase(),null,!1)})),Tn.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(w){Tn[w]=new J(w,1,!1,w.toLowerCase(),null,!0)}));var In=/["'&<>]/;function N(w){if("boolean"==typeof w||"number"==typeof w)return""+w;w=""+w;var Ne=In.exec(w);if(Ne){var et,tt="",rt=0;for(et=Ne.index;et<w.length;et++){switch(w.charCodeAt(et)){case 34:Ne="&quot;";break;case 38:Ne="&amp;";break;case 39:Ne="&#x27;";break;case 60:Ne="&lt;";break;case 62:Ne="&gt;";break;default:continue}rt!==et&&(tt+=w.substring(rt,et)),rt=et+1,tt+=Ne}w=rt!==et?tt+w.substring(rt,et):tt}return w}function ya(w,Ne){var et,tt=Tn.hasOwnProperty(w)?Tn[w]:null;return(et="style"!==w)&&(et=null!==tt?0===tt.type:2<w.length&&("o"===w[0]||"O"===w[0])&&("n"===w[1]||"N"===w[1])),et||function wa(w,Ne,et,tt){if(null==Ne||function va(w,Ne,et,tt){if(null!==et&&0===et.type)return!1;switch(typeof Ne){case"function":case"symbol":return!0;case"boolean":return!tt&&(null!==et?!et.acceptsBooleans:"data-"!==(w=w.toLowerCase().slice(0,5))&&"aria-"!==w);default:return!1}}(w,Ne,et,tt))return!0;if(tt)return!1;if(null!==et)switch(et.type){case 3:return!Ne;case 4:return!1===Ne;case 5:return isNaN(Ne);case 6:return isNaN(Ne)||1>Ne}return!1}(w,Ne,tt,!1)?"":null!==tt?(w=tt.attributeName,3===(et=tt.type)||4===et&&!0===Ne?w+'=""':(tt.sanitizeURL&&(Ne=""+Ne),w+'="'+N(Ne)+'"')):ua(w)?w+'="'+N(Ne)+'"':""}var zn="function"==typeof Object.is?Object.is:function za(w,Ne){return w===Ne&&(0!==w||1/w==1/Ne)||w!=w&&Ne!=Ne},Mn=null,Ln=null,Fn=null,Bn=!1,Nn=!1,Vn=null,Wn=0;function W(){if(null===Mn)throw Error(q(321));return Mn}function Ba(){if(0<Wn)throw Error(q(312));return{memoizedState:null,queue:null,next:null}}function Ca(){return null===Fn?null===Ln?(Bn=!1,Ln=Fn=Ba()):(Bn=!0,Fn=Ln):null===Fn.next?(Bn=!1,Fn=Fn.next=Ba()):(Bn=!0,Fn=Fn.next),Fn}function Da(w,Ne,et,tt){for(;Nn;)Nn=!1,Wn+=1,Fn=null,et=w(Ne,tt);return Ln=Mn=null,Wn=0,Fn=Vn=null,et}function Ea(w,Ne){return"function"==typeof Ne?Ne(w):Ne}function Fa(w,Ne,et){if(Mn=W(),Fn=Ca(),Bn){var tt=Fn.queue;if(Ne=tt.dispatch,null!==Vn&&void 0!==(et=Vn.get(tt))){Vn.delete(tt),tt=Fn.memoizedState;do{tt=w(tt,et.action),et=et.next}while(null!==et);return Fn.memoizedState=tt,[tt,Ne]}return[Fn.memoizedState,Ne]}return w=w===Ea?"function"==typeof Ne?Ne():Ne:void 0!==et?et(Ne):Ne,Fn.memoizedState=w,w=(w=Fn.queue={last:null,dispatch:null}).dispatch=Ga.bind(null,Mn,w),[Fn.memoizedState,w]}function Ga(w,Ne,et){if(!(25>Wn))throw Error(q(301));if(w===Mn)if(Nn=!0,w={action:et,next:null},null===Vn&&(Vn=new Map),void 0===(et=Vn.get(Ne)))Vn.set(Ne,w);else{for(Ne=et;null!==Ne.next;)Ne=Ne.next;Ne.next=w}}function Ha(){}var $n=0,Yn={readContext:function(w){var Ne=$n;return E(w,Ne),w[Ne]},useContext:function(w){W();var Ne=$n;return E(w,Ne),w[Ne]},useMemo:function(w,Ne){if(Mn=W(),Ne=void 0===Ne?null:Ne,null!==(Fn=Ca())){var et=Fn.memoizedState;if(null!==et&&null!==Ne){e:{var tt=et[1];if(null===tt)tt=!1;else{for(var rt=0;rt<tt.length&&rt<Ne.length;rt++)if(!zn(Ne[rt],tt[rt])){tt=!1;break e}tt=!0}}if(tt)return et[0]}}return w=w(),Fn.memoizedState=[w,Ne],w},useReducer:Fa,useRef:function(w){Mn=W();var Ne=(Fn=Ca()).memoizedState;return null===Ne?(w={current:w},Fn.memoizedState=w):Ne},useState:function(w){return Fa(Ea,w)},useLayoutEffect:function(){},useCallback:function(w){return w},useImperativeHandle:Ha,useEffect:Ha,useDebugValue:Ha,useResponder:function(w,Ne){return{props:Ne,responder:w}},useDeferredValue:function(w){return W(),w},useTransition:function(){return W(),[function(w){w()},!1]}},ii="http://www.w3.org/1999/xhtml";function Ka(w){switch(w){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var qi={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},uo=tt({menuitem:!0},qi),po={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vo=["Webkit","ms","Moz","O"];Object.keys(po).forEach((function(w){vo.forEach((function(Ne){Ne=Ne+w.charAt(0).toUpperCase()+w.substring(1),po[Ne]=po[w]}))}));var So=/([A-Z])/g,ea=/^ms-/,ta=rt.Children.toArray,ia=er.ReactCurrentDispatcher,sa={listing:!0,pre:!0,textarea:!0},la=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,fa={},ga={};var _a=Object.prototype.hasOwnProperty,Aa={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Ya(w,Ne){if(void 0===w)throw Error(q(152,C(Ne)||"Component"))}function Za(w,Ne,et){function d(rt,nt){var it=nt.prototype&&nt.prototype.isReactComponent,ot=function pa(w,Ne,et,tt){if(tt&&("object"==typeof(tt=w.contextType)&&null!==tt))return E(tt,et),tt[et];if(w=w.contextTypes){for(var rt in et={},w)et[rt]=Ne[rt];Ne=et}else Ne=rr;return Ne}(nt,Ne,et,it),at=[],st=!1,ct={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===at)return null},enqueueReplaceState:function(w,Ne){st=!0,at=[Ne]},enqueueSetState:function(w,Ne){if(null===at)return null;at.push(Ne)}};if(it){if(it=new nt(rt.props,ot,ct),"function"==typeof nt.getDerivedStateFromProps){var pt=nt.getDerivedStateFromProps.call(null,rt.props,it.state);null!=pt&&(it.state=tt({},it.state,pt))}}else if(Mn={},it=nt(rt.props,ot,ct),null==(it=Da(nt,rt.props,it,ot))||null==it.render)return void Ya(w=it,nt);if(it.props=rt.props,it.context=ot,it.updater=ct,void 0===(ct=it.state)&&(it.state=ct=null),"function"==typeof it.UNSAFE_componentWillMount||"function"==typeof it.componentWillMount)if("function"==typeof it.componentWillMount&&"function"!=typeof nt.getDerivedStateFromProps&&it.componentWillMount(),"function"==typeof it.UNSAFE_componentWillMount&&"function"!=typeof nt.getDerivedStateFromProps&&it.UNSAFE_componentWillMount(),at.length){ct=at;var ft=st;if(at=null,st=!1,ft&&1===ct.length)it.state=ct[0];else{pt=ft?ct[0]:it.state;var dt=!0;for(ft=ft?1:0;ft<ct.length;ft++){var mt=ct[ft];null!=(mt="function"==typeof mt?mt.call(it,pt,rt.props,ot):mt)&&(dt?(dt=!1,pt=tt({},pt,mt)):tt(pt,mt))}it.state=pt}}else at=null;if(Ya(w=it.render(),nt),"function"==typeof it.getChildContext&&"object"==typeof(rt=nt.childContextTypes)){var yt=it.getChildContext();for(var vt in yt)if(!(vt in rt))throw Error(q(108,C(nt)||"Unknown",vt))}yt&&(Ne=tt({},Ne,yt))}for(;rt.isValidElement(w);){var nt=w,it=nt.type;if("function"!=typeof it)break;d(nt,it)}return{child:w,context:Ne}}var os=function(){function a(w,Ne){rt.isValidElement(w)?w.type!==ot?w=[w]:(w=w.props.children,w=rt.isValidElement(w)?[w]:ta(w)):w=ta(w),w={type:null,domNamespace:ii,children:w,childIndex:0,context:rr,footer:""};var et=vr[0];if(0===et){var tt=vr,nt=2*(et=tt.length);if(!(65536>=nt))throw Error(q(304));var it=new Uint16Array(nt);for(it.set(tt),(vr=it)[0]=et+1,tt=et;tt<nt-1;tt++)vr[tt]=tt+1;vr[nt-1]=0}else vr[0]=vr[et];this.threadID=et,this.stack=[w],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=Ne,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var w=a.prototype;return w.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var w=this.threadID;vr[w]=vr[0],vr[0]=w}},w.pushProvider=function(w){var Ne=++this.contextIndex,et=w.type._context,tt=this.threadID;E(et,tt);var rt=et[tt];this.contextStack[Ne]=et,this.contextValueStack[Ne]=rt,et[tt]=w.props.value},w.popProvider=function(){var w=this.contextIndex,Ne=this.contextStack[w],et=this.contextValueStack[w];this.contextStack[w]=null,this.contextValueStack[w]=null,this.contextIndex--,Ne[this.threadID]=et},w.clearProviders=function(){for(var w=this.contextIndex;0<=w;w--)this.contextStack[w][this.threadID]=this.contextValueStack[w]},w.read=function(w){if(this.exhausted)return null;var Ne=$n;$n=this.threadID;var et=ia.current;ia.current=Yn;try{for(var tt=[""],rt=!1;tt[0].length<w;){if(0===this.stack.length){this.exhausted=!0;var nt=this.threadID;vr[nt]=vr[0],vr[0]=nt;break}var it=this.stack[this.stack.length-1];if(rt||it.childIndex>=it.children.length){var ot=it.footer;if(""!==ot&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===it.type)this.currentSelectValue=null;else if(null!=it.type&&null!=it.type.type&&it.type.type.$$typeof===ct)this.popProvider(it.type);else if(it.type===mt){this.suspenseDepth--;var at=tt.pop();if(rt){rt=!1;var st=it.fallbackFrame;if(!st)throw Error(q(303));this.stack.push(st),tt[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}tt[this.suspenseDepth]+=at}tt[this.suspenseDepth]+=ot}else{var pt=it.children[it.childIndex++],ft="";try{ft+=this.render(pt,it.context,it.domNamespace)}catch(w){if(null!=w&&"function"==typeof w.then)throw Error(q(294));throw w}tt.length<=this.suspenseDepth&&tt.push(""),tt[this.suspenseDepth]+=ft}}return tt[0]}finally{ia.current=et,$n=Ne}},w.render=function(w,Ne,et){if("string"==typeof w||"number"==typeof w)return""===(et=""+w)?"":this.makeStaticMarkup?N(et):this.previousWasTextNode?"\x3c!-- --\x3e"+N(et):(this.previousWasTextNode=!0,N(et));if(w=(Ne=Za(w,Ne,this.threadID)).child,Ne=Ne.context,null===w||!1===w)return"";if(!rt.isValidElement(w)){if(null!=w&&null!=w.$$typeof){if((et=w.$$typeof)===it)throw Error(q(257));throw Error(q(258,et.toString()))}return w=ta(w),this.stack.push({type:null,domNamespace:et,children:w,childIndex:0,context:Ne,footer:""}),""}var nt=w.type;if("string"==typeof nt)return this.renderDOM(w,Ne,et);switch(nt){case at:case ft:case st:case yt:case ot:return w=ta(w.props.children),this.stack.push({type:null,domNamespace:et,children:w,childIndex:0,context:Ne,footer:""}),"";case mt:throw Error(q(294))}if("object"==typeof nt&&null!==nt)switch(nt.$$typeof){case dt:Mn={};var Ot=nt.render(w.props,w.ref);return Ot=Da(nt.render,w.props,Ot,w.ref),Ot=ta(Ot),this.stack.push({type:null,domNamespace:et,children:Ot,childIndex:0,context:Ne,footer:""}),"";case vt:return w=[rt.createElement(nt.type,tt({ref:w.ref},w.props))],this.stack.push({type:null,domNamespace:et,children:w,childIndex:0,context:Ne,footer:""}),"";case ct:return et={type:w,domNamespace:et,children:nt=ta(w.props.children),childIndex:0,context:Ne,footer:""},this.pushProvider(w),this.stack.push(et),"";case pt:nt=w.type,Ot=w.props;var er=this.threadID;return E(nt,er),nt=ta(Ot.children(nt[er])),this.stack.push({type:w,domNamespace:et,children:nt,childIndex:0,context:Ne,footer:""}),"";case Dt:throw Error(q(338));case Rt:switch(function na(w){if(-1===w._status){w._status=0;var Ne=w._ctor;Ne=Ne(),w._result=Ne,Ne.then((function(Ne){0===w._status&&(Ne=Ne.default,w._status=1,w._result=Ne)}),(function(Ne){0===w._status&&(w._status=2,w._result=Ne)}))}}(nt=w.type),nt._status){case 1:return w=[rt.createElement(nt._result,tt({ref:w.ref},w.props))],this.stack.push({type:null,domNamespace:et,children:w,childIndex:0,context:Ne,footer:""}),"";case 2:throw nt._result;default:throw Error(q(295))}case Bt:throw Error(q(343))}throw Error(q(130,null==nt?nt:typeof nt,""))},w.renderDOM=function(w,Ne,et){var nt=w.type.toLowerCase();if(et===ii&&Ka(nt),!fa.hasOwnProperty(nt)){if(!la.test(nt))throw Error(q(65,nt));fa[nt]=!0}var it=w.props;if("input"===nt)it=tt({type:void 0},it,{defaultChecked:void 0,defaultValue:void 0,value:null!=it.value?it.value:it.defaultValue,checked:null!=it.checked?it.checked:it.defaultChecked});else if("textarea"===nt){var ot=it.value;if(null==ot){ot=it.defaultValue;var at=it.children;if(null!=at){if(null!=ot)throw Error(q(92));if(Array.isArray(at)){if(!(1>=at.length))throw Error(q(93));at=at[0]}ot=""+at}null==ot&&(ot="")}it=tt({},it,{value:void 0,children:""+ot})}else if("select"===nt)this.currentSelectValue=null!=it.value?it.value:it.defaultValue,it=tt({},it,{value:void 0});else if("option"===nt){at=this.currentSelectValue;var st=function Va(w){if(null==w)return w;var Ne="";return rt.Children.forEach(w,(function(w){null!=w&&(Ne+=w)})),Ne}(it.children);if(null!=at){var ct=null!=it.value?it.value+"":st;if(ot=!1,Array.isArray(at)){for(var pt=0;pt<at.length;pt++)if(""+at[pt]===ct){ot=!0;break}}else ot=""+at===ct;it=tt({selected:void 0,children:void 0},it,{selected:ot,children:st})}}if(ot=it){if(uo[nt]&&(null!=ot.children||null!=ot.dangerouslySetInnerHTML))throw Error(q(137,nt,""));if(null!=ot.dangerouslySetInnerHTML){if(null!=ot.children)throw Error(q(60));if("object"!=typeof ot.dangerouslySetInnerHTML||!("__html"in ot.dangerouslySetInnerHTML))throw Error(q(61))}if(null!=ot.style&&"object"!=typeof ot.style)throw Error(q(62,""))}for(Dt in ot=it,at=this.makeStaticMarkup,st=1===this.stack.length,ct="<"+w.type,ot)if(_a.call(ot,Dt)){var ft=ot[Dt];if(null!=ft){if("style"===Dt){pt=void 0;var dt="",mt="";for(pt in ft)if(ft.hasOwnProperty(pt)){var yt=0===pt.indexOf("--"),vt=ft[pt];if(null!=vt){if(yt)var Rt=pt;else if(Rt=pt,ga.hasOwnProperty(Rt))Rt=ga[Rt];else{var Ot=Rt.replace(So,"-$1").toLowerCase().replace(ea,"-ms-");Rt=ga[Rt]=Ot}dt+=mt+Rt+":",mt=pt,dt+=yt=null==vt||"boolean"==typeof vt||""===vt?"":yt||"number"!=typeof vt||0===vt||po.hasOwnProperty(mt)&&po[mt]?(""+vt).trim():vt+"px",mt=";"}}ft=dt||null}pt=null;e:if(yt=nt,vt=ot,-1===yt.indexOf("-"))yt="string"==typeof vt.is;else switch(yt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":yt=!1;break e;default:yt=!0}yt?Aa.hasOwnProperty(Dt)||(pt=ua(pt=Dt)&&null!=ft?pt+'="'+N(ft)+'"':""):pt=ya(Dt,ft),pt&&(ct+=" "+pt)}}at||st&&(ct+=' data-reactroot=""');var Dt=ct;ot="",qi.hasOwnProperty(nt)?Dt+="/>":(Dt+=">",ot="</"+w.type+">");e:{if(null!=(at=it.dangerouslySetInnerHTML)){if(null!=at.__html){at=at.__html;break e}}else if("string"==typeof(at=it.children)||"number"==typeof at){at=N(at);break e}at=null}return null!=at?(it=[],sa.hasOwnProperty(nt)&&"\n"===at.charAt(0)&&(Dt+="\n"),Dt+=at):it=ta(it.children),w=w.type,et=null==et||"http://www.w3.org/1999/xhtml"===et?Ka(w):"http://www.w3.org/2000/svg"===et&&"foreignObject"===w?"http://www.w3.org/1999/xhtml":et,this.stack.push({domNamespace:et,type:nt,children:it,childIndex:0,context:Ne,footer:ot}),this.previousWasTextNode=!1,Dt},a}(),as={renderToString:function(w){w=new os(w,!1);try{return w.read(1/0)}finally{w.destroy()}},renderToStaticMarkup:function(w){w=new os(w,!0);try{return w.read(1/0)}finally{w.destroy()}},renderToNodeStream:function(){throw Error(q(207))},renderToStaticNodeStream:function(){throw Error(q(208))},version:"16.13.1"};w.exports=as.default||as},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,".styles_sideBarWrapper-ars{\n    overflow: auto;\n    padding: 1.25rem 1.875rem 1.875rem 1.875rem;\n    border-radius: 0 0.1875rem 0.1875rem 0;\n    min-height: 100%;\n}\n\n.styles_bodyWrapper-2cj{\n\n}\n\n.styles_vectorFiltersWrapper-2az{\n    margin-top: 1.25rem;\n}\n\n.styles_sectionWrapper-EPe{\n    /*margin-bottom: 20px;*/\n}\n.styles_sectionWrapper-EPe:last-child{\n    margin-bottom: 0;\n}\n.styles_sectionHeader-joQ{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_vectorName-1o2{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_filterWrapper-1M7{\n    border: 0.0625rem solid hsl(0, 0%, 80%);\n    border-radius: 0.1875rem;\n    margin-top: 0.625rem;\n    padding: 1.25rem;\n}\n\n.styles_filter-3N0{\n    margin-top: 0.625rem;\n}\n\n.styles_filterName-3Ch{\n    margin-bottom: 0.3125rem;\n    border-bottom: 0.0625rem solid hsl(0, 0%, 80%);\n}\n\n.styles_empty-2GV{\n    font-style: italic;\n    color: hsl(0, 0%, 60%);\n}\n\n.styles_groupWrapper-1hP{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.styles_groupBadge-2eI {\n    background-color: #EBECF0;\n    border-radius: 2em;\n    color: #172B4D;\n    display: inline-block;\n    font-size: 12;\n    font-weight: normal;\n    line-height: 1;\n    min-width: 1;\n    padding: 0.16666666666667em 0.5em;\n    text-align: center;\n}",""]),Ne.locals={sideBarWrapper:"styles_sideBarWrapper-ars",bodyWrapper:"styles_bodyWrapper-2cj",vectorFiltersWrapper:"styles_vectorFiltersWrapper-2az",sectionWrapper:"styles_sectionWrapper-EPe",sectionHeader:"styles_sectionHeader-joQ",vectorName:"styles_vectorName-1o2",filterWrapper:"styles_filterWrapper-1M7",filter:"styles_filter-3N0",filterName:"styles_filterName-3Ch",empty:"styles_empty-2GV",groupWrapper:"styles_groupWrapper-1hP",groupBadge:"styles_groupBadge-2eI"},w.exports=Ne},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,".styles_wrapper-2VT{\n    width: 100%;\n    height: 100%;\n}",""]),Ne.locals={wrapper:"styles_wrapper-2VT"},w.exports=Ne},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,".styles_aboutWrapper-2FR{\n    display: flex;\n    height: 100%;\n    padding: 1.875rem 0.8125rem;\n    margin: 0 25rem;\n}\n\n.styles_header-2Co{\n    font-weight: bold;\n}\n\n\n\n",""]),Ne.locals={aboutWrapper:"styles_aboutWrapper-2FR",header:"styles_header-2Co"},w.exports=Ne},function(w,Ne,et){(Ne=et(35)(!1)).push([w.i,".styles_wrapper-Fm4 {\n\theight: 100%;\n\tpadding: 1.875rem 0.8125rem;\n\tmargin-left: 25rem;\n}\n.styles_downloadItem-188 {\n\tmargin-bottom: 1.5625rem;\n\tdisplay: block;\n}\n\n.styles_downloadLabel-1-a {\n\tdisplay: inline-block;\n\tmargin-bottom: 0.5rem;\n\tfont-weight: bold;\n\tfont-size: 1.25rem;\n}\n\n.styles_downloadLink-nF_ {\n\tcolor: rgb(0, 152, 72);\n\tmargin-right: 1.875rem;\n}\n",""]),Ne.locals={wrapper:"styles_wrapper-Fm4",downloadItem:"styles_downloadItem-188",downloadLabel:"styles_downloadLabel-1-a",downloadLink:"styles_downloadLink-nF_"},w.exports=Ne},function(w,Ne,et){"use strict";et.r(Ne);var tt=et(0),rt=et.n(tt),nt=et(16),it=et.n(nt),ot=et(15),at=et(5),st=et.n(at),ct=et(1);function isAbsolute(w){return"/"===w.charAt(0)}function spliceOne(w,Ne){for(var et=Ne,tt=et+1,rt=w.length;tt<rt;et+=1,tt+=1)w[et]=w[tt];w.pop()}var pt=function resolvePathname(w,Ne){void 0===Ne&&(Ne="");var et,tt=w&&w.split("/")||[],rt=Ne&&Ne.split("/")||[],nt=w&&isAbsolute(w),it=Ne&&isAbsolute(Ne),ot=nt||it;if(w&&isAbsolute(w)?rt=tt:tt.length&&(rt.pop(),rt=rt.concat(tt)),!rt.length)return"/";if(rt.length){var at=rt[rt.length-1];et="."===at||".."===at||""===at}else et=!1;for(var st=0,ct=rt.length;ct>=0;ct--){var pt=rt[ct];"."===pt?spliceOne(rt,ct):".."===pt?(spliceOne(rt,ct),st++):st&&(spliceOne(rt,ct),st--)}if(!ot)for(;st--;st)rt.unshift("..");!ot||""===rt[0]||rt[0]&&isAbsolute(rt[0])||rt.unshift("");var ft=rt.join("/");return et&&"/"!==ft.substr(-1)&&(ft+="/"),ft};var ft=function invariant(w,Ne){if(!w)throw new Error("Invariant failed")};function addLeadingSlash(w){return"/"===w.charAt(0)?w:"/"+w}function stripLeadingSlash(w){return"/"===w.charAt(0)?w.substr(1):w}function stripBasename(w,Ne){return function hasBasename(w,Ne){return 0===w.toLowerCase().indexOf(Ne.toLowerCase())&&-1!=="/?#".indexOf(w.charAt(Ne.length))}(w,Ne)?w.substr(Ne.length):w}function stripTrailingSlash(w){return"/"===w.charAt(w.length-1)?w.slice(0,-1):w}function createPath(w){var Ne=w.pathname,et=w.search,tt=w.hash,rt=Ne||"/";return et&&"?"!==et&&(rt+="?"===et.charAt(0)?et:"?"+et),tt&&"#"!==tt&&(rt+="#"===tt.charAt(0)?tt:"#"+tt),rt}function createLocation(w,Ne,et,tt){var rt;"string"==typeof w?(rt=function parsePath(w){var Ne=w||"/",et="",tt="",rt=Ne.indexOf("#");-1!==rt&&(tt=Ne.substr(rt),Ne=Ne.substr(0,rt));var nt=Ne.indexOf("?");return-1!==nt&&(et=Ne.substr(nt),Ne=Ne.substr(0,nt)),{pathname:Ne,search:"?"===et?"":et,hash:"#"===tt?"":tt}}(w)).state=Ne:(void 0===(rt=Object(ct.a)({},w)).pathname&&(rt.pathname=""),rt.search?"?"!==rt.search.charAt(0)&&(rt.search="?"+rt.search):rt.search="",rt.hash?"#"!==rt.hash.charAt(0)&&(rt.hash="#"+rt.hash):rt.hash="",void 0!==Ne&&void 0===rt.state&&(rt.state=Ne));try{rt.pathname=decodeURI(rt.pathname)}catch(w){throw w instanceof URIError?new URIError('Pathname "'+rt.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):w}return et&&(rt.key=et),tt?rt.pathname?"/"!==rt.pathname.charAt(0)&&(rt.pathname=pt(rt.pathname,tt.pathname)):rt.pathname=tt.pathname:rt.pathname||(rt.pathname="/"),rt}function createTransitionManager(){var w=null;var Ne=[];return{setPrompt:function setPrompt(Ne){return w=Ne,function(){w===Ne&&(w=null)}},confirmTransitionTo:function confirmTransitionTo(Ne,et,tt,rt){if(null!=w){var nt="function"==typeof w?w(Ne,et):w;"string"==typeof nt?"function"==typeof tt?tt(nt,rt):rt(!0):rt(!1!==nt)}else rt(!0)},appendListener:function appendListener(w){var et=!0;function listener(){et&&w.apply(void 0,arguments)}return Ne.push(listener),function(){et=!1,Ne=Ne.filter((function(w){return w!==listener}))}},notifyListeners:function notifyListeners(){for(var w=arguments.length,et=new Array(w),tt=0;tt<w;tt++)et[tt]=arguments[tt];Ne.forEach((function(w){return w.apply(void 0,et)}))}}}var dt=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(w,Ne){Ne(window.confirm(w))}function getHistoryState(){try{return window.history.state||{}}catch(w){return{}}}function createBrowserHistory(w){void 0===w&&(w={}),dt||ft(!1);var Ne=window.history,et=function supportsHistory(){var w=window.navigator.userAgent;return(-1===w.indexOf("Android 2.")&&-1===w.indexOf("Android 4.0")||-1===w.indexOf("Mobile Safari")||-1!==w.indexOf("Chrome")||-1!==w.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),tt=!function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}(),rt=w,nt=rt.forceRefresh,it=void 0!==nt&&nt,ot=rt.getUserConfirmation,at=void 0===ot?getConfirmation:ot,st=rt.keyLength,pt=void 0===st?6:st,mt=w.basename?stripTrailingSlash(addLeadingSlash(w.basename)):"";function getDOMLocation(w){var Ne=w||{},et=Ne.key,tt=Ne.state,rt=window.location,nt=rt.pathname+rt.search+rt.hash;return mt&&(nt=stripBasename(nt,mt)),createLocation(nt,tt,et)}function createKey(){return Math.random().toString(36).substr(2,pt)}var yt=createTransitionManager();function setState(w){Object(ct.a)(er,w),er.length=Ne.length,yt.notifyListeners(er.location,er.action)}function handlePopState(w){(function isExtraneousPopstateEvent(w){return void 0===w.state&&-1===navigator.userAgent.indexOf("CriOS")})(w)||handlePop(getDOMLocation(w.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var vt=!1;function handlePop(w){if(vt)vt=!1,setState();else{yt.confirmTransitionTo(w,"POP",at,(function(Ne){Ne?setState({action:"POP",location:w}):function revertPop(w){var Ne=er.location,et=Ot.indexOf(Ne.key);-1===et&&(et=0);var tt=Ot.indexOf(w.key);-1===tt&&(tt=0);var rt=et-tt;rt&&(vt=!0,go(rt))}(w)}))}}var Rt=getDOMLocation(getHistoryState()),Ot=[Rt.key];function createHref(w){return mt+createPath(w)}function go(w){Ne.go(w)}var Dt=0;function checkDOMListeners(w){1===(Dt+=w)&&1===w?(window.addEventListener("popstate",handlePopState),tt&&window.addEventListener("hashchange",handleHashChange)):0===Dt&&(window.removeEventListener("popstate",handlePopState),tt&&window.removeEventListener("hashchange",handleHashChange))}var Bt=!1;var er={length:Ne.length,action:"POP",location:Rt,createHref:createHref,push:function push(w,tt){var rt=createLocation(w,tt,createKey(),er.location);yt.confirmTransitionTo(rt,"PUSH",at,(function(w){if(w){var tt=createHref(rt),nt=rt.key,ot=rt.state;if(et)if(Ne.pushState({key:nt,state:ot},null,tt),it)window.location.href=tt;else{var at=Ot.indexOf(er.location.key),st=Ot.slice(0,at+1);st.push(rt.key),Ot=st,setState({action:"PUSH",location:rt})}else window.location.href=tt}}))},replace:function replace(w,tt){var rt=createLocation(w,tt,createKey(),er.location);yt.confirmTransitionTo(rt,"REPLACE",at,(function(w){if(w){var tt=createHref(rt),nt=rt.key,ot=rt.state;if(et)if(Ne.replaceState({key:nt,state:ot},null,tt),it)window.location.replace(tt);else{var at=Ot.indexOf(er.location.key);-1!==at&&(Ot[at]=rt.key),setState({action:"REPLACE",location:rt})}else window.location.replace(tt)}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(w){void 0===w&&(w=!1);var Ne=yt.setPrompt(w);return Bt||(checkDOMListeners(1),Bt=!0),function(){return Bt&&(Bt=!1,checkDOMListeners(-1)),Ne()}},listen:function listen(w){var Ne=yt.appendListener(w);return checkDOMListeners(1),function(){checkDOMListeners(-1),Ne()}}};return er}var mt={hashbang:{encodePath:function encodePath(w){return"!"===w.charAt(0)?w:"!/"+stripLeadingSlash(w)},decodePath:function decodePath(w){return"!"===w.charAt(0)?w.substr(1):w}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(w){var Ne=w.indexOf("#");return-1===Ne?w:w.slice(0,Ne)}function getHashPath(){var w=window.location.href,Ne=w.indexOf("#");return-1===Ne?"":w.substring(Ne+1)}function replaceHashPath(w){window.location.replace(stripHash(window.location.href)+"#"+w)}function createHashHistory(w){void 0===w&&(w={}),dt||ft(!1);var Ne=window.history,et=(function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}(),w),tt=et.getUserConfirmation,rt=void 0===tt?getConfirmation:tt,nt=et.hashType,it=void 0===nt?"slash":nt,ot=w.basename?stripTrailingSlash(addLeadingSlash(w.basename)):"",at=mt[it],st=at.encodePath,pt=at.decodePath;function getDOMLocation(){var w=pt(getHashPath());return ot&&(w=stripBasename(w,ot)),createLocation(w)}var yt=createTransitionManager();function setState(w){Object(ct.a)(wr,w),wr.length=Ne.length,yt.notifyListeners(wr.location,wr.action)}var vt=!1,Rt=null;function handleHashChange(){var w=getHashPath(),Ne=st(w);if(w!==Ne)replaceHashPath(Ne);else{var et=getDOMLocation(),tt=wr.location;if(!vt&&function locationsAreEqual$$1(w,Ne){return w.pathname===Ne.pathname&&w.search===Ne.search&&w.hash===Ne.hash}(tt,et))return;if(Rt===createPath(et))return;Rt=null,function handlePop(w){if(vt)vt=!1,setState();else{yt.confirmTransitionTo(w,"POP",rt,(function(Ne){Ne?setState({action:"POP",location:w}):function revertPop(w){var Ne=wr.location,et=er.lastIndexOf(createPath(Ne));-1===et&&(et=0);var tt=er.lastIndexOf(createPath(w));-1===tt&&(tt=0);var rt=et-tt;rt&&(vt=!0,go(rt))}(w)}))}}(et)}}var Ot=getHashPath(),Dt=st(Ot);Ot!==Dt&&replaceHashPath(Dt);var Bt=getDOMLocation(),er=[createPath(Bt)];function go(w){Ne.go(w)}var rr=0;function checkDOMListeners(w){1===(rr+=w)&&1===w?window.addEventListener("hashchange",handleHashChange):0===rr&&window.removeEventListener("hashchange",handleHashChange)}var vr=!1;var wr={length:Ne.length,action:"POP",location:Bt,createHref:function createHref(w){var Ne=document.querySelector("base"),et="";return Ne&&Ne.getAttribute("href")&&(et=stripHash(window.location.href)),et+"#"+st(ot+createPath(w))},push:function push(w,Ne){var et=createLocation(w,void 0,void 0,wr.location);yt.confirmTransitionTo(et,"PUSH",rt,(function(w){if(w){var Ne=createPath(et),tt=st(ot+Ne);if(getHashPath()!==tt){Rt=Ne,function pushHashPath(w){window.location.hash=w}(tt);var rt=er.lastIndexOf(createPath(wr.location)),nt=er.slice(0,rt+1);nt.push(Ne),er=nt,setState({action:"PUSH",location:et})}else setState()}}))},replace:function replace(w,Ne){var et=createLocation(w,void 0,void 0,wr.location);yt.confirmTransitionTo(et,"REPLACE",rt,(function(w){if(w){var Ne=createPath(et),tt=st(ot+Ne);getHashPath()!==tt&&(Rt=Ne,replaceHashPath(tt));var rt=er.indexOf(createPath(wr.location));-1!==rt&&(er[rt]=Ne),setState({action:"REPLACE",location:et})}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(w){void 0===w&&(w=!1);var Ne=yt.setPrompt(w);return vr||(checkDOMListeners(1),vr=!0),function(){return vr&&(vr=!1,checkDOMListeners(-1)),Ne()}},listen:function listen(w){var Ne=yt.appendListener(w);return checkDOMListeners(1),function(){checkDOMListeners(-1),Ne()}}};return wr}function clamp(w,Ne,et){return Math.min(Math.max(w,Ne),et)}function createMemoryHistory(w){void 0===w&&(w={});var Ne=w,et=Ne.getUserConfirmation,tt=Ne.initialEntries,rt=void 0===tt?["/"]:tt,nt=Ne.initialIndex,it=void 0===nt?0:nt,ot=Ne.keyLength,at=void 0===ot?6:ot,st=createTransitionManager();function setState(w){Object(ct.a)(mt,w),mt.length=mt.entries.length,st.notifyListeners(mt.location,mt.action)}function createKey(){return Math.random().toString(36).substr(2,at)}var pt=clamp(it,0,rt.length-1),ft=rt.map((function(w){return createLocation(w,void 0,"string"==typeof w?createKey():w.key||createKey())})),dt=createPath;function go(w){var Ne=clamp(mt.index+w,0,mt.entries.length-1),tt=mt.entries[Ne];st.confirmTransitionTo(tt,"POP",et,(function(w){w?setState({action:"POP",location:tt,index:Ne}):setState()}))}var mt={length:ft.length,action:"POP",location:ft[pt],index:pt,entries:ft,createHref:dt,push:function push(w,Ne){var tt=createLocation(w,Ne,createKey(),mt.location);st.confirmTransitionTo(tt,"PUSH",et,(function(w){if(w){var Ne=mt.index+1,et=mt.entries.slice(0);et.length>Ne?et.splice(Ne,et.length-Ne,tt):et.push(tt),setState({action:"PUSH",location:tt,index:Ne,entries:et})}}))},replace:function replace(w,Ne){var tt=createLocation(w,Ne,createKey(),mt.location);st.confirmTransitionTo(tt,"REPLACE",et,(function(w){w&&(mt.entries[mt.index]=tt,setState({action:"REPLACE",location:tt}))}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},canGo:function canGo(w){var Ne=mt.index+w;return Ne>=0&&Ne<mt.entries.length},block:function block(w){return void 0===w&&(w=!1),st.setPrompt(w)},listen:function listen(w){return st.appendListener(w)}};return mt}var yt=et(106),vt=et(107),Rt=et.n(vt),Ot=(et(155),et(20)),Dt=et(78),Bt=et.n(Dt),er=function createNamedContext(w){var Ne=Object(yt.a)();return Ne.displayName=w,Ne}("Router-History"),rr=function createNamedContext(w){var Ne=Object(yt.a)();return Ne.displayName=w,Ne}("Router"),vr=function(w){function Router(Ne){var et;return(et=w.call(this,Ne)||this).state={location:Ne.history.location},et._isMounted=!1,et._pendingLocation=null,Ne.staticContext||(et.unlisten=Ne.history.listen((function(w){et._isMounted?et.setState({location:w}):et._pendingLocation=w}))),et}Object(ot.a)(Router,w),Router.computeRootMatch=function computeRootMatch(w){return{path:"/",url:"/",params:{},isExact:"/"===w}};var Ne=Router.prototype;return Ne.componentDidMount=function componentDidMount(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},Ne.componentWillUnmount=function componentWillUnmount(){this.unlisten&&this.unlisten()},Ne.render=function render(){return rt.a.createElement(rr.Provider,{value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},rt.a.createElement(er.Provider,{children:this.props.children||null,value:this.props.history}))},Router}(rt.a.Component);rt.a.Component;rt.a.Component;var wr={},Sr=0;function matchPath(w,Ne){void 0===Ne&&(Ne={}),("string"==typeof Ne||Array.isArray(Ne))&&(Ne={path:Ne});var et=Ne,tt=et.path,rt=et.exact,nt=void 0!==rt&&rt,it=et.strict,ot=void 0!==it&&it,at=et.sensitive,st=void 0!==at&&at;return[].concat(tt).reduce((function(Ne,et){if(!et&&""!==et)return null;if(Ne)return Ne;var tt=function compilePath$1(w,Ne){var et=""+Ne.end+Ne.strict+Ne.sensitive,tt=wr[et]||(wr[et]={});if(tt[w])return tt[w];var rt=[],nt={regexp:Rt()(w,rt,Ne),keys:rt};return Sr<1e4&&(tt[w]=nt,Sr++),nt}(et,{end:nt,strict:ot,sensitive:st}),rt=tt.regexp,it=tt.keys,at=rt.exec(w);if(!at)return null;var ct=at[0],pt=at.slice(1),ft=w===ct;return nt&&!ft?null:{path:et,url:"/"===et&&""===ct?"/":ct,isExact:ft,params:it.reduce((function(w,Ne,et){return w[Ne.name]=pt[et],w}),{})}}),null)}var rn=function(w){function Route(){return w.apply(this,arguments)||this}return Object(ot.a)(Route,w),Route.prototype.render=function render(){var w=this;return rt.a.createElement(rr.Consumer,null,(function(Ne){Ne||ft(!1);var et=w.props.location||Ne.location,tt=w.props.computedMatch?w.props.computedMatch:w.props.path?matchPath(et.pathname,w.props):Ne.match,nt=Object(ct.a)({},Ne,{location:et,match:tt}),it=w.props,ot=it.children,at=it.component,st=it.render;return Array.isArray(ot)&&0===ot.length&&(ot=null),rt.a.createElement(rr.Provider,{value:nt},nt.match?ot?"function"==typeof ot?ot(nt):ot:at?rt.a.createElement(at,nt):st?st(nt):null:"function"==typeof ot?ot(nt):null)}))},Route}(rt.a.Component);function react_router_addLeadingSlash(w){return"/"===w.charAt(0)?w:"/"+w}function react_router_stripBasename(w,Ne){if(!w)return Ne;var et=react_router_addLeadingSlash(w);return 0!==Ne.pathname.indexOf(et)?Ne:Object(ct.a)({},Ne,{pathname:Ne.pathname.substr(et.length)})}function createURL(w){return"string"==typeof w?w:createPath(w)}function staticHandler(w){return function(){ft(!1)}}function noop(){}rt.a.Component;var vn=function(w){function Switch(){return w.apply(this,arguments)||this}return Object(ot.a)(Switch,w),Switch.prototype.render=function render(){var w=this;return rt.a.createElement(rr.Consumer,null,(function(Ne){Ne||ft(!1);var et,tt,nt=w.props.location||Ne.location;return rt.a.Children.forEach(w.props.children,(function(w){if(null==tt&&rt.a.isValidElement(w)){et=w;var it=w.props.path||w.props.from;tt=it?matchPath(nt.pathname,Object(ct.a)({},w.props,{path:it})):Ne.match}})),tt?rt.a.cloneElement(et,{location:nt,computedMatch:tt}):null}))},Switch}(rt.a.Component);function withRouter(w){var Ne="withRouter("+(w.displayName||w.name)+")",et=function C(Ne){var et=Ne.wrappedComponentRef,tt=Object(Ot.a)(Ne,["wrappedComponentRef"]);return rt.a.createElement(rr.Consumer,null,(function(Ne){return Ne||ft(!1),rt.a.createElement(w,Object(ct.a)({},tt,Ne,{ref:et}))}))};return et.displayName=Ne,et.WrappedComponent=w,Bt()(et,w)}rt.a.useContext;var bn=function(w){function BrowserRouter(){for(var Ne,et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return(Ne=w.call.apply(w,[this].concat(tt))||this).history=createBrowserHistory(Ne.props),Ne}return Object(ot.a)(BrowserRouter,w),BrowserRouter.prototype.render=function render(){return rt.a.createElement(vr,{history:this.history,children:this.props.children})},BrowserRouter}(rt.a.Component);rt.a.Component;var Tn=function resolveToLocation(w,Ne){return"function"==typeof w?w(Ne):w},Cn=function normalizeToLocation(w,Ne){return"string"==typeof w?createLocation(w,null,null,Ne):w},In=function forwardRefShim(w){return w},zn=rt.a.forwardRef;void 0===zn&&(zn=In);var Mn=zn((function(w,Ne){var et=w.innerRef,tt=w.navigate,nt=w.onClick,it=Object(Ot.a)(w,["innerRef","navigate","onClick"]),ot=it.target,at=Object(ct.a)({},it,{onClick:function onClick(w){try{nt&&nt(w)}catch(Ne){throw w.preventDefault(),Ne}w.defaultPrevented||0!==w.button||ot&&"_self"!==ot||function isModifiedEvent(w){return!!(w.metaKey||w.altKey||w.ctrlKey||w.shiftKey)}(w)||(w.preventDefault(),tt())}});return at.ref=In!==zn&&Ne||et,rt.a.createElement("a",at)}));var Ln=zn((function(w,Ne){var et=w.component,tt=void 0===et?Mn:et,nt=w.replace,it=w.to,ot=w.innerRef,at=Object(Ot.a)(w,["component","replace","to","innerRef"]);return rt.a.createElement(rr.Consumer,null,(function(w){w||ft(!1);var et=w.history,st=Cn(Tn(it,w.location),w.location),pt=st?et.createHref(st):"",dt=Object(ct.a)({},at,{href:pt,navigate:function navigate(){var Ne=Tn(it,w.location);(nt?et.replace:et.push)(Ne)}});return In!==zn?dt.ref=Ne||ot:dt.innerRef=ot,rt.a.createElement(tt,dt)}))})),Fn=function forwardRefShim(w){return w},Bn=rt.a.forwardRef;void 0===Bn&&(Bn=Fn);var Nn=Bn((function(w,Ne){var et=w["aria-current"],tt=void 0===et?"page":et,nt=w.activeClassName,it=void 0===nt?"active":nt,ot=w.activeStyle,at=w.className,st=w.exact,pt=w.isActive,dt=w.location,mt=w.sensitive,yt=w.strict,vt=w.style,Rt=w.to,Dt=w.innerRef,Bt=Object(Ot.a)(w,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return rt.a.createElement(rr.Consumer,null,(function(w){w||ft(!1);var et=dt||w.location,nt=Cn(Tn(Rt,et),et),Ot=nt.pathname,er=Ot&&Ot.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),rr=er?matchPath(et.pathname,{path:er,exact:st,sensitive:mt,strict:yt}):null,vr=!!(pt?pt(rr,et):rr),wr=vr?function joinClassnames(){for(var w=arguments.length,Ne=new Array(w),et=0;et<w;et++)Ne[et]=arguments[et];return Ne.filter((function(w){return w})).join(" ")}(at,it):at,Sr=vr?Object(ct.a)({},vt,{},ot):vt,rn=Object(ct.a)({"aria-current":vr&&tt||null,className:wr,style:Sr,to:nt},Bt);return Fn!==Bn?rn.ref=Ne||Dt:rn.innerRef=Dt,rt.a.createElement(Ln,rn)}))})),Vn=(et(182),et(66),et(22)),Wn=(et(76),et(64)),$n=(et(209),et(137),et(138),et(139),et(140),et(141),et(142),et(143),et(144),et(145),et(146),et(147),et(148),et(149),et(48),et(49),et(50),et(51),et(52),et(53),et(54),et(55),et(56),et(57),et(58),et(59),et(60),et(61),et(62),et(63),et(228),et(105)),Yn=et(18),ii=et(159),qi=et(160);function _defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}function _classPrivateFieldGet(w,Ne){var et=Ne.get(w);if(!et)throw new TypeError("attempted to get private field on non-instance");return et.get?et.get.call(w):et.value}Yn.config({});class VectorSource_VectorSource{constructor({name:w,label:Ne,hierarchyIndex:et,tableIdentifier:tt,geoVariables:rt,isGeobuf:nt,getGeometry:it,isDefault:ot,showOnHome:at,filterVariables:st=[],metadataVariables:ct=[],legendVariable:pt,legend:ft,regionNameVariable:dt,regionParentVariable:mt,regionBoundingBoxVariable:yt,mapboxSourceType:vt,mapboxLayerType:Rt,mapboxLayerOptions:Ot,minZoom:Dt,maxZoom:Bt}){_defineProperty(this,"fetchMetadata",async()=>{if(this.metadata)return this.metadata;const w=new Set([...this.filterVariables.map(({name:w})=>w.toLowerCase()),...this.metadataVariables.map(({name:w})=>w.toLowerCase())]);this.regionNameVariable&&w.add(this.regionNameVariable.name.toLowerCase()),this.regionParentVariable&&w.add(this.regionParentVariable.name.toLowerCase()),this.regionBoundingBoxVariable&&w.add(this.regionBoundingBoxVariable.name.toLowerCase());const Ne=[...w],et=new Map;for(let w=0;w<Ne.length;w++)et.set(Ne[w],w);const tt=`https://redivis.com/api/v1/tables/${this.tableIdentifier}/rows?selectedVariables=${Ne.join(",")}&maxResults=10000`,rt=await _classPrivateFieldGet(this,uo).call(this,tt);try{return this.metadata=rt.map(w=>{const Ne={},tt={};for(const tt of this.metadataVariables)Ne[tt.label||tt.name]=w[et.get(tt.name.toLowerCase())];for(const Ne of this.filterVariables)tt[Ne.name]=w[et.get(Ne.name.toLowerCase())];return this.regionNameVariable&&(tt.regionName=w[et.get(this.regionNameVariable.name.toLowerCase())]),this.regionParentVariable&&(tt.parentRegionName=w[et.get(this.regionParentVariable.name.toLowerCase())]),this.regionBoundingBoxVariable&&(tt.bbox=w[et.get(this.regionBoundingBoxVariable.name.toLowerCase())]),{metadata:Ne,properties:{...Ne,...tt}}}),this.metadata}catch(w){return await Yn.removeItem("a_version_"+tt),await Yn.removeItem("a_response_"+tt),alert(`An error occurred when parsing data from ${this.tableIdentifier}: ${w.message}`),[]}}),_defineProperty(this,"fetchData",async()=>{if(this.data)return this.data;const w=new Set([...this.geoVariables.map(({name:w})=>w.toLowerCase())]);this.metadata||await this.fetchMetadata();const Ne=[...w],et=new Map;for(let w=0;w<Ne.length;w++)et.set(Ne[w],w);const tt=`https://redivis.com/api/v1/tables/${this.tableIdentifier}/rows?selectedVariables=${Ne.join(",")}&maxResults=10000`,rt=await _classPrivateFieldGet(this,uo).call(this,tt);try{return this.data=rt.map((w,Ne)=>{let tt;return w[et.get(this.geoVariables[0].name.toLowerCase())]&&(tt=this.isGeobuf?ii.decode(new qi(new Uint8Array(atob(w[et.get(this.geoVariables[0].name.toLowerCase())]).split("").map((function(w){return w.charCodeAt(0)}))))).geometry:this.getGeometry?this.getGeometry(...this.geoVariables.map(Ne=>w[et.get(Ne.name.toLowerCase())])):JSON.parse(w[et.get(this.geoVariables[0].name.toLowerCase())])),{geometry:tt,...this.metadata[Ne]}}),this.data}catch(w){return await Yn.removeItem("a_version_"+tt),await Yn.removeItem("a_response_"+tt),alert(`An error occurred when parsing data from ${this.tableIdentifier}: ${w.message}`),[]}}),uo.set(this,{writable:!0,value:async(w,Ne=1)=>{try{let et;const tt=await async function getTableVersion(w){const Ne=await retryableFetch("https://redivis.com/api/v1/tables/"+w,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!Ne.ok){const w=await Ne.text();throw new Error(w)}return(await Ne.json()).hash}(this.tableIdentifier);try{if(await Yn.getItem("a_version_"+w)===tt){const Ne=await Yn.getItem("a_response_"+w);et=$n.inflate(Ne,{to:"string"})}}catch(Ne){console.error(Ne),await Yn.removeItem("a_version_"+w),await Yn.removeItem("a_response_"+w)}if(!et){const Ne=await retryableFetch(w,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!Ne.ok){const w=await Ne.text();throw new Error(w)}et=await Ne.text();try{await Yn.setItem("a_version_"+w,tt),await Yn.setItem("a_response_"+w,$n.deflate(et))}catch(Ne){console.error(Ne),await Yn.removeItem("a_version_"+w),await Yn.removeItem("a_response_"+w)}}let rt=et.split("\n").map((w,Ne)=>JSON.parse(w));if(1e4===rt.length){const et=await _classPrivateFieldGet(this,uo).call(this,`${w.replace(/&startIndex=\d+/,"")}&startIndex=${1e4*Ne}`,Ne+1);rt=rt.concat(et)}return rt}catch(Ne){return await Yn.removeItem("a_version_"+w),await Yn.removeItem("a_response_"+w),alert(`An error occurred when fetching data from ${this.tableIdentifier}: ${Ne.message}`),[]}}}),this.name=w,this.label=Ne,this.hierarchyIndex=et,this.tableIdentifier=tt,this.geoVariables=rt,this.isGeobuf=nt,this.filterVariables=st,this.metadataVariables=ct,this.legendVariable=pt,this.legend=ft,this.regionNameVariable=dt,this.regionParentVariable=mt,this.regionBoundingBoxVariable=yt,this.mapboxSourceType=vt,this.mapboxLayerType=Rt,this.mapboxLayerOptions=Ot,this.minZoom=Dt,this.maxZoom=Bt,this.isDefault=ot,this.showOnHome=at,this.getGeometry=it,this.metadata=null,this.data=null}}var uo=new WeakMap;async function retryableFetch(w,Ne){let et=await fetch(w,Ne);return et.ok||(et=await fetch(w,Ne)),et}const po=[10],vo=0,So=1,ea=2,ta=3,ia=[{name:"Regions (full size)",label:"Uganda",hierarchyIndex:0,isDefault:!0,showOnHome:!0,tableIdentifier:"modilab.uganda_geodata:3.uganda_regions:9",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"AREA"},{name:"PERIMETER"},{name:"ID"},{name:"CAPTION"}],regionNameVariable:{name:"ID"},regionParentVariable:{name:"CAPTION"},regionBoundingBoxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":vo},paint:{"fill-opacity":["number",["get","opacity"],.05],"fill-color":"#787b8c"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":vo},paint:{"line-color":"#787b8c","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[10,0]}}}},{name:"Districts (full size)",label:"Uganda",hierarchyIndex:1,isDefault:!1,showOnHome:!0,tableIdentifier:"modilab.uganda_geodata:3.uganda_districts:3",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"AREA_SQKM",label:"Area (km^2)"},{name:"POPPERSQKM",label:"Population per km^2"},{name:"CAPTION",label:"Region"}],regionNameVariable:{name:"DNAME2019"},regionParentVariable:{name:"CAPTION"},regionBoundingBoxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":So},paint:{"fill-opacity":["number",["get","opacity"],.05],"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":So},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}},{name:"Subcounties (full size)",label:"Uganda",hierarchyIndex:2,isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.uganda_subcounties:8",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,metadataVariables:[{name:"District"},{name:"County"},{name:"Subcounty"},{name:"regions"}],regionNameVariable:{name:"Subcounty"},regionParentVariable:{name:"District"},regionBoundingBoxVariable:null,mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":ea},paint:{"fill-opacity":["number",["get","opacity"],.05],"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":ea},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}},{name:"Parishes (full size)",label:"Uganda",hierarchyIndex:3,isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.uganda_parishes:7",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"DName2016"},{name:"CName2016"},{name:"SName2016"}],regionNameVariable:{name:"P"},regionParentVariable:{name:"S"},regionBoundingBoxVariable:null,mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":ta},paint:{"fill-opacity":["number",["get","opacity"],.05],"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":ta},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}},{name:"Regions (full size)",label:"Ethiopia",hierarchyIndex:0,isDefault:!0,showOnHome:!0,tableIdentifier:"modilab.ethiopia_geodata:2.ethiopia_regions:3",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"ADM0_EN",label:"Country"}],regionNameVariable:{name:"ADM1_EN"},regionParentVariable:{name:"ADM0_EN"},regionBoundingBoxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":vo},paint:{"fill-opacity":["number",["get","opacity"],.05],"fill-color":"#787b8c"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":vo},paint:{"line-color":"#787b8c","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[10,0]}}}},{name:"Regions (full size)",label:"Tanzania",hierarchyIndex:0,isDefault:!0,showOnHome:!0,tableIdentifier:"modilab.tanzania_geodata:4.tanzania_regions:2",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[],metadataVariables:[{name:"ADM0_EN",label:"Country"}],regionNameVariable:{name:"ADM1_EN"},regionBoundingBoxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":vo},paint:{"fill-opacity":["number",["get","opacity"],.05],"fill-color":"#787b8c"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":vo},paint:{"line-color":"#787b8c","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[10,0]}}}}];for(let w=0;w<ia.length;w++){for(let Ne=0;Ne<po.length;Ne++){const et=po[Ne];ia.splice(w+Ne+1,0,{...ia[w],isDefault:!1,showOnHome:!1,name:(""+ia[w].name).replace("full size","reduced"),geoVariables:[{name:"geoBuf_simplified_"+et}]})}w+=po.length}var sa=ia.map(w=>new VectorSource_VectorSource(w)),la=et(4),fa=et(82),ga=et(2),_a=et(3),Aa=et(8);function easeOut(w){return w=function getRelativeValue(w,Ne,et){return(Math.min(Math.max(Ne,w),et)-Ne)/(et-Ne)}(w,0,1),w=(w-=1)*w*w+1}var os=tt.forwardRef((function CircularProgress(w,Ne){var et=w.classes,rt=w.className,nt=w.color,it=void 0===nt?"primary":nt,ot=w.disableShrink,at=void 0!==ot&&ot,st=w.size,pt=void 0===st?40:st,ft=w.style,dt=w.thickness,mt=void 0===dt?3.6:dt,yt=w.value,vt=void 0===yt?0:yt,Rt=w.variant,Ot=void 0===Rt?"indeterminate":Rt,Dt=Object(ga.a)(w,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),Bt={},er={},rr={};if("determinate"===Ot||"static"===Ot){var vr=2*Math.PI*((44-mt)/2);Bt.strokeDasharray=vr.toFixed(3),rr["aria-valuenow"]=Math.round(vt),"static"===Ot?(Bt.strokeDashoffset="".concat(((100-vt)/100*vr).toFixed(3),"px"),er.transform="rotate(-90deg)"):(Bt.strokeDashoffset="".concat((function easeIn(w){return w*w}((100-vt)/100)*vr).toFixed(3),"px"),er.transform="rotate(".concat((270*easeOut(vt/70)).toFixed(3),"deg)"))}return tt.createElement("div",Object(ct.a)({className:Object(_a.a)(et.root,rt,"inherit"!==it&&et["color".concat(Object(Aa.a)(it))],{indeterminate:et.indeterminate,static:et.static}[Ot]),style:Object(ct.a)({width:pt,height:pt},er,ft),ref:Ne,role:"progressbar"},rr,Dt),tt.createElement("svg",{className:et.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},tt.createElement("circle",{className:Object(_a.a)(et.circle,at&&et.circleDisableShrink,{indeterminate:et.circleIndeterminate,static:et.circleStatic}[Ot]),style:Bt,cx:44,cy:44,r:(44-mt)/2,fill:"none",strokeWidth:mt})))})),as=Object(la.a)((function styles(w){return{root:{display:"inline-block"},static:{transition:w.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:w.palette.primary.main},colorSecondary:{color:w.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:w.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(os),ss=tt.forwardRef((function ListSubheader(w,Ne){var et=w.classes,rt=w.className,nt=w.color,it=void 0===nt?"default":nt,ot=w.component,at=void 0===ot?"li":ot,st=w.disableGutters,pt=void 0!==st&&st,ft=w.disableSticky,dt=void 0!==ft&&ft,mt=w.inset,yt=void 0!==mt&&mt,vt=Object(ga.a)(w,["classes","className","color","component","disableGutters","disableSticky","inset"]);return tt.createElement(at,Object(ct.a)({className:Object(_a.a)(et.root,rt,"default"!==it&&et["color".concat(Object(Aa.a)(it))],yt&&et.inset,!dt&&et.sticky,!pt&&et.gutters),ref:Ne},vt))})),ls=Object(la.a)((function styles(w){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:w.palette.text.secondary,fontFamily:w.typography.fontFamily,fontWeight:w.typography.fontWeightMedium,fontSize:w.typography.pxToRem(14)},colorPrimary:{color:w.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(ss);var us=tt.createContext({}),fs=tt.forwardRef((function List(w,Ne){var et=w.children,rt=w.classes,nt=w.className,it=w.component,ot=void 0===it?"ul":it,at=w.dense,st=void 0!==at&&at,pt=w.disablePadding,ft=void 0!==pt&&pt,dt=w.subheader,mt=Object(ga.a)(w,["children","classes","className","component","dense","disablePadding","subheader"]),yt=tt.useMemo((function(){return{dense:st}}),[st]);return tt.createElement(us.Provider,{value:yt},tt.createElement(ot,Object(ct.a)({className:Object(_a.a)(rt.root,nt,st&&rt.dense,!ft&&rt.padding,dt&&rt.subheader),ref:Ne},mt),dt,et))})),gs=Object(la.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(fs);function setRef(w,Ne){"function"==typeof w?w(Ne):w&&(w.current=Ne)}function useForkRef(w,Ne){return tt.useMemo((function(){return null==w&&null==Ne?null:function(et){setRef(w,et),setRef(Ne,et)}}),[w,Ne])}var vs="undefined"!=typeof window?tt.useLayoutEffect:tt.useEffect;function useEventCallback(w){var Ne=tt.useRef(w);return vs((function(){Ne.current=w})),tt.useCallback((function(){return Ne.current.apply(void 0,arguments)}),[])}var xs=!0,Ss=!1,Es=null,Cs={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function useIsFocusVisible_handleKeyDown(w){w.metaKey||w.altKey||w.ctrlKey||(xs=!0)}function handlePointerDown(){xs=!1}function handleVisibilityChange(){"hidden"===this.visibilityState&&Ss&&(xs=!0)}function useIsFocusVisible_isFocusVisible(w){var Ne=w.target;try{return Ne.matches(":focus-visible")}catch(w){}return xs||function focusTriggersKeyboardModality(w){var Ne=w.type,et=w.tagName;return!("INPUT"!==et||!Cs[Ne]||w.readOnly)||("TEXTAREA"===et&&!w.readOnly||!!w.isContentEditable)}(Ne)}function handleBlurVisible(){Ss=!0,window.clearTimeout(Es),Es=window.setTimeout((function(){Ss=!1}),100)}function useIsFocusVisible(){return{isFocusVisible:useIsFocusVisible_isFocusVisible,onBlurVisible:handleBlurVisible,ref:tt.useCallback((function(w){var Ne=nt.findDOMNode(w);null!=Ne&&function prepare(w){w.addEventListener("keydown",useIsFocusVisible_handleKeyDown,!0),w.addEventListener("mousedown",handlePointerDown,!0),w.addEventListener("pointerdown",handlePointerDown,!0),w.addEventListener("touchstart",handlePointerDown,!0),w.addEventListener("visibilitychange",handleVisibilityChange,!0)}(Ne.ownerDocument)}),[])}}var Ps=et(38),As=et(69),zs=rt.a.createContext(null);function getChildMapping(w,Ne){var et=Object.create(null);return w&&tt.Children.map(w,(function(w){return w})).forEach((function(w){et[w.key]=function mapper(w){return Ne&&Object(tt.isValidElement)(w)?Ne(w):w}(w)})),et}function getProp(w,Ne,et){return null!=et[Ne]?et[Ne]:w.props[Ne]}function getNextChildMapping(w,Ne,et){var rt=getChildMapping(w.children),nt=function mergeChildMappings(w,Ne){function getValueForKey(et){return et in Ne?Ne[et]:w[et]}w=w||{},Ne=Ne||{};var et,tt=Object.create(null),rt=[];for(var nt in w)nt in Ne?rt.length&&(tt[nt]=rt,rt=[]):rt.push(nt);var it={};for(var ot in Ne){if(tt[ot])for(et=0;et<tt[ot].length;et++){var at=tt[ot][et];it[tt[ot][et]]=getValueForKey(at)}it[ot]=getValueForKey(ot)}for(et=0;et<rt.length;et++)it[rt[et]]=getValueForKey(rt[et]);return it}(Ne,rt);return Object.keys(nt).forEach((function(it){var ot=nt[it];if(Object(tt.isValidElement)(ot)){var at=it in Ne,st=it in rt,ct=Ne[it],pt=Object(tt.isValidElement)(ct)&&!ct.props.in;!st||at&&!pt?st||!at||pt?st&&at&&Object(tt.isValidElement)(ct)&&(nt[it]=Object(tt.cloneElement)(ot,{onExited:et.bind(null,ot),in:ct.props.in,exit:getProp(ot,"exit",w),enter:getProp(ot,"enter",w)})):nt[it]=Object(tt.cloneElement)(ot,{in:!1}):nt[it]=Object(tt.cloneElement)(ot,{onExited:et.bind(null,ot),in:!0,exit:getProp(ot,"exit",w),enter:getProp(ot,"enter",w)})}})),nt}var Ms=Object.values||function(w){return Object.keys(w).map((function(Ne){return w[Ne]}))},Ls=function(w){function TransitionGroup(Ne,et){var tt,rt=(tt=w.call(this,Ne,et)||this).handleExited.bind(Object(As.a)(tt));return tt.state={contextValue:{isMounting:!0},handleExited:rt,firstRender:!0},tt}Object(ot.a)(TransitionGroup,w);var Ne=TransitionGroup.prototype;return Ne.componentDidMount=function componentDidMount(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},Ne.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(w,Ne){var et,rt,nt=Ne.children,it=Ne.handleExited;return{children:Ne.firstRender?(et=w,rt=it,getChildMapping(et.children,(function(w){return Object(tt.cloneElement)(w,{onExited:rt.bind(null,w),in:!0,appear:getProp(w,"appear",et),enter:getProp(w,"enter",et),exit:getProp(w,"exit",et)})}))):getNextChildMapping(w,nt,it),firstRender:!1}},Ne.handleExited=function handleExited(w,Ne){var et=getChildMapping(this.props.children);w.key in et||(w.props.onExited&&w.props.onExited(Ne),this.mounted&&this.setState((function(Ne){var et=Object(ct.a)({},Ne.children);return delete et[w.key],{children:et}})))},Ne.render=function render(){var w=this.props,Ne=w.component,et=w.childFactory,tt=Object(Ot.a)(w,["component","childFactory"]),nt=this.state.contextValue,it=Ms(this.state.children).map(et);return delete tt.appear,delete tt.enter,delete tt.exit,null===Ne?rt.a.createElement(zs.Provider,{value:nt},it):rt.a.createElement(zs.Provider,{value:nt},rt.a.createElement(Ne,tt,it))},TransitionGroup}(rt.a.Component);Ls.propTypes={},Ls.defaultProps={component:"div",childFactory:function childFactory(w){return w}};var Rs=Ls,Os="undefined"==typeof window?tt.useEffect:tt.useLayoutEffect;var Fs=function Ripple(w){var Ne=w.classes,et=w.pulsate,rt=void 0!==et&&et,nt=w.rippleX,it=w.rippleY,ot=w.rippleSize,at=w.in,st=w.onExited,ct=void 0===st?function(){}:st,pt=w.timeout,ft=tt.useState(!1),dt=ft[0],mt=ft[1],yt=Object(_a.a)(Ne.ripple,Ne.rippleVisible,rt&&Ne.ripplePulsate),vt={width:ot,height:ot,top:-ot/2+it,left:-ot/2+nt},Rt=Object(_a.a)(Ne.child,dt&&Ne.childLeaving,rt&&Ne.childPulsate),Ot=useEventCallback(ct);return Os((function(){if(!at){mt(!0);var w=setTimeout(Ot,pt);return function(){clearTimeout(w)}}}),[Ot,at,pt]),tt.createElement("span",{className:yt,style:vt},tt.createElement("span",{className:Rt}))},Bs=tt.forwardRef((function TouchRipple(w,Ne){var et=w.center,rt=void 0!==et&&et,nt=w.classes,it=w.className,ot=Object(ga.a)(w,["center","classes","className"]),at=tt.useState([]),st=at[0],pt=at[1],ft=tt.useRef(0),dt=tt.useRef(null);tt.useEffect((function(){dt.current&&(dt.current(),dt.current=null)}),[st]);var mt=tt.useRef(!1),yt=tt.useRef(null),vt=tt.useRef(null),Rt=tt.useRef(null);tt.useEffect((function(){return function(){clearTimeout(yt.current)}}),[]);var Ot=tt.useCallback((function(w){var Ne=w.pulsate,et=w.rippleX,rt=w.rippleY,it=w.rippleSize,ot=w.cb;pt((function(w){return[].concat(Object(Ps.a)(w),[tt.createElement(Fs,{key:ft.current,classes:nt,timeout:550,pulsate:Ne,rippleX:et,rippleY:rt,rippleSize:it})])})),ft.current+=1,dt.current=ot}),[nt]),Dt=tt.useCallback((function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=arguments.length>2?arguments[2]:void 0,tt=Ne.pulsate,nt=void 0!==tt&&tt,it=Ne.center,ot=void 0===it?rt||Ne.pulsate:it,at=Ne.fakeElement,st=void 0!==at&&at;if("mousedown"===w.type&&mt.current)mt.current=!1;else{"touchstart"===w.type&&(mt.current=!0);var ct,pt,ft,dt=st?null:Rt.current,Dt=dt?dt.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(ot||0===w.clientX&&0===w.clientY||!w.clientX&&!w.touches)ct=Math.round(Dt.width/2),pt=Math.round(Dt.height/2);else{var Bt=w.touches?w.touches[0]:w,er=Bt.clientX,rr=Bt.clientY;ct=Math.round(er-Dt.left),pt=Math.round(rr-Dt.top)}if(ot)(ft=Math.sqrt((2*Math.pow(Dt.width,2)+Math.pow(Dt.height,2))/3))%2==0&&(ft+=1);else{var vr=2*Math.max(Math.abs((dt?dt.clientWidth:0)-ct),ct)+2,wr=2*Math.max(Math.abs((dt?dt.clientHeight:0)-pt),pt)+2;ft=Math.sqrt(Math.pow(vr,2)+Math.pow(wr,2))}w.touches?null===vt.current&&(vt.current=function(){Ot({pulsate:nt,rippleX:ct,rippleY:pt,rippleSize:ft,cb:et})},yt.current=setTimeout((function(){vt.current&&(vt.current(),vt.current=null)}),80)):Ot({pulsate:nt,rippleX:ct,rippleY:pt,rippleSize:ft,cb:et})}}),[rt,Ot]),Bt=tt.useCallback((function(){Dt({},{pulsate:!0})}),[Dt]),er=tt.useCallback((function(w,Ne){if(clearTimeout(yt.current),"touchend"===w.type&&vt.current)return w.persist(),vt.current(),vt.current=null,void(yt.current=setTimeout((function(){er(w,Ne)})));vt.current=null,pt((function(w){return w.length>0?w.slice(1):w})),dt.current=Ne}),[]);return tt.useImperativeHandle(Ne,(function(){return{pulsate:Bt,start:Dt,stop:er}}),[Bt,Dt,er]),tt.createElement("span",Object(ct.a)({className:Object(_a.a)(nt.root,it),ref:Rt},ot),tt.createElement(Rs,{component:null,exit:!0},st))})),Ns=Object(la.a)((function styles(w){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(w.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(w.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(w.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(w.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(tt.memo(Bs)),js=tt.forwardRef((function ButtonBase(w,Ne){var et=w.action,rt=w.buttonRef,it=w.centerRipple,ot=void 0!==it&&it,at=w.children,st=w.classes,pt=w.className,ft=w.component,dt=void 0===ft?"button":ft,mt=w.disabled,yt=void 0!==mt&&mt,vt=w.disableRipple,Rt=void 0!==vt&&vt,Ot=w.disableTouchRipple,Dt=void 0!==Ot&&Ot,Bt=w.focusRipple,er=void 0!==Bt&&Bt,rr=w.focusVisibleClassName,vr=w.onBlur,wr=w.onClick,Sr=w.onFocus,rn=w.onFocusVisible,vn=w.onKeyDown,bn=w.onKeyUp,Tn=w.onMouseDown,Cn=w.onMouseLeave,In=w.onMouseUp,zn=w.onTouchEnd,Mn=w.onTouchMove,Ln=w.onTouchStart,Fn=w.onDragLeave,Bn=w.tabIndex,Nn=void 0===Bn?0:Bn,Vn=w.TouchRippleProps,Wn=w.type,$n=void 0===Wn?"button":Wn,Yn=Object(ga.a)(w,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),ii=tt.useRef(null);var qi=tt.useRef(null),uo=tt.useState(!1),po=uo[0],vo=uo[1];yt&&po&&vo(!1);var So=useIsFocusVisible(),ea=So.isFocusVisible,ta=So.onBlurVisible,ia=So.ref;function useRippleHandler(w,Ne){var et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt;return useEventCallback((function(tt){return Ne&&Ne(tt),!et&&qi.current&&qi.current[w](tt),!0}))}tt.useImperativeHandle(et,(function(){return{focusVisible:function focusVisible(){vo(!0),ii.current.focus()}}}),[]),tt.useEffect((function(){po&&er&&!Rt&&qi.current.pulsate()}),[Rt,er,po]);var sa=useRippleHandler("start",Tn),la=useRippleHandler("stop",Fn),fa=useRippleHandler("stop",In),Aa=useRippleHandler("stop",(function(w){po&&w.preventDefault(),Cn&&Cn(w)})),os=useRippleHandler("start",Ln),as=useRippleHandler("stop",zn),ss=useRippleHandler("stop",Mn),ls=useRippleHandler("stop",(function(w){po&&(ta(w),vo(!1)),vr&&vr(w)}),!1),us=useEventCallback((function(w){ii.current||(ii.current=w.currentTarget),ea(w)&&(vo(!0),rn&&rn(w)),Sr&&Sr(w)})),fs=function isNonNativeButton(){var w=function getButtonNode(){return nt.findDOMNode(ii.current)}();return dt&&"button"!==dt&&!("A"===w.tagName&&w.href)},gs=tt.useRef(!1),vs=useEventCallback((function(w){er&&!gs.current&&po&&qi.current&&" "===w.key&&(gs.current=!0,w.persist(),qi.current.stop(w,(function(){qi.current.start(w)}))),w.target===w.currentTarget&&fs()&&" "===w.key&&w.preventDefault(),vn&&vn(w),w.target===w.currentTarget&&fs()&&"Enter"===w.key&&!yt&&(w.preventDefault(),wr&&wr(w))})),xs=useEventCallback((function(w){er&&" "===w.key&&qi.current&&po&&!w.defaultPrevented&&(gs.current=!1,w.persist(),qi.current.stop(w,(function(){qi.current.pulsate(w)}))),bn&&bn(w),wr&&w.target===w.currentTarget&&fs()&&" "===w.key&&!w.defaultPrevented&&wr(w)})),Ss=dt;"button"===Ss&&Yn.href&&(Ss="a");var Es={};"button"===Ss?(Es.type=$n,Es.disabled=yt):("a"===Ss&&Yn.href||(Es.role="button"),Es["aria-disabled"]=yt);var Cs=useForkRef(rt,Ne),Ps=useForkRef(ia,ii),As=useForkRef(Cs,Ps),zs=tt.useState(!1),Ms=zs[0],Ls=zs[1];tt.useEffect((function(){Ls(!0)}),[]);var Rs=Ms&&!Rt&&!yt;return tt.createElement(Ss,Object(ct.a)({className:Object(_a.a)(st.root,pt,po&&[st.focusVisible,rr],yt&&st.disabled),onBlur:ls,onClick:wr,onFocus:us,onKeyDown:vs,onKeyUp:xs,onMouseDown:sa,onMouseLeave:Aa,onMouseUp:fa,onDragLeave:la,onTouchEnd:as,onTouchMove:ss,onTouchStart:os,ref:As,tabIndex:yt?-1:Nn},Es,Yn),at,Rs?tt.createElement(Ns,Object(ct.a)({ref:qi,center:ot},Vn)):null)})),Vs=Object(la.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(js);function isMuiElement(w,Ne){return tt.isValidElement(w)&&-1!==Ne.indexOf(w.type.muiName)}var Us="undefined"==typeof window?tt.useEffect:tt.useLayoutEffect,Zs=tt.forwardRef((function ListItem(w,Ne){var et=w.alignItems,rt=void 0===et?"center":et,it=w.autoFocus,ot=void 0!==it&&it,at=w.button,st=void 0!==at&&at,pt=w.children,ft=w.classes,dt=w.className,mt=w.component,yt=w.ContainerComponent,vt=void 0===yt?"li":yt,Rt=w.ContainerProps,Ot=(Rt=void 0===Rt?{}:Rt).className,Dt=Object(ga.a)(Rt,["className"]),Bt=w.dense,er=void 0!==Bt&&Bt,rr=w.disabled,vr=void 0!==rr&&rr,wr=w.disableGutters,Sr=void 0!==wr&&wr,rn=w.divider,vn=void 0!==rn&&rn,bn=w.focusVisibleClassName,Tn=w.selected,Cn=void 0!==Tn&&Tn,In=Object(ga.a)(w,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),zn=tt.useContext(us),Mn={dense:er||zn.dense||!1,alignItems:rt},Ln=tt.useRef(null);Us((function(){ot&&Ln.current&&Ln.current.focus()}),[ot]);var Fn=tt.Children.toArray(pt),Bn=Fn.length&&isMuiElement(Fn[Fn.length-1],["ListItemSecondaryAction"]),Nn=useForkRef(tt.useCallback((function(w){Ln.current=nt.findDOMNode(w)}),[]),Ne),Vn=Object(ct.a)({className:Object(_a.a)(ft.root,dt,Mn.dense&&ft.dense,!Sr&&ft.gutters,vn&&ft.divider,vr&&ft.disabled,st&&ft.button,"center"!==rt&&ft.alignItemsFlexStart,Bn&&ft.secondaryAction,Cn&&ft.selected),disabled:vr},In),Wn=mt||"li";return st&&(Vn.component=mt||"div",Vn.focusVisibleClassName=Object(_a.a)(ft.focusVisible,bn),Wn=Vs),Bn?(Wn=Vn.component||mt?Wn:"div","li"===vt&&("li"===Wn?Wn="div":"li"===Vn.component&&(Vn.component="div")),tt.createElement(us.Provider,{value:Mn},tt.createElement(vt,Object(ct.a)({className:Object(_a.a)(ft.container,Ot),ref:Nn},Dt),tt.createElement(Wn,Vn,Fn),Fn.pop()))):tt.createElement(us.Provider,{value:Mn},tt.createElement(Wn,Object(ct.a)({ref:Nn},Vn),Fn))})),Js=Object(la.a)((function styles(w){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:w.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:w.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(w.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:w.transitions.create("background-color",{duration:w.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:w.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(Zs),tl={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},ol=tt.forwardRef((function Typography(w,Ne){var et=w.align,rt=void 0===et?"inherit":et,nt=w.classes,it=w.className,ot=w.color,at=void 0===ot?"initial":ot,st=w.component,pt=w.display,ft=void 0===pt?"initial":pt,dt=w.gutterBottom,mt=void 0!==dt&&dt,yt=w.noWrap,vt=void 0!==yt&&yt,Rt=w.paragraph,Ot=void 0!==Rt&&Rt,Dt=w.variant,Bt=void 0===Dt?"body1":Dt,er=w.variantMapping,rr=void 0===er?tl:er,vr=Object(ga.a)(w,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),wr=st||(Ot?"p":rr[Bt]||tl[Bt])||"span";return tt.createElement(wr,Object(ct.a)({className:Object(_a.a)(nt.root,it,"inherit"!==Bt&&nt[Bt],"initial"!==at&&nt["color".concat(Object(Aa.a)(at))],vt&&nt.noWrap,mt&&nt.gutterBottom,Ot&&nt.paragraph,"inherit"!==rt&&nt["align".concat(Object(Aa.a)(rt))],"initial"!==ft&&nt["display".concat(Object(Aa.a)(ft))]),ref:Ne},vr))})),sl=Object(la.a)((function styles(w){return{root:{margin:0},body2:w.typography.body2,body1:w.typography.body1,caption:w.typography.caption,button:w.typography.button,h1:w.typography.h1,h2:w.typography.h2,h3:w.typography.h3,h4:w.typography.h4,h5:w.typography.h5,h6:w.typography.h6,subtitle1:w.typography.subtitle1,subtitle2:w.typography.subtitle2,overline:w.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:w.palette.primary.main},colorSecondary:{color:w.palette.secondary.main},colorTextPrimary:{color:w.palette.text.primary},colorTextSecondary:{color:w.palette.text.secondary},colorError:{color:w.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(ol),dl=tt.forwardRef((function ListItemText(w,Ne){var et=w.children,rt=w.classes,nt=w.className,it=w.disableTypography,ot=void 0!==it&&it,at=w.inset,st=void 0!==at&&at,pt=w.primary,ft=w.primaryTypographyProps,dt=w.secondary,mt=w.secondaryTypographyProps,yt=Object(ga.a)(w,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),vt=tt.useContext(us).dense,Rt=null!=pt?pt:et;null==Rt||Rt.type===sl||ot||(Rt=tt.createElement(sl,Object(ct.a)({variant:vt?"body2":"body1",className:rt.primary,component:"span",display:"block"},ft),Rt));var Ot=dt;return null==Ot||Ot.type===sl||ot||(Ot=tt.createElement(sl,Object(ct.a)({variant:"body2",className:rt.secondary,color:"textSecondary",display:"block"},mt),Ot)),tt.createElement("div",Object(ct.a)({className:Object(_a.a)(rt.root,nt,vt&&rt.dense,st&&rt.inset,Rt&&Ot&&rt.multiline),ref:Ne},yt),Rt,Ot)})),gl=Object(la.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(dl),yl=et(21),vl=!1,_l=function(w){function Transition(Ne,et){var tt;tt=w.call(this,Ne,et)||this;var rt,nt=et&&!et.isMounting?Ne.enter:Ne.appear;return tt.appearStatus=null,Ne.in?nt?(rt="exited",tt.appearStatus="entering"):rt="entered":rt=Ne.unmountOnExit||Ne.mountOnEnter?"unmounted":"exited",tt.state={status:rt},tt.nextCallback=null,tt}Object(ot.a)(Transition,w),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(w,Ne){return w.in&&"unmounted"===Ne.status?{status:"exited"}:null};var Ne=Transition.prototype;return Ne.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},Ne.componentDidUpdate=function componentDidUpdate(w){var Ne=null;if(w!==this.props){var et=this.state.status;this.props.in?"entering"!==et&&"entered"!==et&&(Ne="entering"):"entering"!==et&&"entered"!==et||(Ne="exiting")}this.updateStatus(!1,Ne)},Ne.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},Ne.getTimeouts=function getTimeouts(){var w,Ne,et,tt=this.props.timeout;return w=Ne=et=tt,null!=tt&&"number"!=typeof tt&&(w=tt.exit,Ne=tt.enter,et=void 0!==tt.appear?tt.appear:Ne),{exit:w,enter:Ne,appear:et}},Ne.updateStatus=function updateStatus(w,Ne){void 0===w&&(w=!1),null!==Ne?(this.cancelNextCallback(),"entering"===Ne?this.performEnter(w):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},Ne.performEnter=function performEnter(w){var Ne=this,et=this.props.enter,tt=this.context?this.context.isMounting:w,rt=this.props.nodeRef?[tt]:[it.a.findDOMNode(this),tt],nt=rt[0],ot=rt[1],at=this.getTimeouts(),st=tt?at.appear:at.enter;!w&&!et||vl?this.safeSetState({status:"entered"},(function(){Ne.props.onEntered(nt)})):(this.props.onEnter(nt,ot),this.safeSetState({status:"entering"},(function(){Ne.props.onEntering(nt,ot),Ne.onTransitionEnd(st,(function(){Ne.safeSetState({status:"entered"},(function(){Ne.props.onEntered(nt,ot)}))}))})))},Ne.performExit=function performExit(){var w=this,Ne=this.props.exit,et=this.getTimeouts(),tt=this.props.nodeRef?void 0:it.a.findDOMNode(this);Ne&&!vl?(this.props.onExit(tt),this.safeSetState({status:"exiting"},(function(){w.props.onExiting(tt),w.onTransitionEnd(et.exit,(function(){w.safeSetState({status:"exited"},(function(){w.props.onExited(tt)}))}))}))):this.safeSetState({status:"exited"},(function(){w.props.onExited(tt)}))},Ne.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},Ne.safeSetState=function safeSetState(w,Ne){Ne=this.setNextCallback(Ne),this.setState(w,Ne)},Ne.setNextCallback=function setNextCallback(w){var Ne=this,et=!0;return this.nextCallback=function(tt){et&&(et=!1,Ne.nextCallback=null,w(tt))},this.nextCallback.cancel=function(){et=!1},this.nextCallback},Ne.onTransitionEnd=function onTransitionEnd(w,Ne){this.setNextCallback(Ne);var et=this.props.nodeRef?this.props.nodeRef.current:it.a.findDOMNode(this),tt=null==w&&!this.props.addEndListener;if(et&&!tt){if(this.props.addEndListener){var rt=this.props.nodeRef?[this.nextCallback]:[et,this.nextCallback],nt=rt[0],ot=rt[1];this.props.addEndListener(nt,ot)}null!=w&&setTimeout(this.nextCallback,w)}else setTimeout(this.nextCallback,0)},Ne.render=function render(){var w=this.state.status;if("unmounted"===w)return null;var Ne=this.props,et=Ne.children,tt=(Ne.in,Ne.mountOnEnter,Ne.unmountOnExit,Ne.appear,Ne.enter,Ne.exit,Ne.timeout,Ne.addEndListener,Ne.onEnter,Ne.onEntering,Ne.onEntered,Ne.onExit,Ne.onExiting,Ne.onExited,Ne.nodeRef,Object(Ot.a)(Ne,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return rt.a.createElement(zs.Provider,{value:null},"function"==typeof et?et(w,tt):rt.a.cloneElement(rt.a.Children.only(et),tt))},Transition}(rt.a.Component);function Transition_noop(){}_l.contextType=zs,_l.propTypes={},_l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Transition_noop,onEntering:Transition_noop,onEntered:Transition_noop,onExit:Transition_noop,onExiting:Transition_noop,onExited:Transition_noop},_l.UNMOUNTED="unmounted",_l.EXITED="exited",_l.ENTERING="entering",_l.ENTERED="entered",_l.EXITING="exiting";var bl=_l,xl=et(80);function getTransitionProps(w,Ne){var et=w.timeout,tt=w.style,rt=void 0===tt?{}:tt;return{duration:rt.transitionDuration||"number"==typeof et?et:et[Ne.mode]||0,delay:rt.transitionDelay}}var wl=et(281),kl=et(81);function useTheme_useTheme(){return Object(wl.a)()||kl.a}var Sl=tt.forwardRef((function Collapse(w,Ne){var et=w.children,rt=w.classes,nt=w.className,it=w.collapsedHeight,ot=void 0===it?"0px":it,at=w.component,st=void 0===at?"div":at,pt=w.disableStrictModeCompat,ft=void 0!==pt&&pt,dt=w.in,mt=w.onEnter,yt=w.onEntered,vt=w.onEntering,Rt=w.onExit,Ot=w.onExited,Dt=w.onExiting,Bt=w.style,er=w.timeout,rr=void 0===er?xl.b.standard:er,vr=w.TransitionComponent,wr=void 0===vr?bl:vr,Sr=Object(ga.a)(w,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),rn=useTheme_useTheme(),vn=tt.useRef(),bn=tt.useRef(null),Tn=tt.useRef(),Cn="number"==typeof ot?"".concat(ot,"px"):ot;tt.useEffect((function(){return function(){clearTimeout(vn.current)}}),[]);var In=rn.unstable_strictMode&&!ft,zn=tt.useRef(null),Mn=useForkRef(Ne,In?zn:void 0),Ln=function normalizedTransitionCallback(w){return function(Ne,et){if(w){var tt=In?[zn.current,Ne]:[Ne,et],rt=Object(yl.a)(tt,2),nt=rt[0],it=rt[1];void 0===it?w(nt):w(nt,it)}}},Fn=Ln((function(w,Ne){w.style.height=Cn,mt&&mt(w,Ne)})),Bn=Ln((function(w,Ne){var et=bn.current?bn.current.clientHeight:0,tt=getTransitionProps({style:Bt,timeout:rr},{mode:"enter"}).duration;if("auto"===rr){var rt=rn.transitions.getAutoHeightDuration(et);w.style.transitionDuration="".concat(rt,"ms"),Tn.current=rt}else w.style.transitionDuration="string"==typeof tt?tt:"".concat(tt,"ms");w.style.height="".concat(et,"px"),vt&&vt(w,Ne)})),Nn=Ln((function(w,Ne){w.style.height="auto",yt&&yt(w,Ne)})),Vn=Ln((function(w){var Ne=bn.current?bn.current.clientHeight:0;w.style.height="".concat(Ne,"px"),Rt&&Rt(w)})),Wn=Ln(Ot),$n=Ln((function(w){var Ne=bn.current?bn.current.clientHeight:0,et=getTransitionProps({style:Bt,timeout:rr},{mode:"exit"}).duration;if("auto"===rr){var tt=rn.transitions.getAutoHeightDuration(Ne);w.style.transitionDuration="".concat(tt,"ms"),Tn.current=tt}else w.style.transitionDuration="string"==typeof et?et:"".concat(et,"ms");w.style.height=Cn,Dt&&Dt(w)}));return tt.createElement(wr,Object(ct.a)({in:dt,onEnter:Fn,onEntered:Nn,onEntering:Bn,onExit:Vn,onExited:Wn,onExiting:$n,addEndListener:function addEndListener(w,Ne){var et=In?w:Ne;"auto"===rr&&(vn.current=setTimeout(et,Tn.current||0))},nodeRef:In?zn:void 0,timeout:"auto"===rr?null:rr},Sr),(function(w,Ne){return tt.createElement(st,Object(ct.a)({className:Object(_a.a)(rt.container,nt,{entered:rt.entered,exited:!dt&&"0px"===Cn&&rt.hidden}[w]),style:Object(ct.a)({minHeight:Cn},Bt),ref:Mn},Ne),tt.createElement("div",{className:rt.wrapper,ref:bn},tt.createElement("div",{className:rt.wrapperInner},et)))}))}));Sl.muiSupportAuto=!0;var Cl=Object(la.a)((function styles(w){return{container:{height:0,overflow:"hidden",transition:w.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(Sl),Il=et(7),Al=tt.forwardRef((function IconButton(w,Ne){var et=w.edge,rt=void 0!==et&&et,nt=w.children,it=w.classes,ot=w.className,at=w.color,st=void 0===at?"default":at,pt=w.disabled,ft=void 0!==pt&&pt,dt=w.disableFocusRipple,mt=void 0!==dt&&dt,yt=w.size,vt=void 0===yt?"medium":yt,Rt=Object(ga.a)(w,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return tt.createElement(Vs,Object(ct.a)({className:Object(_a.a)(it.root,ot,"default"!==st&&it["color".concat(Object(Aa.a)(st))],ft&&it.disabled,"small"===vt&&it["size".concat(Object(Aa.a)(vt))],{start:it.edgeStart,end:it.edgeEnd}[rt]),centerRipple:!0,focusRipple:!mt,disabled:ft,ref:Ne},Rt),tt.createElement("span",{className:it.label},nt))})),zl=Object(la.a)((function styles(w){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:w.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:w.palette.action.active,transition:w.transitions.create("background-color",{duration:w.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(Il.c)(w.palette.action.active,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:w.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:w.palette.primary.main,"&:hover":{backgroundColor:Object(Il.c)(w.palette.primary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:w.palette.secondary.main,"&:hover":{backgroundColor:Object(Il.c)(w.palette.secondary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:w.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(Al),Fl=tt.forwardRef((function ListItemSecondaryAction(w,Ne){var et=w.classes,rt=w.className,nt=Object(ga.a)(w,["classes","className"]);return tt.createElement("div",Object(ct.a)({className:Object(_a.a)(et.root,rt),ref:Ne},nt))}));Fl.muiName="ListItemSecondaryAction";var Hl=Object(la.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(Fl),du=et(39),vu=et.n(du),_u=et(40),wu=et.n(_u);var Tu={Uganda:{src:"/assets/uganda_outline.png",alt:"Uganda outline",href:"/cwp-epu-data-platform/map?zoom=7&lng=32.37&lat=1.313"},Ethiopia:{src:"/assets/ethiopia_outline.png",alt:"Ethiopia outline",href:"/cwp-epu-data-platform/map?zoom=5.82&lng=40.25&lat=8.83"},Tanzania:{src:"/assets/tanzania_outline.png",alt:"Tanzania outline",href:"/cwp-epu-data-platform/map?zoom=6.20&lng=34.55&lat=-6.40"}};function Explore_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}const Fu=Object(la.a)(w=>({root:{width:"100%",maxWidth:400,backgroundColor:w.palette.background.paper},nested:{paddingLeft:w.spacing(4)}}))(w=>{const{group:{regionGroup:Ne,regions:et},onToggleRegionIsCollapsed:tt,onSelectRegion:nt,regionIsCollapsed:it,classes:ot}=w;return rt.a.createElement(gs,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:rt.a.createElement(ls,{component:"div",id:"nested-list-subheader"},Ne),className:ot.root},et.sort((w,Ne)=>w.name.localeCompare(Ne.name)).map(w=>{const{name:et,regions:at=[]}=w,st=it[Ne][et];return rt.a.createElement(rt.a.Fragment,{key:`${Ne}_${et}`},rt.a.createElement(Js,{button:!0,onClick:()=>nt(w)},rt.a.createElement(gl,{primary:et}),rt.a.createElement(Hl,null,!!at.length&&rt.a.createElement(zl,{edge:"end","aria-label":"comments",onClick:()=>tt(Ne,et)},st?rt.a.createElement(vu.a,null):rt.a.createElement(wu.a,null)))),rt.a.createElement(Cl,{in:st,timeout:"auto",unmountOnExit:!0},rt.a.createElement(gs,{component:"div",disablePadding:!0,dense:!0},at.sort((w,Ne)=>w.name.localeCompare(Ne.name)).map(w=>rt.a.createElement(Js,{key:`${Ne}_${et}_${w.name}`,button:!0,className:ot.nested,onClick:()=>nt(w)},rt.a.createElement(gl,{primary:w.name}))))))}))}),ac=Object(la.a)({root:{color:fa.a[300]}})(w=>rt.a.createElement(as,{size:30,...w}));function formatData(w){const Ne=[];let et={};for(const tt of w){const{regionGroup:w}=tt;void 0===et[w]&&(et[w]=Ne.length,Ne.push([])),Ne[et[w]].push(tt)}return Ne.map(w=>(w.sort((w,Ne)=>Ne.hierarchyIndex-w.hierarchyIndex),function nestRegions(w){const Ne=w[0],et=w[1];if(w.length<2)return Ne.regions=Ne.regions.map(w=>({...w,regionLevel:Ne.regionLevel,hierarchyIndex:Ne.hierarchyIndex,regionGroup:Ne.regionGroup})),Ne;et.regions=et.regions.map(w=>({...w,regionLevel:et.regionLevel,hierarchyIndex:et.hierarchyIndex,regionGroup:et.regionGroup,regions:[]}));const tt={};return et.regions.forEach((w,Ne)=>{const et=w.name.toLowerCase();tt[et]||(tt[et]=Ne)}),Ne.regions.forEach(w=>{const rt=w.parent?w.parent.toLowerCase():null;rt&&void 0!==tt[rt]?et.regions[tt[rt]].regions.push({...w,regionLevel:Ne.regionLevel,hierarchyIndex:Ne.hierarchyIndex,regionGroup:Ne.regionGroup}):console.error(`Region (${w.name}) does not have a parent or parent (${rt}) was not found in higher level regions`)}),w.splice(0,1),nestRegions(w)}(w)))}class Explore_Explore extends tt.Component{constructor(w){super(w),Explore_defineProperty(this,"loadAdminRegions",async()=>{this.setState({isLoading:!0});const w=formatData(await Promise.all(sa.filter(({showOnHome:w})=>w).map(async w=>{const{name:Ne,label:et,hierarchyIndex:tt}=w;return{regionLevel:Ne,regionGroup:et,hierarchyIndex:tt,regions:(await w.fetchMetadata()).map(({properties:w})=>({name:w.regionName,parent:w.parentRegionName,bbox:w.bbox}))}}))),Ne={};for(const et of w){Ne[et.regionGroup]={};for(const w of et.regions)Ne[et.regionGroup][w.name]=!1}this.setState({regionGroups:w,regionIsCollapsed:Ne,isLoading:!1})}),Explore_defineProperty(this,"handleToggleRegionIsCollapsed",(w,Ne)=>{const{regionIsCollapsed:et}=this.state,tt=et[w][Ne],rt={...et,[w]:{...et[w],[Ne]:!tt}};this.setState({regionIsCollapsed:rt})}),Explore_defineProperty(this,"handleSelectRegion",w=>{const{history:Ne}=this.props,{regionGroup:et,regionLevel:tt,name:rt,bbox:nt}=w,it=`/cwp-epu-data-platform/map?&bbox=${nt}&region=${encodeURIComponent(rt)}&adminLayer_${encodeURIComponent(et)}=${encodeURIComponent(tt)}`;Ne.push(it)}),Explore_defineProperty(this,"renderAdminRegions",()=>{const{regionGroups:w,regionIsCollapsed:Ne,isLoading:et}=this.state;return et?rt.a.createElement("div",{className:Wn.loadingWrapper},rt.a.createElement(ac,null)):w.map(({regionGroup:w,regions:et})=>rt.a.createElement("div",{key:w,className:Wn.regionWrapper},rt.a.createElement("div",{className:Wn.imageWrapper},rt.a.createElement("img",{width:100,height:100,src:"/cwp-epu-data-platform"+(Tu[w]||{}).src,alt:(Tu[w]||{}).alt,onClick:()=>{const{history:Ne}=this.props;Ne.push(Tu[w].href)}})),rt.a.createElement("div",{className:Wn.listWrapper},rt.a.createElement(Fu,{group:{regionGroup:w,regions:et},regionIsCollapsed:Ne,onToggleRegionIsCollapsed:this.handleToggleRegionIsCollapsed,onSelectRegion:this.handleSelectRegion}))))}),this.state={isLoading:!1,regionGroups:[],regionIsCollapsed:{}}}componentDidMount(){this.loadAdminRegions()}render(){return rt.a.createElement("div",{className:Wn.exploreWrapper},this.renderAdminRegions())}}var pc=withRouter(Explore_Explore),yc=(et(245),et(65)),_c=et(161),bc=tt.forwardRef((function FormGroup(w,Ne){var et=w.classes,rt=w.className,nt=w.row,it=void 0!==nt&&nt,ot=Object(ga.a)(w,["classes","className","row"]);return tt.createElement("div",Object(ct.a)({className:Object(_a.a)(et.root,rt,it&&et.row),ref:Ne},ot))})),xc=Object(la.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(bc);function hasValue(w){return null!=w&&!(Array.isArray(w)&&0===w.length)}var wc=tt.createContext();var kc=wc,Ec=tt.forwardRef((function FormControl(w,Ne){var et=w.children,rt=w.classes,nt=w.className,it=w.color,ot=void 0===it?"primary":it,at=w.component,st=void 0===at?"div":at,pt=w.disabled,ft=void 0!==pt&&pt,dt=w.error,mt=void 0!==dt&&dt,yt=w.fullWidth,vt=void 0!==yt&&yt,Rt=w.focused,Ot=w.hiddenLabel,Dt=void 0!==Ot&&Ot,Bt=w.margin,er=void 0===Bt?"none":Bt,rr=w.required,vr=void 0!==rr&&rr,wr=w.size,Sr=w.variant,rn=void 0===Sr?"standard":Sr,vn=Object(ga.a)(w,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),bn=tt.useState((function(){var w=!1;return et&&tt.Children.forEach(et,(function(Ne){if(isMuiElement(Ne,["Input","Select"])){var et=isMuiElement(Ne,["Select"])?Ne.props.input:Ne;et&&function isAdornedStart(w){return w.startAdornment}(et.props)&&(w=!0)}})),w})),Tn=bn[0],Cn=bn[1],In=tt.useState((function(){var w=!1;return et&&tt.Children.forEach(et,(function(Ne){isMuiElement(Ne,["Input","Select"])&&function isFilled(w){var Ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return w&&(hasValue(w.value)&&""!==w.value||Ne&&hasValue(w.defaultValue)&&""!==w.defaultValue)}(Ne.props,!0)&&(w=!0)})),w})),zn=In[0],Mn=In[1],Ln=tt.useState(!1),Fn=Ln[0],Bn=Ln[1],Nn=void 0!==Rt?Rt:Fn;ft&&Nn&&Bn(!1);var Vn=tt.useCallback((function(){Mn(!0)}),[]),Wn={adornedStart:Tn,setAdornedStart:Cn,color:ot,disabled:ft,error:mt,filled:zn,focused:Nn,fullWidth:vt,hiddenLabel:Dt,margin:("small"===wr?"dense":void 0)||er,onBlur:function onBlur(){Bn(!1)},onEmpty:tt.useCallback((function(){Mn(!1)}),[]),onFilled:Vn,onFocus:function onFocus(){Bn(!0)},registerEffect:void 0,required:vr,variant:rn};return tt.createElement(kc.Provider,{value:Wn},tt.createElement(st,Object(ct.a)({className:Object(_a.a)(rt.root,nt,"none"!==er&&rt["margin".concat(Object(Aa.a)(er))],vt&&rt.fullWidth),ref:Ne},vn),et))})),Cc=Object(la.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Ec);function useFormControl_useFormControl(){return tt.useContext(kc)}var Ic=tt.forwardRef((function FormControlLabel(w,Ne){w.checked;var et=w.classes,rt=w.className,nt=w.control,it=w.disabled,ot=(w.inputRef,w.label),at=w.labelPlacement,st=void 0===at?"end":at,pt=(w.name,w.onChange,w.value,Object(ga.a)(w,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),ft=useFormControl_useFormControl(),dt=it;void 0===dt&&void 0!==nt.props.disabled&&(dt=nt.props.disabled),void 0===dt&&ft&&(dt=ft.disabled);var mt={disabled:dt};return["checked","name","onChange","value","inputRef"].forEach((function(Ne){void 0===nt.props[Ne]&&void 0!==w[Ne]&&(mt[Ne]=w[Ne])})),tt.createElement("label",Object(ct.a)({className:Object(_a.a)(et.root,rt,"end"!==st&&et["labelPlacement".concat(Object(Aa.a)(st))],dt&&et.disabled),ref:Ne},pt),tt.cloneElement(nt,mt),tt.createElement(sl,{component:"span",className:Object(_a.a)(et.label,dt&&et.disabled)},ot))})),Ac=Object(la.a)((function styles(w){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:w.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(Ic);var zc=tt.forwardRef((function FormHelperText(w,Ne){var et=w.children,rt=w.classes,nt=w.className,it=w.component,ot=void 0===it?"p":it,at=(w.disabled,w.error,w.filled,w.focused,w.margin,w.required,w.variant,Object(ga.a)(w,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),st=function formControlState(w){var Ne=w.props,et=w.states,tt=w.muiFormControl;return et.reduce((function(w,et){return w[et]=Ne[et],tt&&void 0===Ne[et]&&(w[et]=tt[et]),w}),{})}({props:w,muiFormControl:useFormControl_useFormControl(),states:["variant","margin","disabled","error","filled","focused","required"]});return tt.createElement(ot,Object(ct.a)({className:Object(_a.a)(rt.root,("filled"===st.variant||"outlined"===st.variant)&&rt.contained,nt,st.disabled&&rt.disabled,st.error&&rt.error,st.filled&&rt.filled,st.focused&&rt.focused,st.required&&rt.required,"dense"===st.margin&&rt.marginDense),ref:Ne},at)," "===et?tt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):et)})),Dc=Object(la.a)((function styles(w){return{root:Object(ct.a)({color:w.palette.text.secondary},w.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:w.palette.text.disabled},"&$error":{color:w.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(zc);function useControlled(w){var Ne=w.controlled,et=w.default,rt=(w.name,w.state,tt.useRef(void 0!==Ne).current),nt=tt.useState(et),it=nt[0],ot=nt[1];return[rt?Ne:it,tt.useCallback((function(w){rt||ot(w)}),[])]}var Fc=tt.forwardRef((function SwitchBase(w,Ne){var et=w.autoFocus,rt=w.checked,nt=w.checkedIcon,it=w.classes,ot=w.className,at=w.defaultChecked,st=w.disabled,pt=w.icon,ft=w.id,dt=w.inputProps,mt=w.inputRef,yt=w.name,vt=w.onBlur,Rt=w.onChange,Ot=w.onFocus,Dt=w.readOnly,Bt=w.required,er=w.tabIndex,rr=w.type,vr=w.value,wr=Object(ga.a)(w,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),Sr=useControlled({controlled:rt,default:Boolean(at),name:"SwitchBase",state:"checked"}),rn=Object(yl.a)(Sr,2),vn=rn[0],bn=rn[1],Tn=useFormControl_useFormControl(),Cn=st;Tn&&void 0===Cn&&(Cn=Tn.disabled);var In="checkbox"===rr||"radio"===rr;return tt.createElement(zl,Object(ct.a)({component:"span",className:Object(_a.a)(it.root,ot,vn&&it.checked,Cn&&it.disabled),disabled:Cn,tabIndex:null,role:void 0,onFocus:function handleFocus(w){Ot&&Ot(w),Tn&&Tn.onFocus&&Tn.onFocus(w)},onBlur:function handleBlur(w){vt&&vt(w),Tn&&Tn.onBlur&&Tn.onBlur(w)},ref:Ne},wr),tt.createElement("input",Object(ct.a)({autoFocus:et,checked:rt,defaultChecked:at,className:it.input,disabled:Cn,id:In&&ft,name:yt,onChange:function handleInputChange(w){var Ne=w.target.checked;bn(Ne),Rt&&Rt(w,Ne)},readOnly:Dt,ref:mt,required:Bt,tabIndex:er,type:rr,value:vr},dt)),vn?nt:pt)})),Bc=Object(la.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Fc),Wc=tt.forwardRef((function Switch(w,Ne){var et=w.classes,rt=w.className,nt=w.color,it=void 0===nt?"secondary":nt,ot=w.edge,at=void 0!==ot&&ot,st=w.size,pt=void 0===st?"medium":st,ft=Object(ga.a)(w,["classes","className","color","edge","size"]),dt=tt.createElement("span",{className:et.thumb});return tt.createElement("span",{className:Object(_a.a)(et.root,rt,{start:et.edgeStart,end:et.edgeEnd}[at],"small"===pt&&et["size".concat(Object(Aa.a)(pt))])},tt.createElement(Bc,Object(ct.a)({type:"checkbox",icon:dt,checkedIcon:dt,classes:{root:Object(_a.a)(et.switchBase,et["color".concat(Object(Aa.a)(it))]),input:et.input,checked:et.checked,disabled:et.disabled},ref:Ne},ft)),tt.createElement("span",{className:et.track}))})),Gc=Object(la.a)((function styles(w){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===w.palette.type?w.palette.grey[50]:w.palette.grey[400],transition:w.transitions.create(["left","transform"],{duration:w.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===w.palette.type?w.palette.grey[400]:w.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===w.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:w.palette.primary.main,"&:hover":{backgroundColor:Object(Il.c)(w.palette.primary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===w.palette.type?w.palette.grey[400]:w.palette.grey[800]},"&$checked + $track":{backgroundColor:w.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===w.palette.type?w.palette.common.black:w.palette.common.white}},colorSecondary:{"&$checked":{color:w.palette.secondary.main,"&:hover":{backgroundColor:Object(Il.c)(w.palette.secondary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===w.palette.type?w.palette.grey[400]:w.palette.grey[800]},"&$checked + $track":{backgroundColor:w.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===w.palette.type?w.palette.common.black:w.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:w.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:w.transitions.create(["opacity","background-color"],{duration:w.transitions.duration.shortest}),backgroundColor:"light"===w.palette.type?w.palette.common.black:w.palette.common.white,opacity:"light"===w.palette.type?.38:.3}}}),{name:"MuiSwitch"})(Wc),Zc=et(158);function createSvgIcon(w,Ne){var et=function Component(Ne,et){return rt.a.createElement(Zc.a,Object(ct.a)({ref:et},Ne),w)};return et.muiName=Zc.a.muiName,rt.a.memo(rt.a.forwardRef(et))}var Hc=createSvgIcon(tt.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),$c=createSvgIcon(tt.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}));var Xc=Object(la.a)((function styles(w){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:w.transitions.create("transform",{easing:w.transitions.easing.easeOut,duration:w.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:w.transitions.create("transform",{easing:w.transitions.easing.easeIn,duration:w.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function RadioButtonIcon(w){var Ne=w.checked,et=w.classes,rt=w.fontSize;return tt.createElement("div",{className:Object(_a.a)(et.root,Ne&&et.checked)},tt.createElement(Hc,{fontSize:rt}),tt.createElement($c,{fontSize:rt,className:et.layer}))}));function createChainedFunction(){for(var w=arguments.length,Ne=new Array(w),et=0;et<w;et++)Ne[et]=arguments[et];return Ne.reduce((function(w,Ne){return null==Ne?w:function chainedFunction(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];w.apply(this,tt),Ne.apply(this,tt)}}),(function(){}))}var Yc=tt.createContext();var rp=tt.createElement(Xc,{checked:!0}),ip=tt.createElement(Xc,null),op=tt.forwardRef((function Radio(w,Ne){var et=w.checked,rt=w.classes,nt=w.color,it=void 0===nt?"secondary":nt,ot=w.name,at=w.onChange,st=w.size,pt=void 0===st?"medium":st,ft=Object(ga.a)(w,["checked","classes","color","name","onChange","size"]),dt=function useRadioGroup(){return tt.useContext(Yc)}(),mt=et,yt=createChainedFunction(at,dt&&dt.onChange),vt=ot;return dt&&(void 0===mt&&(mt=dt.value===w.value),void 0===vt&&(vt=dt.name)),tt.createElement(Bc,Object(ct.a)({color:it,type:"radio",icon:tt.cloneElement(ip,{fontSize:"small"===pt?"small":"default"}),checkedIcon:tt.cloneElement(rp,{fontSize:"small"===pt?"small":"default"}),classes:{root:Object(_a.a)(rt.root,rt["color".concat(Object(Aa.a)(it))]),checked:rt.checked,disabled:rt.disabled},name:vt,checked:mt,onChange:yt,ref:Ne},ft))})),ap=Object(la.a)((function styles(w){return{root:{color:w.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:w.palette.primary.main,"&:hover":{backgroundColor:Object(Il.c)(w.palette.primary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:w.palette.action.disabled}},colorSecondary:{"&$checked":{color:w.palette.secondary.main,"&:hover":{backgroundColor:Object(Il.c)(w.palette.secondary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:w.palette.action.disabled}}}}),{name:"MuiRadio"})(op);function useId(w){var Ne=tt.useState(w),et=Ne[0],rt=Ne[1],nt=w||et;return tt.useEffect((function(){null==et&&rt("mui-".concat(Math.round(1e5*Math.random())))}),[et]),nt}var sp=tt.forwardRef((function RadioGroup(w,Ne){var et=w.actions,rt=w.children,nt=w.name,it=w.value,ot=w.onChange,at=Object(ga.a)(w,["actions","children","name","value","onChange"]),st=tt.useRef(null),pt=useControlled({controlled:it,default:w.defaultValue,name:"RadioGroup"}),ft=Object(yl.a)(pt,2),dt=ft[0],mt=ft[1];tt.useImperativeHandle(et,(function(){return{focus:function focus(){var w=st.current.querySelector("input:not(:disabled):checked");w||(w=st.current.querySelector("input:not(:disabled)")),w&&w.focus()}}}),[]);var yt=useForkRef(Ne,st),vt=useId(nt);return tt.createElement(Yc.Provider,{value:{name:vt,onChange:function handleChange(w){mt(w.target.value),ot&&ot(w,w.target.value)},value:dt}},tt.createElement(xc,Object(ct.a)({role:"radiogroup",ref:yt},at),rt))})),lp=createSvgIcon(tt.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function isDeleteKeyboardEvent(w){return"Backspace"===w.key||"Delete"===w.key}var cp=tt.forwardRef((function Chip(w,Ne){var et=w.avatar,rt=w.classes,nt=w.className,it=w.clickable,ot=w.color,at=void 0===ot?"default":ot,st=w.component,pt=w.deleteIcon,ft=w.disabled,dt=void 0!==ft&&ft,mt=w.icon,yt=w.label,vt=w.onClick,Rt=w.onDelete,Ot=w.onKeyDown,Dt=w.onKeyUp,Bt=w.size,er=void 0===Bt?"medium":Bt,rr=w.variant,vr=void 0===rr?"default":rr,wr=Object(ga.a)(w,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),Sr=tt.useRef(null),rn=useForkRef(Sr,Ne),vn=function handleDeleteIconClick(w){w.stopPropagation(),Rt&&Rt(w)},bn=!(!1===it||!vt)||it,Tn="small"===er,Cn=st||(bn?Vs:"div"),In=Cn===Vs?{component:"div"}:{},zn=null;if(Rt){var Mn=Object(_a.a)("default"!==at&&("default"===vr?rt["deleteIconColor".concat(Object(Aa.a)(at))]:rt["deleteIconOutlinedColor".concat(Object(Aa.a)(at))]),Tn&&rt.deleteIconSmall);zn=pt&&tt.isValidElement(pt)?tt.cloneElement(pt,{className:Object(_a.a)(pt.props.className,rt.deleteIcon,Mn),onClick:vn}):tt.createElement(lp,{className:Object(_a.a)(rt.deleteIcon,Mn),onClick:vn})}var Ln=null;et&&tt.isValidElement(et)&&(Ln=tt.cloneElement(et,{className:Object(_a.a)(rt.avatar,et.props.className,Tn&&rt.avatarSmall,"default"!==at&&rt["avatarColor".concat(Object(Aa.a)(at))])}));var Fn=null;return mt&&tt.isValidElement(mt)&&(Fn=tt.cloneElement(mt,{className:Object(_a.a)(rt.icon,mt.props.className,Tn&&rt.iconSmall,"default"!==at&&rt["iconColor".concat(Object(Aa.a)(at))])})),tt.createElement(Cn,Object(ct.a)({role:bn||Rt?"button":void 0,className:Object(_a.a)(rt.root,nt,"default"!==at&&[rt["color".concat(Object(Aa.a)(at))],bn&&rt["clickableColor".concat(Object(Aa.a)(at))],Rt&&rt["deletableColor".concat(Object(Aa.a)(at))]],"default"!==vr&&[rt.outlined,{primary:rt.outlinedPrimary,secondary:rt.outlinedSecondary}[at]],dt&&rt.disabled,Tn&&rt.sizeSmall,bn&&rt.clickable,Rt&&rt.deletable),"aria-disabled":!!dt||void 0,tabIndex:bn||Rt?0:void 0,onClick:vt,onKeyDown:function handleKeyDown(w){w.currentTarget===w.target&&isDeleteKeyboardEvent(w)&&w.preventDefault(),Ot&&Ot(w)},onKeyUp:function handleKeyUp(w){w.currentTarget===w.target&&(Rt&&isDeleteKeyboardEvent(w)?Rt(w):"Escape"===w.key&&Sr.current&&Sr.current.blur()),Dt&&Dt(w)},ref:rn},In,wr),Ln||Fn,tt.createElement("span",{className:Object(_a.a)(rt.label,Tn&&rt.labelSmall)},yt),zn)})),pp=Object(la.a)((function styles(w){var Ne="light"===w.palette.type?w.palette.grey[300]:w.palette.grey[700],et=Object(Il.c)(w.palette.text.primary,.26);return{root:{fontFamily:w.typography.fontFamily,fontSize:w.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:w.palette.getContrastText(Ne),backgroundColor:Ne,borderRadius:16,whiteSpace:"nowrap",transition:w.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===w.palette.type?w.palette.grey[700]:w.palette.grey[300],fontSize:w.typography.pxToRem(12)},"& $avatarColorPrimary":{color:w.palette.primary.contrastText,backgroundColor:w.palette.primary.dark},"& $avatarColorSecondary":{color:w.palette.secondary.contrastText,backgroundColor:w.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:w.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:w.palette.primary.main,color:w.palette.primary.contrastText},colorSecondary:{backgroundColor:w.palette.secondary.main,color:w.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(Il.b)(Ne,.08)},"&:active":{boxShadow:w.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(Il.b)(w.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(Il.b)(w.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(Il.b)(Ne,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(Il.b)(w.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(Il.b)(w.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===w.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(Il.c)(w.palette.text.primary,w.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:w.palette.primary.main,border:"1px solid ".concat(w.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(Il.c)(w.palette.primary.main,w.palette.action.hoverOpacity)}},outlinedSecondary:{color:w.palette.secondary.main,border:"1px solid ".concat(w.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(Il.c)(w.palette.secondary.main,w.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===w.palette.type?w.palette.grey[700]:w.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:et,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(Il.c)(et,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(Il.c)(w.palette.primary.contrastText,.7),"&:hover, &:active":{color:w.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(Il.c)(w.palette.secondary.contrastText,.7),"&:hover, &:active":{color:w.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(Il.c)(w.palette.primary.main,.7),"&:hover, &:active":{color:w.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(Il.c)(w.palette.secondary.main,.7),"&:hover, &:active":{color:w.palette.secondary.main}}}}),{name:"MuiChip"})(cp);function ownerDocument(w){return w&&w.ownerDocument||document}var hp=Object(la.a)((function styles(w){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(ct.a)({zIndex:1},w.typography.body2,{fontSize:w.typography.pxToRem(12),lineHeight:1.2,transition:w.transitions.create(["transform"],{duration:w.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:w.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function ValueLabel(w){var Ne=w.children,et=w.classes,rt=w.className,nt=w.open,it=w.value,ot=w.valueLabelDisplay;return"off"===ot?Ne:tt.cloneElement(Ne,{className:Object(_a.a)(Ne.props.className,(nt||"on"===ot)&&et.open,et.thumb)},tt.createElement("span",{className:Object(_a.a)(et.offset,rt)},tt.createElement("span",{className:et.circle},tt.createElement("span",{className:et.label},it))))}));function asc(w,Ne){return w-Ne}function Slider_clamp(w,Ne,et){return Math.min(Math.max(Ne,w),et)}function findClosest(w,Ne){return w.reduce((function(w,et,tt){var rt=Math.abs(Ne-et);return null===w||rt<w.distance||rt===w.distance?{distance:rt,index:tt}:w}),null).index}function trackFinger(w,Ne){if(void 0!==Ne.current&&w.changedTouches){for(var et=0;et<w.changedTouches.length;et+=1){var tt=w.changedTouches[et];if(tt.identifier===Ne.current)return{x:tt.clientX,y:tt.clientY}}return!1}return{x:w.clientX,y:w.clientY}}function valueToPercent(w,Ne,et){return 100*(w-Ne)/(et-Ne)}function roundValueToStep(w,Ne,et){var tt=Math.round((w-et)/Ne)*Ne+et;return Number(tt.toFixed(function getDecimalPrecision(w){if(Math.abs(w)<1){var Ne=w.toExponential().split("e-"),et=Ne[0].split(".")[1];return(et?et.length:0)+parseInt(Ne[1],10)}var tt=w.toString().split(".")[1];return tt?tt.length:0}(Ne)))}function setValueIndex(w){var Ne=w.values,et=w.source,tt=w.newValue,rt=w.index;if(Ne[rt]===tt)return et;var nt=Ne.slice();return nt[rt]=tt,nt}function focusThumb(w){var Ne=w.sliderRef,et=w.activeIndex,tt=w.setActive;Ne.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===et||Ne.current.querySelector('[role="slider"][data-index="'.concat(et,'"]')).focus(),tt&&tt(et)}var fp={horizontal:{offset:function offset(w){return{left:"".concat(w,"%")}},leap:function leap(w){return{width:"".concat(w,"%")}}},"horizontal-reverse":{offset:function offset(w){return{right:"".concat(w,"%")}},leap:function leap(w){return{width:"".concat(w,"%")}}},vertical:{offset:function offset(w){return{bottom:"".concat(w,"%")}},leap:function leap(w){return{height:"".concat(w,"%")}}}},dp=function Identity(w){return w},mp=tt.forwardRef((function Slider(w,Ne){var et=w["aria-label"],rt=w["aria-labelledby"],nt=w["aria-valuetext"],it=w.classes,ot=w.className,at=w.color,st=void 0===at?"primary":at,pt=w.component,ft=void 0===pt?"span":pt,dt=w.defaultValue,mt=w.disabled,yt=void 0!==mt&&mt,vt=w.getAriaLabel,Rt=w.getAriaValueText,Ot=w.marks,Dt=void 0!==Ot&&Ot,Bt=w.max,er=void 0===Bt?100:Bt,rr=w.min,vr=void 0===rr?0:rr,wr=w.name,Sr=w.onChange,rn=w.onChangeCommitted,vn=w.onMouseDown,bn=w.orientation,Tn=void 0===bn?"horizontal":bn,Cn=w.scale,In=void 0===Cn?dp:Cn,zn=w.step,Mn=void 0===zn?1:zn,Ln=w.ThumbComponent,Fn=void 0===Ln?"span":Ln,Bn=w.track,Nn=void 0===Bn?"normal":Bn,Vn=w.value,Wn=w.ValueLabelComponent,$n=void 0===Wn?hp:Wn,Yn=w.valueLabelDisplay,ii=void 0===Yn?"off":Yn,qi=w.valueLabelFormat,uo=void 0===qi?dp:qi,po=Object(ga.a)(w,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),vo=useTheme_useTheme(),So=tt.useRef(),ea=tt.useState(-1),ta=ea[0],ia=ea[1],sa=tt.useState(-1),la=sa[0],fa=sa[1],os=useControlled({controlled:Vn,default:dt,name:"Slider"}),as=Object(yl.a)(os,2),ss=as[0],ls=as[1],us=Array.isArray(ss),fs=us?ss.slice().sort(asc):[ss];fs=fs.map((function(w){return Slider_clamp(w,vr,er)}));var gs=!0===Dt&&null!==Mn?Object(Ps.a)(Array(Math.floor((er-vr)/Mn)+1)).map((function(w,Ne){return{value:vr+Mn*Ne}})):Dt||[],vs=useIsFocusVisible(),xs=vs.isFocusVisible,Ss=vs.onBlurVisible,Es=vs.ref,Cs=tt.useState(-1),As=Cs[0],zs=Cs[1],Ms=tt.useRef(),Ls=useForkRef(Es,Ms),Rs=useForkRef(Ne,Ls),Os=useEventCallback((function(w){var Ne=Number(w.currentTarget.getAttribute("data-index"));xs(w)&&zs(Ne),fa(Ne)})),Fs=useEventCallback((function(){-1!==As&&(zs(-1),Ss()),fa(-1)})),Bs=useEventCallback((function(w){var Ne=Number(w.currentTarget.getAttribute("data-index"));fa(Ne)})),Ns=useEventCallback((function(){fa(-1)})),js="rtl"===vo.direction,Vs=useEventCallback((function(w){var Ne,et=Number(w.currentTarget.getAttribute("data-index")),tt=fs[et],rt=(er-vr)/10,nt=gs.map((function(w){return w.value})),it=nt.indexOf(tt),ot=js?"ArrowLeft":"ArrowRight",at=js?"ArrowRight":"ArrowLeft";switch(w.key){case"Home":Ne=vr;break;case"End":Ne=er;break;case"PageUp":Mn&&(Ne=tt+rt);break;case"PageDown":Mn&&(Ne=tt-rt);break;case ot:case"ArrowUp":Ne=Mn?tt+Mn:nt[it+1]||nt[nt.length-1];break;case at:case"ArrowDown":Ne=Mn?tt-Mn:nt[it-1]||nt[0];break;default:return}if(w.preventDefault(),Mn&&(Ne=roundValueToStep(Ne,Mn,vr)),Ne=Slider_clamp(Ne,vr,er),us){var st=Ne;Ne=setValueIndex({values:fs,source:ss,newValue:Ne,index:et}).sort(asc),focusThumb({sliderRef:Ms,activeIndex:Ne.indexOf(st)})}ls(Ne),zs(et),Sr&&Sr(w,Ne),rn&&rn(w,Ne)})),Us=tt.useRef(),Zs=Tn;js&&"vertical"!==Tn&&(Zs+="-reverse");var Js=function getFingerNewValue(w){var Ne,et,tt=w.finger,rt=w.move,nt=void 0!==rt&&rt,it=w.values,ot=w.source,at=Ms.current.getBoundingClientRect(),st=at.width,ct=at.height,pt=at.bottom,ft=at.left;if(Ne=0===Zs.indexOf("vertical")?(pt-tt.y)/ct:(tt.x-ft)/st,-1!==Zs.indexOf("-reverse")&&(Ne=1-Ne),et=function percentToValue(w,Ne,et){return(et-Ne)*w+Ne}(Ne,vr,er),Mn)et=roundValueToStep(et,Mn,vr);else{var dt=gs.map((function(w){return w.value}));et=dt[findClosest(dt,et)]}et=Slider_clamp(et,vr,er);var mt=0;if(us){var yt=et;mt=(et=setValueIndex({values:it,source:ot,newValue:et,index:mt=nt?Us.current:findClosest(it,et)}).sort(asc)).indexOf(yt),Us.current=mt}return{newValue:et,activeIndex:mt}},tl=useEventCallback((function(w){var Ne=trackFinger(w,So);if(Ne){var et=Js({finger:Ne,move:!0,values:fs,source:ss}),tt=et.newValue,rt=et.activeIndex;focusThumb({sliderRef:Ms,activeIndex:rt,setActive:ia}),ls(tt),Sr&&Sr(w,tt)}})),ol=useEventCallback((function(w){var Ne=trackFinger(w,So);if(Ne){var et=Js({finger:Ne,values:fs,source:ss}).newValue;ia(-1),"touchend"===w.type&&fa(-1),rn&&rn(w,et),So.current=void 0;var tt=ownerDocument(Ms.current);tt.removeEventListener("mousemove",tl),tt.removeEventListener("mouseup",ol),tt.removeEventListener("touchmove",tl),tt.removeEventListener("touchend",ol)}})),sl=useEventCallback((function(w){w.preventDefault();var Ne=w.changedTouches[0];null!=Ne&&(So.current=Ne.identifier);var et=trackFinger(w,So),tt=Js({finger:et,values:fs,source:ss}),rt=tt.newValue,nt=tt.activeIndex;focusThumb({sliderRef:Ms,activeIndex:nt,setActive:ia}),ls(rt),Sr&&Sr(w,rt);var it=ownerDocument(Ms.current);it.addEventListener("touchmove",tl),it.addEventListener("touchend",ol)}));tt.useEffect((function(){var w=Ms.current;w.addEventListener("touchstart",sl);var Ne=ownerDocument(w);return function(){w.removeEventListener("touchstart",sl),Ne.removeEventListener("mousemove",tl),Ne.removeEventListener("mouseup",ol),Ne.removeEventListener("touchmove",tl),Ne.removeEventListener("touchend",ol)}}),[ol,tl,sl]);var dl=useEventCallback((function(w){vn&&vn(w),w.preventDefault();var Ne=trackFinger(w,So),et=Js({finger:Ne,values:fs,source:ss}),tt=et.newValue,rt=et.activeIndex;focusThumb({sliderRef:Ms,activeIndex:rt,setActive:ia}),ls(tt),Sr&&Sr(w,tt);var nt=ownerDocument(Ms.current);nt.addEventListener("mousemove",tl),nt.addEventListener("mouseup",ol)})),gl=valueToPercent(us?fs[0]:vr,vr,er),vl=valueToPercent(fs[fs.length-1],vr,er)-gl,_l=Object(ct.a)({},fp[Zs].offset(gl),fp[Zs].leap(vl));return tt.createElement(ft,Object(ct.a)({ref:Rs,className:Object(_a.a)(it.root,it["color".concat(Object(Aa.a)(st))],ot,yt&&it.disabled,gs.length>0&&gs.some((function(w){return w.label}))&&it.marked,!1===Nn&&it.trackFalse,"vertical"===Tn&&it.vertical,"inverted"===Nn&&it.trackInverted),onMouseDown:dl},po),tt.createElement("span",{className:it.rail}),tt.createElement("span",{className:it.track,style:_l}),tt.createElement("input",{value:fs.join(","),name:wr,type:"hidden"}),gs.map((function(w,Ne){var et,rt=valueToPercent(w.value,vr,er),nt=fp[Zs].offset(rt);return et=!1===Nn?-1!==fs.indexOf(w.value):"normal"===Nn&&(us?w.value>=fs[0]&&w.value<=fs[fs.length-1]:w.value<=fs[0])||"inverted"===Nn&&(us?w.value<=fs[0]||w.value>=fs[fs.length-1]:w.value>=fs[0]),tt.createElement(tt.Fragment,{key:w.value},tt.createElement("span",{style:nt,"data-index":Ne,className:Object(_a.a)(it.mark,et&&it.markActive)}),null!=w.label?tt.createElement("span",{"aria-hidden":!0,"data-index":Ne,style:nt,className:Object(_a.a)(it.markLabel,et&&it.markLabelActive)},w.label):null)})),fs.map((function(w,Ne){var ot=valueToPercent(w,vr,er),at=fp[Zs].offset(ot);return tt.createElement($n,{key:Ne,valueLabelFormat:uo,valueLabelDisplay:ii,className:it.valueLabel,value:"function"==typeof uo?uo(In(w),Ne):uo,index:Ne,open:la===Ne||ta===Ne||"on"===ii,disabled:yt},tt.createElement(Fn,{className:Object(_a.a)(it.thumb,it["thumbColor".concat(Object(Aa.a)(st))],ta===Ne&&it.active,yt&&it.disabled,As===Ne&&it.focusVisible),tabIndex:yt?null:0,role:"slider",style:at,"data-index":Ne,"aria-label":vt?vt(Ne):et,"aria-labelledby":rt,"aria-orientation":Tn,"aria-valuemax":In(er),"aria-valuemin":In(vr),"aria-valuenow":In(w),"aria-valuetext":Rt?Rt(In(w),Ne):nt,onKeyDown:Vs,onFocus:Os,onBlur:Fs,onMouseOver:Bs,onMouseLeave:Ns}))})))})),gp=Object(la.a)((function styles(w){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:w.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:w.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:w.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===w.palette.type?Object(Il.e)(w.palette.primary.main,.62):Object(Il.a)(w.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:w.transitions.create(["box-shadow"],{duration:w.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(Il.c)(w.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(Il.c)(w.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(Il.c)(w.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(Il.c)(w.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:w.palette.background.paper,opacity:.8},markLabel:Object(ct.a)({},w.typography.body2,{color:w.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:w.palette.text.primary}}}),{name:"MuiSlider"})(mp),yp=et(32),vp=et(280);function getScale(w){return"scale(".concat(w,", ").concat(Math.pow(w,2),")")}var _p={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},bp=tt.forwardRef((function Grow(w,Ne){var et=w.children,rt=w.disableStrictModeCompat,nt=void 0!==rt&&rt,it=w.in,ot=w.onEnter,at=w.onEntered,st=w.onEntering,pt=w.onExit,ft=w.onExited,dt=w.onExiting,mt=w.style,yt=w.timeout,vt=void 0===yt?"auto":yt,Rt=w.TransitionComponent,Ot=void 0===Rt?bl:Rt,Dt=Object(ga.a)(w,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),Bt=tt.useRef(),er=tt.useRef(),rr=useTheme_useTheme(),vr=rr.unstable_strictMode&&!nt,wr=tt.useRef(null),Sr=useForkRef(et.ref,Ne),rn=useForkRef(vr?wr:void 0,Sr),vn=function normalizedTransitionCallback(w){return function(Ne,et){if(w){var tt=vr?[wr.current,Ne]:[Ne,et],rt=Object(yl.a)(tt,2),nt=rt[0],it=rt[1];void 0===it?w(nt):w(nt,it)}}},bn=vn(st),Tn=vn((function(w,Ne){!function reflow(w){w.scrollTop}(w);var et,tt=getTransitionProps({style:mt,timeout:vt},{mode:"enter"}),rt=tt.duration,nt=tt.delay;"auto"===vt?(et=rr.transitions.getAutoHeightDuration(w.clientHeight),er.current=et):et=rt,w.style.transition=[rr.transitions.create("opacity",{duration:et,delay:nt}),rr.transitions.create("transform",{duration:.666*et,delay:nt})].join(","),ot&&ot(w,Ne)})),Cn=vn(at),In=vn(dt),zn=vn((function(w){var Ne,et=getTransitionProps({style:mt,timeout:vt},{mode:"exit"}),tt=et.duration,rt=et.delay;"auto"===vt?(Ne=rr.transitions.getAutoHeightDuration(w.clientHeight),er.current=Ne):Ne=tt,w.style.transition=[rr.transitions.create("opacity",{duration:Ne,delay:rt}),rr.transitions.create("transform",{duration:.666*Ne,delay:rt||.333*Ne})].join(","),w.style.opacity="0",w.style.transform=getScale(.75),pt&&pt(w)})),Mn=vn(ft);return tt.useEffect((function(){return function(){clearTimeout(Bt.current)}}),[]),tt.createElement(Ot,Object(ct.a)({appear:!0,in:it,nodeRef:vr?wr:void 0,onEnter:Tn,onEntered:Cn,onEntering:bn,onExit:zn,onExited:Mn,onExiting:In,addEndListener:function addEndListener(w,Ne){var et=vr?w:Ne;"auto"===vt&&(Bt.current=setTimeout(et,er.current||0))},timeout:"auto"===vt?null:vt},Dt),(function(w,Ne){return tt.cloneElement(et,Object(ct.a)({style:Object(ct.a)({opacity:0,transform:getScale(.75),visibility:"exited"!==w||it?void 0:"hidden"},_p[w],mt,et.props.style),ref:rn},Ne))}))}));bp.muiSupportAuto=!0;var xp=bp,wp=et(162);var kp="undefined"!=typeof window?tt.useLayoutEffect:tt.useEffect;var Sp=tt.forwardRef((function Portal(w,Ne){var et=w.children,rt=w.container,it=w.disablePortal,ot=void 0!==it&&it,at=w.onRendered,st=tt.useState(null),ct=st[0],pt=st[1],ft=useForkRef(tt.isValidElement(et)?et.ref:null,Ne);return kp((function(){ot||pt(function getContainer(w){return w="function"==typeof w?w():w,nt.findDOMNode(w)}(rt)||document.body)}),[rt,ot]),kp((function(){if(ct&&!ot)return setRef(Ne,ct),function(){setRef(Ne,null)}}),[Ne,ct,ot]),kp((function(){at&&(ct||ot)&&at()}),[at,ct,ot]),ot?tt.isValidElement(et)?tt.cloneElement(et,{ref:ft}):et:ct?nt.createPortal(et,ct):ct}));function getAnchorEl(w){return"function"==typeof w?w():w}var Ep="undefined"!=typeof window?tt.useLayoutEffect:tt.useEffect,Tp={},Cp=tt.forwardRef((function Popper(w,Ne){var et=w.anchorEl,rt=w.children,nt=w.container,it=w.disablePortal,ot=void 0!==it&&it,at=w.keepMounted,st=void 0!==at&&at,pt=w.modifiers,ft=w.open,dt=w.placement,mt=void 0===dt?"bottom":dt,yt=w.popperOptions,vt=void 0===yt?Tp:yt,Rt=w.popperRef,Ot=w.style,Dt=w.transition,Bt=void 0!==Dt&&Dt,er=Object(ga.a)(w,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),rr=tt.useRef(null),vr=useForkRef(rr,Ne),wr=tt.useRef(null),Sr=useForkRef(wr,Rt),rn=tt.useRef(Sr);Ep((function(){rn.current=Sr}),[Sr]),tt.useImperativeHandle(Rt,(function(){return wr.current}),[]);var vn=tt.useState(!0),bn=vn[0],Tn=vn[1],Cn=function flipPlacement(w,Ne){if("ltr"===(Ne&&Ne.direction||"ltr"))return w;switch(w){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return w}}(mt,Object(wl.a)()),In=tt.useState(Cn),zn=In[0],Mn=In[1];tt.useEffect((function(){wr.current&&wr.current.update()}));var Ln=tt.useCallback((function(){if(rr.current&&et&&ft){wr.current&&(wr.current.destroy(),rn.current(null));var w=function handlePopperUpdate(w){Mn(w.placement)},Ne=(getAnchorEl(et),new wp.a(getAnchorEl(et),rr.current,Object(ct.a)({placement:Cn},vt,{modifiers:Object(ct.a)({},ot?{}:{preventOverflow:{boundariesElement:"window"}},pt,vt.modifiers),onCreate:createChainedFunction(w,vt.onCreate),onUpdate:createChainedFunction(w,vt.onUpdate)})));rn.current(Ne)}}),[et,ot,pt,ft,Cn,vt]),Fn=tt.useCallback((function(w){setRef(vr,w),Ln()}),[vr,Ln]),Bn=function handleClose(){wr.current&&(wr.current.destroy(),rn.current(null))};if(tt.useEffect((function(){return function(){Bn()}}),[]),tt.useEffect((function(){ft||Bt||Bn()}),[ft,Bt]),!st&&!ft&&(!Bt||bn))return null;var Nn={placement:zn};return Bt&&(Nn.TransitionProps={in:ft,onEnter:function handleEnter(){Tn(!1)},onExited:function handleExited(){Tn(!0),Bn()}}),tt.createElement(Sp,{disablePortal:ot,container:nt},tt.createElement("div",Object(ct.a)({ref:Fn,role:"tooltip"},er,{style:Object(ct.a)({position:"fixed",top:0,left:0,display:ft||!st||Bt?null:"none"},Ot)}),"function"==typeof rt?rt(Nn):rt))}));function round(w){return Math.round(1e5*w)/1e5}var Pp=!1,Ip=null;var Ap=tt.forwardRef((function Tooltip(w,Ne){var et=w.arrow,rt=void 0!==et&&et,it=w.children,ot=w.classes,at=w.disableFocusListener,st=void 0!==at&&at,pt=w.disableHoverListener,ft=void 0!==pt&&pt,dt=w.disableTouchListener,mt=void 0!==dt&&dt,yt=w.enterDelay,vt=void 0===yt?100:yt,Rt=w.enterNextDelay,Ot=void 0===Rt?0:Rt,Dt=w.enterTouchDelay,Bt=void 0===Dt?700:Dt,er=w.id,rr=w.interactive,vr=void 0!==rr&&rr,wr=w.leaveDelay,Sr=void 0===wr?0:wr,rn=w.leaveTouchDelay,vn=void 0===rn?1500:rn,bn=w.onClose,Tn=w.onOpen,Cn=w.open,In=w.placement,zn=void 0===In?"bottom":In,Mn=w.PopperComponent,Ln=void 0===Mn?Cp:Mn,Fn=w.PopperProps,Bn=w.title,Nn=w.TransitionComponent,Vn=void 0===Nn?xp:Nn,Wn=w.TransitionProps,$n=Object(ga.a)(w,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),Yn=useTheme_useTheme(),ii=tt.useState(),qi=ii[0],uo=ii[1],po=tt.useState(null),vo=po[0],So=po[1],ea=tt.useRef(!1),ta=tt.useRef(),ia=tt.useRef(),sa=tt.useRef(),la=tt.useRef(),fa=useControlled({controlled:Cn,default:!1,name:"Tooltip",state:"open"}),os=Object(yl.a)(fa,2),as=os[0],ss=os[1],ls=as,us=useId(er);tt.useEffect((function(){return function(){clearTimeout(ta.current),clearTimeout(ia.current),clearTimeout(sa.current),clearTimeout(la.current)}}),[]);var fs=function handleOpen(w){clearTimeout(Ip),Pp=!0,ss(!0),Tn&&Tn(w)},gs=function handleEnter(){var w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(Ne){var et=it.props;"mouseover"===Ne.type&&et.onMouseOver&&w&&et.onMouseOver(Ne),ea.current&&"touchstart"!==Ne.type||(qi&&qi.removeAttribute("title"),clearTimeout(ia.current),clearTimeout(sa.current),vt||Pp&&Ot?(Ne.persist(),ia.current=setTimeout((function(){fs(Ne)}),Pp?Ot:vt)):fs(Ne))}},vs=useIsFocusVisible(),xs=vs.isFocusVisible,Ss=vs.onBlurVisible,Es=vs.ref,Cs=tt.useState(!1),Ps=Cs[0],As=Cs[1],zs=function handleBlur(){Ps&&(As(!1),Ss())},Ms=function handleFocus(){var w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(Ne){qi||uo(Ne.currentTarget),xs(Ne)&&(As(!0),gs()(Ne));var et=it.props;et.onFocus&&w&&et.onFocus(Ne)}},Ls=function handleClose(w){clearTimeout(Ip),Ip=setTimeout((function(){Pp=!1}),800+Sr),ss(!1),bn&&bn(w),clearTimeout(ta.current),ta.current=setTimeout((function(){ea.current=!1}),Yn.transitions.duration.shortest)},Rs=function handleLeave(){var w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(Ne){var et=it.props;"blur"===Ne.type&&(et.onBlur&&w&&et.onBlur(Ne),zs()),"mouseleave"===Ne.type&&et.onMouseLeave&&Ne.currentTarget===qi&&et.onMouseLeave(Ne),clearTimeout(ia.current),clearTimeout(sa.current),Ne.persist(),sa.current=setTimeout((function(){Ls(Ne)}),Sr)}},Os=function detectTouchStart(w){ea.current=!0;var Ne=it.props;Ne.onTouchStart&&Ne.onTouchStart(w)},Fs=useForkRef(uo,Ne),Bs=useForkRef(Es,Fs),Ns=tt.useCallback((function(w){setRef(Bs,nt.findDOMNode(w))}),[Bs]),js=useForkRef(it.ref,Ns);""===Bn&&(ls=!1);var Vs=!ls&&!ft,Us=Object(ct.a)({"aria-describedby":ls?us:null,title:Vs&&"string"==typeof Bn?Bn:null},$n,it.props,{className:Object(_a.a)($n.className,it.props.className),onTouchStart:Os,ref:js}),Zs={};mt||(Us.onTouchStart=function handleTouchStart(w){Os(w),clearTimeout(sa.current),clearTimeout(ta.current),clearTimeout(la.current),w.persist(),la.current=setTimeout((function(){gs()(w)}),Bt)},Us.onTouchEnd=function handleTouchEnd(w){it.props.onTouchEnd&&it.props.onTouchEnd(w),clearTimeout(la.current),clearTimeout(sa.current),w.persist(),sa.current=setTimeout((function(){Ls(w)}),vn)}),ft||(Us.onMouseOver=gs(),Us.onMouseLeave=Rs(),vr&&(Zs.onMouseOver=gs(!1),Zs.onMouseLeave=Rs(!1))),st||(Us.onFocus=Ms(),Us.onBlur=Rs(),vr&&(Zs.onFocus=Ms(!1),Zs.onBlur=Rs(!1)));var Js=tt.useMemo((function(){return Object(vp.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(vo),element:vo}}}},Fn)}),[vo,Fn]);return tt.createElement(tt.Fragment,null,tt.cloneElement(it,Us),tt.createElement(Ln,Object(ct.a)({className:Object(_a.a)(ot.popper,vr&&ot.popperInteractive,rt&&ot.popperArrow),placement:zn,anchorEl:qi,open:!!qi&&ls,id:Us["aria-describedby"],transition:!0},Zs,Js),(function(w){var Ne=w.placement,et=w.TransitionProps;return tt.createElement(Vn,Object(ct.a)({timeout:Yn.transitions.duration.shorter},et,Wn),tt.createElement("div",{className:Object(_a.a)(ot.tooltip,ot["tooltipPlacement".concat(Object(Aa.a)(Ne.split("-")[0]))],ea.current&&ot.touch,rt&&ot.tooltipArrow)},Bn,rt?tt.createElement("span",{className:ot.arrow,ref:So}):null))})))})),zp=Object(la.a)((function styles(w){return{popper:{zIndex:w.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(Il.c)(w.palette.grey[700],.9),borderRadius:w.shape.borderRadius,color:w.palette.common.white,fontFamily:w.typography.fontFamily,padding:"4px 8px",fontSize:w.typography.pxToRem(10),lineHeight:"".concat(round(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:w.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(Il.c)(w.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:w.typography.pxToRem(14),lineHeight:"".concat(round(16/14),"em"),fontWeight:w.typography.fontWeightRegular},tooltipPlacementLeft:Object(yp.a)({transformOrigin:"right center",margin:"0 24px "},w.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(yp.a)({transformOrigin:"left center",margin:"0 24px"},w.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(yp.a)({transformOrigin:"center bottom",margin:"24px 0"},w.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(yp.a)({transformOrigin:"center top",margin:"24px 0"},w.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(Ap);et(45);function groupOptions(w){const Ne=new Set([]),et=[];for(const tt of w){const w=tt.label||"";Ne.has(w)||(et.push({label:w,options:[]}),Ne.add(w));et.find(Ne=>Ne.label===w).options.push(tt)}return et}var Mp=et(41);const Lp=Object(la.a)({switchBase:{color:fa.a[200],"&$checked":{color:fa.a[500]},"&$checked + $track":{backgroundColor:fa.a[500]}},checked:{},track:{backgroundColor:fa.a[300]}})(Gc),Rp=Object(la.a)({root:{color:fa.a[300],"&$checked":{color:fa.a[500]}},checked:{}})(w=>rt.a.createElement(ap,{color:"default",...w})),Op=Object(la.a)({thumb:{backgroundColor:fa.a[500]},track:{backgroundColor:fa.a[500]},rail:{backgroundColor:fa.a[500]},mark:{backgroundColor:fa.a[500]}})(gp),Dp=Object(la.a)({thumb:{backgroundColor:fa.a[500],display:"none"},track:{backgroundColor:fa.a[500],display:"none"},rail:{backgroundColor:fa.a[500],display:"none"},mark:{backgroundColor:fa.a[500]},root:{padding:0},markLabel:{top:5}})(gp),Fp=Object(la.a)({root:{color:fa.a[500],marginRight:5}})(w=>rt.a.createElement(as,{size:20,...w})),Bp=Object(la.a)({entered:{marginBottom:10}})(Cl),Np=Object(la.a)({root:{width:"100%"}})(Cc),jp=Object(la.a)({root:{whiteSpace:"nowrap"}})(Ac),Vp=Object(la.a)({root:{width:"calc(100% + 60px)",color:fa.a[900],paddingLeft:30,marginLeft:-30,marginRight:-30}})(Js),Up=Object(la.a)({primary:{fontWeight:"bold"}})(gl),qp=Object(la.a)({root:{color:fa.a[500],marginBottom:0,"&:not(:last-of-type)":{marginBottom:0}}})(Dc),Wp=Object(la.a)({root:{paddingLeft:20,paddingBottom:10,marginRight:16}})(gs);function hexToRgba(w,Ne){return`rgba(${parseInt(w.slice(1,3),16)}, ${parseInt(w.slice(3,5),16)}, ${parseInt(w.slice(5),16)}, ${Ne})`}function Filters_ValueLabelComponent(w){const{children:Ne,open:et,value:tt}=w;return rt.a.createElement(zp,{open:et,enterTouchDelay:0,placement:"top",title:tt},Ne)}function sortValues(w,Ne){return isNaN(w)||isNaN(Ne)?Ne.localeCompare(w):parseInt(Ne,10)-parseInt(w,10)}function Filters({baseMapLayers:w,rasterLayers:Ne,vectorLayers:et,observationVectorLayers:nt,adminVectorLayers:it,selectedAdminVectorLayerNamesByLabel:ot,vectorFiltersByNamesMap:at,selectedBaseMapLayerName:st,selectedRasterLayerNamesSet:ct,rasterOpacityByNameMap:pt,selectedVectorLayerNamesSet:ft,selectedObservationVectorLayerNamesSet:dt,onUpdateBaseMapLayer:mt,onUpdateRasterLayers:yt,onUpdateRasterLayerOpacityByNameMap:vt,onUpdateVectorLayers:Rt,onUpdateObservationVectorLayers:Ot,onUpdateAdminVectorLayers:Dt,onUpdateVectorFilters:Bt,isLoadingRasters:er,isLoadingVectors:rr,isLoadingObservationVectors:vr,isLoadingAdminVectors:wr}){function renderLegend(w,Ne){const{name:et,mapboxLayerOptions:tt,legendVariable:nt,legend:it,customLegend:ot}=Ne;if(nt){const Ne=at[et],it={vectorName:et,filterName:nt.name,valuesSet:((Ne||{})[nt.name]||{}).valuesSet,selectedValuesSet:((Ne||{})[nt.name]||{}).selectedValuesSet},{vectorName:ot,filterName:st,valuesSet:ct=new Set([]),selectedValuesSet:pt=new Set([])}=it,ft=[...ct],dt={},mt=tt.paint[nt.mapboxPaintProperty].slice(2);for(let w=0;w<mt.length;w+=2)w===mt.length-1?dt.default=mt[w]:dt[mt[w]]=mt[w+1];return rt.a.createElement(Cl,{in:w,timeout:"auto",unmountOnExit:!0},rt.a.createElement(Wp,{component:"div",disablePadding:!0,dense:!0},rt.a.createElement(qp,null,`${nt.name} (${nt.mapboxPaintProperty})`),ft.sort(sortValues).map(w=>{const Ne=pt.has(w),et=Object(la.a)({root:{backgroundColor:Ne?dt[w]||dt.default:fa.a[200]}})(Js),tt=Object(la.a)({switchBase:{color:fa.a[200],"&$checked":{color:dt[w]||dt.default},"&$checked + $track":{backgroundColor:fa.a[300]}},checked:{},track:{backgroundColor:fa.a[300]}})(Gc);return rt.a.createElement(et,{key:w},rt.a.createElement(gl,{primary:w}),rt.a.createElement(Hl,null,rt.a.createElement(tt,{edge:"end",onChange:Ne=>function handleToggleFilter(w,Ne,et,tt){const rt={...at},nt=new Set([...rt[tt][et].selectedValuesSet]);w?nt.add(Ne):nt.delete(Ne),Bt({...at,[tt]:{...at[tt],[et]:{...at[tt][et],selectedValuesSet:nt}}})}(Ne.target.checked,w,st,ot),checked:Ne})))})))}if(ot){const Ne=pt[et],{type:tt,categories:nt,min:it,max:at}=ot;let st=null;if("categorical"===tt)st=nt.map(({name:w,color:et})=>{const tt=Object(la.a)({root:{backgroundColor:hexToRgba(et,Ne)}})(Js);return rt.a.createElement(tt,{key:w},rt.a.createElement(gl,{primary:w}),rt.a.createElement(Hl,null))});else if("continuous"===tt){const w=Object(la.a)({root:{background:`linear-gradient(to right, ${hexToRgba(it.color,Ne)}, ${hexToRgba(at.color,Ne)})`}})(Js),tt=Object(la.a)({root:{color:at.color}})(gl),nt=Object(la.a)({root:{textAlign:"right",color:it.color}})(gl),ot=[{value:0,label:"0.0"},{value:.2,label:"0.2"},{value:.4,label:"0.4"},{value:.6,label:"0.6"},{value:.8,label:"0.8"},{value:1,label:"1.0"}];st=rt.a.createElement(rt.a.Fragment,null,rt.a.createElement(w,{key:et},rt.a.createElement(tt,{primary:it.name}),rt.a.createElement(nt,{primary:at.name})),rt.a.createElement(Dp,{step:.1,min:0,max:1,valueLabelDisplay:"auto",disabled:!0,marks:ot}))}return rt.a.createElement(Cl,{in:w,timeout:"auto",unmountOnExit:!0},rt.a.createElement(Wp,{component:"div",disablePadding:!0,dense:!0},rt.a.createElement(qp,null,"Opacity: "+Ne),rt.a.createElement(Op,{defaultValue:Ne,onChangeCommitted:(w,Ne)=>function handleUpdateRasterOpacity(w,Ne){let et={...pt};et[w]=Ne,vt(et)}(et,Ne),getAriaValueText:()=>""+Ne,ValueLabelComponent:Filters_ValueLabelComponent,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.1,marks:!0,min:0,max:1}),st))}if(it){const Ne=Object(la.a)({root:{backgroundColor:w?tt.paint[it.mapboxPaintProperty]:fa.a[200]}})(Js);return rt.a.createElement(Cl,{in:w,timeout:"auto",unmountOnExit:!0},rt.a.createElement(Wp,{component:"div",disablePadding:!0,dense:!0},rt.a.createElement(Ne,{key:"legend"},rt.a.createElement(gl,{primary:it.mapboxPaintProperty}))))}return null}const[Sr,rn]=Object(tt.useState)(!1),[vn,bn]=Object(tt.useState)(!1),[Tn,Cn]=Object(tt.useState)(!1),[In,zn]=Object(tt.useState)(!1),[Mn,Ln]=Object(tt.useState)(!1);return rt.a.createElement("div",{className:Mp.sideBarWrapper},rt.a.createElement("div",{className:Mp.bodyWrapper},rt.a.createElement("div",{className:Mp.sectionWrapper},rt.a.createElement(Np,{component:"fieldset"},rt.a.createElement(Vp,{button:!0,onClick:()=>rn(!Sr)},rt.a.createElement(Up,{primary:"Base map"}),rt.a.createElement(pp,{size:"small",label:st}),Sr?rt.a.createElement(wu.a,{edge:"end"}):rt.a.createElement(vu.a,{edge:"end"})),rt.a.createElement(Bp,{in:Sr},rt.a.createElement(sp,{"aria-label":"Base map",name:"Base map",value:st,onChange:w=>function handleSelectBaseMapLayer(w){mt(w)}(w.target.value)},w.map(w=>{const{name:Ne}=w;return rt.a.createElement(jp,{key:Ne,value:Ne,control:rt.a.createElement(Rp,null),label:Ne})}))))),rt.a.createElement("div",{className:Mp.sectionWrapper},rt.a.createElement(Np,{component:"fieldset"},rt.a.createElement(Vp,{button:!0,onClick:()=>Cn(!Tn)},rt.a.createElement(Up,{primary:"Pre-existing maps & data"}),rr&&rt.a.createElement(Fp,null),!!ft.size&&rt.a.createElement(pp,{size:"small",label:ft.size}),Tn?rt.a.createElement(wu.a,{edge:"end"}):rt.a.createElement(vu.a,{edge:"end"})),rt.a.createElement(Bp,{in:Tn},groupOptions(et).map(w=>{const{label:Ne,options:et}=w;return rt.a.createElement(rt.a.Fragment,{key:Ne},rt.a.createElement(qp,null,Ne),rt.a.createElement(xc,null,et.map(w=>{const{name:Ne}=w,et=ft.has(Ne);return rt.a.createElement(rt.a.Fragment,{key:Ne},rt.a.createElement(jp,{control:rt.a.createElement(Lp,{checked:et,onChange:w=>function handleToggleVectorLayer(w,Ne){let et=new Set([...ft]);Ne?et.add(w):et.delete(w),Rt(et)}(Ne,w.target.checked),name:Ne}),label:Ne}),renderLegend(et,w))})))})))),rt.a.createElement("div",{className:Mp.sectionWrapper},rt.a.createElement(Np,{component:"fieldset"},rt.a.createElement(Vp,{button:!0,onClick:()=>bn(!vn)},rt.a.createElement(Up,{primary:"Landscape predictions"}),er&&rt.a.createElement(Fp,null),!!ct.size&&rt.a.createElement(pp,{size:"small",label:ct.size}),vn?rt.a.createElement(wu.a,{edge:"end"}):rt.a.createElement(vu.a,{edge:"end"})),rt.a.createElement(Bp,{in:vn},groupOptions(Ne).map(w=>{const{label:Ne,options:et}=w;return rt.a.createElement(rt.a.Fragment,{key:Ne},rt.a.createElement(qp,null,Ne),rt.a.createElement(xc,null,et.map(w=>{const{name:Ne}=w,et=ct.has(Ne);return rt.a.createElement(rt.a.Fragment,{key:Ne},rt.a.createElement(jp,{control:rt.a.createElement(Lp,{checked:et,onChange:w=>function handleToggleRasterLayer(w,Ne){let et=new Set([...ct]);Ne?et.add(w):et.delete(w),yt(et)}(Ne,w.target.checked),name:Ne}),label:Ne}),renderLegend(et,w))})))})))),rt.a.createElement("div",{className:Mp.sectionWrapper},rt.a.createElement(Np,{component:"fieldset"},rt.a.createElement(Vp,{button:!0,onClick:()=>zn(!In)},rt.a.createElement(Up,{primary:"Landscape observations"}),vr&&rt.a.createElement(Fp,null),!!dt.size&&rt.a.createElement(pp,{size:"small",label:dt.size}),In?rt.a.createElement(wu.a,{edge:"end"}):rt.a.createElement(vu.a,{edge:"end"})),rt.a.createElement(Bp,{in:In},groupOptions(nt).map(w=>{const{label:Ne,options:et}=w;return rt.a.createElement(rt.a.Fragment,{key:Ne},rt.a.createElement(qp,null,Ne),rt.a.createElement(xc,null,et.map(w=>{const{name:Ne}=w,et=dt.has(Ne);return rt.a.createElement(rt.a.Fragment,{key:Ne},rt.a.createElement(jp,{control:rt.a.createElement(Lp,{checked:et,onChange:w=>function handleToggleObservationVectorLayer(w,Ne){let et=new Set([...dt]);Ne?et.add(w):et.delete(w),Ot(et)}(Ne,w.target.checked),name:Ne}),label:Ne}),renderLegend(et,w))})))})))),rt.a.createElement("div",{className:Mp.sectionWrapper},rt.a.createElement(Np,{component:"fieldset"},rt.a.createElement(Vp,{button:!0,onClick:()=>Ln(!Mn)},rt.a.createElement(Up,{primary:"Admin polygons"}),wr&&rt.a.createElement(Fp,null),Mn?rt.a.createElement(wu.a,{edge:"end"}):rt.a.createElement(vu.a,{edge:"end"})),rt.a.createElement(Bp,{in:Mn},groupOptions(it).map(w=>{const{label:Ne,options:et}=w,tt=ot[Ne];return rt.a.createElement(sp,{"aria-label":"Admin polygons",name:"Admin polygons",value:tt,key:Ne,onChange:w=>function handleSelectAdminVectorLayers(w,Ne){let et={...ot,[w]:Ne};Dt(et)}(Ne,w.target.value)},rt.a.createElement(qp,null,Ne),et.map(w=>{const{name:Ne}=w;return rt.a.createElement(jp,{key:Ne,value:Ne,control:rt.a.createElement(Rp,null),label:Ne})}))}))))))}var Gp=et(46),Zp=et.n(Gp),Hp=et(104);var $p=[{name:"Topo",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbva72vc19hi1ipk8im36in5",isDefault:!0},{name:"Satellite",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbva7yuu19hj1iob2pocca04"},{name:"Streets",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbvor8tn0coz1htdjabo8h49"},{name:"Dark",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbvas4jd0zlm1jo7v7k9p76t"},{name:"Light",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckbvofjle0cbj1ipjnzb8nhxr"},{name:"None",mapboxStyle:"mapbox://styles/columbia-dataplatform/ckccdqxri00ny1jtf2dhbs3hd"}];function getAdminRegionId({name:w,label:Ne}){return`${Ne}_${w}`}function MapRenderer_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}function getLayerIdentifier({name:w,label:Ne},et=!1){return et?getAdminRegionId({name:w,label:Ne}):w}Zp.a.accessToken="pk.eyJ1IjoiY29sdW1iaWEtZGF0YXBsYXRmb3JtIiwiYSI6ImNrYXpxbml5bDAwMzEycm11NGpqd2l3b2cifQ.-ql-7fIcoPv0c-m6ezRwjw";const Xp=[33,1];class MapRenderer_MapRenderer{constructor(w,Ne){MapRenderer_defineProperty(this,"handleMoveEnd",()=>{const w=this.map.getZoom(),Ne=this.map.getCenter();this.onZoomOrPan(w,Ne)}),MapRenderer_defineProperty(this,"handleZoomEnd",()=>{const w=this.map.getZoom(),Ne=this.map.getCenter();this.onZoomOrPan(w,Ne)}),MapRenderer_defineProperty(this,"waitForStyleLoad",(w=(()=>{}),Ne=200)=>{clearTimeout(this.styleTimeout);const waiting=()=>{this.map.isStyleLoaded()?w():this.styleTimeout=setTimeout(waiting,Ne)};waiting()}),MapRenderer_defineProperty(this,"removeLayerFromMap",w=>{const Ne=w.id,et=w.type instanceof Array?w.type:[w.type];for(const w of et){const et=`${Ne}_${w}`;this.map.getLayer(et)&&this.map.removeLayer(et)}this.map.getSource(Ne)&&this.map.removeSource(Ne)}),MapRenderer_defineProperty(this,"addVectorLayerToMap",(w,Ne=!1)=>{const{mapboxSourceType:et,mapboxLayerType:tt,mapboxLayerOptions:rt={},features:nt,minZoom:it,maxZoom:ot,onFeatureClick:at}=w,st=getLayerIdentifier(w,Ne),ct={type:et,data:{type:"FeatureCollection",features:nt}};this.map.getSource(st)||this.map.addSource(st,ct);const pt={id:st,type:tt,source:st,...rt},ft=tt instanceof Array?tt:[tt];for(const w of ft){const Ne=`${st}_${w}`,et={id:Ne,type:w,source:st,...tt instanceof Array?rt[w]:rt};if(it&&(et.minzoom=it),ot&&(et.maxzoom=ot),!this.map.getLayer(Ne))if(this.map.addLayer(et),at)this.map.on("click",Ne,w=>{const et=this.map.queryRenderedFeatures(w.point,{layers:[Ne]})[0].properties;at(et)});else{const w=new Zp.a.Popup({closeButton:!1,closeOnClick:!1});this.map.on("mouseenter",Ne,et=>{const tt=this.map.queryRenderedFeatures(et.point,{layers:[Ne]})[0].properties;if(Object.keys(tt).length){this.map.getCanvas().style.cursor="pointer";const Ne=[parseFloat(et.lngLat.lng),parseFloat(et.lngLat.lat)];for(;Math.abs(et.lngLat.lng-Ne[0])>180;)Ne[0]+=et.lngLat.lng>Ne[0]?360:-360;w.setLngLat(Ne).setHTML(Object.keys(tt).map(w=>this.renderMetadataSection(w,tt[w])).join("")).addTo(this.map)}}),this.map.on("mouseleave",Ne,()=>{this.map.getCanvas().style.cursor="",w.remove()})}}return pt}),MapRenderer_defineProperty(this,"addRasterLayerToMap",(w,Ne)=>{const{mapboxId:et,minNativeZoom:tt,maxNativeZoom:rt,bounds:nt,minZoom:it,maxZoom:ot,opacity:at}=w,st=getLayerIdentifier(w),ct={type:"raster",tiles:[`https://api.mapbox.com/v4/${et}/{z}/{x}/{y}.png?access_token=${Zp.a.accessToken}`],tileSize:512,minzoom:tt,maxzoom:rt,bounds:nt};this.map.getSource(st)||this.map.addSource(st,ct);const pt={id:st,type:"raster",source:st},ft=st+"_raster",dt={id:ft,type:"raster",source:st,minzoom:it,maxzoom:ot,paint:{"raster-opacity":at}};return this.map.getLayer(ft)||this.map.addLayer(dt,Ne),pt}),this.elem=w,this.baseLayers=new Map,this.rasterLayers=new Map,this.vectorLayers=new Map,this.observationVectorLayers=new Map,this.adminVectorLayers=new Map;const{baseMapLayer:et,center:tt,zoom:rt,renderMetadataSection:nt=((w,Ne)=>`<p><b>${w}</b><br>${Ne[w]}</p>`)}=Ne;this.renderMetadataSection=nt;const it=et||$p.find(({isDefault:w})=>w);this.baseLayers.set(getLayerIdentifier(it),it),this.map=new Zp.a.Map({container:this.elem,style:it.mapboxStyle,center:tt||Xp,zoom:rt||7});const ot=new Zp.a.ScaleControl({maxWidth:100,unit:"metric"});this.map.addControl(ot);const at=new Zp.a.NavigationControl({showCompass:!1});this.map.addControl(at,"top-left"),this.onZoomOrPan=Ne.onZoomOrPan,this.map.on("zoomend",this.handleZoomEnd),this.map.on("moveend",this.handleMoveEnd),this.map.once("style.load",()=>{this.waitForStyleLoad(()=>{this.update(Ne,{initialRender:!0})})})}update({baseMapLayer:w,rasterLayers:Ne,vectorLayers:et,observationVectorLayers:tt,adminVectorLayers:rt,center:nt=Xp,zoom:it=7,boundingBox:ot},{initialRender:at=!1}={}){if(at&&this.map.jumpTo({center:nt,zoom:it}),ot&&this.map.fitBounds(ot),!this.baseLayers.get(getLayerIdentifier(w))){for(const[w,Ne]of this.baseLayers)this.baseLayers.delete(w);return this.baseLayers.set(getLayerIdentifier(w),w),this.map.setStyle(w.mapboxStyle),void this.map.once("style.load",()=>{this.waitForStyleLoad(()=>{for(const[w,Ne]of this.adminVectorLayers)this.removeLayerFromMap(Ne),this.adminVectorLayers.delete(w);for(const[w,Ne]of this.rasterLayers)this.removeLayerFromMap(Ne),this.rasterLayers.delete(w);for(const[w,Ne]of this.vectorLayers)this.removeLayerFromMap(Ne),this.vectorLayers.delete(w);for(const[w,Ne]of this.observationVectorLayers)this.removeLayerFromMap(Ne),this.vectorLayers.delete(w);this.update({baseMapLayer:w,rasterLayers:Ne,vectorLayers:et,observationVectorLayers:tt,adminVectorLayers:rt,center:nt,zoom:it},{initialRender:!0})})})}this.waitForStyleLoad(()=>{const w=new Set(rt.map(w=>getLayerIdentifier(w,!0)));for(const[Ne,et]of this.adminVectorLayers)w.has(Ne)||(this.removeLayerFromMap(et),this.adminVectorLayers.delete(Ne));for(const w of rt){let Ne=this.adminVectorLayers.get(getLayerIdentifier(w,!0));Ne?this.map.getSource(getLayerIdentifier(w,!0))&&this.map.getSource(getLayerIdentifier(w,!0)).setData({type:"FeatureCollection",features:w.features}):(Ne=this.addVectorLayerToMap(w,!0),this.adminVectorLayers.set(getLayerIdentifier(w,!0),Ne))}const nt=new Set(Ne.map(w=>getLayerIdentifier(w)));for(const[w,Ne]of this.rasterLayers)nt.has(w)||(this.removeLayerFromMap(Ne),this.rasterLayers.delete(w));for(const w of Ne){let Ne=this.rasterLayers.get(getLayerIdentifier(w));if(Ne){const Ne=getLayerIdentifier(w)+"_raster",et=this.map.getPaintProperty(Ne,"raster-opacity");w.opacity!==et&&this.map.setPaintProperty(Ne,"raster-opacity",w.opacity)}else Ne=this.addRasterLayerToMap(w,`${getLayerIdentifier(rt[0],!0)}_${rt[0].mapboxLayerType instanceof Array?rt[0].mapboxLayerType[0]:rt[0].mapboxLayerType}`),this.rasterLayers.set(getLayerIdentifier(w),Ne)}const it=new Set(et.map(w=>getLayerIdentifier(w)));for(const[w,Ne]of this.vectorLayers)it.has(w)||(this.removeLayerFromMap(Ne),this.vectorLayers.delete(w));for(const w of et){let Ne=this.vectorLayers.get(getLayerIdentifier(w));Ne?this.map.getSource(getLayerIdentifier(w))&&this.map.getSource(getLayerIdentifier(w)).setData({type:"FeatureCollection",features:w.features}):(Ne=this.addVectorLayerToMap(w),this.vectorLayers.set(getLayerIdentifier(w),Ne))}const ot=new Set(tt.map(w=>getLayerIdentifier(w)));for(const[w,Ne]of this.observationVectorLayers)ot.has(w)||(this.removeLayerFromMap(Ne),this.observationVectorLayers.delete(w));for(const w of tt){let Ne=this.observationVectorLayers.get(getLayerIdentifier(w));Ne?this.map.getSource(getLayerIdentifier(w))&&this.map.getSource(getLayerIdentifier(w)).setData({type:"FeatureCollection",features:w.features}):(Ne=this.addVectorLayerToMap(w),this.observationVectorLayers.set(getLayerIdentifier(w),Ne))}})}}function Map_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}class Map_Map extends tt.Component{componentDidMount(){this.mapRenderer=new MapRenderer_MapRenderer(this.mapElement,this.props)}componentDidUpdate(w){this.mapRenderer.update(this.props)}render(){return rt.a.createElement("div",{ref:w=>this.mapElement=w,className:Hp.wrapper})}}Map_defineProperty(Map_Map,"propTypes",{baseMapLayer:st.a.object,vectorLayers:st.a.arrayOf(st.a.object),rasterLayers:st.a.arrayOf(st.a.object)}),Map_defineProperty(Map_Map,"defaultProps",{vectorLayers:[],rasterLayers:[]});class RasterSource{constructor({mapboxId:w,isDefault:Ne,minZoom:et=0,maxZoom:tt=22,minNativeZoom:rt,maxNativeZoom:nt,boundingBox:it,name:ot,label:at,customLegend:st}){this.name=ot,this.label=at,this.mapboxId=w,this.minZoom=parseInt(et),this.maxZoom=parseInt(tt),this.minNativeZoom=parseInt(rt),this.maxNativeZoom=parseInt(nt),this.isDefault=Ne,this.customLegend=st,it&&(it=it.split(","),this.bounds=[parseFloat(it[0]),parseFloat(it[1]),parseFloat(it[2]),parseFloat(it[3])])}}class RasterSourceGroup_RasterSourceGroup{constructor({label:w,tableIdentifier:Ne,mapboxIdVariable:et,minNativeZoomVariable:tt,maxNativeZoomVariable:rt,boundingBoxVariable:nt,nameVariable:it,customLegendsByMapboxId:ot,customNamesByMapboxId:at}){!function RasterSourceGroup_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}(this,"fetchData",async()=>{if(this.data)return this.data;const w=[...new Set([this.mapboxIdVariable.name.toLowerCase(),this.minNativeZoomVariable.name.toLowerCase(),this.maxNativeZoomVariable.name.toLowerCase(),this.boundingBoxVariable.name.toLowerCase(),this.nameVariable.name.toLowerCase()])],Ne=await fetch(`https://redivis.com/api/v1/tables/${this.tableIdentifier}/rows?selectedVariables=${w.join(",")}&maxResults=10000`,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!Ne.ok){const w=await Ne.text();return alert(w),[]}const et=await Ne.text();return this.data=et.split("\n").map((w,Ne)=>JSON.parse(w)).map(w=>new RasterSource({mapboxId:w[0],minNativeZoom:w[1],maxNativeZoom:w[2],boundingBox:w[3],name:this.customNamesByMapboxId&&this.customNamesByMapboxId[w[0]]?this.customNamesByMapboxId[w[0]]:w[4],label:this.label,customLegend:this.customLegendsByMapboxId&&w[0]?this.customLegendsByMapboxId[w[0]]:null})),this.data}),this.label=w,this.tableIdentifier=Ne,this.mapboxIdVariable=et,this.minNativeZoomVariable=tt,this.maxNativeZoomVariable=rt,this.boundingBoxVariable=nt,this.nameVariable=it,this.customNamesByMapboxId=at,this.customLegendsByMapboxId=ot}}var Kp=[new RasterSourceGroup_RasterSourceGroup({label:"Uganda",tableIdentifier:"modilab.uganda_geodata:3.raster_layer_metadata:1",mapboxIdVariable:{name:"mapbox_id"},minNativeZoomVariable:{name:"zoom_min"},maxNativeZoomVariable:{name:"zoom_max"},boundingBoxVariable:{name:"bounding_box"},nameVariable:{name:"catalog_name"},customNamesByMapboxId:{"columbia-dataplatform.dpfypvjn":"Prediction of Woodland Presence (probability)","columbia-dataplatform.altp17rc":"Prediction of Building Presence (probability)","columbia-dataplatform.5y1gv038":"Prediction of Crop Presence (probability)"},customLegendsByMapboxId:{"columbia-dataplatform.0xf4g95w":{type:"categorical",categories:[{name:"No buildings, no cropland, no woody cover",color:"#b9b6b9"},{name:"Woody cover (> 60%)",color:"#0e7d0e"},{name:"Cropland",color:"#fec28c"},{name:"Cropland and woody cover (> 60%)",color:"#fcfe9c"},{name:"Buildings",color:"#fe0c0c"},{name:"Buildings and woody cover (> 60%)",color:"#ea3690"},{name:"Buildings and cropland",color:"#ca7d47"},{name:"Buildings, cropland, and woody cover",color:"#6d6d6d"}]},"columbia-dataplatform.dpfypvjn":{type:"continuous",min:{name:"Less wooded",color:"#000000"},max:{name:"More wooded",color:"#ffffff"}},"columbia-dataplatform.altp17rc":{type:"continuous",min:{name:"Fewer buildings",color:"#000000"},max:{name:"More buildings",color:"#ffffff"}},"columbia-dataplatform.5y1gv038":{type:"continuous",min:{name:"Less crop presence",color:"#000000"},max:{name:"More crop presence",color:"#ffffff"}}}}),new RasterSourceGroup_RasterSourceGroup({label:"Ethiopia",tableIdentifier:"modilab.ethiopia_geodata:2.raster_layer_metadata:1",mapboxIdVariable:{name:"mapbox_id"},minNativeZoomVariable:{name:"zoom_min"},maxNativeZoomVariable:{name:"zoom_max"},boundingBoxVariable:{name:"bounding_box"},nameVariable:{name:"catalog_name"},customLegendsByMapboxId:{"columbia-dataplatform.7w9iml7k":{type:"categorical",categories:[{name:"In-phase vegetation",color:"#ff0000"},{name:"Out-of-phase vegetation",color:"#00ff00"},{name:"Dark",color:"#0000ff"}]}}})];const Yp=[10],Jp=0,Qp=1,rh=[{name:"Uganda Electricity Transmission Lines (full size)",label:"Uganda",tableIdentifier:"modilab.uganda_geodata:3.uganda_electricity_transmission_lines:6",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"INSTALLATI"},{name:"STRUCTURE_"}],metadataVariables:[{name:"OBJECTID"},{name:"LINE_ID"},{name:"LINE_NAME"},{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"STATUS_DET"},{name:"YEAR_COMMI"},{name:"YEAR_UPGRA"},{name:"YEAR_DECOM"},{name:"INSTALLATI"},{name:"STRUCTURE_"},{name:"FINANCIER"},{name:"CONTRACTOR"}],legendVariable:{name:"VOLTAGE_KV",mapboxPaintProperty:"line-color"},mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round","line-sort-key":sa.length+Jp},paint:{"line-color":["match",["get","VOLTAGE_KV"],"400","#045a8d","220","#2b8cbe","132","#74a9cf","66","#bdc9e1","#f1eef6"],"line-width":4}}},{name:"UMEME REA power distribution lines 2018 (full size)",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.umeme_rea_power_distribution_lines_2018:5",geoVariables:[{name:"geoBuf"}],isGeobuf:!0,filterVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],metadataVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],legendVariable:{name:"Voltage",mapboxPaintProperty:"line-color"},mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round","line-sort-key":sa.length+Qp},paint:{"line-color":["match",["get","Voltage"],"33 kV","#dd1c77","11 kV","#c994c7","#e7e1ef"],"line-width":2}}}];for(let w=0;w<rh.length;w++){for(let Ne=0;Ne<Yp.length;Ne++){const et=Yp[Ne];rh.splice(w+Ne+1,0,{...rh[w],isDefault:!1,name:(""+rh[w].name).replace("full size","reduced"),geoVariables:[{name:"geoBuf_simplified_"+et}]})}w+=Yp.length}var ah=rh.map(w=>new VectorSource_VectorSource(w));var sh=[new VectorSource_VectorSource({name:"Uganda Geosurvey Results",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:3.uganda_geosurvey_results:2",geoVariables:[{name:"lat"},{name:"lon"}],getGeometry:(w,Ne)=>({type:"Point",coordinates:[parseFloat(Ne),parseFloat(w)]}),metadataVariables:[{name:"bp",label:"Building presence"},{name:"cp",label:"Crop presence"},{name:"wp",label:"Woodland presence"},{name:"cs",label:"Conservation structure"}],mapboxSourceType:"geojson",mapboxLayerType:"circle",mapboxLayerOptions:{layout:{"circle-sort-key":sa.length+ah.length+0},paint:{"circle-color":"rgb(0,0,0)","circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":.6,"circle-radius":5}}})],lh=tt.forwardRef((function Paper(w,Ne){var et=w.classes,rt=w.className,nt=w.component,it=void 0===nt?"div":nt,ot=w.square,at=void 0!==ot&&ot,st=w.elevation,pt=void 0===st?1:st,ft=w.variant,dt=void 0===ft?"elevation":ft,mt=Object(ga.a)(w,["classes","className","component","square","elevation","variant"]);return tt.createElement(it,Object(ct.a)({className:Object(_a.a)(et.root,rt,"outlined"===dt?et.outlined:et["elevation".concat(pt)],!at&&et.rounded),ref:Ne},mt))})),ph=Object(la.a)((function styles(w){var Ne={};return w.shadows.forEach((function(w,et){Ne["elevation".concat(et)]={boxShadow:w}})),Object(ct.a)({root:{backgroundColor:w.palette.background.paper,color:w.palette.text.primary,transition:w.transitions.create("box-shadow")},rounded:{borderRadius:w.shape.borderRadius},outlined:{border:"1px solid ".concat(w.palette.divider)}},Ne)}),{name:"MuiPaper"})(lh),mh=tt.forwardRef((function Card(w,Ne){var et=w.classes,rt=w.className,nt=w.raised,it=void 0!==nt&&nt,ot=Object(ga.a)(w,["classes","className","raised"]);return tt.createElement(ph,Object(ct.a)({className:Object(_a.a)(et.root,rt),elevation:it?8:1,ref:Ne},ot))})),_h=Object(la.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(mh),bh=tt.forwardRef((function CardContent(w,Ne){var et=w.classes,rt=w.className,nt=w.component,it=void 0===nt?"div":nt,ot=Object(ga.a)(w,["classes","className","component"]);return tt.createElement(it,Object(ct.a)({className:Object(_a.a)(et.root,rt),ref:Ne},ot))})),kh=Object(la.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(bh);function MapWrapper_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}const Ph=/&zoom=([\d+\.]+)/,Oh=/&lat=(-?[\d+\.]+)/,jh=/&lng=(-?[\d+\.]+)/,qh=/&bbox=(-?[\d+\.]+),(-?[\d+\.]+),(-?[\d+\.]+),(-?[\d+\.]+)/,Yh=/&region=([^&]+)/,Qh=/&adminLayer_([^(&=)]+)=([^&]+)/g,ef=Object(la.a)({root:{minWidth:200}})(_h),tf=Object(la.a)({root:{fontSize:14,marginBottom:12}})(sl),rf=Object(la.a)({root:{fontSize:12}})(sl);function getSelectedAdminVectorLayerNamesByLabel(w){const Ne=groupOptions(sa),et={};let tt;for(;null!==(tt=Qh.exec(w));)et[decodeURIComponent(tt[1])]=decodeURIComponent(tt[2]);Qh.lastIndex=0;for(const w of Ne)et[w.label]||(et[w.label]=w.options.find(({isDefault:w})=>w).name);return et}function getSelectedRegionName(w){const{location:{search:Ne}}=w,et=Ne.match(Yh);return et?decodeURIComponent(et[1]):null}class MapWrapper_MapWrapper extends tt.Component{constructor(w){super(w),MapWrapper_defineProperty(this,"loadRasters",async()=>{this.setState({isLoadingRasters:!0});const w=(await Promise.all(Kp.map(async w=>await w.fetchData()))).reduce((w,Ne)=>w.concat(Ne),[]),Ne={};for(const et of w)Ne[et.name]=1;this.setState({rasters:w,rasterOpacityByNameMap:Ne,isLoadingRasters:!1})}),MapWrapper_defineProperty(this,"loadVectors",async()=>{this.setState({isLoadingVectors:!0});const{currentVectorLayerNamesSet:w}=this.state,Ne=ah.filter(({name:Ne})=>w.has(Ne)),et={},tt={};await Promise.all(Ne.map(async w=>{const Ne=await w.fetchData();et[w.name]=Ne;const rt=new Set([...(w.filterVariables||[]).map(({name:w})=>w)]);if(w.legendVariable&&rt.add(w.legendVariable.name),rt.size){const et=function getFiltersMap(w,Ne){const et={};for(const tt of w)for(const w in tt.metadata)Ne.has(w)&&(et[w]||(et[w]={valuesSet:new Set([]),selectedValuesSet:new Set([])}),et[w].valuesSet.add(null===tt.metadata[w]?null:tt.metadata[w]),et[w].selectedValuesSet.add(null===tt.metadata[w]?null:tt.metadata[w]));return et}(Ne,rt);tt[w.name]=et}})),this.setState({vectorFeaturesByNamesMap:et,vectorFiltersByNamesMap:tt,isLoadingVectors:!1})}),MapWrapper_defineProperty(this,"loadObservationVectors",async()=>{this.setState({isLoadingObservationVectors:!0});const{currentObservationVectorLayerNamesSet:w}=this.state,Ne=sh.filter(({name:Ne})=>w.has(Ne)),et={};await Promise.all(Ne.map(async w=>{const Ne=await w.fetchData();et[w.name]=Ne})),this.setState({observationVectorFeaturesByNamesMap:et,isLoadingObservationVectors:!1})}),MapWrapper_defineProperty(this,"loadAdminVectors",async()=>{const{location:{search:w}}=this.props;this.setState({isLoadingAdminVectors:!0});const Ne=getSelectedAdminVectorLayerNamesByLabel(w),et=getSelectedRegionName(this.props),tt=sa.filter(({name:w,label:et})=>Ne[et]===w),rt={};await Promise.all(tt.map(async w=>{const Ne=await w.fetchData();if(et)for(const w of Ne)w.properties.regionName===et&&(w.properties.opacity=.2);rt[getAdminRegionId(w)]=Ne})),this.setState({adminVectorFeaturesByIdMap:rt,isLoadingAdminVectors:!1})}),MapWrapper_defineProperty(this,"handleUpdateBaseMapLayer",w=>{this.setState({currentBaseMapLayerName:w})}),MapWrapper_defineProperty(this,"handleUpdateRasterLayers",w=>{this.setState({currentRasterLayerNamesSet:w})}),MapWrapper_defineProperty(this,"handleUpdateRasterLayerOpacityByNameMap",w=>{this.setState({rasterOpacityByNameMap:w})}),MapWrapper_defineProperty(this,"handleUpdateVectorLayers",w=>{this.setState({currentVectorLayerNamesSet:w},this.loadVectors)}),MapWrapper_defineProperty(this,"handleUpdateObservationVectorLayers",w=>{this.setState({currentObservationVectorLayerNamesSet:w},this.loadObservationVectors)}),MapWrapper_defineProperty(this,"handleUpdateAdminVectorLayers",w=>{const{location:{search:Ne},history:et}=this.props,tt=Ne.match(Yh);let rt=tt?`${Ne.slice(0,tt.index)}${Ne.slice(tt.index+tt[0].length)}`:Ne;for(const Ne of Object.keys(w)){const et=RegExp(`&adminLayer_${encodeURIComponent(Ne)}=([^&]+)`),tt=rt.match(et);rt=tt?`${rt.slice(0,tt.index)}&adminLayer_${encodeURIComponent(Ne)}=${encodeURIComponent(w[Ne])}${rt.slice(tt.index+tt[0].length)}`:rt.concat(`&adminLayer_${encodeURIComponent(Ne)}=${encodeURIComponent(w[Ne])}`)}et.replace({search:rt})}),MapWrapper_defineProperty(this,"handleUpdateVectorFilters",w=>{this.setState({vectorFiltersByNamesMap:w})}),MapWrapper_defineProperty(this,"filterFeatures",(w,Ne)=>{const{vectorFiltersByNamesMap:et}=this.state,tt=et[w],rt=[];for(const w in tt)rt.push(w);return Ne.filter(w=>!w.metadata||rt.every(Ne=>void 0===w.metadata[Ne]||tt[Ne].selectedValuesSet.has(null===w.metadata[Ne]?null:w.metadata[Ne])))}),MapWrapper_defineProperty(this,"handleAdminVectorFeatureClick",w=>{const{location:{search:Ne},history:et}=this.props;if(w.regionName){const tt=Ne.match(Yh),rt=tt?`${Ne.slice(0,tt.index)}${w?"&region="+encodeURIComponent(w.regionName):""}${Ne.slice(tt.index+tt[0].length)}`:Ne.concat("&region="+encodeURIComponent(w.regionName));et.replace({search:rt})}}),MapWrapper_defineProperty(this,"handleZoomOrPan",(w,Ne)=>{const{location:{pathname:et,search:tt},history:rt}=this.props,nt=tt.match(Ph);let it=nt?`${tt.slice(0,nt.index)}&zoom=${encodeURIComponent(w)}${tt.slice(nt.index+nt[0].length)}`:tt.concat("&zoom="+encodeURIComponent(w));const ot=it.match(jh);it=ot?`${it.slice(0,ot.index)}&lng=${encodeURIComponent(Ne.lng)}${it.slice(ot.index+ot[0].length)}`:it.concat("&lng="+encodeURIComponent(Ne.lng));const at=it.match(Oh);it=at?`${it.slice(0,at.index)}&lat=${encodeURIComponent(Ne.lat)}${it.slice(at.index+at[0].length)}`:it.concat("&lat="+encodeURIComponent(Ne.lat)),rt.replace({pathname:et,search:it})}),MapWrapper_defineProperty(this,"getZoomAndCenter",()=>{const{location:{search:w}}=this.props,Ne=w.match(Ph),et=w.match(Oh),tt=w.match(jh),rt=w.match(qh),nt={};return Ne&&(nt.zoom=parseInt(Ne[1],10)),et&&tt&&(nt.center=[parseFloat(tt[1]),parseFloat(et[1])]),rt&&(nt.boundingBox=[[parseFloat(rt[1]),parseFloat(rt[2])],[parseFloat(rt[3]),parseFloat(rt[4])]]),nt}),MapWrapper_defineProperty(this,"renderMetadataSection",(w,Ne)=>rt.a.createElement("div",{key:w,className:yc.regionSection},rt.a.createElement(rf,{color:"textSecondary",gutterBottom:!0},w),null===Ne?rt.a.createElement(rf,{color:"textSecondary"},"Not listed"):rt.a.createElement(pp,{size:"small",label:Ne}))),MapWrapper_defineProperty(this,"renderSelectedRegion",w=>{const{adminVectorFeaturesByIdMap:Ne}=this.state,et=getSelectedRegionName(this.props);for(const tt of Object.keys(w)){const nt=getAdminRegionId({name:w[tt],label:tt});if(et&&Ne[nt]){const w=Ne[nt].find(({properties:w})=>w.regionName===et);if(w)return rt.a.createElement("div",{className:yc.regionTileWrapper},rt.a.createElement(ef,null,rt.a.createElement(kh,null,rt.a.createElement(tf,{gutterBottom:!0},w.properties.regionName),Object.keys(w.metadata).filter(w=>"regionName"!==w).map(Ne=>this.renderMetadataSection(Ne,w.metadata[Ne])))))}}return null});const Ne=ah.filter(({isDefault:w})=>w),et=sh.filter(({isDefault:w})=>w),tt=sa.filter(({isDefault:w})=>w),nt={},it={},ot={},at={};for(const w of Ne)nt[w.name]=[],it[w.name]={};for(const w of et)ot[w.name]=[];for(const w of tt)at[getAdminRegionId(w)]=[];this.state={currentBaseMapLayerName:$p.find(({isDefault:w})=>w).name,currentRasterLayerNamesSet:new Set([]),currentVectorLayerNamesSet:new Set(Ne.map(({name:w})=>w)),currentObservationVectorLayerNamesSet:new Set(et.map(({name:w})=>w)),rasters:[],rasterOpacityByNameMap:{},vectorFeaturesByNamesMap:nt,vectorFiltersByNamesMap:it,adminVectorFeaturesByIdMap:at,observationVectorFeaturesByNamesMap:ot,isLoadingRasters:!1,isLoadingVectors:!1,isLoadingObservationVectors:!1,isLoadingAdminVectors:!1,previousSearch:null,previousRegionName:null}}componentDidMount(){const{location:{search:w},history:Ne}=this.props;this.loadRasters(),this.loadVectors(),this.loadObservationVectors(),this.loadAdminVectors();const et=w.match(qh);if(et){const tt=`${w.slice(0,et.index)}${w.slice(et.index+et[0].length)}`;Ne.replace({search:tt})}}static getDerivedStateFromProps(w,Ne){const{location:{search:et}}=w,{adminVectorFeaturesByIdMap:tt,previousRegionName:rt,previousSearch:nt}=Ne,it=getSelectedAdminVectorLayerNamesByLabel(et),ot=getSelectedAdminVectorLayerNamesByLabel(nt);let at=getSelectedRegionName(w);if(at!==rt){const w={adminVectorFeaturesByIdMap:{...tt},previousRegionName:at,previousSearch:et};for(const Ne of Object.keys(ot))for(const et of w.adminVectorFeaturesByIdMap[getAdminRegionId({name:ot[Ne],label:Ne})]||[])et.properties.opacity=void 0;for(const Ne of Object.keys(it))for(const et of w.adminVectorFeaturesByIdMap[getAdminRegionId({name:it[Ne],label:Ne})]||[])et.properties.opacity=void 0,at&&et.properties.regionName===at&&(et.properties.opacity=.2);return w}return null}componentDidUpdate(w){const{location:{search:Ne}}=this.props,et=getSelectedAdminVectorLayerNamesByLabel(Ne),tt=getSelectedAdminVectorLayerNamesByLabel(w.location.search);groupOptions(sa).some(({label:w})=>et[w]!==tt[w])&&this.loadAdminVectors()}render(){const{location:{search:w}}=this.props,{vectorFiltersByNamesMap:Ne,vectorFeaturesByNamesMap:et,adminVectorFeaturesByIdMap:tt,observationVectorFeaturesByNamesMap:nt,currentRasterLayerNamesSet:it,currentVectorLayerNamesSet:ot,currentObservationVectorLayerNamesSet:at,currentBaseMapLayerName:st,rasters:ct,rasterOpacityByNameMap:pt,isLoadingRasters:ft,isLoadingVectors:dt,isLoadingObservationVectors:mt,isLoadingAdminVectors:yt}=this.state,{zoom:vt,center:Rt,boundingBox:Ot}=this.getZoomAndCenter(),Dt=getSelectedAdminVectorLayerNamesByLabel(w);return rt.a.createElement("div",{className:yc.mapWrapper},this.renderSelectedRegion(Dt),rt.a.createElement("div",{className:yc.filters},rt.a.createElement(Filters,{baseMapLayers:$p,rasterLayers:ct,vectorLayers:ah,adminVectorLayers:sa,observationVectorLayers:sh,selectedAdminVectorLayerNamesByLabel:Dt,vectorFiltersByNamesMap:Ne,selectedBaseMapLayerName:st,selectedRasterLayerNamesSet:it,rasterOpacityByNameMap:pt,selectedVectorLayerNamesSet:ot,selectedObservationVectorLayerNamesSet:at,onUpdateBaseMapLayer:this.handleUpdateBaseMapLayer,onUpdateRasterLayers:this.handleUpdateRasterLayers,onUpdateRasterLayerOpacityByNameMap:this.handleUpdateRasterLayerOpacityByNameMap,onUpdateVectorLayers:this.handleUpdateVectorLayers,onUpdateAdminVectorLayers:this.handleUpdateAdminVectorLayers,onUpdateObservationVectorLayers:this.handleUpdateObservationVectorLayers,onUpdateVectorFilters:this.handleUpdateVectorFilters,isLoadingRasters:ft,isLoadingVectors:dt,isLoadingObservationVectors:mt,isLoadingAdminVectors:yt})),rt.a.createElement("div",{className:yc.map},rt.a.createElement(Map_Map,{baseMapLayer:$p.find(({name:w})=>w===st),rasterLayers:ct.filter(({name:w})=>it.has(w)).map(w=>({...w,opacity:pt[w.name]})),vectorLayers:ah.filter(({name:w})=>ot.has(w)).map(w=>({...w,features:this.filterFeatures(w.name,et[w.name]||[])})),observationVectorLayers:sh.filter(({name:w})=>at.has(w)).map(w=>({...w,features:nt[w.name]||[]})),adminVectorLayers:sa.filter(({name:w,label:Ne})=>Dt[Ne]===w).map(w=>({...w,features:tt[getAdminRegionId(w)]||[],onFeatureClick:this.handleAdminVectorFeatureClick})),onZoomOrPan:this.handleZoomOrPan,zoom:vt,center:Rt,boundingBox:Ot,renderMetadataSection:(w,Ne)=>Object(_c.renderToString)(this.renderMetadataSection(w,Ne))})))}}var nf=withRouter(MapWrapper_MapWrapper),af=et(108),sf=et(163),lf=et.n(sf),uf=et(164),cf=et.n(uf);class About_About extends tt.Component{render(){return rt.a.createElement("div",{className:af.aboutWrapper},rt.a.createElement("div",{className:af.markdownWrapper,dangerouslySetInnerHTML:{__html:lf()(cf.a,{breaks:!0,gfm:!0})}}))}}var pf=withRouter(About_About),hf=et(71);var ff=[{label:"Prediction of Building Presence",links:[{name:"Unprojected (EPSG 4326)",href:"https://drive.google.com/open?id=1qNX0enL9DJzOntxYGJFmJY62Je2KPFCg"},{name:"Projected (LAEA)",href:"https://drive.google.com/open?id=18VOHjz7rL753swvLhiGQi9QcOagCUN5n"}]},{label:"Land Cover Classification",links:[{name:"Unprojected (EPSG 4326)",href:"https://drive.google.com/open?id=1ASyvTPUSvuJJpTPk8bZiI_PzFnAg-__G"},{name:"Projected (LAEA)",href:"https://drive.google.com/open?id=16FZ4Ab-IurdOjvWlNa2InjrXQTx9Fv5_"}]},{label:"Prediction of Crop Presence",links:[{name:"Unprojected (EPSG 4326)",href:"https://drive.google.com/open?id=1nGlT8VJ_Ya_cq_4aJl4_5QOXtaE67CD1"},{name:"Projected (LAEA)",href:"https://drive.google.com/open?id=14by_Zn1WiIAdA5TmJudiVA9SrJrMHYje"}]},{label:"Prediction of Woodland Presence",links:[{name:"Unprojected (EPSG 4326)",href:"https://drive.google.com/open?id=1zcXDLHhSfc3BTAPo2XJ4dczXTN5TGiT3"},{name:"Projected (LAEA)",href:"https://drive.google.com/open?id=1cUI1w_sTniJDsEWkUtZpfT1vIBkwLaYm"}]},{label:"Uganda National Boundary",links:[{name:"Unprojected (EPSG 4326) shapefile",href:"https://drive.google.com/open?id=1JajdL0HHA6kuunoNMlbToril1HIVGMwb"}]},{label:"Uganda Regions",links:[{name:"Unprojected (EPSG 4326) shapefile",href:"https://drive.google.com/open?id=1oHyepXYLA8y1YPLEFTgWlc-zo4klMup-"}]},{label:"Uganda Districts",links:[{name:"Unprojected (EPSG 4326) shapefile",href:"https://www.dropbox.com/s/mbyvcncjhxgc68d/uganda_districts_2019_i_CD8Lv84_WGS84_wRegNms_wPopPrj_wArea%2BDens.zip?dl=0"}]},{label:"Uganda Subcounties",links:[{name:"Unprojected (EPSG 4326) shapefile",href:"https://www.dropbox.com/s/szxij9flgqjildl/subcounties_2019_WGS84.zip?dl=0"}]},{label:"Uganda Parishes (2016)",links:[{name:"Unprojected (EPSG 4326) shapefile",href:"https://www.dropbox.com/s/gmtw28m308kdx3o/uganda_parishes_cleaned_attached_2016_WGS84.zip?dl=0"}]}];class Download_About extends tt.Component{render(){return rt.a.createElement("div",{className:hf.wrapper},ff.map((w,Ne)=>rt.a.createElement("div",{key:Ne,className:hf.downloadItem},rt.a.createElement("span",{className:hf.downloadLabel},w.label),rt.a.createElement("br",null),w.links.map((w,Ne)=>rt.a.createElement("a",{key:Ne,className:hf.downloadLink,target:"_blank",rel:"noopener noreferrer",href:w.href},w.name)))))}}var df=withRouter(Download_About);function App_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}class App_App extends tt.Component{constructor(w){super(w),App_defineProperty(this,"renderHeader",()=>rt.a.createElement("div",{className:Vn.headerWrapper},rt.a.createElement("div",{className:Vn.header},rt.a.createElement("h2",null,"Columbia World Projects Energy for Productive Use")),rt.a.createElement("div",{className:Vn.navigation},rt.a.createElement(Nn,{exact:!0,className:Vn.link,activeClassName:Vn.active,to:"/cwp-epu-data-platform"},"Explore data"),rt.a.createElement(Nn,{exact:!0,className:Vn.link,activeClassName:Vn.active,to:"/cwp-epu-data-platform/map"},"Map"),rt.a.createElement(Nn,{exact:!0,className:Vn.link,activeClassName:Vn.active,to:"/cwp-epu-data-platform/download"},"Download"),rt.a.createElement(Nn,{exact:!0,className:Vn.link,activeClassName:Vn.active,to:"/cwp-epu-data-platform/about"},"About")))),App_defineProperty(this,"renderBody",()=>rt.a.createElement("div",{className:Vn.bodyWrapper},rt.a.createElement(vn,null,rt.a.createElement(rn,{exact:!0,path:"/cwp-epu-data-platform/map",component:nf}),rt.a.createElement(rn,{exact:!0,path:"/cwp-epu-data-platform/download",component:df}),rt.a.createElement(rn,{exact:!0,path:"/cwp-epu-data-platform/about",component:pf}),rt.a.createElement(rn,{component:pc}))));const{history:Ne}=w;let et=localStorage.getItem("path");et&&(localStorage.removeItem("path"),Ne.replace("/"+et))}render(){return rt.a.createElement("div",{className:Vn.appWrapper},this.renderHeader(),this.renderBody())}}var mf=withRouter(App_App);let gf=document.getElementById("root");gf||(gf=document.createElement("div"),gf.id="root",document.body.appendChild(gf)),Object(nt.render)(rt.a.createElement(bn,null,rt.a.createElement(mf,null)),gf)},,,,,,,,,,,,,,,,,,,,,,,,,,,function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return deepmerge}));var tt=et(1),rt=et(68);function isPlainObject(w){return w&&"object"===Object(rt.a)(w)&&w.constructor===Object}function deepmerge(w,Ne){var et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},rt=et.clone?Object(tt.a)({},w):w;return isPlainObject(w)&&isPlainObject(Ne)&&Object.keys(Ne).forEach((function(tt){"__proto__"!==tt&&(isPlainObject(Ne[tt])&&tt in w?rt[tt]=deepmerge(w[tt],Ne[tt],et):rt[tt]=Ne[tt])})),rt}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return useTheme}));var tt=et(0),rt=et.n(tt);var nt=rt.a.createContext(null);function useTheme(){return rt.a.useContext(nt)}}]);