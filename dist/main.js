!function(w){var Ne={};function __webpack_require__(et){if(Ne[et])return Ne[et].exports;var tt=Ne[et]={i:et,l:!1,exports:{}};return w[et].call(tt.exports,tt,tt.exports,__webpack_require__),tt.l=!0,tt.exports}__webpack_require__.m=w,__webpack_require__.c=Ne,__webpack_require__.d=function(w,Ne,et){__webpack_require__.o(w,Ne)||Object.defineProperty(w,Ne,{enumerable:!0,get:et})},__webpack_require__.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},__webpack_require__.t=function(w,Ne){if(1&Ne&&(w=__webpack_require__(w)),8&Ne)return w;if(4&Ne&&"object"==typeof w&&w&&w.__esModule)return w;var et=Object.create(null);if(__webpack_require__.r(et),Object.defineProperty(et,"default",{enumerable:!0,value:w}),2&Ne&&"string"!=typeof w)for(var tt in w)__webpack_require__.d(et,tt,function(Ne){return w[Ne]}.bind(null,tt));return et},__webpack_require__.n=function(w){var Ne=w&&w.__esModule?function getDefault(){return w.default}:function getModuleExports(){return w};return __webpack_require__.d(Ne,"a",Ne),Ne},__webpack_require__.o=function(w,Ne){return Object.prototype.hasOwnProperty.call(w,Ne)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=193)}([function(w,Ne,et){"use strict";w.exports=et(135)},function(w,Ne,et){"use strict";function _extends(){return(_extends=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}et.d(Ne,"a",(function(){return _extends}))},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _objectWithoutProperties}));var tt=et(18);function _objectWithoutProperties(w,Ne){if(null==w)return{};var et,nt,rt=Object(tt.a)(w,Ne);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(w);for(nt=0;nt<it.length;nt++)et=it[nt],Ne.indexOf(et)>=0||Object.prototype.propertyIsEnumerable.call(w,et)&&(rt[et]=w[et])}return rt}},function(w,Ne,et){"use strict";function toVal(w){var Ne,et,tt="";if("string"==typeof w||"number"==typeof w)tt+=w;else if("object"==typeof w)if(Array.isArray(w))for(Ne=0;Ne<w.length;Ne++)w[Ne]&&(et=toVal(w[Ne]))&&(tt&&(tt+=" "),tt+=et);else for(Ne in w)w[Ne]&&(tt&&(tt+=" "),tt+=Ne);return tt}Ne.a=function(){for(var w,Ne,et=0,tt="";et<arguments.length;)(w=arguments[et++])&&(Ne=toVal(w))&&(tt&&(tt+=" "),tt+=Ne);return tt}},function(w,Ne,et){w.exports=et(175)()},function(w,Ne,et){"use strict";var tt=et(1),nt=et(2),rt=et(0),it=et.n(rt),ot=(et(4),et(69)),at=et.n(ot),st=et(228),ct=et(227),pt=et(229),ft=function withStyles(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(et){var rt=Ne.defaultTheme,ot=Ne.withTheme,ft=void 0!==ot&&ot,dt=Ne.name,mt=Object(nt.a)(Ne,["defaultTheme","withTheme","name"]);var yt=dt,vt=Object(st.a)(w,Object(tt.a)({defaultTheme:rt,Component:et,name:dt||et.displayName,classNamePrefix:yt},mt)),Ot=it.a.forwardRef((function WithStyles(w,Ne){w.classes;var ot,at=w.innerRef,st=Object(nt.a)(w,["classes","innerRef"]),mt=vt(Object(tt.a)(Object(tt.a)({},et.defaultProps),w)),yt=st;return("string"==typeof dt||ft)&&(ot=Object(pt.a)()||rt,dt&&(yt=Object(ct.a)({theme:ot,name:dt,props:st})),ft&&!yt.theme&&(yt.theme=ot)),it.a.createElement(et,Object(tt.a)({ref:at||Ne,classes:mt},yt))}));return at()(Ot,et),Ot}},dt=et(39);Ne.a=function styles_withStyles_withStyles(w,Ne){return ft(w,Object(tt.a)({defaultTheme:dt.a},Ne))}},function(w,Ne,et){var tt=et(38);w.exports=function(w){if(!tt(w))throw TypeError(String(w)+" is not an object");return w}},function(w,Ne){w.exports=!1},function(w,Ne,et){var tt=et(16),nt=et(74).f,rt=et(43),it=et(67),ot=et(76),at=et(146),st=et(100);w.exports=function(w,Ne){var et,ct,pt,ft,dt,mt=w.target,yt=w.global,vt=w.stat;if(et=yt?tt:vt?tt[mt]||ot(mt,{}):(tt[mt]||{}).prototype)for(ct in Ne){if(ft=Ne[ct],pt=w.noTargetGet?(dt=nt(et,ct))&&dt.value:et[ct],!st(yt?ct:mt+(vt?".":"#")+ct,w.forced)&&void 0!==pt){if(typeof ft==typeof pt)continue;at(ft,pt)}(w.sham||pt&&pt.sham)&&rt(ft,"sham",!0),it(et,ct,ft,w)}}},,function(w,Ne,et){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(w){console.error(w)}}}(),w.exports=et(136)},function(w,Ne,et){var tt=et(6),nt=et(161),rt=et(78),it=et(19),ot=et(103),at=et(164),Result=function(w,Ne){this.stopped=w,this.result=Ne};(w.exports=function(w,Ne,et,st,ct){var pt,ft,dt,mt,yt,vt,Ot,Dt=it(Ne,et,st?2:1);if(ct)pt=w;else{if("function"!=typeof(ft=ot(w)))throw TypeError("Target is not iterable");if(nt(ft)){for(dt=0,mt=rt(w.length);mt>dt;dt++)if((yt=st?Dt(tt(Ot=w[dt])[0],Ot[1]):Dt(w[dt]))&&yt instanceof Result)return yt;return new Result(!1)}pt=ft.call(w)}for(vt=pt.next;!(Ot=vt.call(pt)).done;)if("object"==typeof(yt=at(pt,Dt,Ot.value,st))&&yt&&yt instanceof Result)return yt;return new Result(!1)}).stop=function(w){return new Result(!0,w)}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return capitalize}));var tt=et(128);function capitalize(w){if("string"!=typeof w)throw new Error(Object(tt.a)(7));return w.charAt(0).toUpperCase()+w.slice(1)}},function(w,Ne,et){var tt=et(30),nt=et(189);"string"==typeof(nt=nt.__esModule?nt.default:nt)&&(nt=[[w.i,nt,""]]);var rt={insert:"head",singleton:!1},it=(tt(nt,rt),nt.locals?nt.locals:{});w.exports=it},function(w,Ne){w.exports=function(w){if("function"!=typeof w)throw TypeError(String(w)+" is not a function");return w}},function(w,Ne,et){"use strict";function _inheritsLoose(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}et.d(Ne,"a",(function(){return _inheritsLoose}))},function(w,Ne,et){(function(Ne){var check=function(w){return w&&w.Math==Math&&w};w.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof Ne&&Ne)||Function("return this")()}).call(this,et(90))},function(w,Ne,et){var tt=et(148),nt=et(16),aFunction=function(w){return"function"==typeof w?w:void 0};w.exports=function(w,Ne){return arguments.length<2?aFunction(tt[w])||aFunction(nt[w]):tt[w]&&tt[w][Ne]||nt[w]&&nt[w][Ne]}},function(w,Ne,et){"use strict";function _objectWithoutPropertiesLoose(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}et.d(Ne,"a",(function(){return _objectWithoutPropertiesLoose}))},function(w,Ne,et){var tt=et(14);w.exports=function(w,Ne,et){if(tt(w),void 0===Ne)return w;switch(et){case 0:return function(){return w.call(Ne)};case 1:return function(et){return w.call(Ne,et)};case 2:return function(et,tt){return w.call(Ne,et,tt)};case 3:return function(et,tt,nt){return w.call(Ne,et,tt,nt)}}return function(){return w.apply(Ne,arguments)}}},function(w,Ne,et){var tt=et(30),nt=et(141);"string"==typeof(nt=nt.__esModule?nt.default:nt)&&(nt=[[w.i,nt,""]]);var rt={insert:"head",singleton:!1},it=(tt(nt,rt),nt.locals?nt.locals:{});w.exports=it},function(w,Ne,et){"use strict";et.d(Ne,"c",(function(){return getContrastRatio})),et.d(Ne,"b",(function(){return fade})),et.d(Ne,"a",(function(){return darken})),et.d(Ne,"d",(function(){return lighten}));var tt=et(128);function clamp(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(Ne,w),et)}function decomposeColor(w){if(w.type)return w;if("#"===w.charAt(0))return decomposeColor(function hexToRgb(w){w=w.substr(1);var Ne=new RegExp(".{1,".concat(w.length>=6?2:1,"}"),"g"),et=w.match(Ne);return et&&1===et[0].length&&(et=et.map((function(w){return w+w}))),et?"rgb".concat(4===et.length?"a":"","(").concat(et.map((function(w,Ne){return Ne<3?parseInt(w,16):Math.round(parseInt(w,16)/255*1e3)/1e3})).join(", "),")"):""}(w));var Ne=w.indexOf("("),et=w.substring(0,Ne);if(-1===["rgb","rgba","hsl","hsla"].indexOf(et))throw new Error(Object(tt.a)(3,w));var nt=w.substring(Ne+1,w.length-1).split(",");return{type:et,values:nt=nt.map((function(w){return parseFloat(w)}))}}function recomposeColor(w){var Ne=w.type,et=w.values;return-1!==Ne.indexOf("rgb")?et=et.map((function(w,Ne){return Ne<3?parseInt(w,10):w})):-1!==Ne.indexOf("hsl")&&(et[1]="".concat(et[1],"%"),et[2]="".concat(et[2],"%")),"".concat(Ne,"(").concat(et.join(", "),")")}function getContrastRatio(w,Ne){var et=getLuminance(w),tt=getLuminance(Ne);return(Math.max(et,tt)+.05)/(Math.min(et,tt)+.05)}function getLuminance(w){var Ne="hsl"===(w=decomposeColor(w)).type?decomposeColor(function hslToRgb(w){var Ne=(w=decomposeColor(w)).values,et=Ne[0],tt=Ne[1]/100,nt=Ne[2]/100,rt=tt*Math.min(nt,1-nt),it=function f(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(w+et/30)%12;return nt-rt*Math.max(Math.min(Ne-3,9-Ne,1),-1)},ot="rgb",at=[Math.round(255*it(0)),Math.round(255*it(8)),Math.round(255*it(4))];return"hsla"===w.type&&(ot+="a",at.push(Ne[3])),recomposeColor({type:ot,values:at})}(w)).values:w.values;return Ne=Ne.map((function(w){return(w/=255)<=.03928?w/12.92:Math.pow((w+.055)/1.055,2.4)})),Number((.2126*Ne[0]+.7152*Ne[1]+.0722*Ne[2]).toFixed(3))}function fade(w,Ne){return w=decomposeColor(w),Ne=clamp(Ne),"rgb"!==w.type&&"hsl"!==w.type||(w.type+="a"),w.values[3]=Ne,recomposeColor(w)}function darken(w,Ne){if(w=decomposeColor(w),Ne=clamp(Ne),-1!==w.type.indexOf("hsl"))w.values[2]*=1-Ne;else if(-1!==w.type.indexOf("rgb"))for(var et=0;et<3;et+=1)w.values[et]*=1-Ne;return recomposeColor(w)}function lighten(w,Ne){if(w=decomposeColor(w),Ne=clamp(Ne),-1!==w.type.indexOf("hsl"))w.values[2]+=(100-w.values[2])*Ne;else if(-1!==w.type.indexOf("rgb"))for(var et=0;et<3;et+=1)w.values[et]+=(255-w.values[et])*Ne;return recomposeColor(w)}},function(w,Ne,et){var tt=et(16),nt=et(97),rt=et(32),it=et(98),ot=et(101),at=et(158),st=nt("wks"),ct=tt.Symbol,pt=at?ct:ct&&ct.withoutSetter||it;w.exports=function(w){return rt(st,w)||(ot&&rt(ct,w)?st[w]=ct[w]:st[w]=pt("Symbol."+w)),st[w]}},function(w,Ne,et){var tt=et(6),nt=et(14),rt=et(22)("species");w.exports=function(w,Ne){var et,it=tt(w).constructor;return void 0===it||null==(et=tt(it)[rt])?Ne:nt(et)}},function(w,Ne,et){var tt=et(7),nt=et(79);w.exports=tt?nt:function(w){return Map.prototype.entries.call(w)}},function(w,Ne,et){"use strict";Ne.a=function warning(w,Ne){}},function(w,Ne){w.exports=function(w){try{return!!w()}catch(w){return!0}}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _slicedToArray}));var tt=et(70);function _slicedToArray(w,Ne){return function _arrayWithHoles(w){if(Array.isArray(w))return w}(w)||function _iterableToArrayLimit(w,Ne){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(w)){var et=[],tt=!0,nt=!1,rt=void 0;try{for(var it,ot=w[Symbol.iterator]();!(tt=(it=ot.next()).done)&&(et.push(it.value),!Ne||et.length!==Ne);tt=!0);}catch(w){nt=!0,rt=w}finally{try{tt||null==ot.return||ot.return()}finally{if(nt)throw rt}}return et}}(w,Ne)||Object(tt.a)(w,Ne)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _toConsumableArray}));var tt=et(62);var nt=et(70);function _toConsumableArray(w){return function _arrayWithoutHoles(w){if(Array.isArray(w))return Object(tt.a)(w)}(w)||function _iterableToArray(w){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(w))return Array.from(w)}(w)||Object(nt.a)(w)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(w,Ne,et){var tt=et(30),nt=et(172);"string"==typeof(nt=nt.__esModule?nt.default:nt)&&(nt=[[w.i,nt,""]]);var rt={insert:"head",singleton:!1},it=(tt(nt,rt),nt.locals?nt.locals:{});w.exports=it},function(w,Ne,et){"use strict";var tt=function isOldIE(){var w;return function memorize(){return void 0===w&&(w=Boolean(window&&document&&document.all&&!window.atob)),w}}(),nt=function getTarget(){var w={};return function memorize(Ne){if(void 0===w[Ne]){var et=document.querySelector(Ne);if(window.HTMLIFrameElement&&et instanceof window.HTMLIFrameElement)try{et=et.contentDocument.head}catch(w){et=null}w[Ne]=et}return w[Ne]}}(),rt=[];function getIndexByIdentifier(w){for(var Ne=-1,et=0;et<rt.length;et++)if(rt[et].identifier===w){Ne=et;break}return Ne}function modulesToDom(w,Ne){for(var et={},tt=[],nt=0;nt<w.length;nt++){var it=w[nt],ot=Ne.base?it[0]+Ne.base:it[0],at=et[ot]||0,st="".concat(ot," ").concat(at);et[ot]=at+1;var ct=getIndexByIdentifier(st),pt={css:it[1],media:it[2],sourceMap:it[3]};-1!==ct?(rt[ct].references++,rt[ct].updater(pt)):rt.push({identifier:st,updater:addStyle(pt,Ne),references:1}),tt.push(st)}return tt}function insertStyleElement(w){var Ne=document.createElement("style"),tt=w.attributes||{};if(void 0===tt.nonce){var rt=et.nc;rt&&(tt.nonce=rt)}if(Object.keys(tt).forEach((function(w){Ne.setAttribute(w,tt[w])})),"function"==typeof w.insert)w.insert(Ne);else{var it=nt(w.insert||"head");if(!it)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");it.appendChild(Ne)}return Ne}var it=function replaceText(){var w=[];return function replace(Ne,et){return w[Ne]=et,w.filter(Boolean).join("\n")}}();function applyToSingletonTag(w,Ne,et,tt){var nt=et?"":tt.media?"@media ".concat(tt.media," {").concat(tt.css,"}"):tt.css;if(w.styleSheet)w.styleSheet.cssText=it(Ne,nt);else{var rt=document.createTextNode(nt),ot=w.childNodes;ot[Ne]&&w.removeChild(ot[Ne]),ot.length?w.insertBefore(rt,ot[Ne]):w.appendChild(rt)}}function applyToTag(w,Ne,et){var tt=et.css,nt=et.media,rt=et.sourceMap;if(nt?w.setAttribute("media",nt):w.removeAttribute("media"),rt&&btoa&&(tt+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(rt))))," */")),w.styleSheet)w.styleSheet.cssText=tt;else{for(;w.firstChild;)w.removeChild(w.firstChild);w.appendChild(document.createTextNode(tt))}}var ot=null,at=0;function addStyle(w,Ne){var et,tt,nt;if(Ne.singleton){var rt=at++;et=ot||(ot=insertStyleElement(Ne)),tt=applyToSingletonTag.bind(null,et,rt,!1),nt=applyToSingletonTag.bind(null,et,rt,!0)}else et=insertStyleElement(Ne),tt=applyToTag.bind(null,et,Ne),nt=function remove(){!function removeStyleElement(w){if(null===w.parentNode)return!1;w.parentNode.removeChild(w)}(et)};return tt(w),function updateStyle(Ne){if(Ne){if(Ne.css===w.css&&Ne.media===w.media&&Ne.sourceMap===w.sourceMap)return;tt(w=Ne)}else nt()}}w.exports=function(w,Ne){(Ne=Ne||{}).singleton||"boolean"==typeof Ne.singleton||(Ne.singleton=tt());var et=modulesToDom(w=w||[],Ne);return function update(w){if(w=w||[],"[object Array]"===Object.prototype.toString.call(w)){for(var tt=0;tt<et.length;tt++){var nt=getIndexByIdentifier(et[tt]);rt[nt].references--}for(var it=modulesToDom(w,Ne),ot=0;ot<et.length;ot++){var at=getIndexByIdentifier(et[ot]);0===rt[at].references&&(rt[at].updater(),rt.splice(at,1))}et=it}}}},function(w,Ne,et){"use strict";w.exports=function(w){var Ne=[];return Ne.toString=function toString(){return this.map((function(Ne){var et=function cssWithMappingToString(w,Ne){var et=w[1]||"",tt=w[3];if(!tt)return et;if(Ne&&"function"==typeof btoa){var nt=function toComment(w){var Ne=btoa(unescape(encodeURIComponent(JSON.stringify(w)))),et="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Ne);return"/*# ".concat(et," */")}(tt),rt=tt.sources.map((function(w){return"/*# sourceURL=".concat(tt.sourceRoot||"").concat(w," */")}));return[et].concat(rt).concat([nt]).join("\n")}return[et].join("\n")}(Ne,w);return Ne[2]?"@media ".concat(Ne[2]," {").concat(et,"}"):et})).join("")},Ne.i=function(w,et,tt){"string"==typeof w&&(w=[[null,w,""]]);var nt={};if(tt)for(var rt=0;rt<this.length;rt++){var it=this[rt][0];null!=it&&(nt[it]=!0)}for(var ot=0;ot<w.length;ot++){var at=[].concat(w[ot]);tt&&nt[at[0]]||(et&&(at[2]?at[2]="".concat(et," and ").concat(at[2]):at[2]=et),Ne.push(at))}},Ne}},function(w,Ne){var et={}.hasOwnProperty;w.exports=function(w,Ne){return et.call(w,Ne)}},function(w,Ne,et){var tt=et(7),nt=et(79);w.exports=tt?nt:function(w){return Set.prototype.values.call(w)}},function(w,Ne,et){"use strict";function _typeof(w){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(w){return typeof w}:function _typeof(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(w)}et.d(Ne,"a",(function(){return _typeof}))},function(w,Ne,et){"use strict";function _defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}et.d(Ne,"a",(function(){return _defineProperty}))},function(w,Ne,et){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
w.exports=function(){"use strict";for(var limit=function(w,Ne,et){return void 0===Ne&&(Ne=0),void 0===et&&(et=1),w<Ne?Ne:w>et?et:w},w={},Ne=0,et=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];Ne<et.length;Ne+=1){var tt=et[Ne];w["[object "+tt+"]"]=tt.toLowerCase()}var type=function(Ne){return w[Object.prototype.toString.call(Ne)]||"object"},nt=Math.PI,rt={clip_rgb:function(w){w._clipped=!1,w._unclipped=w.slice(0);for(var Ne=0;Ne<=3;Ne++)Ne<3?((w[Ne]<0||w[Ne]>255)&&(w._clipped=!0),w[Ne]=limit(w[Ne],0,255)):3===Ne&&(w[Ne]=limit(w[Ne],0,1));return w},limit:limit,type:type,unpack:function(w,Ne){return void 0===Ne&&(Ne=null),w.length>=3?Array.prototype.slice.call(w):"object"==type(w[0])&&Ne?Ne.split("").filter((function(Ne){return void 0!==w[0][Ne]})).map((function(Ne){return w[0][Ne]})):w[0]},last:function(w){if(w.length<2)return null;var Ne=w.length-1;return"string"==type(w[Ne])?w[Ne].toLowerCase():null},PI:nt,TWOPI:2*nt,PITHIRD:nt/3,DEG2RAD:nt/180,RAD2DEG:180/nt},it={format:{},autodetect:[]},ot=rt.last,at=rt.clip_rgb,st=rt.type,ct=function Color(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=this;if("object"===st(w[0])&&w[0].constructor&&w[0].constructor===this.constructor)return w[0];var tt=ot(w),nt=!1;if(!tt){nt=!0,it.sorted||(it.autodetect=it.autodetect.sort((function(w,Ne){return Ne.p-w.p})),it.sorted=!0);for(var rt=0,ct=it.autodetect;rt<ct.length;rt+=1){var pt=ct[rt];if(tt=pt.test.apply(pt,w))break}}if(!it.format[tt])throw new Error("unknown format: "+w);var ft=it.format[tt].apply(null,nt?w:w.slice(0,-1));et._rgb=at(ft),3===et._rgb.length&&et._rgb.push(1)};ct.prototype.toString=function toString(){return"function"==st(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var pt=ct,chroma=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(chroma.Color,[null].concat(w)))};chroma.Color=pt,chroma.version="2.1.0";var ft=chroma,dt=rt.unpack,mt=Math.max,rgb2cmyk_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=dt(w,"rgb"),tt=et[0],nt=et[1],rt=et[2],it=1-mt(tt/=255,mt(nt/=255,rt/=255)),ot=it<1?1/(1-it):0,at=(1-tt-it)*ot,st=(1-nt-it)*ot,ct=(1-rt-it)*ot;return[at,st,ct,it]},yt=rt.unpack,cmyk2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=(w=yt(w,"cmyk"))[0],tt=w[1],nt=w[2],rt=w[3],it=w.length>4?w[4]:1;return 1===rt?[0,0,0,it]:[et>=1?0:255*(1-et)*(1-rt),tt>=1?0:255*(1-tt)*(1-rt),nt>=1?0:255*(1-nt)*(1-rt),it]},vt=rt.unpack,Ot=rt.type;pt.prototype.cmyk=function(){return rgb2cmyk_1(this._rgb)},ft.cmyk=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["cmyk"])))},it.format.cmyk=cmyk2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=vt(w,"cmyk"),"array"===Ot(w)&&4===w.length)return"cmyk"}});var Dt=rt.unpack,Rt=rt.last,rnd=function(w){return Math.round(100*w)/100},hsl2css_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Dt(w,"hsla"),tt=Rt(w)||"lsa";return et[0]=rnd(et[0]||0),et[1]=rnd(100*et[1])+"%",et[2]=rnd(100*et[2])+"%","hsla"===tt||et.length>3&&et[3]<1?(et[3]=et.length>3?et[3]:1,tt="hsla"):et.length=3,tt+"("+et.join(",")+")"},Bt=rt.unpack,rgb2hsl_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=(w=Bt(w,"rgba"))[0],tt=w[1],nt=w[2];et/=255,tt/=255,nt/=255;var rt,it,ot=Math.min(et,tt,nt),at=Math.max(et,tt,nt),st=(at+ot)/2;return at===ot?(rt=0,it=Number.NaN):rt=st<.5?(at-ot)/(at+ot):(at-ot)/(2-at-ot),et==at?it=(tt-nt)/(at-ot):tt==at?it=2+(nt-et)/(at-ot):nt==at&&(it=4+(et-tt)/(at-ot)),(it*=60)<0&&(it+=360),w.length>3&&void 0!==w[3]?[it,rt,st,w[3]]:[it,rt,st]},rn=rt.unpack,vn=rt.last,bn=Math.round,rgb2css_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=rn(w,"rgba"),tt=vn(w)||"rgb";return"hsl"==tt.substr(0,3)?hsl2css_1(rgb2hsl_1(et),tt):(et[0]=bn(et[0]),et[1]=bn(et[1]),et[2]=bn(et[2]),("rgba"===tt||et.length>3&&et[3]<1)&&(et[3]=et.length>3?et[3]:1,tt="rgba"),tt+"("+et.slice(0,"rgb"===tt?3:4).join(",")+")")},Cn=rt.unpack,Tn=Math.round,hsl2rgb_1=function(){for(var w,Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];var tt,nt,rt,it=(Ne=Cn(Ne,"hsl"))[0],ot=Ne[1],at=Ne[2];if(0===ot)tt=nt=rt=255*at;else{var st=[0,0,0],ct=[0,0,0],pt=at<.5?at*(1+ot):at+ot-at*ot,ft=2*at-pt,dt=it/360;st[0]=dt+1/3,st[1]=dt,st[2]=dt-1/3;for(var mt=0;mt<3;mt++)st[mt]<0&&(st[mt]+=1),st[mt]>1&&(st[mt]-=1),6*st[mt]<1?ct[mt]=ft+6*(pt-ft)*st[mt]:2*st[mt]<1?ct[mt]=pt:3*st[mt]<2?ct[mt]=ft+(pt-ft)*(2/3-st[mt])*6:ct[mt]=ft;tt=(w=[Tn(255*ct[0]),Tn(255*ct[1]),Tn(255*ct[2])])[0],nt=w[1],rt=w[2]}return Ne.length>3?[tt,nt,rt,Ne[3]]:[tt,nt,rt,1]},In=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Mn=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,zn=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Ln=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Fn=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Bn=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Nn=Math.round,css2rgb=function(w){var Ne;if(w=w.toLowerCase().trim(),it.format.named)try{return it.format.named(w)}catch(w){}if(Ne=w.match(In)){for(var et=Ne.slice(1,4),tt=0;tt<3;tt++)et[tt]=+et[tt];return et[3]=1,et}if(Ne=w.match(Mn)){for(var nt=Ne.slice(1,5),rt=0;rt<4;rt++)nt[rt]=+nt[rt];return nt}if(Ne=w.match(zn)){for(var ot=Ne.slice(1,4),at=0;at<3;at++)ot[at]=Nn(2.55*ot[at]);return ot[3]=1,ot}if(Ne=w.match(Ln)){for(var st=Ne.slice(1,5),ct=0;ct<3;ct++)st[ct]=Nn(2.55*st[ct]);return st[3]=+st[3],st}if(Ne=w.match(Fn)){var pt=Ne.slice(1,4);pt[1]*=.01,pt[2]*=.01;var ft=hsl2rgb_1(pt);return ft[3]=1,ft}if(Ne=w.match(Bn)){var dt=Ne.slice(1,4);dt[1]*=.01,dt[2]*=.01;var mt=hsl2rgb_1(dt);return mt[3]=+Ne[4],mt}};css2rgb.test=function(w){return In.test(w)||Mn.test(w)||zn.test(w)||Ln.test(w)||Fn.test(w)||Bn.test(w)};var Vn=css2rgb,Wn=rt.type;pt.prototype.css=function(w){return rgb2css_1(this._rgb,w)},ft.css=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["css"])))},it.format.css=Vn,it.autodetect.push({p:5,test:function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];if(!Ne.length&&"string"===Wn(w)&&Vn.test(w))return"css"}});var $n=rt.unpack;it.format.gl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=$n(w,"rgba");return et[0]*=255,et[1]*=255,et[2]*=255,et},ft.gl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["gl"])))},pt.prototype.gl=function(){var w=this._rgb;return[w[0]/255,w[1]/255,w[2]/255,w[3]]};var Yn=rt.unpack,rgb2hcg_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt=Yn(w,"rgb"),nt=tt[0],rt=tt[1],it=tt[2],ot=Math.min(nt,rt,it),at=Math.max(nt,rt,it),st=at-ot,ct=100*st/255,pt=ot/(255-st)*100;return 0===st?et=Number.NaN:(nt===at&&(et=(rt-it)/st),rt===at&&(et=2+(it-nt)/st),it===at&&(et=4+(nt-rt)/st),(et*=60)<0&&(et+=360)),[et,ct,pt]},er=rt.unpack,rr=Math.floor,hcg2rgb_1=function(){for(var w,Ne,et,tt,nt,rt,it=[],ot=arguments.length;ot--;)it[ot]=arguments[ot];var at,st,ct,pt=(it=er(it,"hcg"))[0],ft=it[1],dt=it[2];dt*=255;var mt=255*ft;if(0===ft)at=st=ct=dt;else{360===pt&&(pt=0),pt>360&&(pt-=360),pt<0&&(pt+=360);var yt=rr(pt/=60),vt=pt-yt,Ot=dt*(1-ft),Dt=Ot+mt*(1-vt),Rt=Ot+mt*vt,Bt=Ot+mt;switch(yt){case 0:at=(w=[Bt,Rt,Ot])[0],st=w[1],ct=w[2];break;case 1:at=(Ne=[Dt,Bt,Ot])[0],st=Ne[1],ct=Ne[2];break;case 2:at=(et=[Ot,Bt,Rt])[0],st=et[1],ct=et[2];break;case 3:at=(tt=[Ot,Dt,Bt])[0],st=tt[1],ct=tt[2];break;case 4:at=(nt=[Rt,Ot,Bt])[0],st=nt[1],ct=nt[2];break;case 5:at=(rt=[Bt,Ot,Dt])[0],st=rt[1],ct=rt[2]}}return[at,st,ct,it.length>3?it[3]:1]},vr=rt.unpack,wr=rt.type;pt.prototype.hcg=function(){return rgb2hcg_1(this._rgb)},ft.hcg=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hcg"])))},it.format.hcg=hcg2rgb_1,it.autodetect.push({p:1,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=vr(w,"hcg"),"array"===wr(w)&&3===w.length)return"hcg"}});var Sr=rt.unpack,ii=rt.last,qi=Math.round,rgb2hex_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Sr(w,"rgba"),tt=et[0],nt=et[1],rt=et[2],it=et[3],ot=ii(w)||"auto";void 0===it&&(it=1),"auto"===ot&&(ot=it<1?"rgba":"rgb");var at=(tt=qi(tt))<<16|(nt=qi(nt))<<8|(rt=qi(rt)),st="000000"+at.toString(16);st=st.substr(st.length-6);var ct="0"+qi(255*it).toString(16);switch(ct=ct.substr(ct.length-2),ot.toLowerCase()){case"rgba":return"#"+st+ct;case"argb":return"#"+ct+st;default:return"#"+st}},uo=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,po=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hex2rgb_1=function(w){if(w.match(uo)){4!==w.length&&7!==w.length||(w=w.substr(1)),3===w.length&&(w=(w=w.split(""))[0]+w[0]+w[1]+w[1]+w[2]+w[2]);var Ne=parseInt(w,16);return[Ne>>16,Ne>>8&255,255&Ne,1]}if(w.match(po)){5!==w.length&&9!==w.length||(w=w.substr(1)),4===w.length&&(w=(w=w.split(""))[0]+w[0]+w[1]+w[1]+w[2]+w[2]+w[3]+w[3]);var et=parseInt(w,16);return[et>>24&255,et>>16&255,et>>8&255,Math.round((255&et)/255*100)/100]}throw new Error("unknown hex color: "+w)},vo=rt.type;pt.prototype.hex=function(w){return rgb2hex_1(this._rgb,w)},ft.hex=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hex"])))},it.format.hex=hex2rgb_1,it.autodetect.push({p:4,test:function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];if(!Ne.length&&"string"===vo(w)&&[3,4,5,6,7,8,9].indexOf(w.length)>=0)return"hex"}});var So=rt.unpack,ta=rt.TWOPI,na=Math.min,ia=Math.sqrt,sa=Math.acos,rgb2hsi_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt=So(w,"rgb"),nt=tt[0],rt=tt[1],it=tt[2],ot=na(nt/=255,rt/=255,it/=255),at=(nt+rt+it)/3,st=at>0?1-ot/at:0;return 0===st?et=NaN:(et=(nt-rt+(nt-it))/2,et/=ia((nt-rt)*(nt-rt)+(nt-it)*(rt-it)),et=sa(et),it>rt&&(et=ta-et),et/=ta),[360*et,st,at]},la=rt.unpack,pa=rt.limit,fa=rt.TWOPI,ga=rt.PITHIRD,va=Math.cos,hsi2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt,nt,rt=(w=la(w,"hsi"))[0],it=w[1],ot=w[2];return isNaN(rt)&&(rt=0),isNaN(it)&&(it=0),rt>360&&(rt-=360),rt<0&&(rt+=360),(rt/=360)<1/3?tt=1-((nt=(1-it)/3)+(et=(1+it*va(fa*rt)/va(ga-fa*rt))/3)):rt<2/3?nt=1-((et=(1-it)/3)+(tt=(1+it*va(fa*(rt-=1/3))/va(ga-fa*rt))/3)):et=1-((tt=(1-it)/3)+(nt=(1+it*va(fa*(rt-=2/3))/va(ga-fa*rt))/3)),[255*(et=pa(ot*et*3)),255*(tt=pa(ot*tt*3)),255*(nt=pa(ot*nt*3)),w.length>3?w[3]:1]},_a=rt.unpack,wa=rt.type;pt.prototype.hsi=function(){return rgb2hsi_1(this._rgb)},ft.hsi=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hsi"])))},it.format.hsi=hsi2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=_a(w,"hsi"),"array"===wa(w)&&3===w.length)return"hsi"}});var Aa=rt.unpack,os=rt.type;pt.prototype.hsl=function(){return rgb2hsl_1(this._rgb)},ft.hsl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hsl"])))},it.format.hsl=hsl2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=Aa(w,"hsl"),"array"===os(w)&&3===w.length)return"hsl"}});var as=rt.unpack,ss=Math.min,ls=Math.max,rgb2hsv=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt,nt,rt=(w=as(w,"rgb"))[0],it=w[1],ot=w[2],at=ss(rt,it,ot),st=ls(rt,it,ot),ct=st-at;return nt=st/255,0===st?(et=Number.NaN,tt=0):(tt=ct/st,rt===st&&(et=(it-ot)/ct),it===st&&(et=2+(ot-rt)/ct),ot===st&&(et=4+(rt-it)/ct),(et*=60)<0&&(et+=360)),[et,tt,nt]},us=rt.unpack,fs=Math.floor,hsv2rgb_1=function(){for(var w,Ne,et,tt,nt,rt,it=[],ot=arguments.length;ot--;)it[ot]=arguments[ot];var at,st,ct,pt=(it=us(it,"hsv"))[0],ft=it[1],dt=it[2];if(dt*=255,0===ft)at=st=ct=dt;else{360===pt&&(pt=0),pt>360&&(pt-=360),pt<0&&(pt+=360);var mt=fs(pt/=60),yt=pt-mt,vt=dt*(1-ft),Ot=dt*(1-ft*yt),Dt=dt*(1-ft*(1-yt));switch(mt){case 0:at=(w=[dt,Dt,vt])[0],st=w[1],ct=w[2];break;case 1:at=(Ne=[Ot,dt,vt])[0],st=Ne[1],ct=Ne[2];break;case 2:at=(et=[vt,dt,Dt])[0],st=et[1],ct=et[2];break;case 3:at=(tt=[vt,Ot,dt])[0],st=tt[1],ct=tt[2];break;case 4:at=(nt=[Dt,vt,dt])[0],st=nt[1],ct=nt[2];break;case 5:at=(rt=[dt,vt,Ot])[0],st=rt[1],ct=rt[2]}}return[at,st,ct,it.length>3?it[3]:1]},gs=rt.unpack,vs=rt.type;pt.prototype.hsv=function(){return rgb2hsv(this._rgb)},ft.hsv=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hsv"])))},it.format.hsv=hsv2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=gs(w,"hsv"),"array"===vs(w)&&3===w.length)return"hsv"}});var xs=18,Ss=.95047,Es=1,Cs=1.08883,Ps=.137931034,As=.206896552,Ms=.12841855,Os=.008856452,zs=rt.unpack,Ls=Math.pow,rgb_xyz=function(w){return(w/=255)<=.04045?w/12.92:Ls((w+.055)/1.055,2.4)},xyz_lab=function(w){return w>Os?Ls(w,1/3):w/Ms+Ps},rgb2xyz=function(w,Ne,et){return w=rgb_xyz(w),Ne=rgb_xyz(Ne),et=rgb_xyz(et),[xyz_lab((.4124564*w+.3575761*Ne+.1804375*et)/Ss),xyz_lab((.2126729*w+.7151522*Ne+.072175*et)/Es),xyz_lab((.0193339*w+.119192*Ne+.9503041*et)/Cs)]},rgb2lab_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=zs(w,"rgb"),tt=et[0],nt=et[1],rt=et[2],it=rgb2xyz(tt,nt,rt),ot=it[0],at=it[1],st=it[2],ct=116*at-16;return[ct<0?0:ct,500*(ot-at),200*(at-st)]},Rs=rt.unpack,Fs=Math.pow,xyz_rgb=function(w){return 255*(w<=.00304?12.92*w:1.055*Fs(w,1/2.4)-.055)},lab_xyz=function(w){return w>As?w*w*w:Ms*(w-Ps)},lab2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et,tt,nt,rt=(w=Rs(w,"lab"))[0],it=w[1],ot=w[2];return tt=(rt+16)/116,et=isNaN(it)?tt:tt+it/500,nt=isNaN(ot)?tt:tt-ot/200,tt=Es*lab_xyz(tt),et=Ss*lab_xyz(et),nt=Cs*lab_xyz(nt),[xyz_rgb(3.2404542*et-1.5371385*tt-.4985314*nt),xyz_rgb(-.969266*et+1.8760108*tt+.041556*nt),xyz_rgb(.0556434*et-.2040259*tt+1.0572252*nt),w.length>3?w[3]:1]},Bs=rt.unpack,js=rt.type;pt.prototype.lab=function(){return rgb2lab_1(this._rgb)},ft.lab=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["lab"])))},it.format.lab=lab2rgb_1,it.autodetect.push({p:2,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=Bs(w,"lab"),"array"===js(w)&&3===w.length)return"lab"}});var Ns=rt.unpack,Vs=rt.RAD2DEG,Us=Math.sqrt,Zs=Math.atan2,Js=Math.round,lab2lch_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Ns(w,"lab"),tt=et[0],nt=et[1],rt=et[2],it=Us(nt*nt+rt*rt),ot=(Zs(rt,nt)*Vs+360)%360;return 0===Js(1e4*it)&&(ot=Number.NaN),[tt,it,ot]},tl=rt.unpack,rgb2lch_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=tl(w,"rgb"),tt=et[0],nt=et[1],rt=et[2],it=rgb2lab_1(tt,nt,rt),ot=it[0],at=it[1],st=it[2];return lab2lch_1(ot,at,st)},ol=rt.unpack,sl=rt.DEG2RAD,dl=Math.sin,yl=Math.cos,lch2lab_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=ol(w,"lch"),tt=et[0],nt=et[1],rt=et[2];return isNaN(rt)&&(rt=0),[tt,yl(rt*=sl)*nt,dl(rt)*nt]},gl=rt.unpack,lch2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=(w=gl(w,"lch"))[0],tt=w[1],nt=w[2],rt=lch2lab_1(et,tt,nt),it=rt[0],ot=rt[1],at=rt[2],st=lab2rgb_1(it,ot,at),ct=st[0],pt=st[1],ft=st[2];return[ct,pt,ft,w.length>3?w[3]:1]},vl=rt.unpack,hcl2rgb_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=vl(w,"hcl").reverse();return lch2rgb_1.apply(void 0,et)},_l=rt.unpack,bl=rt.type;pt.prototype.lch=function(){return rgb2lch_1(this._rgb)},pt.prototype.hcl=function(){return rgb2lch_1(this._rgb).reverse()},ft.lch=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["lch"])))},ft.hcl=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["hcl"])))},it.format.lch=lch2rgb_1,it.format.hcl=hcl2rgb_1,["lch","hcl"].forEach((function(w){return it.autodetect.push({p:2,test:function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];if(Ne=_l(Ne,w),"array"===bl(Ne)&&3===Ne.length)return w}})}));var xl={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},wl=rt.type;pt.prototype.name=function(){for(var w=rgb2hex_1(this._rgb,"rgb"),Ne=0,et=Object.keys(xl);Ne<et.length;Ne+=1){var tt=et[Ne];if(xl[tt]===w)return tt.toLowerCase()}return w},it.format.named=function(w){if(w=w.toLowerCase(),xl[w])return hex2rgb_1(xl[w]);throw new Error("unknown color name: "+w)},it.autodetect.push({p:5,test:function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];if(!Ne.length&&"string"===wl(w)&&xl[w.toLowerCase()])return"named"}});var Sl=rt.unpack,rgb2num_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Sl(w,"rgb"),tt=et[0],nt=et[1],rt=et[2];return(tt<<16)+(nt<<8)+rt},kl=rt.type,num2rgb_1=function(w){if("number"==kl(w)&&w>=0&&w<=16777215)return[w>>16,w>>8&255,255&w,1];throw new Error("unknown num color: "+w)},Cl=rt.type;pt.prototype.num=function(){return rgb2num_1(this._rgb)},ft.num=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["num"])))},it.format.num=num2rgb_1,it.autodetect.push({p:5,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(1===w.length&&"number"===Cl(w[0])&&w[0]>=0&&w[0]<=16777215)return"num"}});var Il=rt.unpack,Al=rt.type,zl=Math.round;pt.prototype.rgb=function(w){return void 0===w&&(w=!0),!1===w?this._rgb.slice(0,3):this._rgb.slice(0,3).map(zl)},pt.prototype.rgba=function(w){return void 0===w&&(w=!0),this._rgb.slice(0,4).map((function(Ne,et){return et<3?!1===w?Ne:zl(Ne):Ne}))},ft.rgb=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["rgb"])))},it.format.rgb=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=Il(w,"rgba");return void 0===et[3]&&(et[3]=1),et},it.autodetect.push({p:3,test:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];if(w=Il(w,"rgba"),"array"===Al(w)&&(3===w.length||4===w.length&&"number"==Al(w[3])&&w[3]>=0&&w[3]<=1))return"rgb"}});var Fl=Math.log,temperature2rgb_1=function(w){var Ne,et,tt,nt=w/100;return nt<66?(Ne=255,et=-155.25485562709179-.44596950469579133*(et=nt-2)+104.49216199393888*Fl(et),tt=nt<20?0:.8274096064007395*(tt=nt-10)-254.76935184120902+115.67994401066147*Fl(tt)):(Ne=351.97690566805693+.114206453784165*(Ne=nt-55)-40.25366309332127*Fl(Ne),et=325.4494125711974+.07943456536662342*(et=nt-50)-28.0852963507957*Fl(et),tt=255),[Ne,et,tt,1]},Hl=rt.unpack,du=Math.round,rgb2temperature_1=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];for(var et,tt=Hl(w,"rgb"),nt=tt[0],rt=tt[2],it=1e3,ot=4e4,at=.4;ot-it>at;){var st=temperature2rgb_1(et=.5*(ot+it));st[2]/st[0]>=rt/nt?ot=et:it=et}return du(et)};pt.prototype.temp=pt.prototype.kelvin=pt.prototype.temperature=function(){return rgb2temperature_1(this._rgb)},ft.temp=ft.kelvin=ft.temperature=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];return new(Function.prototype.bind.apply(pt,[null].concat(w,["temp"])))},it.format.temp=it.format.kelvin=it.format.temperature=temperature2rgb_1;var vu=rt.type;pt.prototype.alpha=function(w,Ne){return void 0===Ne&&(Ne=!1),void 0!==w&&"number"===vu(w)?Ne?(this._rgb[3]=w,this):new pt([this._rgb[0],this._rgb[1],this._rgb[2],w],"rgb"):this._rgb[3]},pt.prototype.clipped=function(){return this._rgb._clipped||!1},pt.prototype.darken=function(w){void 0===w&&(w=1);var Ne=this.lab();return Ne[0]-=xs*w,new pt(Ne,"lab").alpha(this.alpha(),!0)},pt.prototype.brighten=function(w){return void 0===w&&(w=1),this.darken(-w)},pt.prototype.darker=pt.prototype.darken,pt.prototype.brighter=pt.prototype.brighten,pt.prototype.get=function(w){var Ne=w.split("."),et=Ne[0],tt=Ne[1],nt=this[et]();if(tt){var rt=et.indexOf(tt);if(rt>-1)return nt[rt];throw new Error("unknown channel "+tt+" in mode "+et)}return nt};var _u=rt.type,wu=Math.pow;pt.prototype.luminance=function(w){if(void 0!==w&&"number"===_u(w)){if(0===w)return new pt([0,0,0,this._rgb[3]],"rgb");if(1===w)return new pt([255,255,255,this._rgb[3]],"rgb");var Ne=this.luminance(),et=20,test=function(Ne,tt){var nt=Ne.interpolate(tt,.5,"rgb"),rt=nt.luminance();return Math.abs(w-rt)<1e-7||!et--?nt:rt>w?test(Ne,nt):test(nt,tt)},tt=(Ne>w?test(new pt([0,0,0]),this):test(this,new pt([255,255,255]))).rgb();return new pt(tt.concat([this._rgb[3]]))}return rgb2luminance.apply(void 0,this._rgb.slice(0,3))};var rgb2luminance=function(w,Ne,et){return.2126*(w=luminance_x(w))+.7152*(Ne=luminance_x(Ne))+.0722*(et=luminance_x(et))},luminance_x=function(w){return(w/=255)<=.03928?w/12.92:wu((w+.055)/1.055,2.4)},Tu={},Fu=rt.type,mix=function(w,Ne,et){void 0===et&&(et=.5);for(var tt=[],nt=arguments.length-3;nt-- >0;)tt[nt]=arguments[nt+3];var rt=tt[0]||"lrgb";if(Tu[rt]||tt.length||(rt=Object.keys(Tu)[0]),!Tu[rt])throw new Error("interpolation mode "+rt+" is not defined");return"object"!==Fu(w)&&(w=new pt(w)),"object"!==Fu(Ne)&&(Ne=new pt(Ne)),Tu[rt](w,Ne,et).alpha(w.alpha()+et*(Ne.alpha()-w.alpha()))};pt.prototype.mix=pt.prototype.interpolate=function(w,Ne){void 0===Ne&&(Ne=.5);for(var et=[],tt=arguments.length-2;tt-- >0;)et[tt]=arguments[tt+2];return mix.apply(void 0,[this,w,Ne].concat(et))},pt.prototype.premultiply=function(w){void 0===w&&(w=!1);var Ne=this._rgb,et=Ne[3];return w?(this._rgb=[Ne[0]*et,Ne[1]*et,Ne[2]*et,et],this):new pt([Ne[0]*et,Ne[1]*et,Ne[2]*et,et],"rgb")},pt.prototype.saturate=function(w){void 0===w&&(w=1);var Ne=this.lch();return Ne[1]+=xs*w,Ne[1]<0&&(Ne[1]=0),new pt(Ne,"lch").alpha(this.alpha(),!0)},pt.prototype.desaturate=function(w){return void 0===w&&(w=1),this.saturate(-w)};var ac=rt.type;pt.prototype.set=function(w,Ne,et){void 0===et&&(et=!1);var tt=w.split("."),nt=tt[0],rt=tt[1],it=this[nt]();if(rt){var ot=nt.indexOf(rt);if(ot>-1){if("string"==ac(Ne))switch(Ne.charAt(0)){case"+":case"-":it[ot]+=+Ne;break;case"*":it[ot]*=+Ne.substr(1);break;case"/":it[ot]/=+Ne.substr(1);break;default:it[ot]=+Ne}else{if("number"!==ac(Ne))throw new Error("unsupported value for Color.set");it[ot]=Ne}var at=new pt(it,nt);return et?(this._rgb=at._rgb,this):at}throw new Error("unknown channel "+rt+" in mode "+nt)}return it},Tu.rgb=function(w,Ne,et){var tt=w._rgb,nt=Ne._rgb;return new pt(tt[0]+et*(nt[0]-tt[0]),tt[1]+et*(nt[1]-tt[1]),tt[2]+et*(nt[2]-tt[2]),"rgb")};var pc=Math.sqrt,yc=Math.pow;Tu.lrgb=function(w,Ne,et){var tt=w._rgb,nt=tt[0],rt=tt[1],it=tt[2],ot=Ne._rgb,at=ot[0],st=ot[1],ct=ot[2];return new pt(pc(yc(nt,2)*(1-et)+yc(at,2)*et),pc(yc(rt,2)*(1-et)+yc(st,2)*et),pc(yc(it,2)*(1-et)+yc(ct,2)*et),"rgb")},Tu.lab=function(w,Ne,et){var tt=w.lab(),nt=Ne.lab();return new pt(tt[0]+et*(nt[0]-tt[0]),tt[1]+et*(nt[1]-tt[1]),tt[2]+et*(nt[2]-tt[2]),"lab")};var _hsx=function(w,Ne,et,tt){var nt,rt,it,ot,at,st,ct,ft,dt,mt,yt,vt;return"hsl"===tt?(it=w.hsl(),ot=Ne.hsl()):"hsv"===tt?(it=w.hsv(),ot=Ne.hsv()):"hcg"===tt?(it=w.hcg(),ot=Ne.hcg()):"hsi"===tt?(it=w.hsi(),ot=Ne.hsi()):"lch"!==tt&&"hcl"!==tt||(tt="hcl",it=w.hcl(),ot=Ne.hcl()),"h"===tt.substr(0,1)&&(at=(nt=it)[0],ct=nt[1],dt=nt[2],st=(rt=ot)[0],ft=rt[1],mt=rt[2]),isNaN(at)||isNaN(st)?isNaN(at)?isNaN(st)?vt=Number.NaN:(vt=st,1!=dt&&0!=dt||"hsv"==tt||(yt=ft)):(vt=at,1!=mt&&0!=mt||"hsv"==tt||(yt=ct)):vt=at+et*(st>at&&st-at>180?st-(at+360):st<at&&at-st>180?st+360-at:st-at),void 0===yt&&(yt=ct+et*(ft-ct)),new pt([vt,yt,dt+et*(mt-dt)],tt)},lch$1=function(w,Ne,et){return _hsx(w,Ne,et,"lch")};Tu.lch=lch$1,Tu.hcl=lch$1,Tu.num=function(w,Ne,et){var tt=w.num(),nt=Ne.num();return new pt(tt+et*(nt-tt),"num")},Tu.hcg=function(w,Ne,et){return _hsx(w,Ne,et,"hcg")},Tu.hsi=function(w,Ne,et){return _hsx(w,Ne,et,"hsi")},Tu.hsl=function(w,Ne,et){return _hsx(w,Ne,et,"hsl")},Tu.hsv=function(w,Ne,et){return _hsx(w,Ne,et,"hsv")};var _c=rt.clip_rgb,bc=Math.pow,xc=Math.sqrt,wc=Math.PI,Ec=Math.cos,kc=Math.sin,Cc=Math.atan2,_average_lrgb=function(w,Ne){for(var et=w.length,tt=[0,0,0,0],nt=0;nt<w.length;nt++){var rt=w[nt],it=Ne[nt]/et,ot=rt._rgb;tt[0]+=bc(ot[0],2)*it,tt[1]+=bc(ot[1],2)*it,tt[2]+=bc(ot[2],2)*it,tt[3]+=ot[3]*it}return tt[0]=xc(tt[0]),tt[1]=xc(tt[1]),tt[2]=xc(tt[2]),tt[3]>.9999999&&(tt[3]=1),new pt(_c(tt))},Ic=rt.type,Ac=Math.pow,scale=function(w){var Ne="rgb",et=ft("#ccc"),tt=0,nt=[0,1],rt=[],it=[0,0],ot=!1,at=[],st=!1,ct=0,pt=1,dt=!1,mt={},yt=!0,vt=1,setColors=function(w){if((w=w||["#fff","#000"])&&"string"===Ic(w)&&ft.brewer&&ft.brewer[w.toLowerCase()]&&(w=ft.brewer[w.toLowerCase()]),"array"===Ic(w)){1===w.length&&(w=[w[0],w[0]]),w=w.slice(0);for(var Ne=0;Ne<w.length;Ne++)w[Ne]=ft(w[Ne]);rt.length=0;for(var et=0;et<w.length;et++)rt.push(et/(w.length-1))}return resetCache(),at=w},tMapLightness=function(w){return w},tMapDomain=function(w){return w},getColor=function(w,tt){var nt,st;if(null==tt&&(tt=!1),isNaN(w)||null===w)return et;st=tt?w:ot&&ot.length>2?function(w){if(null!=ot){for(var Ne=ot.length-1,et=0;et<Ne&&w>=ot[et];)et++;return et-1}return 0}(w)/(ot.length-2):pt!==ct?(w-ct)/(pt-ct):1,st=tMapDomain(st),tt||(st=tMapLightness(st)),1!==vt&&(st=Ac(st,vt)),st=it[0]+st*(1-it[0]-it[1]),st=Math.min(1,Math.max(0,st));var dt=Math.floor(1e4*st);if(yt&&mt[dt])nt=mt[dt];else{if("array"===Ic(at))for(var Ot=0;Ot<rt.length;Ot++){var Dt=rt[Ot];if(st<=Dt){nt=at[Ot];break}if(st>=Dt&&Ot===rt.length-1){nt=at[Ot];break}if(st>Dt&&st<rt[Ot+1]){st=(st-Dt)/(rt[Ot+1]-Dt),nt=ft.interpolate(at[Ot],at[Ot+1],st,Ne);break}}else"function"===Ic(at)&&(nt=at(st));yt&&(mt[dt]=nt)}return nt},resetCache=function(){return mt={}};setColors(w);var f=function(w){var Ne=ft(getColor(w));return st&&Ne[st]?Ne[st]():Ne};return f.classes=function(w){if(null!=w){if("array"===Ic(w))ot=w,nt=[w[0],w[w.length-1]];else{var Ne=ft.analyze(nt);ot=0===w?[Ne.min,Ne.max]:ft.limits(Ne,"e",w)}return f}return ot},f.domain=function(w){if(!arguments.length)return nt;ct=w[0],pt=w[w.length-1],rt=[];var Ne=at.length;if(w.length===Ne&&ct!==pt)for(var et=0,tt=Array.from(w);et<tt.length;et+=1){var it=tt[et];rt.push((it-ct)/(pt-ct))}else{for(var ot=0;ot<Ne;ot++)rt.push(ot/(Ne-1));if(w.length>2){var st=w.map((function(Ne,et){return et/(w.length-1)})),ft=w.map((function(w){return(w-ct)/(pt-ct)}));ft.every((function(w,Ne){return st[Ne]===w}))||(tMapDomain=function(w){if(w<=0||w>=1)return w;for(var Ne=0;w>=ft[Ne+1];)Ne++;var et=(w-ft[Ne])/(ft[Ne+1]-ft[Ne]);return st[Ne]+et*(st[Ne+1]-st[Ne])})}}return nt=[ct,pt],f},f.mode=function(w){return arguments.length?(Ne=w,resetCache(),f):Ne},f.range=function(w,Ne){return setColors(w),f},f.out=function(w){return st=w,f},f.spread=function(w){return arguments.length?(tt=w,f):tt},f.correctLightness=function(w){return null==w&&(w=!0),dt=w,resetCache(),tMapLightness=dt?function(w){for(var Ne=getColor(0,!0).lab()[0],et=getColor(1,!0).lab()[0],tt=Ne>et,nt=getColor(w,!0).lab()[0],rt=Ne+(et-Ne)*w,it=nt-rt,ot=0,at=1,st=20;Math.abs(it)>.01&&st-- >0;)tt&&(it*=-1),it<0?(ot=w,w+=.5*(at-w)):(at=w,w+=.5*(ot-w)),nt=getColor(w,!0).lab()[0],it=nt-rt;return w}:function(w){return w},f},f.padding=function(w){return null!=w?("number"===Ic(w)&&(w=[w,w]),it=w,f):it},f.colors=function(Ne,et){arguments.length<2&&(et="hex");var tt=[];if(0===arguments.length)tt=at.slice(0);else if(1===Ne)tt=[f(.5)];else if(Ne>1){var rt=nt[0],it=nt[1]-rt;tt=__range__(0,Ne,!1).map((function(w){return f(rt+w/(Ne-1)*it)}))}else{w=[];var st=[];if(ot&&ot.length>2)for(var ct=1,pt=ot.length,dt=1<=pt;dt?ct<pt:ct>pt;dt?ct++:ct--)st.push(.5*(ot[ct-1]+ot[ct]));else st=nt;tt=st.map((function(w){return f(w)}))}return ft[et]&&(tt=tt.map((function(w){return w[et]()}))),tt},f.cache=function(w){return null!=w?(yt=w,f):yt},f.gamma=function(w){return null!=w?(vt=w,f):vt},f.nodata=function(w){return null!=w?(et=ft(w),f):et},f};function __range__(w,Ne,et){for(var tt=[],nt=w<Ne,rt=et?nt?Ne+1:Ne-1:Ne,it=w;nt?it<rt:it>rt;nt?it++:it--)tt.push(it);return tt}var bezier=function(w){var Ne,et,tt,nt,rt,it,ot;if(2===(w=w.map((function(w){return new pt(w)}))).length)Ne=w.map((function(w){return w.lab()})),rt=Ne[0],it=Ne[1],nt=function(w){var Ne=[0,1,2].map((function(Ne){return rt[Ne]+w*(it[Ne]-rt[Ne])}));return new pt(Ne,"lab")};else if(3===w.length)et=w.map((function(w){return w.lab()})),rt=et[0],it=et[1],ot=et[2],nt=function(w){var Ne=[0,1,2].map((function(Ne){return(1-w)*(1-w)*rt[Ne]+2*(1-w)*w*it[Ne]+w*w*ot[Ne]}));return new pt(Ne,"lab")};else if(4===w.length){var at;tt=w.map((function(w){return w.lab()})),rt=tt[0],it=tt[1],ot=tt[2],at=tt[3],nt=function(w){var Ne=[0,1,2].map((function(Ne){return(1-w)*(1-w)*(1-w)*rt[Ne]+3*(1-w)*(1-w)*w*it[Ne]+3*(1-w)*w*w*ot[Ne]+w*w*w*at[Ne]}));return new pt(Ne,"lab")}}else if(5===w.length){var st=bezier(w.slice(0,3)),ct=bezier(w.slice(2,5));nt=function(w){return w<.5?st(2*w):ct(2*(w-.5))}}return nt},blend=function(w,Ne,et){if(!blend[et])throw new Error("unknown blend mode "+et);return blend[et](w,Ne)},blend_f=function(w){return function(Ne,et){var tt=ft(et).rgb(),nt=ft(Ne).rgb();return ft.rgb(w(tt,nt))}},each=function(w){return function(Ne,et){var tt=[];return tt[0]=w(Ne[0],et[0]),tt[1]=w(Ne[1],et[1]),tt[2]=w(Ne[2],et[2]),tt}};blend.normal=blend_f(each((function(w){return w}))),blend.multiply=blend_f(each((function(w,Ne){return w*Ne/255}))),blend.screen=blend_f(each((function(w,Ne){return 255*(1-(1-w/255)*(1-Ne/255))}))),blend.overlay=blend_f(each((function(w,Ne){return Ne<128?2*w*Ne/255:255*(1-2*(1-w/255)*(1-Ne/255))}))),blend.darken=blend_f(each((function(w,Ne){return w>Ne?Ne:w}))),blend.lighten=blend_f(each((function(w,Ne){return w>Ne?w:Ne}))),blend.dodge=blend_f(each((function(w,Ne){return 255===w||(w=Ne/255*255/(1-w/255))>255?255:w}))),blend.burn=blend_f(each((function(w,Ne){return 255*(1-(1-Ne/255)/(w/255))})));for(var zc=blend,Dc=rt.type,Fc=rt.clip_rgb,Bc=rt.TWOPI,Wc=Math.pow,Hc=Math.sin,Gc=Math.cos,Zc=Math.floor,Xc=Math.random,$c=Math.log,Yc=Math.pow,rp=Math.floor,ip=Math.abs,analyze=function(w,Ne){void 0===Ne&&(Ne=null);var et={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===type(w)&&(w=Object.values(w)),w.forEach((function(w){Ne&&"object"===type(w)&&(w=w[Ne]),null==w||isNaN(w)||(et.values.push(w),et.sum+=w,w<et.min&&(et.min=w),w>et.max&&(et.max=w),et.count+=1)})),et.domain=[et.min,et.max],et.limits=function(w,Ne){return limits(et,w,Ne)},et},limits=function(w,Ne,et){void 0===Ne&&(Ne="equal"),void 0===et&&(et=7),"array"==type(w)&&(w=analyze(w));var tt=w.min,nt=w.max,rt=w.values.sort((function(w,Ne){return w-Ne}));if(1===et)return[tt,nt];var it=[];if("c"===Ne.substr(0,1)&&(it.push(tt),it.push(nt)),"e"===Ne.substr(0,1)){it.push(tt);for(var ot=1;ot<et;ot++)it.push(tt+ot/et*(nt-tt));it.push(nt)}else if("l"===Ne.substr(0,1)){if(tt<=0)throw new Error("Logarithmic scales are only possible for values > 0");var at=Math.LOG10E*$c(tt),st=Math.LOG10E*$c(nt);it.push(tt);for(var ct=1;ct<et;ct++)it.push(Yc(10,at+ct/et*(st-at)));it.push(nt)}else if("q"===Ne.substr(0,1)){it.push(tt);for(var pt=1;pt<et;pt++){var ft=(rt.length-1)*pt/et,dt=rp(ft);if(dt===ft)it.push(rt[dt]);else{var mt=ft-dt;it.push(rt[dt]*(1-mt)+rt[dt+1]*mt)}}it.push(nt)}else if("k"===Ne.substr(0,1)){var yt,vt=rt.length,Ot=new Array(vt),Dt=new Array(et),Rt=!0,Bt=0,rn=null;(rn=[]).push(tt);for(var vn=1;vn<et;vn++)rn.push(tt+vn/et*(nt-tt));for(rn.push(nt);Rt;){for(var bn=0;bn<et;bn++)Dt[bn]=0;for(var Cn=0;Cn<vt;Cn++)for(var Tn=rt[Cn],In=Number.MAX_VALUE,Mn=void 0,zn=0;zn<et;zn++){var Ln=ip(rn[zn]-Tn);Ln<In&&(In=Ln,Mn=zn),Dt[Mn]++,Ot[Cn]=Mn}for(var Fn=new Array(et),Bn=0;Bn<et;Bn++)Fn[Bn]=null;for(var Nn=0;Nn<vt;Nn++)null===Fn[yt=Ot[Nn]]?Fn[yt]=rt[Nn]:Fn[yt]+=rt[Nn];for(var Vn=0;Vn<et;Vn++)Fn[Vn]*=1/Dt[Vn];Rt=!1;for(var Wn=0;Wn<et;Wn++)if(Fn[Wn]!==rn[Wn]){Rt=!0;break}rn=Fn,++Bt>200&&(Rt=!1)}for(var $n={},Yn=0;Yn<et;Yn++)$n[Yn]=[];for(var er=0;er<vt;er++)$n[yt=Ot[er]].push(rt[er]);for(var rr=[],vr=0;vr<et;vr++)rr.push($n[vr][0]),rr.push($n[vr][$n[vr].length-1]);rr=rr.sort((function(w,Ne){return w-Ne})),it.push(rr[0]);for(var wr=1;wr<rr.length;wr+=2){var Sr=rr[wr];isNaN(Sr)||-1!==it.indexOf(Sr)||it.push(Sr)}}return it},op={analyze:analyze,limits:limits},ap=Math.sqrt,sp=Math.atan2,lp=Math.abs,cp=Math.cos,pp=Math.PI,hp={cool:function cool(){return scale([ft.hsl(180,1,.9),ft.hsl(250,.7,.4)])},hot:function hot(){return scale(["#000","#f00","#ff0","#fff"]).mode("rgb")}},fp={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},dp=0,mp=Object.keys(fp);dp<mp.length;dp+=1){var yp=mp[dp];fp[yp.toLowerCase()]=fp[yp]}var gp=fp;return ft.average=function(w,Ne,et){void 0===Ne&&(Ne="lrgb"),void 0===et&&(et=null);var tt=w.length;et||(et=Array.from(new Array(tt)).map((function(){return 1})));var nt=tt/et.reduce((function(w,Ne){return w+Ne}));if(et.forEach((function(w,Ne){et[Ne]*=nt})),w=w.map((function(w){return new pt(w)})),"lrgb"===Ne)return _average_lrgb(w,et);for(var rt=w.shift(),it=rt.get(Ne),ot=[],at=0,st=0,ct=0;ct<it.length;ct++)if(it[ct]=(it[ct]||0)*et[0],ot.push(isNaN(it[ct])?0:et[0]),"h"===Ne.charAt(ct)&&!isNaN(it[ct])){var ft=it[ct]/180*wc;at+=Ec(ft)*et[0],st+=kc(ft)*et[0]}var dt=rt.alpha()*et[0];w.forEach((function(w,tt){var nt=w.get(Ne);dt+=w.alpha()*et[tt+1];for(var rt=0;rt<it.length;rt++)if(!isNaN(nt[rt]))if(ot[rt]+=et[tt+1],"h"===Ne.charAt(rt)){var ct=nt[rt]/180*wc;at+=Ec(ct)*et[tt+1],st+=kc(ct)*et[tt+1]}else it[rt]+=nt[rt]*et[tt+1]}));for(var mt=0;mt<it.length;mt++)if("h"===Ne.charAt(mt)){for(var yt=Cc(st/ot[mt],at/ot[mt])/wc*180;yt<0;)yt+=360;for(;yt>=360;)yt-=360;it[mt]=yt}else it[mt]=it[mt]/ot[mt];return dt/=tt,new pt(it,Ne).alpha(dt>.99999?1:dt,!0)},ft.bezier=function(w){var Ne=bezier(w);return Ne.scale=function(){return scale(Ne)},Ne},ft.blend=zc,ft.cubehelix=function(w,Ne,et,tt,nt){void 0===w&&(w=300),void 0===Ne&&(Ne=-1.5),void 0===et&&(et=1),void 0===tt&&(tt=1),void 0===nt&&(nt=[0,1]);var rt,it=0;"array"===Dc(nt)?rt=nt[1]-nt[0]:(rt=0,nt=[nt,nt]);var f=function(ot){var at=Bc*((w+120)/360+Ne*ot),st=Wc(nt[0]+rt*ot,tt),ct=(0!==it?et[0]+ot*it:et)*st*(1-st)/2,pt=Gc(at),dt=Hc(at);return ft(Fc([255*(st+ct*(-.14861*pt+1.78277*dt)),255*(st+ct*(-.29227*pt-.90649*dt)),255*(st+ct*(1.97294*pt)),1]))};return f.start=function(Ne){return null==Ne?w:(w=Ne,f)},f.rotations=function(w){return null==w?Ne:(Ne=w,f)},f.gamma=function(w){return null==w?tt:(tt=w,f)},f.hue=function(w){return null==w?et:("array"===Dc(et=w)?0==(it=et[1]-et[0])&&(et=et[1]):it=0,f)},f.lightness=function(w){return null==w?nt:("array"===Dc(w)?(nt=w,rt=w[1]-w[0]):(nt=[w,w],rt=0),f)},f.scale=function(){return ft.scale(f)},f.hue(et),f},ft.mix=ft.interpolate=mix,ft.random=function(){for(var w="#",Ne=0;Ne<6;Ne++)w+="0123456789abcdef".charAt(Zc(16*Xc()));return new pt(w,"hex")},ft.scale=scale,ft.analyze=op.analyze,ft.contrast=function(w,Ne){w=new pt(w),Ne=new pt(Ne);var et=w.luminance(),tt=Ne.luminance();return et>tt?(et+.05)/(tt+.05):(tt+.05)/(et+.05)},ft.deltaE=function(w,Ne,et,tt){void 0===et&&(et=1),void 0===tt&&(tt=1),w=new pt(w),Ne=new pt(Ne);for(var nt=Array.from(w.lab()),rt=nt[0],it=nt[1],ot=nt[2],at=Array.from(Ne.lab()),st=at[0],ct=at[1],ft=at[2],dt=ap(it*it+ot*ot),mt=ap(ct*ct+ft*ft),yt=rt<16?.511:.040975*rt/(1+.01765*rt),vt=.0638*dt/(1+.0131*dt)+.638,Ot=dt<1e-6?0:180*sp(ot,it)/pp;Ot<0;)Ot+=360;for(;Ot>=360;)Ot-=360;var Dt=Ot>=164&&Ot<=345?.56+lp(.2*cp(pp*(Ot+168)/180)):.36+lp(.4*cp(pp*(Ot+35)/180)),Rt=dt*dt*dt*dt,Bt=ap(Rt/(Rt+1900)),rn=vt*(Bt*Dt+1-Bt),vn=dt-mt,bn=it-ct,Cn=ot-ft,Tn=(rt-st)/(et*yt),In=vn/(tt*vt);return ap(Tn*Tn+In*In+(bn*bn+Cn*Cn-vn*vn)/(rn*rn))},ft.distance=function(w,Ne,et){void 0===et&&(et="lab"),w=new pt(w),Ne=new pt(Ne);var tt=w.get(et),nt=Ne.get(et),rt=0;for(var it in tt){var ot=(tt[it]||0)-(nt[it]||0);rt+=ot*ot}return Math.sqrt(rt)},ft.limits=op.limits,ft.valid=function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];try{return new(Function.prototype.bind.apply(pt,[null].concat(w))),!0}catch(w){return!1}},ft.scales=hp,ft.colors=xl,ft.brewer=gp,ft}()},function(w,Ne){var et={}.toString;w.exports=function(w){return et.call(w).slice(8,-1)}},function(w,Ne){w.exports=function(w){return"object"==typeof w?null!==w:"function"==typeof w}},function(w,Ne,et){"use strict";var tt=et(35),nt=et(2),rt=et(226),it=et(1),ot=["xs","sm","md","lg","xl"];function createBreakpoints(w){var Ne=w.values,et=void 0===Ne?{xs:0,sm:600,md:960,lg:1280,xl:1920}:Ne,tt=w.unit,rt=void 0===tt?"px":tt,at=w.step,st=void 0===at?5:at,ct=Object(nt.a)(w,["values","unit","step"]);function up(w){var Ne="number"==typeof et[w]?et[w]:w;return"@media (min-width:".concat(Ne).concat(rt,")")}function between(w,Ne){var tt=ot.indexOf(Ne);return tt===ot.length-1?up(w):"@media (min-width:".concat("number"==typeof et[w]?et[w]:w).concat(rt,") and ")+"(max-width:".concat((-1!==tt&&"number"==typeof et[ot[tt+1]]?et[ot[tt+1]]:Ne)-st/100).concat(rt,")")}return Object(it.a)({keys:ot,values:et,up:up,down:function down(w){var Ne=ot.indexOf(w)+1,tt=et[ot[Ne]];return Ne===ot.length?up("xs"):"@media (max-width:".concat(("number"==typeof tt&&Ne>0?tt:w)-st/100).concat(rt,")")},between:between,only:function only(w){return between(w,w)},width:function width(w){return et[w]}},ct)}function createMixins(w,Ne,et){var nt;return Object(it.a)({gutters:function gutters(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(it.a)({paddingLeft:Ne(2),paddingRight:Ne(2)},et,Object(tt.a)({},w.up("sm"),Object(it.a)({paddingLeft:Ne(3),paddingRight:Ne(3)},et[w.up("sm")])))},toolbar:(nt={minHeight:56},Object(tt.a)(nt,"".concat(w.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(tt.a)(nt,w.up("sm"),{minHeight:64}),nt)},et)}var at=et(128),st={black:"#000",white:"#fff"},ct=et(72),pt={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},ft={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},dt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},mt={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yt={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},vt={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ot=et(21),Dt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:st.white,default:ct.a[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Rt={text:{primary:st.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:ct.a[800],default:"#303030"},action:{active:st.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(w,Ne,et,tt){var nt=tt.light||tt,rt=tt.dark||1.5*tt;w[Ne]||(w.hasOwnProperty(et)?w[Ne]=w[et]:"light"===Ne?w.light=Object(Ot.d)(w.main,nt):"dark"===Ne&&(w.dark=Object(Ot.a)(w.main,rt)))}function createPalette(w){var Ne=w.primary,et=void 0===Ne?{light:pt[300],main:pt[500],dark:pt[700]}:Ne,tt=w.secondary,ot=void 0===tt?{light:ft.A200,main:ft.A400,dark:ft.A700}:tt,Bt=w.error,rn=void 0===Bt?{light:dt[300],main:dt[500],dark:dt[700]}:Bt,vn=w.warning,bn=void 0===vn?{light:mt[300],main:mt[500],dark:mt[700]}:vn,Cn=w.info,Tn=void 0===Cn?{light:yt[300],main:yt[500],dark:yt[700]}:Cn,In=w.success,Mn=void 0===In?{light:vt[300],main:vt[500],dark:vt[700]}:In,zn=w.type,Ln=void 0===zn?"light":zn,Fn=w.contrastThreshold,Bn=void 0===Fn?3:Fn,Nn=w.tonalOffset,Vn=void 0===Nn?.2:Nn,Wn=Object(nt.a)(w,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function getContrastText(w){return Object(Ot.c)(w,Rt.text.primary)>=Bn?Rt.text.primary:Dt.text.primary}var $n=function augmentColor(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,tt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(w=Object(it.a)({},w)).main&&w[Ne]&&(w.main=w[Ne]),!w.main)throw new Error(Object(at.a)(4,Ne));if("string"!=typeof w.main)throw new Error(Object(at.a)(5,JSON.stringify(w.main)));return addLightOrDark(w,"light",et,Vn),addLightOrDark(w,"dark",tt,Vn),w.contrastText||(w.contrastText=getContrastText(w.main)),w},Yn={dark:Rt,light:Dt};return Object(rt.a)(Object(it.a)({common:st,type:Ln,primary:$n(et),secondary:$n(ot,"A400","A200","A700"),error:$n(rn),warning:$n(bn),info:$n(Tn),success:$n(Mn),grey:ct.a,contrastThreshold:Bn,getContrastText:getContrastText,augmentColor:$n,tonalOffset:Vn},Yn[Ln]),Wn)}function round(w){return Math.round(1e5*w)/1e5}var Bt={textTransform:"uppercase"};function createTypography(w,Ne){var et="function"==typeof Ne?Ne(w):Ne,tt=et.fontFamily,ot=void 0===tt?'"Roboto", "Helvetica", "Arial", sans-serif':tt,at=et.fontSize,st=void 0===at?14:at,ct=et.fontWeightLight,pt=void 0===ct?300:ct,ft=et.fontWeightRegular,dt=void 0===ft?400:ft,mt=et.fontWeightMedium,yt=void 0===mt?500:mt,vt=et.fontWeightBold,Ot=void 0===vt?700:vt,Dt=et.htmlFontSize,Rt=void 0===Dt?16:Dt,rn=et.allVariants,vn=et.pxToRem,bn=Object(nt.a)(et,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var Cn=st/14,Tn=vn||function(w){return"".concat(w/Rt*Cn,"rem")},In=function buildVariant(w,Ne,et,tt,nt){return Object(it.a)({fontFamily:ot,fontWeight:w,fontSize:Tn(Ne),lineHeight:et},'"Roboto", "Helvetica", "Arial", sans-serif'===ot?{letterSpacing:"".concat(round(tt/Ne),"em")}:{},nt,rn)},Mn={h1:In(pt,96,1.167,-1.5),h2:In(pt,60,1.2,-.5),h3:In(dt,48,1.167,0),h4:In(dt,34,1.235,.25),h5:In(dt,24,1.334,0),h6:In(yt,20,1.6,.15),subtitle1:In(dt,16,1.75,.15),subtitle2:In(yt,14,1.57,.1),body1:In(dt,16,1.5,.15),body2:In(dt,14,1.43,.15),button:In(yt,14,1.75,.4,Bt),caption:In(dt,12,1.66,.4),overline:In(dt,12,2.66,1,Bt)};return Object(rt.a)(Object(it.a)({htmlFontSize:Rt,pxToRem:Tn,round:round,fontFamily:ot,fontSize:st,fontWeightLight:pt,fontWeightRegular:dt,fontWeightMedium:yt,fontWeightBold:Ot},Mn),bn,{clone:!1})}function createShadow(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var rn=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],vn={borderRadius:4},bn=et(27),Cn=(et(28),et(34));et(4);var Tn=function merge(w,Ne){return Ne?Object(rt.a)(w,Ne,{clone:!1}):w},In={xs:0,sm:600,md:960,lg:1280,xl:1920},Mn={keys:["xs","sm","md","lg","xl"],up:function up(w){return"@media (min-width:".concat(In[w],"px)")}};var zn={m:"margin",p:"padding"},Ln={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Fn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Bn=function memoize(w){var Ne={};return function(et){return void 0===Ne[et]&&(Ne[et]=w(et)),Ne[et]}}((function(w){if(w.length>2){if(!Fn[w])return[w];w=Fn[w]}var Ne=w.split(""),et=Object(bn.a)(Ne,2),tt=et[0],nt=et[1],rt=zn[tt],it=Ln[nt]||"";return Array.isArray(it)?it.map((function(w){return rt+w})):[rt+it]})),Nn=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function createUnarySpacing(w){var Ne=w.spacing||8;return"number"==typeof Ne?function(w){return Ne*w}:Array.isArray(Ne)?function(w){return Ne[w]}:"function"==typeof Ne?Ne:function(){}}function getStyleFromPropValue(w,Ne){return function(et){return w.reduce((function(w,tt){return w[tt]=function getValue(w,Ne){if("string"==typeof Ne)return Ne;var et=w(Math.abs(Ne));return Ne>=0?et:"number"==typeof et?-et:"-".concat(et)}(Ne,et),w}),{})}}function spacing_spacing(w){var Ne=createUnarySpacing(w.theme);return Object.keys(w).map((function(et){if(-1===Nn.indexOf(et))return null;var tt=getStyleFromPropValue(Bn(et),Ne),nt=w[et];return function handleBreakpoints(w,Ne,et){if(Array.isArray(Ne)){var tt=w.theme.breakpoints||Mn;return Ne.reduce((function(w,nt,rt){return w[tt.up(tt.keys[rt])]=et(Ne[rt]),w}),{})}if("object"===Object(Cn.a)(Ne)){var nt=w.theme.breakpoints||Mn;return Object.keys(Ne).reduce((function(w,tt){return w[nt.up(tt)]=et(Ne[tt]),w}),{})}return et(Ne)}(w,nt,tt)})).reduce(Tn,{})}spacing_spacing.propTypes={},spacing_spacing.filterProps=Nn;function createSpacing(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(w.mui)return w;var Ne=createUnarySpacing({spacing:w}),et=function spacing(){for(var w=arguments.length,et=new Array(w),tt=0;tt<w;tt++)et[tt]=arguments[tt];return 0===et.length?Ne(1):1===et.length?Ne(et[0]):et.map((function(w){if("string"==typeof w)return w;var et=Ne(w);return"number"==typeof et?"".concat(et,"px"):et})).join(" ")};return Object.defineProperty(et,"unit",{get:function get(){return w}}),et.mui=!0,et}var Vn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Wn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(w){return"".concat(Math.round(w),"ms")}var $n={easing:Vn,duration:Wn,create:function create(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=Ne.duration,tt=void 0===et?Wn.standard:et,rt=Ne.easing,it=void 0===rt?Vn.easeInOut:rt,ot=Ne.delay,at=void 0===ot?0:ot;Object(nt.a)(Ne,["duration","easing","delay"]);return(Array.isArray(w)?w:[w]).map((function(w){return"".concat(w," ").concat("string"==typeof tt?tt:formatMs(tt)," ").concat(it," ").concat("string"==typeof at?at:formatMs(at))})).join(",")},getAutoHeightDuration:function getAutoHeightDuration(w){if(!w)return 0;var Ne=w/36;return Math.round(10*(4+15*Math.pow(Ne,.25)+Ne/5))}},Yn=et(71);var er=function createMuiTheme(){for(var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=w.breakpoints,et=void 0===Ne?{}:Ne,tt=w.mixins,it=void 0===tt?{}:tt,ot=w.palette,at=void 0===ot?{}:ot,st=w.spacing,ct=w.typography,pt=void 0===ct?{}:ct,ft=Object(nt.a)(w,["breakpoints","mixins","palette","spacing","typography"]),dt=createPalette(at),mt=createBreakpoints(et),yt=createSpacing(st),vt=Object(rt.a)({breakpoints:mt,direction:"ltr",mixins:createMixins(mt,yt,it),overrides:{},palette:dt,props:{},shadows:rn,typography:createTypography(dt,pt),spacing:yt,shape:vn,transitions:$n,zIndex:Yn.a},ft),Ot=arguments.length,Dt=new Array(Ot>1?Ot-1:0),Rt=1;Rt<Ot;Rt++)Dt[Rt-1]=arguments[Rt];return vt=Dt.reduce((function(w,Ne){return Object(rt.a)(w,Ne)}),vt)}();Ne.a=er},function(w,Ne,et){"use strict";function _defineProperties(w,Ne){for(var et=0;et<Ne.length;et++){var tt=Ne[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(w,tt.key,tt)}}function _createClass(w,Ne,et){return Ne&&_defineProperties(w.prototype,Ne),et&&_defineProperties(w,et),w}et.d(Ne,"a",(function(){return _createClass}))},function(w,Ne,et){w.exports=function(){"use strict";var w,Ne,et;function define(tt,nt){if(w)if(Ne){var rt="var sharedChunk = {}; ("+w+")(sharedChunk); ("+Ne+")(sharedChunk);",it={};w(it),et=nt(it),"undefined"!=typeof window&&(et.workerUrl=window.URL.createObjectURL(new Blob([rt],{type:"text/javascript"})))}else Ne=nt;else w=nt}return define(0,(function(w){function e(w,Ne){return w(Ne={exports:{}},Ne.exports),Ne.exports}var Ne=n;function n(w,Ne,et,tt){this.cx=3*w,this.bx=3*(et-w)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*Ne,this.by=3*(tt-Ne)-this.cy,this.ay=1-this.cy-this.by,this.p1x=w,this.p1y=tt,this.p2x=et,this.p2y=tt}n.prototype.sampleCurveX=function(w){return((this.ax*w+this.bx)*w+this.cx)*w},n.prototype.sampleCurveY=function(w){return((this.ay*w+this.by)*w+this.cy)*w},n.prototype.sampleCurveDerivativeX=function(w){return(3*this.ax*w+2*this.bx)*w+this.cx},n.prototype.solveCurveX=function(w,Ne){var et,tt,nt,rt,it;for(void 0===Ne&&(Ne=1e-6),nt=w,it=0;it<8;it++){if(rt=this.sampleCurveX(nt)-w,Math.abs(rt)<Ne)return nt;var ot=this.sampleCurveDerivativeX(nt);if(Math.abs(ot)<1e-6)break;nt-=rt/ot}if((nt=w)<(et=0))return et;if(nt>(tt=1))return tt;for(;et<tt;){if(rt=this.sampleCurveX(nt),Math.abs(rt-w)<Ne)return nt;w>rt?et=nt:tt=nt,nt=.5*(tt-et)+et}return nt},n.prototype.solve=function(w,Ne){return this.sampleCurveY(this.solveCurveX(w,Ne))};var et=a;function a(w,Ne){this.x=w,this.y=Ne}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(w){return this.clone()._add(w)},sub:function(w){return this.clone()._sub(w)},multByPoint:function(w){return this.clone()._multByPoint(w)},divByPoint:function(w){return this.clone()._divByPoint(w)},mult:function(w){return this.clone()._mult(w)},div:function(w){return this.clone()._div(w)},rotate:function(w){return this.clone()._rotate(w)},rotateAround:function(w,Ne){return this.clone()._rotateAround(w,Ne)},matMult:function(w){return this.clone()._matMult(w)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(w){return this.x===w.x&&this.y===w.y},dist:function(w){return Math.sqrt(this.distSqr(w))},distSqr:function(w){var Ne=w.x-this.x,et=w.y-this.y;return Ne*Ne+et*et},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(w){return Math.atan2(this.y-w.y,this.x-w.x)},angleWith:function(w){return this.angleWithSep(w.x,w.y)},angleWithSep:function(w,Ne){return Math.atan2(this.x*Ne-this.y*w,this.x*w+this.y*Ne)},_matMult:function(w){var Ne=w[2]*this.x+w[3]*this.y;return this.x=w[0]*this.x+w[1]*this.y,this.y=Ne,this},_add:function(w){return this.x+=w.x,this.y+=w.y,this},_sub:function(w){return this.x-=w.x,this.y-=w.y,this},_mult:function(w){return this.x*=w,this.y*=w,this},_div:function(w){return this.x/=w,this.y/=w,this},_multByPoint:function(w){return this.x*=w.x,this.y*=w.y,this},_divByPoint:function(w){return this.x/=w.x,this.y/=w.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var w=this.y;return this.y=this.x,this.x=-w,this},_rotate:function(w){var Ne=Math.cos(w),et=Math.sin(w),tt=et*this.x+Ne*this.y;return this.x=Ne*this.x-et*this.y,this.y=tt,this},_rotateAround:function(w,Ne){var et=Math.cos(w),tt=Math.sin(w),nt=Ne.y+tt*(this.x-Ne.x)+et*(this.y-Ne.y);return this.x=Ne.x+et*(this.x-Ne.x)-tt*(this.y-Ne.y),this.y=nt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(w){return w instanceof a?w:Array.isArray(w)?new a(w[0],w[1]):w};var tt="undefined"!=typeof self?self:{};function s(w,et,tt,nt){var rt=new Ne(w,et,tt,nt);return function(w){return rt.solve(w)}}var nt=s(.25,.1,.25,1);function l(w,Ne,et){return Math.min(et,Math.max(Ne,w))}function p(w,Ne,et){var tt=et-Ne,nt=((w-Ne)%tt+tt)%tt+Ne;return nt===Ne?et:nt}function c(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];for(var tt=0,nt=Ne;tt<nt.length;tt+=1){var rt=nt[tt];for(var it in rt)w[it]=rt[it]}return w}var rt=1;function f(){return rt++}function y(){return function t(w){return w?(w^16*Math.random()>>w/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(w){return!!w&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(w)}function m(w,Ne){w.forEach((function(w){Ne[w]&&(Ne[w]=Ne[w].bind(Ne))}))}function v(w,Ne){return-1!==w.indexOf(Ne,w.length-Ne.length)}function g(w,Ne,et){var tt={};for(var nt in w)tt[nt]=Ne.call(et||this,w[nt],nt,w);return tt}function x(w,Ne,et){var tt={};for(var nt in w)Ne.call(et||this,w[nt],nt,w)&&(tt[nt]=w[nt]);return tt}function b(w){return Array.isArray(w)?w.map(b):"object"==typeof w&&w?g(w,b):w}var it={};function _(w){it[w]||("undefined"!=typeof console&&console.warn(w),it[w]=!0)}function A(w,Ne,et){return(et.y-w.y)*(Ne.x-w.x)>(Ne.y-w.y)*(et.x-w.x)}function S(w){for(var Ne=0,et=0,tt=w.length,nt=tt-1,rt=void 0,it=void 0;et<tt;nt=et++)Ne+=((it=w[nt]).x-(rt=w[et]).x)*(rt.y+it.y);return Ne}function k(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function I(w){var Ne={};if(w.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(w,et,tt,nt){var rt=tt||nt;return Ne[et]=!rt||rt.toLowerCase(),""})),Ne["max-age"]){var et=parseInt(Ne["max-age"],10);isNaN(et)?delete Ne["max-age"]:Ne["max-age"]=et}return Ne}var ot=null;function C(w){if(null==ot){var Ne=w.navigator?w.navigator.userAgent:null;ot=!!w.safari||!(!Ne||!(/\b(iPad|iPhone|iPod)\b/.test(Ne)||Ne.match("Safari")&&!Ne.match("Chrome")))}return ot}function M(w){try{var Ne=tt[w];return Ne.setItem("_mapbox_test_",1),Ne.removeItem("_mapbox_test_"),!0}catch(w){return!1}}var at,st,ct,pt,ft=tt.performance&&tt.performance.now?tt.performance.now.bind(tt.performance):Date.now.bind(Date),dt=tt.requestAnimationFrame||tt.mozRequestAnimationFrame||tt.webkitRequestAnimationFrame||tt.msRequestAnimationFrame,mt=tt.cancelAnimationFrame||tt.mozCancelAnimationFrame||tt.webkitCancelAnimationFrame||tt.msCancelAnimationFrame,yt={now:ft,frame:function(w){var Ne=dt(w);return{cancel:function(){return mt(Ne)}}},getImageData:function(w,Ne){void 0===Ne&&(Ne=0);var et=tt.document.createElement("canvas"),nt=et.getContext("2d");if(!nt)throw new Error("failed to create canvas 2d context");return et.width=w.width,et.height=w.height,nt.drawImage(w,0,0,w.width,w.height),nt.getImageData(-Ne,-Ne,w.width+2*Ne,w.height+2*Ne)},resolveURL:function(w){return at||(at=tt.document.createElement("a")),at.href=w,at.href},hardwareConcurrency:tt.navigator&&tt.navigator.hardwareConcurrency||4,get devicePixelRatio(){return tt.devicePixelRatio},get prefersReducedMotion(){return!!tt.matchMedia&&(null==st&&(st=tt.matchMedia("(prefers-reduced-motion: reduce)")),st.matches)}},vt={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Ot={supported:!1,testSupport:function(w){!Dt&&pt&&(Rt?q(w):ct=w)}},Dt=!1,Rt=!1;function q(w){var Ne=w.createTexture();w.bindTexture(w.TEXTURE_2D,Ne);try{if(w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,pt),w.isContextLost())return;Ot.supported=!0}catch(w){}w.deleteTexture(Ne),Dt=!0}tt.document&&((pt=tt.document.createElement("img")).onload=function(){ct&&q(ct),ct=null,Rt=!0},pt.onerror=function(){Dt=!0,ct=null},pt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Bt="01",K=function(w,Ne){this._transformRequestFn=w,this._customAccessToken=Ne,this._createSkuToken()};function G(w){return 0===w.indexOf("mapbox:")}K.prototype._createSkuToken=function(){var w=function(){for(var w="",Ne=0;Ne<10;Ne++)w+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Bt,w].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=w.token,this._skuTokenExpiresAt=w.tokenExpiresAt},K.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},K.prototype.transformRequest=function(w,Ne){return this._transformRequestFn&&this._transformRequestFn(w,Ne)||{url:w}},K.prototype.normalizeStyleURL=function(w,Ne){if(!G(w))return w;var et=H(w);return et.path="/styles/v1"+et.path,this._makeAPIURL(et,this._customAccessToken||Ne)},K.prototype.normalizeGlyphsURL=function(w,Ne){if(!G(w))return w;var et=H(w);return et.path="/fonts/v1"+et.path,this._makeAPIURL(et,this._customAccessToken||Ne)},K.prototype.normalizeSourceURL=function(w,Ne){if(!G(w))return w;var et=H(w);return et.path="/v4/"+et.authority+".json",et.params.push("secure"),this._makeAPIURL(et,this._customAccessToken||Ne)},K.prototype.normalizeSpriteURL=function(w,Ne,et,tt){var nt=H(w);return G(w)?(nt.path="/styles/v1"+nt.path+"/sprite"+Ne+et,this._makeAPIURL(nt,this._customAccessToken||tt)):(nt.path+=""+Ne+et,Y(nt))},K.prototype.normalizeTileURL=function(w,Ne){if(this._isSkuTokenExpired()&&this._createSkuToken(),w&&!G(w))return w;var et=H(w);et.path=et.path.replace(/(\.(png|jpg)\d*)(?=$)/,(yt.devicePixelRatio>=2||512===Ne?"@2x":"")+(Ot.supported?".webp":"$1")),et.path=et.path.replace(/^.+\/v4\//,"/"),et.path="/v4"+et.path;var tt=this._customAccessToken||function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1){var tt=et[Ne].match(/^access_token=(.*)$/);if(tt)return tt[1]}return null}(et.params)||vt.ACCESS_TOKEN;return vt.REQUIRE_ACCESS_TOKEN&&tt&&this._skuToken&&et.params.push("sku="+this._skuToken),this._makeAPIURL(et,tt)},K.prototype.canonicalizeTileURL=function(w,Ne){var et=H(w);if(!et.path.match(/(^\/v4\/)/)||!et.path.match(/\.[\w]+$/))return w;var tt="mapbox://tiles/";tt+=et.path.replace("/v4/","");var nt=et.params;return Ne&&(nt=nt.filter((function(w){return!w.match(/^access_token=/)}))),nt.length&&(tt+="?"+nt.join("&")),tt},K.prototype.canonicalizeTileset=function(w,Ne){for(var et=!!Ne&&G(Ne),tt=[],nt=0,rt=w.tiles||[];nt<rt.length;nt+=1){var it=rt[nt];X(it)?tt.push(this.canonicalizeTileURL(it,et)):tt.push(it)}return tt},K.prototype._makeAPIURL=function(w,Ne){var et="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",tt=H(vt.API_URL);if(w.protocol=tt.protocol,w.authority=tt.authority,"/"!==tt.path&&(w.path=""+tt.path+w.path),!vt.REQUIRE_ACCESS_TOKEN)return Y(w);if(!(Ne=Ne||vt.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+et);if("s"===Ne[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+et);return w.params=w.params.filter((function(w){return-1===w.indexOf("access_token")})),w.params.push("access_token="+Ne),Y(w)};var rn=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(w){return rn.test(w)}var vn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function H(w){var Ne=w.match(vn);if(!Ne)throw new Error("Unable to parse URL object");return{protocol:Ne[1],authority:Ne[2],path:Ne[3]||"/",params:Ne[4]?Ne[4].split("&"):[]}}function Y(w){var Ne=w.params.length?"?"+w.params.join("&"):"";return w.protocol+"://"+w.authority+w.path+Ne}function $(w){if(!w)return null;var Ne=w.split(".");if(!Ne||3!==Ne.length)return null;try{return JSON.parse(decodeURIComponent(tt.atob(Ne[1]).split("").map((function(w){return"%"+("00"+w.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(w){return null}}var W=function(w){this.type=w,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};W.prototype.getStorageKey=function(w){var Ne,et=$(vt.ACCESS_TOKEN);return Ne=et&&et.u?tt.btoa(encodeURIComponent(et.u).replace(/%([0-9A-F]{2})/g,(function(w,Ne){return String.fromCharCode(Number("0x"+Ne))}))):vt.ACCESS_TOKEN||"",w?"mapbox.eventData."+w+":"+Ne:"mapbox.eventData:"+Ne},W.prototype.fetchEventData=function(){var w=M("localStorage"),Ne=this.getStorageKey(),et=this.getStorageKey("uuid");if(w)try{var nt=tt.localStorage.getItem(Ne);nt&&(this.eventData=JSON.parse(nt));var rt=tt.localStorage.getItem(et);rt&&(this.anonId=rt)}catch(w){_("Unable to read from LocalStorage")}},W.prototype.saveEventData=function(){var w=M("localStorage"),Ne=this.getStorageKey(),et=this.getStorageKey("uuid");if(w)try{tt.localStorage.setItem(et,this.anonId),Object.keys(this.eventData).length>=1&&tt.localStorage.setItem(Ne,JSON.stringify(this.eventData))}catch(w){_("Unable to write to LocalStorage")}},W.prototype.processRequests=function(w){},W.prototype.postEvent=function(w,Ne,et,tt){var nt=this;if(vt.EVENTS_URL){var rt=H(vt.EVENTS_URL);rt.params.push("access_token="+(tt||vt.ACCESS_TOKEN||""));var it={event:this.type,created:new Date(w).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.11.0",skuId:Bt,userId:this.anonId},ot=Ne?c(it,Ne):it,at={url:Y(rt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ot])};this.pendingRequest=bt(at,(function(w){nt.pendingRequest=null,et(w),nt.saveEventData(),nt.processRequests(tt)}))}},W.prototype.queueRequest=function(w,Ne){this.queue.push(w),this.processRequests(Ne)};var bn,Cn,Tn=function(w){function e(){w.call(this,"map.load"),this.success={},this.skuToken=""}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(w,Ne,et,tt){this.skuToken=et,(vt.EVENTS_URL&&tt||vt.ACCESS_TOKEN&&Array.isArray(w)&&w.some((function(w){return G(w)||X(w)})))&&this.queueRequest({id:Ne,timestamp:Date.now()},tt)},e.prototype.processRequests=function(w){var Ne=this;if(!this.pendingRequest&&0!==this.queue.length){var et=this.queue.shift(),tt=et.id,nt=et.timestamp;tt&&this.success[tt]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=y()),this.postEvent(nt,{skuToken:this.skuToken},(function(w){w||tt&&(Ne.success[tt]=!0)}),w))}},e}(W),In=new(function(w){function e(Ne){w.call(this,"appUserTurnstile"),this._customAccessToken=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(w,Ne){vt.EVENTS_URL&&vt.ACCESS_TOKEN&&Array.isArray(w)&&w.some((function(w){return G(w)||X(w)}))&&this.queueRequest(Date.now(),Ne)},e.prototype.processRequests=function(w){var Ne=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var et=$(vt.ACCESS_TOKEN),tt=et?et.u:vt.ACCESS_TOKEN,nt=tt!==this.eventData.tokenU;d(this.anonId)||(this.anonId=y(),nt=!0);var rt=this.queue.shift();if(this.eventData.lastSuccess){var it=new Date(this.eventData.lastSuccess),ot=new Date(rt),at=(rt-this.eventData.lastSuccess)/864e5;nt=nt||at>=1||at<-1||it.getDate()!==ot.getDate()}else nt=!0;if(!nt)return this.processRequests();this.postEvent(rt,{"enabled.telemetry":!1},(function(w){w||(Ne.eventData.lastSuccess=rt,Ne.eventData.tokenU=tt)}),w)}},e}(W)),Mn=In.postTurnstileEvent.bind(In),zn=new Tn,Ln=zn.postMapLoadEvent.bind(zn),Fn=500,Bn=50;function ut(){tt.caches&&!bn&&(bn=tt.caches.open("mapbox-tiles"))}function lt(w){var Ne=w.indexOf("?");return Ne<0?w:w.slice(0,Ne)}var Nn,Vn=1/0;function ht(){return null==Nn&&(Nn=tt.OffscreenCanvas&&new tt.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof tt.createImageBitmap),Nn}var Wn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Wn);var $n,Yn,er=function(w){function e(Ne,et,tt){401===et&&X(tt)&&(Ne+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),w.call(this,Ne),this.status=et,this.url=tt,this.name=this.constructor.name,this.message=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),rr=k()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===tt.location.protocol?tt.parent:tt).location.href},gt=function(w,Ne){if(!(/^file:/.test(et=w.url)||/^file:/.test(rr())&&!/^\w+:/.test(et))){if(tt.fetch&&tt.Request&&tt.AbortController&&tt.Request.prototype.hasOwnProperty("signal"))return function(w,Ne){var et,nt=new tt.AbortController,rt=new tt.Request(w.url,{method:w.method||"GET",body:w.body,credentials:w.credentials,headers:w.headers,referrer:rr(),signal:nt.signal}),it=!1,ot=!1,at=(et=rt.url).indexOf("sku=")>0&&X(et);"json"===w.type&&rt.headers.set("Accept","application/json");var l=function(et,nt,it){if(!ot){if(et&&"SecurityError"!==et.message&&_(et),nt&&it)return p(nt);var st=Date.now();tt.fetch(rt).then((function(et){if(et.ok){var tt=at?et.clone():null;return p(et,tt,st)}return Ne(new er(et.statusText,et.status,w.url))})).catch((function(w){20!==w.code&&Ne(new Error(w.message))}))}},p=function(et,nt,at){("arrayBuffer"===w.type?et.arrayBuffer():"json"===w.type?et.json():et.text()).then((function(w){ot||(nt&&at&&function(w,Ne,et){if(ut(),bn){var nt={status:Ne.status,statusText:Ne.statusText,headers:new tt.Headers};Ne.headers.forEach((function(w,Ne){return nt.headers.set(Ne,w)}));var rt=I(Ne.headers.get("Cache-Control")||"");rt["no-store"]||(rt["max-age"]&&nt.headers.set("Expires",new Date(et+1e3*rt["max-age"]).toUTCString()),new Date(nt.headers.get("Expires")).getTime()-et<42e4||function(w,Ne){if(void 0===Cn)try{new Response(new ReadableStream),Cn=!0}catch(w){Cn=!1}Cn?Ne(w.body):w.blob().then(Ne)}(Ne,(function(Ne){var et=new tt.Response(Ne,nt);ut(),bn&&bn.then((function(Ne){return Ne.put(lt(w.url),et)})).catch((function(w){return _(w.message)}))})))}}(rt,nt,at),it=!0,Ne(null,w,et.headers.get("Cache-Control"),et.headers.get("Expires")))})).catch((function(w){ot||Ne(new Error(w.message))}))};return at?function(w,Ne){if(ut(),!bn)return Ne(null);var et=lt(w.url);bn.then((function(w){w.match(et).then((function(tt){var nt=function(w){if(!w)return!1;var Ne=new Date(w.headers.get("Expires")||0),et=I(w.headers.get("Cache-Control")||"");return Ne>Date.now()&&!et["no-cache"]}(tt);w.delete(et),nt&&w.put(et,tt.clone()),Ne(null,tt,nt)})).catch(Ne)})).catch(Ne)}(rt,l):l(null,null),{cancel:function(){ot=!0,it||nt.abort()}}}(w,Ne);if(k()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",w,Ne,void 0,!0)}var et;return function(w,Ne){var et=new tt.XMLHttpRequest;for(var nt in et.open(w.method||"GET",w.url,!0),"arrayBuffer"===w.type&&(et.responseType="arraybuffer"),w.headers)et.setRequestHeader(nt,w.headers[nt]);return"json"===w.type&&(et.responseType="text",et.setRequestHeader("Accept","application/json")),et.withCredentials="include"===w.credentials,et.onerror=function(){Ne(new Error(et.statusText))},et.onload=function(){if((et.status>=200&&et.status<300||0===et.status)&&null!==et.response){var tt=et.response;if("json"===w.type)try{tt=JSON.parse(et.response)}catch(w){return Ne(w)}Ne(null,tt,et.getResponseHeader("Cache-Control"),et.getResponseHeader("Expires"))}else Ne(new er(et.statusText,et.status,w.url))},et.send(w.body),{cancel:function(){return et.abort()}}}(w,Ne)},xt=function(w,Ne){return gt(c(w,{type:"arrayBuffer"}),Ne)},bt=function(w,Ne){return gt(c(w,{method:"POST"}),Ne)};$n=[],Yn=0;var wt=function(w,Ne){if(Ot.supported&&(w.headers||(w.headers={}),w.headers.accept="image/webp,*/*"),Yn>=vt.MAX_PARALLEL_IMAGE_REQUESTS){var et={requestParameters:w,callback:Ne,cancelled:!1,cancel:function(){this.cancelled=!0}};return $n.push(et),et}Yn++;var nt=!1,i=function(){if(!nt)for(nt=!0,Yn--;$n.length&&Yn<vt.MAX_PARALLEL_IMAGE_REQUESTS;){var w=$n.shift();w.cancelled||(w.cancel=wt(w.requestParameters,w.callback).cancel)}},rt=xt(w,(function(w,et,nt,rt){i(),w?Ne(w):et&&(ht()?function(w,Ne){var et=new tt.Blob([new Uint8Array(w)],{type:"image/png"});tt.createImageBitmap(et).then((function(w){Ne(null,w)})).catch((function(w){Ne(new Error("Could not load image because of "+w.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(et,Ne):function(w,Ne,et,nt){var rt=new tt.Image,it=tt.URL;rt.onload=function(){Ne(null,rt),it.revokeObjectURL(rt.src)},rt.onerror=function(){return Ne(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var ot=new tt.Blob([new Uint8Array(w)],{type:"image/png"});rt.cacheControl=et,rt.expires=nt,rt.src=w.byteLength?it.createObjectURL(ot):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(et,Ne,nt,rt))}));return{cancel:function(){rt.cancel(),i()}}};function _t(w,Ne,et){et[w]&&-1!==et[w].indexOf(Ne)||(et[w]=et[w]||[],et[w].push(Ne))}function At(w,Ne,et){if(et&&et[w]){var tt=et[w].indexOf(Ne);-1!==tt&&et[w].splice(tt,1)}}var St=function(w,Ne){void 0===Ne&&(Ne={}),c(this,Ne),this.type=w},vr=function(w){function e(Ne,et){void 0===et&&(et={}),w.call(this,"error",c({error:Ne},et))}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(St),It=function(){};It.prototype.on=function(w,Ne){return this._listeners=this._listeners||{},_t(w,Ne,this._listeners),this},It.prototype.off=function(w,Ne){return At(w,Ne,this._listeners),At(w,Ne,this._oneTimeListeners),this},It.prototype.once=function(w,Ne){return this._oneTimeListeners=this._oneTimeListeners||{},_t(w,Ne,this._oneTimeListeners),this},It.prototype.fire=function(w,Ne){"string"==typeof w&&(w=new St(w,Ne||{}));var et=w.type;if(this.listens(et)){w.target=this;for(var tt=0,nt=this._listeners&&this._listeners[et]?this._listeners[et].slice():[];tt<nt.length;tt+=1)nt[tt].call(this,w);for(var rt=0,it=this._oneTimeListeners&&this._oneTimeListeners[et]?this._oneTimeListeners[et].slice():[];rt<it.length;rt+=1){var ot=it[rt];At(et,ot,this._oneTimeListeners),ot.call(this,w)}var at=this._eventedParent;at&&(c(w,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),at.fire(w))}else w instanceof vr&&console.error(w.error);return this},It.prototype.listens=function(w){return this._listeners&&this._listeners[w]&&this._listeners[w].length>0||this._oneTimeListeners&&this._oneTimeListeners[w]&&this._oneTimeListeners[w].length>0||this._eventedParent&&this._eventedParent.listens(w)},It.prototype.setEventedParent=function(w,Ne){return this._eventedParent=w,this._eventedParentData=Ne,this};var wr={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ct=function(w,Ne,et,tt){this.message=(w?w+": ":"")+et,tt&&(this.identifier=tt),null!=Ne&&Ne.__line__&&(this.line=Ne.__line__)};function Mt(w){var Ne=w.value;return Ne?[new Ct(w.key,Ne,"constants have been deprecated as of v8")]:[]}function Et(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];for(var tt=0,nt=Ne;tt<nt.length;tt+=1){var rt=nt[tt];for(var it in rt)w[it]=rt[it]}return w}function Tt(w){return w instanceof Number||w instanceof String||w instanceof Boolean?w.valueOf():w}function Pt(w){if(Array.isArray(w))return w.map(Pt);if(w instanceof Object&&!(w instanceof Number||w instanceof String||w instanceof Boolean)){var Ne={};for(var et in w)Ne[et]=Pt(w[et]);return Ne}return Tt(w)}var Sr=function(w){function e(Ne,et){w.call(this,et),this.message=et,this.key=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(Error),Vt=function(w,Ne){void 0===Ne&&(Ne=[]),this.parent=w,this.bindings={};for(var et=0,tt=Ne;et<tt.length;et+=1){var nt=tt[et];this.bindings[nt[0]]=nt[1]}};Vt.prototype.concat=function(w){return new Vt(this,w)},Vt.prototype.get=function(w){if(this.bindings[w])return this.bindings[w];if(this.parent)return this.parent.get(w);throw new Error(w+" not found in scope.")},Vt.prototype.has=function(w){return!!this.bindings[w]||!!this.parent&&this.parent.has(w)};var ii={kind:"null"},qi={kind:"number"},uo={kind:"string"},po={kind:"boolean"},vo={kind:"color"},So={kind:"object"},ta={kind:"value"},na={kind:"collator"},ia={kind:"formatted"},sa={kind:"resolvedImage"};function Gt(w,Ne){return{kind:"array",itemType:w,N:Ne}}function Zt(w){if("array"===w.kind){var Ne=Zt(w.itemType);return"number"==typeof w.N?"array<"+Ne+", "+w.N+">":"value"===w.itemType.kind?"array":"array<"+Ne+">"}return w.kind}var la=[ii,qi,uo,po,vo,ia,So,Gt(ta),sa];function Jt(w,Ne){if("error"===Ne.kind)return null;if("array"===w.kind){if("array"===Ne.kind&&(0===Ne.N&&"value"===Ne.itemType.kind||!Jt(w.itemType,Ne.itemType))&&("number"!=typeof w.N||w.N===Ne.N))return null}else{if(w.kind===Ne.kind)return null;if("value"===w.kind)for(var et=0,tt=la;et<tt.length;et+=1)if(!Jt(tt[et],Ne))return null}return"Expected "+Zt(w)+" but found "+Zt(Ne)+" instead."}function Ht(w,Ne){return Ne.some((function(Ne){return Ne.kind===w.kind}))}function Yt(w,Ne){return Ne.some((function(Ne){return"null"===Ne?null===w:"array"===Ne?Array.isArray(w):"object"===Ne?w&&!Array.isArray(w)&&"object"==typeof w:Ne===typeof w}))}var pa=e((function(w,Ne){var et={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(w){return(w=Math.round(w))<0?0:w>255?255:w}function i(w){return n("%"===w[w.length-1]?parseFloat(w)/100*255:parseInt(w))}function a(w){return(Ne="%"===w[w.length-1]?parseFloat(w)/100:parseFloat(w))<0?0:Ne>1?1:Ne;var Ne}function o(w,Ne,et){return et<0?et+=1:et>1&&(et-=1),6*et<1?w+(Ne-w)*et*6:2*et<1?Ne:3*et<2?w+(Ne-w)*(2/3-et)*6:w}try{Ne.parseCSSColor=function(w){var Ne,tt=w.replace(/ /g,"").toLowerCase();if(tt in et)return et[tt].slice();if("#"===tt[0])return 4===tt.length?(Ne=parseInt(tt.substr(1),16))>=0&&Ne<=4095?[(3840&Ne)>>4|(3840&Ne)>>8,240&Ne|(240&Ne)>>4,15&Ne|(15&Ne)<<4,1]:null:7===tt.length&&(Ne=parseInt(tt.substr(1),16))>=0&&Ne<=16777215?[(16711680&Ne)>>16,(65280&Ne)>>8,255&Ne,1]:null;var nt=tt.indexOf("("),rt=tt.indexOf(")");if(-1!==nt&&rt+1===tt.length){var it=tt.substr(0,nt),ot=tt.substr(nt+1,rt-(nt+1)).split(","),at=1;switch(it){case"rgba":if(4!==ot.length)return null;at=a(ot.pop());case"rgb":return 3!==ot.length?null:[i(ot[0]),i(ot[1]),i(ot[2]),at];case"hsla":if(4!==ot.length)return null;at=a(ot.pop());case"hsl":if(3!==ot.length)return null;var st=(parseFloat(ot[0])%360+360)%360/360,ct=a(ot[1]),pt=a(ot[2]),ft=pt<=.5?pt*(ct+1):pt+ct-pt*ct,dt=2*pt-ft;return[n(255*o(dt,ft,st+1/3)),n(255*o(dt,ft,st)),n(255*o(dt,ft,st-1/3)),at];default:return null}}return null}}catch(w){}})).parseCSSColor,Wt=function(w,Ne,et,tt){void 0===tt&&(tt=1),this.r=w,this.g=Ne,this.b=et,this.a=tt};Wt.parse=function(w){if(w){if(w instanceof Wt)return w;if("string"==typeof w){var Ne=pa(w);if(Ne)return new Wt(Ne[0]/255*Ne[3],Ne[1]/255*Ne[3],Ne[2]/255*Ne[3],Ne[3])}}},Wt.prototype.toString=function(){var w=this.toArray(),Ne=w[1],et=w[2],tt=w[3];return"rgba("+Math.round(w[0])+","+Math.round(Ne)+","+Math.round(et)+","+tt+")"},Wt.prototype.toArray=function(){var w=this.a;return 0===w?[0,0,0,0]:[255*this.r/w,255*this.g/w,255*this.b/w,w]},Wt.black=new Wt(0,0,0,1),Wt.white=new Wt(1,1,1,1),Wt.transparent=new Wt(0,0,0,0),Wt.red=new Wt(1,0,0,1);var Qt=function(w,Ne,et){this.sensitivity=w?Ne?"variant":"case":Ne?"accent":"base",this.locale=et,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Qt.prototype.compare=function(w,Ne){return this.collator.compare(w,Ne)},Qt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var te=function(w,Ne,et,tt,nt){this.text=w,this.image=Ne,this.scale=et,this.fontStack=tt,this.textColor=nt},ee=function(w){this.sections=w};ee.fromString=function(w){return new ee([new te(w,null,null,null,null)])},ee.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(w){return 0!==w.text.length||w.image&&0!==w.image.name.length}))},ee.factory=function(w){return w instanceof ee?w:ee.fromString(w)},ee.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(w){return w.text})).join("")},ee.prototype.serialize=function(){for(var w=["format"],Ne=0,et=this.sections;Ne<et.length;Ne+=1){var tt=et[Ne];if(tt.image)w.push(["image",tt.image.name]);else{w.push(tt.text);var nt={};tt.fontStack&&(nt["text-font"]=["literal",tt.fontStack.split(",")]),tt.scale&&(nt["font-scale"]=tt.scale),tt.textColor&&(nt["text-color"]=["rgba"].concat(tt.textColor.toArray())),w.push(nt)}}return w};var re=function(w){this.name=w.name,this.available=w.available};function ne(w,Ne,et,tt){return"number"==typeof w&&w>=0&&w<=255&&"number"==typeof Ne&&Ne>=0&&Ne<=255&&"number"==typeof et&&et>=0&&et<=255?void 0===tt||"number"==typeof tt&&tt>=0&&tt<=1?null:"Invalid rgba value ["+[w,Ne,et,tt].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof tt?[w,Ne,et,tt]:[w,Ne,et]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ie(w){if(null===w)return!0;if("string"==typeof w)return!0;if("boolean"==typeof w)return!0;if("number"==typeof w)return!0;if(w instanceof Wt)return!0;if(w instanceof Qt)return!0;if(w instanceof ee)return!0;if(w instanceof re)return!0;if(Array.isArray(w)){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(!ie(et[Ne]))return!1;return!0}if("object"==typeof w){for(var tt in w)if(!ie(w[tt]))return!1;return!0}return!1}function ae(w){if(null===w)return ii;if("string"==typeof w)return uo;if("boolean"==typeof w)return po;if("number"==typeof w)return qi;if(w instanceof Wt)return vo;if(w instanceof Qt)return na;if(w instanceof ee)return ia;if(w instanceof re)return sa;if(Array.isArray(w)){for(var Ne,et=w.length,tt=0,nt=w;tt<nt.length;tt+=1){var rt=ae(nt[tt]);if(Ne){if(Ne===rt)continue;Ne=ta;break}Ne=rt}return Gt(Ne||ta,et)}return So}function oe(w){var Ne=typeof w;return null===w?"":"string"===Ne||"number"===Ne||"boolean"===Ne?String(w):w instanceof Wt||w instanceof ee||w instanceof re?w.toString():JSON.stringify(w)}re.prototype.toString=function(){return this.name},re.fromString=function(w){return w?new re({name:w,available:!1}):null},re.prototype.serialize=function(){return["image",this.name]};var se=function(w,Ne){this.type=w,this.value=Ne};se.parse=function(w,Ne){if(2!==w.length)return Ne.error("'literal' expression requires exactly one argument, but found "+(w.length-1)+" instead.");if(!ie(w[1]))return Ne.error("invalid value");var et=w[1],tt=ae(et),nt=Ne.expectedType;return"array"!==tt.kind||0!==tt.N||!nt||"array"!==nt.kind||"number"==typeof nt.N&&0!==nt.N||(tt=nt),new se(tt,et)},se.prototype.evaluate=function(){return this.value},se.prototype.eachChild=function(){},se.prototype.outputDefined=function(){return!0},se.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Wt?["rgba"].concat(this.value.toArray()):this.value instanceof ee?this.value.serialize():this.value};var ue=function(w){this.name="ExpressionEvaluationError",this.message=w};ue.prototype.toJSON=function(){return this.message};var fa={string:uo,number:qi,boolean:po,object:So},pe=function(w,Ne){this.type=w,this.args=Ne};pe.parse=function(w,Ne){if(w.length<2)return Ne.error("Expected at least one argument.");var et,tt=1,nt=w[0];if("array"===nt){var rt,it;if(w.length>2){var ot=w[1];if("string"!=typeof ot||!(ot in fa)||"object"===ot)return Ne.error('The item type argument of "array" must be one of string, number, boolean',1);rt=fa[ot],tt++}else rt=ta;if(w.length>3){if(null!==w[2]&&("number"!=typeof w[2]||w[2]<0||w[2]!==Math.floor(w[2])))return Ne.error('The length argument to "array" must be a positive integer literal',2);it=w[2],tt++}et=Gt(rt,it)}else et=fa[nt];for(var at=[];tt<w.length;tt++){var st=Ne.parse(w[tt],tt,ta);if(!st)return null;at.push(st)}return new pe(et,at)},pe.prototype.evaluate=function(w){for(var Ne=0;Ne<this.args.length;Ne++){var et=this.args[Ne].evaluate(w);if(!Jt(this.type,ae(et)))return et;if(Ne===this.args.length-1)throw new ue("Expected value to be of type "+Zt(this.type)+", but found "+Zt(ae(et))+" instead.")}return null},pe.prototype.eachChild=function(w){this.args.forEach(w)},pe.prototype.outputDefined=function(){return this.args.every((function(w){return w.outputDefined()}))},pe.prototype.serialize=function(){var w=this.type,Ne=[w.kind];if("array"===w.kind){var et=w.itemType;if("string"===et.kind||"number"===et.kind||"boolean"===et.kind){Ne.push(et.kind);var tt=w.N;("number"==typeof tt||this.args.length>1)&&Ne.push(tt)}}return Ne.concat(this.args.map((function(w){return w.serialize()})))};var ce=function(w){this.type=ia,this.sections=w};ce.parse=function(w,Ne){if(w.length<2)return Ne.error("Expected at least one argument.");var et=w[1];if(!Array.isArray(et)&&"object"==typeof et)return Ne.error("First argument must be an image or text section.");for(var tt=[],nt=!1,rt=1;rt<=w.length-1;++rt){var it=w[rt];if(nt&&"object"==typeof it&&!Array.isArray(it)){nt=!1;var ot=null;if(it["font-scale"]&&!(ot=Ne.parse(it["font-scale"],1,qi)))return null;var at=null;if(it["text-font"]&&!(at=Ne.parse(it["text-font"],1,Gt(uo))))return null;var st=null;if(it["text-color"]&&!(st=Ne.parse(it["text-color"],1,vo)))return null;var ct=tt[tt.length-1];ct.scale=ot,ct.font=at,ct.textColor=st}else{var pt=Ne.parse(w[rt],1,ta);if(!pt)return null;var ft=pt.type.kind;if("string"!==ft&&"value"!==ft&&"null"!==ft&&"resolvedImage"!==ft)return Ne.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");nt=!0,tt.push({content:pt,scale:null,font:null,textColor:null})}}return new ce(tt)},ce.prototype.evaluate=function(w){return new ee(this.sections.map((function(Ne){var et=Ne.content.evaluate(w);return ae(et)===sa?new te("",et,null,null,null):new te(oe(et),null,Ne.scale?Ne.scale.evaluate(w):null,Ne.font?Ne.font.evaluate(w).join(","):null,Ne.textColor?Ne.textColor.evaluate(w):null)})))},ce.prototype.eachChild=function(w){for(var Ne=0,et=this.sections;Ne<et.length;Ne+=1){var tt=et[Ne];w(tt.content),tt.scale&&w(tt.scale),tt.font&&w(tt.font),tt.textColor&&w(tt.textColor)}},ce.prototype.outputDefined=function(){return!1},ce.prototype.serialize=function(){for(var w=["format"],Ne=0,et=this.sections;Ne<et.length;Ne+=1){var tt=et[Ne];w.push(tt.content.serialize());var nt={};tt.scale&&(nt["font-scale"]=tt.scale.serialize()),tt.font&&(nt["text-font"]=tt.font.serialize()),tt.textColor&&(nt["text-color"]=tt.textColor.serialize()),w.push(nt)}return w};var he=function(w){this.type=sa,this.input=w};he.parse=function(w,Ne){if(2!==w.length)return Ne.error("Expected two arguments.");var et=Ne.parse(w[1],1,uo);return et?new he(et):Ne.error("No image name provided.")},he.prototype.evaluate=function(w){var Ne=this.input.evaluate(w),et=re.fromString(Ne);return et&&w.availableImages&&(et.available=w.availableImages.indexOf(Ne)>-1),et},he.prototype.eachChild=function(w){w(this.input)},he.prototype.outputDefined=function(){return!1},he.prototype.serialize=function(){return["image",this.input.serialize()]};var ga={"to-boolean":po,"to-color":vo,"to-number":qi,"to-string":uo},ye=function(w,Ne){this.type=w,this.args=Ne};ye.parse=function(w,Ne){if(w.length<2)return Ne.error("Expected at least one argument.");var et=w[0];if(("to-boolean"===et||"to-string"===et)&&2!==w.length)return Ne.error("Expected one argument.");for(var tt=ga[et],nt=[],rt=1;rt<w.length;rt++){var it=Ne.parse(w[rt],rt,ta);if(!it)return null;nt.push(it)}return new ye(tt,nt)},ye.prototype.evaluate=function(w){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(w));if("color"===this.type.kind){for(var Ne,et,tt=0,nt=this.args;tt<nt.length;tt+=1){if(et=null,(Ne=nt[tt].evaluate(w))instanceof Wt)return Ne;if("string"==typeof Ne){var rt=w.parseColor(Ne);if(rt)return rt}else if(Array.isArray(Ne)&&!(et=Ne.length<3||Ne.length>4?"Invalid rbga value "+JSON.stringify(Ne)+": expected an array containing either three or four numeric values.":ne(Ne[0],Ne[1],Ne[2],Ne[3])))return new Wt(Ne[0]/255,Ne[1]/255,Ne[2]/255,Ne[3])}throw new ue(et||"Could not parse color from value '"+("string"==typeof Ne?Ne:String(JSON.stringify(Ne)))+"'")}if("number"===this.type.kind){for(var it=null,ot=0,at=this.args;ot<at.length;ot+=1){if(null===(it=at[ot].evaluate(w)))return 0;var st=Number(it);if(!isNaN(st))return st}throw new ue("Could not convert "+JSON.stringify(it)+" to number.")}return"formatted"===this.type.kind?ee.fromString(oe(this.args[0].evaluate(w))):"resolvedImage"===this.type.kind?re.fromString(oe(this.args[0].evaluate(w))):oe(this.args[0].evaluate(w))},ye.prototype.eachChild=function(w){this.args.forEach(w)},ye.prototype.outputDefined=function(){return this.args.every((function(w){return w.outputDefined()}))},ye.prototype.serialize=function(){if("formatted"===this.type.kind)return new ce([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new he(this.args[0]).serialize();var w=["to-"+this.type.kind];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var va=["Unknown","Point","LineString","Polygon"],me=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};me.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},me.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?va[this.feature.type]:this.feature.type:null},me.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},me.prototype.canonicalID=function(){return this.canonical},me.prototype.properties=function(){return this.feature&&this.feature.properties||{}},me.prototype.parseColor=function(w){var Ne=this._parseColorCache[w];return Ne||(Ne=this._parseColorCache[w]=Wt.parse(w)),Ne};var ve=function(w,Ne,et,tt){this.name=w,this.type=Ne,this._evaluate=et,this.args=tt};ve.prototype.evaluate=function(w){return this._evaluate(w,this.args)},ve.prototype.eachChild=function(w){this.args.forEach(w)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map((function(w){return w.serialize()})))},ve.parse=function(w,Ne){var et,tt=w[0],nt=ve.definitions[tt];if(!nt)return Ne.error('Unknown expression "'+tt+'". If you wanted a literal array, use ["literal", [...]].',0);for(var rt=Array.isArray(nt)?nt[0]:nt.type,it=Array.isArray(nt)?[[nt[1],nt[2]]]:nt.overloads,ot=it.filter((function(Ne){var et=Ne[0];return!Array.isArray(et)||et.length===w.length-1})),at=null,st=0,ct=ot;st<ct.length;st+=1){var pt=ct[st],ft=pt[0],dt=pt[1];at=new Oe(Ne.registry,Ne.path,null,Ne.scope);for(var mt=[],yt=!1,vt=1;vt<w.length;vt++){var Ot=w[vt],Dt=Array.isArray(ft)?ft[vt-1]:ft.type,Rt=at.parse(Ot,1+mt.length,Dt);if(!Rt){yt=!0;break}mt.push(Rt)}if(!yt)if(Array.isArray(ft)&&ft.length!==mt.length)at.error("Expected "+ft.length+" arguments, but found "+mt.length+" instead.");else{for(var Bt=0;Bt<mt.length;Bt++){var rn=Array.isArray(ft)?ft[Bt]:ft.type,vn=mt[Bt];at.concat(Bt+1).checkSubtype(rn,vn.type)}if(0===at.errors.length)return new ve(tt,rt,dt,mt)}}if(1===ot.length)(et=Ne.errors).push.apply(et,at.errors);else{for(var bn=(ot.length?ot:it).map((function(w){var Ne;return Ne=w[0],Array.isArray(Ne)?"("+Ne.map(Zt).join(", ")+")":"("+Zt(Ne.type)+"...)"})).join(" | "),Cn=[],Tn=1;Tn<w.length;Tn++){var In=Ne.parse(w[Tn],1+Cn.length);if(!In)return null;Cn.push(Zt(In.type))}Ne.error("Expected arguments of type "+bn+", but found ("+Cn.join(", ")+") instead.")}return null},ve.register=function(w,Ne){for(var et in ve.definitions=Ne,Ne)w[et]=ve};var ge=function(w,Ne,et){this.type=na,this.locale=et,this.caseSensitive=w,this.diacriticSensitive=Ne};function xe(w,Ne){w[0]=Math.min(w[0],Ne[0]),w[1]=Math.min(w[1],Ne[1]),w[2]=Math.max(w[2],Ne[0]),w[3]=Math.max(w[3],Ne[1])}function be(w,Ne){return!(w[0]<=Ne[0]||w[2]>=Ne[2]||w[1]<=Ne[1]||w[3]>=Ne[3])}function we(w,Ne){var et=(180+w[0])/360,tt=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+w[1]*Math.PI/360)))/360,nt=Math.pow(2,Ne.z);return[Math.round(et*nt*8192),Math.round(tt*nt*8192)]}function _e(w,Ne,et){return Ne[1]>w[1]!=et[1]>w[1]&&w[0]<(et[0]-Ne[0])*(w[1]-Ne[1])/(et[1]-Ne[1])+Ne[0]}function Ae(w,Ne){for(var et,tt,nt,rt,it,ot,at,st=!1,ct=0,pt=Ne.length;ct<pt;ct++)for(var ft=Ne[ct],dt=0,mt=ft.length;dt<mt-1;dt++){if((rt=(et=w)[0]-(tt=ft[dt])[0])*(at=et[1]-(nt=ft[dt+1])[1])-(ot=et[0]-nt[0])*(it=et[1]-tt[1])==0&&rt*ot<=0&&it*at<=0)return!1;_e(w,ft[dt],ft[dt+1])&&(st=!st)}return st}function Se(w,Ne){for(var et=0;et<Ne.length;et++)if(Ae(w,Ne[et]))return!0;return!1}function ke(w,Ne,et,tt){var nt=tt[0]-et[0],rt=tt[1]-et[1],it=(w[0]-et[0])*rt-nt*(w[1]-et[1]),ot=(Ne[0]-et[0])*rt-nt*(Ne[1]-et[1]);return it>0&&ot<0||it<0&&ot>0}function Ie(w,Ne,et){for(var tt=0,nt=et;tt<nt.length;tt+=1)for(var rt=nt[tt],it=0;it<rt.length-1;++it)if(0!=(pt=[(ct=rt[it+1])[0]-(st=rt[it])[0],ct[1]-st[1]])[0]*(ft=[(at=Ne)[0]-(ot=w)[0],at[1]-ot[1]])[1]-pt[1]*ft[0]&&ke(ot,at,st,ct)&&ke(st,ct,ot,at))return!0;var ot,at,st,ct,pt,ft;return!1}function ze(w,Ne){for(var et=0;et<w.length;++et)if(!Ae(w[et],Ne))return!1;for(var tt=0;tt<w.length-1;++tt)if(Ie(w[tt],w[tt+1],Ne))return!1;return!0}function Ce(w,Ne){for(var et=0;et<Ne.length;et++)if(ze(w,Ne[et]))return!0;return!1}function Me(w,Ne,et){for(var tt=[],nt=0;nt<w.length;nt++){for(var rt=[],it=0;it<w[nt].length;it++){var ot=we(w[nt][it],et);xe(Ne,ot),rt.push(ot)}tt.push(rt)}return tt}function Ee(w,Ne,et){for(var tt=[],nt=0;nt<w.length;nt++){var rt=Me(w[nt],Ne,et);tt.push(rt)}return tt}function Te(w,Ne,et,tt){if(w[0]<et[0]||w[0]>et[2]){var nt=.5*tt,rt=w[0]-et[0]>nt?-tt:et[0]-w[0]>nt?tt:0;0===rt&&(rt=w[0]-et[2]>nt?-tt:et[2]-w[0]>nt?tt:0),w[0]+=rt}xe(Ne,w)}function Pe(w,Ne,et,tt){for(var nt=8192*Math.pow(2,tt.z),rt=[8192*tt.x,8192*tt.y],it=[],ot=0,at=w;ot<at.length;ot+=1)for(var st=0,ct=at[ot];st<ct.length;st+=1){var pt=ct[st],ft=[pt.x+rt[0],pt.y+rt[1]];Te(ft,Ne,et,nt),it.push(ft)}return it}function Be(w,Ne,et,tt){for(var nt,rt=8192*Math.pow(2,tt.z),it=[8192*tt.x,8192*tt.y],ot=[],at=0,st=w;at<st.length;at+=1){for(var ct=[],pt=0,ft=st[at];pt<ft.length;pt+=1){var dt=ft[pt],mt=[dt.x+it[0],dt.y+it[1]];xe(Ne,mt),ct.push(mt)}ot.push(ct)}if(Ne[2]-Ne[0]<=rt/2){(nt=Ne)[0]=nt[1]=1/0,nt[2]=nt[3]=-1/0;for(var yt=0,vt=ot;yt<vt.length;yt+=1)for(var Ot=0,Dt=vt[yt];Ot<Dt.length;Ot+=1)Te(Dt[Ot],Ne,et,rt)}return ot}ge.parse=function(w,Ne){if(2!==w.length)return Ne.error("Expected one argument.");var et=w[1];if("object"!=typeof et||Array.isArray(et))return Ne.error("Collator options argument must be an object.");var tt=Ne.parse(void 0!==et["case-sensitive"]&&et["case-sensitive"],1,po);if(!tt)return null;var nt=Ne.parse(void 0!==et["diacritic-sensitive"]&&et["diacritic-sensitive"],1,po);if(!nt)return null;var rt=null;return et.locale&&!(rt=Ne.parse(et.locale,1,uo))?null:new ge(tt,nt,rt)},ge.prototype.evaluate=function(w){return new Qt(this.caseSensitive.evaluate(w),this.diacriticSensitive.evaluate(w),this.locale?this.locale.evaluate(w):null)},ge.prototype.eachChild=function(w){w(this.caseSensitive),w(this.diacriticSensitive),this.locale&&w(this.locale)},ge.prototype.outputDefined=function(){return!1},ge.prototype.serialize=function(){var w={};return w["case-sensitive"]=this.caseSensitive.serialize(),w["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(w.locale=this.locale.serialize()),["collator",w]};var Ve=function(w,Ne){this.type=po,this.geojson=w,this.geometries=Ne};function Fe(w){if(w instanceof ve){if("get"===w.name&&1===w.args.length)return!1;if("feature-state"===w.name)return!1;if("has"===w.name&&1===w.args.length)return!1;if("properties"===w.name||"geometry-type"===w.name||"id"===w.name)return!1;if(/^filter-/.test(w.name))return!1}if(w instanceof Ve)return!1;var Ne=!0;return w.eachChild((function(w){Ne&&!Fe(w)&&(Ne=!1)})),Ne}function De(w){if(w instanceof ve&&"feature-state"===w.name)return!1;var Ne=!0;return w.eachChild((function(w){Ne&&!De(w)&&(Ne=!1)})),Ne}function Le(w,Ne){if(w instanceof ve&&Ne.indexOf(w.name)>=0)return!1;var et=!0;return w.eachChild((function(w){et&&!Le(w,Ne)&&(et=!1)})),et}Ve.parse=function(w,Ne){if(2!==w.length)return Ne.error("'within' expression requires exactly one argument, but found "+(w.length-1)+" instead.");if(ie(w[1])){var et=w[1];if("FeatureCollection"===et.type)for(var tt=0;tt<et.features.length;++tt){var nt=et.features[tt].geometry.type;if("Polygon"===nt||"MultiPolygon"===nt)return new Ve(et,et.features[tt].geometry)}else if("Feature"===et.type){var rt=et.geometry.type;if("Polygon"===rt||"MultiPolygon"===rt)return new Ve(et,et.geometry)}else if("Polygon"===et.type||"MultiPolygon"===et.type)return new Ve(et,et)}return Ne.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ve.prototype.evaluate=function(w){if(null!=w.geometry()&&null!=w.canonicalID()){if("Point"===w.geometryType())return function(w,Ne){var et=[1/0,1/0,-1/0,-1/0],tt=[1/0,1/0,-1/0,-1/0],nt=w.canonicalID();if("Polygon"===Ne.type){var rt=Me(Ne.coordinates,tt,nt),it=Pe(w.geometry(),et,tt,nt);if(!be(et,tt))return!1;for(var ot=0,at=it;ot<at.length;ot+=1)if(!Ae(at[ot],rt))return!1}if("MultiPolygon"===Ne.type){var st=Ee(Ne.coordinates,tt,nt),ct=Pe(w.geometry(),et,tt,nt);if(!be(et,tt))return!1;for(var pt=0,ft=ct;pt<ft.length;pt+=1)if(!Se(ft[pt],st))return!1}return!0}(w,this.geometries);if("LineString"===w.geometryType())return function(w,Ne){var et=[1/0,1/0,-1/0,-1/0],tt=[1/0,1/0,-1/0,-1/0],nt=w.canonicalID();if("Polygon"===Ne.type){var rt=Me(Ne.coordinates,tt,nt),it=Be(w.geometry(),et,tt,nt);if(!be(et,tt))return!1;for(var ot=0,at=it;ot<at.length;ot+=1)if(!ze(at[ot],rt))return!1}if("MultiPolygon"===Ne.type){var st=Ee(Ne.coordinates,tt,nt),ct=Be(w.geometry(),et,tt,nt);if(!be(et,tt))return!1;for(var pt=0,ft=ct;pt<ft.length;pt+=1)if(!Ce(ft[pt],st))return!1}return!0}(w,this.geometries)}return!1},Ve.prototype.eachChild=function(){},Ve.prototype.outputDefined=function(){return!0},Ve.prototype.serialize=function(){return["within",this.geojson]};var Re=function(w,Ne){this.type=Ne.type,this.name=w,this.boundExpression=Ne};Re.parse=function(w,Ne){if(2!==w.length||"string"!=typeof w[1])return Ne.error("'var' expression requires exactly one string literal argument.");var et=w[1];return Ne.scope.has(et)?new Re(et,Ne.scope.get(et)):Ne.error('Unknown variable "'+et+'". Make sure "'+et+'" has been bound in an enclosing "let" expression before using it.',1)},Re.prototype.evaluate=function(w){return this.boundExpression.evaluate(w)},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!1},Re.prototype.serialize=function(){return["var",this.name]};var Oe=function(w,Ne,et,tt,nt){void 0===Ne&&(Ne=[]),void 0===tt&&(tt=new Vt),void 0===nt&&(nt=[]),this.registry=w,this.path=Ne,this.key=Ne.map((function(w){return"["+w+"]"})).join(""),this.scope=tt,this.errors=nt,this.expectedType=et};function Ue(w,Ne){for(var et,tt=w.length-1,nt=0,rt=tt,it=0;nt<=rt;)if((et=w[it=Math.floor((nt+rt)/2)])<=Ne){if(it===tt||Ne<w[it+1])return it;nt=it+1}else{if(!(et>Ne))throw new ue("Input is not a number.");rt=it-1}return 0}Oe.prototype.parse=function(w,Ne,et,tt,nt){return void 0===nt&&(nt={}),Ne?this.concat(Ne,et,tt)._parse(w,nt):this._parse(w,nt)},Oe.prototype._parse=function(w,Ne){function r(w,Ne,et){return"assert"===et?new pe(Ne,[w]):"coerce"===et?new ye(Ne,[w]):w}if(null!==w&&"string"!=typeof w&&"boolean"!=typeof w&&"number"!=typeof w||(w=["literal",w]),Array.isArray(w)){if(0===w.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var et=w[0];if("string"!=typeof et)return this.error("Expression name must be a string, but found "+typeof et+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var tt=this.registry[et];if(tt){var nt=tt.parse(w,this);if(!nt)return null;if(this.expectedType){var rt=this.expectedType,it=nt.type;if("string"!==rt.kind&&"number"!==rt.kind&&"boolean"!==rt.kind&&"object"!==rt.kind&&"array"!==rt.kind||"value"!==it.kind)if("color"!==rt.kind&&"formatted"!==rt.kind&&"resolvedImage"!==rt.kind||"value"!==it.kind&&"string"!==it.kind){if(this.checkSubtype(rt,it))return null}else nt=r(nt,rt,Ne.typeAnnotation||"coerce");else nt=r(nt,rt,Ne.typeAnnotation||"assert")}if(!(nt instanceof se)&&"resolvedImage"!==nt.type.kind&&function t(w){if(w instanceof Re)return t(w.boundExpression);if(w instanceof ve&&"error"===w.name)return!1;if(w instanceof ge)return!1;if(w instanceof Ve)return!1;var Ne=w instanceof ye||w instanceof pe,et=!0;return w.eachChild((function(w){et=Ne?et&&t(w):et&&w instanceof se})),!!et&&Fe(w)&&Le(w,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(nt)){var ot=new me;try{nt=new se(nt.type,nt.evaluate(ot))}catch(w){return this.error(w.message),null}}return nt}return this.error('Unknown expression "'+et+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===w?"'undefined' value invalid. Use null instead.":"object"==typeof w?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof w+" instead.")},Oe.prototype.concat=function(w,Ne,et){var tt="number"==typeof w?this.path.concat(w):this.path,nt=et?this.scope.concat(et):this.scope;return new Oe(this.registry,tt,Ne||null,nt,this.errors)},Oe.prototype.error=function(w){for(var Ne=[],et=arguments.length-1;et-- >0;)Ne[et]=arguments[et+1];var tt=""+this.key+Ne.map((function(w){return"["+w+"]"})).join("");this.errors.push(new Sr(tt,w))},Oe.prototype.checkSubtype=function(w,Ne){var et=Jt(w,Ne);return et&&this.error(et),et};var je=function(w,Ne,et){this.type=w,this.input=Ne,this.labels=[],this.outputs=[];for(var tt=0,nt=et;tt<nt.length;tt+=1){var rt=nt[tt],it=rt[1];this.labels.push(rt[0]),this.outputs.push(it)}};function qe(w,Ne,et){return w*(1-et)+Ne*et}je.parse=function(w,Ne){if(w.length-1<4)return Ne.error("Expected at least 4 arguments, but found only "+(w.length-1)+".");if((w.length-1)%2!=0)return Ne.error("Expected an even number of arguments.");var et=Ne.parse(w[1],1,qi);if(!et)return null;var tt=[],nt=null;Ne.expectedType&&"value"!==Ne.expectedType.kind&&(nt=Ne.expectedType);for(var rt=1;rt<w.length;rt+=2){var it=1===rt?-1/0:w[rt],ot=w[rt+1],at=rt,st=rt+1;if("number"!=typeof it)return Ne.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',at);if(tt.length&&tt[tt.length-1][0]>=it)return Ne.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',at);var ct=Ne.parse(ot,st,nt);if(!ct)return null;nt=nt||ct.type,tt.push([it,ct])}return new je(nt,et,tt)},je.prototype.evaluate=function(w){var Ne=this.labels,et=this.outputs;if(1===Ne.length)return et[0].evaluate(w);var tt=this.input.evaluate(w);if(tt<=Ne[0])return et[0].evaluate(w);var nt=Ne.length;return tt>=Ne[nt-1]?et[nt-1].evaluate(w):et[Ue(Ne,tt)].evaluate(w)},je.prototype.eachChild=function(w){w(this.input);for(var Ne=0,et=this.outputs;Ne<et.length;Ne+=1)w(et[Ne])},je.prototype.outputDefined=function(){return this.outputs.every((function(w){return w.outputDefined()}))},je.prototype.serialize=function(){for(var w=["step",this.input.serialize()],Ne=0;Ne<this.labels.length;Ne++)Ne>0&&w.push(this.labels[Ne]),w.push(this.outputs[Ne].serialize());return w};var _a=Object.freeze({__proto__:null,number:qe,color:function(w,Ne,et){return new Wt(qe(w.r,Ne.r,et),qe(w.g,Ne.g,et),qe(w.b,Ne.b,et),qe(w.a,Ne.a,et))},array:function(w,Ne,et){return w.map((function(w,tt){return qe(w,Ne[tt],et)}))}}),wa=6/29*3*(6/29),Aa=Math.PI/180,os=180/Math.PI;function Xe(w){return w>.008856451679035631?Math.pow(w,1/3):w/wa+4/29}function Je(w){return w>6/29?w*w*w:wa*(w-4/29)}function He(w){return 255*(w<=.0031308?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function Ye(w){return(w/=255)<=.04045?w/12.92:Math.pow((w+.055)/1.055,2.4)}function $e(w){var Ne=Ye(w.r),et=Ye(w.g),tt=Ye(w.b),nt=Xe((.4124564*Ne+.3575761*et+.1804375*tt)/.95047),rt=Xe((.2126729*Ne+.7151522*et+.072175*tt)/1);return{l:116*rt-16,a:500*(nt-rt),b:200*(rt-Xe((.0193339*Ne+.119192*et+.9503041*tt)/1.08883)),alpha:w.a}}function We(w){var Ne=(w.l+16)/116,et=isNaN(w.a)?Ne:Ne+w.a/500,tt=isNaN(w.b)?Ne:Ne-w.b/200;return Ne=1*Je(Ne),et=.95047*Je(et),tt=1.08883*Je(tt),new Wt(He(3.2404542*et-1.5371385*Ne-.4985314*tt),He(-.969266*et+1.8760108*Ne+.041556*tt),He(.0556434*et-.2040259*Ne+1.0572252*tt),w.alpha)}function Qe(w,Ne,et){var tt=Ne-w;return w+et*(tt>180||tt<-180?tt-360*Math.round(tt/360):tt)}var as={forward:$e,reverse:We,interpolate:function(w,Ne,et){return{l:qe(w.l,Ne.l,et),a:qe(w.a,Ne.a,et),b:qe(w.b,Ne.b,et),alpha:qe(w.alpha,Ne.alpha,et)}}},ss={forward:function(w){var Ne=$e(w),et=Ne.l,tt=Ne.a,nt=Ne.b,rt=Math.atan2(nt,tt)*os;return{h:rt<0?rt+360:rt,c:Math.sqrt(tt*tt+nt*nt),l:et,alpha:w.a}},reverse:function(w){var Ne=w.h*Aa,et=w.c;return We({l:w.l,a:Math.cos(Ne)*et,b:Math.sin(Ne)*et,alpha:w.alpha})},interpolate:function(w,Ne,et){return{h:Qe(w.h,Ne.h,et),c:qe(w.c,Ne.c,et),l:qe(w.l,Ne.l,et),alpha:qe(w.alpha,Ne.alpha,et)}}},ls=Object.freeze({__proto__:null,lab:as,hcl:ss}),nr=function(w,Ne,et,tt,nt){this.type=w,this.operator=Ne,this.interpolation=et,this.input=tt,this.labels=[],this.outputs=[];for(var rt=0,it=nt;rt<it.length;rt+=1){var ot=it[rt],at=ot[1];this.labels.push(ot[0]),this.outputs.push(at)}};function ir(w,Ne,et,tt){var nt=tt-et,rt=w-et;return 0===nt?0:1===Ne?rt/nt:(Math.pow(Ne,rt)-1)/(Math.pow(Ne,nt)-1)}nr.interpolationFactor=function(w,et,tt,nt){var rt=0;if("exponential"===w.name)rt=ir(et,w.base,tt,nt);else if("linear"===w.name)rt=ir(et,1,tt,nt);else if("cubic-bezier"===w.name){var it=w.controlPoints;rt=new Ne(it[0],it[1],it[2],it[3]).solve(ir(et,1,tt,nt))}return rt},nr.parse=function(w,Ne){var et=w[0],tt=w[1],nt=w[2],rt=w.slice(3);if(!Array.isArray(tt)||0===tt.length)return Ne.error("Expected an interpolation type expression.",1);if("linear"===tt[0])tt={name:"linear"};else if("exponential"===tt[0]){var it=tt[1];if("number"!=typeof it)return Ne.error("Exponential interpolation requires a numeric base.",1,1);tt={name:"exponential",base:it}}else{if("cubic-bezier"!==tt[0])return Ne.error("Unknown interpolation type "+String(tt[0]),1,0);var ot=tt.slice(1);if(4!==ot.length||ot.some((function(w){return"number"!=typeof w||w<0||w>1})))return Ne.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);tt={name:"cubic-bezier",controlPoints:ot}}if(w.length-1<4)return Ne.error("Expected at least 4 arguments, but found only "+(w.length-1)+".");if((w.length-1)%2!=0)return Ne.error("Expected an even number of arguments.");if(!(nt=Ne.parse(nt,2,qi)))return null;var at=[],st=null;"interpolate-hcl"===et||"interpolate-lab"===et?st=vo:Ne.expectedType&&"value"!==Ne.expectedType.kind&&(st=Ne.expectedType);for(var ct=0;ct<rt.length;ct+=2){var pt=rt[ct],ft=rt[ct+1],dt=ct+3,mt=ct+4;if("number"!=typeof pt)return Ne.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',dt);if(at.length&&at[at.length-1][0]>=pt)return Ne.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',dt);var yt=Ne.parse(ft,mt,st);if(!yt)return null;st=st||yt.type,at.push([pt,yt])}return"number"===st.kind||"color"===st.kind||"array"===st.kind&&"number"===st.itemType.kind&&"number"==typeof st.N?new nr(st,et,tt,nt,at):Ne.error("Type "+Zt(st)+" is not interpolatable.")},nr.prototype.evaluate=function(w){var Ne=this.labels,et=this.outputs;if(1===Ne.length)return et[0].evaluate(w);var tt=this.input.evaluate(w);if(tt<=Ne[0])return et[0].evaluate(w);var nt=Ne.length;if(tt>=Ne[nt-1])return et[nt-1].evaluate(w);var rt=Ue(Ne,tt),it=nr.interpolationFactor(this.interpolation,tt,Ne[rt],Ne[rt+1]),ot=et[rt].evaluate(w),at=et[rt+1].evaluate(w);return"interpolate"===this.operator?_a[this.type.kind.toLowerCase()](ot,at,it):"interpolate-hcl"===this.operator?ss.reverse(ss.interpolate(ss.forward(ot),ss.forward(at),it)):as.reverse(as.interpolate(as.forward(ot),as.forward(at),it))},nr.prototype.eachChild=function(w){w(this.input);for(var Ne=0,et=this.outputs;Ne<et.length;Ne+=1)w(et[Ne])},nr.prototype.outputDefined=function(){return this.outputs.every((function(w){return w.outputDefined()}))},nr.prototype.serialize=function(){var w;w="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var Ne=[this.operator,w,this.input.serialize()],et=0;et<this.labels.length;et++)Ne.push(this.labels[et],this.outputs[et].serialize());return Ne};var ar=function(w,Ne){this.type=w,this.args=Ne};ar.parse=function(w,Ne){if(w.length<2)return Ne.error("Expectected at least one argument.");var et=null,tt=Ne.expectedType;tt&&"value"!==tt.kind&&(et=tt);for(var nt=[],rt=0,it=w.slice(1);rt<it.length;rt+=1){var ot=Ne.parse(it[rt],1+nt.length,et,void 0,{typeAnnotation:"omit"});if(!ot)return null;et=et||ot.type,nt.push(ot)}var at=tt&&nt.some((function(w){return Jt(tt,w.type)}));return new ar(at?ta:et,nt)},ar.prototype.evaluate=function(w){for(var Ne,et=null,tt=0,nt=0,rt=this.args;nt<rt.length&&(tt++,(et=rt[nt].evaluate(w))&&et instanceof re&&!et.available&&(Ne||(Ne=et.name),et=null,tt===this.args.length&&(et=Ne)),null===et);nt+=1);return et},ar.prototype.eachChild=function(w){this.args.forEach(w)},ar.prototype.outputDefined=function(){return this.args.every((function(w){return w.outputDefined()}))},ar.prototype.serialize=function(){var w=["coalesce"];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var or=function(w,Ne){this.type=Ne.type,this.bindings=[].concat(w),this.result=Ne};or.prototype.evaluate=function(w){return this.result.evaluate(w)},or.prototype.eachChild=function(w){for(var Ne=0,et=this.bindings;Ne<et.length;Ne+=1)w(et[Ne][1]);w(this.result)},or.parse=function(w,Ne){if(w.length<4)return Ne.error("Expected at least 3 arguments, but found "+(w.length-1)+" instead.");for(var et=[],tt=1;tt<w.length-1;tt+=2){var nt=w[tt];if("string"!=typeof nt)return Ne.error("Expected string, but found "+typeof nt+" instead.",tt);if(/[^a-zA-Z0-9_]/.test(nt))return Ne.error("Variable names must contain only alphanumeric characters or '_'.",tt);var rt=Ne.parse(w[tt+1],tt+1);if(!rt)return null;et.push([nt,rt])}var it=Ne.parse(w[w.length-1],w.length-1,Ne.expectedType,et);return it?new or(et,it):null},or.prototype.outputDefined=function(){return this.result.outputDefined()},or.prototype.serialize=function(){for(var w=["let"],Ne=0,et=this.bindings;Ne<et.length;Ne+=1){var tt=et[Ne];w.push(tt[0],tt[1].serialize())}return w.push(this.result.serialize()),w};var sr=function(w,Ne,et){this.type=w,this.index=Ne,this.input=et};sr.parse=function(w,Ne){if(3!==w.length)return Ne.error("Expected 2 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,qi),tt=Ne.parse(w[2],2,Gt(Ne.expectedType||ta));return et&&tt?new sr(tt.type.itemType,et,tt):null},sr.prototype.evaluate=function(w){var Ne=this.index.evaluate(w),et=this.input.evaluate(w);if(Ne<0)throw new ue("Array index out of bounds: "+Ne+" < 0.");if(Ne>=et.length)throw new ue("Array index out of bounds: "+Ne+" > "+(et.length-1)+".");if(Ne!==Math.floor(Ne))throw new ue("Array index must be an integer, but found "+Ne+" instead.");return et[Ne]},sr.prototype.eachChild=function(w){w(this.index),w(this.input)},sr.prototype.outputDefined=function(){return!1},sr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ur=function(w,Ne){this.type=po,this.needle=w,this.haystack=Ne};ur.parse=function(w,Ne){if(3!==w.length)return Ne.error("Expected 2 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,ta),tt=Ne.parse(w[2],2,ta);return et&&tt?Ht(et.type,[po,uo,qi,ii,ta])?new ur(et,tt):Ne.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(et.type)+" instead"):null},ur.prototype.evaluate=function(w){var Ne=this.needle.evaluate(w),et=this.haystack.evaluate(w);if(!et)return!1;if(!Yt(Ne,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(Ne))+" instead.");if(!Yt(et,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(et))+" instead.");return et.indexOf(Ne)>=0},ur.prototype.eachChild=function(w){w(this.needle),w(this.haystack)},ur.prototype.outputDefined=function(){return!0},ur.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var lr=function(w,Ne,et){this.type=qi,this.needle=w,this.haystack=Ne,this.fromIndex=et};lr.parse=function(w,Ne){if(w.length<=2||w.length>=5)return Ne.error("Expected 3 or 4 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,ta),tt=Ne.parse(w[2],2,ta);if(!et||!tt)return null;if(!Ht(et.type,[po,uo,qi,ii,ta]))return Ne.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(et.type)+" instead");if(4===w.length){var nt=Ne.parse(w[3],3,qi);return nt?new lr(et,tt,nt):null}return new lr(et,tt)},lr.prototype.evaluate=function(w){var Ne=this.needle.evaluate(w),et=this.haystack.evaluate(w);if(!Yt(Ne,["boolean","string","number","null"]))throw new ue("Expected first argument to be of type boolean, string, number or null, but found "+Zt(ae(Ne))+" instead.");if(!Yt(et,["string","array"]))throw new ue("Expected second argument to be of type array or string, but found "+Zt(ae(et))+" instead.");if(this.fromIndex){var tt=this.fromIndex.evaluate(w);return et.indexOf(Ne,tt)}return et.indexOf(Ne)},lr.prototype.eachChild=function(w){w(this.needle),w(this.haystack),this.fromIndex&&w(this.fromIndex)},lr.prototype.outputDefined=function(){return!1},lr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var w=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),w]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pr=function(w,Ne,et,tt,nt,rt){this.inputType=w,this.type=Ne,this.input=et,this.cases=tt,this.outputs=nt,this.otherwise=rt};pr.parse=function(w,Ne){if(w.length<5)return Ne.error("Expected at least 4 arguments, but found only "+(w.length-1)+".");if(w.length%2!=1)return Ne.error("Expected an even number of arguments.");var et,tt;Ne.expectedType&&"value"!==Ne.expectedType.kind&&(tt=Ne.expectedType);for(var nt={},rt=[],it=2;it<w.length-1;it+=2){var ot=w[it],at=w[it+1];Array.isArray(ot)||(ot=[ot]);var st=Ne.concat(it);if(0===ot.length)return st.error("Expected at least one branch label.");for(var ct=0,pt=ot;ct<pt.length;ct+=1){var ft=pt[ct];if("number"!=typeof ft&&"string"!=typeof ft)return st.error("Branch labels must be numbers or strings.");if("number"==typeof ft&&Math.abs(ft)>Number.MAX_SAFE_INTEGER)return st.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof ft&&Math.floor(ft)!==ft)return st.error("Numeric branch labels must be integer values.");if(et){if(st.checkSubtype(et,ae(ft)))return null}else et=ae(ft);if(void 0!==nt[String(ft)])return st.error("Branch labels must be unique.");nt[String(ft)]=rt.length}var dt=Ne.parse(at,it,tt);if(!dt)return null;tt=tt||dt.type,rt.push(dt)}var mt=Ne.parse(w[1],1,ta);if(!mt)return null;var yt=Ne.parse(w[w.length-1],w.length-1,tt);return yt?"value"!==mt.type.kind&&Ne.concat(1).checkSubtype(et,mt.type)?null:new pr(et,tt,mt,nt,rt,yt):null},pr.prototype.evaluate=function(w){var Ne=this.input.evaluate(w);return(ae(Ne)===this.inputType&&this.outputs[this.cases[Ne]]||this.otherwise).evaluate(w)},pr.prototype.eachChild=function(w){w(this.input),this.outputs.forEach(w),w(this.otherwise)},pr.prototype.outputDefined=function(){return this.outputs.every((function(w){return w.outputDefined()}))&&this.otherwise.outputDefined()},pr.prototype.serialize=function(){for(var w=this,Ne=["match",this.input.serialize()],et=[],tt={},nt=0,rt=Object.keys(this.cases).sort();nt<rt.length;nt+=1){var it=rt[nt];void 0===(ct=tt[this.cases[it]])?(tt[this.cases[it]]=et.length,et.push([this.cases[it],[it]])):et[ct][1].push(it)}for(var s=function(Ne){return"number"===w.inputType.kind?Number(Ne):Ne},ot=0,at=et;ot<at.length;ot+=1){var st=at[ot],ct=st[0],pt=st[1];Ne.push(1===pt.length?s(pt[0]):pt.map(s)),Ne.push(this.outputs[outputIndex$1].serialize())}return Ne.push(this.otherwise.serialize()),Ne};var cr=function(w,Ne,et){this.type=w,this.branches=Ne,this.otherwise=et};cr.parse=function(w,Ne){if(w.length<4)return Ne.error("Expected at least 3 arguments, but found only "+(w.length-1)+".");if(w.length%2!=0)return Ne.error("Expected an odd number of arguments.");var et;Ne.expectedType&&"value"!==Ne.expectedType.kind&&(et=Ne.expectedType);for(var tt=[],nt=1;nt<w.length-1;nt+=2){var rt=Ne.parse(w[nt],nt,po);if(!rt)return null;var it=Ne.parse(w[nt+1],nt+1,et);if(!it)return null;tt.push([rt,it]),et=et||it.type}var ot=Ne.parse(w[w.length-1],w.length-1,et);return ot?new cr(et,tt,ot):null},cr.prototype.evaluate=function(w){for(var Ne=0,et=this.branches;Ne<et.length;Ne+=1){var tt=et[Ne],nt=tt[1];if(tt[0].evaluate(w))return nt.evaluate(w)}return this.otherwise.evaluate(w)},cr.prototype.eachChild=function(w){for(var Ne=0,et=this.branches;Ne<et.length;Ne+=1){var tt=et[Ne],nt=tt[1];w(tt[0]),w(nt)}w(this.otherwise)},cr.prototype.outputDefined=function(){return this.branches.every((function(w){return w[1].outputDefined()}))&&this.otherwise.outputDefined()},cr.prototype.serialize=function(){var w=["case"];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var hr=function(w,Ne,et,tt){this.type=w,this.input=Ne,this.beginIndex=et,this.endIndex=tt};function fr(w,Ne){return"=="===w||"!="===w?"boolean"===Ne.kind||"string"===Ne.kind||"number"===Ne.kind||"null"===Ne.kind||"value"===Ne.kind:"string"===Ne.kind||"number"===Ne.kind||"value"===Ne.kind}function yr(w,Ne,et,tt){return 0===tt.compare(Ne,et)}function dr(w,Ne,et){var tt="=="!==w&&"!="!==w;return function(){function i(w,Ne,et){this.type=po,this.lhs=w,this.rhs=Ne,this.collator=et,this.hasUntypedArgument="value"===w.type.kind||"value"===Ne.type.kind}return i.parse=function(w,Ne){if(3!==w.length&&4!==w.length)return Ne.error("Expected two or three arguments.");var et=w[0],nt=Ne.parse(w[1],1,ta);if(!nt)return null;if(!fr(et,nt.type))return Ne.concat(1).error('"'+et+"\" comparisons are not supported for type '"+Zt(nt.type)+"'.");var rt=Ne.parse(w[2],2,ta);if(!rt)return null;if(!fr(et,rt.type))return Ne.concat(2).error('"'+et+"\" comparisons are not supported for type '"+Zt(rt.type)+"'.");if(nt.type.kind!==rt.type.kind&&"value"!==nt.type.kind&&"value"!==rt.type.kind)return Ne.error("Cannot compare types '"+Zt(nt.type)+"' and '"+Zt(rt.type)+"'.");tt&&("value"===nt.type.kind&&"value"!==rt.type.kind?nt=new pe(rt.type,[nt]):"value"!==nt.type.kind&&"value"===rt.type.kind&&(rt=new pe(nt.type,[rt])));var it=null;if(4===w.length){if("string"!==nt.type.kind&&"string"!==rt.type.kind&&"value"!==nt.type.kind&&"value"!==rt.type.kind)return Ne.error("Cannot use collator to compare non-string types.");if(!(it=Ne.parse(w[3],3,na)))return null}return new i(nt,rt,it)},i.prototype.evaluate=function(nt){var rt=this.lhs.evaluate(nt),it=this.rhs.evaluate(nt);if(tt&&this.hasUntypedArgument){var ot=ae(rt),at=ae(it);if(ot.kind!==at.kind||"string"!==ot.kind&&"number"!==ot.kind)throw new ue('Expected arguments for "'+w+'" to be (string, string) or (number, number), but found ('+ot.kind+", "+at.kind+") instead.")}if(this.collator&&!tt&&this.hasUntypedArgument){var st=ae(rt),ct=ae(it);if("string"!==st.kind||"string"!==ct.kind)return Ne(nt,rt,it)}return this.collator?et(nt,rt,it,this.collator.evaluate(nt)):Ne(nt,rt,it)},i.prototype.eachChild=function(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var Ne=[w];return this.eachChild((function(w){Ne.push(w.serialize())})),Ne},i}()}hr.parse=function(w,Ne){if(w.length<=2||w.length>=5)return Ne.error("Expected 3 or 4 arguments, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1,ta),tt=Ne.parse(w[2],2,qi);if(!et||!tt)return null;if(!Ht(et.type,[Gt(ta),uo,ta]))return Ne.error("Expected first argument to be of type array or string, but found "+Zt(et.type)+" instead");if(4===w.length){var nt=Ne.parse(w[3],3,qi);return nt?new hr(et.type,et,tt,nt):null}return new hr(et.type,et,tt)},hr.prototype.evaluate=function(w){var Ne=this.input.evaluate(w),et=this.beginIndex.evaluate(w);if(!Yt(Ne,["string","array"]))throw new ue("Expected first argument to be of type array or string, but found "+Zt(ae(Ne))+" instead.");if(this.endIndex){var tt=this.endIndex.evaluate(w);return Ne.slice(et,tt)}return Ne.slice(et)},hr.prototype.eachChild=function(w){w(this.input),w(this.beginIndex),this.endIndex&&w(this.endIndex)},hr.prototype.outputDefined=function(){return!1},hr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var w=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),w]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var us=dr("==",(function(w,Ne,et){return Ne===et}),yr),fs=dr("!=",(function(w,Ne,et){return Ne!==et}),(function(w,Ne,et,tt){return!yr(0,Ne,et,tt)})),gs=dr("<",(function(w,Ne,et){return Ne<et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)<0})),vs=dr(">",(function(w,Ne,et){return Ne>et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)>0})),xs=dr("<=",(function(w,Ne,et){return Ne<=et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)<=0})),Ss=dr(">=",(function(w,Ne,et){return Ne>=et}),(function(w,Ne,et,tt){return tt.compare(Ne,et)>=0})),_r=function(w,Ne,et,tt,nt){this.type=uo,this.number=w,this.locale=Ne,this.currency=et,this.minFractionDigits=tt,this.maxFractionDigits=nt};_r.parse=function(w,Ne){if(3!==w.length)return Ne.error("Expected two arguments.");var et=Ne.parse(w[1],1,qi);if(!et)return null;var tt=w[2];if("object"!=typeof tt||Array.isArray(tt))return Ne.error("NumberFormat options argument must be an object.");var nt=null;if(tt.locale&&!(nt=Ne.parse(tt.locale,1,uo)))return null;var rt=null;if(tt.currency&&!(rt=Ne.parse(tt.currency,1,uo)))return null;var it=null;if(tt["min-fraction-digits"]&&!(it=Ne.parse(tt["min-fraction-digits"],1,qi)))return null;var ot=null;return tt["max-fraction-digits"]&&!(ot=Ne.parse(tt["max-fraction-digits"],1,qi))?null:new _r(et,nt,rt,it,ot)},_r.prototype.evaluate=function(w){return new Intl.NumberFormat(this.locale?this.locale.evaluate(w):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(w):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(w):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(w):void 0}).format(this.number.evaluate(w))},_r.prototype.eachChild=function(w){w(this.number),this.locale&&w(this.locale),this.currency&&w(this.currency),this.minFractionDigits&&w(this.minFractionDigits),this.maxFractionDigits&&w(this.maxFractionDigits)},_r.prototype.outputDefined=function(){return!1},_r.prototype.serialize=function(){var w={};return this.locale&&(w.locale=this.locale.serialize()),this.currency&&(w.currency=this.currency.serialize()),this.minFractionDigits&&(w["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(w["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),w]};var Ar=function(w){this.type=qi,this.input=w};Ar.parse=function(w,Ne){if(2!==w.length)return Ne.error("Expected 1 argument, but found "+(w.length-1)+" instead.");var et=Ne.parse(w[1],1);return et?"array"!==et.type.kind&&"string"!==et.type.kind&&"value"!==et.type.kind?Ne.error("Expected argument of type string or array, but found "+Zt(et.type)+" instead."):new Ar(et):null},Ar.prototype.evaluate=function(w){var Ne=this.input.evaluate(w);if("string"==typeof Ne)return Ne.length;if(Array.isArray(Ne))return Ne.length;throw new ue("Expected value to be of type string or array, but found "+Zt(ae(Ne))+" instead.")},Ar.prototype.eachChild=function(w){w(this.input)},Ar.prototype.outputDefined=function(){return!1},Ar.prototype.serialize=function(){var w=["length"];return this.eachChild((function(Ne){w.push(Ne.serialize())})),w};var Es={"==":us,"!=":fs,">":vs,"<":gs,">=":Ss,"<=":xs,array:pe,at:sr,boolean:pe,case:cr,coalesce:ar,collator:ge,format:ce,image:he,in:ur,"index-of":lr,interpolate:nr,"interpolate-hcl":nr,"interpolate-lab":nr,length:Ar,let:or,literal:se,match:pr,number:pe,"number-format":_r,object:pe,slice:hr,step:je,string:pe,"to-boolean":ye,"to-color":ye,"to-number":ye,"to-string":ye,var:Re,within:Ve};function kr(w,Ne){var et=Ne[0],tt=Ne[1],nt=Ne[2],rt=Ne[3];et=et.evaluate(w),tt=tt.evaluate(w),nt=nt.evaluate(w);var it=rt?rt.evaluate(w):1,ot=ne(et,tt,nt,it);if(ot)throw new ue(ot);return new Wt(et/255*it,tt/255*it,nt/255*it,it)}function Ir(w,Ne){return w in Ne}function zr(w,Ne){var et=Ne[w];return void 0===et?null:et}function Cr(w){return{type:w}}function Mr(w){return{result:"success",value:w}}function Er(w){return{result:"error",value:w}}function Tr(w){return"data-driven"===w["property-type"]||"cross-faded-data-driven"===w["property-type"]}function Pr(w){return!!w.expression&&w.expression.parameters.indexOf("zoom")>-1}function Br(w){return!!w.expression&&w.expression.interpolated}function Vr(w){return w instanceof Number?"number":w instanceof String?"string":w instanceof Boolean?"boolean":Array.isArray(w)?"array":null===w?"null":typeof w}function Fr(w){return"object"==typeof w&&null!==w&&!Array.isArray(w)}function Dr(w){return w}function Lr(w,Ne,et){return void 0!==w?w:void 0!==Ne?Ne:void 0!==et?et:void 0}function Rr(w,Ne,et,tt,nt){return Lr(typeof et===nt?tt[et]:void 0,w.default,Ne.default)}function Or(w,Ne,et){if("number"!==Vr(et))return Lr(w.default,Ne.default);var tt=w.stops.length;if(1===tt)return w.stops[0][1];if(et<=w.stops[0][0])return w.stops[0][1];if(et>=w.stops[tt-1][0])return w.stops[tt-1][1];var nt=Ue(w.stops.map((function(w){return w[0]})),et);return w.stops[nt][1]}function Ur(w,Ne,et){var tt=void 0!==w.base?w.base:1;if("number"!==Vr(et))return Lr(w.default,Ne.default);var nt=w.stops.length;if(1===nt)return w.stops[0][1];if(et<=w.stops[0][0])return w.stops[0][1];if(et>=w.stops[nt-1][0])return w.stops[nt-1][1];var rt=Ue(w.stops.map((function(w){return w[0]})),et),it=function(w,Ne,et,tt){var nt=tt-et,rt=w-et;return 0===nt?0:1===Ne?rt/nt:(Math.pow(Ne,rt)-1)/(Math.pow(Ne,nt)-1)}(et,tt,w.stops[rt][0],w.stops[rt+1][0]),ot=w.stops[rt][1],at=w.stops[rt+1][1],st=_a[Ne.type]||Dr;if(w.colorSpace&&"rgb"!==w.colorSpace){var ct=ls[w.colorSpace];st=function(w,Ne){return ct.reverse(ct.interpolate(ct.forward(w),ct.forward(Ne),it))}}return"function"==typeof ot.evaluate?{evaluate:function(){for(var w=[],Ne=arguments.length;Ne--;)w[Ne]=arguments[Ne];var et=ot.evaluate.apply(void 0,w),tt=at.evaluate.apply(void 0,w);if(void 0!==et&&void 0!==tt)return st(et,tt,it)}}:st(ot,at,it)}function jr(w,Ne,et){return"color"===Ne.type?et=Wt.parse(et):"formatted"===Ne.type?et=ee.fromString(et.toString()):"resolvedImage"===Ne.type?et=re.fromString(et.toString()):Vr(et)===Ne.type||"enum"===Ne.type&&Ne.values[et]||(et=void 0),Lr(et,w.default,Ne.default)}ve.register(Es,{error:[{kind:"error"},[uo],function(w,Ne){throw new ue(Ne[0].evaluate(w))}],typeof:[uo,[ta],function(w,Ne){return Zt(ae(Ne[0].evaluate(w)))}],"to-rgba":[Gt(qi,4),[vo],function(w,Ne){return Ne[0].evaluate(w).toArray()}],rgb:[vo,[qi,qi,qi],kr],rgba:[vo,[qi,qi,qi,qi],kr],has:{type:po,overloads:[[[uo],function(w,Ne){return Ir(Ne[0].evaluate(w),w.properties())}],[[uo,So],function(w,Ne){var et=Ne[1];return Ir(Ne[0].evaluate(w),et.evaluate(w))}]]},get:{type:ta,overloads:[[[uo],function(w,Ne){return zr(Ne[0].evaluate(w),w.properties())}],[[uo,So],function(w,Ne){var et=Ne[1];return zr(Ne[0].evaluate(w),et.evaluate(w))}]]},"feature-state":[ta,[uo],function(w,Ne){return zr(Ne[0].evaluate(w),w.featureState||{})}],properties:[So,[],function(w){return w.properties()}],"geometry-type":[uo,[],function(w){return w.geometryType()}],id:[ta,[],function(w){return w.id()}],zoom:[qi,[],function(w){return w.globals.zoom}],"heatmap-density":[qi,[],function(w){return w.globals.heatmapDensity||0}],"line-progress":[qi,[],function(w){return w.globals.lineProgress||0}],accumulated:[ta,[],function(w){return void 0===w.globals.accumulated?null:w.globals.accumulated}],"+":[qi,Cr(qi),function(w,Ne){for(var et=0,tt=0,nt=Ne;tt<nt.length;tt+=1)et+=nt[tt].evaluate(w);return et}],"*":[qi,Cr(qi),function(w,Ne){for(var et=1,tt=0,nt=Ne;tt<nt.length;tt+=1)et*=nt[tt].evaluate(w);return et}],"-":{type:qi,overloads:[[[qi,qi],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)-et.evaluate(w)}],[[qi],function(w,Ne){return-Ne[0].evaluate(w)}]]},"/":[qi,[qi,qi],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)/et.evaluate(w)}],"%":[qi,[qi,qi],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)%et.evaluate(w)}],ln2:[qi,[],function(){return Math.LN2}],pi:[qi,[],function(){return Math.PI}],e:[qi,[],function(){return Math.E}],"^":[qi,[qi,qi],function(w,Ne){var et=Ne[1];return Math.pow(Ne[0].evaluate(w),et.evaluate(w))}],sqrt:[qi,[qi],function(w,Ne){return Math.sqrt(Ne[0].evaluate(w))}],log10:[qi,[qi],function(w,Ne){return Math.log(Ne[0].evaluate(w))/Math.LN10}],ln:[qi,[qi],function(w,Ne){return Math.log(Ne[0].evaluate(w))}],log2:[qi,[qi],function(w,Ne){return Math.log(Ne[0].evaluate(w))/Math.LN2}],sin:[qi,[qi],function(w,Ne){return Math.sin(Ne[0].evaluate(w))}],cos:[qi,[qi],function(w,Ne){return Math.cos(Ne[0].evaluate(w))}],tan:[qi,[qi],function(w,Ne){return Math.tan(Ne[0].evaluate(w))}],asin:[qi,[qi],function(w,Ne){return Math.asin(Ne[0].evaluate(w))}],acos:[qi,[qi],function(w,Ne){return Math.acos(Ne[0].evaluate(w))}],atan:[qi,[qi],function(w,Ne){return Math.atan(Ne[0].evaluate(w))}],min:[qi,Cr(qi),function(w,Ne){return Math.min.apply(Math,Ne.map((function(Ne){return Ne.evaluate(w)})))}],max:[qi,Cr(qi),function(w,Ne){return Math.max.apply(Math,Ne.map((function(Ne){return Ne.evaluate(w)})))}],abs:[qi,[qi],function(w,Ne){return Math.abs(Ne[0].evaluate(w))}],round:[qi,[qi],function(w,Ne){var et=Ne[0].evaluate(w);return et<0?-Math.round(-et):Math.round(et)}],floor:[qi,[qi],function(w,Ne){return Math.floor(Ne[0].evaluate(w))}],ceil:[qi,[qi],function(w,Ne){return Math.ceil(Ne[0].evaluate(w))}],"filter-==":[po,[uo,ta],function(w,Ne){var et=Ne[0],tt=Ne[1];return w.properties()[et.value]===tt.value}],"filter-id-==":[po,[ta],function(w,Ne){var et=Ne[0];return w.id()===et.value}],"filter-type-==":[po,[uo],function(w,Ne){var et=Ne[0];return w.geometryType()===et.value}],"filter-<":[po,[uo,ta],function(w,Ne){var et=Ne[0],tt=Ne[1],nt=w.properties()[et.value],rt=tt.value;return typeof nt==typeof rt&&nt<rt}],"filter-id-<":[po,[ta],function(w,Ne){var et=Ne[0],tt=w.id(),nt=et.value;return typeof tt==typeof nt&&tt<nt}],"filter->":[po,[uo,ta],function(w,Ne){var et=Ne[0],tt=Ne[1],nt=w.properties()[et.value],rt=tt.value;return typeof nt==typeof rt&&nt>rt}],"filter-id->":[po,[ta],function(w,Ne){var et=Ne[0],tt=w.id(),nt=et.value;return typeof tt==typeof nt&&tt>nt}],"filter-<=":[po,[uo,ta],function(w,Ne){var et=Ne[0],tt=Ne[1],nt=w.properties()[et.value],rt=tt.value;return typeof nt==typeof rt&&nt<=rt}],"filter-id-<=":[po,[ta],function(w,Ne){var et=Ne[0],tt=w.id(),nt=et.value;return typeof tt==typeof nt&&tt<=nt}],"filter->=":[po,[uo,ta],function(w,Ne){var et=Ne[0],tt=Ne[1],nt=w.properties()[et.value],rt=tt.value;return typeof nt==typeof rt&&nt>=rt}],"filter-id->=":[po,[ta],function(w,Ne){var et=Ne[0],tt=w.id(),nt=et.value;return typeof tt==typeof nt&&tt>=nt}],"filter-has":[po,[ta],function(w,Ne){return Ne[0].value in w.properties()}],"filter-has-id":[po,[],function(w){return null!==w.id()&&void 0!==w.id()}],"filter-type-in":[po,[Gt(uo)],function(w,Ne){return Ne[0].value.indexOf(w.geometryType())>=0}],"filter-id-in":[po,[Gt(ta)],function(w,Ne){return Ne[0].value.indexOf(w.id())>=0}],"filter-in-small":[po,[uo,Gt(ta)],function(w,Ne){var et=Ne[0];return Ne[1].value.indexOf(w.properties()[et.value])>=0}],"filter-in-large":[po,[uo,Gt(ta)],function(w,Ne){var et=Ne[0],tt=Ne[1];return function(w,Ne,et,tt){for(;et<=tt;){var nt=et+tt>>1;if(Ne[nt]===w)return!0;Ne[nt]>w?tt=nt-1:et=nt+1}return!1}(w.properties()[et.value],tt.value,0,tt.value.length-1)}],all:{type:po,overloads:[[[po,po],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)&&et.evaluate(w)}],[Cr(po),function(w,Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(!tt[et].evaluate(w))return!1;return!0}]]},any:{type:po,overloads:[[[po,po],function(w,Ne){var et=Ne[1];return Ne[0].evaluate(w)||et.evaluate(w)}],[Cr(po),function(w,Ne){for(var et=0,tt=Ne;et<tt.length;et+=1)if(tt[et].evaluate(w))return!0;return!1}]]},"!":[po,[po],function(w,Ne){return!Ne[0].evaluate(w)}],"is-supported-script":[po,[uo],function(w,Ne){var et=w.globals&&w.globals.isSupportedScript;return!et||et(Ne[0].evaluate(w))}],upcase:[uo,[uo],function(w,Ne){return Ne[0].evaluate(w).toUpperCase()}],downcase:[uo,[uo],function(w,Ne){return Ne[0].evaluate(w).toLowerCase()}],concat:[uo,Cr(ta),function(w,Ne){return Ne.map((function(Ne){return oe(Ne.evaluate(w))})).join("")}],"resolved-locale":[uo,[na],function(w,Ne){return Ne[0].evaluate(w).resolvedLocale()}]});var qr=function(w,Ne){this.expression=w,this._warningHistory={},this._evaluator=new me,this._defaultValue=Ne?function(w){return"color"===w.type&&Fr(w.default)?new Wt(0,0,0,0):"color"===w.type?Wt.parse(w.default)||null:void 0===w.default?null:w.default}(Ne):null,this._enumValues=Ne&&"enum"===Ne.type?Ne.values:null};function Nr(w){return Array.isArray(w)&&w.length>0&&"string"==typeof w[0]&&w[0]in Es}function Kr(w,Ne){var et=new Oe(Es,[],Ne?function(w){var Ne={color:vo,string:uo,number:qi,enum:uo,boolean:po,formatted:ia,resolvedImage:sa};return"array"===w.type?Gt(Ne[w.value]||ta,w.length):Ne[w.type]}(Ne):void 0),tt=et.parse(w,void 0,void 0,void 0,Ne&&"string"===Ne.type?{typeAnnotation:"coerce"}:void 0);return tt?Mr(new qr(tt,Ne)):Er(et.errors)}qr.prototype.evaluateWithoutErrorHandling=function(w,Ne,et,tt,nt,rt){return this._evaluator.globals=w,this._evaluator.feature=Ne,this._evaluator.featureState=et,this._evaluator.canonical=tt,this._evaluator.availableImages=nt||null,this._evaluator.formattedSection=rt,this.expression.evaluate(this._evaluator)},qr.prototype.evaluate=function(w,Ne,et,tt,nt,rt){this._evaluator.globals=w,this._evaluator.feature=Ne||null,this._evaluator.featureState=et||null,this._evaluator.canonical=tt,this._evaluator.availableImages=nt||null,this._evaluator.formattedSection=rt||null;try{var it=this.expression.evaluate(this._evaluator);if(null==it||"number"==typeof it&&it!=it)return this._defaultValue;if(this._enumValues&&!(it in this._enumValues))throw new ue("Expected value to be one of "+Object.keys(this._enumValues).map((function(w){return JSON.stringify(w)})).join(", ")+", but found "+JSON.stringify(it)+" instead.");return it}catch(w){return this._warningHistory[w.message]||(this._warningHistory[w.message]=!0,"undefined"!=typeof console&&console.warn(w.message)),this._defaultValue}};var Gr=function(w,Ne){this.kind=w,this._styleExpression=Ne,this.isStateDependent="constant"!==w&&!De(Ne.expression)};Gr.prototype.evaluateWithoutErrorHandling=function(w,Ne,et,tt,nt,rt){return this._styleExpression.evaluateWithoutErrorHandling(w,Ne,et,tt,nt,rt)},Gr.prototype.evaluate=function(w,Ne,et,tt,nt,rt){return this._styleExpression.evaluate(w,Ne,et,tt,nt,rt)};var Zr=function(w,Ne,et,tt){this.kind=w,this.zoomStops=et,this._styleExpression=Ne,this.isStateDependent="camera"!==w&&!De(Ne.expression),this.interpolationType=tt};function Xr(w,Ne){if("error"===(w=Kr(w,Ne)).result)return w;var et=w.value.expression,tt=Fe(et);if(!tt&&!Tr(Ne))return Er([new Sr("","data expressions not supported")]);var nt=Le(et,["zoom"]);if(!nt&&!Pr(Ne))return Er([new Sr("","zoom expressions not supported")]);var rt=function t(w){var Ne=null;if(w instanceof or)Ne=t(w.result);else if(w instanceof ar)for(var et=0,tt=w.args;et<tt.length&&!(Ne=t(tt[et]));et+=1);else(w instanceof je||w instanceof nr)&&w.input instanceof ve&&"zoom"===w.input.name&&(Ne=w);return Ne instanceof Sr||w.eachChild((function(w){var et=t(w);et instanceof Sr?Ne=et:!Ne&&et?Ne=new Sr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Ne&&et&&Ne!==et&&(Ne=new Sr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),Ne}(et);return rt||nt?rt instanceof Sr?Er([rt]):rt instanceof nr&&!Br(Ne)?Er([new Sr("",'"interpolate" expressions cannot be used with this property')]):Mr(rt?new Zr(tt?"camera":"composite",w.value,rt.labels,rt instanceof nr?rt.interpolation:void 0):new Gr(tt?"constant":"source",w.value)):Er([new Sr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zr.prototype.evaluateWithoutErrorHandling=function(w,Ne,et,tt,nt,rt){return this._styleExpression.evaluateWithoutErrorHandling(w,Ne,et,tt,nt,rt)},Zr.prototype.evaluate=function(w,Ne,et,tt,nt,rt){return this._styleExpression.evaluate(w,Ne,et,tt,nt,rt)},Zr.prototype.interpolationFactor=function(w,Ne,et){return this.interpolationType?nr.interpolationFactor(this.interpolationType,w,Ne,et):0};var Jr=function(w,Ne){this._parameters=w,this._specification=Ne,Et(this,function t(w,Ne){var et,tt,nt,rt="color"===Ne.type,it=w.stops&&"object"==typeof w.stops[0][0],ot=it||!(it||void 0!==w.property),at=w.type||(Br(Ne)?"exponential":"interval");if(rt&&((w=Et({},w)).stops&&(w.stops=w.stops.map((function(w){return[w[0],Wt.parse(w[1])]}))),w.default=Wt.parse(w.default?w.default:Ne.default)),w.colorSpace&&"rgb"!==w.colorSpace&&!ls[w.colorSpace])throw new Error("Unknown color space: "+w.colorSpace);if("exponential"===at)et=Ur;else if("interval"===at)et=Or;else if("categorical"===at){et=Rr,tt=Object.create(null);for(var st=0,ct=w.stops;st<ct.length;st+=1){var pt=ct[st];tt[pt[0]]=pt[1]}nt=typeof w.stops[0][0]}else{if("identity"!==at)throw new Error('Unknown function type "'+at+'"');et=jr}if(it){for(var ft={},dt=[],mt=0;mt<w.stops.length;mt++){var yt=w.stops[mt],vt=yt[0].zoom;void 0===ft[vt]&&(ft[vt]={zoom:vt,type:w.type,property:w.property,default:w.default,stops:[]},dt.push(vt)),ft[vt].stops.push([yt[0].value,yt[1]])}for(var Ot=[],Dt=0,Rt=dt;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];Ot.push([ft[Bt].zoom,t(ft[Bt],Ne)])}var rn={name:"linear"};return{kind:"composite",interpolationType:rn,interpolationFactor:nr.interpolationFactor.bind(void 0,rn),zoomStops:Ot.map((function(w){return w[0]})),evaluate:function(et,tt){var nt=et.zoom;return Ur({stops:Ot,base:w.base},Ne,nt).evaluate(nt,tt)}}}if(ot){var vn="exponential"===at?{name:"exponential",base:void 0!==w.base?w.base:1}:null;return{kind:"camera",interpolationType:vn,interpolationFactor:nr.interpolationFactor.bind(void 0,vn),zoomStops:w.stops.map((function(w){return w[0]})),evaluate:function(rt){return et(w,Ne,rt.zoom,tt,nt)}}}return{kind:"source",evaluate:function(rt,it){var ot=it&&it.properties?it.properties[w.property]:void 0;return void 0===ot?Lr(w.default,Ne.default):et(w,Ne,ot,tt,nt)}}}(this._parameters,this._specification))};function Hr(w){var Ne=w.key,et=w.value,tt=w.valueSpec||{},nt=w.objectElementValidators||{},rt=w.style,it=w.styleSpec,ot=[],at=Vr(et);if("object"!==at)return[new Ct(Ne,et,"object expected, "+at+" found")];for(var st in et){var ct=st.split(".")[0],pt=tt[ct]||tt["*"],ft=void 0;if(nt[ct])ft=nt[ct];else if(tt[ct])ft=wn;else if(nt["*"])ft=nt["*"];else{if(!tt["*"]){ot.push(new Ct(Ne,et[st],'unknown property "'+st+'"'));continue}ft=wn}ot=ot.concat(ft({key:(Ne?Ne+".":Ne)+st,value:et[st],valueSpec:pt,style:rt,styleSpec:it,object:et,objectKey:st},et))}for(var dt in tt)nt[dt]||tt[dt].required&&void 0===tt[dt].default&&void 0===et[dt]&&ot.push(new Ct(Ne,et,'missing required property "'+dt+'"'));return ot}function Yr(w){var Ne=w.value,et=w.valueSpec,tt=w.style,nt=w.styleSpec,rt=w.key,it=w.arrayElementValidator||wn;if("array"!==Vr(Ne))return[new Ct(rt,Ne,"array expected, "+Vr(Ne)+" found")];if(et.length&&Ne.length!==et.length)return[new Ct(rt,Ne,"array length "+et.length+" expected, length "+Ne.length+" found")];if(et["min-length"]&&Ne.length<et["min-length"])return[new Ct(rt,Ne,"array length at least "+et["min-length"]+" expected, length "+Ne.length+" found")];var ot={type:et.value,values:et.values};nt.$version<7&&(ot.function=et.function),"object"===Vr(et.value)&&(ot=et.value);for(var at=[],st=0;st<Ne.length;st++)at=at.concat(it({array:Ne,arrayIndex:st,value:Ne[st],valueSpec:ot,style:tt,styleSpec:nt,key:rt+"["+st+"]"}));return at}function $r(w){var Ne=w.key,et=w.value,tt=w.valueSpec,nt=Vr(et);return"number"===nt&&et!=et&&(nt="NaN"),"number"!==nt?[new Ct(Ne,et,"number expected, "+nt+" found")]:"minimum"in tt&&et<tt.minimum?[new Ct(Ne,et,et+" is less than the minimum value "+tt.minimum)]:"maximum"in tt&&et>tt.maximum?[new Ct(Ne,et,et+" is greater than the maximum value "+tt.maximum)]:[]}function Wr(w){var Ne,et,tt,nt=w.valueSpec,rt=Tt(w.value.type),it={},ot="categorical"!==rt&&void 0===w.value.property,at=!ot,st="array"===Vr(w.value.stops)&&"array"===Vr(w.value.stops[0])&&"object"===Vr(w.value.stops[0][0]),ct=Hr({key:w.key,value:w.value,valueSpec:w.styleSpec.function,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{stops:function(w){if("identity"===rt)return[new Ct(w.key,w.value,'identity function may not have a "stops" property')];var Ne=[],et=w.value;return Ne=Ne.concat(Yr({key:w.key,value:et,valueSpec:w.valueSpec,style:w.style,styleSpec:w.styleSpec,arrayElementValidator:c})),"array"===Vr(et)&&0===et.length&&Ne.push(new Ct(w.key,et,"array must have at least one stop")),Ne},default:function(w){return wn({key:w.key,value:w.value,valueSpec:nt,style:w.style,styleSpec:w.styleSpec})}}});return"identity"===rt&&ot&&ct.push(new Ct(w.key,w.value,'missing required property "property"')),"identity"===rt||w.value.stops||ct.push(new Ct(w.key,w.value,'missing required property "stops"')),"exponential"===rt&&w.valueSpec.expression&&!Br(w.valueSpec)&&ct.push(new Ct(w.key,w.value,"exponential functions not supported")),w.styleSpec.$version>=8&&(at&&!Tr(w.valueSpec)?ct.push(new Ct(w.key,w.value,"property functions not supported")):ot&&!Pr(w.valueSpec)&&ct.push(new Ct(w.key,w.value,"zoom functions not supported"))),"categorical"!==rt&&!st||void 0!==w.value.property||ct.push(new Ct(w.key,w.value,'"property" property is required')),ct;function c(w){var Ne=[],rt=w.value,ot=w.key;if("array"!==Vr(rt))return[new Ct(ot,rt,"array expected, "+Vr(rt)+" found")];if(2!==rt.length)return[new Ct(ot,rt,"array length 2 expected, length "+rt.length+" found")];if(st){if("object"!==Vr(rt[0]))return[new Ct(ot,rt,"object expected, "+Vr(rt[0])+" found")];if(void 0===rt[0].zoom)return[new Ct(ot,rt,"object stop key must have zoom")];if(void 0===rt[0].value)return[new Ct(ot,rt,"object stop key must have value")];if(tt&&tt>Tt(rt[0].zoom))return[new Ct(ot,rt[0].zoom,"stop zoom values must appear in ascending order")];Tt(rt[0].zoom)!==tt&&(tt=Tt(rt[0].zoom),et=void 0,it={}),Ne=Ne.concat(Hr({key:ot+"[0]",value:rt[0],valueSpec:{zoom:{}},style:w.style,styleSpec:w.styleSpec,objectElementValidators:{zoom:$r,value:h}}))}else Ne=Ne.concat(h({key:ot+"[0]",value:rt[0],valueSpec:{},style:w.style,styleSpec:w.styleSpec},rt));return Nr(Pt(rt[1]))?Ne.concat([new Ct(ot+"[1]",rt[1],"expressions are not allowed in function stops.")]):Ne.concat(wn({key:ot+"[1]",value:rt[1],valueSpec:nt,style:w.style,styleSpec:w.styleSpec}))}function h(w,tt){var ot=Vr(w.value),at=Tt(w.value),st=null!==w.value?w.value:tt;if(Ne){if(ot!==Ne)return[new Ct(w.key,st,ot+" stop domain type must match previous stop domain type "+Ne)]}else Ne=ot;if("number"!==ot&&"string"!==ot&&"boolean"!==ot)return[new Ct(w.key,st,"stop domain value must be a number, string, or boolean")];if("number"!==ot&&"categorical"!==rt){var ct="number expected, "+ot+" found";return Tr(nt)&&void 0===rt&&(ct+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ct(w.key,st,ct)]}return"categorical"!==rt||"number"!==ot||isFinite(at)&&Math.floor(at)===at?"categorical"!==rt&&"number"===ot&&void 0!==et&&at<et?[new Ct(w.key,st,"stop domain values must appear in ascending order")]:(et=at,"categorical"===rt&&at in it?[new Ct(w.key,st,"stop domain values must be unique")]:(it[at]=!0,[])):[new Ct(w.key,st,"integer expected, found "+at)]}}function Qr(w){var Ne=("property"===w.expressionContext?Xr:Kr)(Pt(w.value),w.valueSpec);if("error"===Ne.result)return Ne.value.map((function(Ne){return new Ct(""+w.key+Ne.key,w.value,Ne.message)}));var et=Ne.value.expression||Ne.value._styleExpression.expression;if("property"===w.expressionContext&&"text-font"===w.propertyKey&&!et.outputDefined())return[new Ct(w.key,w.value,'Invalid data expression for "'+w.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===w.expressionContext&&"layout"===w.propertyType&&!De(et))return[new Ct(w.key,w.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===w.expressionContext&&!De(et))return[new Ct(w.key,w.value,'"feature-state" data expressions are not supported with filters.')];if(w.expressionContext&&0===w.expressionContext.indexOf("cluster")){if(!Le(et,["zoom","feature-state"]))return[new Ct(w.key,w.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===w.expressionContext&&!Fe(et))return[new Ct(w.key,w.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tn(w){var Ne=w.key,et=w.value,tt=w.valueSpec,nt=[];return Array.isArray(tt.values)?-1===tt.values.indexOf(Tt(et))&&nt.push(new Ct(Ne,et,"expected one of ["+tt.values.join(", ")+"], "+JSON.stringify(et)+" found")):-1===Object.keys(tt.values).indexOf(Tt(et))&&nt.push(new Ct(Ne,et,"expected one of ["+Object.keys(tt.values).join(", ")+"], "+JSON.stringify(et)+" found")),nt}function en(w){if(!0===w||!1===w)return!0;if(!Array.isArray(w)||0===w.length)return!1;switch(w[0]){case"has":return w.length>=2&&"$id"!==w[1]&&"$type"!==w[1];case"in":return w.length>=3&&("string"!=typeof w[1]||Array.isArray(w[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==w.length||Array.isArray(w[1])||Array.isArray(w[2]);case"any":case"all":for(var Ne=0,et=w.slice(1);Ne<et.length;Ne+=1){var tt=et[Ne];if(!en(tt)&&"boolean"!=typeof tt)return!1}return!0;default:return!0}}Jr.deserialize=function(w){return new Jr(w._parameters,w._specification)},Jr.serialize=function(w){return{_parameters:w._parameters,_specification:w._specification}};var Cs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nn(w){if(null==w)return{filter:function(){return!0},needGeometry:!1};en(w)||(w=on(w));var Ne=Kr(w,Cs);if("error"===Ne.result)throw new Error(Ne.value.map((function(w){return w.key+": "+w.message})).join(", "));return{filter:function(w,et,tt){return Ne.value.evaluate(w,et,{},tt)},needGeometry:function t(w){if(!Array.isArray(w))return!1;if("within"===w[0])return!0;for(var Ne=1;Ne<w.length;Ne++)if(t(w[Ne]))return!0;return!1}(w)}}function an(w,Ne){return w<Ne?-1:w>Ne?1:0}function on(w){if(!w)return!0;var Ne,et=w[0];return w.length<=1?"any"!==et:"=="===et?sn(w[1],w[2],"=="):"!="===et?pn(sn(w[1],w[2],"==")):"<"===et||">"===et||"<="===et||">="===et?sn(w[1],w[2],et):"any"===et?(Ne=w.slice(1),["any"].concat(Ne.map(on))):"all"===et?["all"].concat(w.slice(1).map(on)):"none"===et?["all"].concat(w.slice(1).map(on).map(pn)):"in"===et?un(w[1],w.slice(2)):"!in"===et?pn(un(w[1],w.slice(2))):"has"===et?ln(w[1]):"!has"===et?pn(ln(w[1])):"within"!==et||w}function sn(w,Ne,et){switch(w){case"$type":return["filter-type-"+et,Ne];case"$id":return["filter-id-"+et,Ne];default:return["filter-"+et,w,Ne]}}function un(w,Ne){if(0===Ne.length)return!1;switch(w){case"$type":return["filter-type-in",["literal",Ne]];case"$id":return["filter-id-in",["literal",Ne]];default:return Ne.length>200&&!Ne.some((function(w){return typeof w!=typeof Ne[0]}))?["filter-in-large",w,["literal",Ne.sort(an)]]:["filter-in-small",w,["literal",Ne]]}}function ln(w){switch(w){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",w]}}function pn(w){return["!",w]}function cn(w){return en(Pt(w.value))?Qr(Et({},w,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(w){var Ne=w.value,et=w.key;if("array"!==Vr(Ne))return[new Ct(et,Ne,"array expected, "+Vr(Ne)+" found")];var tt,nt=w.styleSpec,rt=[];if(Ne.length<1)return[new Ct(et,Ne,"filter array must have at least 1 element")];switch(rt=rt.concat(tn({key:et+"[0]",value:Ne[0],valueSpec:nt.filter_operator,style:w.style,styleSpec:w.styleSpec})),Tt(Ne[0])){case"<":case"<=":case">":case">=":Ne.length>=2&&"$type"===Tt(Ne[1])&&rt.push(new Ct(et,Ne,'"$type" cannot be use with operator "'+Ne[0]+'"'));case"==":case"!=":3!==Ne.length&&rt.push(new Ct(et,Ne,'filter array for operator "'+Ne[0]+'" must have 3 elements'));case"in":case"!in":Ne.length>=2&&"string"!==(tt=Vr(Ne[1]))&&rt.push(new Ct(et+"[1]",Ne[1],"string expected, "+tt+" found"));for(var it=2;it<Ne.length;it++)tt=Vr(Ne[it]),"$type"===Tt(Ne[1])?rt=rt.concat(tn({key:et+"["+it+"]",value:Ne[it],valueSpec:nt.geometry_type,style:w.style,styleSpec:w.styleSpec})):"string"!==tt&&"number"!==tt&&"boolean"!==tt&&rt.push(new Ct(et+"["+it+"]",Ne[it],"string, number, or boolean expected, "+tt+" found"));break;case"any":case"all":case"none":for(var ot=1;ot<Ne.length;ot++)rt=rt.concat(t({key:et+"["+ot+"]",value:Ne[ot],style:w.style,styleSpec:w.styleSpec}));break;case"has":case"!has":tt=Vr(Ne[1]),2!==Ne.length?rt.push(new Ct(et,Ne,'filter array for "'+Ne[0]+'" operator must have 2 elements')):"string"!==tt&&rt.push(new Ct(et+"[1]",Ne[1],"string expected, "+tt+" found"));break;case"within":tt=Vr(Ne[1]),2!==Ne.length?rt.push(new Ct(et,Ne,'filter array for "'+Ne[0]+'" operator must have 2 elements')):"object"!==tt&&rt.push(new Ct(et+"[1]",Ne[1],"object expected, "+tt+" found"))}return rt}(w)}function hn(w,Ne){var et=w.key,tt=w.style,nt=w.styleSpec,rt=w.value,it=w.objectKey,ot=nt[Ne+"_"+w.layerType];if(!ot)return[];var at=it.match(/^(.*)-transition$/);if("paint"===Ne&&at&&ot[at[1]]&&ot[at[1]].transition)return wn({key:et,value:rt,valueSpec:nt.transition,style:tt,styleSpec:nt});var st,ct=w.valueSpec||ot[it];if(!ct)return[new Ct(et,rt,'unknown property "'+it+'"')];if("string"===Vr(rt)&&Tr(ct)&&!ct.tokens&&(st=/^{([^}]+)}$/.exec(rt)))return[new Ct(et,rt,'"'+it+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(st[1])+" }`.")];var pt=[];return"symbol"===w.layerType&&("text-field"===it&&tt&&!tt.glyphs&&pt.push(new Ct(et,rt,'use of "text-field" requires a style "glyphs" property')),"text-font"===it&&Fr(Pt(rt))&&"identity"===Tt(rt.type)&&pt.push(new Ct(et,rt,'"text-font" does not support identity functions'))),pt.concat(wn({key:w.key,value:rt,valueSpec:ct,style:tt,styleSpec:nt,expressionContext:"property",propertyType:Ne,propertyKey:it}))}function fn(w){return hn(w,"paint")}function yn(w){return hn(w,"layout")}function dn(w){var Ne=[],et=w.value,tt=w.key,nt=w.style,rt=w.styleSpec;et.type||et.ref||Ne.push(new Ct(tt,et,'either "type" or "ref" is required'));var it,ot=Tt(et.type),at=Tt(et.ref);if(et.id)for(var st=Tt(et.id),ct=0;ct<w.arrayIndex;ct++){var pt=nt.layers[ct];Tt(pt.id)===st&&Ne.push(new Ct(tt,et.id,'duplicate layer id "'+et.id+'", previously used at line '+pt.id.__line__))}if("ref"in et)["type","source","source-layer","filter","layout"].forEach((function(w){w in et&&Ne.push(new Ct(tt,et[w],'"'+w+'" is prohibited for ref layers'))})),nt.layers.forEach((function(w){Tt(w.id)===at&&(it=w)})),it?it.ref?Ne.push(new Ct(tt,et.ref,"ref cannot reference another ref layer")):ot=Tt(it.type):Ne.push(new Ct(tt,et.ref,'ref layer "'+at+'" not found'));else if("background"!==ot)if(et.source){var ft=nt.sources&&nt.sources[et.source],dt=ft&&Tt(ft.type);ft?"vector"===dt&&"raster"===ot?Ne.push(new Ct(tt,et.source,'layer "'+et.id+'" requires a raster source')):"raster"===dt&&"raster"!==ot?Ne.push(new Ct(tt,et.source,'layer "'+et.id+'" requires a vector source')):"vector"!==dt||et["source-layer"]?"raster-dem"===dt&&"hillshade"!==ot?Ne.push(new Ct(tt,et.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==ot||!et.paint||!et.paint["line-gradient"]||"geojson"===dt&&ft.lineMetrics||Ne.push(new Ct(tt,et,'layer "'+et.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):Ne.push(new Ct(tt,et,'layer "'+et.id+'" must specify a "source-layer"')):Ne.push(new Ct(tt,et.source,'source "'+et.source+'" not found'))}else Ne.push(new Ct(tt,et,'missing required property "source"'));return Ne=Ne.concat(Hr({key:tt,value:et,valueSpec:rt.layer,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return wn({key:tt+".type",value:et.type,valueSpec:rt.layer.type,style:w.style,styleSpec:w.styleSpec,object:et,objectKey:"type"})},filter:cn,layout:function(w){return Hr({layer:et,key:w.key,value:w.value,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":function(w){return yn(Et({layerType:ot},w))}}})},paint:function(w){return Hr({layer:et,key:w.key,value:w.value,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{"*":function(w){return fn(Et({layerType:ot},w))}}})}}}))}function mn(w){var Ne=w.value,et=w.key,tt=Vr(Ne);return"string"!==tt?[new Ct(et,Ne,"string expected, "+tt+" found")]:[]}var Ps={promoteId:function(w){var Ne=w.key,et=w.value;if("string"===Vr(et))return mn({key:Ne,value:et});var tt=[];for(var nt in et)tt.push.apply(tt,mn({key:Ne+"."+nt,value:et[nt]}));return tt}};function gn(w){var Ne=w.value,et=w.key,tt=w.styleSpec,nt=w.style;if(!Ne.type)return[new Ct(et,Ne,'"type" is required')];var rt,it=Tt(Ne.type);switch(it){case"vector":case"raster":case"raster-dem":return Hr({key:et,value:Ne,valueSpec:tt["source_"+it.replace("-","_")],style:w.style,styleSpec:tt,objectElementValidators:Ps});case"geojson":if(rt=Hr({key:et,value:Ne,valueSpec:tt.source_geojson,style:nt,styleSpec:tt,objectElementValidators:Ps}),Ne.cluster)for(var ot in Ne.clusterProperties){var at=Ne.clusterProperties[ot],st=at[0],ct="string"==typeof st?[st,["accumulated"],["get",ot]]:st;rt.push.apply(rt,Qr({key:et+"."+ot+".map",value:at[1],expressionContext:"cluster-map"})),rt.push.apply(rt,Qr({key:et+"."+ot+".reduce",value:ct,expressionContext:"cluster-reduce"}))}return rt;case"video":return Hr({key:et,value:Ne,valueSpec:tt.source_video,style:nt,styleSpec:tt});case"image":return Hr({key:et,value:Ne,valueSpec:tt.source_image,style:nt,styleSpec:tt});case"canvas":return[new Ct(et,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tn({key:et+".type",value:Ne.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:nt,styleSpec:tt})}}function xn(w){var Ne=w.value,et=w.styleSpec,tt=et.light,nt=w.style,rt=[],it=Vr(Ne);if(void 0===Ne)return rt;if("object"!==it)return rt.concat([new Ct("light",Ne,"object expected, "+it+" found")]);for(var ot in Ne){var at=ot.match(/^(.*)-transition$/);rt=rt.concat(at&&tt[at[1]]&&tt[at[1]].transition?wn({key:ot,value:Ne[ot],valueSpec:et.transition,style:nt,styleSpec:et}):tt[ot]?wn({key:ot,value:Ne[ot],valueSpec:tt[ot],style:nt,styleSpec:et}):[new Ct(ot,Ne[ot],'unknown property "'+ot+'"')])}return rt}var As={"*":function(){return[]},array:Yr,boolean:function(w){var Ne=w.value,et=w.key,tt=Vr(Ne);return"boolean"!==tt?[new Ct(et,Ne,"boolean expected, "+tt+" found")]:[]},number:$r,color:function(w){var Ne=w.key,et=w.value,tt=Vr(et);return"string"!==tt?[new Ct(Ne,et,"color expected, "+tt+" found")]:null===pa(et)?[new Ct(Ne,et,'color expected, "'+et+'" found')]:[]},constants:Mt,enum:tn,filter:cn,function:Wr,layer:dn,object:Hr,source:gn,light:xn,string:mn,formatted:function(w){return 0===mn(w).length?[]:Qr(w)},resolvedImage:function(w){return 0===mn(w).length?[]:Qr(w)}};function wn(w){var Ne=w.value,et=w.valueSpec,tt=w.styleSpec;return et.expression&&Fr(Tt(Ne))?Wr(w):et.expression&&Nr(Pt(Ne))?Qr(w):et.type&&As[et.type]?As[et.type](w):Hr(Et({},w,{valueSpec:et.type?tt[et.type]:et}))}function _n(w){var Ne=w.value,et=w.key,tt=mn(w);return tt.length||(-1===Ne.indexOf("{fontstack}")&&tt.push(new Ct(et,Ne,'"glyphs" url must include a "{fontstack}" token')),-1===Ne.indexOf("{range}")&&tt.push(new Ct(et,Ne,'"glyphs" url must include a "{range}" token'))),tt}function An(w,Ne){void 0===Ne&&(Ne=wr);var et=[];return et=et.concat(wn({key:"",value:w,valueSpec:Ne.$root,styleSpec:Ne,style:w,objectElementValidators:{glyphs:_n,"*":function(){return[]}}})),w.constants&&(et=et.concat(Mt({key:"constants",value:w.constants,style:w,styleSpec:Ne}))),Sn(et)}function Sn(w){return[].concat(w).sort((function(w,Ne){return w.line-Ne.line}))}function kn(w){return function(){for(var Ne=[],et=arguments.length;et--;)Ne[et]=arguments[et];return Sn(w.apply(this,Ne))}}An.source=kn(gn),An.light=kn(xn),An.layer=kn(dn),An.filter=kn(cn),An.paintProperty=kn(fn),An.layoutProperty=kn(yn);var Ms=An,Os=Ms.light,zs=Ms.paintProperty,Ls=Ms.layoutProperty;function En(w,Ne){var et=!1;if(Ne&&Ne.length)for(var tt=0,nt=Ne;tt<nt.length;tt+=1)w.fire(new vr(new Error(nt[tt].message))),et=!0;return et}var Rs=Pn;function Pn(w,Ne,et){var tt=this.cells=[];if(w instanceof ArrayBuffer){this.arrayBuffer=w;var nt=new Int32Array(this.arrayBuffer);w=nt[0],this.d=(Ne=nt[1])+2*(et=nt[2]);for(var rt=0;rt<this.d*this.d;rt++){var it=nt[3+rt],ot=nt[3+rt+1];tt.push(it===ot?null:nt.subarray(it,ot))}var at=nt[3+tt.length+1];this.keys=nt.subarray(nt[3+tt.length],at),this.bboxes=nt.subarray(at),this.insert=this._insertReadonly}else{this.d=Ne+2*et;for(var st=0;st<this.d*this.d;st++)tt.push([]);this.keys=[],this.bboxes=[]}this.n=Ne,this.extent=w,this.padding=et,this.scale=Ne/w,this.uid=0;var ct=et/Ne*w;this.min=-ct,this.max=w+ct}Pn.prototype.insert=function(w,Ne,et,tt,nt){this._forEachCell(Ne,et,tt,nt,this._insertCell,this.uid++),this.keys.push(w),this.bboxes.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(nt)},Pn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Pn.prototype._insertCell=function(w,Ne,et,tt,nt,rt){this.cells[nt].push(rt)},Pn.prototype.query=function(w,Ne,et,tt,nt){var rt=this.min,it=this.max;if(w<=rt&&Ne<=rt&&it<=et&&it<=tt&&!nt)return Array.prototype.slice.call(this.keys);var ot=[];return this._forEachCell(w,Ne,et,tt,this._queryCell,ot,{},nt),ot},Pn.prototype._queryCell=function(w,Ne,et,tt,nt,rt,it,ot){var at=this.cells[nt];if(null!==at)for(var st=this.keys,ct=this.bboxes,pt=0;pt<at.length;pt++){var ft=at[pt];if(void 0===it[ft]){var dt=4*ft;(ot?ot(ct[dt+0],ct[dt+1],ct[dt+2],ct[dt+3]):w<=ct[dt+2]&&Ne<=ct[dt+3]&&et>=ct[dt+0]&&tt>=ct[dt+1])?(it[ft]=!0,rt.push(st[ft])):it[ft]=!1}}},Pn.prototype._forEachCell=function(w,Ne,et,tt,nt,rt,it,ot){for(var at=this._convertToCellCoord(w),st=this._convertToCellCoord(Ne),ct=this._convertToCellCoord(et),pt=this._convertToCellCoord(tt),ft=at;ft<=ct;ft++)for(var dt=st;dt<=pt;dt++){var mt=this.d*dt+ft;if((!ot||ot(this._convertFromCellCoord(ft),this._convertFromCellCoord(dt),this._convertFromCellCoord(ft+1),this._convertFromCellCoord(dt+1)))&&nt.call(this,w,Ne,et,tt,mt,rt,it,ot))return}},Pn.prototype._convertFromCellCoord=function(w){return(w-this.padding)/this.scale},Pn.prototype._convertToCellCoord=function(w){return Math.max(0,Math.min(this.d-1,Math.floor(w*this.scale)+this.padding))},Pn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var w=this.cells,Ne=3+this.cells.length+1+1,et=0,tt=0;tt<this.cells.length;tt++)et+=this.cells[tt].length;var nt=new Int32Array(Ne+et+this.keys.length+this.bboxes.length);nt[0]=this.extent,nt[1]=this.n,nt[2]=this.padding;for(var rt=Ne,it=0;it<w.length;it++){var ot=w[it];nt[3+it]=rt,nt.set(ot,rt),rt+=ot.length}return nt[3+w.length]=rt,nt.set(this.keys,rt),nt[3+w.length+1]=rt+=this.keys.length,nt.set(this.bboxes,rt),rt+=this.bboxes.length,nt.buffer};var Fs=tt.ImageData,Bs=tt.ImageBitmap,js={};function Dn(w,Ne,et){void 0===et&&(et={}),Object.defineProperty(Ne,"_classRegistryKey",{value:w,writeable:!1}),js[w]={klass:Ne,omit:et.omit||[],shallow:et.shallow||[]}}for(var Ns in Dn("Object",Object),Rs.serialize=function(w,Ne){var et=w.toArrayBuffer();return Ne&&Ne.push(et),{buffer:et}},Rs.deserialize=function(w){return new Rs(w.buffer)},Dn("Grid",Rs),Dn("Color",Wt),Dn("Error",Error),Dn("ResolvedImage",re),Dn("StylePropertyFunction",Jr),Dn("StyleExpression",qr,{omit:["_evaluator"]}),Dn("ZoomDependentExpression",Zr),Dn("ZoomConstantExpression",Gr),Dn("CompoundExpression",ve,{omit:["_evaluate"]}),Es)Es[Ns]._classRegistryKey||Dn("Expression_"+Ns,Es[Ns]);function Rn(w){return w&&"undefined"!=typeof ArrayBuffer&&(w instanceof ArrayBuffer||w.constructor&&"ArrayBuffer"===w.constructor.name)}function On(w){return Bs&&w instanceof Bs}function Un(w,Ne){if(null==w||"boolean"==typeof w||"number"==typeof w||"string"==typeof w||w instanceof Boolean||w instanceof Number||w instanceof String||w instanceof Date||w instanceof RegExp)return w;if(Rn(w)||On(w))return Ne&&Ne.push(w),w;if(ArrayBuffer.isView(w)){var et=w;return Ne&&Ne.push(et.buffer),et}if(w instanceof Fs)return Ne&&Ne.push(w.data.buffer),w;if(Array.isArray(w)){for(var tt=[],nt=0,rt=w;nt<rt.length;nt+=1)tt.push(Un(rt[nt],Ne));return tt}if("object"==typeof w){var it=w.constructor,ot=it._classRegistryKey;if(!ot)throw new Error("can't serialize object of unregistered class");var at=it.serialize?it.serialize(w,Ne):{};if(!it.serialize){for(var st in w)if(w.hasOwnProperty(st)&&!(js[ot].omit.indexOf(st)>=0)){var ct=w[st];at[st]=js[ot].shallow.indexOf(st)>=0?ct:Un(ct,Ne)}w instanceof Error&&(at.message=w.message)}if(at.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==ot&&(at.$name=ot),at}throw new Error("can't serialize object of type "+typeof w)}function jn(w){if(null==w||"boolean"==typeof w||"number"==typeof w||"string"==typeof w||w instanceof Boolean||w instanceof Number||w instanceof String||w instanceof Date||w instanceof RegExp||Rn(w)||On(w)||ArrayBuffer.isView(w)||w instanceof Fs)return w;if(Array.isArray(w))return w.map(jn);if("object"==typeof w){var Ne=w.$name||"Object",et=js[Ne].klass;if(!et)throw new Error("can't deserialize unregistered class "+Ne);if(et.deserialize)return et.deserialize(w);for(var tt=Object.create(et.prototype),nt=0,rt=Object.keys(w);nt<rt.length;nt+=1){var it=rt[nt];if("$name"!==it){var ot=w[it];tt[it]=js[Ne].shallow.indexOf(it)>=0?ot:jn(ot)}}return tt}throw new Error("can't deserialize object of type "+typeof w)}var qn=function(){this.first=!0};qn.prototype.update=function(w,Ne){var et=Math.floor(w);return this.first?(this.first=!1,this.lastIntegerZoom=et,this.lastIntegerZoomTime=0,this.lastZoom=w,this.lastFloorZoom=et,!0):(this.lastFloorZoom>et?(this.lastIntegerZoom=et+1,this.lastIntegerZoomTime=Ne):this.lastFloorZoom<et&&(this.lastIntegerZoom=et,this.lastIntegerZoomTime=Ne),w!==this.lastZoom&&(this.lastZoom=w,this.lastFloorZoom=et,!0))};var Vs={"Latin-1 Supplement":function(w){return w>=128&&w<=255},Arabic:function(w){return w>=1536&&w<=1791},"Arabic Supplement":function(w){return w>=1872&&w<=1919},"Arabic Extended-A":function(w){return w>=2208&&w<=2303},"Hangul Jamo":function(w){return w>=4352&&w<=4607},"Unified Canadian Aboriginal Syllabics":function(w){return w>=5120&&w<=5759},Khmer:function(w){return w>=6016&&w<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(w){return w>=6320&&w<=6399},"General Punctuation":function(w){return w>=8192&&w<=8303},"Letterlike Symbols":function(w){return w>=8448&&w<=8527},"Number Forms":function(w){return w>=8528&&w<=8591},"Miscellaneous Technical":function(w){return w>=8960&&w<=9215},"Control Pictures":function(w){return w>=9216&&w<=9279},"Optical Character Recognition":function(w){return w>=9280&&w<=9311},"Enclosed Alphanumerics":function(w){return w>=9312&&w<=9471},"Geometric Shapes":function(w){return w>=9632&&w<=9727},"Miscellaneous Symbols":function(w){return w>=9728&&w<=9983},"Miscellaneous Symbols and Arrows":function(w){return w>=11008&&w<=11263},"CJK Radicals Supplement":function(w){return w>=11904&&w<=12031},"Kangxi Radicals":function(w){return w>=12032&&w<=12255},"Ideographic Description Characters":function(w){return w>=12272&&w<=12287},"CJK Symbols and Punctuation":function(w){return w>=12288&&w<=12351},Hiragana:function(w){return w>=12352&&w<=12447},Katakana:function(w){return w>=12448&&w<=12543},Bopomofo:function(w){return w>=12544&&w<=12591},"Hangul Compatibility Jamo":function(w){return w>=12592&&w<=12687},Kanbun:function(w){return w>=12688&&w<=12703},"Bopomofo Extended":function(w){return w>=12704&&w<=12735},"CJK Strokes":function(w){return w>=12736&&w<=12783},"Katakana Phonetic Extensions":function(w){return w>=12784&&w<=12799},"Enclosed CJK Letters and Months":function(w){return w>=12800&&w<=13055},"CJK Compatibility":function(w){return w>=13056&&w<=13311},"CJK Unified Ideographs Extension A":function(w){return w>=13312&&w<=19903},"Yijing Hexagram Symbols":function(w){return w>=19904&&w<=19967},"CJK Unified Ideographs":function(w){return w>=19968&&w<=40959},"Yi Syllables":function(w){return w>=40960&&w<=42127},"Yi Radicals":function(w){return w>=42128&&w<=42191},"Hangul Jamo Extended-A":function(w){return w>=43360&&w<=43391},"Hangul Syllables":function(w){return w>=44032&&w<=55215},"Hangul Jamo Extended-B":function(w){return w>=55216&&w<=55295},"Private Use Area":function(w){return w>=57344&&w<=63743},"CJK Compatibility Ideographs":function(w){return w>=63744&&w<=64255},"Arabic Presentation Forms-A":function(w){return w>=64336&&w<=65023},"Vertical Forms":function(w){return w>=65040&&w<=65055},"CJK Compatibility Forms":function(w){return w>=65072&&w<=65103},"Small Form Variants":function(w){return w>=65104&&w<=65135},"Arabic Presentation Forms-B":function(w){return w>=65136&&w<=65279},"Halfwidth and Fullwidth Forms":function(w){return w>=65280&&w<=65519}};function Kn(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(Gn(et[Ne].charCodeAt(0)))return!0;return!1}function Gn(w){return!(746!==w&&747!==w&&(w<4352||!(Vs["Bopomofo Extended"](w)||Vs.Bopomofo(w)||Vs["CJK Compatibility Forms"](w)&&!(w>=65097&&w<=65103)||Vs["CJK Compatibility Ideographs"](w)||Vs["CJK Compatibility"](w)||Vs["CJK Radicals Supplement"](w)||Vs["CJK Strokes"](w)||!(!Vs["CJK Symbols and Punctuation"](w)||w>=12296&&w<=12305||w>=12308&&w<=12319||12336===w)||Vs["CJK Unified Ideographs Extension A"](w)||Vs["CJK Unified Ideographs"](w)||Vs["Enclosed CJK Letters and Months"](w)||Vs["Hangul Compatibility Jamo"](w)||Vs["Hangul Jamo Extended-A"](w)||Vs["Hangul Jamo Extended-B"](w)||Vs["Hangul Jamo"](w)||Vs["Hangul Syllables"](w)||Vs.Hiragana(w)||Vs["Ideographic Description Characters"](w)||Vs.Kanbun(w)||Vs["Kangxi Radicals"](w)||Vs["Katakana Phonetic Extensions"](w)||Vs.Katakana(w)&&12540!==w||!(!Vs["Halfwidth and Fullwidth Forms"](w)||65288===w||65289===w||65293===w||w>=65306&&w<=65310||65339===w||65341===w||65343===w||w>=65371&&w<=65503||65507===w||w>=65512&&w<=65519)||!(!Vs["Small Form Variants"](w)||w>=65112&&w<=65118||w>=65123&&w<=65126)||Vs["Unified Canadian Aboriginal Syllabics"](w)||Vs["Unified Canadian Aboriginal Syllabics Extended"](w)||Vs["Vertical Forms"](w)||Vs["Yijing Hexagram Symbols"](w)||Vs["Yi Syllables"](w)||Vs["Yi Radicals"](w))))}function Zn(w){return!(Gn(w)||function(w){return!!(Vs["Latin-1 Supplement"](w)&&(167===w||169===w||174===w||177===w||188===w||189===w||190===w||215===w||247===w)||Vs["General Punctuation"](w)&&(8214===w||8224===w||8225===w||8240===w||8241===w||8251===w||8252===w||8258===w||8263===w||8264===w||8265===w||8273===w)||Vs["Letterlike Symbols"](w)||Vs["Number Forms"](w)||Vs["Miscellaneous Technical"](w)&&(w>=8960&&w<=8967||w>=8972&&w<=8991||w>=8996&&w<=9e3||9003===w||w>=9085&&w<=9114||w>=9150&&w<=9165||9167===w||w>=9169&&w<=9179||w>=9186&&w<=9215)||Vs["Control Pictures"](w)&&9251!==w||Vs["Optical Character Recognition"](w)||Vs["Enclosed Alphanumerics"](w)||Vs["Geometric Shapes"](w)||Vs["Miscellaneous Symbols"](w)&&!(w>=9754&&w<=9759)||Vs["Miscellaneous Symbols and Arrows"](w)&&(w>=11026&&w<=11055||w>=11088&&w<=11097||w>=11192&&w<=11243)||Vs["CJK Symbols and Punctuation"](w)||Vs.Katakana(w)||Vs["Private Use Area"](w)||Vs["CJK Compatibility Forms"](w)||Vs["Small Form Variants"](w)||Vs["Halfwidth and Fullwidth Forms"](w)||8734===w||8756===w||8757===w||w>=9984&&w<=10087||w>=10102&&w<=10131||65532===w||65533===w)}(w))}function Xn(w){return w>=1424&&w<=2303||Vs["Arabic Presentation Forms-A"](w)||Vs["Arabic Presentation Forms-B"](w)}function Jn(w,Ne){return!(!Ne&&Xn(w)||w>=2304&&w<=3583||w>=3840&&w<=4255||Vs.Khmer(w))}function Hn(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(Xn(et[Ne].charCodeAt(0)))return!0;return!1}var Us=null,Zs="unavailable",Js=null,Qn=function(w){w&&"string"==typeof w&&w.indexOf("NetworkError")>-1&&(Zs="error"),Us&&Us(w)};function ti(){tl.fire(new St("pluginStateChange",{pluginStatus:Zs,pluginURL:Js}))}var tl=new It,ri=function(){return Zs},ni=function(){if("deferred"!==Zs||!Js)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Zs="loading",ti(),Js&&xt({url:Js},(function(w){w?Qn(w):(Zs="loaded",ti())}))},ol={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Zs||null!=ol.applyArabicShaping},isLoading:function(){return"loading"===Zs},setState:function(w){Zs=w.pluginStatus,Js=w.pluginURL},isParsed:function(){return null!=ol.applyArabicShaping&&null!=ol.processBidirectionalText&&null!=ol.processStyledBidirectionalText},getPluginURL:function(){return Js}},ai=function(w,Ne){this.zoom=w,Ne?(this.now=Ne.now,this.fadeDuration=Ne.fadeDuration,this.zoomHistory=Ne.zoomHistory,this.transition=Ne.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qn,this.transition={})};ai.prototype.isSupportedScript=function(w){return function(w,Ne){for(var et=0,tt=w;et<tt.length;et+=1)if(!Jn(tt[et].charCodeAt(0),Ne))return!1;return!0}(w,ol.isLoaded())},ai.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ai.prototype.getCrossfadeParameters=function(){var w=this.zoom,Ne=w-Math.floor(w),et=this.crossFadingFactor();return w>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:Ne+(1-Ne)*et}:{fromScale:.5,toScale:1,t:1-(1-et)*Ne}};var oi=function(w,Ne){this.property=w,this.value=Ne,this.expression=function(w,Ne){if(Fr(w))return new Jr(w,Ne);if(Nr(w)){var et=Xr(w,Ne);if("error"===et.result)throw new Error(et.value.map((function(w){return w.key+": "+w.message})).join(", "));return et.value}var tt=w;return"string"==typeof w&&"color"===Ne.type&&(tt=Wt.parse(w)),{kind:"constant",evaluate:function(){return tt}}}(void 0===Ne?w.specification.default:Ne,w.specification)};oi.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},oi.prototype.possiblyEvaluate=function(w,Ne,et){return this.property.possiblyEvaluate(this,w,Ne,et)};var si=function(w){this.property=w,this.value=new oi(w,void 0)};si.prototype.transitioned=function(w,Ne){return new li(this.property,this.value,Ne,c({},w.transition,this.transition),w.now)},si.prototype.untransitioned=function(){return new li(this.property,this.value,null,{},0)};var ui=function(w){this._properties=w,this._values=Object.create(w.defaultTransitionablePropertyValues)};ui.prototype.getValue=function(w){return b(this._values[w].value.value)},ui.prototype.setValue=function(w,Ne){this._values.hasOwnProperty(w)||(this._values[w]=new si(this._values[w].property)),this._values[w].value=new oi(this._values[w].property,null===Ne?void 0:b(Ne))},ui.prototype.getTransition=function(w){return b(this._values[w].transition)},ui.prototype.setTransition=function(w,Ne){this._values.hasOwnProperty(w)||(this._values[w]=new si(this._values[w].property)),this._values[w].transition=b(Ne)||void 0},ui.prototype.serialize=function(){for(var w={},Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1){var tt=et[Ne],nt=this.getValue(tt);void 0!==nt&&(w[tt]=nt);var rt=this.getTransition(tt);void 0!==rt&&(w[tt+"-transition"]=rt)}return w},ui.prototype.transitioned=function(w,Ne){for(var et=new pi(this._properties),tt=0,nt=Object.keys(this._values);tt<nt.length;tt+=1){var rt=nt[tt];et._values[rt]=this._values[rt].transitioned(w,Ne._values[rt])}return et},ui.prototype.untransitioned=function(){for(var w=new pi(this._properties),Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1){var tt=et[Ne];w._values[tt]=this._values[tt].untransitioned()}return w};var li=function(w,Ne,et,tt,nt){this.property=w,this.value=Ne,this.begin=nt+tt.delay||0,this.end=this.begin+tt.duration||0,w.specification.transition&&(tt.delay||tt.duration)&&(this.prior=et)};li.prototype.possiblyEvaluate=function(w,Ne,et){var tt=w.now||0,nt=this.value.possiblyEvaluate(w,Ne,et),rt=this.prior;if(rt){if(tt>this.end)return this.prior=null,nt;if(this.value.isDataDriven())return this.prior=null,nt;if(tt<this.begin)return rt.possiblyEvaluate(w,Ne,et);var it=(tt-this.begin)/(this.end-this.begin);return this.property.interpolate(rt.possiblyEvaluate(w,Ne,et),nt,function(w){if(w<=0)return 0;if(w>=1)return 1;var Ne=w*w,et=Ne*w;return 4*(w<.5?et:3*(w-Ne)+et-.75)}(it))}return nt};var pi=function(w){this._properties=w,this._values=Object.create(w.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(w,Ne,et){for(var tt=new fi(this._properties),nt=0,rt=Object.keys(this._values);nt<rt.length;nt+=1){var it=rt[nt];tt._values[it]=this._values[it].possiblyEvaluate(w,Ne,et)}return tt},pi.prototype.hasTransition=function(){for(var w=0,Ne=Object.keys(this._values);w<Ne.length;w+=1)if(this._values[Ne[w]].prior)return!0;return!1};var ci=function(w){this._properties=w,this._values=Object.create(w.defaultPropertyValues)};ci.prototype.getValue=function(w){return b(this._values[w].value)},ci.prototype.setValue=function(w,Ne){this._values[w]=new oi(this._values[w].property,null===Ne?void 0:b(Ne))},ci.prototype.serialize=function(){for(var w={},Ne=0,et=Object.keys(this._values);Ne<et.length;Ne+=1){var tt=et[Ne],nt=this.getValue(tt);void 0!==nt&&(w[tt]=nt)}return w},ci.prototype.possiblyEvaluate=function(w,Ne,et){for(var tt=new fi(this._properties),nt=0,rt=Object.keys(this._values);nt<rt.length;nt+=1){var it=rt[nt];tt._values[it]=this._values[it].possiblyEvaluate(w,Ne,et)}return tt};var hi=function(w,Ne,et){this.property=w,this.value=Ne,this.parameters=et};hi.prototype.isConstant=function(){return"constant"===this.value.kind},hi.prototype.constantOr=function(w){return"constant"===this.value.kind?this.value.value:w},hi.prototype.evaluate=function(w,Ne,et,tt){return this.property.evaluate(this.value,this.parameters,w,Ne,et,tt)};var fi=function(w){this._properties=w,this._values=Object.create(w.defaultPossiblyEvaluatedValues)};fi.prototype.get=function(w){return this._values[w]};var yi=function(w){this.specification=w};yi.prototype.possiblyEvaluate=function(w,Ne){return w.expression.evaluate(Ne)},yi.prototype.interpolate=function(w,Ne,et){var tt=_a[this.specification.type];return tt?tt(w,Ne,et):w};var di=function(w,Ne){this.specification=w,this.overrides=Ne};di.prototype.possiblyEvaluate=function(w,Ne,et,tt){return new hi(this,"constant"===w.expression.kind||"camera"===w.expression.kind?{kind:"constant",value:w.expression.evaluate(Ne,null,{},et,tt)}:w.expression,Ne)},di.prototype.interpolate=function(w,Ne,et){if("constant"!==w.value.kind||"constant"!==Ne.value.kind)return w;if(void 0===w.value.value||void 0===Ne.value.value)return new hi(this,{kind:"constant",value:void 0},w.parameters);var tt=_a[this.specification.type];return tt?new hi(this,{kind:"constant",value:tt(w.value.value,Ne.value.value,et)},w.parameters):w},di.prototype.evaluate=function(w,Ne,et,tt,nt,rt){return"constant"===w.kind?w.value:w.evaluate(Ne,et,tt,nt,rt)};var sl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(w,Ne,et,tt){if(void 0===w.value)return new hi(this,{kind:"constant",value:void 0},Ne);if("constant"===w.expression.kind){var nt=w.expression.evaluate(Ne,null,{},et,tt),rt="resolvedImage"===w.property.specification.type&&"string"!=typeof nt?nt.name:nt,it=this._calculate(rt,rt,rt,Ne);return new hi(this,{kind:"constant",value:it},Ne)}if("camera"===w.expression.kind){var ot=this._calculate(w.expression.evaluate({zoom:Ne.zoom-1}),w.expression.evaluate({zoom:Ne.zoom}),w.expression.evaluate({zoom:Ne.zoom+1}),Ne);return new hi(this,{kind:"constant",value:ot},Ne)}return new hi(this,w.expression,Ne)},e.prototype.evaluate=function(w,Ne,et,tt,nt,rt){if("source"===w.kind){var it=w.evaluate(Ne,et,tt,nt,rt);return this._calculate(it,it,it,Ne)}return"composite"===w.kind?this._calculate(w.evaluate({zoom:Math.floor(Ne.zoom)-1},et,tt),w.evaluate({zoom:Math.floor(Ne.zoom)},et,tt),w.evaluate({zoom:Math.floor(Ne.zoom)+1},et,tt),Ne):w.value},e.prototype._calculate=function(w,Ne,et,tt){return tt.zoom>tt.zoomHistory.lastIntegerZoom?{from:w,to:Ne}:{from:et,to:Ne}},e.prototype.interpolate=function(w){return w},e}(di),vi=function(w){this.specification=w};vi.prototype.possiblyEvaluate=function(w,Ne,et,tt){if(void 0!==w.value){if("constant"===w.expression.kind){var nt=w.expression.evaluate(Ne,null,{},et,tt);return this._calculate(nt,nt,nt,Ne)}return this._calculate(w.expression.evaluate(new ai(Math.floor(Ne.zoom-1),Ne)),w.expression.evaluate(new ai(Math.floor(Ne.zoom),Ne)),w.expression.evaluate(new ai(Math.floor(Ne.zoom+1),Ne)),Ne)}},vi.prototype._calculate=function(w,Ne,et,tt){return tt.zoom>tt.zoomHistory.lastIntegerZoom?{from:w,to:Ne}:{from:et,to:Ne}},vi.prototype.interpolate=function(w){return w};var gi=function(w){this.specification=w};gi.prototype.possiblyEvaluate=function(w,Ne,et,tt){return!!w.expression.evaluate(Ne,null,{},et,tt)},gi.prototype.interpolate=function(){return!1};var xi=function(w){for(var Ne in this.properties=w,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],w){var et=w[Ne];et.specification.overridable&&this.overridableProperties.push(Ne);var tt=this.defaultPropertyValues[Ne]=new oi(et,void 0),nt=this.defaultTransitionablePropertyValues[Ne]=new si(et);this.defaultTransitioningPropertyValues[Ne]=nt.untransitioned(),this.defaultPossiblyEvaluatedValues[Ne]=tt.possiblyEvaluate({})}};Dn("DataDrivenProperty",di),Dn("DataConstantProperty",yi),Dn("CrossFadedDataDrivenProperty",sl),Dn("CrossFadedProperty",vi),Dn("ColorRampProperty",gi);var dl=function(w){function e(Ne,et){if(w.call(this),this.id=Ne.id,this.type=Ne.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==Ne.type&&(this.metadata=(Ne=Ne).metadata,this.minzoom=Ne.minzoom,this.maxzoom=Ne.maxzoom,"background"!==Ne.type&&(this.source=Ne.source,this.sourceLayer=Ne["source-layer"],this.filter=Ne.filter),et.layout&&(this._unevaluatedLayout=new ci(et.layout)),et.paint)){for(var tt in this._transitionablePaint=new ui(et.paint),Ne.paint)this.setPaintProperty(tt,Ne.paint[tt],{validate:!1});for(var nt in Ne.layout)this.setLayoutProperty(nt,Ne.layout[nt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new fi(et.paint)}}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(w){return"visibility"===w?this.visibility:this._unevaluatedLayout.getValue(w)},e.prototype.setLayoutProperty=function(w,Ne,et){void 0===et&&(et={}),null!=Ne&&this._validate(Ls,"layers."+this.id+".layout."+w,w,Ne,et)||("visibility"!==w?this._unevaluatedLayout.setValue(w,Ne):this.visibility=Ne)},e.prototype.getPaintProperty=function(w){return v(w,"-transition")?this._transitionablePaint.getTransition(w.slice(0,-"-transition".length)):this._transitionablePaint.getValue(w)},e.prototype.setPaintProperty=function(w,Ne,et){if(void 0===et&&(et={}),null!=Ne&&this._validate(zs,"layers."+this.id+".paint."+w,w,Ne,et))return!1;if(v(w,"-transition"))return this._transitionablePaint.setTransition(w.slice(0,-"-transition".length),Ne||void 0),!1;var tt=this._transitionablePaint._values[w],nt="cross-faded-data-driven"===tt.property.specification["property-type"],rt=tt.value.isDataDriven(),it=tt.value;this._transitionablePaint.setValue(w,Ne),this._handleSpecialPaintPropertyUpdate(w);var ot=this._transitionablePaint._values[w].value;return ot.isDataDriven()||rt||nt||this._handleOverridablePaintPropertyUpdate(w,it,ot)},e.prototype._handleSpecialPaintPropertyUpdate=function(w){},e.prototype._handleOverridablePaintPropertyUpdate=function(w,Ne,et){return!1},e.prototype.isHidden=function(w){return!!(this.minzoom&&w<this.minzoom)||!!(this.maxzoom&&w>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(w){this._transitioningPaint=this._transitionablePaint.transitioned(w,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(w,Ne){w.getCrossfadeParameters&&(this._crossfadeParameters=w.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(w,void 0,Ne)),this.paint=this._transitioningPaint.possiblyEvaluate(w,void 0,Ne)},e.prototype.serialize=function(){var w={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(w.layout=w.layout||{},w.layout.visibility=this.visibility),x(w,(function(w,Ne){return!(void 0===w||"layout"===Ne&&!Object.keys(w).length||"paint"===Ne&&!Object.keys(w).length)}))},e.prototype._validate=function(w,Ne,et,tt,nt){return void 0===nt&&(nt={}),(!nt||!1!==nt.validate)&&En(this,w.call(Ms,{key:Ne,layerType:this.type,objectKey:et,value:tt,styleSpec:wr,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var w in this.paint._values){var Ne=this.paint.get(w);if(Ne instanceof hi&&Tr(Ne.property.specification)&&("source"===Ne.value.kind||"composite"===Ne.value.kind)&&Ne.value.isStateDependent)return!0}return!1},e}(It),yl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},_i=function(w,Ne){this._structArray=w,this._pos1=Ne*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ai=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Si(w,Ne){void 0===Ne&&(Ne=1);var et=0,tt=0;return{members:w.map((function(w){var nt=yl[w.type].BYTES_PER_ELEMENT,rt=et=ki(et,Math.max(Ne,nt)),it=w.components||1;return tt=Math.max(tt,nt),et+=nt*it,{name:w.name,type:w.type,components:it,offset:rt}})),size:ki(et,Math.max(tt,Ne)),alignment:Ne}}function ki(w,Ne){return Math.ceil(w/Ne)*Ne}Ai.serialize=function(w,Ne){return w._trim(),Ne&&(w.isTransferred=!0,Ne.push(w.arrayBuffer)),{length:w.length,arrayBuffer:w.arrayBuffer}},Ai.deserialize=function(w){var Ne=Object.create(this.prototype);return Ne.arrayBuffer=w.arrayBuffer,Ne.length=w.length,Ne.capacity=w.arrayBuffer.byteLength/Ne.bytesPerElement,Ne._refreshViews(),Ne},Ai.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ai.prototype.clear=function(){this.length=0},Ai.prototype.resize=function(w){this.reserve(w),this.length=w},Ai.prototype.reserve=function(w){if(w>this.capacity){this.capacity=Math.max(w,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var Ne=this.uint8;this._refreshViews(),Ne&&this.uint8.set(Ne)}},Ai.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var gl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne){var et=this.length;return this.resize(et+1),this.emplace(et,w,Ne)},e.prototype.emplace=function(w,Ne,et){var tt=2*w;return this.int16[tt+0]=Ne,this.int16[tt+1]=et,w},e}(Ai);gl.prototype.bytesPerElement=4,Dn("StructArrayLayout2i4",gl);var vl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,w,Ne,et,tt)},e.prototype.emplace=function(w,Ne,et,tt,nt){var rt=4*w;return this.int16[rt+0]=Ne,this.int16[rt+1]=et,this.int16[rt+2]=tt,this.int16[rt+3]=nt,w},e}(Ai);vl.prototype.bytesPerElement=8,Dn("StructArrayLayout4i8",vl);var _l=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt){var it=this.length;return this.resize(it+1),this.emplace(it,w,Ne,et,tt,nt,rt)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it){var ot=6*w;return this.int16[ot+0]=Ne,this.int16[ot+1]=et,this.int16[ot+2]=tt,this.int16[ot+3]=nt,this.int16[ot+4]=rt,this.int16[ot+5]=it,w},e}(Ai);_l.prototype.bytesPerElement=12,Dn("StructArrayLayout2i4i12",_l);var bl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt){var it=this.length;return this.resize(it+1),this.emplace(it,w,Ne,et,tt,nt,rt)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it){var ot=4*w,at=8*w;return this.int16[ot+0]=Ne,this.int16[ot+1]=et,this.uint8[at+4]=tt,this.uint8[at+5]=nt,this.uint8[at+6]=rt,this.uint8[at+7]=it,w},e}(Ai);bl.prototype.bytesPerElement=8,Dn("StructArrayLayout2i4ub8",bl);var xl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt,it,ot,at,st){var ct=this.length;return this.resize(ct+1),this.emplace(ct,w,Ne,et,tt,nt,rt,it,ot,at,st)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct){var pt=10*w;return this.uint16[pt+0]=Ne,this.uint16[pt+1]=et,this.uint16[pt+2]=tt,this.uint16[pt+3]=nt,this.uint16[pt+4]=rt,this.uint16[pt+5]=it,this.uint16[pt+6]=ot,this.uint16[pt+7]=at,this.uint16[pt+8]=st,this.uint16[pt+9]=ct,w},e}(Ai);xl.prototype.bytesPerElement=20,Dn("StructArrayLayout10ui20",xl);var wl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){var ft=this.length;return this.resize(ft+1),this.emplace(ft,w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft){var dt=12*w;return this.int16[dt+0]=Ne,this.int16[dt+1]=et,this.int16[dt+2]=tt,this.int16[dt+3]=nt,this.uint16[dt+4]=rt,this.uint16[dt+5]=it,this.uint16[dt+6]=ot,this.uint16[dt+7]=at,this.int16[dt+8]=st,this.int16[dt+9]=ct,this.int16[dt+10]=pt,this.int16[dt+11]=ft,w},e}(Ai);wl.prototype.bytesPerElement=24,Dn("StructArrayLayout4i4ui4i24",wl);var Sl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var nt=3*w;return this.float32[nt+0]=Ne,this.float32[nt+1]=et,this.float32[nt+2]=tt,w},e}(Ai);Sl.prototype.bytesPerElement=12,Dn("StructArrayLayout3f12",Sl);var kl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,w)},e.prototype.emplace=function(w,Ne){return this.uint32[1*w+0]=Ne,w},e}(Ai);kl.prototype.bytesPerElement=4,Dn("StructArrayLayout1ul4",kl);var Cl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt,it,ot,at){var st=this.length;return this.resize(st+1),this.emplace(st,w,Ne,et,tt,nt,rt,it,ot,at)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it,ot,at,st){var ct=10*w,pt=5*w;return this.int16[ct+0]=Ne,this.int16[ct+1]=et,this.int16[ct+2]=tt,this.int16[ct+3]=nt,this.int16[ct+4]=rt,this.int16[ct+5]=it,this.uint32[pt+3]=ot,this.uint16[ct+8]=at,this.uint16[ct+9]=st,w},e}(Ai);Cl.prototype.bytesPerElement=20,Dn("StructArrayLayout6i1ul2ui20",Cl);var Il=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt){var it=this.length;return this.resize(it+1),this.emplace(it,w,Ne,et,tt,nt,rt)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it){var ot=6*w;return this.int16[ot+0]=Ne,this.int16[ot+1]=et,this.int16[ot+2]=tt,this.int16[ot+3]=nt,this.int16[ot+4]=rt,this.int16[ot+5]=it,w},e}(Ai);Il.prototype.bytesPerElement=12,Dn("StructArrayLayout2i2i2i12",Il);var Al=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt){var rt=this.length;return this.resize(rt+1),this.emplace(rt,w,Ne,et,tt,nt)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt){var it=4*w,ot=8*w;return this.float32[it+0]=Ne,this.float32[it+1]=et,this.float32[it+2]=tt,this.int16[ot+6]=nt,this.int16[ot+7]=rt,w},e}(Ai);Al.prototype.bytesPerElement=16,Dn("StructArrayLayout2f1f2i16",Al);var zl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,w,Ne,et,tt)},e.prototype.emplace=function(w,Ne,et,tt,nt){var rt=12*w,it=3*w;return this.uint8[rt+0]=Ne,this.uint8[rt+1]=et,this.float32[it+1]=tt,this.float32[it+2]=nt,w},e}(Ai);zl.prototype.bytesPerElement=12,Dn("StructArrayLayout2ub2f12",zl);var Fl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var nt=3*w;return this.uint16[nt+0]=Ne,this.uint16[nt+1]=et,this.uint16[nt+2]=tt,w},e}(Ai);Fl.prototype.bytesPerElement=6,Dn("StructArrayLayout3ui6",Fl);var Hl=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt){var Ot=this.length;return this.resize(Ot+1),this.emplace(Ot,w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Ot){var Dt=24*w,Rt=12*w,Bt=48*w;return this.int16[Dt+0]=Ne,this.int16[Dt+1]=et,this.uint16[Dt+2]=tt,this.uint16[Dt+3]=nt,this.uint32[Rt+2]=rt,this.uint32[Rt+3]=it,this.uint32[Rt+4]=ot,this.uint16[Dt+10]=at,this.uint16[Dt+11]=st,this.uint16[Dt+12]=ct,this.float32[Rt+7]=pt,this.float32[Rt+8]=ft,this.uint8[Bt+36]=dt,this.uint8[Bt+37]=mt,this.uint8[Bt+38]=yt,this.uint32[Rt+10]=vt,this.int16[Dt+22]=Ot,w},e}(Ai);Hl.prototype.bytesPerElement=48,Dn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Hl);var du=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Cn,Tn,In,Mn){var zn=this.length;return this.resize(zn+1),this.emplace(zn,w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Cn,Tn,In,Mn)},e.prototype.emplace=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Cn,Tn,In,Mn,zn){var Ln=34*w,Fn=17*w;return this.int16[Ln+0]=Ne,this.int16[Ln+1]=et,this.int16[Ln+2]=tt,this.int16[Ln+3]=nt,this.int16[Ln+4]=rt,this.int16[Ln+5]=it,this.int16[Ln+6]=ot,this.int16[Ln+7]=at,this.uint16[Ln+8]=st,this.uint16[Ln+9]=ct,this.uint16[Ln+10]=pt,this.uint16[Ln+11]=ft,this.uint16[Ln+12]=dt,this.uint16[Ln+13]=mt,this.uint16[Ln+14]=yt,this.uint16[Ln+15]=vt,this.uint16[Ln+16]=Ot,this.uint16[Ln+17]=Dt,this.uint16[Ln+18]=Rt,this.uint16[Ln+19]=Bt,this.uint16[Ln+20]=rn,this.uint16[Ln+21]=vn,this.uint16[Ln+22]=bn,this.uint32[Fn+12]=Cn,this.float32[Fn+13]=Tn,this.float32[Fn+14]=In,this.float32[Fn+15]=Mn,this.float32[Fn+16]=zn,w},e}(Ai);du.prototype.bytesPerElement=68,Dn("StructArrayLayout8i15ui1ul4f68",du);var vu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,w)},e.prototype.emplace=function(w,Ne){return this.float32[1*w+0]=Ne,w},e}(Ai);vu.prototype.bytesPerElement=4,Dn("StructArrayLayout1f4",vu);var _u=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var nt=3*w;return this.int16[nt+0]=Ne,this.int16[nt+1]=et,this.int16[nt+2]=tt,w},e}(Ai);_u.prototype.bytesPerElement=6,Dn("StructArrayLayout3i6",_u);var wu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et){var tt=this.length;return this.resize(tt+1),this.emplace(tt,w,Ne,et)},e.prototype.emplace=function(w,Ne,et,tt){var nt=4*w;return this.uint32[2*w+0]=Ne,this.uint16[nt+2]=et,this.uint16[nt+3]=tt,w},e}(Ai);wu.prototype.bytesPerElement=8,Dn("StructArrayLayout1ul2ui8",wu);var Tu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne){var et=this.length;return this.resize(et+1),this.emplace(et,w,Ne)},e.prototype.emplace=function(w,Ne,et){var tt=2*w;return this.uint16[tt+0]=Ne,this.uint16[tt+1]=et,w},e}(Ai);Tu.prototype.bytesPerElement=4,Dn("StructArrayLayout2ui4",Tu);var Fu=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w){var Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,w)},e.prototype.emplace=function(w,Ne){return this.uint16[1*w+0]=Ne,w},e}(Ai);Fu.prototype.bytesPerElement=2,Dn("StructArrayLayout1ui2",Fu);var ac=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne){var et=this.length;return this.resize(et+1),this.emplace(et,w,Ne)},e.prototype.emplace=function(w,Ne,et){var tt=2*w;return this.float32[tt+0]=Ne,this.float32[tt+1]=et,w},e}(Ai);ac.prototype.bytesPerElement=8,Dn("StructArrayLayout2f8",ac);var pc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(w,Ne,et,tt){var nt=this.length;return this.resize(nt+1),this.emplace(nt,w,Ne,et,tt)},e.prototype.emplace=function(w,Ne,et,tt,nt){var rt=4*w;return this.float32[rt+0]=Ne,this.float32[rt+1]=et,this.float32[rt+2]=tt,this.float32[rt+3]=nt,w},e}(Ai);pc.prototype.bytesPerElement=16,Dn("StructArrayLayout4f16",pc);var yc=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Ne.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Ne.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Ne.x1.get=function(){return this._structArray.int16[this._pos2+2]},Ne.y1.get=function(){return this._structArray.int16[this._pos2+3]},Ne.x2.get=function(){return this._structArray.int16[this._pos2+4]},Ne.y2.get=function(){return this._structArray.int16[this._pos2+5]},Ne.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Ne.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Ne.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Ne.anchorPoint.get=function(){return new et(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,Ne),e}(_i);yc.prototype.size=20;var _c=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new yc(this,w)},e}(Cl);Dn("CollisionBoxArray",_c);var bc=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Ne.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Ne.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Ne.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Ne.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Ne.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Ne.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Ne.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Ne.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Ne.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Ne.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Ne.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Ne.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Ne.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Ne.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Ne.placedOrientation.set=function(w){this._structArray.uint8[this._pos1+37]=w},Ne.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Ne.hidden.set=function(w){this._structArray.uint8[this._pos1+38]=w},Ne.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Ne.crossTileID.set=function(w){this._structArray.uint32[this._pos4+10]=w},Ne.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,Ne),e}(_i);bc.prototype.size=48;var xc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new bc(this,w)},e}(Hl);Dn("PlacedSymbolArray",xc);var wc=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Ne.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Ne.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Ne.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Ne.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Ne.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Ne.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Ne.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Ne.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Ne.key.get=function(){return this._structArray.uint16[this._pos2+8]},Ne.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Ne.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Ne.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Ne.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Ne.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Ne.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Ne.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Ne.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Ne.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Ne.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Ne.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Ne.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Ne.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Ne.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Ne.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Ne.crossTileID.set=function(w){this._structArray.uint32[this._pos4+12]=w},Ne.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Ne.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Ne.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Ne.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,Ne),e}(_i);wc.prototype.size=68;var Ec=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new wc(this,w)},e}(du);Dn("SymbolInstanceArray",Ec);var kc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getoffsetX=function(w){return this.float32[1*w+0]},e}(vu);Dn("GlyphOffsetArray",kc);var Cc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getx=function(w){return this.int16[3*w+0]},e.prototype.gety=function(w){return this.int16[3*w+1]},e.prototype.gettileUnitDistanceFromAnchor=function(w){return this.int16[3*w+2]},e}(_u);Dn("SymbolLineVertexArray",Cc);var Ic=function(w){function e(){w.apply(this,arguments)}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Ne.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Ne.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Ne.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,Ne),e}(_i);Ic.prototype.size=8;var Ac=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.get=function(w){return new Ic(this,w)},e}(wu);Dn("FeatureIndexArray",Ac);var zc=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,aa=function(w){void 0===w&&(w=[]),this.segments=w};function oa(w,Ne){return 256*(w=l(Math.floor(w),0,255))+l(Math.floor(Ne),0,255)}aa.prototype.prepareSegment=function(w,Ne,et,tt){var nt=this.segments[this.segments.length-1];return w>aa.MAX_VERTEX_ARRAY_LENGTH&&_("Max vertices per segment is "+aa.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+w),(!nt||nt.vertexLength+w>aa.MAX_VERTEX_ARRAY_LENGTH||nt.sortKey!==tt)&&(nt={vertexOffset:Ne.length,primitiveOffset:et.length,vertexLength:0,primitiveLength:0},void 0!==tt&&(nt.sortKey=tt),this.segments.push(nt)),nt},aa.prototype.get=function(){return this.segments},aa.prototype.destroy=function(){for(var w=0,Ne=this.segments;w<Ne.length;w+=1){var et=Ne[w];for(var tt in et.vaos)et.vaos[tt].destroy()}},aa.simpleSegment=function(w,Ne,et,tt){return new aa([{vertexOffset:w,primitiveOffset:Ne,vertexLength:et,primitiveLength:tt,vaos:{},sortKey:0}])},aa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dn("SegmentVector",aa);var Dc=Si([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Fc=e((function(w){w.exports=function(w,Ne){var et,tt,nt,rt,it,ot,at,st;for(tt=w.length-(et=3&w.length),nt=Ne,it=3432918353,ot=461845907,st=0;st<tt;)at=255&w.charCodeAt(st)|(255&w.charCodeAt(++st))<<8|(255&w.charCodeAt(++st))<<16|(255&w.charCodeAt(++st))<<24,++st,nt=27492+(65535&(rt=5*(65535&(nt=(nt^=at=(65535&(at=(at=(65535&at)*it+(((at>>>16)*it&65535)<<16)&4294967295)<<15|at>>>17))*ot+(((at>>>16)*ot&65535)<<16)&4294967295)<<13|nt>>>19))+((5*(nt>>>16)&65535)<<16)&4294967295))+((58964+(rt>>>16)&65535)<<16);switch(at=0,et){case 3:at^=(255&w.charCodeAt(st+2))<<16;case 2:at^=(255&w.charCodeAt(st+1))<<8;case 1:nt^=at=(65535&(at=(at=(65535&(at^=255&w.charCodeAt(st)))*it+(((at>>>16)*it&65535)<<16)&4294967295)<<15|at>>>17))*ot+(((at>>>16)*ot&65535)<<16)&4294967295}return nt^=w.length,nt=2246822507*(65535&(nt^=nt>>>16))+((2246822507*(nt>>>16)&65535)<<16)&4294967295,nt=3266489909*(65535&(nt^=nt>>>13))+((3266489909*(nt>>>16)&65535)<<16)&4294967295,(nt^=nt>>>16)>>>0}})),Bc=e((function(w){w.exports=function(w,Ne){for(var et,tt=w.length,nt=Ne^tt,rt=0;tt>=4;)et=1540483477*(65535&(et=255&w.charCodeAt(rt)|(255&w.charCodeAt(++rt))<<8|(255&w.charCodeAt(++rt))<<16|(255&w.charCodeAt(++rt))<<24))+((1540483477*(et>>>16)&65535)<<16),nt=1540483477*(65535&nt)+((1540483477*(nt>>>16)&65535)<<16)^(et=1540483477*(65535&(et^=et>>>24))+((1540483477*(et>>>16)&65535)<<16)),tt-=4,++rt;switch(tt){case 3:nt^=(255&w.charCodeAt(rt+2))<<16;case 2:nt^=(255&w.charCodeAt(rt+1))<<8;case 1:nt=1540483477*(65535&(nt^=255&w.charCodeAt(rt)))+((1540483477*(nt>>>16)&65535)<<16)}return nt=1540483477*(65535&(nt^=nt>>>13))+((1540483477*(nt>>>16)&65535)<<16),(nt^=nt>>>15)>>>0}})),Wc=Fc,Hc=Bc;Wc.murmur3=Fc,Wc.murmur2=Hc;var ha=function(){this.ids=[],this.positions=[],this.indexed=!1};ha.prototype.add=function(w,Ne,et,tt){this.ids.push(ya(w)),this.positions.push(Ne,et,tt)},ha.prototype.getPositions=function(w){for(var Ne=ya(w),et=0,tt=this.ids.length-1;et<tt;){var nt=et+tt>>1;this.ids[nt]>=Ne?tt=nt:et=nt+1}for(var rt=[];this.ids[et]===Ne;)rt.push({index:this.positions[3*et],start:this.positions[3*et+1],end:this.positions[3*et+2]}),et++;return rt},ha.serialize=function(w,Ne){var et=new Float64Array(w.ids),tt=new Uint32Array(w.positions);return function t(w,Ne,et,tt){for(;et<tt;){for(var nt=w[et+tt>>1],rt=et-1,it=tt+1;;){do{rt++}while(w[rt]<nt);do{it--}while(w[it]>nt);if(rt>=it)break;da(w,rt,it),da(Ne,3*rt,3*it),da(Ne,3*rt+1,3*it+1),da(Ne,3*rt+2,3*it+2)}it-et<tt-it?(t(w,Ne,et,it),et=it+1):(t(w,Ne,it+1,tt),tt=it)}}(et,tt,0,et.length-1),Ne&&Ne.push(et.buffer,tt.buffer),{ids:et,positions:tt}},ha.deserialize=function(w){var Ne=new ha;return Ne.ids=w.ids,Ne.positions=w.positions,Ne.indexed=!0,Ne};var Gc=Math.pow(2,53)-1;function ya(w){var Ne=+w;return!isNaN(Ne)&&Ne<=Gc?Ne:Wc(String(w))}function da(w,Ne,et){var tt=w[Ne];w[Ne]=w[et],w[et]=tt}Dn("FeaturePositionMap",ha);var ma=function(w,Ne){this.gl=w.gl,this.location=Ne},Zc=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=0}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){this.current!==w&&(this.current=w,this.gl.uniform1i(this.location,w))},e}(ma),Xc=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=0}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){this.current!==w&&(this.current=w,this.gl.uniform1f(this.location,w))},e}(ma),$c=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=[0,0]}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w[0]===this.current[0]&&w[1]===this.current[1]||(this.current=w,this.gl.uniform2f(this.location,w[0],w[1]))},e}(ma),Yc=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=[0,0,0]}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w[0]===this.current[0]&&w[1]===this.current[1]&&w[2]===this.current[2]||(this.current=w,this.gl.uniform3f(this.location,w[0],w[1],w[2]))},e}(ma),rp=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=[0,0,0,0]}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w[0]===this.current[0]&&w[1]===this.current[1]&&w[2]===this.current[2]&&w[3]===this.current[3]||(this.current=w,this.gl.uniform4f(this.location,w[0],w[1],w[2],w[3]))},e}(ma),ip=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=Wt.transparent}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){w.r===this.current.r&&w.g===this.current.g&&w.b===this.current.b&&w.a===this.current.a||(this.current=w,this.gl.uniform4f(this.location,w.r,w.g,w.b,w.a))},e}(ma),op=new Float32Array(16),ap=function(w){function e(Ne,et){w.call(this,Ne,et),this.current=op}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){if(w[12]!==this.current[12]||w[0]!==this.current[0])return this.current=w,void this.gl.uniformMatrix4fv(this.location,!1,w);for(var Ne=1;Ne<16;Ne++)if(w[Ne]!==this.current[Ne]){this.current=w,this.gl.uniformMatrix4fv(this.location,!1,w);break}},e}(ma);function ka(w){return[oa(255*w.r,255*w.g),oa(255*w.b,255*w.a)]}var Ia=function(w,Ne,et){this.value=w,this.uniformNames=Ne.map((function(w){return"u_"+w})),this.type=et};Ia.prototype.setUniform=function(w,Ne,et){w.set(et.constantOr(this.value))},Ia.prototype.getBinding=function(w,Ne,et){return"color"===this.type?new ip(w,Ne):new Xc(w,Ne)};var za=function(w,Ne){this.uniformNames=Ne.map((function(w){return"u_"+w})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};za.prototype.setConstantPatternPositions=function(w,Ne){this.pixelRatioFrom=Ne.pixelRatio,this.pixelRatioTo=w.pixelRatio,this.patternFrom=Ne.tlbr,this.patternTo=w.tlbr},za.prototype.setUniform=function(w,Ne,et,tt){var nt="u_pattern_to"===tt?this.patternTo:"u_pattern_from"===tt?this.patternFrom:"u_pixel_ratio_to"===tt?this.pixelRatioTo:"u_pixel_ratio_from"===tt?this.pixelRatioFrom:null;nt&&w.set(nt)},za.prototype.getBinding=function(w,Ne,et){return"u_pattern"===et.substr(0,9)?new rp(w,Ne):new Xc(w,Ne)};var Ca=function(w,Ne,et,tt){this.expression=w,this.type=et,this.maxValue=0,this.paintVertexAttributes=Ne.map((function(w){return{name:"a_"+w,type:"Float32",components:"color"===et?2:1,offset:0}})),this.paintVertexArray=new tt};Ca.prototype.populatePaintArray=function(w,Ne,et,tt,nt){var rt=this.paintVertexArray.length,it=this.expression.evaluate(new ai(0),Ne,{},tt,[],nt);this.paintVertexArray.resize(w),this._setPaintValue(rt,w,it)},Ca.prototype.updatePaintArray=function(w,Ne,et,tt){var nt=this.expression.evaluate({zoom:0},et,tt);this._setPaintValue(w,Ne,nt)},Ca.prototype._setPaintValue=function(w,Ne,et){if("color"===this.type)for(var tt=ka(et),nt=w;nt<Ne;nt++)this.paintVertexArray.emplace(nt,tt[0],tt[1]);else{for(var rt=w;rt<Ne;rt++)this.paintVertexArray.emplace(rt,et);this.maxValue=Math.max(this.maxValue,Math.abs(et))}},Ca.prototype.upload=function(w){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=w.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ca.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ma=function(w,Ne,et,tt,nt,rt){this.expression=w,this.uniformNames=Ne.map((function(w){return"u_"+w+"_t"})),this.type=et,this.useIntegerZoom=tt,this.zoom=nt,this.maxValue=0,this.paintVertexAttributes=Ne.map((function(w){return{name:"a_"+w,type:"Float32",components:"color"===et?4:2,offset:0}})),this.paintVertexArray=new rt};Ma.prototype.populatePaintArray=function(w,Ne,et,tt,nt){var rt=this.expression.evaluate(new ai(this.zoom),Ne,{},tt,[],nt),it=this.expression.evaluate(new ai(this.zoom+1),Ne,{},tt,[],nt),ot=this.paintVertexArray.length;this.paintVertexArray.resize(w),this._setPaintValue(ot,w,rt,it)},Ma.prototype.updatePaintArray=function(w,Ne,et,tt){var nt=this.expression.evaluate({zoom:this.zoom},et,tt),rt=this.expression.evaluate({zoom:this.zoom+1},et,tt);this._setPaintValue(w,Ne,nt,rt)},Ma.prototype._setPaintValue=function(w,Ne,et,tt){if("color"===this.type)for(var nt=ka(et),rt=ka(tt),it=w;it<Ne;it++)this.paintVertexArray.emplace(it,nt[0],nt[1],rt[0],rt[1]);else{for(var ot=w;ot<Ne;ot++)this.paintVertexArray.emplace(ot,et,tt);this.maxValue=Math.max(this.maxValue,Math.abs(et),Math.abs(tt))}},Ma.prototype.upload=function(w){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=w.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ma.prototype.setUniform=function(w,Ne){var et=this.useIntegerZoom?Math.floor(Ne.zoom):Ne.zoom,tt=l(this.expression.interpolationFactor(et,this.zoom,this.zoom+1),0,1);w.set(tt)},Ma.prototype.getBinding=function(w,Ne,et){return new Xc(w,Ne)};var Ea=function(w,Ne,et,tt,nt,rt){this.expression=w,this.type=Ne,this.useIntegerZoom=et,this.zoom=tt,this.layerId=rt,this.zoomInPaintVertexArray=new nt,this.zoomOutPaintVertexArray=new nt};Ea.prototype.populatePaintArray=function(w,Ne,et){var tt=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(w),this.zoomOutPaintVertexArray.resize(w),this._setPaintValues(tt,w,Ne.patterns&&Ne.patterns[this.layerId],et)},Ea.prototype.updatePaintArray=function(w,Ne,et,tt,nt){this._setPaintValues(w,Ne,et.patterns&&et.patterns[this.layerId],nt)},Ea.prototype._setPaintValues=function(w,Ne,et,tt){if(tt&&et){var nt=tt[et.min],rt=tt[et.mid],it=tt[et.max];if(nt&&rt&&it)for(var ot=w;ot<Ne;ot++)this.zoomInPaintVertexArray.emplace(ot,rt.tl[0],rt.tl[1],rt.br[0],rt.br[1],nt.tl[0],nt.tl[1],nt.br[0],nt.br[1],rt.pixelRatio,nt.pixelRatio),this.zoomOutPaintVertexArray.emplace(ot,rt.tl[0],rt.tl[1],rt.br[0],rt.br[1],it.tl[0],it.tl[1],it.br[0],it.br[1],rt.pixelRatio,it.pixelRatio)}},Ea.prototype.upload=function(w){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=w.createVertexBuffer(this.zoomInPaintVertexArray,Dc.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=w.createVertexBuffer(this.zoomOutPaintVertexArray,Dc.members,this.expression.isStateDependent))},Ea.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ta=function(w,Ne,et){this.binders={},this._buffers=[];var tt=[];for(var nt in w.paint._values)if(et(nt)){var rt=w.paint.get(nt);if(rt instanceof hi&&Tr(rt.property.specification)){var it=Ba(nt,w.type),ot=rt.value,at=rt.property.specification.type,st=rt.property.useIntegerZoom,ct=rt.property.specification["property-type"],pt="cross-faded"===ct||"cross-faded-data-driven"===ct;if("constant"===ot.kind)this.binders[nt]=pt?new za(ot.value,it):new Ia(ot.value,it,at),tt.push("/u_"+nt);else if("source"===ot.kind||pt){var ft=Va(nt,at,"source");this.binders[nt]=pt?new Ea(ot,at,st,Ne,ft,w.id):new Ca(ot,it,at,ft),tt.push("/a_"+nt)}else{var dt=Va(nt,at,"composite");this.binders[nt]=new Ma(ot,it,at,st,Ne,dt),tt.push("/z_"+nt)}}}this.cacheKey=tt.sort().join("")};Ta.prototype.getMaxValue=function(w){var Ne=this.binders[w];return Ne instanceof Ca||Ne instanceof Ma?Ne.maxValue:0},Ta.prototype.populatePaintArrays=function(w,Ne,et,tt,nt){for(var rt in this.binders){var it=this.binders[rt];(it instanceof Ca||it instanceof Ma||it instanceof Ea)&&it.populatePaintArray(w,Ne,et,tt,nt)}},Ta.prototype.setConstantPatternPositions=function(w,Ne){for(var et in this.binders){var tt=this.binders[et];tt instanceof za&&tt.setConstantPatternPositions(w,Ne)}},Ta.prototype.updatePaintArrays=function(w,Ne,et,tt,nt){var rt=!1;for(var it in w)for(var ot=0,at=Ne.getPositions(it);ot<at.length;ot+=1){var st=at[ot],ct=et.feature(st.index);for(var pt in this.binders){var ft=this.binders[pt];if((ft instanceof Ca||ft instanceof Ma||ft instanceof Ea)&&!0===ft.expression.isStateDependent){var dt=tt.paint.get(pt);ft.expression=dt.value,ft.updatePaintArray(st.start,st.end,ct,w[it],nt),rt=!0}}}return rt},Ta.prototype.defines=function(){var w=[];for(var Ne in this.binders){var et=this.binders[Ne];(et instanceof Ia||et instanceof za)&&w.push.apply(w,et.uniformNames.map((function(w){return"#define HAS_UNIFORM_"+w})))}return w},Ta.prototype.getBinderAttributes=function(){var w=[];for(var Ne in this.binders){var et=this.binders[Ne];if(et instanceof Ca||et instanceof Ma)for(var tt=0;tt<et.paintVertexAttributes.length;tt++)w.push(et.paintVertexAttributes[tt].name);else if(et instanceof Ea)for(var nt=0;nt<Dc.members.length;nt++)w.push(Dc.members[nt].name)}return w},Ta.prototype.getBinderUniforms=function(){var w=[];for(var Ne in this.binders){var et=this.binders[Ne];if(et instanceof Ia||et instanceof za||et instanceof Ma)for(var tt=0,nt=et.uniformNames;tt<nt.length;tt+=1)w.push(nt[tt])}return w},Ta.prototype.getPaintVertexBuffers=function(){return this._buffers},Ta.prototype.getUniforms=function(w,Ne){var et=[];for(var tt in this.binders){var nt=this.binders[tt];if(nt instanceof Ia||nt instanceof za||nt instanceof Ma)for(var rt=0,it=nt.uniformNames;rt<it.length;rt+=1){var ot=it[rt];if(Ne[ot]){var at=nt.getBinding(w,Ne[ot],ot);et.push({name:ot,property:tt,binding:at})}}}return et},Ta.prototype.setUniforms=function(w,Ne,et,tt){for(var nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt],ot=it.name,at=it.property;this.binders[at].setUniform(it.binding,tt,et.get(at),ot)}},Ta.prototype.updatePaintBuffers=function(w){for(var Ne in this._buffers=[],this.binders){var et=this.binders[Ne];if(w&&et instanceof Ea){var tt=2===w.fromScale?et.zoomInPaintVertexBuffer:et.zoomOutPaintVertexBuffer;tt&&this._buffers.push(tt)}else(et instanceof Ca||et instanceof Ma)&&et.paintVertexBuffer&&this._buffers.push(et.paintVertexBuffer)}},Ta.prototype.upload=function(w){for(var Ne in this.binders){var et=this.binders[Ne];(et instanceof Ca||et instanceof Ma||et instanceof Ea)&&et.upload(w)}this.updatePaintBuffers()},Ta.prototype.destroy=function(){for(var w in this.binders){var Ne=this.binders[w];(Ne instanceof Ca||Ne instanceof Ma||Ne instanceof Ea)&&Ne.destroy()}};var Pa=function(w,Ne,et){void 0===et&&(et=function(){return!0}),this.programConfigurations={};for(var tt=0,nt=w;tt<nt.length;tt+=1){var rt=nt[tt];this.programConfigurations[rt.id]=new Ta(rt,Ne,et)}this.needsUpload=!1,this._featureMap=new ha,this._bufferOffset=0};function Ba(w,Ne){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[w]||[w.replace(Ne+"-","").replace(/-/g,"_")]}function Va(w,Ne,et){var tt={color:{source:ac,composite:pc},number:{source:vu,composite:ac}},nt=function(w){return{"line-pattern":{source:xl,composite:xl},"fill-pattern":{source:xl,composite:xl},"fill-extrusion-pattern":{source:xl,composite:xl}}[w]}(w);return nt&&nt[et]||tt[Ne][et]}Pa.prototype.populatePaintArrays=function(w,Ne,et,tt,nt,rt){for(var it in this.programConfigurations)this.programConfigurations[it].populatePaintArrays(w,Ne,tt,nt,rt);void 0!==Ne.id&&this._featureMap.add(Ne.id,et,this._bufferOffset,w),this._bufferOffset=w,this.needsUpload=!0},Pa.prototype.updatePaintArrays=function(w,Ne,et,tt){for(var nt=0,rt=et;nt<rt.length;nt+=1){var it=rt[nt];this.needsUpload=this.programConfigurations[it.id].updatePaintArrays(w,this._featureMap,Ne,it,tt)||this.needsUpload}},Pa.prototype.get=function(w){return this.programConfigurations[w]},Pa.prototype.upload=function(w){if(this.needsUpload){for(var Ne in this.programConfigurations)this.programConfigurations[Ne].upload(w);this.needsUpload=!1}},Pa.prototype.destroy=function(){for(var w in this.programConfigurations)this.programConfigurations[w].destroy()},Dn("ConstantBinder",Ia),Dn("CrossFadedConstantBinder",za),Dn("SourceExpressionBinder",Ca),Dn("CrossFadedCompositeBinder",Ea),Dn("CompositeExpressionBinder",Ma),Dn("ProgramConfiguration",Ta,{omit:["_buffers"]}),Dn("ProgramConfigurationSet",Pa);var sp=Math.pow(2,14)-1,lp=-sp-1;function La(w){for(var Ne=8192/w.extent,et=w.loadGeometry(),tt=0;tt<et.length;tt++)for(var nt=et[tt],rt=0;rt<nt.length;rt++){var it=nt[rt],ot=Math.round(it.x*Ne),at=Math.round(it.y*Ne);it.x=l(ot,lp,sp),it.y=l(at,lp,sp),(ot<it.x||ot>it.x+1||at<it.y||at>it.y+1)&&_("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return et}function Ra(w,Ne,et,tt,nt){w.emplaceBack(2*Ne+(tt+1)/2,2*et+(nt+1)/2)}var Oa=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.layoutVertexArray=new gl,this.indexArray=new Fl,this.segments=new aa,this.programConfigurations=new Pa(w.layers,w.zoom),this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};function Ua(w,Ne){for(var et=0;et<w.length;et++)if(Ha(Ne,w[et]))return!0;for(var tt=0;tt<Ne.length;tt++)if(Ha(w,Ne[tt]))return!0;return!!Ka(w,Ne)}function ja(w,Ne,et){return!!Ha(w,Ne)||!!Za(Ne,w,et)}function qa(w,Ne){if(1===w.length)return Ja(Ne,w[0]);for(var et=0;et<Ne.length;et++)for(var tt=Ne[et],nt=0;nt<tt.length;nt++)if(Ha(w,tt[nt]))return!0;for(var rt=0;rt<w.length;rt++)if(Ja(Ne,w[rt]))return!0;for(var it=0;it<Ne.length;it++)if(Ka(w,Ne[it]))return!0;return!1}function Na(w,Ne,et){if(w.length>1){if(Ka(w,Ne))return!0;for(var tt=0;tt<Ne.length;tt++)if(Za(Ne[tt],w,et))return!0}for(var nt=0;nt<w.length;nt++)if(Za(w[nt],Ne,et))return!0;return!1}function Ka(w,Ne){if(0===w.length||0===Ne.length)return!1;for(var et=0;et<w.length-1;et++)for(var tt=w[et],nt=w[et+1],rt=0;rt<Ne.length-1;rt++)if(Ga(tt,nt,Ne[rt],Ne[rt+1]))return!0;return!1}function Ga(w,Ne,et,tt){return A(w,et,tt)!==A(Ne,et,tt)&&A(w,Ne,et)!==A(w,Ne,tt)}function Za(w,Ne,et){var tt=et*et;if(1===Ne.length)return w.distSqr(Ne[0])<tt;for(var nt=1;nt<Ne.length;nt++)if(Xa(w,Ne[nt-1],Ne[nt])<tt)return!0;return!1}function Xa(w,Ne,et){var tt=Ne.distSqr(et);if(0===tt)return w.distSqr(Ne);var nt=((w.x-Ne.x)*(et.x-Ne.x)+(w.y-Ne.y)*(et.y-Ne.y))/tt;return w.distSqr(nt<0?Ne:nt>1?et:et.sub(Ne)._mult(nt)._add(Ne))}function Ja(w,Ne){for(var et,tt,nt,rt=!1,it=0;it<w.length;it++)for(var ot=0,at=(et=w[it]).length-1;ot<et.length;at=ot++)(tt=et[ot]).y>Ne.y!=(nt=et[at]).y>Ne.y&&Ne.x<(nt.x-tt.x)*(Ne.y-tt.y)/(nt.y-tt.y)+tt.x&&(rt=!rt);return rt}function Ha(w,Ne){for(var et=!1,tt=0,nt=w.length-1;tt<w.length;nt=tt++){var rt=w[tt],it=w[nt];rt.y>Ne.y!=it.y>Ne.y&&Ne.x<(it.x-rt.x)*(Ne.y-rt.y)/(it.y-rt.y)+rt.x&&(et=!et)}return et}function Ya(w,Ne,et){var tt=et[0],nt=et[2];if(w.x<tt.x&&Ne.x<tt.x||w.x>nt.x&&Ne.x>nt.x||w.y<tt.y&&Ne.y<tt.y||w.y>nt.y&&Ne.y>nt.y)return!1;var rt=A(w,Ne,et[0]);return rt!==A(w,Ne,et[1])||rt!==A(w,Ne,et[2])||rt!==A(w,Ne,et[3])}function $a(w,Ne,et){var tt=Ne.paint.get(w).value;return"constant"===tt.kind?tt.value:et.programConfigurations.get(Ne.id).getMaxValue(w)}function Wa(w){return Math.sqrt(w[0]*w[0]+w[1]*w[1])}function Qa(w,Ne,tt,nt,rt){if(!Ne[0]&&!Ne[1])return w;var it=et.convert(Ne)._mult(rt);"viewport"===tt&&it._rotate(-nt);for(var ot=[],at=0;at<w.length;at++)ot.push(w[at].sub(it));return ot}Oa.prototype.populate=function(w,Ne,et){var tt=this.layers[0],nt=[],rt=null;"circle"===tt.type&&(rt=tt.layout.get("circle-sort-key"));for(var it=0,ot=w;it<ot.length;it+=1){var at=ot[it],st=at.feature,ct=at.id,pt=at.index,ft=at.sourceLayerIndex,dt=this.layers[0]._featureFilter.needGeometry,mt={type:st.type,id:ct,properties:st.properties,geometry:dt?La(st):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),mt,et)){dt||(mt.geometry=La(st));var yt=rt?rt.evaluate(mt,{},et):void 0;nt.push({id:ct,properties:st.properties,type:st.type,sourceLayerIndex:ft,index:pt,geometry:mt.geometry,patterns:{},sortKey:yt})}}rt&&nt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var vt=0,Ot=nt;vt<Ot.length;vt+=1){var Dt=Ot[vt],Rt=Dt.geometry,Bt=Dt.index,rn=Dt.sourceLayerIndex,vn=w[Bt].feature;this.addFeature(Dt,Rt,Bt,et),Ne.featureIndex.insert(vn,Rt,Bt,rn,this.index)}},Oa.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},Oa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Oa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Oa.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,zc),this.indexBuffer=w.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(w),this.uploaded=!0},Oa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Oa.prototype.addFeature=function(w,Ne,et,tt){for(var nt=0,rt=Ne;nt<rt.length;nt+=1)for(var it=0,ot=rt[nt];it<ot.length;it+=1){var at=ot[it],st=at.x,ct=at.y;if(!(st<0||st>=8192||ct<0||ct>=8192)){var pt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,w.sortKey),ft=pt.vertexLength;Ra(this.layoutVertexArray,st,ct,-1,-1),Ra(this.layoutVertexArray,st,ct,1,-1),Ra(this.layoutVertexArray,st,ct,1,1),Ra(this.layoutVertexArray,st,ct,-1,1),this.indexArray.emplaceBack(ft,ft+1,ft+2),this.indexArray.emplaceBack(ft,ft+3,ft+2),pt.vertexLength+=4,pt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,{},tt)},Dn("CircleBucket",Oa,{omit:["layers"]});var cp=new xi({"circle-sort-key":new di(wr.layout_circle["circle-sort-key"])}),pp={paint:new xi({"circle-radius":new di(wr.paint_circle["circle-radius"]),"circle-color":new di(wr.paint_circle["circle-color"]),"circle-blur":new di(wr.paint_circle["circle-blur"]),"circle-opacity":new di(wr.paint_circle["circle-opacity"]),"circle-translate":new yi(wr.paint_circle["circle-translate"]),"circle-translate-anchor":new yi(wr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yi(wr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yi(wr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new di(wr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new di(wr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new di(wr.paint_circle["circle-stroke-opacity"])}),layout:cp},hp="undefined"!=typeof Float32Array?Float32Array:Array;function no(w){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=1,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=0,w[13]=0,w[14]=0,w[15]=1,w}function io(w,Ne,et){var tt=Ne[0],nt=Ne[1],rt=Ne[2],it=Ne[3],ot=Ne[4],at=Ne[5],st=Ne[6],ct=Ne[7],pt=Ne[8],ft=Ne[9],dt=Ne[10],mt=Ne[11],yt=Ne[12],vt=Ne[13],Ot=Ne[14],Dt=Ne[15],Rt=et[0],Bt=et[1],rn=et[2],vn=et[3];return w[0]=Rt*tt+Bt*ot+rn*pt+vn*yt,w[1]=Rt*nt+Bt*at+rn*ft+vn*vt,w[2]=Rt*rt+Bt*st+rn*dt+vn*Ot,w[3]=Rt*it+Bt*ct+rn*mt+vn*Dt,w[4]=(Rt=et[4])*tt+(Bt=et[5])*ot+(rn=et[6])*pt+(vn=et[7])*yt,w[5]=Rt*nt+Bt*at+rn*ft+vn*vt,w[6]=Rt*rt+Bt*st+rn*dt+vn*Ot,w[7]=Rt*it+Bt*ct+rn*mt+vn*Dt,w[8]=(Rt=et[8])*tt+(Bt=et[9])*ot+(rn=et[10])*pt+(vn=et[11])*yt,w[9]=Rt*nt+Bt*at+rn*ft+vn*vt,w[10]=Rt*rt+Bt*st+rn*dt+vn*Ot,w[11]=Rt*it+Bt*ct+rn*mt+vn*Dt,w[12]=(Rt=et[12])*tt+(Bt=et[13])*ot+(rn=et[14])*pt+(vn=et[15])*yt,w[13]=Rt*nt+Bt*at+rn*ft+vn*vt,w[14]=Rt*rt+Bt*st+rn*dt+vn*Ot,w[15]=Rt*it+Bt*ct+rn*mt+vn*Dt,w}Math.hypot||(Math.hypot=function(){for(var w=arguments,Ne=0,et=arguments.length;et--;)Ne+=w[et]*w[et];return Math.sqrt(Ne)});var fp,dp=io;function so(w,Ne,et){var tt=Ne[0],nt=Ne[1],rt=Ne[2],it=Ne[3];return w[0]=et[0]*tt+et[4]*nt+et[8]*rt+et[12]*it,w[1]=et[1]*tt+et[5]*nt+et[9]*rt+et[13]*it,w[2]=et[2]*tt+et[6]*nt+et[10]*rt+et[14]*it,w[3]=et[3]*tt+et[7]*nt+et[11]*rt+et[15]*it,w}fp=new hp(3),hp!=Float32Array&&(fp[0]=0,fp[1]=0,fp[2]=0),function(){var w=new hp(4);hp!=Float32Array&&(w[0]=0,w[1]=0,w[2]=0,w[3]=0)}();var mp=(function(){var w=new hp(2);hp!=Float32Array&&(w[0]=0,w[1]=0)}(),function(w){function e(Ne){w.call(this,Ne,pp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.createBucket=function(w){return new Oa(w)},e.prototype.queryRadius=function(w){var Ne=w;return $a("circle-radius",this,Ne)+$a("circle-stroke-width",this,Ne)+Wa(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(w,Ne,et,tt,nt,rt,it,ot){for(var at=Qa(w,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),rt.angle,it),st=this.paint.get("circle-radius").evaluate(Ne,et)+this.paint.get("circle-stroke-width").evaluate(Ne,et),ct="map"===this.paint.get("circle-pitch-alignment"),pt=ct?at:function(w,Ne){return w.map((function(w){return lo(w,Ne)}))}(at,ot),ft=ct?st*it:st,dt=0,mt=tt;dt<mt.length;dt+=1)for(var yt=0,vt=mt[dt];yt<vt.length;yt+=1){var Ot=vt[yt],Dt=ct?Ot:lo(Ot,ot),Rt=ft,Bt=so([],[Ot.x,Ot.y,0,1],ot);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Rt*=Bt[3]/rt.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Rt*=rt.cameraToCenterDistance/Bt[3]),ja(pt,Dt,Rt))return!0}return!1},e}(dl));function lo(w,Ne){var tt=so([],[w.x,w.y,0,1],Ne);return new et(tt[0]/tt[3],tt[1]/tt[3])}var yp=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(Oa);function co(w,Ne,et,tt){var nt=Ne.width,rt=Ne.height;if(tt){if(tt instanceof Uint8ClampedArray)tt=new Uint8Array(tt.buffer);else if(tt.length!==nt*rt*et)throw new RangeError("mismatched image size")}else tt=new Uint8Array(nt*rt*et);return w.width=nt,w.height=rt,w.data=tt,w}function ho(w,Ne,et){var tt=Ne.width,nt=Ne.height;if(tt!==w.width||nt!==w.height){var rt=co({},{width:tt,height:nt},et);fo(w,rt,{x:0,y:0},{x:0,y:0},{width:Math.min(w.width,tt),height:Math.min(w.height,nt)},et),w.width=tt,w.height=nt,w.data=rt.data}}function fo(w,Ne,et,tt,nt,rt){if(0===nt.width||0===nt.height)return Ne;if(nt.width>w.width||nt.height>w.height||et.x>w.width-nt.width||et.y>w.height-nt.height)throw new RangeError("out of range source coordinates for image copy");if(nt.width>Ne.width||nt.height>Ne.height||tt.x>Ne.width-nt.width||tt.y>Ne.height-nt.height)throw new RangeError("out of range destination coordinates for image copy");for(var it=w.data,ot=Ne.data,at=0;at<nt.height;at++)for(var st=((et.y+at)*w.width+et.x)*rt,ct=((tt.y+at)*Ne.width+tt.x)*rt,pt=0;pt<nt.width*rt;pt++)ot[ct+pt]=it[st+pt];return Ne}Dn("HeatmapBucket",yp,{omit:["layers"]});var yo=function(w,Ne){co(this,w,1,Ne)};yo.prototype.resize=function(w){ho(this,w,1)},yo.prototype.clone=function(){return new yo({width:this.width,height:this.height},new Uint8Array(this.data))},yo.copy=function(w,Ne,et,tt,nt){fo(w,Ne,et,tt,nt,1)};var mo=function(w,Ne){co(this,w,4,Ne)};mo.prototype.resize=function(w){ho(this,w,4)},mo.prototype.replace=function(w,Ne){Ne?this.data.set(w):this.data=w instanceof Uint8ClampedArray?new Uint8Array(w.buffer):w},mo.prototype.clone=function(){return new mo({width:this.width,height:this.height},new Uint8Array(this.data))},mo.copy=function(w,Ne,et,tt,nt){fo(w,Ne,et,tt,nt,4)},Dn("AlphaImage",yo),Dn("RGBAImage",mo);var gp={paint:new xi({"heatmap-radius":new di(wr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new di(wr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yi(wr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gi(wr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yi(wr.paint_heatmap["heatmap-opacity"])})};function go(w,Ne){for(var et=new Uint8Array(1024),tt={},nt=0,rt=0;nt<256;nt++,rt+=4){tt[Ne]=nt/255;var it=w.evaluate(tt);et[rt+0]=Math.floor(255*it.r/it.a),et[rt+1]=Math.floor(255*it.g/it.a),et[rt+2]=Math.floor(255*it.b/it.a),et[rt+3]=Math.floor(255*it.a)}return new mo({width:256,height:1},et)}var vp=function(w){function e(Ne){w.call(this,Ne,gp),this._updateColorRamp()}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.createBucket=function(w){return new yp(w)},e.prototype._handleSpecialPaintPropertyUpdate=function(w){"heatmap-color"===w&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=go(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(dl),_p={paint:new xi({"hillshade-illumination-direction":new yi(wr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yi(wr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yi(wr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yi(wr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yi(wr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yi(wr.paint_hillshade["hillshade-accent-color"])})},bp=function(w){function e(Ne){w.call(this,Ne,_p)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(dl),xp=Si([{name:"a_pos",components:2,type:"Int16"}],4).members,wp=ko,Sp=ko;function ko(w,Ne,et){et=et||2;var tt,nt,rt,it,ot,at,st,ct=Ne&&Ne.length,pt=ct?Ne[0]*et:w.length,ft=Io(w,0,pt,et,!0),dt=[];if(!ft||ft.next===ft.prev)return dt;if(ct&&(ft=function(w,Ne,et,tt){var nt,rt,it,ot=[];for(nt=0,rt=Ne.length;nt<rt;nt++)(it=Io(w,Ne[nt]*tt,nt<rt-1?Ne[nt+1]*tt:w.length,tt,!1))===it.next&&(it.steiner=!0),ot.push(Lo(it));for(ot.sort(Bo),nt=0;nt<ot.length;nt++)Vo(ot[nt],et),et=zo(et,et.next);return et}(w,Ne,ft,et)),w.length>80*et){tt=rt=w[0],nt=it=w[1];for(var mt=et;mt<pt;mt+=et)(ot=w[mt])<tt&&(tt=ot),(at=w[mt+1])<nt&&(nt=at),ot>rt&&(rt=ot),at>it&&(it=at);st=0!==(st=Math.max(rt-tt,it-nt))?1/st:0}return Co(ft,dt,et,tt,nt,st),dt}function Io(w,Ne,et,tt,nt){var rt,it;if(nt===Yo(w,Ne,et,tt)>0)for(rt=Ne;rt<et;rt+=tt)it=Xo(rt,w[rt],w[rt+1],it);else for(rt=et-tt;rt>=Ne;rt-=tt)it=Xo(rt,w[rt],w[rt+1],it);return it&&jo(it,it.next)&&(Jo(it),it=it.next),it}function zo(w,Ne){if(!w)return w;Ne||(Ne=w);var et,tt=w;do{if(et=!1,tt.steiner||!jo(tt,tt.next)&&0!==Uo(tt.prev,tt,tt.next))tt=tt.next;else{if(Jo(tt),(tt=Ne=tt.prev)===tt.next)break;et=!0}}while(et||tt!==Ne);return Ne}function Co(w,Ne,et,tt,nt,rt,it){if(w){!it&&rt&&function(w,Ne,et,tt){var nt=w;do{null===nt.z&&(nt.z=Do(nt.x,nt.y,Ne,et,tt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next}while(nt!==w);nt.prevZ.nextZ=null,nt.prevZ=null,function(w){var Ne,et,tt,nt,rt,it,ot,at,st=1;do{for(et=w,w=null,rt=null,it=0;et;){for(it++,tt=et,ot=0,Ne=0;Ne<st&&(ot++,tt=tt.nextZ);Ne++);for(at=st;ot>0||at>0&&tt;)0!==ot&&(0===at||!tt||et.z<=tt.z)?(nt=et,et=et.nextZ,ot--):(nt=tt,tt=tt.nextZ,at--),rt?rt.nextZ=nt:w=nt,nt.prevZ=rt,rt=nt;et=tt}rt.nextZ=null,st*=2}while(it>1)}(nt)}(w,tt,nt,rt);for(var ot,at,st=w;w.prev!==w.next;)if(ot=w.prev,at=w.next,rt?Eo(w,tt,nt,rt):Mo(w))Ne.push(ot.i/et),Ne.push(w.i/et),Ne.push(at.i/et),Jo(w),w=at.next,st=at.next;else if((w=at)===st){it?1===it?Co(w=To(zo(w),Ne,et),Ne,et,tt,nt,rt,2):2===it&&Po(w,Ne,et,tt,nt,rt):Co(zo(w),Ne,et,tt,nt,rt,1);break}}}function Mo(w){var Ne=w.prev,et=w,tt=w.next;if(Uo(Ne,et,tt)>=0)return!1;for(var nt=w.next.next;nt!==w.prev;){if(Ro(Ne.x,Ne.y,et.x,et.y,tt.x,tt.y,nt.x,nt.y)&&Uo(nt.prev,nt,nt.next)>=0)return!1;nt=nt.next}return!0}function Eo(w,Ne,et,tt){var nt=w.prev,rt=w,it=w.next;if(Uo(nt,rt,it)>=0)return!1;for(var ot=nt.x>rt.x?nt.x>it.x?nt.x:it.x:rt.x>it.x?rt.x:it.x,at=nt.y>rt.y?nt.y>it.y?nt.y:it.y:rt.y>it.y?rt.y:it.y,st=Do(nt.x<rt.x?nt.x<it.x?nt.x:it.x:rt.x<it.x?rt.x:it.x,nt.y<rt.y?nt.y<it.y?nt.y:it.y:rt.y<it.y?rt.y:it.y,Ne,et,tt),ct=Do(ot,at,Ne,et,tt),pt=w.prevZ,ft=w.nextZ;pt&&pt.z>=st&&ft&&ft.z<=ct;){if(pt!==w.prev&&pt!==w.next&&Ro(nt.x,nt.y,rt.x,rt.y,it.x,it.y,pt.x,pt.y)&&Uo(pt.prev,pt,pt.next)>=0)return!1;if(pt=pt.prevZ,ft!==w.prev&&ft!==w.next&&Ro(nt.x,nt.y,rt.x,rt.y,it.x,it.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}for(;pt&&pt.z>=st;){if(pt!==w.prev&&pt!==w.next&&Ro(nt.x,nt.y,rt.x,rt.y,it.x,it.y,pt.x,pt.y)&&Uo(pt.prev,pt,pt.next)>=0)return!1;pt=pt.prevZ}for(;ft&&ft.z<=ct;){if(ft!==w.prev&&ft!==w.next&&Ro(nt.x,nt.y,rt.x,rt.y,it.x,it.y,ft.x,ft.y)&&Uo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}return!0}function To(w,Ne,et){var tt=w;do{var nt=tt.prev,rt=tt.next.next;!jo(nt,rt)&&qo(nt,tt,tt.next,rt)&&Go(nt,rt)&&Go(rt,nt)&&(Ne.push(nt.i/et),Ne.push(tt.i/et),Ne.push(rt.i/et),Jo(tt),Jo(tt.next),tt=w=rt),tt=tt.next}while(tt!==w);return zo(tt)}function Po(w,Ne,et,tt,nt,rt){var it=w;do{for(var ot=it.next.next;ot!==it.prev;){if(it.i!==ot.i&&Oo(it,ot)){var at=Zo(it,ot);return it=zo(it,it.next),at=zo(at,at.next),Co(it,Ne,et,tt,nt,rt),void Co(at,Ne,et,tt,nt,rt)}ot=ot.next}it=it.next}while(it!==w)}function Bo(w,Ne){return w.x-Ne.x}function Vo(w,Ne){if(Ne=function(w,Ne){var et,tt=Ne,nt=w.x,rt=w.y,it=-1/0;do{if(rt<=tt.y&&rt>=tt.next.y&&tt.next.y!==tt.y){var ot=tt.x+(rt-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(ot<=nt&&ot>it){if(it=ot,ot===nt){if(rt===tt.y)return tt;if(rt===tt.next.y)return tt.next}et=tt.x<tt.next.x?tt:tt.next}}tt=tt.next}while(tt!==Ne);if(!et)return null;if(nt===it)return et;var at,st=et,ct=et.x,pt=et.y,ft=1/0;tt=et;do{nt>=tt.x&&tt.x>=ct&&nt!==tt.x&&Ro(rt<pt?nt:it,rt,ct,pt,rt<pt?it:nt,rt,tt.x,tt.y)&&(at=Math.abs(rt-tt.y)/(nt-tt.x),Go(tt,w)&&(at<ft||at===ft&&(tt.x>et.x||tt.x===et.x&&Fo(et,tt)))&&(et=tt,ft=at)),tt=tt.next}while(tt!==st);return et}(w,Ne)){var et=Zo(Ne,w);zo(Ne,Ne.next),zo(et,et.next)}}function Fo(w,Ne){return Uo(w.prev,w,Ne.prev)<0&&Uo(Ne.next,w,w.next)<0}function Do(w,Ne,et,tt,nt){return(w=1431655765&((w=858993459&((w=252645135&((w=16711935&((w=32767*(w-et)*nt)|w<<8))|w<<4))|w<<2))|w<<1))|(Ne=1431655765&((Ne=858993459&((Ne=252645135&((Ne=16711935&((Ne=32767*(Ne-tt)*nt)|Ne<<8))|Ne<<4))|Ne<<2))|Ne<<1))<<1}function Lo(w){var Ne=w,et=w;do{(Ne.x<et.x||Ne.x===et.x&&Ne.y<et.y)&&(et=Ne),Ne=Ne.next}while(Ne!==w);return et}function Ro(w,Ne,et,tt,nt,rt,it,ot){return(nt-it)*(Ne-ot)-(w-it)*(rt-ot)>=0&&(w-it)*(tt-ot)-(et-it)*(Ne-ot)>=0&&(et-it)*(rt-ot)-(nt-it)*(tt-ot)>=0}function Oo(w,Ne){return w.next.i!==Ne.i&&w.prev.i!==Ne.i&&!function(w,Ne){var et=w;do{if(et.i!==w.i&&et.next.i!==w.i&&et.i!==Ne.i&&et.next.i!==Ne.i&&qo(et,et.next,w,Ne))return!0;et=et.next}while(et!==w);return!1}(w,Ne)&&(Go(w,Ne)&&Go(Ne,w)&&function(w,Ne){var et=w,tt=!1,nt=(w.x+Ne.x)/2,rt=(w.y+Ne.y)/2;do{et.y>rt!=et.next.y>rt&&et.next.y!==et.y&&nt<(et.next.x-et.x)*(rt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next}while(et!==w);return tt}(w,Ne)&&(Uo(w.prev,w,Ne.prev)||Uo(w,Ne.prev,Ne))||jo(w,Ne)&&Uo(w.prev,w,w.next)>0&&Uo(Ne.prev,Ne,Ne.next)>0)}function Uo(w,Ne,et){return(Ne.y-w.y)*(et.x-Ne.x)-(Ne.x-w.x)*(et.y-Ne.y)}function jo(w,Ne){return w.x===Ne.x&&w.y===Ne.y}function qo(w,Ne,et,tt){var nt=Ko(Uo(w,Ne,et)),rt=Ko(Uo(w,Ne,tt)),it=Ko(Uo(et,tt,w)),ot=Ko(Uo(et,tt,Ne));return nt!==rt&&it!==ot||!(0!==nt||!No(w,et,Ne))||!(0!==rt||!No(w,tt,Ne))||!(0!==it||!No(et,w,tt))||!(0!==ot||!No(et,Ne,tt))}function No(w,Ne,et){return Ne.x<=Math.max(w.x,et.x)&&Ne.x>=Math.min(w.x,et.x)&&Ne.y<=Math.max(w.y,et.y)&&Ne.y>=Math.min(w.y,et.y)}function Ko(w){return w>0?1:w<0?-1:0}function Go(w,Ne){return Uo(w.prev,w,w.next)<0?Uo(w,Ne,w.next)>=0&&Uo(w,w.prev,Ne)>=0:Uo(w,Ne,w.prev)<0||Uo(w,w.next,Ne)<0}function Zo(w,Ne){var et=new Ho(w.i,w.x,w.y),tt=new Ho(Ne.i,Ne.x,Ne.y),nt=w.next,rt=Ne.prev;return w.next=Ne,Ne.prev=w,et.next=nt,nt.prev=et,tt.next=et,et.prev=tt,rt.next=tt,tt.prev=rt,tt}function Xo(w,Ne,et,tt){var nt=new Ho(w,Ne,et);return tt?(nt.next=tt.next,nt.prev=tt,tt.next.prev=nt,tt.next=nt):(nt.prev=nt,nt.next=nt),nt}function Jo(w){w.next.prev=w.prev,w.prev.next=w.next,w.prevZ&&(w.prevZ.nextZ=w.nextZ),w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function Ho(w,Ne,et){this.i=w,this.x=Ne,this.y=et,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yo(w,Ne,et,tt){for(var nt=0,rt=Ne,it=et-tt;rt<et;rt+=tt)nt+=(w[it]-w[rt])*(w[rt+1]+w[it+1]),it=rt;return nt}function $o(w,Ne,et,tt,nt){!function t(w,Ne,et,tt,nt){for(;tt>et;){if(tt-et>600){var rt=tt-et+1,it=Ne-et+1,ot=Math.log(rt),at=.5*Math.exp(2*ot/3),st=.5*Math.sqrt(ot*at*(rt-at)/rt)*(it-rt/2<0?-1:1);t(w,Ne,Math.max(et,Math.floor(Ne-it*at/rt+st)),Math.min(tt,Math.floor(Ne+(rt-it)*at/rt+st)),nt)}var ct=w[Ne],pt=et,ft=tt;for(Wo(w,et,Ne),nt(w[tt],ct)>0&&Wo(w,et,tt);pt<ft;){for(Wo(w,pt,ft),pt++,ft--;nt(w[pt],ct)<0;)pt++;for(;nt(w[ft],ct)>0;)ft--}0===nt(w[et],ct)?Wo(w,et,ft):Wo(w,++ft,tt),ft<=Ne&&(et=ft+1),Ne<=ft&&(tt=ft-1)}}(w,Ne,et||0,tt||w.length-1,nt||Qo)}function Wo(w,Ne,et){var tt=w[Ne];w[Ne]=w[et],w[et]=tt}function Qo(w,Ne){return w<Ne?-1:w>Ne?1:0}function ts(w,Ne){var et=w.length;if(et<=1)return[w];for(var tt,nt,rt=[],it=0;it<et;it++){var ot=S(w[it]);0!==ot&&(w[it].area=Math.abs(ot),void 0===nt&&(nt=ot<0),nt===ot<0?(tt&&rt.push(tt),tt=[w[it]]):tt.push(w[it]))}if(tt&&rt.push(tt),Ne>1)for(var at=0;at<rt.length;at++)rt[at].length<=Ne||($o(rt[at],Ne,1,rt[at].length-1,es),rt[at]=rt[at].slice(0,Ne));return rt}function es(w,Ne){return Ne.area-w.area}function rs(w,Ne,et){for(var tt=et.patternDependencies,nt=!1,rt=0,it=Ne;rt<it.length;rt+=1){var ot=it[rt].paint.get(w+"-pattern");ot.isConstant()||(nt=!0);var at=ot.constantOr(null);at&&(nt=!0,tt[at.to]=!0,tt[at.from]=!0)}return nt}function ns(w,Ne,et,tt,nt){for(var rt=nt.patternDependencies,it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.paint.get(w+"-pattern").value;if("constant"!==st.kind){var ct=st.evaluate({zoom:tt-1},et,{},nt.availableImages),pt=st.evaluate({zoom:tt},et,{},nt.availableImages),ft=st.evaluate({zoom:tt+1},et,{},nt.availableImages);pt=pt&&pt.name?pt.name:pt,ft=ft&&ft.name?ft.name:ft,rt[ct=ct&&ct.name?ct.name:ct]=!0,rt[pt]=!0,rt[ft]=!0,et.patterns[at.id]={min:ct,mid:pt,max:ft}}}return et}ko.deviation=function(w,Ne,et,tt){var nt=Ne&&Ne.length,rt=Math.abs(Yo(w,0,nt?Ne[0]*et:w.length,et));if(nt)for(var it=0,ot=Ne.length;it<ot;it++)rt-=Math.abs(Yo(w,Ne[it]*et,it<ot-1?Ne[it+1]*et:w.length,et));var at=0;for(it=0;it<tt.length;it+=3){var st=tt[it]*et,ct=tt[it+1]*et,pt=tt[it+2]*et;at+=Math.abs((w[st]-w[pt])*(w[ct+1]-w[st+1])-(w[st]-w[ct])*(w[pt+1]-w[st+1]))}return 0===rt&&0===at?0:Math.abs((at-rt)/rt)},ko.flatten=function(w){for(var Ne=w[0][0].length,et={vertices:[],holes:[],dimensions:Ne},tt=0,nt=0;nt<w.length;nt++){for(var rt=0;rt<w[nt].length;rt++)for(var it=0;it<Ne;it++)et.vertices.push(w[nt][rt][it]);nt>0&&et.holes.push(tt+=w[nt-1].length)}return et},wp.default=Sp;var is=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new gl,this.indexArray=new Fl,this.indexArray2=new Tu,this.programConfigurations=new Pa(w.layers,w.zoom),this.segments=new aa,this.segments2=new aa,this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};is.prototype.populate=function(w,Ne,et){this.hasPattern=rs("fill",this.layers,Ne);for(var tt=this.layers[0].layout.get("fill-sort-key"),nt=[],rt=0,it=w;rt<it.length;rt+=1){var ot=it[rt],at=ot.feature,st=ot.id,ct=ot.index,pt=ot.sourceLayerIndex,ft=this.layers[0]._featureFilter.needGeometry,dt={type:at.type,id:st,properties:at.properties,geometry:ft?La(at):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),dt,et)){ft||(dt.geometry=La(at));var mt=tt?tt.evaluate(dt,{},et,Ne.availableImages):void 0;nt.push({id:st,properties:at.properties,type:at.type,sourceLayerIndex:pt,index:ct,geometry:dt.geometry,patterns:{},sortKey:mt})}}tt&&nt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var yt=0,vt=nt;yt<vt.length;yt+=1){var Ot=vt[yt],Dt=Ot.geometry,Rt=Ot.index,Bt=Ot.sourceLayerIndex;if(this.hasPattern){var rn=ns("fill",this.layers,Ot,this.zoom,Ne);this.patternFeatures.push(rn)}else this.addFeature(Ot,Dt,Rt,et,{});Ne.featureIndex.insert(w[Rt].feature,Dt,Rt,Bt,this.index)}},is.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},is.prototype.addFeatures=function(w,Ne,et){for(var tt=0,nt=this.patternFeatures;tt<nt.length;tt+=1){var rt=nt[tt];this.addFeature(rt,rt.geometry,rt.index,Ne,et)}},is.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},is.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},is.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,xp),this.indexBuffer=w.createIndexBuffer(this.indexArray),this.indexBuffer2=w.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(w),this.uploaded=!0},is.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},is.prototype.addFeature=function(w,Ne,et,tt,nt){for(var rt=0,it=ts(Ne,500);rt<it.length;rt+=1){for(var ot=it[rt],at=0,st=0,ct=ot;st<ct.length;st+=1)at+=ct[st].length;for(var pt=this.segments.prepareSegment(at,this.layoutVertexArray,this.indexArray),ft=pt.vertexLength,dt=[],mt=[],yt=0,vt=ot;yt<vt.length;yt+=1){var Ot=vt[yt];if(0!==Ot.length){Ot!==ot[0]&&mt.push(dt.length/2);var Dt=this.segments2.prepareSegment(Ot.length,this.layoutVertexArray,this.indexArray2),Rt=Dt.vertexLength;this.layoutVertexArray.emplaceBack(Ot[0].x,Ot[0].y),this.indexArray2.emplaceBack(Rt+Ot.length-1,Rt),dt.push(Ot[0].x),dt.push(Ot[0].y);for(var Bt=1;Bt<Ot.length;Bt++)this.layoutVertexArray.emplaceBack(Ot[Bt].x,Ot[Bt].y),this.indexArray2.emplaceBack(Rt+Bt-1,Rt+Bt),dt.push(Ot[Bt].x),dt.push(Ot[Bt].y);Dt.vertexLength+=Ot.length,Dt.primitiveLength+=Ot.length}}for(var rn=wp(dt,mt),vn=0;vn<rn.length;vn+=3)this.indexArray.emplaceBack(ft+rn[vn],ft+rn[vn+1],ft+rn[vn+2]);pt.vertexLength+=at,pt.primitiveLength+=rn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,nt,tt)},Dn("FillBucket",is,{omit:["layers","patternFeatures"]});var Ep=new xi({"fill-sort-key":new di(wr.layout_fill["fill-sort-key"])}),kp={paint:new xi({"fill-antialias":new yi(wr.paint_fill["fill-antialias"]),"fill-opacity":new di(wr.paint_fill["fill-opacity"]),"fill-color":new di(wr.paint_fill["fill-color"]),"fill-outline-color":new di(wr.paint_fill["fill-outline-color"]),"fill-translate":new yi(wr.paint_fill["fill-translate"]),"fill-translate-anchor":new yi(wr.paint_fill["fill-translate-anchor"]),"fill-pattern":new sl(wr.paint_fill["fill-pattern"])}),layout:Ep},Cp=function(w){function e(Ne){w.call(this,Ne,kp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.recalculate=function(Ne,et){w.prototype.recalculate.call(this,Ne,et);var tt=this.paint._values["fill-outline-color"];"constant"===tt.value.kind&&void 0===tt.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(w){return new is(w)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(w,Ne,et,tt,nt,rt,it){return qa(Qa(w,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),rt.angle,it),tt)},e.prototype.isTileClipped=function(){return!0},e}(dl),Tp=Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Pp=ps;function ps(w,Ne,et,tt,nt){this.properties={},this.extent=et,this.type=0,this._pbf=w,this._geometry=-1,this._keys=tt,this._values=nt,w.readFields(cs,this,Ne)}function cs(w,Ne,et){1==w?Ne.id=et.readVarint():2==w?function(w,Ne){for(var et=w.readVarint()+w.pos;w.pos<et;){var tt=Ne._keys[w.readVarint()],nt=Ne._values[w.readVarint()];Ne.properties[tt]=nt}}(et,Ne):3==w?Ne.type=et.readVarint():4==w&&(Ne._geometry=et.pos)}function hs(w){for(var Ne,et,tt=0,nt=0,rt=w.length,it=rt-1;nt<rt;it=nt++)tt+=((et=w[it]).x-(Ne=w[nt]).x)*(Ne.y+et.y);return tt}ps.types=["Unknown","Point","LineString","Polygon"],ps.prototype.loadGeometry=function(){var w=this._pbf;w.pos=this._geometry;for(var Ne,tt=w.readVarint()+w.pos,nt=1,rt=0,it=0,ot=0,at=[];w.pos<tt;){if(rt<=0){var st=w.readVarint();nt=7&st,rt=st>>3}if(rt--,1===nt||2===nt)it+=w.readSVarint(),ot+=w.readSVarint(),1===nt&&(Ne&&at.push(Ne),Ne=[]),Ne.push(new et(it,ot));else{if(7!==nt)throw new Error("unknown command "+nt);Ne&&Ne.push(Ne[0].clone())}}return Ne&&at.push(Ne),at},ps.prototype.bbox=function(){var w=this._pbf;w.pos=this._geometry;for(var Ne=w.readVarint()+w.pos,et=1,tt=0,nt=0,rt=0,it=1/0,ot=-1/0,at=1/0,st=-1/0;w.pos<Ne;){if(tt<=0){var ct=w.readVarint();et=7&ct,tt=ct>>3}if(tt--,1===et||2===et)(nt+=w.readSVarint())<it&&(it=nt),nt>ot&&(ot=nt),(rt+=w.readSVarint())<at&&(at=rt),rt>st&&(st=rt);else if(7!==et)throw new Error("unknown command "+et)}return[it,at,ot,st]},ps.prototype.toGeoJSON=function(w,Ne,et){var tt,nt,rt=this.extent*Math.pow(2,et),it=this.extent*w,ot=this.extent*Ne,at=this.loadGeometry(),st=ps.types[this.type];function p(w){for(var Ne=0;Ne<w.length;Ne++){var et=w[Ne];w[Ne]=[360*(et.x+it)/rt-180,360/Math.PI*Math.atan(Math.exp((180-360*(et.y+ot)/rt)*Math.PI/180))-90]}}switch(this.type){case 1:var ct=[];for(tt=0;tt<at.length;tt++)ct[tt]=at[tt][0];p(at=ct);break;case 2:for(tt=0;tt<at.length;tt++)p(at[tt]);break;case 3:for(at=function(w){var Ne=w.length;if(Ne<=1)return[w];for(var et,tt,nt=[],rt=0;rt<Ne;rt++){var it=hs(w[rt]);0!==it&&(void 0===tt&&(tt=it<0),tt===it<0?(et&&nt.push(et),et=[w[rt]]):et.push(w[rt]))}return et&&nt.push(et),nt}(at),tt=0;tt<at.length;tt++)for(nt=0;nt<at[tt].length;nt++)p(at[tt][nt])}1===at.length?at=at[0]:st="Multi"+st;var pt={type:"Feature",geometry:{type:st,coordinates:at},properties:this.properties};return"id"in this&&(pt.id=this.id),pt};var Ip=ys;function ys(w,Ne){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=w,this._keys=[],this._values=[],this._features=[],w.readFields(ds,this,Ne),this.length=this._features.length}function ds(w,Ne,et){15===w?Ne.version=et.readVarint():1===w?Ne.name=et.readString():5===w?Ne.extent=et.readVarint():2===w?Ne._features.push(et.pos):3===w?Ne._keys.push(et.readString()):4===w&&Ne._values.push(function(w){for(var Ne=null,et=w.readVarint()+w.pos;w.pos<et;){var tt=w.readVarint()>>3;Ne=1===tt?w.readString():2===tt?w.readFloat():3===tt?w.readDouble():4===tt?w.readVarint64():5===tt?w.readVarint():6===tt?w.readSVarint():7===tt?w.readBoolean():null}return Ne}(et))}function ms(w,Ne,et){if(3===w){var tt=new Ip(et,et.readVarint()+et.pos);tt.length&&(Ne[tt.name]=tt)}}ys.prototype.feature=function(w){if(w<0||w>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[w];var Ne=this._pbf.readVarint()+this._pbf.pos;return new Pp(this._pbf,Ne,this.extent,this._keys,this._values)};var Ap={VectorTile:function(w,Ne){this.layers=w.readFields(ms,{},Ne)},VectorTileFeature:Pp,VectorTileLayer:Ip},Mp=Ap.VectorTileFeature.types,Op=Math.pow(2,13);function bs(w,Ne,et,tt,nt,rt,it,ot){w.emplaceBack(Ne,et,2*Math.floor(tt*Op)+it,nt*Op*2,rt*Op*2,Math.round(ot))}var ws=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.layoutVertexArray=new _l,this.indexArray=new Fl,this.programConfigurations=new Pa(w.layers,w.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};function _s(w,Ne){return w.x===Ne.x&&(w.x<0||w.x>8192)||w.y===Ne.y&&(w.y<0||w.y>8192)}ws.prototype.populate=function(w,Ne,et){this.features=[],this.hasPattern=rs("fill-extrusion",this.layers,Ne);for(var tt=0,nt=w;tt<nt.length;tt+=1){var rt=nt[tt],it=rt.feature,ot=rt.id,at=rt.index,st=rt.sourceLayerIndex,ct=this.layers[0]._featureFilter.needGeometry,pt={type:it.type,id:ot,properties:it.properties,geometry:ct?La(it):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),pt,et)){var ft={id:ot,sourceLayerIndex:st,index:at,geometry:ct?pt.geometry:La(it),properties:it.properties,type:it.type,patterns:{}};void 0!==it.id&&(ft.id=it.id),this.hasPattern?this.features.push(ns("fill-extrusion",this.layers,ft,this.zoom,Ne)):this.addFeature(ft,ft.geometry,at,et,{}),Ne.featureIndex.insert(it,ft.geometry,at,st,this.index,!0)}}},ws.prototype.addFeatures=function(w,Ne,et){for(var tt=0,nt=this.features;tt<nt.length;tt+=1){var rt=nt[tt];this.addFeature(rt,rt.geometry,rt.index,Ne,et)}},ws.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},ws.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,Tp),this.indexBuffer=w.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(w),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.addFeature=function(w,Ne,et,tt,nt){for(var rt=0,it=ts(Ne,500);rt<it.length;rt+=1){for(var ot=it[rt],at=0,st=0,ct=ot;st<ct.length;st+=1)at+=ct[st].length;for(var pt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),ft=0,dt=ot;ft<dt.length;ft+=1){var mt=dt[ft];if(0!==mt.length&&!((Nn=mt).every((function(w){return w.x<0}))||Nn.every((function(w){return w.x>8192}))||Nn.every((function(w){return w.y<0}))||Nn.every((function(w){return w.y>8192}))))for(var yt=0,vt=0;vt<mt.length;vt++){var Ot=mt[vt];if(vt>=1){var Dt=mt[vt-1];if(!_s(Ot,Dt)){pt.vertexLength+4>aa.MAX_VERTEX_ARRAY_LENGTH&&(pt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Rt=Ot.sub(Dt)._perp()._unit(),Bt=Dt.dist(Ot);yt+Bt>32768&&(yt=0),bs(this.layoutVertexArray,Ot.x,Ot.y,Rt.x,Rt.y,0,0,yt),bs(this.layoutVertexArray,Ot.x,Ot.y,Rt.x,Rt.y,0,1,yt),bs(this.layoutVertexArray,Dt.x,Dt.y,Rt.x,Rt.y,0,0,yt+=Bt),bs(this.layoutVertexArray,Dt.x,Dt.y,Rt.x,Rt.y,0,1,yt);var rn=pt.vertexLength;this.indexArray.emplaceBack(rn,rn+2,rn+1),this.indexArray.emplaceBack(rn+1,rn+2,rn+3),pt.vertexLength+=4,pt.primitiveLength+=2}}}}if(pt.vertexLength+at>aa.MAX_VERTEX_ARRAY_LENGTH&&(pt=this.segments.prepareSegment(at,this.layoutVertexArray,this.indexArray)),"Polygon"===Mp[w.type]){for(var vn=[],bn=[],Cn=pt.vertexLength,Tn=0,In=ot;Tn<In.length;Tn+=1){var Mn=In[Tn];if(0!==Mn.length){Mn!==ot[0]&&bn.push(vn.length/2);for(var zn=0;zn<Mn.length;zn++){var Ln=Mn[zn];bs(this.layoutVertexArray,Ln.x,Ln.y,0,0,1,1,0),vn.push(Ln.x),vn.push(Ln.y)}}}for(var Fn=wp(vn,bn),Bn=0;Bn<Fn.length;Bn+=3)this.indexArray.emplaceBack(Cn+Fn[Bn],Cn+Fn[Bn+2],Cn+Fn[Bn+1]);pt.primitiveLength+=Fn.length/3,pt.vertexLength+=at}}var Nn;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,nt,tt)},Dn("FillExtrusionBucket",ws,{omit:["layers","features"]});var zp={paint:new xi({"fill-extrusion-opacity":new yi(wr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new di(wr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yi(wr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yi(wr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new sl(wr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new di(wr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new di(wr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yi(wr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Lp=function(w){function e(Ne){w.call(this,Ne,zp)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.createBucket=function(w){return new ws(w)},e.prototype.queryRadius=function(){return Wa(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(w,Ne,tt,nt,rt,it,ot,at){var st=Qa(w,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),it.angle,ot),ct=this.paint.get("fill-extrusion-height").evaluate(Ne,tt),pt=this.paint.get("fill-extrusion-base").evaluate(Ne,tt),ft=function(w,Ne,tt,nt){for(var rt=[],it=0,ot=w;it<ot.length;it+=1){var at=ot[it],st=[at.x,at.y,0,1];so(st,st,Ne),rt.push(new et(st[0]/st[3],st[1]/st[3]))}return rt}(st,at),dt=function(w,Ne,tt,nt){for(var rt=[],it=[],ot=nt[8]*Ne,at=nt[9]*Ne,st=nt[10]*Ne,ct=nt[11]*Ne,pt=nt[8]*tt,ft=nt[9]*tt,dt=nt[10]*tt,mt=nt[11]*tt,yt=0,vt=w;yt<vt.length;yt+=1){for(var Ot=[],Dt=[],Rt=0,Bt=vt[yt];Rt<Bt.length;Rt+=1){var rn=Bt[Rt],vn=rn.x,bn=rn.y,Cn=nt[0]*vn+nt[4]*bn+nt[12],Tn=nt[1]*vn+nt[5]*bn+nt[13],In=nt[2]*vn+nt[6]*bn+nt[14],Mn=nt[3]*vn+nt[7]*bn+nt[15],zn=In+st,Ln=Mn+ct,Fn=Cn+pt,Bn=Tn+ft,Nn=In+dt,Vn=Mn+mt,Wn=new et((Cn+ot)/Ln,(Tn+at)/Ln);Wn.z=zn/Ln,Ot.push(Wn);var $n=new et(Fn/Vn,Bn/Vn);$n.z=Nn/Vn,Dt.push($n)}rt.push(Ot),it.push(Dt)}return[rt,it]}(nt,pt,ct,at);return function(w,Ne,et){var tt=1/0;qa(et,Ne)&&(tt=Is(et,Ne[0]));for(var nt=0;nt<Ne.length;nt++)for(var rt=Ne[nt],it=w[nt],ot=0;ot<rt.length-1;ot++){var at=rt[ot],st=[at,rt[ot+1],it[ot+1],it[ot],at];Ua(et,st)&&(tt=Math.min(tt,Is(et,st)))}return tt!==1/0&&tt}(dt[0],dt[1],ft)},e}(dl);function ks(w,Ne){return w.x*Ne.x+w.y*Ne.y}function Is(w,Ne){if(1===w.length){for(var et,tt=0,nt=Ne[tt++];!et||nt.equals(et);)if(!(et=Ne[tt++]))return 1/0;for(;tt<Ne.length;tt++){var rt=Ne[tt],it=w[0],ot=et.sub(nt),at=rt.sub(nt),st=it.sub(nt),ct=ks(ot,ot),pt=ks(ot,at),ft=ks(at,at),dt=ks(st,ot),mt=ks(st,at),yt=ct*ft-pt*pt,vt=(ft*dt-pt*mt)/yt,Ot=(ct*mt-pt*dt)/yt,Dt=nt.z*(1-vt-Ot)+et.z*vt+rt.z*Ot;if(isFinite(Dt))return Dt}return 1/0}for(var Rt=1/0,Bt=0,rn=Ne;Bt<rn.length;Bt+=1)Rt=Math.min(Rt,rn[Bt].z);return Rt}var Dp=Si([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Rp=Ap.VectorTileFeature.types,Fp=Math.cos(Math.PI/180*37.5),Bp=Math.pow(2,14)/.5,Ts=function(w){this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bl,this.indexArray=new Fl,this.programConfigurations=new Pa(w.layers,w.zoom),this.segments=new aa,this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id}))};Ts.prototype.populate=function(w,Ne,et){this.hasPattern=rs("line",this.layers,Ne);for(var tt=this.layers[0].layout.get("line-sort-key"),nt=[],rt=0,it=w;rt<it.length;rt+=1){var ot=it[rt],at=ot.feature,st=ot.id,ct=ot.index,pt=ot.sourceLayerIndex,ft=this.layers[0]._featureFilter.needGeometry,dt={type:at.type,id:st,properties:at.properties,geometry:ft?La(at):[]};if(this.layers[0]._featureFilter.filter(new ai(this.zoom),dt,et)){ft||(dt.geometry=La(at));var mt=tt?tt.evaluate(dt,{},et):void 0;nt.push({id:st,properties:at.properties,type:at.type,sourceLayerIndex:pt,index:ct,geometry:dt.geometry,patterns:{},sortKey:mt})}}tt&&nt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var yt=0,vt=nt;yt<vt.length;yt+=1){var Ot=vt[yt],Dt=Ot.geometry,Rt=Ot.index,Bt=Ot.sourceLayerIndex;if(this.hasPattern){var rn=ns("line",this.layers,Ot,this.zoom,Ne);this.patternFeatures.push(rn)}else this.addFeature(Ot,Dt,Rt,et,{});Ne.featureIndex.insert(w[Rt].feature,Dt,Rt,Bt,this.index)}},Ts.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(w,Ne,this.stateDependentLayers,et)},Ts.prototype.addFeatures=function(w,Ne,et){for(var tt=0,nt=this.patternFeatures;tt<nt.length;tt+=1){var rt=nt[tt];this.addFeature(rt,rt.geometry,rt.index,Ne,et)}},Ts.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ts.prototype.upload=function(w){this.uploaded||(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,Dp),this.indexBuffer=w.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(w),this.uploaded=!0},Ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ts.prototype.addFeature=function(w,Ne,et,tt,nt){for(var rt=this.layers[0].layout,it=rt.get("line-join").evaluate(w,{}),ot=rt.get("line-cap"),at=rt.get("line-miter-limit"),st=rt.get("line-round-limit"),ct=0,pt=Ne;ct<pt.length;ct+=1)this.addLine(pt[ct],w,it,ot,at,st);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,w,et,nt,tt)},Ts.prototype.addLine=function(w,Ne,et,tt,nt,rt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,Ne.properties&&Ne.properties.hasOwnProperty("mapbox_clip_start")&&Ne.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+Ne.properties.mapbox_clip_start,this.clipEnd=+Ne.properties.mapbox_clip_end;for(var it=0;it<w.length-1;it++)this.totalDistance+=w[it].dist(w[it+1]);this.updateScaledDistance()}for(var ot="Polygon"===Rp[Ne.type],at=w.length;at>=2&&w[at-1].equals(w[at-2]);)at--;for(var st=0;st<at-1&&w[st].equals(w[st+1]);)st++;if(!(at<(ot?3:2))){"bevel"===et&&(nt=1.05);var ct,pt=this.overscaling<=16?122880/(512*this.overscaling):0,ft=this.segments.prepareSegment(10*at,this.layoutVertexArray,this.indexArray),dt=void 0,mt=void 0,yt=void 0,vt=void 0;this.e1=this.e2=-1,ot&&(vt=w[st].sub(ct=w[at-2])._unit()._perp());for(var Ot=st;Ot<at;Ot++)if(!(mt=Ot===at-1?ot?w[st+1]:void 0:w[Ot+1])||!w[Ot].equals(mt)){vt&&(yt=vt),ct&&(dt=ct),ct=w[Ot],vt=mt?mt.sub(ct)._unit()._perp():yt;var Dt=(yt=yt||vt).add(vt);0===Dt.x&&0===Dt.y||Dt._unit();var Rt=yt.x*vt.x+yt.y*vt.y,Bt=Dt.x*vt.x+Dt.y*vt.y,rn=0!==Bt?1/Bt:1/0,vn=2*Math.sqrt(2-2*Bt),bn=Bt<Fp&&dt&&mt,Cn=yt.x*vt.y-yt.y*vt.x>0;if(bn&&Ot>st){var Tn=ct.dist(dt);if(Tn>2*pt){var In=ct.sub(ct.sub(dt)._mult(pt/Tn)._round());this.updateDistance(dt,In),this.addCurrentVertex(In,yt,0,0,ft),dt=In}}var Mn=dt&&mt,zn=Mn?et:ot?"butt":tt;if(Mn&&"round"===zn&&(rn<rt?zn="miter":rn<=2&&(zn="fakeround")),"miter"===zn&&rn>nt&&(zn="bevel"),"bevel"===zn&&(rn>2&&(zn="flipbevel"),rn<nt&&(zn="miter")),dt&&this.updateDistance(dt,ct),"miter"===zn)Dt._mult(rn),this.addCurrentVertex(ct,Dt,0,0,ft);else if("flipbevel"===zn){if(rn>100)Dt=vt.mult(-1);else{var Ln=rn*yt.add(vt).mag()/yt.sub(vt).mag();Dt._perp()._mult(Ln*(Cn?-1:1))}this.addCurrentVertex(ct,Dt,0,0,ft),this.addCurrentVertex(ct,Dt.mult(-1),0,0,ft)}else if("bevel"===zn||"fakeround"===zn){var Fn=-Math.sqrt(rn*rn-1),Bn=Cn?Fn:0,Nn=Cn?0:Fn;if(dt&&this.addCurrentVertex(ct,yt,Bn,Nn,ft),"fakeround"===zn)for(var Vn=Math.round(180*vn/Math.PI/20),Wn=1;Wn<Vn;Wn++){var $n=Wn/Vn;if(.5!==$n){var Yn=$n-.5;$n+=$n*Yn*($n-1)*((1.0904+Rt*(Rt*(3.55645-1.43519*Rt)-3.2452))*Yn*Yn+(.848013+Rt*(.215638*Rt-1.06021)))}var er=vt.sub(yt)._mult($n)._add(yt)._unit()._mult(Cn?-1:1);this.addHalfVertex(ct,er.x,er.y,!1,Cn,0,ft)}mt&&this.addCurrentVertex(ct,vt,-Bn,-Nn,ft)}else if("butt"===zn)this.addCurrentVertex(ct,Dt,0,0,ft);else if("square"===zn){var rr=dt?1:-1;this.addCurrentVertex(ct,Dt,rr,rr,ft)}else"round"===zn&&(dt&&(this.addCurrentVertex(ct,yt,0,0,ft),this.addCurrentVertex(ct,yt,1,1,ft,!0)),mt&&(this.addCurrentVertex(ct,vt,-1,-1,ft,!0),this.addCurrentVertex(ct,vt,0,0,ft)));if(bn&&Ot<at-1){var vr=ct.dist(mt);if(vr>2*pt){var wr=ct.add(mt.sub(ct)._mult(pt/vr)._round());this.updateDistance(ct,wr),this.addCurrentVertex(wr,vt,0,0,ft),ct=wr}}}}},Ts.prototype.addCurrentVertex=function(w,Ne,et,tt,nt,rt){void 0===rt&&(rt=!1);var it=Ne.y*tt-Ne.x,ot=-Ne.y-Ne.x*tt;this.addHalfVertex(w,Ne.x+Ne.y*et,Ne.y-Ne.x*et,rt,!1,et,nt),this.addHalfVertex(w,it,ot,rt,!0,-tt,nt),this.distance>Bp/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(w,Ne,et,tt,nt,rt))},Ts.prototype.addHalfVertex=function(w,Ne,et,tt,nt,rt,it){var ot=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((w.x<<1)+(tt?1:0),(w.y<<1)+(nt?1:0),Math.round(63*Ne)+128,Math.round(63*et)+128,1+(0===rt?0:rt<0?-1:1)|(63&ot)<<2,ot>>6);var at=it.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,at),it.primitiveLength++),nt?this.e2=at:this.e1=at},Ts.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Bp-1):this.distance},Ts.prototype.updateDistance=function(w,Ne){this.distance+=w.dist(Ne),this.updateScaledDistance()},Dn("LineBucket",Ts,{omit:["layers","patternFeatures"]});var jp=new xi({"line-cap":new yi(wr.layout_line["line-cap"]),"line-join":new di(wr.layout_line["line-join"]),"line-miter-limit":new yi(wr.layout_line["line-miter-limit"]),"line-round-limit":new yi(wr.layout_line["line-round-limit"]),"line-sort-key":new di(wr.layout_line["line-sort-key"])}),Np={paint:new xi({"line-opacity":new di(wr.paint_line["line-opacity"]),"line-color":new di(wr.paint_line["line-color"]),"line-translate":new yi(wr.paint_line["line-translate"]),"line-translate-anchor":new yi(wr.paint_line["line-translate-anchor"]),"line-width":new di(wr.paint_line["line-width"]),"line-gap-width":new di(wr.paint_line["line-gap-width"]),"line-offset":new di(wr.paint_line["line-offset"]),"line-blur":new di(wr.paint_line["line-blur"]),"line-dasharray":new vi(wr.paint_line["line-dasharray"]),"line-pattern":new sl(wr.paint_line["line-pattern"]),"line-gradient":new gi(wr.paint_line["line-gradient"])}),layout:jp},Vp=new(function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(Ne,et){return et=new ai(Math.floor(et.zoom),{now:et.now,fadeDuration:et.fadeDuration,zoomHistory:et.zoomHistory,transition:et.transition}),w.prototype.possiblyEvaluate.call(this,Ne,et)},e.prototype.evaluate=function(Ne,et,tt,nt){return et=c({},et,{zoom:Math.floor(et.zoom)}),w.prototype.evaluate.call(this,Ne,et,tt,nt)},e}(di))(Np.paint.properties["line-width"].specification);Vp.useIntegerZoom=!0;var Up=function(w){function e(Ne){w.call(this,Ne,Np)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(w){"line-gradient"===w&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=go(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(Ne,et){w.prototype.recalculate.call(this,Ne,et),this.paint._values["line-floorwidth"]=Vp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Ne)},e.prototype.createBucket=function(w){return new Ts(w)},e.prototype.queryRadius=function(w){var Ne=w,et=Ds($a("line-width",this,Ne),$a("line-gap-width",this,Ne)),tt=$a("line-offset",this,Ne);return et/2+Math.abs(tt)+Wa(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(w,Ne,tt,nt,rt,it,ot){var at=Qa(w,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),it.angle,ot),st=ot/2*Ds(this.paint.get("line-width").evaluate(Ne,tt),this.paint.get("line-gap-width").evaluate(Ne,tt)),ct=this.paint.get("line-offset").evaluate(Ne,tt);return ct&&(nt=function(w,Ne){for(var tt=[],nt=new et(0,0),rt=0;rt<w.length;rt++){for(var it=w[rt],ot=[],at=0;at<it.length;at++){var st=it[at],ct=it[at+1],pt=0===at?nt:st.sub(it[at-1])._unit()._perp(),ft=at===it.length-1?nt:ct.sub(st)._unit()._perp(),dt=pt._add(ft)._unit();dt._mult(1/(dt.x*ft.x+dt.y*ft.y)),ot.push(dt._mult(Ne)._add(st))}tt.push(ot)}return tt}(nt,ct*ot)),function(w,Ne,et){for(var tt=0;tt<Ne.length;tt++){var nt=Ne[tt];if(w.length>=3)for(var rt=0;rt<nt.length;rt++)if(Ha(w,nt[rt]))return!0;if(Na(w,nt,et))return!0}return!1}(at,nt,st)},e.prototype.isTileClipped=function(){return!0},e}(dl);function Ds(w,Ne){return Ne>0?Ne+2*w:w}var qp=Si([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Wp=Si([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hp=(Si([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Si([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Gp=(Si([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Si([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Zp=Si([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qs(w,Ne,et){return w.sections.forEach((function(w){w.text=function(w,Ne,et){var tt=Ne.layout.get("text-transform").evaluate(et,{});return"uppercase"===tt?w=w.toLocaleUpperCase():"lowercase"===tt&&(w=w.toLocaleLowerCase()),ol.applyArabicShaping&&(w=ol.applyArabicShaping(w)),w}(w.text,Ne,et)})),w}Si([{name:"triangle",components:3,type:"Uint16"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Si([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Si([{type:"Float32",name:"offsetX"}]),Si([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Xp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},Ks=function(w,Ne,et,tt,nt){var rt,it,ot=8*nt-tt-1,at=(1<<ot)-1,st=at>>1,ct=-7,pt=et?nt-1:0,ft=et?-1:1,dt=w[Ne+pt];for(pt+=ft,rt=dt&(1<<-ct)-1,dt>>=-ct,ct+=ot;ct>0;rt=256*rt+w[Ne+pt],pt+=ft,ct-=8);for(it=rt&(1<<-ct)-1,rt>>=-ct,ct+=tt;ct>0;it=256*it+w[Ne+pt],pt+=ft,ct-=8);if(0===rt)rt=1-st;else{if(rt===at)return it?NaN:1/0*(dt?-1:1);it+=Math.pow(2,tt),rt-=st}return(dt?-1:1)*it*Math.pow(2,rt-tt)},Gs=function(w,Ne,et,tt,nt,rt){var it,ot,at,st=8*rt-nt-1,ct=(1<<st)-1,pt=ct>>1,ft=23===nt?Math.pow(2,-24)-Math.pow(2,-77):0,dt=tt?0:rt-1,mt=tt?1:-1,yt=Ne<0||0===Ne&&1/Ne<0?1:0;for(Ne=Math.abs(Ne),isNaN(Ne)||Ne===1/0?(ot=isNaN(Ne)?1:0,it=ct):(it=Math.floor(Math.log(Ne)/Math.LN2),Ne*(at=Math.pow(2,-it))<1&&(it--,at*=2),(Ne+=it+pt>=1?ft/at:ft*Math.pow(2,1-pt))*at>=2&&(it++,at/=2),it+pt>=ct?(ot=0,it=ct):it+pt>=1?(ot=(Ne*at-1)*Math.pow(2,nt),it+=pt):(ot=Ne*Math.pow(2,pt-1)*Math.pow(2,nt),it=0));nt>=8;w[et+dt]=255&ot,dt+=mt,ot/=256,nt-=8);for(it=it<<nt|ot,st+=nt;st>0;w[et+dt]=255&it,dt+=mt,it/=256,st-=8);w[et+dt-mt]|=128*yt},$p=Xs;function Xs(w){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(w)?w:new Uint8Array(w||0),this.pos=0,this.type=0,this.length=this.buf.length}Xs.Varint=0,Xs.Fixed64=1,Xs.Bytes=2,Xs.Fixed32=5;var Kp="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Hs(w){return w.type===Xs.Bytes?w.readVarint()+w.pos:w.pos+1}function Ys(w,Ne,et){return et?4294967296*Ne+(w>>>0):4294967296*(Ne>>>0)+(w>>>0)}function $s(w,Ne,et){var tt=Ne<=16383?1:Ne<=2097151?2:Ne<=268435455?3:Math.floor(Math.log(Ne)/(7*Math.LN2));et.realloc(tt);for(var nt=et.pos-1;nt>=w;nt--)et.buf[nt+tt]=et.buf[nt]}function Ws(w,Ne){for(var et=0;et<w.length;et++)Ne.writeVarint(w[et])}function Qs(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSVarint(w[et])}function tu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFloat(w[et])}function eu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeDouble(w[et])}function ru(w,Ne){for(var et=0;et<w.length;et++)Ne.writeBoolean(w[et])}function nu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFixed32(w[et])}function iu(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSFixed32(w[et])}function au(w,Ne){for(var et=0;et<w.length;et++)Ne.writeFixed64(w[et])}function ou(w,Ne){for(var et=0;et<w.length;et++)Ne.writeSFixed64(w[et])}function su(w,Ne){return(w[Ne]|w[Ne+1]<<8|w[Ne+2]<<16)+16777216*w[Ne+3]}function uu(w,Ne,et){w[et]=Ne,w[et+1]=Ne>>>8,w[et+2]=Ne>>>16,w[et+3]=Ne>>>24}function lu(w,Ne){return(w[Ne]|w[Ne+1]<<8|w[Ne+2]<<16)+(w[Ne+3]<<24)}function pu(w,Ne,et){1===w&&et.readMessage(cu,Ne)}function cu(w,Ne,et){if(3===w){var tt=et.readMessage(hu,{}),nt=tt.width,rt=tt.height,it=tt.left,ot=tt.top,at=tt.advance;Ne.push({id:tt.id,bitmap:new yo({width:nt+6,height:rt+6},tt.bitmap),metrics:{width:nt,height:rt,left:it,top:ot,advance:at}})}}function hu(w,Ne,et){1===w?Ne.id=et.readVarint():2===w?Ne.bitmap=et.readBytes():3===w?Ne.width=et.readVarint():4===w?Ne.height=et.readVarint():5===w?Ne.left=et.readSVarint():6===w?Ne.top=et.readSVarint():7===w&&(Ne.advance=et.readVarint())}function fu(w){for(var Ne=0,et=0,tt=0,nt=w;tt<nt.length;tt+=1){var rt=nt[tt];Ne+=rt.w*rt.h,et=Math.max(et,rt.w)}w.sort((function(w,Ne){return Ne.h-w.h}));for(var it=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(Ne/.95)),et),h:1/0}],ot=0,at=0,st=0,ct=w;st<ct.length;st+=1)for(var pt=ct[st],ft=it.length-1;ft>=0;ft--){var dt=it[ft];if(!(pt.w>dt.w||pt.h>dt.h)){if(pt.x=dt.x,pt.y=dt.y,at=Math.max(at,pt.y+pt.h),ot=Math.max(ot,pt.x+pt.w),pt.w===dt.w&&pt.h===dt.h){var mt=it.pop();ft<it.length&&(it[ft]=mt)}else pt.h===dt.h?(dt.x+=pt.w,dt.w-=pt.w):pt.w===dt.w?(dt.y+=pt.h,dt.h-=pt.h):(it.push({x:dt.x+pt.w,y:dt.y,w:dt.w-pt.w,h:pt.h}),dt.y+=pt.h,dt.h-=pt.h);break}}return{w:ot,h:at,fill:Ne/(ot*at)||0}}Xs.prototype={destroy:function(){this.buf=null},readFields:function(w,Ne,et){for(et=et||this.length;this.pos<et;){var tt=this.readVarint(),nt=tt>>3,rt=this.pos;this.type=7&tt,w(nt,Ne,this),this.pos===rt&&this.skip(tt)}return Ne},readMessage:function(w,Ne){return this.readFields(w,Ne,this.readVarint()+this.pos)},readFixed32:function(){var w=su(this.buf,this.pos);return this.pos+=4,w},readSFixed32:function(){var w=lu(this.buf,this.pos);return this.pos+=4,w},readFixed64:function(){var w=su(this.buf,this.pos)+4294967296*su(this.buf,this.pos+4);return this.pos+=8,w},readSFixed64:function(){var w=su(this.buf,this.pos)+4294967296*lu(this.buf,this.pos+4);return this.pos+=8,w},readFloat:function(){var w=Ks(this.buf,this.pos,!0,23,4);return this.pos+=4,w},readDouble:function(){var w=Ks(this.buf,this.pos,!0,52,8);return this.pos+=8,w},readVarint:function(w){var Ne,et,tt=this.buf;return Ne=127&(et=tt[this.pos++]),et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<7,et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<14,et<128?Ne:(Ne|=(127&(et=tt[this.pos++]))<<21,et<128?Ne:function(w,Ne,et){var tt,nt,rt=et.buf;if(tt=(112&(nt=rt[et.pos++]))>>4,nt<128)return Ys(w,tt,Ne);if(tt|=(127&(nt=rt[et.pos++]))<<3,nt<128)return Ys(w,tt,Ne);if(tt|=(127&(nt=rt[et.pos++]))<<10,nt<128)return Ys(w,tt,Ne);if(tt|=(127&(nt=rt[et.pos++]))<<17,nt<128)return Ys(w,tt,Ne);if(tt|=(127&(nt=rt[et.pos++]))<<24,nt<128)return Ys(w,tt,Ne);if(tt|=(1&(nt=rt[et.pos++]))<<31,nt<128)return Ys(w,tt,Ne);throw new Error("Expected varint not more than 10 bytes")}(Ne|=(15&(et=tt[this.pos]))<<28,w,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var w=this.readVarint();return w%2==1?(w+1)/-2:w/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var w=this.readVarint()+this.pos,Ne=this.pos;return this.pos=w,w-Ne>=12&&Kp?function(w,Ne,et){return Kp.decode(w.subarray(Ne,et))}(this.buf,Ne,w):function(w,Ne,et){for(var tt="",nt=Ne;nt<et;){var rt,it,ot,at=w[nt],st=null,ct=at>239?4:at>223?3:at>191?2:1;if(nt+ct>et)break;1===ct?at<128&&(st=at):2===ct?128==(192&(rt=w[nt+1]))&&(st=(31&at)<<6|63&rt)<=127&&(st=null):3===ct?(it=w[nt+2],128==(192&(rt=w[nt+1]))&&128==(192&it)&&((st=(15&at)<<12|(63&rt)<<6|63&it)<=2047||st>=55296&&st<=57343)&&(st=null)):4===ct&&(it=w[nt+2],ot=w[nt+3],128==(192&(rt=w[nt+1]))&&128==(192&it)&&128==(192&ot)&&((st=(15&at)<<18|(63&rt)<<12|(63&it)<<6|63&ot)<=65535||st>=1114112)&&(st=null)),null===st?(st=65533,ct=1):st>65535&&(st-=65536,tt+=String.fromCharCode(st>>>10&1023|55296),st=56320|1023&st),tt+=String.fromCharCode(st),nt+=ct}return tt}(this.buf,Ne,w)},readBytes:function(){var w=this.readVarint()+this.pos,Ne=this.buf.subarray(this.pos,w);return this.pos=w,Ne},readPackedVarint:function(w,Ne){if(this.type!==Xs.Bytes)return w.push(this.readVarint(Ne));var et=Hs(this);for(w=w||[];this.pos<et;)w.push(this.readVarint(Ne));return w},readPackedSVarint:function(w){if(this.type!==Xs.Bytes)return w.push(this.readSVarint());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readSVarint());return w},readPackedBoolean:function(w){if(this.type!==Xs.Bytes)return w.push(this.readBoolean());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readBoolean());return w},readPackedFloat:function(w){if(this.type!==Xs.Bytes)return w.push(this.readFloat());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readFloat());return w},readPackedDouble:function(w){if(this.type!==Xs.Bytes)return w.push(this.readDouble());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readDouble());return w},readPackedFixed32:function(w){if(this.type!==Xs.Bytes)return w.push(this.readFixed32());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readFixed32());return w},readPackedSFixed32:function(w){if(this.type!==Xs.Bytes)return w.push(this.readSFixed32());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readSFixed32());return w},readPackedFixed64:function(w){if(this.type!==Xs.Bytes)return w.push(this.readFixed64());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readFixed64());return w},readPackedSFixed64:function(w){if(this.type!==Xs.Bytes)return w.push(this.readSFixed64());var Ne=Hs(this);for(w=w||[];this.pos<Ne;)w.push(this.readSFixed64());return w},skip:function(w){var Ne=7&w;if(Ne===Xs.Varint)for(;this.buf[this.pos++]>127;);else if(Ne===Xs.Bytes)this.pos=this.readVarint()+this.pos;else if(Ne===Xs.Fixed32)this.pos+=4;else{if(Ne!==Xs.Fixed64)throw new Error("Unimplemented type: "+Ne);this.pos+=8}},writeTag:function(w,Ne){this.writeVarint(w<<3|Ne)},realloc:function(w){for(var Ne=this.length||16;Ne<this.pos+w;)Ne*=2;if(Ne!==this.length){var et=new Uint8Array(Ne);et.set(this.buf),this.buf=et,this.length=Ne}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(w){this.realloc(4),uu(this.buf,w,this.pos),this.pos+=4},writeSFixed32:function(w){this.realloc(4),uu(this.buf,w,this.pos),this.pos+=4},writeFixed64:function(w){this.realloc(8),uu(this.buf,-1&w,this.pos),uu(this.buf,Math.floor(w*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(w){this.realloc(8),uu(this.buf,-1&w,this.pos),uu(this.buf,Math.floor(w*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(w){(w=+w||0)>268435455||w<0?function(w,Ne){var et,tt;if(w>=0?(et=w%4294967296|0,tt=w/4294967296|0):(tt=~(-w/4294967296),4294967295^(et=~(-w%4294967296))?et=et+1|0:(et=0,tt=tt+1|0)),w>=0x10000000000000000||w<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");Ne.realloc(10),function(w,Ne,et){et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,w>>>=7,et.buf[et.pos++]=127&w|128,et.buf[et.pos]=127&(w>>>=7)}(et,0,Ne),function(w,Ne){var et=(7&w)<<4;Ne.buf[Ne.pos++]|=et|((w>>>=3)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w|((w>>>=7)?128:0),w&&(Ne.buf[Ne.pos++]=127&w)))))}(tt,Ne)}(w,this):(this.realloc(4),this.buf[this.pos++]=127&w|(w>127?128:0),w<=127||(this.buf[this.pos++]=127&(w>>>=7)|(w>127?128:0),w<=127||(this.buf[this.pos++]=127&(w>>>=7)|(w>127?128:0),w<=127||(this.buf[this.pos++]=w>>>7&127))))},writeSVarint:function(w){this.writeVarint(w<0?2*-w-1:2*w)},writeBoolean:function(w){this.writeVarint(Boolean(w))},writeString:function(w){w=String(w),this.realloc(4*w.length),this.pos++;var Ne=this.pos;this.pos=function(w,Ne,et){for(var tt,nt,rt=0;rt<Ne.length;rt++){if((tt=Ne.charCodeAt(rt))>55295&&tt<57344){if(!nt){tt>56319||rt+1===Ne.length?(w[et++]=239,w[et++]=191,w[et++]=189):nt=tt;continue}if(tt<56320){w[et++]=239,w[et++]=191,w[et++]=189,nt=tt;continue}tt=nt-55296<<10|tt-56320|65536,nt=null}else nt&&(w[et++]=239,w[et++]=191,w[et++]=189,nt=null);tt<128?w[et++]=tt:(tt<2048?w[et++]=tt>>6|192:(tt<65536?w[et++]=tt>>12|224:(w[et++]=tt>>18|240,w[et++]=tt>>12&63|128),w[et++]=tt>>6&63|128),w[et++]=63&tt|128)}return et}(this.buf,w,this.pos);var et=this.pos-Ne;et>=128&&$s(Ne,et,this),this.pos=Ne-1,this.writeVarint(et),this.pos+=et},writeFloat:function(w){this.realloc(4),Gs(this.buf,w,this.pos,!0,23,4),this.pos+=4},writeDouble:function(w){this.realloc(8),Gs(this.buf,w,this.pos,!0,52,8),this.pos+=8},writeBytes:function(w){var Ne=w.length;this.writeVarint(Ne),this.realloc(Ne);for(var et=0;et<Ne;et++)this.buf[this.pos++]=w[et]},writeRawMessage:function(w,Ne){this.pos++;var et=this.pos;w(Ne,this);var tt=this.pos-et;tt>=128&&$s(et,tt,this),this.pos=et-1,this.writeVarint(tt),this.pos+=tt},writeMessage:function(w,Ne,et){this.writeTag(w,Xs.Bytes),this.writeRawMessage(Ne,et)},writePackedVarint:function(w,Ne){Ne.length&&this.writeMessage(w,Ws,Ne)},writePackedSVarint:function(w,Ne){Ne.length&&this.writeMessage(w,Qs,Ne)},writePackedBoolean:function(w,Ne){Ne.length&&this.writeMessage(w,ru,Ne)},writePackedFloat:function(w,Ne){Ne.length&&this.writeMessage(w,tu,Ne)},writePackedDouble:function(w,Ne){Ne.length&&this.writeMessage(w,eu,Ne)},writePackedFixed32:function(w,Ne){Ne.length&&this.writeMessage(w,nu,Ne)},writePackedSFixed32:function(w,Ne){Ne.length&&this.writeMessage(w,iu,Ne)},writePackedFixed64:function(w,Ne){Ne.length&&this.writeMessage(w,au,Ne)},writePackedSFixed64:function(w,Ne){Ne.length&&this.writeMessage(w,ou,Ne)},writeBytesField:function(w,Ne){this.writeTag(w,Xs.Bytes),this.writeBytes(Ne)},writeFixed32Field:function(w,Ne){this.writeTag(w,Xs.Fixed32),this.writeFixed32(Ne)},writeSFixed32Field:function(w,Ne){this.writeTag(w,Xs.Fixed32),this.writeSFixed32(Ne)},writeFixed64Field:function(w,Ne){this.writeTag(w,Xs.Fixed64),this.writeFixed64(Ne)},writeSFixed64Field:function(w,Ne){this.writeTag(w,Xs.Fixed64),this.writeSFixed64(Ne)},writeVarintField:function(w,Ne){this.writeTag(w,Xs.Varint),this.writeVarint(Ne)},writeSVarintField:function(w,Ne){this.writeTag(w,Xs.Varint),this.writeSVarint(Ne)},writeStringField:function(w,Ne){this.writeTag(w,Xs.Bytes),this.writeString(Ne)},writeFloatField:function(w,Ne){this.writeTag(w,Xs.Fixed32),this.writeFloat(Ne)},writeDoubleField:function(w,Ne){this.writeTag(w,Xs.Fixed64),this.writeDouble(Ne)},writeBooleanField:function(w,Ne){this.writeVarintField(w,Boolean(Ne))}};var yu=function(w,Ne){var et=Ne.pixelRatio,tt=Ne.version,nt=Ne.stretchX,rt=Ne.stretchY,it=Ne.content;this.paddedRect=w,this.pixelRatio=et,this.stretchX=nt,this.stretchY=rt,this.content=it,this.version=tt},Yp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Yp.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Yp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Yp.tlbr.get=function(){return this.tl.concat(this.br)},Yp.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yu.prototype,Yp);var mu=function(w,Ne){var et={},tt={};this.haveRenderCallbacks=[];var nt=[];this.addImages(w,et,nt),this.addImages(Ne,tt,nt);var rt=fu(nt),it=new mo({width:rt.w||1,height:rt.h||1});for(var ot in w){var at=w[ot],st=et[ot].paddedRect;mo.copy(at.data,it,{x:0,y:0},{x:st.x+1,y:st.y+1},at.data)}for(var ct in Ne){var pt=Ne[ct],ft=tt[ct].paddedRect,dt=ft.x+1,mt=ft.y+1,yt=pt.data.width,vt=pt.data.height;mo.copy(pt.data,it,{x:0,y:0},{x:dt,y:mt},pt.data),mo.copy(pt.data,it,{x:0,y:vt-1},{x:dt,y:mt-1},{width:yt,height:1}),mo.copy(pt.data,it,{x:0,y:0},{x:dt,y:mt+vt},{width:yt,height:1}),mo.copy(pt.data,it,{x:yt-1,y:0},{x:dt-1,y:mt},{width:1,height:vt}),mo.copy(pt.data,it,{x:0,y:0},{x:dt+yt,y:mt},{width:1,height:vt})}this.image=it,this.iconPositions=et,this.patternPositions=tt};mu.prototype.addImages=function(w,Ne,et){for(var tt in w){var nt=w[tt],rt={x:0,y:0,w:nt.data.width+2,h:nt.data.height+2};et.push(rt),Ne[tt]=new yu(rt,nt),nt.hasRenderCallback&&this.haveRenderCallbacks.push(tt)}},mu.prototype.patchUpdatedImages=function(w,Ne){for(var et in w.dispatchRenderCallbacks(this.haveRenderCallbacks),w.updatedImages)this.patchUpdatedImage(this.iconPositions[et],w.getImage(et),Ne),this.patchUpdatedImage(this.patternPositions[et],w.getImage(et),Ne)},mu.prototype.patchUpdatedImage=function(w,Ne,et){if(w&&Ne&&w.version!==Ne.version){w.version=Ne.version;var tt=w.tl;et.update(Ne.data,void 0,{x:tt[0],y:tt[1]})}},Dn("ImagePosition",yu),Dn("ImageAtlas",mu);var Jp={horizontal:1,vertical:2,horizontalOnly:3},gu=function(){this.scale=1,this.fontStack="",this.imageName=null};gu.forText=function(w,Ne){var et=new gu;return et.scale=w||1,et.fontStack=Ne,et},gu.forImage=function(w){var Ne=new gu;return Ne.imageName=w,Ne};var xu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function bu(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt,Ot=xu.fromFeature(w,nt);pt===Jp.vertical&&Ot.verticalizePunctuation();var Dt=ol.processBidirectionalText,Rt=ol.processStyledBidirectionalText;if(Dt&&1===Ot.sections.length){vt=[];for(var Bt=0,rn=Dt(Ot.toString(),zu(Ot,st,rt,Ne,tt,dt,mt));Bt<rn.length;Bt+=1){var vn=rn[Bt],bn=new xu;bn.text=vn,bn.sections=Ot.sections;for(var Cn=0;Cn<vn.length;Cn++)bn.sectionIndex.push(0);vt.push(bn)}}else if(Rt){vt=[];for(var Tn=0,In=Rt(Ot.text,Ot.sectionIndex,zu(Ot,st,rt,Ne,tt,dt,mt));Tn<In.length;Tn+=1){var Mn=In[Tn],zn=new xu;zn.text=Mn[0],zn.sectionIndex=Mn[1],zn.sections=Ot.sections,vt.push(zn)}}else vt=function(w,Ne){for(var et=[],tt=w.text,nt=0,rt=0,it=Ne;rt<it.length;rt+=1){var ot=it[rt];et.push(w.substring(nt,ot)),nt=ot}return nt<tt.length&&et.push(w.substring(nt,tt.length)),et}(Ot,zu(Ot,st,rt,Ne,tt,dt,mt));var Ln=[],Fn={positionedLines:Ln,text:Ot.toString(),top:ct[1],bottom:ct[1],left:ct[0],right:ct[0],writingMode:pt,iconsInText:!1,verticalizable:!1};return function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){for(var ft=0,dt=-17,mt=0,yt=0,vt="right"===ot?1:"left"===ot?0:.5,Ot=0,Dt=0,Rt=nt;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];Bt.trim();var rn=Bt.getMaxScale(),vn=24*(rn-1),bn={positionedGlyphs:[],lineOffset:0};w.positionedLines[Ot]=bn;var Cn=bn.positionedGlyphs,Tn=0;if(Bt.length()){for(var In=0;In<Bt.length();In++){var Mn=Bt.getSection(In),zn=Bt.getSectionIndex(In),Ln=Bt.getCharCode(In),Fn=0,Bn=null,Nn=null,Vn=null,Wn=24,$n=!(at===Jp.horizontal||!ct&&!Gn(Ln)||ct&&(Qp[Ln]||(uo=Ln,Vs.Arabic(uo)||Vs["Arabic Supplement"](uo)||Vs["Arabic Extended-A"](uo)||Vs["Arabic Presentation Forms-A"](uo)||Vs["Arabic Presentation Forms-B"](uo))));if(Mn.imageName){var Yn=tt[Mn.imageName];if(!Yn)continue;Vn=Mn.imageName,w.iconsInText=w.iconsInText||!0,Nn=Yn.paddedRect;var er=Yn.displaySize;Mn.scale=24*Mn.scale/pt,Fn=vn+(24-er[1]*Mn.scale),Wn=(Bn={width:er[0],height:er[1],left:1,top:-3,advance:$n?er[1]:er[0]}).advance;var rr=$n?er[0]*Mn.scale-24*rn:er[1]*Mn.scale-24*rn;rr>0&&rr>Tn&&(Tn=rr)}else{var vr=et[Mn.fontStack],wr=vr&&vr[Ln];if(wr&&wr.rect)Nn=wr.rect,Bn=wr.metrics;else{var Sr=Ne[Mn.fontStack],ii=Sr&&Sr[Ln];if(!ii)continue;Bn=ii.metrics}Fn=24*(rn-Mn.scale)}$n?(w.verticalizable=!0,Cn.push({glyph:Ln,imageName:Vn,x:ft,y:dt+Fn,vertical:$n,scale:Mn.scale,fontStack:Mn.fontStack,sectionIndex:zn,metrics:Bn,rect:Nn}),ft+=Wn*Mn.scale+st):(Cn.push({glyph:Ln,imageName:Vn,x:ft,y:dt+Fn,vertical:$n,scale:Mn.scale,fontStack:Mn.fontStack,sectionIndex:zn,metrics:Bn,rect:Nn}),ft+=Bn.advance*Mn.scale+st)}0!==Cn.length&&(mt=Math.max(ft-st,mt),Mu(Cn,0,Cn.length-1,vt,Tn)),ft=0;var qi=rt*rn+Tn;bn.lineOffset=Math.max(Tn,vn),dt+=qi,yt=Math.max(qi,yt),++Ot}else dt+=rt,++Ot}var uo,po=dt- -17,vo=Cu(it),So=vo.horizontalAlign,ta=vo.verticalAlign;(function(w,Ne,et,tt,nt,rt,it,ot,at){var st,ct=(Ne-et)*nt;st=rt!==it?-ot*tt- -17:(-tt*at+.5)*it;for(var pt=0,ft=w;pt<ft.length;pt+=1)for(var dt=0,mt=ft[pt].positionedGlyphs;dt<mt.length;dt+=1){var yt=mt[dt];yt.x+=ct,yt.y+=st}})(w.positionedLines,vt,So,ta,mt,yt,rt,po,nt.length),w.top+=-ta*po,w.bottom=w.top+po,w.left+=-So*mt,w.right=w.left+mt}(Fn,Ne,et,tt,vt,it,ot,at,pt,st,ft,yt),!function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(0!==et[Ne].positionedGlyphs.length)return!1;return!0}(Ln)&&Fn}xu.fromFeature=function(w,Ne){for(var et=new xu,tt=0;tt<w.sections.length;tt++){var nt=w.sections[tt];nt.image?et.addImageSection(nt):et.addTextSection(nt,Ne)}return et},xu.prototype.length=function(){return this.text.length},xu.prototype.getSection=function(w){return this.sections[this.sectionIndex[w]]},xu.prototype.getSectionIndex=function(w){return this.sectionIndex[w]},xu.prototype.getCharCode=function(w){return this.text.charCodeAt(w)},xu.prototype.verticalizePunctuation=function(){this.text=function(w){for(var Ne="",et=0;et<w.length;et++){var tt=w.charCodeAt(et+1)||null,nt=w.charCodeAt(et-1)||null;Ne+=tt&&Zn(tt)&&!Xp[w[et+1]]||nt&&Zn(nt)&&!Xp[w[et-1]]||!Xp[w[et]]?w[et]:Xp[w[et]]}return Ne}(this.text)},xu.prototype.trim=function(){for(var w=0,Ne=0;Ne<this.text.length&&Qp[this.text.charCodeAt(Ne)];Ne++)w++;for(var et=this.text.length,tt=this.text.length-1;tt>=0&&tt>=w&&Qp[this.text.charCodeAt(tt)];tt--)et--;this.text=this.text.substring(w,et),this.sectionIndex=this.sectionIndex.slice(w,et)},xu.prototype.substring=function(w,Ne){var et=new xu;return et.text=this.text.substring(w,Ne),et.sectionIndex=this.sectionIndex.slice(w,Ne),et.sections=this.sections,et},xu.prototype.toString=function(){return this.text},xu.prototype.getMaxScale=function(){var w=this;return this.sectionIndex.reduce((function(Ne,et){return Math.max(Ne,w.sections[et].scale)}),0)},xu.prototype.addTextSection=function(w,Ne){this.text+=w.text,this.sections.push(gu.forText(w.scale,w.fontStack||Ne));for(var et=this.sections.length-1,tt=0;tt<w.text.length;++tt)this.sectionIndex.push(et)},xu.prototype.addImageSection=function(w){var Ne=w.image?w.image.name:"";if(0!==Ne.length){var et=this.getNextImageSectionCharCode();et?(this.text+=String.fromCharCode(et),this.sections.push(gu.forImage(Ne)),this.sectionIndex.push(this.sections.length-1)):_("Reached maximum number of images 6401")}else _("Can't add FormattedSection with an empty image.")},xu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Qp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},rh={};function Au(w,Ne,et,tt,nt,rt){if(Ne.imageName){var it=tt[Ne.imageName];return it?it.displaySize[0]*Ne.scale*24/rt+nt:0}var ot=et[Ne.fontStack],at=ot&&ot[w];return at?at.metrics.advance*Ne.scale+nt:0}function Su(w,Ne,et,tt){var nt=Math.pow(w-Ne,2);return tt?w<Ne?nt/2:2*nt:nt+Math.abs(et)*et}function ku(w,Ne,et){var tt=0;return 10===w&&(tt-=1e4),et&&(tt+=150),40!==w&&65288!==w||(tt+=50),41!==Ne&&65289!==Ne||(tt+=50),tt}function Iu(w,Ne,et,tt,nt,rt){for(var it=null,ot=Su(Ne,et,nt,rt),at=0,st=tt;at<st.length;at+=1){var ct=st[at],pt=Su(Ne-ct.x,et,nt,rt)+ct.badness;pt<=ot&&(it=ct,ot=pt)}return{index:w,x:Ne,priorBreak:it,badness:ot}}function zu(w,Ne,et,tt,nt,rt,it){if("point"!==rt)return[];if(!w)return[];for(var ot,at=[],st=function(w,Ne,et,tt,nt,rt){for(var it=0,ot=0;ot<w.length();ot++){var at=w.getSection(ot);it+=Au(w.getCharCode(ot),at,tt,nt,Ne,rt)}return it/Math.max(1,Math.ceil(it/et))}(w,Ne,et,tt,nt,it),ct=w.text.indexOf("")>=0,pt=0,ft=0;ft<w.length();ft++){var dt=w.getSection(ft),mt=w.getCharCode(ft);if(Qp[mt]||(pt+=Au(mt,dt,tt,nt,Ne,it)),ft<w.length()-1){var yt=!((ot=mt)<11904||!(Vs["Bopomofo Extended"](ot)||Vs.Bopomofo(ot)||Vs["CJK Compatibility Forms"](ot)||Vs["CJK Compatibility Ideographs"](ot)||Vs["CJK Compatibility"](ot)||Vs["CJK Radicals Supplement"](ot)||Vs["CJK Strokes"](ot)||Vs["CJK Symbols and Punctuation"](ot)||Vs["CJK Unified Ideographs Extension A"](ot)||Vs["CJK Unified Ideographs"](ot)||Vs["Enclosed CJK Letters and Months"](ot)||Vs["Halfwidth and Fullwidth Forms"](ot)||Vs.Hiragana(ot)||Vs["Ideographic Description Characters"](ot)||Vs["Kangxi Radicals"](ot)||Vs["Katakana Phonetic Extensions"](ot)||Vs.Katakana(ot)||Vs["Vertical Forms"](ot)||Vs["Yi Radicals"](ot)||Vs["Yi Syllables"](ot)));(rh[mt]||yt||dt.imageName)&&at.push(Iu(ft+1,pt,st,at,ku(mt,w.getCharCode(ft+1),yt&&ct),!1))}}return function t(w){return w?t(w.priorBreak).concat(w.index):[]}(Iu(w.length(),pt,st,at,0,!0))}function Cu(w){var Ne=.5,et=.5;switch(w){case"right":case"top-right":case"bottom-right":Ne=1;break;case"left":case"top-left":case"bottom-left":Ne=0}switch(w){case"bottom":case"bottom-right":case"bottom-left":et=1;break;case"top":case"top-right":case"top-left":et=0}return{horizontalAlign:Ne,verticalAlign:et}}function Mu(w,Ne,et,tt,nt){if(tt||nt)for(var rt=w[et],it=(w[et].x+rt.metrics.advance*rt.scale)*tt,ot=Ne;ot<=et;ot++)w[ot].x-=it,w[ot].y+=nt}function Eu(w,Ne,et,tt,nt,rt){var it,ot=w.image;if(ot.content){var at=ot.content,st=ot.pixelRatio||1;it=[at[0]/st,at[1]/st,ot.displaySize[0]-at[2]/st,ot.displaySize[1]-at[3]/st]}var ct,pt,ft,dt,mt=Ne.left*rt,yt=Ne.right*rt;"width"===et||"both"===et?(dt=nt[0]+mt-tt[3],pt=nt[0]+yt+tt[1]):pt=(dt=nt[0]+(mt+yt-ot.displaySize[0])/2)+ot.displaySize[0];var vt=Ne.top*rt,Ot=Ne.bottom*rt;return"height"===et||"both"===et?(ct=nt[1]+vt-tt[0],ft=nt[1]+Ot+tt[2]):ft=(ct=nt[1]+(vt+Ot-ot.displaySize[1])/2)+ot.displaySize[1],{image:ot,top:ct,right:pt,bottom:ft,left:dt,collisionPadding:it}}rh[10]=!0,rh[32]=!0,rh[38]=!0,rh[40]=!0,rh[41]=!0,rh[43]=!0,rh[45]=!0,rh[47]=!0,rh[173]=!0,rh[183]=!0,rh[8203]=!0,rh[8208]=!0,rh[8211]=!0,rh[8231]=!0;var ah=function(w){function e(Ne,et,tt,nt){w.call(this,Ne,et),this.angle=tt,void 0!==nt&&(this.segment=nt)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(et);function Pu(w,Ne){var et=Ne.expression;if("constant"===et.kind)return{kind:"constant",layoutSize:et.evaluate(new ai(w+1))};if("source"===et.kind)return{kind:"source"};for(var tt=et.zoomStops,nt=et.interpolationType,rt=0;rt<tt.length&&tt[rt]<=w;)rt++;for(var it=rt=Math.max(0,rt-1);it<tt.length&&tt[it]<w+1;)it++;it=Math.min(tt.length-1,it);var ot=tt[rt],at=tt[it];return"composite"===et.kind?{kind:"composite",minZoom:ot,maxZoom:at,interpolationType:nt}:{kind:"camera",minZoom:ot,maxZoom:at,minSize:et.evaluate(new ai(ot)),maxSize:et.evaluate(new ai(at)),interpolationType:nt}}function Bu(w,Ne,et){var tt=Ne.uSize,nt=et.lowerSize;return"source"===w.kind?nt/128:"composite"===w.kind?qe(nt/128,et.upperSize/128,Ne.uSizeT):tt}function Vu(w,Ne){var et=0,tt=0;if("constant"===w.kind)tt=w.layoutSize;else if("source"!==w.kind){var nt=w.interpolationType,rt=nt?l(nr.interpolationFactor(nt,Ne,w.minZoom,w.maxZoom),0,1):0;"camera"===w.kind?tt=qe(w.minSize,w.maxSize,rt):et=rt}return{uSizeT:et,uSize:tt}}Dn("Anchor",ah);var sh=Object.freeze({__proto__:null,getSizeData:Pu,evaluateSizeForFeature:Bu,evaluateSizeForZoom:Vu,SIZE_PACK_FACTOR:128});function Du(w,Ne,et,tt,nt){if(void 0===Ne.segment)return!0;for(var rt=Ne,it=Ne.segment+1,ot=0;ot>-et/2;){if(--it<0)return!1;ot-=w[it].dist(rt),rt=w[it]}ot+=w[it].dist(w[it+1]),it++;for(var at=[],st=0;ot<et/2;){var ct=w[it],pt=w[it+1];if(!pt)return!1;var ft=w[it-1].angleTo(ct)-ct.angleTo(pt);for(ft=Math.abs((ft+3*Math.PI)%(2*Math.PI)-Math.PI),at.push({distance:ot,angleDelta:ft}),st+=ft;ot-at[0].distance>tt;)st-=at.shift().angleDelta;if(st>nt)return!1;it++,ot+=ct.dist(pt)}return!0}function Lu(w){for(var Ne=0,et=0;et<w.length-1;et++)Ne+=w[et].dist(w[et+1]);return Ne}function Ru(w,Ne,et){return w?.6*Ne*et:0}function Ou(w,Ne){return Math.max(w?w.right-w.left:0,Ne?Ne.right-Ne.left:0)}function Uu(w,Ne,et,tt,nt,rt){for(var it=Ru(et,nt,rt),ot=Ou(et,tt)*rt,at=0,st=Lu(w)/2,ct=0;ct<w.length-1;ct++){var pt=w[ct],ft=w[ct+1],dt=pt.dist(ft);if(at+dt>st){var mt=(st-at)/dt,yt=qe(pt.x,ft.x,mt),vt=qe(pt.y,ft.y,mt),Ot=new ah(yt,vt,ft.angleTo(pt),ct);return Ot._round(),!it||Du(w,Ot,ot,it,Ne)?Ot:void 0}at+=dt}}function ju(w,Ne,et,tt,nt,rt,it,ot,at){var st=Ru(tt,rt,it),ct=Ou(tt,nt),pt=ct*it,ft=0===w[0].x||w[0].x===at||0===w[0].y||w[0].y===at;return Ne-pt<Ne/4&&(Ne=pt+Ne/4),function t(w,Ne,et,tt,nt,rt,it,ot,at){for(var st=rt/2,ct=Lu(w),pt=0,ft=Ne-et,dt=[],mt=0;mt<w.length-1;mt++){for(var yt=w[mt],vt=w[mt+1],Ot=yt.dist(vt),Dt=vt.angleTo(yt);ft+et<pt+Ot;){var Rt=((ft+=et)-pt)/Ot,Bt=qe(yt.x,vt.x,Rt),rn=qe(yt.y,vt.y,Rt);if(Bt>=0&&Bt<at&&rn>=0&&rn<at&&ft-st>=0&&ft+st<=ct){var vn=new ah(Bt,rn,Dt,mt);vn._round(),tt&&!Du(w,vn,rt,tt,nt)||dt.push(vn)}}pt+=Ot}return ot||dt.length||it||(dt=t(w,pt/2,et,tt,nt,rt,it,!0,at)),dt}(w,ft?Ne/2*ot%Ne:(ct/2+2*rt)*it*ot%Ne,Ne,st,et,pt,ft,!1,at)}function qu(w,Ne,tt,nt,rt){for(var it=[],ot=0;ot<w.length;ot++)for(var at=w[ot],st=void 0,ct=0;ct<at.length-1;ct++){var pt=at[ct],ft=at[ct+1];pt.x<Ne&&ft.x<Ne||(pt.x<Ne?pt=new et(Ne,pt.y+(Ne-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round():ft.x<Ne&&(ft=new et(Ne,pt.y+(Ne-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round()),pt.y<tt&&ft.y<tt||(pt.y<tt?pt=new et(pt.x+(tt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),tt)._round():ft.y<tt&&(ft=new et(pt.x+(tt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),tt)._round()),pt.x>=nt&&ft.x>=nt||(pt.x>=nt?pt=new et(nt,pt.y+(nt-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round():ft.x>=nt&&(ft=new et(nt,pt.y+(nt-pt.x)/(ft.x-pt.x)*(ft.y-pt.y))._round()),pt.y>=rt&&ft.y>=rt||(pt.y>=rt?pt=new et(pt.x+(rt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),rt)._round():ft.y>=rt&&(ft=new et(pt.x+(rt-pt.y)/(ft.y-pt.y)*(ft.x-pt.x),rt)._round()),st&&pt.equals(st[st.length-1])||it.push(st=[pt]),st.push(ft)))))}return it}function Nu(w,Ne,tt,nt){var rt=[],it=w.image,ot=it.pixelRatio,at=it.paddedRect.w-2,st=it.paddedRect.h-2,ct=w.right-w.left,pt=w.bottom-w.top,ft=it.stretchX||[[0,at]],dt=it.stretchY||[[0,st]],y=function(w,Ne){return w+Ne[1]-Ne[0]},mt=ft.reduce(y,0),yt=dt.reduce(y,0),vt=at-mt,Ot=st-yt,Dt=0,Rt=mt,Bt=0,rn=yt,vn=0,bn=vt,Cn=0,Tn=Ot;if(it.content&&nt){var In=it.content;Dt=Ku(ft,0,In[0]),Bt=Ku(dt,0,In[1]),Rt=Ku(ft,In[0],In[2]),rn=Ku(dt,In[1],In[3]),vn=In[0]-Dt,Cn=In[1]-Bt,bn=In[2]-In[0]-Rt,Tn=In[3]-In[1]-rn}var C=function(nt,rt,at,st){var ft=Zu(nt.stretch-Dt,Rt,ct,w.left),dt=Xu(nt.fixed-vn,bn,nt.stretch,mt),vt=Zu(rt.stretch-Bt,rn,pt,w.top),Ot=Xu(rt.fixed-Cn,Tn,rt.stretch,yt),In=Zu(at.stretch-Dt,Rt,ct,w.left),Mn=Xu(at.fixed-vn,bn,at.stretch,mt),zn=Zu(st.stretch-Bt,rn,pt,w.top),Ln=Xu(st.fixed-Cn,Tn,st.stretch,yt),Fn=new et(ft,vt),Bn=new et(In,vt),Nn=new et(In,zn),Vn=new et(ft,zn),Wn=new et(dt/ot,Ot/ot),$n=new et(Mn/ot,Ln/ot),Yn=Ne*Math.PI/180;if(Yn){var er=Math.sin(Yn),rr=Math.cos(Yn),vr=[rr,-er,er,rr];Fn._matMult(vr),Bn._matMult(vr),Vn._matMult(vr),Nn._matMult(vr)}var wr=nt.stretch+nt.fixed,Sr=rt.stretch+rt.fixed;return{tl:Fn,tr:Bn,bl:Vn,br:Nn,tex:{x:it.paddedRect.x+1+wr,y:it.paddedRect.y+1+Sr,w:at.stretch+at.fixed-wr,h:st.stretch+st.fixed-Sr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Wn,pixelOffsetBR:$n,minFontScaleX:bn/ot/ct,minFontScaleY:Tn/ot/pt,isSDF:tt}};if(nt&&(it.stretchX||it.stretchY))for(var Mn=Gu(ft,vt,mt),zn=Gu(dt,Ot,yt),Ln=0;Ln<Mn.length-1;Ln++)for(var Fn=Mn[Ln],Bn=Mn[Ln+1],Nn=0;Nn<zn.length-1;Nn++)rt.push(C(Fn,zn[Nn],Bn,zn[Nn+1]));else rt.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:at+1},{fixed:0,stretch:st+1}));return rt}function Ku(w,Ne,et){for(var tt=0,nt=0,rt=w;nt<rt.length;nt+=1){var it=rt[nt];tt+=Math.max(Ne,Math.min(et,it[1]))-Math.max(Ne,Math.min(et,it[0]))}return tt}function Gu(w,Ne,et){for(var tt=[{fixed:-1,stretch:0}],nt=0,rt=w;nt<rt.length;nt+=1){var it=rt[nt],ot=it[0],at=it[1],st=tt[tt.length-1];tt.push({fixed:ot-st.stretch,stretch:st.stretch}),tt.push({fixed:ot-st.stretch,stretch:st.stretch+(at-ot)})}return tt.push({fixed:Ne+1,stretch:et}),tt}function Zu(w,Ne,et,tt){return w/Ne*et+tt}function Xu(w,Ne,et,tt){return w-Ne*et/tt}var Ju=function(w,Ne,tt,nt,rt,it,ot,at,st,ct){if(this.boxStartIndex=w.length,st){var pt=it.top,ft=it.bottom,dt=it.collisionPadding;dt&&(pt-=dt[1],ft+=dt[3]);var mt=ft-pt;mt>0&&(mt=Math.max(10,mt),this.circleDiameter=mt)}else{var yt=it.top*ot-at,vt=it.bottom*ot+at,Ot=it.left*ot-at,Dt=it.right*ot+at,Rt=it.collisionPadding;if(Rt&&(Ot-=Rt[0]*ot,yt-=Rt[1]*ot,Dt+=Rt[2]*ot,vt+=Rt[3]*ot),ct){var Bt=new et(Ot,yt),rn=new et(Dt,yt),vn=new et(Ot,vt),bn=new et(Dt,vt),Cn=ct*Math.PI/180;Bt._rotate(Cn),rn._rotate(Cn),vn._rotate(Cn),bn._rotate(Cn),Ot=Math.min(Bt.x,rn.x,vn.x,bn.x),Dt=Math.max(Bt.x,rn.x,vn.x,bn.x),yt=Math.min(Bt.y,rn.y,vn.y,bn.y),vt=Math.max(Bt.y,rn.y,vn.y,bn.y)}w.emplaceBack(Ne.x,Ne.y,Ot,yt,Dt,vt,tt,nt,rt)}this.boxEndIndex=w.length},Hu=function(w,Ne){if(void 0===w&&(w=[]),void 0===Ne&&(Ne=Yu),this.data=w,this.length=this.data.length,this.compare=Ne,this.length>0)for(var et=(this.length>>1)-1;et>=0;et--)this._down(et)};function Yu(w,Ne){return w<Ne?-1:w>Ne?1:0}function $u(w,Ne,tt){void 0===Ne&&(Ne=1),void 0===tt&&(tt=!1);for(var nt=1/0,rt=1/0,it=-1/0,ot=-1/0,at=w[0],st=0;st<at.length;st++){var ct=at[st];(!st||ct.x<nt)&&(nt=ct.x),(!st||ct.y<rt)&&(rt=ct.y),(!st||ct.x>it)&&(it=ct.x),(!st||ct.y>ot)&&(ot=ct.y)}var pt=Math.min(it-nt,ot-rt),ft=pt/2,dt=new Hu([],Wu);if(0===pt)return new et(nt,rt);for(var mt=nt;mt<it;mt+=pt)for(var yt=rt;yt<ot;yt+=pt)dt.push(new Qu(mt+ft,yt+ft,ft,w));for(var vt=function(w){for(var Ne=0,et=0,tt=0,nt=w[0],rt=0,it=nt.length,ot=it-1;rt<it;ot=rt++){var at=nt[rt],st=nt[ot],ct=at.x*st.y-st.x*at.y;et+=(at.x+st.x)*ct,tt+=(at.y+st.y)*ct,Ne+=3*ct}return new Qu(et/Ne,tt/Ne,0,w)}(w),Ot=dt.length;dt.length;){var Dt=dt.pop();(Dt.d>vt.d||!vt.d)&&(vt=Dt,tt&&console.log("found best %d after %d probes",Math.round(1e4*Dt.d)/1e4,Ot)),Dt.max-vt.d<=Ne||(dt.push(new Qu(Dt.p.x-(ft=Dt.h/2),Dt.p.y-ft,ft,w)),dt.push(new Qu(Dt.p.x+ft,Dt.p.y-ft,ft,w)),dt.push(new Qu(Dt.p.x-ft,Dt.p.y+ft,ft,w)),dt.push(new Qu(Dt.p.x+ft,Dt.p.y+ft,ft,w)),Ot+=4)}return tt&&(console.log("num probes: "+Ot),console.log("best distance: "+vt.d)),vt.p}function Wu(w,Ne){return Ne.max-w.max}function Qu(w,Ne,tt,nt){this.p=new et(w,Ne),this.h=tt,this.d=function(w,Ne){for(var et=!1,tt=1/0,nt=0;nt<Ne.length;nt++)for(var rt=Ne[nt],it=0,ot=rt.length,at=ot-1;it<ot;at=it++){var st=rt[it],ct=rt[at];st.y>w.y!=ct.y>w.y&&w.x<(ct.x-st.x)*(w.y-st.y)/(ct.y-st.y)+st.x&&(et=!et),tt=Math.min(tt,Xa(w,st,ct))}return(et?1:-1)*Math.sqrt(tt)}(this.p,nt),this.max=this.d+this.h*Math.SQRT2}Hu.prototype.push=function(w){this.data.push(w),this.length++,this._up(this.length-1)},Hu.prototype.pop=function(){if(0!==this.length){var w=this.data[0],Ne=this.data.pop();return this.length--,this.length>0&&(this.data[0]=Ne,this._down(0)),w}},Hu.prototype.peek=function(){return this.data[0]},Hu.prototype._up=function(w){for(var Ne=this.data,et=this.compare,tt=Ne[w];w>0;){var nt=w-1>>1,rt=Ne[nt];if(et(tt,rt)>=0)break;Ne[w]=rt,w=nt}Ne[w]=tt},Hu.prototype._down=function(w){for(var Ne=this.data,et=this.compare,tt=this.length>>1,nt=Ne[w];w<tt;){var rt=1+(w<<1),it=Ne[rt],ot=rt+1;if(ot<this.length&&et(Ne[ot],it)<0&&(rt=ot,it=Ne[ot]),et(it,nt)>=0)break;Ne[w]=it,w=rt}Ne[w]=nt};var lh=Number.POSITIVE_INFINITY;function el(w,Ne){return Ne[1]!==lh?function(w,Ne,et){var tt=0,nt=0;switch(Ne=Math.abs(Ne),et=Math.abs(et),w){case"top-right":case"top-left":case"top":nt=et-7;break;case"bottom-right":case"bottom-left":case"bottom":nt=7-et}switch(w){case"top-right":case"bottom-right":case"right":tt=-Ne;break;case"top-left":case"bottom-left":case"left":tt=Ne}return[tt,nt]}(w,Ne[0],Ne[1]):function(w,Ne){var et=0,tt=0;Ne<0&&(Ne=0);var nt=Ne/Math.sqrt(2);switch(w){case"top-right":case"top-left":tt=nt-7;break;case"bottom-right":case"bottom-left":tt=7-nt;break;case"bottom":tt=7-Ne;break;case"top":tt=Ne-7}switch(w){case"top-right":case"bottom-right":et=-nt;break;case"top-left":case"bottom-left":et=nt;break;case"left":et=Ne;break;case"right":et=-Ne}return[et,tt]}(w,Ne[0])}function rl(w){switch(w){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function nl(w,Ne,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt=function(w,Ne,tt,nt,rt,it,ot,at){for(var st=nt.layout.get("text-rotate").evaluate(it,{})*Math.PI/180,ct=[],pt=0,ft=Ne.positionedLines;pt<ft.length;pt+=1)for(var dt=ft[pt],mt=0,yt=dt.positionedGlyphs;mt<yt.length;mt+=1){var vt=yt[mt];if(vt.rect){var Ot=vt.rect||{},Dt=4,Rt=!0,Bt=1,rn=0,vn=(rt||at)&&vt.vertical,bn=vt.metrics.advance*vt.scale/2;if(at&&Ne.verticalizable&&(rn=dt.lineOffset/2-(vt.imageName?-(24-vt.metrics.width*vt.scale)/2:24*(vt.scale-1))),vt.imageName){var Cn=ot[vt.imageName];Rt=Cn.sdf,Dt=1/(Bt=Cn.pixelRatio)}var Tn=rt?[vt.x+bn,vt.y]:[0,0],In=rt?[0,0]:[vt.x+bn+tt[0],vt.y+tt[1]-rn],Mn=[0,0];vn&&(Mn=In,In=[0,0]);var zn=(vt.metrics.left-Dt)*vt.scale-bn+In[0],Ln=(-vt.metrics.top-Dt)*vt.scale+In[1],Fn=zn+Ot.w*vt.scale/Bt,Bn=Ln+Ot.h*vt.scale/Bt,Nn=new et(zn,Ln),Vn=new et(Fn,Ln),Wn=new et(zn,Bn),$n=new et(Fn,Bn);if(vn){var Yn=new et(-bn,bn- -17),er=-Math.PI/2,rr=12-bn,vr=new et(22-rr,-(vt.imageName?rr:0)),wr=new(Function.prototype.bind.apply(et,[null].concat(Mn)));Nn._rotateAround(er,Yn)._add(vr)._add(wr),Vn._rotateAround(er,Yn)._add(vr)._add(wr),Wn._rotateAround(er,Yn)._add(vr)._add(wr),$n._rotateAround(er,Yn)._add(vr)._add(wr)}if(st){var Sr=Math.sin(st),ii=Math.cos(st),qi=[ii,-Sr,Sr,ii];Nn._matMult(qi),Vn._matMult(qi),Wn._matMult(qi),$n._matMult(qi)}var uo=new et(0,0),po=new et(0,0);ct.push({tl:Nn,tr:Vn,bl:Wn,br:$n,tex:Ot,writingMode:Ne.writingMode,glyphOffset:Tn,sectionIndex:vt.sectionIndex,isSDF:Rt,pixelOffsetTL:uo,pixelOffsetBR:po,minFontScaleX:0,minFontScaleY:0})}}return ct}(0,tt,at,rt,it,ot,nt,w.allowVerticalPlacement),Ot=w.textSizeData,Dt=null;"source"===Ot.kind?(Dt=[128*rt.layout.get("text-size").evaluate(ot,{})])[0]>32640&&_(w.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Ot.kind&&((Dt=[128*mt.compositeTextSizes[0].evaluate(ot,{},yt),128*mt.compositeTextSizes[1].evaluate(ot,{},yt)])[0]>32640||Dt[1]>32640)&&_(w.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),w.addSymbols(w.text,vt,Dt,at,it,ot,ct,Ne,st.lineStartIndex,st.lineLength,dt,yt);for(var Rt=0,Bt=pt;Rt<Bt.length;Rt+=1)ft[Bt[Rt]]=w.text.placedSymbolArray.length-1;return 4*vt.length}function il(w){for(var Ne in w)return w[Ne];return null}function al(w,Ne,et,tt){var nt=w.compareText;if(Ne in nt){for(var rt=nt[Ne],it=rt.length-1;it>=0;it--)if(tt.dist(rt[it])<et)return!0}else nt[Ne]=[];return nt[Ne].push(tt),!1}var ph=Ap.VectorTileFeature.types,mh=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ul(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft){var dt=ot?Math.min(32640,Math.round(ot[0])):0,mt=ot?Math.min(32640,Math.round(ot[1])):0;w.emplaceBack(Ne,et,Math.round(32*tt),Math.round(32*nt),rt,it,(dt<<1)+(at?1:0),mt,16*st,16*ct,256*pt,256*ft)}function ll(w,Ne,et){w.emplaceBack(Ne.x,Ne.y,et),w.emplaceBack(Ne.x,Ne.y,et),w.emplaceBack(Ne.x,Ne.y,et),w.emplaceBack(Ne.x,Ne.y,et)}function pl(w){for(var Ne=0,et=w.sections;Ne<et.length;Ne+=1)if(Hn(et[Ne].text))return!0;return!1}var cl=function(w){this.layoutVertexArray=new wl,this.indexArray=new Fl,this.programConfigurations=w,this.segments=new aa,this.dynamicLayoutVertexArray=new Sl,this.opacityVertexArray=new kl,this.placedSymbolArray=new xc};cl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},cl.prototype.upload=function(w,Ne,et,tt){this.isEmpty()||(et&&(this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,qp.members),this.indexBuffer=w.createIndexBuffer(this.indexArray,Ne),this.dynamicLayoutVertexBuffer=w.createVertexBuffer(this.dynamicLayoutVertexArray,Wp.members,!0),this.opacityVertexBuffer=w.createVertexBuffer(this.opacityVertexArray,mh,!0),this.opacityVertexBuffer.itemSize=1),(et||tt)&&this.programConfigurations.upload(w))},cl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Dn("SymbolBuffers",cl);var hl=function(w,Ne,et){this.layoutVertexArray=new w,this.layoutAttributes=Ne,this.indexArray=new et,this.segments=new aa,this.collisionVertexArray=new zl};hl.prototype.upload=function(w){this.layoutVertexBuffer=w.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=w.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=w.createVertexBuffer(this.collisionVertexArray,Hp.members,!0)},hl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Dn("CollisionBuffers",hl);var fl=function(w){this.collisionBoxArray=w.collisionBoxArray,this.zoom=w.zoom,this.overscaling=w.overscaling,this.layers=w.layers,this.layerIds=this.layers.map((function(w){return w.id})),this.index=w.index,this.pixelRatio=w.pixelRatio,this.sourceLayerIndex=w.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=no([]),this.placementViewportMatrix=no([]);var Ne=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Pu(this.zoom,Ne["text-size"]),this.iconSizeData=Pu(this.zoom,Ne["icon-size"]);var et=this.layers[0].layout,tt=et.get("symbol-sort-key"),nt=et.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==nt&&void 0!==tt.constantOr(1),this.sortFeaturesByY=("viewport-y"===nt||"auto"===nt&&!this.sortFeaturesByKey)&&(et.get("text-allow-overlap")||et.get("icon-allow-overlap")||et.get("text-ignore-placement")||et.get("icon-ignore-placement")),"point"===et.get("symbol-placement")&&(this.writingModes=et.get("text-writing-mode").map((function(w){return Jp[w]}))),this.stateDependentLayerIds=this.layers.filter((function(w){return w.isStateDependent()})).map((function(w){return w.id})),this.sourceID=w.sourceID};fl.prototype.createArrays=function(){this.text=new cl(new Pa(this.layers,this.zoom,(function(w){return/^text/.test(w)}))),this.icon=new cl(new Pa(this.layers,this.zoom,(function(w){return/^icon/.test(w)}))),this.glyphOffsetArray=new kc,this.lineVertexArray=new Cc,this.symbolInstances=new Ec},fl.prototype.calculateGlyphDependencies=function(w,Ne,et,tt,nt){for(var rt=0;rt<w.length;rt++)if(Ne[w.charCodeAt(rt)]=!0,(et||tt)&&nt){var it=Xp[w.charAt(rt)];it&&(Ne[it.charCodeAt(0)]=!0)}},fl.prototype.populate=function(w,Ne,et){var tt=this.layers[0],nt=tt.layout,rt=nt.get("text-font"),it=nt.get("text-field"),ot=nt.get("icon-image"),at=("constant"!==it.value.kind||it.value.value instanceof ee&&!it.value.value.isEmpty()||it.value.value.toString().length>0)&&("constant"!==rt.value.kind||rt.value.value.length>0),st="constant"!==ot.value.kind||!!ot.value.value||Object.keys(ot.parameters).length>0,ct=nt.get("symbol-sort-key");if(this.features=[],at||st){for(var pt=Ne.iconDependencies,ft=Ne.glyphDependencies,dt=Ne.availableImages,mt=new ai(this.zoom),yt=0,vt=w;yt<vt.length;yt+=1){var Ot=vt[yt],Dt=Ot.feature,Rt=Ot.id,Bt=Ot.index,rn=Ot.sourceLayerIndex,vn=tt._featureFilter.needGeometry,bn={type:Dt.type,id:Rt,properties:Dt.properties,geometry:vn?La(Dt):[]};if(tt._featureFilter.filter(mt,bn,et)){vn||(bn.geometry=La(Dt));var Cn=void 0;if(at){var Tn=tt.getValueAndResolveTokens("text-field",bn,et,dt),In=ee.factory(Tn);pl(In)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ri()||this.hasRTLText&&ol.isParsed())&&(Cn=qs(In,tt,bn))}var Mn=void 0;if(st){var zn=tt.getValueAndResolveTokens("icon-image",bn,et,dt);Mn=zn instanceof re?zn:re.fromString(zn)}if(Cn||Mn){var Ln=this.sortFeaturesByKey?ct.evaluate(bn,{},et):void 0,Fn={id:Rt,text:Cn,icon:Mn,index:Bt,sourceLayerIndex:rn,geometry:La(Dt),properties:Dt.properties,type:ph[Dt.type],sortKey:Ln};if(this.features.push(Fn),Mn&&(pt[Mn.name]=!0),Cn){var Bn=rt.evaluate(bn,{},et).join(","),Nn="map"===nt.get("text-rotation-alignment")&&"point"!==nt.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Jp.vertical)>=0;for(var Vn=0,Wn=Cn.sections;Vn<Wn.length;Vn+=1){var $n=Wn[Vn];if($n.image)pt[$n.image.name]=!0;else{var Yn=Kn(Cn.toString()),er=$n.fontStack||Bn,rr=ft[er]=ft[er]||{};this.calculateGlyphDependencies($n.text,rr,Nn,this.allowVerticalPlacement,Yn)}}}}}}"line"===nt.get("symbol-placement")&&(this.features=function(w){var Ne={},et={},tt=[],nt=0;function a(Ne){tt.push(w[Ne]),nt++}function o(w,Ne,nt){var rt=et[w];return delete et[w],et[Ne]=rt,tt[rt].geometry[0].pop(),tt[rt].geometry[0]=tt[rt].geometry[0].concat(nt[0]),rt}function s(w,et,nt){var rt=Ne[et];return delete Ne[et],Ne[w]=rt,tt[rt].geometry[0].shift(),tt[rt].geometry[0]=nt[0].concat(tt[rt].geometry[0]),rt}function u(w,Ne,et){var tt=et?Ne[0][Ne[0].length-1]:Ne[0][0];return w+":"+tt.x+":"+tt.y}for(var rt=0;rt<w.length;rt++){var it=w[rt],ot=it.geometry,at=it.text?it.text.toString():null;if(at){var st=u(at,ot),ct=u(at,ot,!0);if(st in et&&ct in Ne&&et[st]!==Ne[ct]){var pt=s(st,ct,ot),ft=o(st,ct,tt[pt].geometry);delete Ne[st],delete et[ct],et[u(at,tt[ft].geometry,!0)]=ft,tt[pt].geometry=null}else st in et?o(st,ct,ot):ct in Ne?s(st,ct,ot):(a(rt),Ne[st]=nt-1,et[ct]=nt-1)}else a(rt)}return tt.filter((function(w){return w.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(w,Ne){return w.sortKey-Ne.sortKey}))}},fl.prototype.update=function(w,Ne,et){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(w,Ne,this.layers,et),this.icon.programConfigurations.updatePaintArrays(w,Ne,this.layers,et))},fl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},fl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},fl.prototype.upload=function(w){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(w),this.iconCollisionBox.upload(w)),this.text.upload(w,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(w,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},fl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},fl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},fl.prototype.addToLineVertexArray=function(w,Ne){var et=this.lineVertexArray.length;if(void 0!==w.segment){for(var tt=w.dist(Ne[w.segment+1]),nt=w.dist(Ne[w.segment]),rt={},it=w.segment+1;it<Ne.length;it++)rt[it]={x:Ne[it].x,y:Ne[it].y,tileUnitDistanceFromAnchor:tt},it<Ne.length-1&&(tt+=Ne[it+1].dist(Ne[it]));for(var ot=w.segment||0;ot>=0;ot--)rt[ot]={x:Ne[ot].x,y:Ne[ot].y,tileUnitDistanceFromAnchor:nt},ot>0&&(nt+=Ne[ot-1].dist(Ne[ot]));for(var at=0;at<Ne.length;at++){var st=rt[at];this.lineVertexArray.emplaceBack(st.x,st.y,st.tileUnitDistanceFromAnchor)}}return{lineStartIndex:et,lineLength:this.lineVertexArray.length-et}},fl.prototype.addSymbols=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){for(var ft=w.indexArray,dt=w.layoutVertexArray,mt=w.segments.prepareSegment(4*Ne.length,dt,ft,rt.sortKey),yt=this.glyphOffsetArray.length,vt=mt.vertexLength,Ot=this.allowVerticalPlacement&&it===Jp.vertical?Math.PI/2:0,Dt=rt.text&&rt.text.sections,Rt=0;Rt<Ne.length;Rt++){var Bt=Ne[Rt],rn=Bt.tl,vn=Bt.tr,bn=Bt.bl,Cn=Bt.br,Tn=Bt.tex,In=Bt.pixelOffsetTL,Mn=Bt.pixelOffsetBR,zn=Bt.minFontScaleX,Ln=Bt.minFontScaleY,Fn=Bt.glyphOffset,Bn=Bt.isSDF,Nn=Bt.sectionIndex,Vn=mt.vertexLength,Wn=Fn[1];ul(dt,ot.x,ot.y,rn.x,Wn+rn.y,Tn.x,Tn.y,et,Bn,In.x,In.y,zn,Ln),ul(dt,ot.x,ot.y,vn.x,Wn+vn.y,Tn.x+Tn.w,Tn.y,et,Bn,Mn.x,In.y,zn,Ln),ul(dt,ot.x,ot.y,bn.x,Wn+bn.y,Tn.x,Tn.y+Tn.h,et,Bn,In.x,Mn.y,zn,Ln),ul(dt,ot.x,ot.y,Cn.x,Wn+Cn.y,Tn.x+Tn.w,Tn.y+Tn.h,et,Bn,Mn.x,Mn.y,zn,Ln),ll(w.dynamicLayoutVertexArray,ot,Ot),ft.emplaceBack(Vn,Vn+1,Vn+2),ft.emplaceBack(Vn+1,Vn+2,Vn+3),mt.vertexLength+=4,mt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Fn[0]),Rt!==Ne.length-1&&Nn===Ne[Rt+1].sectionIndex||w.programConfigurations.populatePaintArrays(dt.length,rt,rt.index,{},pt,Dt&&Dt[Nn])}w.placedSymbolArray.emplaceBack(ot.x,ot.y,yt,this.glyphOffsetArray.length-yt,vt,at,st,ot.segment,et?et[0]:0,et?et[1]:0,tt[0],tt[1],it,0,!1,0,ct)},fl.prototype._addCollisionDebugVertex=function(w,Ne,et,tt,nt,rt){return Ne.emplaceBack(0,0),w.emplaceBack(et.x,et.y,tt,nt,Math.round(rt.x),Math.round(rt.y))},fl.prototype.addCollisionDebugVertices=function(w,Ne,tt,nt,rt,it,ot){var at=rt.segments.prepareSegment(4,rt.layoutVertexArray,rt.indexArray),st=at.vertexLength,ct=rt.layoutVertexArray,pt=rt.collisionVertexArray,ft=ot.anchorX,dt=ot.anchorY;this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(w,Ne)),this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(tt,Ne)),this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(tt,nt)),this._addCollisionDebugVertex(ct,pt,it,ft,dt,new et(w,nt)),at.vertexLength+=4;var mt=rt.indexArray;mt.emplaceBack(st,st+1),mt.emplaceBack(st+1,st+2),mt.emplaceBack(st+2,st+3),mt.emplaceBack(st+3,st),at.primitiveLength+=4},fl.prototype.addDebugCollisionBoxes=function(w,Ne,et,tt){for(var nt=w;nt<Ne;nt++){var rt=this.collisionBoxArray.get(nt);this.addCollisionDebugVertices(rt.x1,rt.y1,rt.x2,rt.y2,tt?this.textCollisionBox:this.iconCollisionBox,rt.anchorPoint,et)}},fl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hl(Il,Gp.members,Tu),this.iconCollisionBox=new hl(Il,Gp.members,Tu);for(var w=0;w<this.symbolInstances.length;w++){var Ne=this.symbolInstances.get(w);this.addDebugCollisionBoxes(Ne.textBoxStartIndex,Ne.textBoxEndIndex,Ne,!0),this.addDebugCollisionBoxes(Ne.verticalTextBoxStartIndex,Ne.verticalTextBoxEndIndex,Ne,!0),this.addDebugCollisionBoxes(Ne.iconBoxStartIndex,Ne.iconBoxEndIndex,Ne,!1),this.addDebugCollisionBoxes(Ne.verticalIconBoxStartIndex,Ne.verticalIconBoxEndIndex,Ne,!1)}},fl.prototype._deserializeCollisionBoxesForSymbol=function(w,Ne,et,tt,nt,rt,it,ot,at){for(var st={},ct=Ne;ct<et;ct++){var pt=w.get(ct);st.textBox={x1:pt.x1,y1:pt.y1,x2:pt.x2,y2:pt.y2,anchorPointX:pt.anchorPointX,anchorPointY:pt.anchorPointY},st.textFeatureIndex=pt.featureIndex;break}for(var ft=tt;ft<nt;ft++){var dt=w.get(ft);st.verticalTextBox={x1:dt.x1,y1:dt.y1,x2:dt.x2,y2:dt.y2,anchorPointX:dt.anchorPointX,anchorPointY:dt.anchorPointY},st.verticalTextFeatureIndex=dt.featureIndex;break}for(var mt=rt;mt<it;mt++){var yt=w.get(mt);st.iconBox={x1:yt.x1,y1:yt.y1,x2:yt.x2,y2:yt.y2,anchorPointX:yt.anchorPointX,anchorPointY:yt.anchorPointY},st.iconFeatureIndex=yt.featureIndex;break}for(var vt=ot;vt<at;vt++){var Ot=w.get(vt);st.verticalIconBox={x1:Ot.x1,y1:Ot.y1,x2:Ot.x2,y2:Ot.y2,anchorPointX:Ot.anchorPointX,anchorPointY:Ot.anchorPointY},st.verticalIconFeatureIndex=Ot.featureIndex;break}return st},fl.prototype.deserializeCollisionBoxes=function(w){this.collisionArrays=[];for(var Ne=0;Ne<this.symbolInstances.length;Ne++){var et=this.symbolInstances.get(Ne);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(w,et.textBoxStartIndex,et.textBoxEndIndex,et.verticalTextBoxStartIndex,et.verticalTextBoxEndIndex,et.iconBoxStartIndex,et.iconBoxEndIndex,et.verticalIconBoxStartIndex,et.verticalIconBoxEndIndex))}},fl.prototype.hasTextData=function(){return this.text.segments.get().length>0},fl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},fl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},fl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},fl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},fl.prototype.addIndicesForPlacedSymbol=function(w,Ne){for(var et=w.placedSymbolArray.get(Ne),tt=et.vertexStartIndex+4*et.numGlyphs,nt=et.vertexStartIndex;nt<tt;nt+=4)w.indexArray.emplaceBack(nt,nt+1,nt+2),w.indexArray.emplaceBack(nt+1,nt+2,nt+3)},fl.prototype.getSortedSymbolIndexes=function(w){if(this.sortedAngle===w&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var Ne=Math.sin(w),et=Math.cos(w),tt=[],nt=[],rt=[],it=0;it<this.symbolInstances.length;++it){rt.push(it);var ot=this.symbolInstances.get(it);tt.push(0|Math.round(Ne*ot.anchorX+et*ot.anchorY)),nt.push(ot.featureIndex)}return rt.sort((function(w,Ne){return tt[w]-tt[Ne]||nt[Ne]-nt[w]})),rt},fl.prototype.addToSortKeyRanges=function(w,Ne){var et=this.sortKeyRanges[this.sortKeyRanges.length-1];et&&et.sortKey===Ne?et.symbolInstanceEnd=w+1:this.sortKeyRanges.push({sortKey:Ne,symbolInstanceStart:w,symbolInstanceEnd:w+1})},fl.prototype.sortFeatures=function(w){var Ne=this;if(this.sortFeaturesByY&&this.sortedAngle!==w&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(w),this.sortedAngle=w,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var et=0,tt=this.symbolInstanceIndexes;et<tt.length;et+=1){var nt=this.symbolInstances.get(tt[et]);this.featureSortOrder.push(nt.featureIndex),[nt.rightJustifiedTextSymbolIndex,nt.centerJustifiedTextSymbolIndex,nt.leftJustifiedTextSymbolIndex].forEach((function(w,et,tt){w>=0&&tt.indexOf(w)===et&&Ne.addIndicesForPlacedSymbol(Ne.text,w)})),nt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,nt.verticalPlacedTextSymbolIndex),nt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,nt.placedIconSymbolIndex),nt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,nt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Dn("SymbolBucket",fl,{omit:["layers","collisionBoxArray","features","compareText"]}),fl.MAX_GLYPHS=65535,fl.addDynamicAttributes=ll;var _h=new xi({"symbol-placement":new yi(wr.layout_symbol["symbol-placement"]),"symbol-spacing":new yi(wr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yi(wr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new di(wr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yi(wr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yi(wr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new yi(wr.layout_symbol["icon-ignore-placement"]),"icon-optional":new yi(wr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yi(wr.layout_symbol["icon-rotation-alignment"]),"icon-size":new di(wr.layout_symbol["icon-size"]),"icon-text-fit":new yi(wr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yi(wr.layout_symbol["icon-text-fit-padding"]),"icon-image":new di(wr.layout_symbol["icon-image"]),"icon-rotate":new di(wr.layout_symbol["icon-rotate"]),"icon-padding":new yi(wr.layout_symbol["icon-padding"]),"icon-keep-upright":new yi(wr.layout_symbol["icon-keep-upright"]),"icon-offset":new di(wr.layout_symbol["icon-offset"]),"icon-anchor":new di(wr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yi(wr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yi(wr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yi(wr.layout_symbol["text-rotation-alignment"]),"text-field":new di(wr.layout_symbol["text-field"]),"text-font":new di(wr.layout_symbol["text-font"]),"text-size":new di(wr.layout_symbol["text-size"]),"text-max-width":new di(wr.layout_symbol["text-max-width"]),"text-line-height":new yi(wr.layout_symbol["text-line-height"]),"text-letter-spacing":new di(wr.layout_symbol["text-letter-spacing"]),"text-justify":new di(wr.layout_symbol["text-justify"]),"text-radial-offset":new di(wr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yi(wr.layout_symbol["text-variable-anchor"]),"text-anchor":new di(wr.layout_symbol["text-anchor"]),"text-max-angle":new yi(wr.layout_symbol["text-max-angle"]),"text-writing-mode":new yi(wr.layout_symbol["text-writing-mode"]),"text-rotate":new di(wr.layout_symbol["text-rotate"]),"text-padding":new yi(wr.layout_symbol["text-padding"]),"text-keep-upright":new yi(wr.layout_symbol["text-keep-upright"]),"text-transform":new di(wr.layout_symbol["text-transform"]),"text-offset":new di(wr.layout_symbol["text-offset"]),"text-allow-overlap":new yi(wr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new yi(wr.layout_symbol["text-ignore-placement"]),"text-optional":new yi(wr.layout_symbol["text-optional"])}),bh={paint:new xi({"icon-opacity":new di(wr.paint_symbol["icon-opacity"]),"icon-color":new di(wr.paint_symbol["icon-color"]),"icon-halo-color":new di(wr.paint_symbol["icon-halo-color"]),"icon-halo-width":new di(wr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new di(wr.paint_symbol["icon-halo-blur"]),"icon-translate":new yi(wr.paint_symbol["icon-translate"]),"icon-translate-anchor":new yi(wr.paint_symbol["icon-translate-anchor"]),"text-opacity":new di(wr.paint_symbol["text-opacity"]),"text-color":new di(wr.paint_symbol["text-color"],{runtimeType:vo,getOverride:function(w){return w.textColor},hasOverride:function(w){return!!w.textColor}}),"text-halo-color":new di(wr.paint_symbol["text-halo-color"]),"text-halo-width":new di(wr.paint_symbol["text-halo-width"]),"text-halo-blur":new di(wr.paint_symbol["text-halo-blur"]),"text-translate":new yi(wr.paint_symbol["text-translate"]),"text-translate-anchor":new yi(wr.paint_symbol["text-translate-anchor"])}),layout:_h},ml=function(w){this.type=w.property.overrides?w.property.overrides.runtimeType:ii,this.defaultValue=w};ml.prototype.evaluate=function(w){if(w.formattedSection){var Ne=this.defaultValue.property.overrides;if(Ne&&Ne.hasOverride(w.formattedSection))return Ne.getOverride(w.formattedSection)}return w.feature&&w.featureState?this.defaultValue.evaluate(w.feature,w.featureState):this.defaultValue.property.specification.default},ml.prototype.eachChild=function(w){this.defaultValue.isConstant()||w(this.defaultValue.value._styleExpression.expression)},ml.prototype.outputDefined=function(){return!1},ml.prototype.serialize=function(){return null},Dn("FormatSectionOverride",ml,{omit:["defaultValue"]});var kh=function(w){function e(Ne){w.call(this,Ne,bh)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.recalculate=function(Ne,et){if(w.prototype.recalculate.call(this,Ne,et),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var tt=this.layout.get("text-writing-mode");if(tt){for(var nt=[],rt=0,it=tt;rt<it.length;rt+=1){var ot=it[rt];nt.indexOf(ot)<0&&nt.push(ot)}this.layout._values["text-writing-mode"]=nt}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(w,Ne,et,tt){var nt=this.layout.get(w).evaluate(Ne,{},et,tt),rt=this._unevaluatedLayout._values[w];return rt.isDataDriven()||Nr(rt.value)||!nt?nt:function(w,Ne){return Ne.replace(/{([^{}]+)}/g,(function(Ne,et){return et in w?String(w[et]):""}))}(Ne.properties,nt)},e.prototype.createBucket=function(w){return new fl(w)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var w=0,Ne=bh.paint.overridableProperties;w<Ne.length;w+=1){var et=Ne[w];if(e.hasPaintOverride(this.layout,et)){var tt,nt=this.paint.get(et),rt=new ml(nt),it=new qr(rt,nt.property.specification);tt="constant"===nt.value.kind||"source"===nt.value.kind?new Gr("source",it):new Zr("composite",it,nt.value.zoomStops,nt.value._interpolationType),this.paint._values[et]=new hi(nt.property,tt,nt.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(w,Ne,et){return!(!this.layout||Ne.isDataDriven()||et.isDataDriven())&&e.hasPaintOverride(this.layout,w)},e.hasPaintOverride=function(w,Ne){var et=w.get("text-field"),tt=bh.paint.properties[Ne],nt=!1,a=function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(tt.overrides&&tt.overrides.hasOverride(et[Ne]))return void(nt=!0)};if("constant"===et.value.kind&&et.value.value instanceof ee)a(et.value.value.sections);else if("source"===et.value.kind){var o=function(w){nt||(w instanceof se&&ae(w.value)===ia?a(w.value.sections):w instanceof ce?a(w.sections):w.eachChild(o))},rt=et.value;rt._styleExpression&&o(rt._styleExpression.expression)}return nt},e}(dl),Ph={paint:new xi({"background-color":new yi(wr.paint_background["background-color"]),"background-pattern":new vi(wr.paint_background["background-pattern"]),"background-opacity":new yi(wr.paint_background["background-opacity"])})},Oh=function(w){function e(Ne){w.call(this,Ne,Ph)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(dl),jh={paint:new xi({"raster-opacity":new yi(wr.paint_raster["raster-opacity"]),"raster-hue-rotate":new yi(wr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yi(wr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yi(wr.paint_raster["raster-brightness-max"]),"raster-saturation":new yi(wr.paint_raster["raster-saturation"]),"raster-contrast":new yi(wr.paint_raster["raster-contrast"]),"raster-resampling":new yi(wr.paint_raster["raster-resampling"]),"raster-fade-duration":new yi(wr.paint_raster["raster-fade-duration"])})},qh=function(w){function e(Ne){w.call(this,Ne,jh)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(dl),Yh=function(w){function e(Ne){w.call(this,Ne,{}),this.implementation=Ne}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(w){this.implementation.onAdd&&this.implementation.onAdd(w,w.painter.context.gl)},e.prototype.onRemove=function(w){this.implementation.onRemove&&this.implementation.onRemove(w,w.painter.context.gl)},e}(dl),Qh={circle:mp,heatmap:vp,hillshade:bp,fill:Cp,"fill-extrusion":Lp,line:Up,symbol:kh,background:Oh,raster:qh},ef=tt.HTMLImageElement,tf=tt.HTMLCanvasElement,nf=tt.HTMLVideoElement,rf=tt.ImageData,af=tt.ImageBitmap,Ml=function(w,Ne,et,tt){this.context=w,this.format=et,this.texture=w.gl.createTexture(),this.update(Ne,tt)};Ml.prototype.update=function(w,Ne,et){var tt=w.width,nt=w.height,rt=!(this.size&&this.size[0]===tt&&this.size[1]===nt||et),it=this.context,ot=it.gl;if(this.useMipmap=Boolean(Ne&&Ne.useMipmap),ot.bindTexture(ot.TEXTURE_2D,this.texture),it.pixelStoreUnpackFlipY.set(!1),it.pixelStoreUnpack.set(1),it.pixelStoreUnpackPremultiplyAlpha.set(this.format===ot.RGBA&&(!Ne||!1!==Ne.premultiply)),rt)this.size=[tt,nt],w instanceof ef||w instanceof tf||w instanceof nf||w instanceof rf||af&&w instanceof af?ot.texImage2D(ot.TEXTURE_2D,0,this.format,this.format,ot.UNSIGNED_BYTE,w):ot.texImage2D(ot.TEXTURE_2D,0,this.format,tt,nt,0,this.format,ot.UNSIGNED_BYTE,w.data);else{var at=et||{x:0,y:0},st=at.x,ct=at.y;w instanceof ef||w instanceof tf||w instanceof nf||w instanceof rf||af&&w instanceof af?ot.texSubImage2D(ot.TEXTURE_2D,0,st,ct,ot.RGBA,ot.UNSIGNED_BYTE,w):ot.texSubImage2D(ot.TEXTURE_2D,0,st,ct,tt,nt,ot.RGBA,ot.UNSIGNED_BYTE,w.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ot.generateMipmap(ot.TEXTURE_2D)},Ml.prototype.bind=function(w,Ne,et){var tt=this.context.gl;tt.bindTexture(tt.TEXTURE_2D,this.texture),et!==tt.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(et=tt.LINEAR),w!==this.filter&&(tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,w),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,et||w),this.filter=w),Ne!==this.wrap&&(tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,Ne),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,Ne),this.wrap=Ne)},Ml.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ml.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var El=function(w){var Ne=this;this._callback=w,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){Ne._triggered=!1,Ne._callback()})};El.prototype.trigger=function(){var w=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){w._triggered=!1,w._callback()}),0))},El.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Tl=function(w,Ne,et){this.target=w,this.parent=Ne,this.mapId=et,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new El(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k()?w:tt};function Pl(w,Ne,et){var tt=2*Math.PI*6378137/256/Math.pow(2,et);return[w*tt-2*Math.PI*6378137/2,Ne*tt-2*Math.PI*6378137/2]}Tl.prototype.send=function(w,Ne,et,tt,nt){var rt=this;void 0===nt&&(nt=!1);var it=Math.round(1e18*Math.random()).toString(36).substring(0,10);et&&(this.callbacks[it]=et);var ot=C(this.globalScope)?void 0:[];return this.target.postMessage({id:it,type:w,hasCallback:!!et,targetMapId:tt,mustQueue:nt,sourceMapId:this.mapId,data:Un(Ne,ot)},ot),{cancel:function(){et&&delete rt.callbacks[it],rt.target.postMessage({id:it,type:"<cancel>",targetMapId:tt,sourceMapId:rt.mapId})}}},Tl.prototype.receive=function(w){var Ne=w.data,et=Ne.id;if(et&&(!Ne.targetMapId||this.mapId===Ne.targetMapId))if("<cancel>"===Ne.type){delete this.tasks[et];var tt=this.cancelCallbacks[et];delete this.cancelCallbacks[et],tt&&tt()}else k()||Ne.mustQueue?(this.tasks[et]=Ne,this.taskQueue.push(et),this.invoker.trigger()):this.processTask(et,Ne)},Tl.prototype.process=function(){if(this.taskQueue.length){var w=this.taskQueue.shift(),Ne=this.tasks[w];delete this.tasks[w],this.taskQueue.length&&this.invoker.trigger(),Ne&&this.processTask(w,Ne)}},Tl.prototype.processTask=function(w,Ne){var et=this;if("<response>"===Ne.type){var tt=this.callbacks[w];delete this.callbacks[w],tt&&(Ne.error?tt(jn(Ne.error)):tt(null,jn(Ne.data)))}else{var nt=!1,rt=C(this.globalScope)?void 0:[],it=Ne.hasCallback?function(Ne,tt){nt=!0,delete et.cancelCallbacks[w],et.target.postMessage({id:w,type:"<response>",sourceMapId:et.mapId,error:Ne?Un(Ne):null,data:Un(tt,rt)},rt)}:function(w){nt=!0},ot=null,at=jn(Ne.data);if(this.parent[Ne.type])ot=this.parent[Ne.type](Ne.sourceMapId,at,it);else if(this.parent.getWorkerSource){var st=Ne.type.split(".");ot=this.parent.getWorkerSource(Ne.sourceMapId,st[0],at.source)[st[1]](at,it)}else it(new Error("Could not find function "+Ne.type));!nt&&ot&&ot.cancel&&(this.cancelCallbacks[w]=ot.cancel)}},Tl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Bl=function(w,Ne){w&&(Ne?this.setSouthWest(w).setNorthEast(Ne):4===w.length?this.setSouthWest([w[0],w[1]]).setNorthEast([w[2],w[3]]):this.setSouthWest(w[0]).setNorthEast(w[1]))};Bl.prototype.setNorthEast=function(w){return this._ne=w instanceof Vl?new Vl(w.lng,w.lat):Vl.convert(w),this},Bl.prototype.setSouthWest=function(w){return this._sw=w instanceof Vl?new Vl(w.lng,w.lat):Vl.convert(w),this},Bl.prototype.extend=function(w){var Ne,et,tt=this._sw,nt=this._ne;if(w instanceof Vl)Ne=w,et=w;else{if(!(w instanceof Bl))return Array.isArray(w)?4===w.length||w.every(Array.isArray)?this.extend(Bl.convert(w)):this.extend(Vl.convert(w)):this;if(et=w._ne,!(Ne=w._sw)||!et)return this}return tt||nt?(tt.lng=Math.min(Ne.lng,tt.lng),tt.lat=Math.min(Ne.lat,tt.lat),nt.lng=Math.max(et.lng,nt.lng),nt.lat=Math.max(et.lat,nt.lat)):(this._sw=new Vl(Ne.lng,Ne.lat),this._ne=new Vl(et.lng,et.lat)),this},Bl.prototype.getCenter=function(){return new Vl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Bl.prototype.getSouthWest=function(){return this._sw},Bl.prototype.getNorthEast=function(){return this._ne},Bl.prototype.getNorthWest=function(){return new Vl(this.getWest(),this.getNorth())},Bl.prototype.getSouthEast=function(){return new Vl(this.getEast(),this.getSouth())},Bl.prototype.getWest=function(){return this._sw.lng},Bl.prototype.getSouth=function(){return this._sw.lat},Bl.prototype.getEast=function(){return this._ne.lng},Bl.prototype.getNorth=function(){return this._ne.lat},Bl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Bl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Bl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Bl.prototype.contains=function(w){var Ne=Vl.convert(w),et=Ne.lng,tt=Ne.lat,nt=this._sw.lng<=et&&et<=this._ne.lng;return this._sw.lng>this._ne.lng&&(nt=this._sw.lng>=et&&et>=this._ne.lng),this._sw.lat<=tt&&tt<=this._ne.lat&&nt},Bl.convert=function(w){return!w||w instanceof Bl?w:new Bl(w)};var Vl=function(w,Ne){if(isNaN(w)||isNaN(Ne))throw new Error("Invalid LngLat object: ("+w+", "+Ne+")");if(this.lng=+w,this.lat=+Ne,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Vl.prototype.wrap=function(){return new Vl(p(this.lng,-180,180),this.lat)},Vl.prototype.toArray=function(){return[this.lng,this.lat]},Vl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Vl.prototype.distanceTo=function(w){var Ne=Math.PI/180,et=this.lat*Ne,tt=w.lat*Ne,nt=Math.sin(et)*Math.sin(tt)+Math.cos(et)*Math.cos(tt)*Math.cos((w.lng-this.lng)*Ne);return 6371008.8*Math.acos(Math.min(nt,1))},Vl.prototype.toBounds=function(w){void 0===w&&(w=0);var Ne=360*w/40075017,et=Ne/Math.cos(Math.PI/180*this.lat);return new Bl(new Vl(this.lng-et,this.lat-Ne),new Vl(this.lng+et,this.lat+Ne))},Vl.convert=function(w){if(w instanceof Vl)return w;if(Array.isArray(w)&&(2===w.length||3===w.length))return new Vl(Number(w[0]),Number(w[1]));if(!Array.isArray(w)&&"object"==typeof w&&null!==w)return new Vl(Number("lng"in w?w.lng:w.lon),Number(w.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var sf=2*Math.PI*6371008.8;function Dl(w){return sf*Math.cos(w*Math.PI/180)}function Ll(w){return(180+w)/360}function Rl(w){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+w*Math.PI/360)))/360}function Ol(w,Ne){return w/Dl(Ne)}function Ul(w){return 360/Math.PI*Math.atan(Math.exp((180-360*w)*Math.PI/180))-90}var jl=function(w,Ne,et){void 0===et&&(et=0),this.x=+w,this.y=+Ne,this.z=+et};jl.fromLngLat=function(w,Ne){void 0===Ne&&(Ne=0);var et=Vl.convert(w);return new jl(Ll(et.lng),Rl(et.lat),Ol(Ne,et.lat))},jl.prototype.toLngLat=function(){return new Vl(360*this.x-180,Ul(this.y))},jl.prototype.toAltitude=function(){return this.z*Dl(Ul(this.y))},jl.prototype.meterInMercatorCoordinateUnits=function(){return 1/sf*(w=Ul(this.y),1/Math.cos(w*Math.PI/180));var w};var ql=function(w,Ne,et){this.z=w,this.x=Ne,this.y=et,this.key=Gl(0,w,w,Ne,et)};ql.prototype.equals=function(w){return this.z===w.z&&this.x===w.x&&this.y===w.y},ql.prototype.url=function(w,Ne){var et,tt,nt,rt,it,ot=(tt=this.y,nt=this.z,rt=Pl(256*(et=this.x),256*(tt=Math.pow(2,nt)-tt-1),nt),it=Pl(256*(et+1),256*(tt+1),nt),rt[0]+","+rt[1]+","+it[0]+","+it[1]),at=function(w,Ne,et){for(var tt,nt="",rt=w;rt>0;rt--)nt+=(Ne&(tt=1<<rt-1)?1:0)+(et&tt?2:0);return nt}(this.z,this.x,this.y);return w[(this.x+this.y)%w.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===Ne?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",at).replace("{bbox-epsg-3857}",ot)},ql.prototype.getTilePoint=function(w){var Ne=Math.pow(2,this.z);return new et(8192*(w.x*Ne-this.x),8192*(w.y*Ne-this.y))},ql.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Nl=function(w,Ne){this.wrap=w,this.canonical=Ne,this.key=Gl(w,Ne.z,Ne.z,Ne.x,Ne.y)},Kl=function(w,Ne,et,tt,nt){this.overscaledZ=w,this.wrap=Ne,this.canonical=new ql(et,+tt,+nt),this.key=Gl(Ne,w,et,tt,nt)};function Gl(w,Ne,et,tt,nt){(w*=2)<0&&(w=-1*w-1);var rt=1<<et;return(rt*rt*w+rt*nt+tt).toString(36)+et.toString(36)+Ne.toString(36)}Kl.prototype.equals=function(w){return this.overscaledZ===w.overscaledZ&&this.wrap===w.wrap&&this.canonical.equals(w.canonical)},Kl.prototype.scaledTo=function(w){var Ne=this.canonical.z-w;return w>this.canonical.z?new Kl(w,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Kl(w,this.wrap,w,this.canonical.x>>Ne,this.canonical.y>>Ne)},Kl.prototype.calculateScaledKey=function(w,Ne){var et=this.canonical.z-w;return w>this.canonical.z?Gl(this.wrap*+Ne,w,this.canonical.z,this.canonical.x,this.canonical.y):Gl(this.wrap*+Ne,w,w,this.canonical.x>>et,this.canonical.y>>et)},Kl.prototype.isChildOf=function(w){if(w.wrap!==this.wrap)return!1;var Ne=this.canonical.z-w.canonical.z;return 0===w.overscaledZ||w.overscaledZ<this.overscaledZ&&w.canonical.x===this.canonical.x>>Ne&&w.canonical.y===this.canonical.y>>Ne},Kl.prototype.children=function(w){if(this.overscaledZ>=w)return[new Kl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var Ne=this.canonical.z+1,et=2*this.canonical.x,tt=2*this.canonical.y;return[new Kl(Ne,this.wrap,Ne,et,tt),new Kl(Ne,this.wrap,Ne,et+1,tt),new Kl(Ne,this.wrap,Ne,et,tt+1),new Kl(Ne,this.wrap,Ne,et+1,tt+1)]},Kl.prototype.isLessThan=function(w){return this.wrap<w.wrap||!(this.wrap>w.wrap)&&(this.overscaledZ<w.overscaledZ||!(this.overscaledZ>w.overscaledZ)&&(this.canonical.x<w.canonical.x||!(this.canonical.x>w.canonical.x)&&this.canonical.y<w.canonical.y))},Kl.prototype.wrapped=function(){return new Kl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.unwrapTo=function(w){return new Kl(this.overscaledZ,w,this.canonical.z,this.canonical.x,this.canonical.y)},Kl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Kl.prototype.toUnwrapped=function(){return new Nl(this.wrap,this.canonical)},Kl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Kl.prototype.getTilePoint=function(w){return this.canonical.getTilePoint(new jl(w.x-this.wrap,w.y))},Dn("CanonicalTileID",ql),Dn("OverscaledTileID",Kl,{omit:["posMatrix"]});var Zl=function(w,Ne,et){if(this.uid=w,Ne.height!==Ne.width)throw new RangeError("DEM tiles must be square");if(et&&"mapbox"!==et&&"terrarium"!==et)return _('"'+et+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=Ne.height;var tt=this.dim=Ne.height-2;this.data=new Uint32Array(Ne.data.buffer),this.encoding=et||"mapbox";for(var nt=0;nt<tt;nt++)this.data[this._idx(-1,nt)]=this.data[this._idx(0,nt)],this.data[this._idx(tt,nt)]=this.data[this._idx(tt-1,nt)],this.data[this._idx(nt,-1)]=this.data[this._idx(nt,0)],this.data[this._idx(nt,tt)]=this.data[this._idx(nt,tt-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(tt,-1)]=this.data[this._idx(tt-1,0)],this.data[this._idx(-1,tt)]=this.data[this._idx(0,tt-1)],this.data[this._idx(tt,tt)]=this.data[this._idx(tt-1,tt-1)]};Zl.prototype.get=function(w,Ne){var et=new Uint8Array(this.data.buffer),tt=4*this._idx(w,Ne);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(et[tt],et[tt+1],et[tt+2])},Zl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Zl.prototype._idx=function(w,Ne){if(w<-1||w>=this.dim+1||Ne<-1||Ne>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(Ne+1)*this.stride+(w+1)},Zl.prototype._unpackMapbox=function(w,Ne,et){return(256*w*256+256*Ne+et)/10-1e4},Zl.prototype._unpackTerrarium=function(w,Ne,et){return 256*w+Ne+et/256-32768},Zl.prototype.getPixels=function(){return new mo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Zl.prototype.backfillBorder=function(w,Ne,et){if(this.dim!==w.dim)throw new Error("dem dimension mismatch");var tt=Ne*this.dim,nt=Ne*this.dim+this.dim,rt=et*this.dim,it=et*this.dim+this.dim;switch(Ne){case-1:tt=nt-1;break;case 1:nt=tt+1}switch(et){case-1:rt=it-1;break;case 1:it=rt+1}for(var ot=-Ne*this.dim,at=-et*this.dim,st=rt;st<it;st++)for(var ct=tt;ct<nt;ct++)this.data[this._idx(ct,st)]=w.data[this._idx(ct+ot,st+at)]},Dn("DEMData",Zl);var Xl=function(w){this._stringToNumber={},this._numberToString=[];for(var Ne=0;Ne<w.length;Ne++){var et=w[Ne];this._stringToNumber[et]=Ne,this._numberToString[Ne]=et}};Xl.prototype.encode=function(w){return this._stringToNumber[w]},Xl.prototype.decode=function(w){return this._numberToString[w]};var Jl=function(w,Ne,et,tt,nt){this.type="Feature",this._vectorTileFeature=w,w._z=Ne,w._x=et,w._y=tt,this.properties=w.properties,this.id=nt},lf={geometry:{configurable:!0}};lf.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},lf.geometry.set=function(w){this._geometry=w},Jl.prototype.toJSON=function(){var w={geometry:this.geometry};for(var Ne in this)"_geometry"!==Ne&&"_vectorTileFeature"!==Ne&&(w[Ne]=this[Ne]);return w},Object.defineProperties(Jl.prototype,lf);var Yl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Yl.prototype.updateState=function(w,Ne,et){var tt=String(Ne);if(this.stateChanges[w]=this.stateChanges[w]||{},this.stateChanges[w][tt]=this.stateChanges[w][tt]||{},c(this.stateChanges[w][tt],et),null===this.deletedStates[w])for(var nt in this.deletedStates[w]={},this.state[w])nt!==tt&&(this.deletedStates[w][nt]=null);else if(this.deletedStates[w]&&null===this.deletedStates[w][tt])for(var rt in this.deletedStates[w][tt]={},this.state[w][tt])et[rt]||(this.deletedStates[w][tt][rt]=null);else for(var it in et)this.deletedStates[w]&&this.deletedStates[w][tt]&&null===this.deletedStates[w][tt][it]&&delete this.deletedStates[w][tt][it]},Yl.prototype.removeFeatureState=function(w,Ne,et){if(null!==this.deletedStates[w]){var tt=String(Ne);if(this.deletedStates[w]=this.deletedStates[w]||{},et&&void 0!==Ne)null!==this.deletedStates[w][tt]&&(this.deletedStates[w][tt]=this.deletedStates[w][tt]||{},this.deletedStates[w][tt][et]=null);else if(void 0!==Ne)if(this.stateChanges[w]&&this.stateChanges[w][tt])for(et in this.deletedStates[w][tt]={},this.stateChanges[w][tt])this.deletedStates[w][tt][et]=null;else this.deletedStates[w][tt]=null;else this.deletedStates[w]=null}},Yl.prototype.getState=function(w,Ne){var et=String(Ne),tt=c({},(this.state[w]||{})[et],(this.stateChanges[w]||{})[et]);if(null===this.deletedStates[w])return{};if(this.deletedStates[w]){var nt=this.deletedStates[w][Ne];if(null===nt)return{};for(var rt in nt)delete tt[rt]}return tt},Yl.prototype.initializeTileState=function(w,Ne){w.setFeatureState(this.state,Ne)},Yl.prototype.coalesceChanges=function(w,Ne){var et={};for(var tt in this.stateChanges){this.state[tt]=this.state[tt]||{};var nt={};for(var rt in this.stateChanges[tt])this.state[tt][rt]||(this.state[tt][rt]={}),c(this.state[tt][rt],this.stateChanges[tt][rt]),nt[rt]=this.state[tt][rt];et[tt]=nt}for(var it in this.deletedStates){this.state[it]=this.state[it]||{};var ot={};if(null===this.deletedStates[it])for(var at in this.state[it])ot[at]={},this.state[it][at]={};else for(var st in this.deletedStates[it]){if(null===this.deletedStates[it][st])this.state[it][st]={};else for(var ct=0,pt=Object.keys(this.deletedStates[it][st]);ct<pt.length;ct+=1)delete this.state[it][st][pt[ct]];ot[st]=this.state[it][st]}et[it]=et[it]||{},c(et[it],ot)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(et).length)for(var ft in w)w[ft].setFeatureState(et,Ne)};var $l=function(w,Ne){this.tileID=w,this.x=w.canonical.x,this.y=w.canonical.y,this.z=w.canonical.z,this.grid=new Rs(8192,16,0),this.grid3D=new Rs(8192,16,0),this.featureIndexArray=new Ac,this.promoteId=Ne};function Wl(w,Ne,et,tt,nt){return g(w,(function(w,rt){var it=Ne instanceof fi?Ne.get(rt):null;return it&&it.evaluate?it.evaluate(et,tt,nt):it}))}function Ql(w){for(var Ne=1/0,et=1/0,tt=-1/0,nt=-1/0,rt=0,it=w;rt<it.length;rt+=1){var ot=it[rt];Ne=Math.min(Ne,ot.x),et=Math.min(et,ot.y),tt=Math.max(tt,ot.x),nt=Math.max(nt,ot.y)}return{minX:Ne,minY:et,maxX:tt,maxY:nt}}function tp(w,Ne){return Ne-w}$l.prototype.insert=function(w,Ne,et,tt,nt,rt){var it=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(et,tt,nt);for(var ot=rt?this.grid3D:this.grid,at=0;at<Ne.length;at++){for(var st=Ne[at],ct=[1/0,1/0,-1/0,-1/0],pt=0;pt<st.length;pt++){var ft=st[pt];ct[0]=Math.min(ct[0],ft.x),ct[1]=Math.min(ct[1],ft.y),ct[2]=Math.max(ct[2],ft.x),ct[3]=Math.max(ct[3],ft.y)}ct[0]<8192&&ct[1]<8192&&ct[2]>=0&&ct[3]>=0&&ot.insert(it,ct[0],ct[1],ct[2],ct[3])}},$l.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ap.VectorTile(new $p(this.rawTileData)).layers,this.sourceLayerCoder=new Xl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},$l.prototype.query=function(w,Ne,tt,nt){var rt=this;this.loadVTLayers();for(var it=w.params||{},ot=8192/w.tileSize/w.scale,at=nn(it.filter),st=w.queryGeometry,ct=w.queryPadding*ot,pt=Ql(st),ft=this.grid.query(pt.minX-ct,pt.minY-ct,pt.maxX+ct,pt.maxY+ct),dt=Ql(w.cameraQueryGeometry),mt=0,yt=this.grid3D.query(dt.minX-ct,dt.minY-ct,dt.maxX+ct,dt.maxY+ct,(function(Ne,tt,nt,rt){return function(w,Ne,tt,nt,rt){for(var it=0,ot=w;it<ot.length;it+=1){var at=ot[it];if(Ne<=at.x&&tt<=at.y&&nt>=at.x&&rt>=at.y)return!0}var st=[new et(Ne,tt),new et(Ne,rt),new et(nt,rt),new et(nt,tt)];if(w.length>2)for(var ct=0,pt=st;ct<pt.length;ct+=1)if(Ha(w,pt[ct]))return!0;for(var ft=0;ft<w.length-1;ft++)if(Ya(w[ft],w[ft+1],st))return!0;return!1}(w.cameraQueryGeometry,Ne-ct,tt-ct,nt+ct,rt+ct)}));mt<yt.length;mt+=1)ft.push(yt[mt]);ft.sort(tp);for(var vt,Ot={},x=function(et){var ct=ft[et];if(ct!==vt){vt=ct;var pt=rt.featureIndexArray.get(ct),dt=null;rt.loadMatchingFeature(Ot,pt.bucketIndex,pt.sourceLayerIndex,pt.featureIndex,at,it.layers,it.availableImages,Ne,tt,nt,(function(Ne,et,tt){return dt||(dt=La(Ne)),et.queryIntersectsFeature(st,Ne,tt,dt,rt.z,w.transform,ot,w.pixelPosMatrix)}))}},Dt=0;Dt<ft.length;Dt++)x(Dt);return Ot},$l.prototype.loadMatchingFeature=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct){var pt=this.bucketLayerIDs[Ne];if(!rt||function(w,Ne){for(var et=0;et<w.length;et++)if(Ne.indexOf(w[et])>=0)return!0;return!1}(rt,pt)){var ft=this.sourceLayerCoder.decode(et),dt=this.vtLayers[ft].feature(tt);if(nt.filter(new ai(this.tileID.overscaledZ),dt))for(var mt=this.getId(dt,ft),yt=0;yt<pt.length;yt++){var vt=pt[yt];if(!(rt&&rt.indexOf(vt)<0)){var Ot=ot[vt];if(Ot){var Dt={};void 0!==mt&&st&&(Dt=st.getState(Ot.sourceLayer||"_geojsonTileLayer",mt));var Rt=at[vt];Rt.paint=Wl(Rt.paint,Ot.paint,dt,Dt,it),Rt.layout=Wl(Rt.layout,Ot.layout,dt,Dt,it);var Bt=!ct||ct(dt,Ot,Dt);if(Bt){var rn=new Jl(dt,this.z,this.x,this.y,mt);rn.layer=Rt;var vn=w[vt];void 0===vn&&(vn=w[vt]=[]),vn.push({featureIndex:tt,feature:rn,intersectionZ:Bt})}}}}}},$l.prototype.lookupSymbolFeatures=function(w,Ne,et,tt,nt,rt,it,ot){var at={};this.loadVTLayers();for(var st=nn(nt),ct=0,pt=w;ct<pt.length;ct+=1)this.loadMatchingFeature(at,et,tt,pt[ct],st,rt,it,ot,Ne);return at},$l.prototype.hasLayer=function(w){for(var Ne=0,et=this.bucketLayerIDs;Ne<et.length;Ne+=1)for(var tt=0,nt=et[Ne];tt<nt.length;tt+=1)if(w===nt[tt])return!0;return!1},$l.prototype.getId=function(w,Ne){var et=w.id;return this.promoteId&&"boolean"==typeof(et=w.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[Ne]])&&(et=Number(et)),et},Dn("FeatureIndex",$l,{omit:["rawTileData","sourceLayerCoder"]});var ep=function(w,Ne){this.tileID=w,this.uid=f(),this.uses=0,this.tileSize=Ne,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ep.prototype.registerFadeDuration=function(w){var Ne=w+this.timeAdded;Ne<yt.now()||this.fadeEndTime&&Ne<this.fadeEndTime||(this.fadeEndTime=Ne)},ep.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ep.prototype.loadVectorData=function(w,Ne,et){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",w){for(var tt in w.featureIndex&&(this.latestFeatureIndex=w.featureIndex,w.rawTileData?(this.latestRawTileData=w.rawTileData,this.latestFeatureIndex.rawTileData=w.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=w.collisionBoxArray,this.buckets=function(w,Ne){var et={};if(!Ne)return et;for(var n=function(){var w=nt[tt],rt=w.layerIds.map((function(w){return Ne.getLayer(w)})).filter(Boolean);if(0!==rt.length){w.layers=rt,w.stateDependentLayerIds&&(w.stateDependentLayers=w.stateDependentLayerIds.map((function(w){return rt.filter((function(Ne){return Ne.id===w}))[0]})));for(var it=0,ot=rt;it<ot.length;it+=1)et[ot[it].id]=w}},tt=0,nt=w;tt<nt.length;tt+=1)n();return et}(w.buckets,Ne.style),this.hasSymbolBuckets=!1,this.buckets){var nt=this.buckets[tt];if(nt instanceof fl){if(this.hasSymbolBuckets=!0,!et)break;nt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var rt in this.buckets){var it=this.buckets[rt];if(it instanceof fl&&it.hasRTLText){this.hasRTLText=!0,ol.isLoading()||ol.isLoaded()||"deferred"!==ri()||ni();break}}for(var ot in this.queryPadding=0,this.buckets){var at=this.buckets[ot];this.queryPadding=Math.max(this.queryPadding,Ne.style.getLayer(ot).queryRadius(at))}w.imageAtlas&&(this.imageAtlas=w.imageAtlas),w.glyphAtlasImage&&(this.glyphAtlasImage=w.glyphAtlasImage)}else this.collisionBoxArray=new _c},ep.prototype.unloadVectorData=function(){for(var w in this.buckets)this.buckets[w].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ep.prototype.getBucket=function(w){return this.buckets[w.id]},ep.prototype.upload=function(w){for(var Ne in this.buckets){var et=this.buckets[Ne];et.uploadPending()&&et.upload(w)}var tt=w.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ml(w,this.imageAtlas.image,tt.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ml(w,this.glyphAtlasImage,tt.ALPHA),this.glyphAtlasImage=null)},ep.prototype.prepare=function(w){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(w,this.imageAtlasTexture)},ep.prototype.queryRenderedFeatures=function(w,Ne,et,tt,nt,rt,it,ot,at,st){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:tt,cameraQueryGeometry:nt,scale:rt,tileSize:this.tileSize,pixelPosMatrix:st,transform:ot,params:it,queryPadding:this.queryPadding*at},w,Ne,et):{}},ep.prototype.querySourceFeatures=function(w,Ne){var et=this.latestFeatureIndex;if(et&&et.rawTileData){var tt=et.loadVTLayers(),nt=Ne?Ne.sourceLayer:"",rt=tt._geojsonTileLayer||tt[nt];if(rt)for(var it=nn(Ne&&Ne.filter),ot=this.tileID.canonical,at=ot.z,st=ot.x,ct=ot.y,pt={z:at,x:st,y:ct},ft=0;ft<rt.length;ft++){var dt=rt.feature(ft);if(it.filter(new ai(this.tileID.overscaledZ),dt)){var mt=et.getId(dt,nt),yt=new Jl(dt,at,st,ct,mt);yt.tile=pt,w.push(yt)}}}},ep.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ep.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ep.prototype.setExpiryData=function(w){var Ne=this.expirationTime;if(w.cacheControl){var et=I(w.cacheControl);et["max-age"]&&(this.expirationTime=Date.now()+1e3*et["max-age"])}else w.expires&&(this.expirationTime=new Date(w.expires).getTime());if(this.expirationTime){var tt=Date.now(),nt=!1;if(this.expirationTime>tt)nt=!1;else if(Ne)if(this.expirationTime<Ne)nt=!0;else{var rt=this.expirationTime-Ne;rt?this.expirationTime=tt+Math.max(rt,3e4):nt=!0}else nt=!0;nt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ep.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ep.prototype.setFeatureState=function(w,Ne){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(w).length){var et=this.latestFeatureIndex.loadVTLayers();for(var tt in this.buckets)if(Ne.style.hasLayer(tt)){var nt=this.buckets[tt],rt=nt.layers[0].sourceLayer||"_geojsonTileLayer",it=et[rt],ot=w[rt];if(it&&ot&&0!==Object.keys(ot).length){nt.update(ot,it,this.imageAtlas&&this.imageAtlas.patternPositions||{});var at=Ne&&Ne.style&&Ne.style.getLayer(tt);at&&(this.queryPadding=Math.max(this.queryPadding,at.queryRadius(nt)))}}}},ep.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ep.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<yt.now()},ep.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ep.prototype.setHoldDuration=function(w){this.symbolFadeHoldUntil=yt.now()+w},ep.prototype.setDependencies=function(w,Ne){for(var et={},tt=0,nt=Ne;tt<nt.length;tt+=1)et[nt[tt]]=!0;this.dependencies[w]=et},ep.prototype.hasDependency=function(w,Ne){for(var et=0,tt=w;et<tt.length;et+=1){var nt=this.dependencies[tt[et]];if(nt)for(var rt=0,it=Ne;rt<it.length;rt+=1)if(nt[it[rt]])return!0}return!1};var uf=tt.performance,np=function(w){this._marks={start:[w.url,"start"].join("#"),end:[w.url,"end"].join("#"),measure:w.url.toString()},uf.mark(this._marks.start)};np.prototype.finish=function(){uf.mark(this._marks.end);var w=uf.getEntriesByName(this._marks.measure);return 0===w.length&&(uf.measure(this._marks.measure,this._marks.start,this._marks.end),w=uf.getEntriesByName(this._marks.measure),uf.clearMarks(this._marks.start),uf.clearMarks(this._marks.end),uf.clearMeasures(this._marks.measure)),w},w.Actor=Tl,w.AlphaImage=yo,w.CanonicalTileID=ql,w.CollisionBoxArray=_c,w.Color=Wt,w.DEMData=Zl,w.DataConstantProperty=yi,w.DictionaryCoder=Xl,w.EXTENT=8192,w.ErrorEvent=vr,w.EvaluationParameters=ai,w.Event=St,w.Evented=It,w.FeatureIndex=$l,w.FillBucket=is,w.FillExtrusionBucket=ws,w.ImageAtlas=mu,w.ImagePosition=yu,w.LineBucket=Ts,w.LngLat=Vl,w.LngLatBounds=Bl,w.MercatorCoordinate=jl,w.ONE_EM=24,w.OverscaledTileID=Kl,w.Point=et,w.Point$1=et,w.Properties=xi,w.Protobuf=$p,w.RGBAImage=mo,w.RequestManager=K,w.RequestPerformance=np,w.ResourceType=Wn,w.SegmentVector=aa,w.SourceFeatureState=Yl,w.StructArrayLayout1ui2=Fu,w.StructArrayLayout2f1f2i16=Al,w.StructArrayLayout2i4=gl,w.StructArrayLayout3ui6=Fl,w.StructArrayLayout4i8=vl,w.SymbolBucket=fl,w.Texture=Ml,w.Tile=ep,w.Transitionable=ui,w.Uniform1f=Xc,w.Uniform1i=Zc,w.Uniform2f=$c,w.Uniform3f=Yc,w.Uniform4f=rp,w.UniformColor=ip,w.UniformMatrix4f=ap,w.UnwrappedTileID=Nl,w.ValidationError=Ct,w.WritingMode=Jp,w.ZoomHistory=qn,w.add=function(w,Ne,et){return w[0]=Ne[0]+et[0],w[1]=Ne[1]+et[1],w[2]=Ne[2]+et[2],w},w.addDynamicAttributes=ll,w.asyncAll=function(w,Ne,et){if(!w.length)return et(null,[]);var tt=w.length,nt=new Array(w.length),rt=null;w.forEach((function(w,it){Ne(w,(function(w,Ne){w&&(rt=w),nt[it]=Ne,0==--tt&&et(rt,nt)}))}))},w.bezier=s,w.bindAll=m,w.browser=yt,w.cacheEntryPossiblyAdded=function(w){++Vn>Bn&&(w.getActor().send("enforceCacheSizeLimit",Fn),Vn=0)},w.clamp=l,w.clearTileCache=function(w){var Ne=tt.caches.delete("mapbox-tiles");w&&Ne.catch(w).then((function(){return w()}))},w.clipLine=qu,w.clone=function(w){var Ne=new hp(16);return Ne[0]=w[0],Ne[1]=w[1],Ne[2]=w[2],Ne[3]=w[3],Ne[4]=w[4],Ne[5]=w[5],Ne[6]=w[6],Ne[7]=w[7],Ne[8]=w[8],Ne[9]=w[9],Ne[10]=w[10],Ne[11]=w[11],Ne[12]=w[12],Ne[13]=w[13],Ne[14]=w[14],Ne[15]=w[15],Ne},w.clone$1=b,w.clone$2=function(w){var Ne=new hp(3);return Ne[0]=w[0],Ne[1]=w[1],Ne[2]=w[2],Ne},w.collisionCircleLayout=Zp,w.config=vt,w.create=function(){var w=new hp(16);return hp!=Float32Array&&(w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=0,w[12]=0,w[13]=0,w[14]=0),w[0]=1,w[5]=1,w[10]=1,w[15]=1,w},w.create$1=function(){var w=new hp(9);return hp!=Float32Array&&(w[1]=0,w[2]=0,w[3]=0,w[5]=0,w[6]=0,w[7]=0),w[0]=1,w[4]=1,w[8]=1,w},w.create$2=function(){var w=new hp(4);return hp!=Float32Array&&(w[1]=0,w[2]=0),w[0]=1,w[3]=1,w},w.createCommonjsModule=e,w.createExpression=Kr,w.createLayout=Si,w.createStyleLayer=function(w){return"custom"===w.type?new Yh(w):new Qh[w.type](w)},w.cross=function(w,Ne,et){var tt=Ne[0],nt=Ne[1],rt=Ne[2],it=et[0],ot=et[1],at=et[2];return w[0]=nt*at-rt*ot,w[1]=rt*it-tt*at,w[2]=tt*ot-nt*it,w},w.deepEqual=function t(w,Ne){if(Array.isArray(w)){if(!Array.isArray(Ne)||w.length!==Ne.length)return!1;for(var et=0;et<w.length;et++)if(!t(w[et],Ne[et]))return!1;return!0}if("object"==typeof w&&null!==w&&null!==Ne){if("object"!=typeof Ne)return!1;if(Object.keys(w).length!==Object.keys(Ne).length)return!1;for(var tt in w)if(!t(w[tt],Ne[tt]))return!1;return!0}return w===Ne},w.dot=function(w,Ne){return w[0]*Ne[0]+w[1]*Ne[1]+w[2]*Ne[2]},w.dot$1=function(w,Ne){return w[0]*Ne[0]+w[1]*Ne[1]+w[2]*Ne[2]+w[3]*Ne[3]},w.ease=nt,w.emitValidationErrors=En,w.endsWith=v,w.enforceCacheSizeLimit=function(w){ut(),bn&&bn.then((function(Ne){Ne.keys().then((function(et){for(var tt=0;tt<et.length-w;tt++)Ne.delete(et[tt])}))}))},w.evaluateSizeForFeature=Bu,w.evaluateSizeForZoom=Vu,w.evaluateVariableOffset=el,w.evented=tl,w.extend=c,w.featureFilter=nn,w.filterObject=x,w.fromRotation=function(w,Ne){var et=Math.sin(Ne),tt=Math.cos(Ne);return w[0]=tt,w[1]=et,w[2]=0,w[3]=-et,w[4]=tt,w[5]=0,w[6]=0,w[7]=0,w[8]=1,w},w.getAnchorAlignment=Cu,w.getAnchorJustification=rl,w.getArrayBuffer=xt,w.getImage=wt,w.getJSON=function(w,Ne){return gt(c(w,{type:"json"}),Ne)},w.getRTLTextPluginStatus=ri,w.getReferrer=rr,w.getVideo=function(w,Ne){var et,nt,rt=tt.document.createElement("video");rt.muted=!0,rt.onloadstart=function(){Ne(null,rt)};for(var it=0;it<w.length;it++){var ot=tt.document.createElement("source");et=w[it],nt=void 0,(nt=tt.document.createElement("a")).href=et,(nt.protocol!==tt.document.location.protocol||nt.host!==tt.document.location.host)&&(rt.crossOrigin="Anonymous"),ot.src=w[it],rt.appendChild(ot)}return{cancel:function(){}}},w.identity=no,w.invert=function(w,Ne){var et=Ne[0],tt=Ne[1],nt=Ne[2],rt=Ne[3],it=Ne[4],ot=Ne[5],at=Ne[6],st=Ne[7],ct=Ne[8],pt=Ne[9],ft=Ne[10],dt=Ne[11],mt=Ne[12],yt=Ne[13],vt=Ne[14],Ot=Ne[15],Dt=et*ot-tt*it,Rt=et*at-nt*it,Bt=et*st-rt*it,rn=tt*at-nt*ot,vn=tt*st-rt*ot,bn=nt*st-rt*at,Cn=ct*yt-pt*mt,Tn=ct*vt-ft*mt,In=ct*Ot-dt*mt,Mn=pt*vt-ft*yt,zn=pt*Ot-dt*yt,Ln=ft*Ot-dt*vt,Fn=Dt*Ln-Rt*zn+Bt*Mn+rn*In-vn*Tn+bn*Cn;return Fn?(w[0]=(ot*Ln-at*zn+st*Mn)*(Fn=1/Fn),w[1]=(nt*zn-tt*Ln-rt*Mn)*Fn,w[2]=(yt*bn-vt*vn+Ot*rn)*Fn,w[3]=(ft*vn-pt*bn-dt*rn)*Fn,w[4]=(at*In-it*Ln-st*Tn)*Fn,w[5]=(et*Ln-nt*In+rt*Tn)*Fn,w[6]=(vt*Bt-mt*bn-Ot*Rt)*Fn,w[7]=(ct*bn-ft*Bt+dt*Rt)*Fn,w[8]=(it*zn-ot*In+st*Cn)*Fn,w[9]=(tt*In-et*zn-rt*Cn)*Fn,w[10]=(mt*vn-yt*Bt+Ot*Dt)*Fn,w[11]=(pt*Bt-ct*vn-dt*Dt)*Fn,w[12]=(ot*Tn-it*Mn-at*Cn)*Fn,w[13]=(et*Mn-tt*Tn+nt*Cn)*Fn,w[14]=(yt*Rt-mt*rn-vt*Dt)*Fn,w[15]=(ct*rn-pt*Rt+ft*Dt)*Fn,w):null},w.isChar=Vs,w.isMapboxURL=G,w.keysDifference=function(w,Ne){var et=[];for(var tt in w)tt in Ne||et.push(tt);return et},w.makeRequest=gt,w.mapObject=g,w.mercatorXfromLng=Ll,w.mercatorYfromLat=Rl,w.mercatorZfromAltitude=Ol,w.mul=dp,w.multiply=io,w.mvt=Ap,w.normalize=function(w,Ne){var et=Ne[0],tt=Ne[1],nt=Ne[2],rt=et*et+tt*tt+nt*nt;return rt>0&&(rt=1/Math.sqrt(rt)),w[0]=Ne[0]*rt,w[1]=Ne[1]*rt,w[2]=Ne[2]*rt,w},w.number=qe,w.offscreenCanvasSupported=ht,w.ortho=function(w,Ne,et,tt,nt,rt,it){var ot=1/(Ne-et),at=1/(tt-nt),st=1/(rt-it);return w[0]=-2*ot,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=-2*at,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[10]=2*st,w[11]=0,w[12]=(Ne+et)*ot,w[13]=(nt+tt)*at,w[14]=(it+rt)*st,w[15]=1,w},w.parseGlyphPBF=function(w){return new $p(w).readFields(pu,[])},w.pbf=$p,w.performSymbolLayout=function(w,Ne,et,tt,nt,rt,it){w.createArrays(),w.tilePixelRatio=8192/(512*w.overscaling),w.compareText={},w.iconsNeedLinear=!1;var ot=w.layers[0].layout,at=w.layers[0]._unevaluatedLayout._values,st={};if("composite"===w.textSizeData.kind){var ct=w.textSizeData,pt=ct.maxZoom;st.compositeTextSizes=[at["text-size"].possiblyEvaluate(new ai(ct.minZoom),it),at["text-size"].possiblyEvaluate(new ai(pt),it)]}if("composite"===w.iconSizeData.kind){var ft=w.iconSizeData,dt=ft.maxZoom;st.compositeIconSizes=[at["icon-size"].possiblyEvaluate(new ai(ft.minZoom),it),at["icon-size"].possiblyEvaluate(new ai(dt),it)]}st.layoutTextSize=at["text-size"].possiblyEvaluate(new ai(w.zoom+1),it),st.layoutIconSize=at["icon-size"].possiblyEvaluate(new ai(w.zoom+1),it),st.textMaxSize=at["text-size"].possiblyEvaluate(new ai(18));for(var mt=24*ot.get("text-line-height"),yt="map"===ot.get("text-rotation-alignment")&&"point"!==ot.get("symbol-placement"),vt=ot.get("text-keep-upright"),Ot=ot.get("text-size"),g=function(){var rt=Rt[Dt],at=ot.get("text-font").evaluate(rt,{},it).join(","),ct=Ot.evaluate(rt,{},it),pt=st.layoutTextSize.evaluate(rt,{},it),ft=st.layoutIconSize.evaluate(rt,{},it),dt={horizontal:{},vertical:void 0},Bt=rt.text,rn=[0,0];if(Bt){var vn=Bt.toString(),bn=24*ot.get("text-letter-spacing").evaluate(rt,{},it),Cn=function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1)if(tt=et[Ne].charCodeAt(0),Vs.Arabic(tt)||Vs["Arabic Supplement"](tt)||Vs["Arabic Extended-A"](tt)||Vs["Arabic Presentation Forms-A"](tt)||Vs["Arabic Presentation Forms-B"](tt))return!1;var tt;return!0}(vn)?bn:0,Tn=ot.get("text-anchor").evaluate(rt,{},it),In=ot.get("text-variable-anchor");if(!In){var Mn=ot.get("text-radial-offset").evaluate(rt,{},it);rn=Mn?el(Tn,[24*Mn,lh]):ot.get("text-offset").evaluate(rt,{},it).map((function(w){return 24*w}))}var zn=yt?"center":ot.get("text-justify").evaluate(rt,{},it),Ln=ot.get("symbol-placement"),Fn="point"===Ln?24*ot.get("text-max-width").evaluate(rt,{},it):0,P=function(){w.allowVerticalPlacement&&Kn(vn)&&(dt.vertical=bu(Bt,Ne,et,nt,at,Fn,mt,Tn,"left",Cn,rn,Jp.vertical,!0,Ln,pt,ct))};if(!yt&&In){for(var Bn="auto"===zn?In.map((function(w){return rl(w)})):[zn],Nn=!1,Vn=0;Vn<Bn.length;Vn++){var Wn=Bn[Vn];if(!dt.horizontal[Wn])if(Nn)dt.horizontal[Wn]=dt.horizontal[0];else{var $n=bu(Bt,Ne,et,nt,at,Fn,mt,"center",Wn,Cn,rn,Jp.horizontal,!1,Ln,pt,ct);$n&&(dt.horizontal[Wn]=$n,Nn=1===$n.positionedLines.length)}}P()}else{"auto"===zn&&(zn=rl(Tn));var Yn=bu(Bt,Ne,et,nt,at,Fn,mt,Tn,zn,Cn,rn,Jp.horizontal,!1,Ln,pt,ct);Yn&&(dt.horizontal[zn]=Yn),P(),Kn(vn)&&yt&&vt&&(dt.vertical=bu(Bt,Ne,et,nt,at,Fn,mt,Tn,zn,Cn,rn,Jp.vertical,!1,Ln,pt,ct))}}var er=void 0,rr=!1;if(rt.icon&&rt.icon.name){var vr=tt[rt.icon.name];vr&&(er=function(w,Ne,et){var tt=Cu(et),nt=Ne[0]-w.displaySize[0]*tt.horizontalAlign,rt=Ne[1]-w.displaySize[1]*tt.verticalAlign;return{image:w,top:rt,bottom:rt+w.displaySize[1],left:nt,right:nt+w.displaySize[0]}}(nt[rt.icon.name],ot.get("icon-offset").evaluate(rt,{},it),ot.get("icon-anchor").evaluate(rt,{},it)),rr=vr.sdf,void 0===w.sdfIcons?w.sdfIcons=vr.sdf:w.sdfIcons!==vr.sdf&&_("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vr.pixelRatio!==w.pixelRatio||0!==ot.get("icon-rotate").constantOr(1))&&(w.iconsNeedLinear=!0))}var wr=il(dt.horizontal)||dt.vertical;w.iconsInText=!!wr&&wr.iconsInText,(wr||er)&&function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct){var pt=rt.textMaxSize.evaluate(Ne,{});void 0===pt&&(pt=it);var ft,dt=w.layers[0].layout,mt=dt.get("icon-offset").evaluate(Ne,{},ct),yt=il(et.horizontal),vt=it/24,Ot=w.tilePixelRatio*vt,Dt=w.tilePixelRatio*pt/24,Rt=w.tilePixelRatio*ot,Bt=w.tilePixelRatio*dt.get("symbol-spacing"),rn=dt.get("text-padding")*w.tilePixelRatio,vn=dt.get("icon-padding")*w.tilePixelRatio,bn=dt.get("text-max-angle")/180*Math.PI,Cn="map"===dt.get("text-rotation-alignment")&&"point"!==dt.get("symbol-placement"),Tn="map"===dt.get("icon-rotation-alignment")&&"point"!==dt.get("symbol-placement"),In=dt.get("symbol-placement"),Mn=Bt/2,zn=dt.get("icon-text-fit");tt&&"none"!==zn&&(w.allowVerticalPlacement&&et.vertical&&(ft=Eu(tt,et.vertical,zn,dt.get("icon-text-fit-padding"),mt,vt)),yt&&(tt=Eu(tt,yt,zn,dt.get("icon-text-fit-padding"),mt,vt)));var E=function(ot,pt){pt.x<0||pt.x>=8192||pt.y<0||pt.y>=8192||function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt,vt,Ot,Dt,Rt,Bt,rn,vn,bn,Cn){var Tn,In,Mn,zn,Ln,Fn=w.addToLineVertexArray(Ne,et),Bn=0,Nn=0,Vn=0,Wn=0,$n=-1,Yn=-1,er={},rr=Wc(""),vr=0,wr=0;if(void 0===ot._unevaluatedLayout.getValue("text-radial-offset")?(vr=(Tn=ot.layout.get("text-offset").evaluate(Bt,{},bn).map((function(w){return 24*w})))[0],wr=Tn[1]):(vr=24*ot.layout.get("text-radial-offset").evaluate(Bt,{},bn),wr=lh),w.allowVerticalPlacement&&tt.vertical){var Sr=ot.layout.get("text-rotate").evaluate(Bt,{},bn)+90;zn=new Ju(at,Ne,st,ct,pt,tt.vertical,ft,dt,mt,Sr),it&&(Ln=new Ju(at,Ne,st,ct,pt,it,vt,Ot,mt,Sr))}if(nt){var ii=ot.layout.get("icon-rotate").evaluate(Bt,{}),qi="none"!==ot.layout.get("icon-text-fit"),uo=Nu(nt,ii,vn,qi),po=it?Nu(it,ii,vn,qi):void 0;Mn=new Ju(at,Ne,st,ct,pt,nt,vt,Ot,!1,ii),Bn=4*uo.length;var vo=w.iconSizeData,So=null;"source"===vo.kind?(So=[128*ot.layout.get("icon-size").evaluate(Bt,{})])[0]>32640&&_(w.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===vo.kind&&((So=[128*rn.compositeIconSizes[0].evaluate(Bt,{},bn),128*rn.compositeIconSizes[1].evaluate(Bt,{},bn)])[0]>32640||So[1]>32640)&&_(w.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),w.addSymbols(w.icon,uo,So,Rt,Dt,Bt,!1,Ne,Fn.lineStartIndex,Fn.lineLength,-1,bn),$n=w.icon.placedSymbolArray.length-1,po&&(Nn=4*po.length,w.addSymbols(w.icon,po,So,Rt,Dt,Bt,Jp.vertical,Ne,Fn.lineStartIndex,Fn.lineLength,-1,bn),Yn=w.icon.placedSymbolArray.length-1)}for(var ta in tt.horizontal){var na=tt.horizontal[ta];if(!In){rr=Wc(na.text);var ia=ot.layout.get("text-rotate").evaluate(Bt,{},bn);In=new Ju(at,Ne,st,ct,pt,na,ft,dt,mt,ia)}var sa=1===na.positionedLines.length;if(Vn+=nl(w,Ne,na,rt,ot,mt,Bt,yt,Fn,tt.vertical?Jp.horizontal:Jp.horizontalOnly,sa?Object.keys(tt.horizontal):[ta],er,$n,rn,bn),sa)break}tt.vertical&&(Wn+=nl(w,Ne,tt.vertical,rt,ot,mt,Bt,yt,Fn,Jp.vertical,["vertical"],er,Yn,rn,bn));var la=In?In.boxStartIndex:w.collisionBoxArray.length,pa=In?In.boxEndIndex:w.collisionBoxArray.length,fa=zn?zn.boxStartIndex:w.collisionBoxArray.length,ga=zn?zn.boxEndIndex:w.collisionBoxArray.length,va=Mn?Mn.boxStartIndex:w.collisionBoxArray.length,_a=Mn?Mn.boxEndIndex:w.collisionBoxArray.length,wa=Ln?Ln.boxStartIndex:w.collisionBoxArray.length,Aa=Ln?Ln.boxEndIndex:w.collisionBoxArray.length,os=-1,ut=function(w,Ne){return w&&w.circleDiameter?Math.max(w.circleDiameter,Ne):Ne};os=ut(In,os),os=ut(zn,os),os=ut(Mn,os);var as=(os=ut(Ln,os))>-1?1:0;as&&(os*=Cn/24),w.glyphOffsetArray.length>=fl.MAX_GLYPHS&&_("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Bt.sortKey&&w.addToSortKeyRanges(w.symbolInstances.length,Bt.sortKey),w.symbolInstances.emplaceBack(Ne.x,Ne.y,er.right>=0?er.right:-1,er.center>=0?er.center:-1,er.left>=0?er.left:-1,er.vertical||-1,$n,Yn,rr,la,pa,fa,ga,va,_a,wa,Aa,st,Vn,Wn,Bn,Nn,as,0,ft,vr,wr,os)}(w,pt,ot,et,tt,nt,ft,w.layers[0],w.collisionBoxArray,Ne.index,Ne.sourceLayerIndex,w.index,Ot,rn,Cn,at,Rt,vn,Tn,mt,Ne,rt,st,ct,it)};if("line"===In)for(var Ln=0,Fn=qu(Ne.geometry,0,0,8192,8192);Ln<Fn.length;Ln+=1)for(var Bn=Fn[Ln],Nn=0,Vn=ju(Bn,Bt,bn,et.vertical||yt,tt,24,Dt,w.overscaling,8192);Nn<Vn.length;Nn+=1){var Wn=Vn[Nn];yt&&al(w,yt.text,Mn,Wn)||E(Bn,Wn)}else if("line-center"===In)for(var $n=0,Yn=Ne.geometry;$n<Yn.length;$n+=1){var er=Yn[$n];if(er.length>1){var rr=Uu(er,bn,et.vertical||yt,tt,24,Dt);rr&&E(er,rr)}}else if("Polygon"===Ne.type)for(var vr=0,wr=ts(Ne.geometry,0);vr<wr.length;vr+=1){var Sr=wr[vr],ii=$u(Sr,16);E(Sr[0],new ah(ii.x,ii.y,0))}else if("LineString"===Ne.type)for(var qi=0,uo=Ne.geometry;qi<uo.length;qi+=1){var po=uo[qi];E(po,new ah(po[0].x,po[0].y,0))}else if("Point"===Ne.type)for(var vo=0,So=Ne.geometry;vo<So.length;vo+=1)for(var ta=0,na=So[vo];ta<na.length;ta+=1){var ia=na[ta];E([ia],new ah(ia.x,ia.y,0))}}(w,rt,dt,er,tt,st,pt,ft,rn,rr,it)},Dt=0,Rt=w.features;Dt<Rt.length;Dt+=1)g();rt&&w.generateCollisionDebugBuffers()},w.perspective=function(w,Ne,et,tt,nt){var rt,it=1/Math.tan(Ne/2);return w[0]=it/et,w[1]=0,w[2]=0,w[3]=0,w[4]=0,w[5]=it,w[6]=0,w[7]=0,w[8]=0,w[9]=0,w[11]=-1,w[12]=0,w[13]=0,w[15]=0,null!=nt&&nt!==1/0?(w[10]=(nt+tt)*(rt=1/(tt-nt)),w[14]=2*nt*tt*rt):(w[10]=-1,w[14]=-2*tt),w},w.pick=function(w,Ne){for(var et={},tt=0;tt<Ne.length;tt++){var nt=Ne[tt];nt in w&&(et[nt]=w[nt])}return et},w.plugin=ol,w.polygonIntersectsPolygon=Ua,w.postMapLoadEvent=Ln,w.postTurnstileEvent=Mn,w.potpack=fu,w.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],w.register=Dn,w.registerForPluginStateChange=function(w){return w({pluginStatus:Zs,pluginURL:Js}),tl.on("pluginStateChange",w),w},w.rotate=function(w,Ne,et){var tt=Ne[0],nt=Ne[1],rt=Ne[2],it=Ne[3],ot=Math.sin(et),at=Math.cos(et);return w[0]=tt*at+rt*ot,w[1]=nt*at+it*ot,w[2]=tt*-ot+rt*at,w[3]=nt*-ot+it*at,w},w.rotateX=function(w,Ne,et){var tt=Math.sin(et),nt=Math.cos(et),rt=Ne[4],it=Ne[5],ot=Ne[6],at=Ne[7],st=Ne[8],ct=Ne[9],pt=Ne[10],ft=Ne[11];return Ne!==w&&(w[0]=Ne[0],w[1]=Ne[1],w[2]=Ne[2],w[3]=Ne[3],w[12]=Ne[12],w[13]=Ne[13],w[14]=Ne[14],w[15]=Ne[15]),w[4]=rt*nt+st*tt,w[5]=it*nt+ct*tt,w[6]=ot*nt+pt*tt,w[7]=at*nt+ft*tt,w[8]=st*nt-rt*tt,w[9]=ct*nt-it*tt,w[10]=pt*nt-ot*tt,w[11]=ft*nt-at*tt,w},w.rotateZ=function(w,Ne,et){var tt=Math.sin(et),nt=Math.cos(et),rt=Ne[0],it=Ne[1],ot=Ne[2],at=Ne[3],st=Ne[4],ct=Ne[5],pt=Ne[6],ft=Ne[7];return Ne!==w&&(w[8]=Ne[8],w[9]=Ne[9],w[10]=Ne[10],w[11]=Ne[11],w[12]=Ne[12],w[13]=Ne[13],w[14]=Ne[14],w[15]=Ne[15]),w[0]=rt*nt+st*tt,w[1]=it*nt+ct*tt,w[2]=ot*nt+pt*tt,w[3]=at*nt+ft*tt,w[4]=st*nt-rt*tt,w[5]=ct*nt-it*tt,w[6]=pt*nt-ot*tt,w[7]=ft*nt-at*tt,w},w.scale=function(w,Ne,et){var tt=et[0],nt=et[1],rt=et[2];return w[0]=Ne[0]*tt,w[1]=Ne[1]*tt,w[2]=Ne[2]*tt,w[3]=Ne[3]*tt,w[4]=Ne[4]*nt,w[5]=Ne[5]*nt,w[6]=Ne[6]*nt,w[7]=Ne[7]*nt,w[8]=Ne[8]*rt,w[9]=Ne[9]*rt,w[10]=Ne[10]*rt,w[11]=Ne[11]*rt,w[12]=Ne[12],w[13]=Ne[13],w[14]=Ne[14],w[15]=Ne[15],w},w.scale$1=function(w,Ne,et){return w[0]=Ne[0]*et,w[1]=Ne[1]*et,w[2]=Ne[2]*et,w[3]=Ne[3]*et,w},w.scale$2=function(w,Ne,et){return w[0]=Ne[0]*et,w[1]=Ne[1]*et,w[2]=Ne[2]*et,w},w.setCacheLimits=function(w,Ne){Fn=w,Bn=Ne},w.setRTLTextPlugin=function(w,Ne,et){if(void 0===et&&(et=!1),"deferred"===Zs||"loading"===Zs||"loaded"===Zs)throw new Error("setRTLTextPlugin cannot be called multiple times.");Js=yt.resolveURL(w),Zs="deferred",Us=Ne,ti(),et||ni()},w.sphericalToCartesian=function(w){var Ne=w[0],et=w[1],tt=w[2];return et+=90,et*=Math.PI/180,tt*=Math.PI/180,{x:Ne*Math.cos(et)*Math.sin(tt),y:Ne*Math.sin(et)*Math.sin(tt),z:Ne*Math.cos(tt)}},w.sqrLen=function(w){var Ne=w[0],et=w[1];return Ne*Ne+et*et},w.styleSpec=wr,w.sub=function(w,Ne,et){return w[0]=Ne[0]-et[0],w[1]=Ne[1]-et[1],w[2]=Ne[2]-et[2],w},w.symbolSize=sh,w.transformMat3=function(w,Ne,et){var tt=Ne[0],nt=Ne[1],rt=Ne[2];return w[0]=tt*et[0]+nt*et[3]+rt*et[6],w[1]=tt*et[1]+nt*et[4]+rt*et[7],w[2]=tt*et[2]+nt*et[5]+rt*et[8],w},w.transformMat4=so,w.translate=function(w,Ne,et){var tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt=et[0],vt=et[1],Ot=et[2];return Ne===w?(w[12]=Ne[0]*yt+Ne[4]*vt+Ne[8]*Ot+Ne[12],w[13]=Ne[1]*yt+Ne[5]*vt+Ne[9]*Ot+Ne[13],w[14]=Ne[2]*yt+Ne[6]*vt+Ne[10]*Ot+Ne[14],w[15]=Ne[3]*yt+Ne[7]*vt+Ne[11]*Ot+Ne[15]):(nt=Ne[1],rt=Ne[2],it=Ne[3],ot=Ne[4],at=Ne[5],st=Ne[6],ct=Ne[7],pt=Ne[8],ft=Ne[9],dt=Ne[10],mt=Ne[11],w[0]=tt=Ne[0],w[1]=nt,w[2]=rt,w[3]=it,w[4]=ot,w[5]=at,w[6]=st,w[7]=ct,w[8]=pt,w[9]=ft,w[10]=dt,w[11]=mt,w[12]=tt*yt+ot*vt+pt*Ot+Ne[12],w[13]=nt*yt+at*vt+ft*Ot+Ne[13],w[14]=rt*yt+st*vt+dt*Ot+Ne[14],w[15]=it*yt+ct*vt+mt*Ot+Ne[15]),w},w.triggerPluginCompletionEvent=Qn,w.uniqueId=f,w.validateCustomStyleLayer=function(w){var Ne=[],et=w.id;return void 0===et&&Ne.push({message:"layers."+et+': missing required property "id"'}),void 0===w.render&&Ne.push({message:"layers."+et+': missing required method "render"'}),w.renderingMode&&"2d"!==w.renderingMode&&"3d"!==w.renderingMode&&Ne.push({message:"layers."+et+': property "renderingMode" must be either "2d" or "3d"'}),Ne},w.validateLight=Os,w.validateStyle=Ms,w.values=function(w){var Ne=[];for(var et in w)Ne.push(w[et]);return Ne},w.vectorTile=Ap,w.version="1.11.0",w.warnOnce=_,w.webpSupported=Ot,w.window=tt,w.wrap=p})),define(0,(function(w){function t(w){var Ne=typeof w;if("number"===Ne||"boolean"===Ne||"string"===Ne||null==w)return JSON.stringify(w);if(Array.isArray(w)){for(var et="[",tt=0,nt=w;tt<nt.length;tt+=1)et+=t(nt[tt])+",";return et+"]"}for(var rt=Object.keys(w).sort(),it="{",ot=0;ot<rt.length;ot++)it+=JSON.stringify(rt[ot])+":"+t(w[rt[ot]])+",";return it+"}"}function r(Ne){for(var et="",tt=0,nt=w.refProperties;tt<nt.length;tt+=1)et+="/"+t(Ne[nt[tt]]);return et}var i=function(w){this.keyCache={},w&&this.replace(w)};i.prototype.replace=function(w){this._layerConfigs={},this._layers={},this.update(w,[])},i.prototype.update=function(Ne,et){for(var tt=this,nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt];this._layerConfigs[it.id]=it;var ot=this._layers[it.id]=w.createStyleLayer(it);ot._featureFilter=w.featureFilter(ot.filter),this.keyCache[it.id]&&delete this.keyCache[it.id]}for(var at=0,st=et;at<st.length;at+=1){var ct=st[at];delete this.keyCache[ct],delete this._layerConfigs[ct],delete this._layers[ct]}this.familiesBySource={};for(var pt=0,ft=function(w,Ne){for(var et={},tt=0;tt<w.length;tt++){var nt=Ne&&Ne[w[tt].id]||r(w[tt]);Ne&&(Ne[w[tt].id]=nt);var rt=et[nt];rt||(rt=et[nt]=[]),rt.push(w[tt])}var it=[];for(var ot in et)it.push(et[ot]);return it}(w.values(this._layerConfigs),this.keyCache);pt<ft.length;pt+=1){var dt=ft[pt].map((function(w){return tt._layers[w.id]})),mt=dt[0];if("none"!==mt.visibility){var yt=mt.source||"",vt=this.familiesBySource[yt];vt||(vt=this.familiesBySource[yt]={});var Ot=mt.sourceLayer||"_geojsonTileLayer",Dt=vt[Ot];Dt||(Dt=vt[Ot]=[]),Dt.push(dt)}}};var o=function(Ne){var et={},tt=[];for(var nt in Ne){var rt=Ne[nt],it=et[nt]={};for(var ot in rt){var at=rt[+ot];if(at&&0!==at.bitmap.width&&0!==at.bitmap.height){var st={x:0,y:0,w:at.bitmap.width+2,h:at.bitmap.height+2};tt.push(st),it[ot]={rect:st,metrics:at.metrics}}}}var ct=w.potpack(tt),pt=new w.AlphaImage({width:ct.w||1,height:ct.h||1});for(var ft in Ne){var dt=Ne[ft];for(var mt in dt){var yt=dt[+mt];if(yt&&0!==yt.bitmap.width&&0!==yt.bitmap.height){var vt=et[ft][mt].rect;w.AlphaImage.copy(yt.bitmap,pt,{x:0,y:0},{x:vt.x+1,y:vt.y+1},yt.bitmap)}}}this.image=pt,this.positions=et};w.register("GlyphAtlas",o);var n=function(Ne){this.tileID=new w.OverscaledTileID(Ne.tileID.overscaledZ,Ne.tileID.wrap,Ne.tileID.canonical.z,Ne.tileID.canonical.x,Ne.tileID.canonical.y),this.uid=Ne.uid,this.zoom=Ne.zoom,this.pixelRatio=Ne.pixelRatio,this.tileSize=Ne.tileSize,this.source=Ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ne.showCollisionBoxes,this.collectResourceTiming=!!Ne.collectResourceTiming,this.returnDependencies=!!Ne.returnDependencies,this.promoteId=Ne.promoteId};function s(Ne,et,tt){for(var nt=new w.EvaluationParameters(et),rt=0,it=Ne;rt<it.length;rt+=1)it[rt].recalculate(nt,tt)}function a(Ne,et){var tt=w.getArrayBuffer(Ne.request,(function(Ne,tt,nt,rt){Ne?et(Ne):tt&&et(null,{vectorTile:new w.vectorTile.VectorTile(new w.pbf(tt)),rawData:tt,cacheControl:nt,expires:rt})}));return function(){tt.cancel(),et()}}n.prototype.parse=function(Ne,et,tt,nt,rt){var it=this;this.status="parsing",this.data=Ne,this.collisionBoxArray=new w.CollisionBoxArray;var ot=new w.DictionaryCoder(Object.keys(Ne.layers).sort()),at=new w.FeatureIndex(this.tileID,this.promoteId);at.bucketLayerIDs=[];var st,ct,pt,ft,dt={},mt={featureIndex:at,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:tt},yt=et.familiesBySource[this.source];for(var vt in yt){var Ot=Ne.layers[vt];if(Ot){1===Ot.version&&w.warnOnce('Vector tile source "'+this.source+'" layer "'+vt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Dt=ot.encode(vt),Rt=[],Bt=0;Bt<Ot.length;Bt++){var rn=Ot.feature(Bt),vn=at.getId(rn,vt);Rt.push({feature:rn,id:vn,index:Bt,sourceLayerIndex:Dt})}for(var bn=0,Cn=yt[vt];bn<Cn.length;bn+=1){var Tn=Cn[bn],In=Tn[0];In.minzoom&&this.zoom<Math.floor(In.minzoom)||In.maxzoom&&this.zoom>=In.maxzoom||"none"!==In.visibility&&(s(Tn,this.zoom,tt),(dt[In.id]=In.createBucket({index:at.bucketLayerIDs.length,layers:Tn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Dt,sourceID:this.source})).populate(Rt,mt,this.tileID.canonical),at.bucketLayerIDs.push(Tn.map((function(w){return w.id}))))}}}var Mn=w.mapObject(mt.glyphDependencies,(function(w){return Object.keys(w).map(Number)}));Object.keys(Mn).length?nt.send("getGlyphs",{uid:this.uid,stacks:Mn},(function(w,Ne){st||(st=w,ct=Ne,z.call(it))})):ct={};var zn=Object.keys(mt.iconDependencies);zn.length?nt.send("getImages",{icons:zn,source:this.source,tileID:this.tileID,type:"icons"},(function(w,Ne){st||(st=w,pt=Ne,z.call(it))})):pt={};var Ln=Object.keys(mt.patternDependencies);function z(){if(st)return rt(st);if(ct&&pt&&ft){var Ne=new o(ct),et=new w.ImageAtlas(pt,ft);for(var nt in dt){var it=dt[nt];it instanceof w.SymbolBucket?(s(it.layers,this.zoom,tt),w.performSymbolLayout(it,ct,Ne.positions,pt,et.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):it.hasPattern&&(it instanceof w.LineBucket||it instanceof w.FillBucket||it instanceof w.FillExtrusionBucket)&&(s(it.layers,this.zoom,tt),it.addFeatures(mt,this.tileID.canonical,et.patternPositions))}this.status="done",rt(null,{buckets:w.values(dt).filter((function(w){return!w.isEmpty()})),featureIndex:at,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ne.image,imageAtlas:et,glyphMap:this.returnDependencies?ct:null,iconMap:this.returnDependencies?pt:null,glyphPositions:this.returnDependencies?Ne.positions:null})}}Ln.length?nt.send("getImages",{icons:Ln,source:this.source,tileID:this.tileID,type:"patterns"},(function(w,Ne){st||(st=w,ft=Ne,z.call(it))})):ft={},z.call(this)};var l=function(w,Ne,et,tt){this.actor=w,this.layerIndex=Ne,this.availableImages=et,this.loadVectorData=tt||a,this.loading={},this.loaded={}};l.prototype.loadTile=function(Ne,et){var tt=this,nt=Ne.uid;this.loading||(this.loading={});var rt=!!(Ne&&Ne.request&&Ne.request.collectResourceTiming)&&new w.RequestPerformance(Ne.request),it=this.loading[nt]=new n(Ne);it.abort=this.loadVectorData(Ne,(function(Ne,ot){if(delete tt.loading[nt],Ne||!ot)return it.status="done",tt.loaded[nt]=it,et(Ne);var at=ot.rawData,st={};ot.expires&&(st.expires=ot.expires),ot.cacheControl&&(st.cacheControl=ot.cacheControl);var ct={};if(rt){var pt=rt.finish();pt&&(ct.resourceTiming=JSON.parse(JSON.stringify(pt)))}it.vectorTile=ot.vectorTile,it.parse(ot.vectorTile,tt.layerIndex,tt.availableImages,tt.actor,(function(Ne,tt){if(Ne||!tt)return et(Ne);et(null,w.extend({rawTileData:at.slice(0)},tt,st,ct))})),tt.loaded=tt.loaded||{},tt.loaded[nt]=it}))},l.prototype.reloadTile=function(w,Ne){var et=this,tt=this.loaded,nt=w.uid,rt=this;if(tt&&tt[nt]){var it=tt[nt];it.showCollisionBoxes=w.showCollisionBoxes;var a=function(w,tt){var nt=it.reloadCallback;nt&&(delete it.reloadCallback,it.parse(it.vectorTile,rt.layerIndex,et.availableImages,rt.actor,nt)),Ne(w,tt)};"parsing"===it.status?it.reloadCallback=a:"done"===it.status&&(it.vectorTile?it.parse(it.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}},l.prototype.abortTile=function(w,Ne){var et=this.loading,tt=w.uid;et&&et[tt]&&et[tt].abort&&(et[tt].abort(),delete et[tt]),Ne()},l.prototype.removeTile=function(w,Ne){var et=this.loaded,tt=w.uid;et&&et[tt]&&delete et[tt],Ne()};var Ne=w.window.ImageBitmap,h=function(){this.loaded={}};function c(w,Ne){if(0!==w.length){p(w[0],Ne);for(var et=1;et<w.length;et++)p(w[et],!Ne)}}function p(w,Ne){for(var et=0,tt=0,nt=w.length,rt=nt-1;tt<nt;rt=tt++)et+=(w[tt][0]-w[rt][0])*(w[rt][1]+w[tt][1]);et>=0!=!!Ne&&w.reverse()}h.prototype.loadTile=function(et,tt){var nt=et.uid,rt=et.encoding,it=et.rawImageData,ot=Ne&&it instanceof Ne?this.getImageData(it):it,at=new w.DEMData(nt,ot,rt);this.loaded=this.loaded||{},this.loaded[nt]=at,tt(null,at)},h.prototype.getImageData=function(Ne){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ne.width,Ne.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ne.width,this.offscreenCanvas.height=Ne.height,this.offscreenCanvasContext.drawImage(Ne,0,0,Ne.width,Ne.height);var et=this.offscreenCanvasContext.getImageData(-1,-1,Ne.width+2,Ne.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new w.RGBAImage({width:et.width,height:et.height},et.data)},h.prototype.removeTile=function(w){var Ne=this.loaded,et=w.uid;Ne&&Ne[et]&&delete Ne[et]};var et=w.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(Ne){this._feature=Ne,this.extent=w.EXTENT,this.type=Ne.type,this.properties=Ne.tags,"id"in Ne&&!isNaN(Ne.id)&&(this.id=parseInt(Ne.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var Ne=[],et=0,tt=this._feature.geometry;et<tt.length;et+=1){var nt=tt[et];Ne.push([new w.Point$1(nt[0],nt[1])])}return Ne}for(var rt=[],it=0,ot=this._feature.geometry;it<ot.length;it+=1){for(var at=[],st=0,ct=ot[it];st<ct.length;st+=1){var pt=ct[st];at.push(new w.Point$1(pt[0],pt[1]))}rt.push(at)}return rt},d.prototype.toGeoJSON=function(w,Ne,tt){return et.call(this,w,Ne,tt)};var g=function(Ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=w.EXTENT,this.length=Ne.length,this._features=Ne};g.prototype.feature=function(w){return new d(this._features[w])};var tt=w.vectorTile.VectorTileFeature,nt=y;function y(w,Ne){this.options=Ne||{},this.features=w,this.length=w.length}function x(w,Ne){this.id="number"==typeof w.id?w.id:void 0,this.type=w.type,this.rawGeometry=1===w.type?[w.geometry]:w.geometry,this.properties=w.tags,this.extent=Ne||4096}y.prototype.feature=function(w){return new x(this.features[w],this.options.extent)},x.prototype.loadGeometry=function(){var Ne=this.rawGeometry;this.geometry=[];for(var et=0;et<Ne.length;et++){for(var tt=Ne[et],nt=[],rt=0;rt<tt.length;rt++)nt.push(new w.Point$1(tt[rt][0],tt[rt][1]));this.geometry.push(nt)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var w=this.geometry,Ne=1/0,et=-1/0,tt=1/0,nt=-1/0,rt=0;rt<w.length;rt++)for(var it=w[rt],ot=0;ot<it.length;ot++){var at=it[ot];Ne=Math.min(Ne,at.x),et=Math.max(et,at.x),tt=Math.min(tt,at.y),nt=Math.max(nt,at.y)}return[Ne,tt,et,nt]},x.prototype.toGeoJSON=tt.prototype.toGeoJSON;var rt=I,it=nt;function I(Ne){var et=new w.pbf;return function(w,Ne){for(var et in w.layers)Ne.writeMessage(3,M,w.layers[et])}(Ne,et),et.finish()}function M(w,Ne){var et;Ne.writeVarintField(15,w.version||1),Ne.writeStringField(1,w.name||""),Ne.writeVarintField(5,w.extent||4096);var tt={keys:[],values:[],keycache:{},valuecache:{}};for(et=0;et<w.length;et++)tt.feature=w.feature(et),Ne.writeMessage(2,b,tt);var nt=tt.keys;for(et=0;et<nt.length;et++)Ne.writeStringField(3,nt[et]);var rt=tt.values;for(et=0;et<rt.length;et++)Ne.writeMessage(4,C,rt[et])}function b(w,Ne){var et=w.feature;void 0!==et.id&&Ne.writeVarintField(1,et.id),Ne.writeMessage(2,_,w),Ne.writeVarintField(3,et.type),Ne.writeMessage(4,T,et)}function _(w,Ne){var et=w.feature,tt=w.keys,nt=w.values,rt=w.keycache,it=w.valuecache;for(var ot in et.properties){var at=rt[ot];void 0===at&&(tt.push(ot),rt[ot]=at=tt.length-1),Ne.writeVarint(at);var st=et.properties[ot],ct=typeof st;"string"!==ct&&"boolean"!==ct&&"number"!==ct&&(st=JSON.stringify(st));var pt=ct+":"+st,ft=it[pt];void 0===ft&&(nt.push(st),it[pt]=ft=nt.length-1),Ne.writeVarint(ft)}}function k(w,Ne){return(Ne<<3)+(7&w)}function P(w){return w<<1^w>>31}function T(w,Ne){for(var et=w.loadGeometry(),tt=w.type,nt=0,rt=0,it=et.length,ot=0;ot<it;ot++){var at=et[ot],st=1;1===tt&&(st=at.length),Ne.writeVarint(k(1,st));for(var ct=3===tt?at.length-1:at.length,pt=0;pt<ct;pt++){1===pt&&1!==tt&&Ne.writeVarint(k(2,ct-1));var ft=at[pt].x-nt,dt=at[pt].y-rt;Ne.writeVarint(P(ft)),Ne.writeVarint(P(dt)),nt+=ft,rt+=dt}3===tt&&Ne.writeVarint(k(7,1))}}function C(w,Ne){var et=typeof w;"string"===et?Ne.writeStringField(1,w):"boolean"===et?Ne.writeBooleanField(7,w):"number"===et&&(w%1!=0?Ne.writeDoubleField(3,w):w<0?Ne.writeSVarintField(6,w):Ne.writeVarintField(5,w))}function D(w,Ne,et,tt){L(w,et,tt),L(Ne,2*et,2*tt),L(Ne,2*et+1,2*tt+1)}function L(w,Ne,et){var tt=w[Ne];w[Ne]=w[et],w[et]=tt}function z(w,Ne,et,tt){var nt=w-et,rt=Ne-tt;return nt*nt+rt*rt}rt.fromVectorTileJs=I,rt.fromGeojsonVt=function(w,Ne){Ne=Ne||{};var et={};for(var tt in w)et[tt]=new nt(w[tt].features,Ne),et[tt].name=tt,et[tt].version=Ne.version,et[tt].extent=Ne.extent;return I({layers:et})},rt.GeoJSONWrapper=it;var O=function(w){return w[0]},E=function(w){return w[1]},F=function(w,Ne,et,tt,nt){void 0===Ne&&(Ne=O),void 0===et&&(et=E),void 0===tt&&(tt=64),void 0===nt&&(nt=Float64Array),this.nodeSize=tt,this.points=w;for(var rt=w.length<65536?Uint16Array:Uint32Array,it=this.ids=new rt(w.length),ot=this.coords=new nt(2*w.length),at=0;at<w.length;at++)it[at]=at,ot[2*at]=Ne(w[at]),ot[2*at+1]=et(w[at]);!function e(w,Ne,et,tt,nt,rt){if(!(nt-tt<=et)){var it=tt+nt>>1;!function e(w,Ne,et,tt,nt,rt){for(;nt>tt;){if(nt-tt>600){var it=nt-tt+1,ot=et-tt+1,at=Math.log(it),st=.5*Math.exp(2*at/3),ct=.5*Math.sqrt(at*st*(it-st)/it)*(ot-it/2<0?-1:1);e(w,Ne,et,Math.max(tt,Math.floor(et-ot*st/it+ct)),Math.min(nt,Math.floor(et+(it-ot)*st/it+ct)),rt)}var pt=Ne[2*et+rt],ft=tt,dt=nt;for(D(w,Ne,tt,et),Ne[2*nt+rt]>pt&&D(w,Ne,tt,nt);ft<dt;){for(D(w,Ne,ft,dt),ft++,dt--;Ne[2*ft+rt]<pt;)ft++;for(;Ne[2*dt+rt]>pt;)dt--}Ne[2*tt+rt]===pt?D(w,Ne,tt,dt):D(w,Ne,++dt,nt),dt<=et&&(tt=dt+1),et<=dt&&(nt=dt-1)}}(w,Ne,it,tt,nt,rt%2),e(w,Ne,et,tt,it-1,rt+1),e(w,Ne,et,it+1,nt,rt+1)}}(it,ot,tt,0,it.length-1,0)};F.prototype.range=function(w,Ne,et,tt){return function(w,Ne,et,tt,nt,rt,it){for(var ot,at,st=[0,w.length-1,0],ct=[];st.length;){var pt=st.pop(),ft=st.pop(),dt=st.pop();if(ft-dt<=it)for(var mt=dt;mt<=ft;mt++)at=Ne[2*mt+1],(ot=Ne[2*mt])>=et&&ot<=nt&&at>=tt&&at<=rt&&ct.push(w[mt]);else{var yt=Math.floor((dt+ft)/2);at=Ne[2*yt+1],(ot=Ne[2*yt])>=et&&ot<=nt&&at>=tt&&at<=rt&&ct.push(w[yt]);var vt=(pt+1)%2;(0===pt?et<=ot:tt<=at)&&(st.push(dt),st.push(yt-1),st.push(vt)),(0===pt?nt>=ot:rt>=at)&&(st.push(yt+1),st.push(ft),st.push(vt))}}return ct}(this.ids,this.coords,w,Ne,et,tt,this.nodeSize)},F.prototype.within=function(w,Ne,et){return function(w,Ne,et,tt,nt,rt){for(var it=[0,w.length-1,0],ot=[],at=nt*nt;it.length;){var st=it.pop(),ct=it.pop(),pt=it.pop();if(ct-pt<=rt)for(var ft=pt;ft<=ct;ft++)z(Ne[2*ft],Ne[2*ft+1],et,tt)<=at&&ot.push(w[ft]);else{var dt=Math.floor((pt+ct)/2),mt=Ne[2*dt],yt=Ne[2*dt+1];z(mt,yt,et,tt)<=at&&ot.push(w[dt]);var vt=(st+1)%2;(0===st?et-nt<=mt:tt-nt<=yt)&&(it.push(pt),it.push(dt-1),it.push(vt)),(0===st?et+nt>=mt:tt+nt>=yt)&&(it.push(dt+1),it.push(ct),it.push(vt))}}return ot}(this.ids,this.coords,w,Ne,et,this.nodeSize)};var ot={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(w){return w}},J=function(w){this.options=V(Object.create(ot),w),this.trees=new Array(this.options.maxZoom+1)};function Z(w,Ne,et,tt,nt){return{x:w,y:Ne,zoom:1/0,id:et,parentId:-1,numPoints:tt,properties:nt}}function A(w,Ne){var et=w.geometry.coordinates,tt=et[1];return{x:Y(et[0]),y:j(tt),zoom:1/0,index:Ne,parentId:-1}}function B(w){return{type:"Feature",id:w.id,properties:G(w),geometry:{type:"Point",coordinates:[(tt=w.x,360*(tt-.5)),(Ne=w.y,et=(180-360*Ne)*Math.PI/180,360*Math.atan(Math.exp(et))/Math.PI-90)]}};var Ne,et,tt}function G(w){var Ne=w.numPoints,et=Ne>=1e4?Math.round(Ne/1e3)+"k":Ne>=1e3?Math.round(Ne/100)/10+"k":Ne;return V(V({},w.properties),{cluster:!0,cluster_id:w.id,point_count:Ne,point_count_abbreviated:et})}function Y(w){return w/360+.5}function j(w){var Ne=Math.sin(w*Math.PI/180),et=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return et<0?0:et>1?1:et}function V(w,Ne){for(var et in Ne)w[et]=Ne[et];return w}function X(w){return w.x}function W(w){return w.y}function R(w,Ne,et,tt,nt,rt){var it=nt-et,ot=rt-tt;if(0!==it||0!==ot){var at=((w-et)*it+(Ne-tt)*ot)/(it*it+ot*ot);at>1?(et=nt,tt=rt):at>0&&(et+=it*at,tt+=ot*at)}return(it=w-et)*it+(ot=Ne-tt)*ot}function q(w,Ne,et,tt){var nt={id:void 0===w?null:w,type:Ne,geometry:et,tags:tt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(w){var Ne=w.geometry,et=w.type;if("Point"===et||"MultiPoint"===et||"LineString"===et)U(w,Ne);else if("Polygon"===et||"MultiLineString"===et)for(var tt=0;tt<Ne.length;tt++)U(w,Ne[tt]);else if("MultiPolygon"===et)for(tt=0;tt<Ne.length;tt++)for(var nt=0;nt<Ne[tt].length;nt++)U(w,Ne[tt][nt])}(nt),nt}function U(w,Ne){for(var et=0;et<Ne.length;et+=3)w.minX=Math.min(w.minX,Ne[et]),w.minY=Math.min(w.minY,Ne[et+1]),w.maxX=Math.max(w.maxX,Ne[et]),w.maxY=Math.max(w.maxY,Ne[et+1])}function $(w,Ne,et,tt){if(Ne.geometry){var nt=Ne.geometry.coordinates,rt=Ne.geometry.type,it=Math.pow(et.tolerance/((1<<et.maxZoom)*et.extent),2),ot=[],at=Ne.id;if(et.promoteId?at=Ne.properties[et.promoteId]:et.generateId&&(at=tt||0),"Point"===rt)H(nt,ot);else if("MultiPoint"===rt)for(var st=0;st<nt.length;st++)H(nt[st],ot);else if("LineString"===rt)K(nt,ot,it,!1);else if("MultiLineString"===rt){if(et.lineMetrics){for(st=0;st<nt.length;st++)K(nt[st],ot=[],it,!1),w.push(q(at,"LineString",ot,Ne.properties));return}Q(nt,ot,it,!1)}else if("Polygon"===rt)Q(nt,ot,it,!0);else{if("MultiPolygon"!==rt){if("GeometryCollection"===rt){for(st=0;st<Ne.geometry.geometries.length;st++)$(w,{id:at,geometry:Ne.geometry.geometries[st],properties:Ne.properties},et,tt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(st=0;st<nt.length;st++){var ct=[];Q(nt[st],ct,it,!0),ot.push(ct)}}w.push(q(at,rt,ot,Ne.properties))}}function H(w,Ne){Ne.push(ee(w[0])),Ne.push(te(w[1])),Ne.push(0)}function K(w,Ne,et,tt){for(var nt,rt,it=0,ot=0;ot<w.length;ot++){var at=ee(w[ot][0]),st=te(w[ot][1]);Ne.push(at),Ne.push(st),Ne.push(0),ot>0&&(it+=tt?(nt*st-at*rt)/2:Math.sqrt(Math.pow(at-nt,2)+Math.pow(st-rt,2))),nt=at,rt=st}var ct=Ne.length-3;Ne[2]=1,function e(w,Ne,et,tt){for(var nt,rt=tt,it=et-Ne>>1,ot=et-Ne,at=w[Ne],st=w[Ne+1],ct=w[et],pt=w[et+1],ft=Ne+3;ft<et;ft+=3){var dt=R(w[ft],w[ft+1],at,st,ct,pt);if(dt>rt)nt=ft,rt=dt;else if(dt===rt){var mt=Math.abs(ft-it);mt<ot&&(nt=ft,ot=mt)}}rt>tt&&(nt-Ne>3&&e(w,Ne,nt,tt),w[nt+2]=rt,et-nt>3&&e(w,nt,et,tt))}(Ne,0,ct,et),Ne[ct+2]=1,Ne.size=Math.abs(it),Ne.start=0,Ne.end=Ne.size}function Q(w,Ne,et,tt){for(var nt=0;nt<w.length;nt++){var rt=[];K(w[nt],rt,et,tt),Ne.push(rt)}}function ee(w){return w/360+.5}function te(w){var Ne=Math.sin(w*Math.PI/180),et=.5-.25*Math.log((1+Ne)/(1-Ne))/Math.PI;return et<0?0:et>1?1:et}function re(w,Ne,et,tt,nt,rt,it,ot){if(tt/=Ne,rt>=(et/=Ne)&&it<tt)return w;if(it<et||rt>=tt)return null;for(var at=[],st=0;st<w.length;st++){var ct=w[st],pt=ct.geometry,ft=ct.type,dt=0===nt?ct.minX:ct.minY,mt=0===nt?ct.maxX:ct.maxY;if(dt>=et&&mt<tt)at.push(ct);else if(!(mt<et||dt>=tt)){var yt=[];if("Point"===ft||"MultiPoint"===ft)ie(pt,yt,et,tt,nt);else if("LineString"===ft)oe(pt,yt,et,tt,nt,!1,ot.lineMetrics);else if("MultiLineString"===ft)se(pt,yt,et,tt,nt,!1);else if("Polygon"===ft)se(pt,yt,et,tt,nt,!0);else if("MultiPolygon"===ft)for(var vt=0;vt<pt.length;vt++){var Ot=[];se(pt[vt],Ot,et,tt,nt,!0),Ot.length&&yt.push(Ot)}if(yt.length){if(ot.lineMetrics&&"LineString"===ft){for(vt=0;vt<yt.length;vt++)at.push(q(ct.id,ft,yt[vt],ct.tags));continue}"LineString"!==ft&&"MultiLineString"!==ft||(1===yt.length?(ft="LineString",yt=yt[0]):ft="MultiLineString"),"Point"!==ft&&"MultiPoint"!==ft||(ft=3===yt.length?"Point":"MultiPoint"),at.push(q(ct.id,ft,yt,ct.tags))}}}return at.length?at:null}function ie(w,Ne,et,tt,nt){for(var rt=0;rt<w.length;rt+=3){var it=w[rt+nt];it>=et&&it<=tt&&(Ne.push(w[rt]),Ne.push(w[rt+1]),Ne.push(w[rt+2]))}}function oe(w,Ne,et,tt,nt,rt,it){for(var ot,at,st=ne(w),ct=0===nt?le:ue,pt=w.start,ft=0;ft<w.length-3;ft+=3){var dt=w[ft],mt=w[ft+1],yt=w[ft+2],vt=w[ft+3],Ot=w[ft+4],Dt=0===nt?dt:mt,Rt=0===nt?vt:Ot,Bt=!1;it&&(ot=Math.sqrt(Math.pow(dt-vt,2)+Math.pow(mt-Ot,2))),Dt<et?Rt>et&&(at=ct(st,dt,mt,vt,Ot,et),it&&(st.start=pt+ot*at)):Dt>tt?Rt<tt&&(at=ct(st,dt,mt,vt,Ot,tt),it&&(st.start=pt+ot*at)):ae(st,dt,mt,yt),Rt<et&&Dt>=et&&(at=ct(st,dt,mt,vt,Ot,et),Bt=!0),Rt>tt&&Dt<=tt&&(at=ct(st,dt,mt,vt,Ot,tt),Bt=!0),!rt&&Bt&&(it&&(st.end=pt+ot*at),Ne.push(st),st=ne(w)),it&&(pt+=ot)}var rn=w.length-3;dt=w[rn],mt=w[rn+1],yt=w[rn+2],(Dt=0===nt?dt:mt)>=et&&Dt<=tt&&ae(st,dt,mt,yt),rn=st.length-3,rt&&rn>=3&&(st[rn]!==st[0]||st[rn+1]!==st[1])&&ae(st,st[0],st[1],st[2]),st.length&&Ne.push(st)}function ne(w){var Ne=[];return Ne.size=w.size,Ne.start=w.start,Ne.end=w.end,Ne}function se(w,Ne,et,tt,nt,rt){for(var it=0;it<w.length;it++)oe(w[it],Ne,et,tt,nt,rt,!1)}function ae(w,Ne,et,tt){w.push(Ne),w.push(et),w.push(tt)}function le(w,Ne,et,tt,nt,rt){var it=(rt-Ne)/(tt-Ne);return w.push(rt),w.push(et+(nt-et)*it),w.push(1),it}function ue(w,Ne,et,tt,nt,rt){var it=(rt-et)/(nt-et);return w.push(Ne+(tt-Ne)*it),w.push(rt),w.push(1),it}function he(w,Ne){for(var et=[],tt=0;tt<w.length;tt++){var nt,rt=w[tt],it=rt.type;if("Point"===it||"MultiPoint"===it||"LineString"===it)nt=ce(rt.geometry,Ne);else if("MultiLineString"===it||"Polygon"===it){nt=[];for(var ot=0;ot<rt.geometry.length;ot++)nt.push(ce(rt.geometry[ot],Ne))}else if("MultiPolygon"===it)for(nt=[],ot=0;ot<rt.geometry.length;ot++){for(var at=[],st=0;st<rt.geometry[ot].length;st++)at.push(ce(rt.geometry[ot][st],Ne));nt.push(at)}et.push(q(rt.id,it,nt,rt.tags))}return et}function ce(w,Ne){var et=[];et.size=w.size,void 0!==w.start&&(et.start=w.start,et.end=w.end);for(var tt=0;tt<w.length;tt+=3)et.push(w[tt]+Ne,w[tt+1],w[tt+2]);return et}function pe(w,Ne){if(w.transformed)return w;var et,tt,nt,rt=1<<w.z,it=w.x,ot=w.y;for(et=0;et<w.features.length;et++){var at=w.features[et],st=at.geometry,ct=at.type;if(at.geometry=[],1===ct)for(tt=0;tt<st.length;tt+=2)at.geometry.push(fe(st[tt],st[tt+1],Ne,rt,it,ot));else for(tt=0;tt<st.length;tt++){var pt=[];for(nt=0;nt<st[tt].length;nt+=2)pt.push(fe(st[tt][nt],st[tt][nt+1],Ne,rt,it,ot));at.geometry.push(pt)}}return w.transformed=!0,w}function fe(w,Ne,et,tt,nt,rt){return[Math.round(et*(w*tt-nt)),Math.round(et*(Ne*tt-rt))]}function de(w,Ne,et,tt,nt){for(var rt=Ne===nt.maxZoom?0:nt.tolerance/((1<<Ne)*nt.extent),it={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:et,y:tt,z:Ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ot=0;ot<w.length;ot++){it.numFeatures++,ge(it,w[ot],rt,nt);var at=w[ot].minX,st=w[ot].minY,ct=w[ot].maxX,pt=w[ot].maxY;at<it.minX&&(it.minX=at),st<it.minY&&(it.minY=st),ct>it.maxX&&(it.maxX=ct),pt>it.maxY&&(it.maxY=pt)}return it}function ge(w,Ne,et,tt){var nt=Ne.geometry,rt=Ne.type,it=[];if("Point"===rt||"MultiPoint"===rt)for(var ot=0;ot<nt.length;ot+=3)it.push(nt[ot]),it.push(nt[ot+1]),w.numPoints++,w.numSimplified++;else if("LineString"===rt)me(it,nt,w,et,!1,!1);else if("MultiLineString"===rt||"Polygon"===rt)for(ot=0;ot<nt.length;ot++)me(it,nt[ot],w,et,"Polygon"===rt,0===ot);else if("MultiPolygon"===rt)for(var at=0;at<nt.length;at++){var st=nt[at];for(ot=0;ot<st.length;ot++)me(it,st[ot],w,et,!0,0===ot)}if(it.length){var ct=Ne.tags||null;if("LineString"===rt&&tt.lineMetrics){for(var pt in ct={},Ne.tags)ct[pt]=Ne.tags[pt];ct.mapbox_clip_start=nt.start/nt.size,ct.mapbox_clip_end=nt.end/nt.size}var ft={geometry:it,type:"Polygon"===rt||"MultiPolygon"===rt?3:"LineString"===rt||"MultiLineString"===rt?2:1,tags:ct};null!==Ne.id&&(ft.id=Ne.id),w.features.push(ft)}}function me(w,Ne,et,tt,nt,rt){var it=tt*tt;if(tt>0&&Ne.size<(nt?it:tt))et.numPoints+=Ne.length/3;else{for(var ot=[],at=0;at<Ne.length;at+=3)(0===tt||Ne[at+2]>it)&&(et.numSimplified++,ot.push(Ne[at]),ot.push(Ne[at+1])),et.numPoints++;nt&&function(w,Ne){for(var et=0,tt=0,nt=w.length,rt=nt-2;tt<nt;rt=tt,tt+=2)et+=(w[tt]-w[rt])*(w[tt+1]+w[rt+1]);if(et>0===Ne)for(tt=0,nt=w.length;tt<nt/2;tt+=2){var it=w[tt],ot=w[tt+1];w[tt]=w[nt-2-tt],w[tt+1]=w[nt-1-tt],w[nt-2-tt]=it,w[nt-1-tt]=ot}}(ot,rt),w.push(ot)}}function ve(w,Ne){var et=(Ne=this.options=function(w,Ne){for(var et in Ne)w[et]=Ne[et];return w}(Object.create(this.options),Ne)).debug;if(et&&console.time("preprocess data"),Ne.maxZoom<0||Ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ne.promoteId&&Ne.generateId)throw new Error("promoteId and generateId cannot be used together.");var tt=function(w,Ne){var et=[];if("FeatureCollection"===w.type)for(var tt=0;tt<w.features.length;tt++)$(et,w.features[tt],Ne,tt);else $(et,"Feature"===w.type?w:{geometry:w},Ne);return et}(w,Ne);this.tiles={},this.tileCoords=[],et&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ne.indexMaxZoom,Ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(tt=function(w,Ne){var et=Ne.buffer/Ne.extent,tt=w,nt=re(w,1,-1-et,et,0,-1,2,Ne),rt=re(w,1,1-et,2+et,0,-1,2,Ne);return(nt||rt)&&(tt=re(w,1,-et,1+et,0,-1,2,Ne)||[],nt&&(tt=he(nt,1).concat(tt)),rt&&(tt=tt.concat(he(rt,-1)))),tt}(tt,Ne)).length&&this.splitTile(tt,0,0,0),et&&(tt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(w,Ne,et){return 32*((1<<w)*et+Ne)+w}function xe(w,Ne){var et=w.tileID.canonical;if(!this._geoJSONIndex)return Ne(null,null);var tt=this._geoJSONIndex.getTile(et.z,et.x,et.y);if(!tt)return Ne(null,null);var nt=new g(tt.features),it=rt(nt);0===it.byteOffset&&it.byteLength===it.buffer.byteLength||(it=new Uint8Array(it)),Ne(null,{vectorTile:nt,rawData:it.buffer})}J.prototype.load=function(w){var Ne=this.options,et=Ne.log,tt=Ne.minZoom,nt=Ne.maxZoom,rt=Ne.nodeSize;et&&console.time("total time");var it="prepare "+w.length+" points";et&&console.time(it),this.points=w;for(var ot=[],at=0;at<w.length;at++)w[at].geometry&&ot.push(A(w[at],at));this.trees[nt+1]=new F(ot,X,W,rt,Float32Array),et&&console.timeEnd(it);for(var st=nt;st>=tt;st--){var ct=+Date.now();ot=this._cluster(ot,st),this.trees[st]=new F(ot,X,W,rt,Float32Array),et&&console.log("z%d: %d clusters in %dms",st,ot.length,+Date.now()-ct)}return et&&console.timeEnd("total time"),this},J.prototype.getClusters=function(w,Ne){var et=((w[0]+180)%360+360)%360-180,tt=Math.max(-90,Math.min(90,w[1])),nt=180===w[2]?180:((w[2]+180)%360+360)%360-180,rt=Math.max(-90,Math.min(90,w[3]));if(w[2]-w[0]>=360)et=-180,nt=180;else if(et>nt){var it=this.getClusters([et,tt,180,rt],Ne),ot=this.getClusters([-180,tt,nt,rt],Ne);return it.concat(ot)}for(var at=this.trees[this._limitZoom(Ne)],st=[],ct=0,pt=at.range(Y(et),j(rt),Y(nt),j(tt));ct<pt.length;ct+=1){var ft=at.points[pt[ct]];st.push(ft.numPoints?B(ft):this.points[ft.index])}return st},J.prototype.getChildren=function(w){var Ne=this._getOriginId(w),et=this._getOriginZoom(w),tt="No cluster with the specified id.",nt=this.trees[et];if(!nt)throw new Error(tt);var rt=nt.points[Ne];if(!rt)throw new Error(tt);for(var it=this.options.radius/(this.options.extent*Math.pow(2,et-1)),ot=[],at=0,st=nt.within(rt.x,rt.y,it);at<st.length;at+=1){var ct=nt.points[st[at]];ct.parentId===w&&ot.push(ct.numPoints?B(ct):this.points[ct.index])}if(0===ot.length)throw new Error(tt);return ot},J.prototype.getLeaves=function(w,Ne,et){var tt=[];return this._appendLeaves(tt,w,Ne=Ne||10,et=et||0,0),tt},J.prototype.getTile=function(w,Ne,et){var tt=this.trees[this._limitZoom(w)],nt=Math.pow(2,w),rt=this.options,it=rt.radius/rt.extent,ot=(et-it)/nt,at=(et+1+it)/nt,st={features:[]};return this._addTileFeatures(tt.range((Ne-it)/nt,ot,(Ne+1+it)/nt,at),tt.points,Ne,et,nt,st),0===Ne&&this._addTileFeatures(tt.range(1-it/nt,ot,1,at),tt.points,nt,et,nt,st),Ne===nt-1&&this._addTileFeatures(tt.range(0,ot,it/nt,at),tt.points,-1,et,nt,st),st.features.length?st:null},J.prototype.getClusterExpansionZoom=function(w){for(var Ne=this._getOriginZoom(w)-1;Ne<=this.options.maxZoom;){var et=this.getChildren(w);if(Ne++,1!==et.length)break;w=et[0].properties.cluster_id}return Ne},J.prototype._appendLeaves=function(w,Ne,et,tt,nt){for(var rt=0,it=this.getChildren(Ne);rt<it.length;rt+=1){var ot=it[rt],at=ot.properties;if(at&&at.cluster?nt+at.point_count<=tt?nt+=at.point_count:nt=this._appendLeaves(w,at.cluster_id,et,tt,nt):nt<tt?nt++:w.push(ot),w.length===et)break}return nt},J.prototype._addTileFeatures=function(w,Ne,et,tt,nt,rt){for(var it=0,ot=w;it<ot.length;it+=1){var at=Ne[ot[it]],st=at.numPoints,ct={type:1,geometry:[[Math.round(this.options.extent*(at.x*nt-et)),Math.round(this.options.extent*(at.y*nt-tt))]],tags:st?G(at):this.points[at.index].properties},pt=void 0;st?pt=at.id:this.options.generateId?pt=at.index:this.points[at.index].id&&(pt=this.points[at.index].id),void 0!==pt&&(ct.id=pt),rt.features.push(ct)}},J.prototype._limitZoom=function(w){return Math.max(this.options.minZoom,Math.min(+w,this.options.maxZoom+1))},J.prototype._cluster=function(w,Ne){for(var et=[],tt=this.options,nt=tt.reduce,rt=tt.minPoints,it=tt.radius/(tt.extent*Math.pow(2,Ne)),ot=0;ot<w.length;ot++){var at=w[ot];if(!(at.zoom<=Ne)){at.zoom=Ne;for(var st=this.trees[Ne+1],ct=st.within(at.x,at.y,it),pt=at.numPoints||1,ft=pt,dt=0,mt=ct;dt<mt.length;dt+=1){var yt=st.points[mt[dt]];yt.zoom>Ne&&(ft+=yt.numPoints||1)}if(ft>=rt){for(var vt=at.x*pt,Ot=at.y*pt,Dt=nt&&pt>1?this._map(at,!0):null,Rt=(ot<<5)+(Ne+1)+this.points.length,Bt=0,rn=ct;Bt<rn.length;Bt+=1){var vn=st.points[rn[Bt]];if(!(vn.zoom<=Ne)){vn.zoom=Ne;var bn=vn.numPoints||1;vt+=vn.x*bn,Ot+=vn.y*bn,vn.parentId=Rt,nt&&(Dt||(Dt=this._map(at,!0)),nt(Dt,this._map(vn)))}}at.parentId=Rt,et.push(Z(vt/ft,Ot/ft,Rt,ft,Dt))}else if(et.push(at),ft>1)for(var Cn=0,Tn=ct;Cn<Tn.length;Cn+=1){var In=st.points[Tn[Cn]];In.zoom<=Ne||(In.zoom=Ne,et.push(In))}}}return et},J.prototype._getOriginId=function(w){return w-this.points.length>>5},J.prototype._getOriginZoom=function(w){return(w-this.points.length)%32},J.prototype._map=function(w,Ne){if(w.numPoints)return Ne?V({},w.properties):w.properties;var et=this.points[w.index].properties,tt=this.options.map(et);return Ne&&tt===et?V({},tt):tt},ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(w,Ne,et,tt,nt,rt,it){for(var ot=[w,Ne,et,tt],at=this.options,st=at.debug;ot.length;){tt=ot.pop(),et=ot.pop(),Ne=ot.pop(),w=ot.pop();var ct=1<<Ne,pt=ye(Ne,et,tt),ft=this.tiles[pt];if(!ft&&(st>1&&console.time("creation"),ft=this.tiles[pt]=de(w,Ne,et,tt,at),this.tileCoords.push({z:Ne,x:et,y:tt}),st)){st>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ne,et,tt,ft.numFeatures,ft.numPoints,ft.numSimplified),console.timeEnd("creation"));var dt="z"+Ne;this.stats[dt]=(this.stats[dt]||0)+1,this.total++}if(ft.source=w,nt){if(Ne===at.maxZoom||Ne===nt)continue;var mt=1<<nt-Ne;if(et!==Math.floor(rt/mt)||tt!==Math.floor(it/mt))continue}else if(Ne===at.indexMaxZoom||ft.numPoints<=at.indexMaxPoints)continue;if(ft.source=null,0!==w.length){st>1&&console.time("clipping");var yt,vt,Ot,Dt,Rt,Bt,rn=.5*at.buffer/at.extent,vn=.5-rn,bn=.5+rn,Cn=1+rn;yt=vt=Ot=Dt=null,Rt=re(w,ct,et-rn,et+bn,0,ft.minX,ft.maxX,at),Bt=re(w,ct,et+vn,et+Cn,0,ft.minX,ft.maxX,at),w=null,Rt&&(yt=re(Rt,ct,tt-rn,tt+bn,1,ft.minY,ft.maxY,at),vt=re(Rt,ct,tt+vn,tt+Cn,1,ft.minY,ft.maxY,at),Rt=null),Bt&&(Ot=re(Bt,ct,tt-rn,tt+bn,1,ft.minY,ft.maxY,at),Dt=re(Bt,ct,tt+vn,tt+Cn,1,ft.minY,ft.maxY,at),Bt=null),st>1&&console.timeEnd("clipping"),ot.push(yt||[],Ne+1,2*et,2*tt),ot.push(vt||[],Ne+1,2*et,2*tt+1),ot.push(Ot||[],Ne+1,2*et+1,2*tt),ot.push(Dt||[],Ne+1,2*et+1,2*tt+1)}}},ve.prototype.getTile=function(w,Ne,et){var tt=this.options,nt=tt.extent,rt=tt.debug;if(w<0||w>24)return null;var it=1<<w,ot=ye(w,Ne=(Ne%it+it)%it,et);if(this.tiles[ot])return pe(this.tiles[ot],nt);rt>1&&console.log("drilling down to z%d-%d-%d",w,Ne,et);for(var at,st=w,ct=Ne,pt=et;!at&&st>0;)st--,ct=Math.floor(ct/2),pt=Math.floor(pt/2),at=this.tiles[ye(st,ct,pt)];return at&&at.source?(rt>1&&console.log("found parent tile z%d-%d-%d",st,ct,pt),rt>1&&console.time("drilling down"),this.splitTile(at.source,st,ct,pt,w,Ne,et),rt>1&&console.timeEnd("drilling down"),this.tiles[ot]?pe(this.tiles[ot],nt):null):null};var at=function(Ne){function r(w,et,tt,nt){Ne.call(this,w,et,tt,xe),nt&&(this.loadGeoJSON=nt)}return Ne&&(r.__proto__=Ne),(r.prototype=Object.create(Ne&&Ne.prototype)).constructor=r,r.prototype.loadData=function(w,Ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ne,this._pendingLoadDataParams=w,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var Ne=this;if(this._pendingCallback&&this._pendingLoadDataParams){var et=this._pendingCallback,tt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var nt=!!(tt&&tt.request&&tt.request.collectResourceTiming)&&new w.RequestPerformance(tt.request);this.loadGeoJSON(tt,(function(rt,it){if(rt||!it)return et(rt);if("object"!=typeof it)return et(new Error("Input data given to '"+tt.source+"' is not a valid GeoJSON object."));!function e(w,Ne){var et,tt=w&&w.type;if("FeatureCollection"===tt)for(et=0;et<w.features.length;et++)e(w.features[et],Ne);else if("GeometryCollection"===tt)for(et=0;et<w.geometries.length;et++)e(w.geometries[et],Ne);else if("Feature"===tt)e(w.geometry,Ne);else if("Polygon"===tt)c(w.coordinates,Ne);else if("MultiPolygon"===tt)for(et=0;et<w.coordinates.length;et++)c(w.coordinates[et],Ne);return w}(it,!0);try{Ne._geoJSONIndex=tt.cluster?new J(function(Ne){var et=Ne.superclusterOptions,tt=Ne.clusterProperties;if(!tt||!et)return et;for(var nt={},rt={},it={accumulated:null,zoom:0},ot={properties:null},at=Object.keys(tt),st=0,ct=at;st<ct.length;st+=1){var pt=ct[st],ft=tt[pt],dt=ft[0],mt=w.createExpression(ft[1]),yt=w.createExpression("string"==typeof dt?[dt,["accumulated"],["get",pt]]:dt);nt[pt]=mt.value,rt[pt]=yt.value}return et.map=function(w){ot.properties=w;for(var Ne={},et=0,tt=at;et<tt.length;et+=1){var rt=tt[et];Ne[rt]=nt[rt].evaluate(it,ot)}return Ne},et.reduce=function(w,Ne){ot.properties=Ne;for(var et=0,tt=at;et<tt.length;et+=1){var nt=tt[et];it.accumulated=w[nt],w[nt]=rt[nt].evaluate(it,ot)}},et}(tt)).load(it.features):function(w,Ne){return new ve(w,Ne)}(it,tt.geojsonVtOptions)}catch(rt){return et(rt)}Ne.loaded={};var ot={};if(nt){var at=nt.finish();at&&(ot.resourceTiming={},ot.resourceTiming[tt.source]=JSON.parse(JSON.stringify(at)))}et(null,ot)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(w,et){var tt=this.loaded;return tt&&tt[w.uid]?Ne.prototype.reloadTile.call(this,w,et):this.loadTile(w,et)},r.prototype.loadGeoJSON=function(Ne,et){if(Ne.request)w.getJSON(Ne.request,et);else{if("string"!=typeof Ne.data)return et(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."));try{return et(null,JSON.parse(Ne.data))}catch(w){return et(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(w,Ne){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ne()},r.prototype.getClusterExpansionZoom=function(w,Ne){try{Ne(null,this._geoJSONIndex.getClusterExpansionZoom(w.clusterId))}catch(w){Ne(w)}},r.prototype.getClusterChildren=function(w,Ne){try{Ne(null,this._geoJSONIndex.getChildren(w.clusterId))}catch(w){Ne(w)}},r.prototype.getClusterLeaves=function(w,Ne){try{Ne(null,this._geoJSONIndex.getLeaves(w.clusterId,w.limit,w.offset))}catch(w){Ne(w)}},r}(l),Se=function(Ne){var et=this;this.self=Ne,this.actor=new w.Actor(Ne,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:at},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(w,Ne){if(et.workerSourceTypes[w])throw new Error('Worker source with name "'+w+'" already registered.');et.workerSourceTypes[w]=Ne},this.self.registerRTLTextPlugin=function(Ne){if(w.plugin.isParsed())throw new Error("RTL text plugin already registered.");w.plugin.applyArabicShaping=Ne.applyArabicShaping,w.plugin.processBidirectionalText=Ne.processBidirectionalText,w.plugin.processStyledBidirectionalText=Ne.processStyledBidirectionalText}};return Se.prototype.setReferrer=function(w,Ne){this.referrer=Ne},Se.prototype.setImages=function(w,Ne,et){for(var tt in this.availableImages[w]=Ne,this.workerSources[w]){var nt=this.workerSources[w][tt];for(var rt in nt)nt[rt].availableImages=Ne}et()},Se.prototype.setLayers=function(w,Ne,et){this.getLayerIndex(w).replace(Ne),et()},Se.prototype.updateLayers=function(w,Ne,et){this.getLayerIndex(w).update(Ne.layers,Ne.removedIds),et()},Se.prototype.loadTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).loadTile(Ne,et)},Se.prototype.loadDEMTile=function(w,Ne,et){this.getDEMWorkerSource(w,Ne.source).loadTile(Ne,et)},Se.prototype.reloadTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).reloadTile(Ne,et)},Se.prototype.abortTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).abortTile(Ne,et)},Se.prototype.removeTile=function(w,Ne,et){this.getWorkerSource(w,Ne.type,Ne.source).removeTile(Ne,et)},Se.prototype.removeDEMTile=function(w,Ne){this.getDEMWorkerSource(w,Ne.source).removeTile(Ne)},Se.prototype.removeSource=function(w,Ne,et){if(this.workerSources[w]&&this.workerSources[w][Ne.type]&&this.workerSources[w][Ne.type][Ne.source]){var tt=this.workerSources[w][Ne.type][Ne.source];delete this.workerSources[w][Ne.type][Ne.source],void 0!==tt.removeSource?tt.removeSource(Ne,et):et()}},Se.prototype.loadWorkerSource=function(w,Ne,et){try{this.self.importScripts(Ne.url),et()}catch(w){et(w.toString())}},Se.prototype.syncRTLPluginState=function(Ne,et,tt){try{w.plugin.setState(et);var nt=w.plugin.getPluginURL();if(w.plugin.isLoaded()&&!w.plugin.isParsed()&&null!=nt){this.self.importScripts(nt);var rt=w.plugin.isParsed();tt(rt?void 0:new Error("RTL Text Plugin failed to import scripts from "+nt),rt)}}catch(w){tt(w.toString())}},Se.prototype.getAvailableImages=function(w){var Ne=this.availableImages[w];return Ne||(Ne=[]),Ne},Se.prototype.getLayerIndex=function(w){var Ne=this.layerIndexes[w];return Ne||(Ne=this.layerIndexes[w]=new i),Ne},Se.prototype.getWorkerSource=function(w,Ne,et){var tt=this;return this.workerSources[w]||(this.workerSources[w]={}),this.workerSources[w][Ne]||(this.workerSources[w][Ne]={}),this.workerSources[w][Ne][et]||(this.workerSources[w][Ne][et]=new this.workerSourceTypes[Ne]({send:function(Ne,et,nt){tt.actor.send(Ne,et,nt,w)}},this.getLayerIndex(w),this.getAvailableImages(w))),this.workerSources[w][Ne][et]},Se.prototype.getDEMWorkerSource=function(w,Ne){return this.demWorkerSources[w]||(this.demWorkerSources[w]={}),this.demWorkerSources[w][Ne]||(this.demWorkerSources[w][Ne]=new h),this.demWorkerSources[w][Ne]},Se.prototype.enforceCacheSizeLimit=function(Ne,et){w.enforceCacheSizeLimit(et)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Se(self)),Se})),define(0,(function(w){var Ne=w.createCommonjsModule((function(w){function e(w){return!i(w)}function i(w){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,Ne,et=new Blob([""],{type:"text/javascript"}),tt=URL.createObjectURL(et);try{Ne=new Worker(tt),w=!0}catch(Ne){w=!1}return Ne&&Ne.terminate(),URL.revokeObjectURL(tt),w}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var w=document.createElement("canvas");w.width=w.height=1;var Ne=w.getContext("2d");if(!Ne)return!1;var et=Ne.getImageData(0,0,1,1);return et&&et.width===w.width}()?(void 0===Ne[et=w&&w.failIfMajorPerformanceCaveat]&&(Ne[et]=function(w){var Ne=function(w){var Ne=document.createElement("canvas"),et=Object.create(e.webGLContextAttributes);return et.failIfMajorPerformanceCaveat=w,Ne.probablySupportsContext?Ne.probablySupportsContext("webgl",et)||Ne.probablySupportsContext("experimental-webgl",et):Ne.supportsContext?Ne.supportsContext("webgl",et)||Ne.supportsContext("experimental-webgl",et):Ne.getContext("webgl",et)||Ne.getContext("experimental-webgl",et)}(w);if(!Ne)return!1;var et=Ne.createShader(Ne.VERTEX_SHADER);return!(!et||Ne.isContextLost())&&(Ne.shaderSource(et,"void main() {}"),Ne.compileShader(et),!0===Ne.getShaderParameter(et,Ne.COMPILE_STATUS))}(et)),Ne[et]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var et}w.exports?w.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=i);var Ne={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),et={create:function(Ne,et,tt){var nt=w.window.document.createElement(Ne);return void 0!==et&&(nt.className=et),tt&&tt.appendChild(nt),nt},createNS:function(Ne,et){return w.window.document.createElementNS(Ne,et)}},tt=w.window.document&&w.window.document.documentElement.style;function r(w){if(!tt)return w[0];for(var Ne=0;Ne<w.length;Ne++)if(w[Ne]in tt)return w[Ne];return w[0]}var nt,rt=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);et.disableDrag=function(){tt&&rt&&(nt=tt[rt],tt[rt]="none")},et.enableDrag=function(){tt&&rt&&(tt[rt]=nt)};var it=r(["transform","WebkitTransform"]);et.setTransform=function(w,Ne){w.style[it]=Ne};var ot=!1;try{var at=Object.defineProperty({},"passive",{get:function(){ot=!0}});w.window.addEventListener("test",at,at),w.window.removeEventListener("test",at,at)}catch(w){ot=!1}et.addEventListener=function(w,Ne,et,tt){void 0===tt&&(tt={}),w.addEventListener(Ne,et,"passive"in tt&&ot?tt:tt.capture)},et.removeEventListener=function(w,Ne,et,tt){void 0===tt&&(tt={}),w.removeEventListener(Ne,et,"passive"in tt&&ot?tt:tt.capture)};var u=function(Ne){Ne.preventDefault(),Ne.stopPropagation(),w.window.removeEventListener("click",u,!0)};function h(w){var Ne=w.userImage;return!!(Ne&&Ne.render&&Ne.render())&&(w.data.replace(new Uint8Array(Ne.data.buffer)),!0)}et.suppressClick=function(){w.window.addEventListener("click",u,!0),w.window.setTimeout((function(){w.window.removeEventListener("click",u,!0)}),0)},et.mousePos=function(Ne,et){var tt=Ne.getBoundingClientRect();return new w.Point(et.clientX-tt.left-Ne.clientLeft,et.clientY-tt.top-Ne.clientTop)},et.touchPos=function(Ne,et){for(var tt=Ne.getBoundingClientRect(),nt=[],rt=0;rt<et.length;rt++)nt.push(new w.Point(et[rt].clientX-tt.left-Ne.clientLeft,et[rt].clientY-tt.top-Ne.clientTop));return nt},et.mouseButton=function(Ne){return void 0!==w.window.InstallTrigger&&2===Ne.button&&Ne.ctrlKey&&w.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:Ne.button},et.remove=function(w){w.parentNode&&w.parentNode.removeChild(w)};var st=function(Ne){function i(){Ne.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new w.RGBAImage({width:1,height:1}),this.dirty=!0}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(w){if(this.loaded!==w&&(this.loaded=w,w)){for(var Ne=0,et=this.requestors;Ne<et.length;Ne+=1){var tt=et[Ne];this._notify(tt.ids,tt.callback)}this.requestors=[]}},i.prototype.getImage=function(w){return this.images[w]},i.prototype.addImage=function(w,Ne){this._validate(w,Ne)&&(this.images[w]=Ne)},i.prototype._validate=function(Ne,et){var tt=!0;return this._validateStretch(et.stretchX,et.data&&et.data.width)||(this.fire(new w.ErrorEvent(new Error('Image "'+Ne+'" has invalid "stretchX" value'))),tt=!1),this._validateStretch(et.stretchY,et.data&&et.data.height)||(this.fire(new w.ErrorEvent(new Error('Image "'+Ne+'" has invalid "stretchY" value'))),tt=!1),this._validateContent(et.content,et)||(this.fire(new w.ErrorEvent(new Error('Image "'+Ne+'" has invalid "content" value'))),tt=!1),tt},i.prototype._validateStretch=function(w,Ne){if(!w)return!0;for(var et=0,tt=0,nt=w;tt<nt.length;tt+=1){var rt=nt[tt];if(rt[0]<et||rt[1]<rt[0]||Ne<rt[1])return!1;et=rt[1]}return!0},i.prototype._validateContent=function(w,Ne){return!(w&&(4!==w.length||w[0]<0||Ne.data.width<w[0]||w[1]<0||Ne.data.height<w[1]||w[2]<0||Ne.data.width<w[2]||w[3]<0||Ne.data.height<w[3]||w[2]<w[0]||w[3]<w[1]))},i.prototype.updateImage=function(w,Ne){Ne.version=this.images[w].version+1,this.images[w]=Ne,this.updatedImages[w]=!0},i.prototype.removeImage=function(w){var Ne=this.images[w];delete this.images[w],delete this.patterns[w],Ne.userImage&&Ne.userImage.onRemove&&Ne.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(w,Ne){var et=!0;if(!this.isLoaded())for(var tt=0,nt=w;tt<nt.length;tt+=1)this.images[nt[tt]]||(et=!1);this.isLoaded()||et?this._notify(w,Ne):this.requestors.push({ids:w,callback:Ne})},i.prototype._notify=function(Ne,et){for(var tt={},nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt];this.images[it]||this.fire(new w.Event("styleimagemissing",{id:it}));var ot=this.images[it];ot?tt[it]={data:ot.data.clone(),pixelRatio:ot.pixelRatio,sdf:ot.sdf,version:ot.version,stretchX:ot.stretchX,stretchY:ot.stretchY,content:ot.content,hasRenderCallback:Boolean(ot.userImage&&ot.userImage.render)}:w.warnOnce('Image "'+it+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}et(null,tt)},i.prototype.getPixelSize=function(){var w=this.atlasImage;return{width:w.width,height:w.height}},i.prototype.getPattern=function(Ne){var et=this.patterns[Ne],tt=this.getImage(Ne);if(!tt)return null;if(et&&et.position.version===tt.version)return et.position;if(et)et.position.version=tt.version;else{var nt={w:tt.data.width+2,h:tt.data.height+2,x:0,y:0},rt=new w.ImagePosition(nt,tt);this.patterns[Ne]={bin:nt,position:rt}}return this._updatePatternAtlas(),this.patterns[Ne].position},i.prototype.bind=function(Ne){var et=Ne.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new w.Texture(Ne,this.atlasImage,et.RGBA),this.atlasTexture.bind(et.LINEAR,et.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var Ne=[];for(var et in this.patterns)Ne.push(this.patterns[et].bin);var tt=w.potpack(Ne),nt=tt.w,rt=tt.h,it=this.atlasImage;for(var ot in it.resize({width:nt||1,height:rt||1}),this.patterns){var at=this.patterns[ot].bin,st=at.x+1,ct=at.y+1,pt=this.images[ot].data,ft=pt.width,dt=pt.height;w.RGBAImage.copy(pt,it,{x:0,y:0},{x:st,y:ct},{width:ft,height:dt}),w.RGBAImage.copy(pt,it,{x:0,y:dt-1},{x:st,y:ct-1},{width:ft,height:1}),w.RGBAImage.copy(pt,it,{x:0,y:0},{x:st,y:ct+dt},{width:ft,height:1}),w.RGBAImage.copy(pt,it,{x:ft-1,y:0},{x:st-1,y:ct},{width:1,height:dt}),w.RGBAImage.copy(pt,it,{x:0,y:0},{x:st+ft,y:ct},{width:1,height:dt})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(w){for(var Ne=0,et=w;Ne<et.length;Ne+=1){var tt=et[Ne];if(!this.callbackDispatchedThisFrame[tt]){this.callbackDispatchedThisFrame[tt]=!0;var nt=this.images[tt];h(nt)&&this.updateImage(tt,nt)}}},i}(w.Evented),ct=m,pt=m,ft=1e20;function m(w,Ne,et,tt,nt,rt){this.fontSize=w||24,this.buffer=void 0===Ne?3:Ne,this.cutoff=tt||.25,this.fontFamily=nt||"sans-serif",this.fontWeight=rt||"normal",this.radius=et||8;var it=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=it,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(it*it),this.gridInner=new Float64Array(it*it),this.f=new Float64Array(it),this.d=new Float64Array(it),this.z=new Float64Array(it+1),this.v=new Int16Array(it),this.middle=Math.round(it/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(w,Ne,et,tt,nt,rt,it){for(var ot=0;ot<Ne;ot++){for(var at=0;at<et;at++)tt[at]=w[at*Ne+ot];for(v(tt,nt,rt,it,et),at=0;at<et;at++)w[at*Ne+ot]=nt[at]}for(at=0;at<et;at++){for(ot=0;ot<Ne;ot++)tt[ot]=w[at*Ne+ot];for(v(tt,nt,rt,it,Ne),ot=0;ot<Ne;ot++)w[at*Ne+ot]=Math.sqrt(nt[ot])}}function v(w,Ne,et,tt,nt){et[0]=0,tt[0]=-ft,tt[1]=+ft;for(var rt=1,it=0;rt<nt;rt++){for(var ot=(w[rt]+rt*rt-(w[et[it]]+et[it]*et[it]))/(2*rt-2*et[it]);ot<=tt[it];)it--,ot=(w[rt]+rt*rt-(w[et[it]]+et[it]*et[it]))/(2*rt-2*et[it]);et[++it]=rt,tt[it]=ot,tt[it+1]=+ft}for(rt=0,it=0;rt<nt;rt++){for(;tt[it+1]<rt;)it++;Ne[rt]=(rt-et[it])*(rt-et[it])+w[et[it]]}}m.prototype.draw=function(w){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(w,this.buffer,this.middle);for(var Ne=this.ctx.getImageData(0,0,this.size,this.size),et=new Uint8ClampedArray(this.size*this.size),tt=0;tt<this.size*this.size;tt++){var nt=Ne.data[4*tt+3]/255;this.gridOuter[tt]=1===nt?0:0===nt?ft:Math.pow(Math.max(0,.5-nt),2),this.gridInner[tt]=1===nt?ft:0===nt?0:Math.pow(Math.max(0,nt-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),tt=0;tt<this.size*this.size;tt++)et[tt]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[tt]-this.gridInner[tt])/this.radius+this.cutoff))));return et},ct.default=pt;var y=function(w,Ne){this.requestManager=w,this.localIdeographFontFamily=Ne,this.entries={}};y.prototype.setURL=function(w){this.url=w},y.prototype.getGlyphs=function(Ne,et){var tt=this,nt=[];for(var rt in Ne)for(var it=0,ot=Ne[rt];it<ot.length;it+=1)nt.push({stack:rt,id:ot[it]});w.asyncAll(nt,(function(w,Ne){var et=w.stack,nt=w.id,rt=tt.entries[et];rt||(rt=tt.entries[et]={glyphs:{},requests:{},ranges:{}});var it=rt.glyphs[nt];if(void 0===it){if(it=tt._tinySDF(rt,et,nt))return rt.glyphs[nt]=it,void Ne(null,{stack:et,id:nt,glyph:it});var ot=Math.floor(nt/256);if(256*ot>65535)Ne(new Error("glyphs > 65535 not supported"));else if(rt.ranges[ot])Ne(null,{stack:et,id:nt,glyph:it});else{var at=rt.requests[ot];at||(at=rt.requests[ot]=[],y.loadGlyphRange(et,ot,tt.url,tt.requestManager,(function(w,Ne){if(Ne){for(var et in Ne)tt._doesCharSupportLocalGlyph(+et)||(rt.glyphs[+et]=Ne[+et]);rt.ranges[ot]=!0}for(var nt=0,it=at;nt<it.length;nt+=1)(0,it[nt])(w,Ne);delete rt.requests[ot]}))),at.push((function(w,tt){w?Ne(w):tt&&Ne(null,{stack:et,id:nt,glyph:tt[nt]||null})}))}}else Ne(null,{stack:et,id:nt,glyph:it})}),(function(w,Ne){if(w)et(w);else if(Ne){for(var tt={},nt=0,rt=Ne;nt<rt.length;nt+=1){var it=rt[nt],ot=it.stack,at=it.id,st=it.glyph;(tt[ot]||(tt[ot]={}))[at]=st&&{id:st.id,bitmap:st.bitmap.clone(),metrics:st.metrics}}et(null,tt)}}))},y.prototype._doesCharSupportLocalGlyph=function(Ne){return!!this.localIdeographFontFamily&&(w.isChar["CJK Unified Ideographs"](Ne)||w.isChar["Hangul Syllables"](Ne)||w.isChar.Hiragana(Ne)||w.isChar.Katakana(Ne))},y.prototype._tinySDF=function(Ne,et,tt){var nt=this.localIdeographFontFamily;if(nt&&this._doesCharSupportLocalGlyph(tt)){var rt=Ne.tinySDF;if(!rt){var it="400";/bold/i.test(et)?it="900":/medium/i.test(et)?it="500":/light/i.test(et)&&(it="200"),rt=Ne.tinySDF=new y.TinySDF(24,3,8,.25,nt,it)}return{id:tt,bitmap:new w.AlphaImage({width:30,height:30},rt.draw(String.fromCharCode(tt))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(Ne,et,tt,nt,rt){var it=256*et,ot=it+255,at=nt.transformRequest(nt.normalizeGlyphsURL(tt).replace("{fontstack}",Ne).replace("{range}",it+"-"+ot),w.ResourceType.Glyphs);w.getArrayBuffer(at,(function(Ne,et){if(Ne)rt(Ne);else if(et){for(var tt={},nt=0,it=w.parseGlyphPBF(et);nt<it.length;nt+=1){var ot=it[nt];tt[ot.id]=ot}rt(null,tt)}}))},y.TinySDF=ct;var x=function(){this.specification=w.styleSpec.light.position};x.prototype.possiblyEvaluate=function(Ne,et){return w.sphericalToCartesian(Ne.expression.evaluate(et))},x.prototype.interpolate=function(Ne,et,tt){return{x:w.number(Ne.x,et.x,tt),y:w.number(Ne.y,et.y,tt),z:w.number(Ne.z,et.z,tt)}};var dt=new w.Properties({anchor:new w.DataConstantProperty(w.styleSpec.light.anchor),position:new x,color:new w.DataConstantProperty(w.styleSpec.light.color),intensity:new w.DataConstantProperty(w.styleSpec.light.intensity)}),mt=function(Ne){function i(et){Ne.call(this),this._transitionable=new w.Transitionable(dt),this.setLight(et),this._transitioning=this._transitionable.untransitioned()}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(Ne,et){if(void 0===et&&(et={}),!this._validate(w.validateLight,Ne,et))for(var tt in Ne){var nt=Ne[tt];w.endsWith(tt,"-transition")?this._transitionable.setTransition(tt.slice(0,-"-transition".length),nt):this._transitionable.setValue(tt,nt)}},i.prototype.updateTransitions=function(w){this._transitioning=this._transitionable.transitioned(w,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(w){this.properties=this._transitioning.possiblyEvaluate(w)},i.prototype._validate=function(Ne,et,tt){return(!tt||!1!==tt.validate)&&w.emitValidationErrors(this,Ne.call(w.validateStyle,w.extend({value:et,style:{glyphs:!0,sprite:!0},styleSpec:w.styleSpec})))},i}(w.Evented),T=function(w,Ne){this.width=w,this.height=Ne,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};T.prototype.getDash=function(w,Ne){var et=w.join(",")+String(Ne);return this.dashEntry[et]||(this.dashEntry[et]=this.addDash(w,Ne)),this.dashEntry[et]},T.prototype.getDashRanges=function(w,Ne,et){var tt=[],nt=w.length%2==1?-w[w.length-1]*et:0,rt=w[0]*et,it=!0;tt.push({left:nt,right:rt,isDash:it,zeroLength:0===w[0]});for(var ot=w[0],at=1;at<w.length;at++){var st=w[at];tt.push({left:nt=ot*et,right:rt=(ot+=st)*et,isDash:it=!it,zeroLength:0===st})}return tt},T.prototype.addRoundDash=function(w,Ne,et){for(var tt=Ne/2,nt=-et;nt<=et;nt++)for(var rt=this.width*(this.nextRow+et+nt),it=0,ot=w[it],at=0;at<this.width;at++){at/ot.right>1&&(ot=w[++it]);var st=Math.abs(at-ot.left),ct=Math.abs(at-ot.right),pt=Math.min(st,ct),ft=void 0,dt=nt/et*(tt+1);if(ot.isDash){var mt=tt-Math.abs(dt);ft=Math.sqrt(pt*pt+mt*mt)}else ft=tt-Math.sqrt(pt*pt+dt*dt);this.data[rt+at]=Math.max(0,Math.min(255,ft+128))}},T.prototype.addRegularDash=function(w){for(var Ne=w.length-1;Ne>=0;--Ne){var et=w[Ne],tt=w[Ne+1];et.zeroLength?w.splice(Ne,1):tt&&tt.isDash===et.isDash&&(tt.left=et.left,w.splice(Ne,1))}var nt=w[0],rt=w[w.length-1];nt.isDash===rt.isDash&&(nt.left=rt.left-this.width,rt.right=nt.right+this.width);for(var it=this.width*this.nextRow,ot=0,at=w[ot],st=0;st<this.width;st++){st/at.right>1&&(at=w[++ot]);var ct=Math.abs(st-at.left),pt=Math.abs(st-at.right),ft=Math.min(ct,pt);this.data[it+st]=Math.max(0,Math.min(255,(at.isDash?ft:-ft)+128))}},T.prototype.addDash=function(Ne,et){var tt=et?7:0,nt=2*tt+1;if(this.nextRow+nt>this.height)return w.warnOnce("LineAtlas out of space"),null;for(var rt=0,it=0;it<Ne.length;it++)rt+=Ne[it];if(0!==rt){var ot=this.width/rt,at=this.getDashRanges(Ne,this.width,ot);et?this.addRoundDash(at,ot,tt):this.addRegularDash(at)}var st={y:(this.nextRow+tt+.5)/this.height,height:2*tt/this.height,width:rt};return this.nextRow+=nt,this.dirty=!0,st},T.prototype.bind=function(w){var Ne=w.gl;this.texture?(Ne.bindTexture(Ne.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Ne.texSubImage2D(Ne.TEXTURE_2D,0,0,0,this.width,this.height,Ne.ALPHA,Ne.UNSIGNED_BYTE,this.data))):(this.texture=Ne.createTexture(),Ne.bindTexture(Ne.TEXTURE_2D,this.texture),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_S,Ne.REPEAT),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_T,Ne.REPEAT),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MIN_FILTER,Ne.LINEAR),Ne.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MAG_FILTER,Ne.LINEAR),Ne.texImage2D(Ne.TEXTURE_2D,0,Ne.ALPHA,this.width,this.height,0,Ne.ALPHA,Ne.UNSIGNED_BYTE,this.data))};var yt=function e(Ne,et){this.workerPool=Ne,this.actors=[],this.currentActor=0,this.id=w.uniqueId();for(var tt=this.workerPool.acquire(this.id),nt=0;nt<tt.length;nt++){var rt=new e.Actor(tt[nt],et,this.id);rt.name="Worker "+nt,this.actors.push(rt)}};function I(Ne,et,tt){var r=function(nt,rt){if(nt)return tt(nt);if(rt){var it=w.pick(w.extend(rt,Ne),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);rt.vector_layers&&(it.vectorLayers=rt.vector_layers,it.vectorLayerIds=it.vectorLayers.map((function(w){return w.id}))),it.tiles=et.canonicalizeTileset(it,Ne.url),tt(null,it)}};return Ne.url?w.getJSON(et.transformRequest(et.normalizeSourceURL(Ne.url),w.ResourceType.Source),r):w.browser.frame((function(){return r(null,Ne)}))}yt.prototype.broadcast=function(Ne,et,tt){w.asyncAll(this.actors,(function(w,tt){w.send(Ne,et,tt)}),tt=tt||function(){})},yt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},yt.prototype.remove=function(){this.actors.forEach((function(w){w.remove()})),this.actors=[],this.workerPool.release(this.id)},yt.Actor=w.Actor;var P=function(Ne,et,tt){this.bounds=w.LngLatBounds.convert(this.validateBounds(Ne)),this.minzoom=et||0,this.maxzoom=tt||24};P.prototype.validateBounds=function(w){return Array.isArray(w)&&4===w.length?[Math.max(-180,w[0]),Math.max(-90,w[1]),Math.min(180,w[2]),Math.min(90,w[3])]:[-180,-90,180,90]},P.prototype.contains=function(Ne){var et=Math.pow(2,Ne.z),tt=Math.floor(w.mercatorXfromLng(this.bounds.getWest())*et),nt=Math.floor(w.mercatorYfromLat(this.bounds.getNorth())*et),rt=Math.ceil(w.mercatorXfromLng(this.bounds.getEast())*et),it=Math.ceil(w.mercatorYfromLat(this.bounds.getSouth())*et);return Ne.x>=tt&&Ne.x<rt&&Ne.y>=nt&&Ne.y<it};var vt=function(Ne){function i(et,tt,nt,rt){if(Ne.call(this),this.id=et,this.dispatcher=nt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,w.extend(this,w.pick(tt,["url","scheme","tileSize","promoteId"])),this._options=w.extend({type:"vector"},tt),this._collectResourceTiming=tt.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(rt)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this._loaded=!1,this.fire(new w.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(et,tt){Ne._tileJSONRequest=null,Ne._loaded=!0,et?Ne.fire(new w.ErrorEvent(et)):tt&&(w.extend(Ne,tt),tt.bounds&&(Ne.tileBounds=new P(tt.bounds,Ne.minzoom,Ne.maxzoom)),w.postTurnstileEvent(tt.tiles,Ne.map._requestManager._customAccessToken),w.postMapLoadEvent(tt.tiles,Ne.map._getMapId(),Ne.map._requestManager._skuToken,Ne.map._requestManager._customAccessToken),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"metadata"})),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(w){return!this.tileBounds||this.tileBounds.contains(w.canonical)},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return w.extend({},this._options)},i.prototype.loadTile=function(Ne,et){var tt=this.map._requestManager.normalizeTileURL(Ne.tileID.canonical.url(this.tiles,this.scheme)),nt={request:this.map._requestManager.transformRequest(tt,w.ResourceType.Tile),uid:Ne.uid,tileID:Ne.tileID,zoom:Ne.tileID.overscaledZ,tileSize:this.tileSize*Ne.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:w.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(tt,nt){return delete Ne.request,Ne.aborted?et(null):tt&&404!==tt.status?et(tt):(nt&&nt.resourceTiming&&(Ne.resourceTiming=nt.resourceTiming),this.map._refreshExpiredTiles&&nt&&Ne.setExpiryData(nt),Ne.loadVectorData(nt,this.map.painter),w.cacheEntryPossiblyAdded(this.dispatcher),et(null),void(Ne.reloadCallback&&(this.loadTile(Ne,Ne.reloadCallback),Ne.reloadCallback=null)))}nt.request.collectResourceTiming=this._collectResourceTiming,Ne.actor&&"expired"!==Ne.state?"loading"===Ne.state?Ne.reloadCallback=et:Ne.request=Ne.actor.send("reloadTile",nt,a.bind(this)):(Ne.actor=this.dispatcher.getActor(),Ne.request=Ne.actor.send("loadTile",nt,a.bind(this)))},i.prototype.abortTile=function(w){w.request&&(w.request.cancel(),delete w.request),w.actor&&w.actor.send("abortTile",{uid:w.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(w){w.unloadVectorData(),w.actor&&w.actor.send("removeTile",{uid:w.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(w.Evented),Ot=function(Ne){function i(et,tt,nt,rt){Ne.call(this),this.id=et,this.dispatcher=nt,this.setEventedParent(rt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=w.extend({type:"raster"},tt),w.extend(this,w.pick(tt,["url","scheme","tileSize"]))}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this._loaded=!1,this.fire(new w.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,(function(et,tt){Ne._tileJSONRequest=null,Ne._loaded=!0,et?Ne.fire(new w.ErrorEvent(et)):tt&&(w.extend(Ne,tt),tt.bounds&&(Ne.tileBounds=new P(tt.bounds,Ne.minzoom,Ne.maxzoom)),w.postTurnstileEvent(tt.tiles),w.postMapLoadEvent(tt.tiles,Ne.map._getMapId(),Ne.map._requestManager._skuToken),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"metadata"})),Ne.fire(new w.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return w.extend({},this._options)},i.prototype.hasTile=function(w){return!this.tileBounds||this.tileBounds.contains(w.canonical)},i.prototype.loadTile=function(Ne,et){var tt=this,nt=this.map._requestManager.normalizeTileURL(Ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);Ne.request=w.getImage(this.map._requestManager.transformRequest(nt,w.ResourceType.Tile),(function(nt,rt){if(delete Ne.request,Ne.aborted)Ne.state="unloaded",et(null);else if(nt)Ne.state="errored",et(nt);else if(rt){tt.map._refreshExpiredTiles&&Ne.setExpiryData(rt),delete rt.cacheControl,delete rt.expires;var it=tt.map.painter.context,ot=it.gl;Ne.texture=tt.map.painter.getTileTexture(rt.width),Ne.texture?Ne.texture.update(rt,{useMipmap:!0}):(Ne.texture=new w.Texture(it,rt,ot.RGBA,{useMipmap:!0}),Ne.texture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE,ot.LINEAR_MIPMAP_NEAREST),it.extTextureFilterAnisotropic&&ot.texParameterf(ot.TEXTURE_2D,it.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,it.extTextureFilterAnisotropicMax)),Ne.state="loaded",w.cacheEntryPossiblyAdded(tt.dispatcher),et(null)}}))},i.prototype.abortTile=function(w,Ne){w.request&&(w.request.cancel(),delete w.request),Ne()},i.prototype.unloadTile=function(w,Ne){w.texture&&this.map.painter.saveTileTexture(w.texture),Ne()},i.prototype.hasTransition=function(){return!1},i}(w.Evented),Dt=function(Ne){function i(et,tt,nt,rt){Ne.call(this,et,tt,nt,rt),this.type="raster-dem",this.maxzoom=22,this._options=w.extend({type:"raster-dem"},tt),this.encoding=tt.encoding||"mapbox"}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(Ne,et){var tt=this.map._requestManager.normalizeTileURL(Ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function r(w,tt){w&&(Ne.state="errored",et(w)),tt&&(Ne.dem=tt,Ne.needsHillshadePrepare=!0,Ne.state="loaded",et(null))}Ne.request=w.getImage(this.map._requestManager.transformRequest(tt,w.ResourceType.Tile),function(tt,nt){if(delete Ne.request,Ne.aborted)Ne.state="unloaded",et(null);else if(tt)Ne.state="errored",et(tt);else if(nt){this.map._refreshExpiredTiles&&Ne.setExpiryData(nt),delete nt.cacheControl,delete nt.expires;var rt=w.window.ImageBitmap&&nt instanceof w.window.ImageBitmap&&w.offscreenCanvasSupported()?nt:w.browser.getImageData(nt,1),it={uid:Ne.uid,coord:Ne.tileID,source:this.id,rawImageData:rt,encoding:this.encoding};Ne.actor&&"expired"!==Ne.state||(Ne.actor=this.dispatcher.getActor(),Ne.actor.send("loadDEMTile",it,r.bind(this)))}}.bind(this)),Ne.neighboringTiles=this._getNeighboringTiles(Ne.tileID)},i.prototype._getNeighboringTiles=function(Ne){var et=Ne.canonical,tt=Math.pow(2,et.z),nt=(et.x-1+tt)%tt,rt=0===et.x?Ne.wrap-1:Ne.wrap,it=(et.x+1+tt)%tt,ot=et.x+1===tt?Ne.wrap+1:Ne.wrap,at={};return at[new w.OverscaledTileID(Ne.overscaledZ,rt,et.z,nt,et.y).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,ot,et.z,it,et.y).key]={backfilled:!1},et.y>0&&(at[new w.OverscaledTileID(Ne.overscaledZ,rt,et.z,nt,et.y-1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,Ne.wrap,et.z,et.x,et.y-1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,ot,et.z,it,et.y-1).key]={backfilled:!1}),et.y+1<tt&&(at[new w.OverscaledTileID(Ne.overscaledZ,rt,et.z,nt,et.y+1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,Ne.wrap,et.z,et.x,et.y+1).key]={backfilled:!1},at[new w.OverscaledTileID(Ne.overscaledZ,ot,et.z,it,et.y+1).key]={backfilled:!1}),at},i.prototype.unloadTile=function(w){w.demTexture&&this.map.painter.saveTileTexture(w.demTexture),w.fbo&&(w.fbo.destroy(),delete w.fbo),w.dem&&delete w.dem,delete w.neighboringTiles,w.state="unloaded",w.actor&&w.actor.send("removeDEMTile",{uid:w.uid,source:this.id})},i}(Ot),Rt=function(Ne){function i(et,tt,nt,rt){Ne.call(this),this.id=et,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=nt.getActor(),this.setEventedParent(rt),this._data=tt.data,this._options=w.extend({},tt),this._collectResourceTiming=tt.collectResourceTiming,this._resourceTiming=[],void 0!==tt.maxzoom&&(this.maxzoom=tt.maxzoom),tt.type&&(this.type=tt.type),tt.attribution&&(this.attribution=tt.attribution),this.promoteId=tt.promoteId;var it=w.EXTENT/this.tileSize;this.workerOptions=w.extend({source:this.id,cluster:tt.cluster||!1,geojsonVtOptions:{buffer:(void 0!==tt.buffer?tt.buffer:128)*it,tolerance:(void 0!==tt.tolerance?tt.tolerance:.375)*it,extent:w.EXTENT,maxZoom:this.maxzoom,lineMetrics:tt.lineMetrics||!1,generateId:tt.generateId||!1},superclusterOptions:{maxZoom:void 0!==tt.clusterMaxZoom?Math.min(tt.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,tt.clusterMinPoints||2),extent:w.EXTENT,radius:(tt.clusterRadius||50)*it,log:!1,generateId:tt.generateId||!1},clusterProperties:tt.clusterProperties},tt.workerOptions)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this.fire(new w.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(et){if(et)Ne.fire(new w.ErrorEvent(et));else{var tt={dataType:"source",sourceDataType:"metadata"};Ne._collectResourceTiming&&Ne._resourceTiming&&Ne._resourceTiming.length>0&&(tt.resourceTiming=Ne._resourceTiming,Ne._resourceTiming=[]),Ne.fire(new w.Event("data",tt))}}))},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.setData=function(Ne){var et=this;return this._data=Ne,this.fire(new w.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(Ne){if(Ne)et.fire(new w.ErrorEvent(Ne));else{var tt={dataType:"source",sourceDataType:"content"};et._collectResourceTiming&&et._resourceTiming&&et._resourceTiming.length>0&&(tt.resourceTiming=et._resourceTiming,et._resourceTiming=[]),et.fire(new w.Event("data",tt))}})),this},i.prototype.getClusterExpansionZoom=function(w,Ne){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:w,source:this.id},Ne),this},i.prototype.getClusterChildren=function(w,Ne){return this.actor.send("geojson.getClusterChildren",{clusterId:w,source:this.id},Ne),this},i.prototype.getClusterLeaves=function(w,Ne,et,tt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:w,limit:Ne,offset:et},tt),this},i.prototype._updateWorkerData=function(Ne){var et=this;this._loaded=!1;var tt=w.extend({},this.workerOptions),nt=this._data;"string"==typeof nt?(tt.request=this.map._requestManager.transformRequest(w.browser.resolveURL(nt),w.ResourceType.Source),tt.request.collectResourceTiming=this._collectResourceTiming):tt.data=JSON.stringify(nt),this.actor.send(this.type+".loadData",tt,(function(w,nt){et._removed||nt&&nt.abandoned||(et._loaded=!0,nt&&nt.resourceTiming&&nt.resourceTiming[et.id]&&(et._resourceTiming=nt.resourceTiming[et.id].slice(0)),et.actor.send(et.type+".coalesce",{source:tt.source},null),Ne(w))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(Ne,et){var tt=this,nt=Ne.actor?"reloadTile":"loadTile";Ne.actor=this.actor,Ne.request=this.actor.send(nt,{type:this.type,uid:Ne.uid,tileID:Ne.tileID,zoom:Ne.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:w.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(w,rt){return delete Ne.request,Ne.unloadVectorData(),Ne.aborted?et(null):w?et(w):(Ne.loadVectorData(rt,tt.map.painter,"reloadTile"===nt),et(null))}))},i.prototype.abortTile=function(w){w.request&&(w.request.cancel(),delete w.request),w.aborted=!0},i.prototype.unloadTile=function(w){w.unloadVectorData(),this.actor.send("removeTile",{uid:w.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return w.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(w.Evented),Bt=w.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),rn=function(Ne){function i(w,et,tt,nt){Ne.call(this),this.id=w,this.dispatcher=tt,this.coordinates=et.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(nt),this.options=et}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(Ne,et){var tt=this;this._loaded=!1,this.fire(new w.Event("dataloading",{dataType:"source"})),this.url=this.options.url,w.getImage(this.map._requestManager.transformRequest(this.url,w.ResourceType.Image),(function(nt,rt){tt._loaded=!0,nt?tt.fire(new w.ErrorEvent(nt)):rt&&(tt.image=rt,Ne&&(tt.coordinates=Ne),et&&et(),tt._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(w){var Ne=this;return this.image&&w.url?(this.options.url=w.url,this.load(w.coordinates,(function(){Ne.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new w.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(w){this.map=w,this.load()},i.prototype.setCoordinates=function(Ne){var et=this;this.coordinates=Ne;var tt=Ne.map(w.MercatorCoordinate.fromLngLat);this.tileID=function(Ne){for(var et=1/0,tt=1/0,nt=-1/0,rt=-1/0,it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it];et=Math.min(et,at.x),tt=Math.min(tt,at.y),nt=Math.max(nt,at.x),rt=Math.max(rt,at.y)}var st=Math.max(nt-et,rt-tt),ct=Math.max(0,Math.floor(-Math.log(st)/Math.LN2)),pt=Math.pow(2,ct);return new w.CanonicalTileID(ct,Math.floor((et+nt)/2*pt),Math.floor((tt+rt)/2*pt))}(tt),this.minzoom=this.maxzoom=this.tileID.z;var nt=tt.map((function(w){return et.tileID.getTilePoint(w)._round()}));return this._boundsArray=new w.StructArrayLayout4i8,this._boundsArray.emplaceBack(nt[0].x,nt[0].y,0,0),this._boundsArray.emplaceBack(nt[1].x,nt[1].y,w.EXTENT,0),this._boundsArray.emplaceBack(nt[3].x,nt[3].y,0,w.EXTENT),this._boundsArray.emplaceBack(nt[2].x,nt[2].y,w.EXTENT,w.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new w.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var Ne=this.map.painter.context,et=Ne.gl;for(var tt in this.boundsBuffer||(this.boundsBuffer=Ne.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=w.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new w.Texture(Ne,this.image,et.RGBA),this.texture.bind(et.LINEAR,et.CLAMP_TO_EDGE)),this.tiles){var nt=this.tiles[tt];"loaded"!==nt.state&&(nt.state="loaded",nt.texture=this.texture)}}},i.prototype.loadTile=function(w,Ne){this.tileID&&this.tileID.equals(w.tileID.canonical)?(this.tiles[String(w.tileID.wrap)]=w,w.buckets={},Ne(null)):(w.state="errored",Ne(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(w.Evented),vn=function(Ne){function i(w,et,tt,nt){Ne.call(this,w,et,tt,nt),this.roundZoom=!0,this.type="video",this.options=et}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){var Ne=this;this._loaded=!1;var et=this.options;this.urls=[];for(var tt=0,nt=et.urls;tt<nt.length;tt+=1)this.urls.push(this.map._requestManager.transformRequest(nt[tt],w.ResourceType.Source).url);w.getVideo(this.urls,(function(et,tt){Ne._loaded=!0,et?Ne.fire(new w.ErrorEvent(et)):tt&&(Ne.video=tt,Ne.video.loop=!0,Ne.video.addEventListener("playing",(function(){Ne.map.triggerRepaint()})),Ne.map&&Ne.video.play(),Ne._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(Ne){if(this.video){var et=this.video.seekable;Ne<et.start(0)||Ne>et.end(0)?this.fire(new w.ErrorEvent(new w.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+et.start(0)+" and "+et.end(0)+"-second mark."))):this.video.currentTime=Ne}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(w){this.map||(this.map=w,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var Ne=this.map.painter.context,et=Ne.gl;for(var tt in this.boundsBuffer||(this.boundsBuffer=Ne.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=w.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(et.LINEAR,et.CLAMP_TO_EDGE),et.texSubImage2D(et.TEXTURE_2D,0,0,0,et.RGBA,et.UNSIGNED_BYTE,this.video)):(this.texture=new w.Texture(Ne,this.video,et.RGBA),this.texture.bind(et.LINEAR,et.CLAMP_TO_EDGE)),this.tiles){var nt=this.tiles[tt];"loaded"!==nt.state&&(nt.state="loaded",nt.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(rn),bn=function(Ne){function i(et,tt,nt,rt){Ne.call(this,et,tt,nt,rt),tt.coordinates?Array.isArray(tt.coordinates)&&4===tt.coordinates.length&&!tt.coordinates.some((function(w){return!Array.isArray(w)||2!==w.length||w.some((function(w){return"number"!=typeof w}))}))||this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'missing required property "coordinates"'))),tt.animate&&"boolean"!=typeof tt.animate&&this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'optional "animate" property must be a boolean value'))),tt.canvas?"string"==typeof tt.canvas||tt.canvas instanceof w.window.HTMLCanvasElement||this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new w.ErrorEvent(new w.ValidationError("sources."+et,null,'missing required property "canvas"'))),this.options=tt,this.animate=void 0===tt.animate||tt.animate}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof w.window.HTMLCanvasElement?this.options.canvas:w.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new w.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(w){this.map=w,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var Ne=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,Ne=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,Ne=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var et=this.map.painter.context,tt=et.gl;for(var nt in this.boundsBuffer||(this.boundsBuffer=et.createVertexBuffer(this._boundsArray,Bt.members)),this.boundsSegments||(this.boundsSegments=w.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(Ne||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new w.Texture(et,this.canvas,tt.RGBA,{premultiply:!0}),this.tiles){var rt=this.tiles[nt];"loaded"!==rt.state&&(rt.state="loaded",rt.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var w=0,Ne=[this.canvas.width,this.canvas.height];w<Ne.length;w+=1){var et=Ne[w];if(isNaN(et)||et<=0)return!0}return!1},i}(rn),Cn={vector:vt,raster:Ot,"raster-dem":Dt,geojson:Rt,video:vn,image:rn,canvas:bn};function B(Ne,et){var tt=w.identity([]);return w.translate(tt,tt,[1,1,0]),w.scale(tt,tt,[.5*Ne.width,.5*Ne.height,1]),w.multiply(tt,tt,Ne.calculatePosMatrix(et.toUnwrapped()))}function O(w,Ne,et,tt,nt,rt){var it=function(w,Ne,et){if(w)for(var tt=0,nt=w;tt<nt.length;tt+=1){var rt=Ne[nt[tt]];if(rt&&rt.source===et&&"fill-extrusion"===rt.type)return!0}else for(var it in Ne){var ot=Ne[it];if(ot.source===et&&"fill-extrusion"===ot.type)return!0}return!1}(nt&&nt.layers,Ne,w.id),ot=rt.maxPitchScaleFactor(),at=w.tilesIn(tt,ot,it);at.sort(F);for(var st=[],ct=0,pt=at;ct<pt.length;ct+=1){var ft=pt[ct];st.push({wrappedTileID:ft.tileID.wrapped().key,queryResults:ft.tile.queryRenderedFeatures(Ne,et,w._state,ft.queryGeometry,ft.cameraQueryGeometry,ft.scale,nt,rt,ot,B(w.transform,ft.tileID))})}var dt=function(w){for(var Ne={},et={},tt=0,nt=w;tt<nt.length;tt+=1){var rt=nt[tt],it=rt.queryResults,ot=rt.wrappedTileID,at=et[ot]=et[ot]||{};for(var st in it)for(var ct=it[st],pt=at[st]=at[st]||{},ft=Ne[st]=Ne[st]||[],dt=0,mt=ct;dt<mt.length;dt+=1){var yt=mt[dt];pt[yt.featureIndex]||(pt[yt.featureIndex]=!0,ft.push(yt))}}return Ne}(st);for(var mt in dt)dt[mt].forEach((function(Ne){var et=Ne.feature,tt=w.getFeatureState(et.layer["source-layer"],et.id);et.source=et.layer.source,et.layer["source-layer"]&&(et.sourceLayer=et.layer["source-layer"]),et.state=tt}));return dt}function F(w,Ne){var et=w.tileID,tt=Ne.tileID;return et.overscaledZ-tt.overscaledZ||et.canonical.y-tt.canonical.y||et.wrap-tt.wrap||et.canonical.x-tt.canonical.x}var U=function(w,Ne){this.max=w,this.onRemove=Ne,this.reset()};U.prototype.reset=function(){for(var w in this.data)for(var Ne=0,et=this.data[w];Ne<et.length;Ne+=1){var tt=et[Ne];tt.timeout&&clearTimeout(tt.timeout),this.onRemove(tt.value)}return this.data={},this.order=[],this},U.prototype.add=function(w,Ne,et){var tt=this,nt=w.wrapped().key;void 0===this.data[nt]&&(this.data[nt]=[]);var rt={value:Ne,timeout:void 0};if(void 0!==et&&(rt.timeout=setTimeout((function(){tt.remove(w,rt)}),et)),this.data[nt].push(rt),this.order.push(nt),this.order.length>this.max){var it=this._getAndRemoveByKey(this.order[0]);it&&this.onRemove(it)}return this},U.prototype.has=function(w){return w.wrapped().key in this.data},U.prototype.getAndRemove=function(w){return this.has(w)?this._getAndRemoveByKey(w.wrapped().key):null},U.prototype._getAndRemoveByKey=function(w){var Ne=this.data[w].shift();return Ne.timeout&&clearTimeout(Ne.timeout),0===this.data[w].length&&delete this.data[w],this.order.splice(this.order.indexOf(w),1),Ne.value},U.prototype.getByKey=function(w){var Ne=this.data[w];return Ne?Ne[0].value:null},U.prototype.get=function(w){return this.has(w)?this.data[w.wrapped().key][0].value:null},U.prototype.remove=function(w,Ne){if(!this.has(w))return this;var et=w.wrapped().key,tt=void 0===Ne?0:this.data[et].indexOf(Ne),nt=this.data[et][tt];return this.data[et].splice(tt,1),nt.timeout&&clearTimeout(nt.timeout),0===this.data[et].length&&delete this.data[et],this.onRemove(nt.value),this.order.splice(this.order.indexOf(et),1),this},U.prototype.setMaxSize=function(w){for(this.max=w;this.order.length>this.max;){var Ne=this._getAndRemoveByKey(this.order[0]);Ne&&this.onRemove(Ne)}return this},U.prototype.filter=function(w){var Ne=[];for(var et in this.data)for(var tt=0,nt=this.data[et];tt<nt.length;tt+=1){var rt=nt[tt];w(rt.value)||Ne.push(rt)}for(var it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it];this.remove(at.value.tileID,at)}};var N=function(w,Ne,et){this.context=w;var tt=w.gl;this.buffer=tt.createBuffer(),this.dynamicDraw=Boolean(et),this.context.unbindVAO(),w.bindElementBuffer.set(this.buffer),tt.bufferData(tt.ELEMENT_ARRAY_BUFFER,Ne.arrayBuffer,this.dynamicDraw?tt.DYNAMIC_DRAW:tt.STATIC_DRAW),this.dynamicDraw||delete Ne.arrayBuffer};N.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},N.prototype.updateData=function(w){var Ne=this.context.gl;this.context.unbindVAO(),this.bind(),Ne.bufferSubData(Ne.ELEMENT_ARRAY_BUFFER,0,w.arrayBuffer)},N.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Tn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},j=function(w,Ne,et,tt){this.length=Ne.length,this.attributes=et,this.itemSize=Ne.bytesPerElement,this.dynamicDraw=tt,this.context=w;var nt=w.gl;this.buffer=nt.createBuffer(),w.bindVertexBuffer.set(this.buffer),nt.bufferData(nt.ARRAY_BUFFER,Ne.arrayBuffer,this.dynamicDraw?nt.DYNAMIC_DRAW:nt.STATIC_DRAW),this.dynamicDraw||delete Ne.arrayBuffer};j.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},j.prototype.updateData=function(w){var Ne=this.context.gl;this.bind(),Ne.bufferSubData(Ne.ARRAY_BUFFER,0,w.arrayBuffer)},j.prototype.enableAttributes=function(w,Ne){for(var et=0;et<this.attributes.length;et++){var tt=Ne.attributes[this.attributes[et].name];void 0!==tt&&w.enableVertexAttribArray(tt)}},j.prototype.setVertexAttribPointers=function(w,Ne,et){for(var tt=0;tt<this.attributes.length;tt++){var nt=this.attributes[tt],rt=Ne.attributes[nt.name];void 0!==rt&&w.vertexAttribPointer(rt,nt.components,w[Tn[nt.type]],!1,this.itemSize,nt.offset+this.itemSize*(et||0))}},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var q=function(w){this.gl=w.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(w){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var In=function(Ne){function i(){Ne.apply(this,arguments)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getDefault=function(){return w.Color.transparent},i.prototype.set=function(w){var Ne=this.current;(w.r!==Ne.r||w.g!==Ne.g||w.b!==Ne.b||w.a!==Ne.a||this.dirty)&&(this.gl.clearColor(w.r,w.g,w.b,w.a),this.current=w,this.dirty=!1)},i}(q),Mn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.clearDepth(w),this.current=w,this.dirty=!1)},e}(q),zn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.clearStencil(w),this.current=w,this.dirty=!1)},e}(q),Ln=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||w[2]!==Ne[2]||w[3]!==Ne[3]||this.dirty)&&(this.gl.colorMask(w[0],w[1],w[2],w[3]),this.current=w,this.dirty=!1)},e}(q),Fn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.depthMask(w),this.current=w,this.dirty=!1)},e}(q),Bn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.stencilMask(w),this.current=w,this.dirty=!1)},e}(q),Nn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(w){var Ne=this.current;(w.func!==Ne.func||w.ref!==Ne.ref||w.mask!==Ne.mask||this.dirty)&&(this.gl.stencilFunc(w.func,w.ref,w.mask),this.current=w,this.dirty=!1)},e}(q),Vn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){var w=this.gl;return[w.KEEP,w.KEEP,w.KEEP]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||w[2]!==Ne[2]||this.dirty)&&(this.gl.stencilOp(w[0],w[1],w[2]),this.current=w,this.dirty=!1)},e}(q),Wn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.STENCIL_TEST):Ne.disable(Ne.STENCIL_TEST),this.current=w,this.dirty=!1}},e}(q),$n=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||this.dirty)&&(this.gl.depthRange(w[0],w[1]),this.current=w,this.dirty=!1)},e}(q),Yn=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.DEPTH_TEST):Ne.disable(Ne.DEPTH_TEST),this.current=w,this.dirty=!1}},e}(q),er=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.depthFunc(w),this.current=w,this.dirty=!1)},e}(q),rr=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.BLEND):Ne.disable(Ne.BLEND),this.current=w,this.dirty=!1}},e}(q),vr=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){var w=this.gl;return[w.ONE,w.ZERO]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||this.dirty)&&(this.gl.blendFunc(w[0],w[1]),this.current=w,this.dirty=!1)},e}(q),wr=function(Ne){function i(){Ne.apply(this,arguments)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getDefault=function(){return w.Color.transparent},i.prototype.set=function(w){var Ne=this.current;(w.r!==Ne.r||w.g!==Ne.g||w.b!==Ne.b||w.a!==Ne.a||this.dirty)&&(this.gl.blendColor(w.r,w.g,w.b,w.a),this.current=w,this.dirty=!1)},i}(q),Sr=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.blendEquation(w),this.current=w,this.dirty=!1)},e}(q),ii=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;w?Ne.enable(Ne.CULL_FACE):Ne.disable(Ne.CULL_FACE),this.current=w,this.dirty=!1}},e}(q),qi=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.cullFace(w),this.current=w,this.dirty=!1)},e}(q),uo=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.frontFace(w),this.current=w,this.dirty=!1)},e}(q),po=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.useProgram(w),this.current=w,this.dirty=!1)},e}(q),vo=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(w){(w!==this.current||this.dirty)&&(this.gl.activeTexture(w),this.current=w,this.dirty=!1)},e}(q),So=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){var w=this.gl;return[0,0,w.drawingBufferWidth,w.drawingBufferHeight]},e.prototype.set=function(w){var Ne=this.current;(w[0]!==Ne[0]||w[1]!==Ne[1]||w[2]!==Ne[2]||w[3]!==Ne[3]||this.dirty)&&(this.gl.viewport(w[0],w[1],w[2],w[3]),this.current=w,this.dirty=!1)},e}(q),ta=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindFramebuffer(Ne.FRAMEBUFFER,w),this.current=w,this.dirty=!1}},e}(q),na=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindRenderbuffer(Ne.RENDERBUFFER,w),this.current=w,this.dirty=!1}},e}(q),ia=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindTexture(Ne.TEXTURE_2D,w),this.current=w,this.dirty=!1}},e}(q),sa=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.bindBuffer(Ne.ARRAY_BUFFER,w),this.current=w,this.dirty=!1}},e}(q),la=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){var Ne=this.gl;Ne.bindBuffer(Ne.ELEMENT_ARRAY_BUFFER,w),this.current=w,this.dirty=!1},e}(q),pa=function(w){function e(Ne){w.call(this,Ne),this.vao=Ne.extVertexArrayObject}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(w){this.vao&&(w!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(w),this.current=w,this.dirty=!1)},e}(q),fa=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.pixelStorei(Ne.UNPACK_ALIGNMENT,w),this.current=w,this.dirty=!1}},e}(q),ga=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.pixelStorei(Ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w),this.current=w,this.dirty=!1}},e}(q),va=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(w){if(w!==this.current||this.dirty){var Ne=this.gl;Ne.pixelStorei(Ne.UNPACK_FLIP_Y_WEBGL,w),this.current=w,this.dirty=!1}},e}(q),_a=function(w){function e(Ne,et){w.call(this,Ne),this.context=Ne,this.parent=et}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(q),wa=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(w){if(w!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var Ne=this.gl;Ne.framebufferTexture2D(Ne.FRAMEBUFFER,Ne.COLOR_ATTACHMENT0,Ne.TEXTURE_2D,w,0),this.current=w,this.dirty=!1}},e}(_a),Aa=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.set=function(w){if(w!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var Ne=this.gl;Ne.framebufferRenderbuffer(Ne.FRAMEBUFFER,Ne.DEPTH_ATTACHMENT,Ne.RENDERBUFFER,w),this.current=w,this.dirty=!1}},e}(_a),Et=function(w,Ne,et,tt){this.context=w,this.width=Ne,this.height=et;var nt=this.framebuffer=w.gl.createFramebuffer();this.colorAttachment=new wa(w,nt),tt&&(this.depthAttachment=new Aa(w,nt))};Et.prototype.destroy=function(){var w=this.context.gl,Ne=this.colorAttachment.get();if(Ne&&w.deleteTexture(Ne),this.depthAttachment){var et=this.depthAttachment.get();et&&w.deleteRenderbuffer(et)}w.deleteFramebuffer(this.framebuffer)};var It=function(w,Ne,et){this.func=w,this.mask=Ne,this.range=et};It.ReadOnly=!1,It.ReadWrite=!0,It.disabled=new It(519,It.ReadOnly,[0,1]);var Pt=function(w,Ne,et,tt,nt,rt){this.test=w,this.ref=Ne,this.mask=et,this.fail=tt,this.depthFail=nt,this.pass=rt};Pt.disabled=new Pt({func:519,mask:0},0,0,7680,7680,7680);var St=function(w,Ne,et){this.blendFunction=w,this.blendColor=Ne,this.mask=et};St.disabled=new St(St.Replace=[1,0],w.Color.transparent,[!1,!1,!1,!1]),St.unblended=new St(St.Replace,w.Color.transparent,[!0,!0,!0,!0]),St.alphaBlended=new St([1,771],w.Color.transparent,[!0,!0,!0,!0]);var Ct=function(w,Ne,et){this.enable=w,this.mode=Ne,this.frontFace=et};Ct.disabled=new Ct(!1,1029,2305),Ct.backCCW=new Ct(!0,1029,2305);var zt=function(w){this.gl=w,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new In(this),this.clearDepth=new Mn(this),this.clearStencil=new zn(this),this.colorMask=new Ln(this),this.depthMask=new Fn(this),this.stencilMask=new Bn(this),this.stencilFunc=new Nn(this),this.stencilOp=new Vn(this),this.stencilTest=new Wn(this),this.depthRange=new $n(this),this.depthTest=new Yn(this),this.depthFunc=new er(this),this.blend=new rr(this),this.blendFunc=new vr(this),this.blendColor=new wr(this),this.blendEquation=new Sr(this),this.cullFace=new ii(this),this.cullFaceSide=new qi(this),this.frontFace=new uo(this),this.program=new po(this),this.activeTexture=new vo(this),this.viewport=new So(this),this.bindFramebuffer=new ta(this),this.bindRenderbuffer=new na(this),this.bindTexture=new ia(this),this.bindVertexBuffer=new sa(this),this.bindElementBuffer=new la(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new pa(this),this.pixelStoreUnpack=new fa(this),this.pixelStoreUnpackPremultiplyAlpha=new ga(this),this.pixelStoreUnpackFlipY=new va(this),this.extTextureFilterAnisotropic=w.getExtension("EXT_texture_filter_anisotropic")||w.getExtension("MOZ_EXT_texture_filter_anisotropic")||w.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=w.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=w.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(w.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=w.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=w.getExtension("EXT_disjoint_timer_query")};zt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},zt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},zt.prototype.createIndexBuffer=function(w,Ne){return new N(this,w,Ne)},zt.prototype.createVertexBuffer=function(w,Ne,et){return new j(this,w,Ne,et)},zt.prototype.createRenderbuffer=function(w,Ne,et){var tt=this.gl,nt=tt.createRenderbuffer();return this.bindRenderbuffer.set(nt),tt.renderbufferStorage(tt.RENDERBUFFER,w,Ne,et),this.bindRenderbuffer.set(null),nt},zt.prototype.createFramebuffer=function(w,Ne,et){return new Et(this,w,Ne,et)},zt.prototype.clear=function(w){var Ne=w.color,et=w.depth,tt=this.gl,nt=0;Ne&&(nt|=tt.COLOR_BUFFER_BIT,this.clearColor.set(Ne),this.colorMask.set([!0,!0,!0,!0])),void 0!==et&&(nt|=tt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(et),this.depthMask.set(!0)),tt.clear(nt)},zt.prototype.setCullFace=function(w){!1===w.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(w.mode),this.frontFace.set(w.frontFace))},zt.prototype.setDepthMode=function(w){w.func!==this.gl.ALWAYS||w.mask?(this.depthTest.set(!0),this.depthFunc.set(w.func),this.depthMask.set(w.mask),this.depthRange.set(w.range)):this.depthTest.set(!1)},zt.prototype.setStencilMode=function(w){w.test.func!==this.gl.ALWAYS||w.mask?(this.stencilTest.set(!0),this.stencilMask.set(w.mask),this.stencilOp.set([w.fail,w.depthFail,w.pass]),this.stencilFunc.set({func:w.test.func,ref:w.ref,mask:w.test.mask})):this.stencilTest.set(!1)},zt.prototype.setColorMode=function(Ne){w.deepEqual(Ne.blendFunction,St.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Ne.blendFunction),this.blendColor.set(Ne.blendColor)),this.colorMask.set(Ne.mask)},zt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var os=function(Ne){function i(et,tt,nt){var rt=this;Ne.call(this),this.id=et,this.dispatcher=nt,this.on("data",(function(w){"source"===w.dataType&&"metadata"===w.sourceDataType&&(rt._sourceLoaded=!0),rt._sourceLoaded&&!rt._paused&&"source"===w.dataType&&"content"===w.sourceDataType&&(rt.reload(),rt.transform&&rt.update(rt.transform))})),this.on("error",(function(){rt._sourceErrored=!0})),this._source=function(Ne,et,tt,nt){var rt=new Cn[et.type](Ne,et,tt,nt);if(rt.id!==Ne)throw new Error("Expected Source id to be "+Ne+" instead of "+rt.id);return w.bindAll(["load","abort","unload","serialize","prepare"],rt),rt}(et,tt,nt,this),this._tiles={},this._cache=new U(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new w.SourceFeatureState}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.onAdd=function(w){this.map=w,this._maxTileCacheSize=w?w._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(w)},i.prototype.onRemove=function(w){this._source&&this._source.onRemove&&this._source.onRemove(w)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var w in this._tiles){var Ne=this._tiles[w];if("loaded"!==Ne.state&&"errored"!==Ne.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var w=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,w&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(w,Ne){return this._source.loadTile(w,Ne)},i.prototype._unloadTile=function(w){if(this._source.unloadTile)return this._source.unloadTile(w,(function(){}))},i.prototype._abortTile=function(w){if(this._source.abortTile)return this._source.abortTile(w,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(w){for(var Ne in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var et=this._tiles[Ne];et.upload(w),et.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return w.values(this._tiles).map((function(w){return w.tileID})).sort(Mt).map((function(w){return w.key}))},i.prototype.getRenderableIds=function(Ne){var et=this,tt=[];for(var nt in this._tiles)this._isIdRenderable(nt,Ne)&&tt.push(this._tiles[nt]);return Ne?tt.sort((function(Ne,tt){var nt=Ne.tileID,rt=tt.tileID,it=new w.Point(nt.canonical.x,nt.canonical.y)._rotate(et.transform.angle),ot=new w.Point(rt.canonical.x,rt.canonical.y)._rotate(et.transform.angle);return nt.overscaledZ-rt.overscaledZ||ot.y-it.y||ot.x-it.x})).map((function(w){return w.tileID.key})):tt.map((function(w){return w.tileID})).sort(Mt).map((function(w){return w.key}))},i.prototype.hasRenderableParent=function(w){var Ne=this.findLoadedParent(w,0);return!!Ne&&this._isIdRenderable(Ne.tileID.key)},i.prototype._isIdRenderable=function(w,Ne){return this._tiles[w]&&this._tiles[w].hasData()&&!this._coveredTiles[w]&&(Ne||!this._tiles[w].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var w in this._cache.reset(),this._tiles)"errored"!==this._tiles[w].state&&this._reloadTile(w,"reloading")},i.prototype._reloadTile=function(w,Ne){var et=this._tiles[w];et&&("loading"!==et.state&&(et.state=Ne),this._loadTile(et,this._tileLoaded.bind(this,et,w,Ne)))},i.prototype._tileLoaded=function(Ne,et,tt,nt){if(nt)return Ne.state="errored",void(404!==nt.status?this._source.fire(new w.ErrorEvent(nt,{tile:Ne})):this.update(this.transform));Ne.timeAdded=w.browser.now(),"expired"===tt&&(Ne.refreshedUponExpiration=!0),this._setTileReloadTimer(et,Ne),"raster-dem"===this.getSource().type&&Ne.dem&&this._backfillDEM(Ne),this._state.initializeTileState(Ne,this.map?this.map.painter:null),this._source.fire(new w.Event("data",{dataType:"source",tile:Ne,coord:Ne.tileID}))},i.prototype._backfillDEM=function(w){for(var Ne=this.getRenderableIds(),et=0;et<Ne.length;et++){var tt=Ne[et];if(w.neighboringTiles&&w.neighboringTiles[tt]){var nt=this.getTileByID(tt);a(w,nt),a(nt,w)}}function a(w,Ne){w.needsHillshadePrepare=!0;var et=Ne.tileID.canonical.x-w.tileID.canonical.x,tt=Ne.tileID.canonical.y-w.tileID.canonical.y,nt=Math.pow(2,w.tileID.canonical.z),rt=Ne.tileID.key;0===et&&0===tt||Math.abs(tt)>1||(Math.abs(et)>1&&(1===Math.abs(et+nt)?et+=nt:1===Math.abs(et-nt)&&(et-=nt)),Ne.dem&&w.dem&&(w.dem.backfillBorder(Ne.dem,et,tt),w.neighboringTiles&&w.neighboringTiles[rt]&&(w.neighboringTiles[rt].backfilled=!0)))}},i.prototype.getTile=function(w){return this.getTileByID(w.key)},i.prototype.getTileByID=function(w){return this._tiles[w]},i.prototype._retainLoadedChildren=function(w,Ne,et,tt){for(var nt in this._tiles){var rt=this._tiles[nt];if(!(tt[nt]||!rt.hasData()||rt.tileID.overscaledZ<=Ne||rt.tileID.overscaledZ>et)){for(var it=rt.tileID;rt&&rt.tileID.overscaledZ>Ne+1;){var ot=rt.tileID.scaledTo(rt.tileID.overscaledZ-1);(rt=this._tiles[ot.key])&&rt.hasData()&&(it=ot)}for(var at=it;at.overscaledZ>Ne;)if(w[(at=at.scaledTo(at.overscaledZ-1)).key]){tt[it.key]=it;break}}}},i.prototype.findLoadedParent=function(w,Ne){if(w.key in this._loadedParentTiles){var et=this._loadedParentTiles[w.key];return et&&et.tileID.overscaledZ>=Ne?et:null}for(var tt=w.overscaledZ-1;tt>=Ne;tt--){var nt=w.scaledTo(tt),rt=this._getLoadedTile(nt);if(rt)return rt}},i.prototype._getLoadedTile=function(w){var Ne=this._tiles[w.key];return Ne&&Ne.hasData()?Ne:this._cache.getByKey(w.wrapped().key)},i.prototype.updateCacheSize=function(w){var Ne=Math.ceil(w.width/this._source.tileSize)+1,et=Math.ceil(w.height/this._source.tileSize)+1,tt=Math.floor(Ne*et*5),nt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,tt):tt;this._cache.setMaxSize(nt)},i.prototype.handleWrapJump=function(w){var Ne=Math.round((w-(void 0===this._prevLng?w:this._prevLng))/360);if(this._prevLng=w,Ne){var et={};for(var tt in this._tiles){var nt=this._tiles[tt];nt.tileID=nt.tileID.unwrapTo(nt.tileID.wrap+Ne),et[nt.tileID.key]=nt}for(var rt in this._tiles=et,this._timers)clearTimeout(this._timers[rt]),delete this._timers[rt];for(var it in this._tiles)this._setTileReloadTimer(it,this._tiles[it])}},i.prototype.update=function(Ne){var et=this;if(this.transform=Ne,this._sourceLoaded&&!this._paused){var tt;this.updateCacheSize(Ne),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?tt=Ne.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(Ne){return new w.OverscaledTileID(Ne.canonical.z,Ne.wrap,Ne.canonical.z,Ne.canonical.x,Ne.canonical.y)})):(tt=Ne.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(tt=tt.filter((function(w){return et._source.hasTile(w)})))):tt=[];var nt=Ne.coveringZoomLevel(this._source),rt=Math.max(nt-i.maxOverzooming,this._source.minzoom),it=Math.max(nt+i.maxUnderzooming,this._source.minzoom),ot=this._updateRetainedTiles(tt,nt);if(Lt(this._source.type)){for(var at={},st={},ct=0,pt=Object.keys(ot);ct<pt.length;ct+=1){var ft=pt[ct],dt=ot[ft],mt=this._tiles[ft];if(mt&&!(mt.fadeEndTime&&mt.fadeEndTime<=w.browser.now())){var yt=this.findLoadedParent(dt,rt);yt&&(this._addTile(yt.tileID),at[yt.tileID.key]=yt.tileID),st[ft]=dt}}for(var vt in this._retainLoadedChildren(st,nt,it,ot),at)ot[vt]||(this._coveredTiles[vt]=!0,ot[vt]=at[vt])}for(var Ot in ot)this._tiles[Ot].clearFadeHold();for(var Dt=0,Rt=w.keysDifference(this._tiles,ot);Dt<Rt.length;Dt+=1){var Bt=Rt[Dt],rn=this._tiles[Bt];rn.hasSymbolBuckets&&!rn.holdingForFade()?rn.setHoldDuration(this.map._fadeDuration):rn.hasSymbolBuckets&&!rn.symbolFadeFinished()||this._removeTile(Bt)}this._updateLoadedParentTileCache()}},i.prototype.releaseSymbolFadeTiles=function(){for(var w in this._tiles)this._tiles[w].holdingForFade()&&this._removeTile(w)},i.prototype._updateRetainedTiles=function(w,Ne){for(var et={},tt={},nt=Math.max(Ne-i.maxOverzooming,this._source.minzoom),rt=Math.max(Ne+i.maxUnderzooming,this._source.minzoom),it={},ot=0,at=w;ot<at.length;ot+=1){var st=at[ot],ct=this._addTile(st);et[st.key]=st,ct.hasData()||Ne<this._source.maxzoom&&(it[st.key]=st)}this._retainLoadedChildren(it,Ne,rt,et);for(var pt=0,ft=w;pt<ft.length;pt+=1){var dt=ft[pt],mt=this._tiles[dt.key];if(!mt.hasData()){if(Ne+1>this._source.maxzoom){var yt=dt.children(this._source.maxzoom)[0],vt=this.getTile(yt);if(vt&&vt.hasData()){et[yt.key]=yt;continue}}else{var Ot=dt.children(this._source.maxzoom);if(et[Ot[0].key]&&et[Ot[1].key]&&et[Ot[2].key]&&et[Ot[3].key])continue}for(var Dt=mt.wasRequested(),Rt=dt.overscaledZ-1;Rt>=nt;--Rt){var Bt=dt.scaledTo(Rt);if(tt[Bt.key])break;if(tt[Bt.key]=!0,!(mt=this.getTile(Bt))&&Dt&&(mt=this._addTile(Bt)),mt&&(et[Bt.key]=Bt,Dt=mt.wasRequested(),mt.hasData()))break}}}return et},i.prototype._updateLoadedParentTileCache=function(){for(var w in this._loadedParentTiles={},this._tiles){for(var Ne=[],et=void 0,tt=this._tiles[w].tileID;tt.overscaledZ>0;){if(tt.key in this._loadedParentTiles){et=this._loadedParentTiles[tt.key];break}Ne.push(tt.key);var nt=tt.scaledTo(tt.overscaledZ-1);if(et=this._getLoadedTile(nt))break;tt=nt}for(var rt=0,it=Ne;rt<it.length;rt+=1)this._loadedParentTiles[it[rt]]=et}},i.prototype._addTile=function(Ne){var et=this._tiles[Ne.key];if(et)return et;(et=this._cache.getAndRemove(Ne))&&(this._setTileReloadTimer(Ne.key,et),et.tileID=Ne,this._state.initializeTileState(et,this.map?this.map.painter:null),this._cacheTimers[Ne.key]&&(clearTimeout(this._cacheTimers[Ne.key]),delete this._cacheTimers[Ne.key],this._setTileReloadTimer(Ne.key,et)));var tt=Boolean(et);return tt||(et=new w.Tile(Ne,this._source.tileSize*Ne.overscaleFactor()),this._loadTile(et,this._tileLoaded.bind(this,et,Ne.key,et.state))),et?(et.uses++,this._tiles[Ne.key]=et,tt||this._source.fire(new w.Event("dataloading",{tile:et,coord:et.tileID,dataType:"source"})),et):null},i.prototype._setTileReloadTimer=function(w,Ne){var et=this;w in this._timers&&(clearTimeout(this._timers[w]),delete this._timers[w]);var tt=Ne.getExpiryTimeout();tt&&(this._timers[w]=setTimeout((function(){et._reloadTile(w,"expired"),delete et._timers[w]}),tt))},i.prototype._removeTile=function(w){var Ne=this._tiles[w];Ne&&(Ne.uses--,delete this._tiles[w],this._timers[w]&&(clearTimeout(this._timers[w]),delete this._timers[w]),Ne.uses>0||(Ne.hasData()&&"reloading"!==Ne.state?this._cache.add(Ne.tileID,Ne,Ne.getExpiryTimeout()):(Ne.aborted=!0,this._abortTile(Ne),this._unloadTile(Ne))))},i.prototype.clearTiles=function(){for(var w in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(w);this._cache.reset()},i.prototype.tilesIn=function(Ne,et,tt){var nt=this,rt=[],it=this.transform;if(!it)return rt;for(var ot=tt?it.getCameraQueryGeometry(Ne):Ne,at=Ne.map((function(w){return it.pointCoordinate(w)})),st=ot.map((function(w){return it.pointCoordinate(w)})),ct=this.getIds(),pt=1/0,ft=1/0,dt=-1/0,mt=-1/0,yt=0,vt=st;yt<vt.length;yt+=1){var Ot=vt[yt];pt=Math.min(pt,Ot.x),ft=Math.min(ft,Ot.y),dt=Math.max(dt,Ot.x),mt=Math.max(mt,Ot.y)}for(var v=function(Ne){var tt=nt._tiles[ct[Ne]];if(!tt.holdingForFade()){var ot=tt.tileID,yt=Math.pow(2,it.zoom-tt.tileID.overscaledZ),vt=et*tt.queryPadding*w.EXTENT/tt.tileSize/yt,Ot=[ot.getTilePoint(new w.MercatorCoordinate(pt,ft)),ot.getTilePoint(new w.MercatorCoordinate(dt,mt))];if(Ot[0].x-vt<w.EXTENT&&Ot[0].y-vt<w.EXTENT&&Ot[1].x+vt>=0&&Ot[1].y+vt>=0){var Dt=at.map((function(w){return ot.getTilePoint(w)})),Rt=st.map((function(w){return ot.getTilePoint(w)}));rt.push({tile:tt,tileID:ot,queryGeometry:Dt,cameraQueryGeometry:Rt,scale:yt})}}},Dt=0;Dt<ct.length;Dt++)v(Dt);return rt},i.prototype.getVisibleCoordinates=function(w){for(var Ne=this,et=this.getRenderableIds(w).map((function(w){return Ne._tiles[w].tileID})),tt=0,nt=et;tt<nt.length;tt+=1){var rt=nt[tt];rt.posMatrix=this.transform.calculatePosMatrix(rt.toUnwrapped())}return et},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Lt(this._source.type))for(var Ne in this._tiles){var et=this._tiles[Ne];if(void 0!==et.fadeEndTime&&et.fadeEndTime>=w.browser.now())return!0}return!1},i.prototype.setFeatureState=function(w,Ne,et){this._state.updateState(w=w||"_geojsonTileLayer",Ne,et)},i.prototype.removeFeatureState=function(w,Ne,et){this._state.removeFeatureState(w=w||"_geojsonTileLayer",Ne,et)},i.prototype.getFeatureState=function(w,Ne){return this._state.getState(w=w||"_geojsonTileLayer",Ne)},i.prototype.setDependencies=function(w,Ne,et){var tt=this._tiles[w];tt&&tt.setDependencies(Ne,et)},i.prototype.reloadTilesForDependencies=function(w,Ne){for(var et in this._tiles)this._tiles[et].hasDependency(w,Ne)&&this._reloadTile(et,"reloading");this._cache.filter((function(et){return!et.hasDependency(w,Ne)}))},i}(w.Evented);function Mt(w,Ne){var et=Math.abs(2*w.wrap)-+(w.wrap<0),tt=Math.abs(2*Ne.wrap)-+(Ne.wrap<0);return w.overscaledZ-Ne.overscaledZ||tt-et||Ne.canonical.y-w.canonical.y||Ne.canonical.x-w.canonical.x}function Lt(w){return"raster"===w||"image"===w||"video"===w}function At(){return new w.window.Worker(xp.workerUrl)}os.maxOverzooming=10,os.maxUnderzooming=3;var as="mapboxgl_preloaded_worker_pool",kt=function(){this.active={}};kt.prototype.acquire=function(w){if(!this.workers)for(this.workers=[];this.workers.length<kt.workerCount;)this.workers.push(new At);return this.active[w]=!0,this.workers.slice()},kt.prototype.release=function(w){delete this.active[w],0===this.numActive()&&(this.workers.forEach((function(w){w.terminate()})),this.workers=null)},kt.prototype.isPreloaded=function(){return!!this.active[as]},kt.prototype.numActive=function(){return Object.keys(this.active).length};var ss,ls=Math.floor(w.browser.hardwareConcurrency/2);function Ft(){return ss||(ss=new kt),ss}function Ut(Ne,et){var tt={};for(var nt in Ne)"ref"!==nt&&(tt[nt]=Ne[nt]);return w.refProperties.forEach((function(w){w in et&&(tt[w]=et[w])})),tt}function Nt(w){w=w.slice();for(var Ne=Object.create(null),et=0;et<w.length;et++)Ne[w[et].id]=w[et];for(var tt=0;tt<w.length;tt++)"ref"in w[tt]&&(w[tt]=Ut(w[tt],Ne[w[tt].ref]));return w}kt.workerCount=Math.max(Math.min(ls,6),1);var us={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function jt(w,Ne,et){et.push({command:us.addSource,args:[w,Ne[w]]})}function qt(w,Ne,et){Ne.push({command:us.removeSource,args:[w]}),et[w]=!0}function Vt(w,Ne,et,tt){qt(w,et,tt),jt(w,Ne,et)}function Gt(Ne,et,tt){var nt;for(nt in Ne[tt])if(Ne[tt].hasOwnProperty(nt)&&"data"!==nt&&!w.deepEqual(Ne[tt][nt],et[tt][nt]))return!1;for(nt in et[tt])if(et[tt].hasOwnProperty(nt)&&"data"!==nt&&!w.deepEqual(Ne[tt][nt],et[tt][nt]))return!1;return!0}function Wt(Ne,et,tt,nt,rt,it){var ot;for(ot in et=et||{},Ne=Ne||{})Ne.hasOwnProperty(ot)&&(w.deepEqual(Ne[ot],et[ot])||tt.push({command:it,args:[nt,ot,et[ot],rt]}));for(ot in et)et.hasOwnProperty(ot)&&!Ne.hasOwnProperty(ot)&&(w.deepEqual(Ne[ot],et[ot])||tt.push({command:it,args:[nt,ot,et[ot],rt]}))}function Xt(w){return w.id}function Ht(w,Ne){return w[Ne.id]=Ne,w}var Kt=function(w,Ne){this.reset(w,Ne)};Kt.prototype.reset=function(w,Ne){this.points=w||[],this._distances=[0];for(var et=1;et<this.points.length;et++)this._distances[et]=this._distances[et-1]+this.points[et].dist(this.points[et-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Ne||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Kt.prototype.lerp=function(Ne){if(1===this.points.length)return this.points[0];Ne=w.clamp(Ne,0,1);for(var et=1,tt=this._distances[et],nt=Ne*this.paddedLength+this.padding;tt<nt&&et<this._distances.length;)tt=this._distances[++et];var rt=et-1,it=this._distances[rt],ot=tt-it,at=ot>0?(nt-it)/ot:0;return this.points[rt].mult(1-at).add(this.points[et].mult(at))};var Yt=function(w,Ne,et){var tt=this.boxCells=[],nt=this.circleCells=[];this.xCellCount=Math.ceil(w/et),this.yCellCount=Math.ceil(Ne/et);for(var rt=0;rt<this.xCellCount*this.yCellCount;rt++)tt.push([]),nt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=w,this.height=Ne,this.xScale=this.xCellCount/w,this.yScale=this.yCellCount/Ne,this.boxUid=0,this.circleUid=0};function Jt(Ne,et,tt,nt,rt){var it=w.create();return et?(w.scale(it,it,[1/rt,1/rt,1]),tt||w.rotateZ(it,it,nt.angle)):w.multiply(it,nt.labelPlaneMatrix,Ne),it}function Qt(Ne,et,tt,nt,rt){if(et){var it=w.clone(Ne);return w.scale(it,it,[rt,rt,1]),tt||w.rotateZ(it,it,-nt.angle),it}return nt.glCoordMatrix}function $t(Ne,et){var tt=[Ne.x,Ne.y,0,1];ue(tt,tt,et);var nt=tt[3];return{point:new w.Point(tt[0]/nt,tt[1]/nt),signedDistanceFromCamera:nt}}function te(w,Ne){return.5+w/Ne*.5}function ee(w,Ne){var et=w[0]/w[3],tt=w[1]/w[3];return et>=-Ne[0]&&et<=Ne[0]&&tt>=-Ne[1]&&tt<=Ne[1]}function ie(Ne,et,tt,nt,rt,it,ot,at){var st=nt?Ne.textSizeData:Ne.iconSizeData,ct=w.evaluateSizeForZoom(st,tt.transform.zoom),pt=[256/tt.width*2+1,256/tt.height*2+1],ft=nt?Ne.text.dynamicLayoutVertexArray:Ne.icon.dynamicLayoutVertexArray;ft.clear();for(var dt=Ne.lineVertexArray,mt=nt?Ne.text.placedSymbolArray:Ne.icon.placedSymbolArray,yt=tt.transform.width/tt.transform.height,vt=!1,Ot=0;Ot<mt.length;Ot++){var Dt=mt.get(Ot);if(Dt.hidden||Dt.writingMode===w.WritingMode.vertical&&!vt)ce(Dt.numGlyphs,ft);else{vt=!1;var Rt=[Dt.anchorX,Dt.anchorY,0,1];if(w.transformMat4(Rt,Rt,et),ee(Rt,pt)){var Bt=te(tt.transform.cameraToCenterDistance,Rt[3]),rn=w.evaluateSizeForFeature(st,ct,Dt),vn=ot?rn/Bt:rn*Bt,bn=new w.Point(Dt.anchorX,Dt.anchorY),Cn=$t(bn,rt).point,Tn={},In=ae(Dt,vn,!1,at,et,rt,it,Ne.glyphOffsetArray,dt,ft,Cn,bn,Tn,yt);vt=In.useVertical,(In.notEnoughRoom||vt||In.needsFlipping&&ae(Dt,vn,!0,at,et,rt,it,Ne.glyphOffsetArray,dt,ft,Cn,bn,Tn,yt).notEnoughRoom)&&ce(Dt.numGlyphs,ft)}else ce(Dt.numGlyphs,ft)}}nt?Ne.text.dynamicLayoutVertexBuffer.updateData(ft):Ne.icon.dynamicLayoutVertexBuffer.updateData(ft)}function oe(w,Ne,et,tt,nt,rt,it,ot,at,st,ct){var pt=ot.glyphStartIndex+ot.numGlyphs,ft=ot.lineStartIndex,dt=ot.lineStartIndex+ot.lineLength,mt=Ne.getoffsetX(ot.glyphStartIndex),yt=Ne.getoffsetX(pt-1),vt=se(w*mt,et,tt,nt,rt,it,ot.segment,ft,dt,at,st,ct);if(!vt)return null;var Ot=se(w*yt,et,tt,nt,rt,it,ot.segment,ft,dt,at,st,ct);return Ot?{first:vt,last:Ot}:null}function re(Ne,et,tt,nt){return Ne===w.WritingMode.horizontal&&Math.abs(tt.y-et.y)>Math.abs(tt.x-et.x)*nt?{useVertical:!0}:(Ne===w.WritingMode.vertical?et.y<tt.y:et.x>tt.x)?{needsFlipping:!0}:null}function ae(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt){var yt,vt=et/24,Ot=Ne.lineOffsetX*vt,Dt=Ne.lineOffsetY*vt;if(Ne.numGlyphs>1){var Rt=Ne.glyphStartIndex+Ne.numGlyphs,Bt=Ne.lineStartIndex,rn=Ne.lineStartIndex+Ne.lineLength,vn=oe(vt,at,Ot,Dt,tt,pt,ft,Ne,st,it,dt);if(!vn)return{notEnoughRoom:!0};var bn=$t(vn.first.point,ot).point,Cn=$t(vn.last.point,ot).point;if(nt&&!tt){var Tn=re(Ne.writingMode,bn,Cn,mt);if(Tn)return Tn}yt=[vn.first];for(var In=Ne.glyphStartIndex+1;In<Rt-1;In++)yt.push(se(vt*at.getoffsetX(In),Ot,Dt,tt,pt,ft,Ne.segment,Bt,rn,st,it,dt));yt.push(vn.last)}else{if(nt&&!tt){var Mn=$t(ft,rt).point,zn=Ne.lineStartIndex+Ne.segment+1,Ln=new w.Point(st.getx(zn),st.gety(zn)),Fn=$t(Ln,rt),Bn=Fn.signedDistanceFromCamera>0?Fn.point:ne(ft,Ln,Mn,1,rt),Nn=re(Ne.writingMode,Mn,Bn,mt);if(Nn)return Nn}var Vn=se(vt*at.getoffsetX(Ne.glyphStartIndex),Ot,Dt,tt,pt,ft,Ne.segment,Ne.lineStartIndex,Ne.lineStartIndex+Ne.lineLength,st,it,dt);if(!Vn)return{notEnoughRoom:!0};yt=[Vn]}for(var Wn=0,$n=yt;Wn<$n.length;Wn+=1){var Yn=$n[Wn];w.addDynamicAttributes(ct,Yn.point,Yn.angle)}return{}}function ne(w,Ne,et,tt,nt){var rt=$t(w.add(w.sub(Ne)._unit()),nt).point,it=et.sub(rt);return et.add(it._mult(tt/it.mag()))}function se(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft){var dt=nt?Ne-et:Ne+et,mt=dt>0?1:-1,yt=0;nt&&(mt*=-1,yt=Math.PI),mt<0&&(yt+=Math.PI);for(var vt=mt>0?at+ot:at+ot+1,Ot=rt,Dt=rt,Rt=0,Bt=0,rn=Math.abs(dt),vn=[];Rt+Bt<=rn;){if((vt+=mt)<at||vt>=st)return null;if(Dt=Ot,vn.push(Ot),void 0===(Ot=ft[vt])){var bn=new w.Point(ct.getx(vt),ct.gety(vt)),Cn=$t(bn,pt);if(Cn.signedDistanceFromCamera>0)Ot=ft[vt]=Cn.point;else{var Tn=vt-mt;Ot=ne(0===Rt?it:new w.Point(ct.getx(Tn),ct.gety(Tn)),bn,Dt,rn-Rt+1,pt)}}Rt+=Bt,Bt=Dt.dist(Ot)}var In=(rn-Rt)/Bt,Mn=Ot.sub(Dt),zn=Mn.mult(In)._add(Dt);zn._add(Mn._unit()._perp()._mult(tt*mt));var Ln=yt+Math.atan2(Ot.y-Dt.y,Ot.x-Dt.x);return vn.push(zn),{point:zn,angle:Ln,path:vn}}Yt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Yt.prototype.insert=function(w,Ne,et,tt,nt){this._forEachCell(Ne,et,tt,nt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(w),this.bboxes.push(Ne),this.bboxes.push(et),this.bboxes.push(tt),this.bboxes.push(nt)},Yt.prototype.insertCircle=function(w,Ne,et,tt){this._forEachCell(Ne-tt,et-tt,Ne+tt,et+tt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(w),this.circles.push(Ne),this.circles.push(et),this.circles.push(tt)},Yt.prototype._insertBoxCell=function(w,Ne,et,tt,nt,rt){this.boxCells[nt].push(rt)},Yt.prototype._insertCircleCell=function(w,Ne,et,tt,nt,rt){this.circleCells[nt].push(rt)},Yt.prototype._query=function(w,Ne,et,tt,nt,rt){if(et<0||w>this.width||tt<0||Ne>this.height)return!nt&&[];var it=[];if(w<=0&&Ne<=0&&this.width<=et&&this.height<=tt){if(nt)return!0;for(var ot=0;ot<this.boxKeys.length;ot++)it.push({key:this.boxKeys[ot],x1:this.bboxes[4*ot],y1:this.bboxes[4*ot+1],x2:this.bboxes[4*ot+2],y2:this.bboxes[4*ot+3]});for(var at=0;at<this.circleKeys.length;at++){var st=this.circles[3*at],ct=this.circles[3*at+1],pt=this.circles[3*at+2];it.push({key:this.circleKeys[at],x1:st-pt,y1:ct-pt,x2:st+pt,y2:ct+pt})}return rt?it.filter(rt):it}return this._forEachCell(w,Ne,et,tt,this._queryCell,it,{hitTest:nt,seenUids:{box:{},circle:{}}},rt),nt?it.length>0:it},Yt.prototype._queryCircle=function(w,Ne,et,tt,nt){var rt=w-et,it=w+et,ot=Ne-et,at=Ne+et;if(it<0||rt>this.width||at<0||ot>this.height)return!tt&&[];var st=[];return this._forEachCell(rt,ot,it,at,this._queryCellCircle,st,{hitTest:tt,circle:{x:w,y:Ne,radius:et},seenUids:{box:{},circle:{}}},nt),tt?st.length>0:st},Yt.prototype.query=function(w,Ne,et,tt,nt){return this._query(w,Ne,et,tt,!1,nt)},Yt.prototype.hitTest=function(w,Ne,et,tt,nt){return this._query(w,Ne,et,tt,!0,nt)},Yt.prototype.hitTestCircle=function(w,Ne,et,tt){return this._queryCircle(w,Ne,et,!0,tt)},Yt.prototype._queryCell=function(w,Ne,et,tt,nt,rt,it,ot){var at=it.seenUids,st=this.boxCells[nt];if(null!==st)for(var ct=this.bboxes,pt=0,ft=st;pt<ft.length;pt+=1){var dt=ft[pt];if(!at.box[dt]){at.box[dt]=!0;var mt=4*dt;if(w<=ct[mt+2]&&Ne<=ct[mt+3]&&et>=ct[mt+0]&&tt>=ct[mt+1]&&(!ot||ot(this.boxKeys[dt]))){if(it.hitTest)return rt.push(!0),!0;rt.push({key:this.boxKeys[dt],x1:ct[mt],y1:ct[mt+1],x2:ct[mt+2],y2:ct[mt+3]})}}}var yt=this.circleCells[nt];if(null!==yt)for(var vt=this.circles,Ot=0,Dt=yt;Ot<Dt.length;Ot+=1){var Rt=Dt[Ot];if(!at.circle[Rt]){at.circle[Rt]=!0;var Bt=3*Rt;if(this._circleAndRectCollide(vt[Bt],vt[Bt+1],vt[Bt+2],w,Ne,et,tt)&&(!ot||ot(this.circleKeys[Rt]))){if(it.hitTest)return rt.push(!0),!0;var rn=vt[Bt],vn=vt[Bt+1],bn=vt[Bt+2];rt.push({key:this.circleKeys[Rt],x1:rn-bn,y1:vn-bn,x2:rn+bn,y2:vn+bn})}}}},Yt.prototype._queryCellCircle=function(w,Ne,et,tt,nt,rt,it,ot){var at=it.circle,st=it.seenUids,ct=this.boxCells[nt];if(null!==ct)for(var pt=this.bboxes,ft=0,dt=ct;ft<dt.length;ft+=1){var mt=dt[ft];if(!st.box[mt]){st.box[mt]=!0;var yt=4*mt;if(this._circleAndRectCollide(at.x,at.y,at.radius,pt[yt+0],pt[yt+1],pt[yt+2],pt[yt+3])&&(!ot||ot(this.boxKeys[mt])))return rt.push(!0),!0}}var vt=this.circleCells[nt];if(null!==vt)for(var Ot=this.circles,Dt=0,Rt=vt;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];if(!st.circle[Bt]){st.circle[Bt]=!0;var rn=3*Bt;if(this._circlesCollide(Ot[rn],Ot[rn+1],Ot[rn+2],at.x,at.y,at.radius)&&(!ot||ot(this.circleKeys[Bt])))return rt.push(!0),!0}}},Yt.prototype._forEachCell=function(w,Ne,et,tt,nt,rt,it,ot){for(var at=this._convertToXCellCoord(w),st=this._convertToYCellCoord(Ne),ct=this._convertToXCellCoord(et),pt=this._convertToYCellCoord(tt),ft=at;ft<=ct;ft++)for(var dt=st;dt<=pt;dt++)if(nt.call(this,w,Ne,et,tt,this.xCellCount*dt+ft,rt,it,ot))return},Yt.prototype._convertToXCellCoord=function(w){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(w*this.xScale)))},Yt.prototype._convertToYCellCoord=function(w){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(w*this.yScale)))},Yt.prototype._circlesCollide=function(w,Ne,et,tt,nt,rt){var it=tt-w,ot=nt-Ne,at=et+rt;return at*at>it*it+ot*ot},Yt.prototype._circleAndRectCollide=function(w,Ne,et,tt,nt,rt,it){var ot=(rt-tt)/2,at=Math.abs(w-(tt+ot));if(at>ot+et)return!1;var st=(it-nt)/2,ct=Math.abs(Ne-(nt+st));if(ct>st+et)return!1;if(at<=ot||ct<=st)return!0;var pt=at-ot,ft=ct-st;return pt*pt+ft*ft<=et*et};var fs=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ce(w,Ne){for(var et=0;et<w;et++){var tt=Ne.length;Ne.resize(tt+4),Ne.float32.set(fs,3*tt)}}function ue(w,Ne,et){var tt=Ne[0],nt=Ne[1];return w[0]=et[0]*tt+et[4]*nt+et[12],w[1]=et[1]*tt+et[5]*nt+et[13],w[3]=et[3]*tt+et[7]*nt+et[15],w}var he=function(w,Ne,et){void 0===Ne&&(Ne=new Yt(w.width+200,w.height+200,25)),void 0===et&&(et=new Yt(w.width+200,w.height+200,25)),this.transform=w,this.grid=Ne,this.ignoredGrid=et,this.pitchfactor=Math.cos(w._pitch)*w.cameraToCenterDistance,this.screenRightBoundary=w.width+100,this.screenBottomBoundary=w.height+100,this.gridRightBoundary=w.width+200,this.gridBottomBoundary=w.height+200};function pe(Ne,et,tt){return et*(w.EXTENT/(Ne.tileSize*Math.pow(2,tt-Ne.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(w,Ne,et,tt,nt){var rt=this.projectAndGetPerspectiveRatio(tt,w.anchorPointX,w.anchorPointY),it=et*rt.perspectiveRatio,ot=w.x1*it+rt.point.x,at=w.y1*it+rt.point.y,st=w.x2*it+rt.point.x,ct=w.y2*it+rt.point.y;return!this.isInsideGrid(ot,at,st,ct)||!Ne&&this.grid.hitTest(ot,at,st,ct,nt)?{box:[],offscreen:!1}:{box:[ot,at,st,ct],offscreen:this.isOffscreen(ot,at,st,ct)}},he.prototype.placeCollisionCircles=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt){var mt=[],yt=new w.Point(et.anchorX,et.anchorY),vt=$t(yt,it),Ot=te(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),Dt=(ct?rt/Ot:rt*Ot)/w.ONE_EM,Rt=$t(yt,ot).point,Bt=oe(Dt,nt,et.lineOffsetX*Dt,et.lineOffsetY*Dt,!1,Rt,yt,et,tt,ot,{}),rn=!1,vn=!1,bn=!0;if(Bt){for(var Cn=.5*ft*Ot+dt,Tn=new w.Point(-100,-100),In=new w.Point(this.screenRightBoundary,this.screenBottomBoundary),Mn=new Kt,zn=Bt.first,Ln=Bt.last,Fn=[],Bn=zn.path.length-1;Bn>=1;Bn--)Fn.push(zn.path[Bn]);for(var Nn=1;Nn<Ln.path.length;Nn++)Fn.push(Ln.path[Nn]);var Vn=2.5*Cn;if(at){var Wn=Fn.map((function(w){return $t(w,at)}));Fn=Wn.some((function(w){return w.signedDistanceFromCamera<=0}))?[]:Wn.map((function(w){return w.point}))}var $n=[];if(Fn.length>0){for(var Yn=Fn[0].clone(),er=Fn[0].clone(),rr=1;rr<Fn.length;rr++)Yn.x=Math.min(Yn.x,Fn[rr].x),Yn.y=Math.min(Yn.y,Fn[rr].y),er.x=Math.max(er.x,Fn[rr].x),er.y=Math.max(er.y,Fn[rr].y);$n=Yn.x>=Tn.x&&er.x<=In.x&&Yn.y>=Tn.y&&er.y<=In.y?[Fn]:er.x<Tn.x||Yn.x>In.x||er.y<Tn.y||Yn.y>In.y?[]:w.clipLine([Fn],Tn.x,Tn.y,In.x,In.y)}for(var vr=0,wr=$n;vr<wr.length;vr+=1){var Sr;Mn.reset(wr[vr],.25*Cn),Sr=Mn.length<=.5*Cn?1:Math.ceil(Mn.paddedLength/Vn)+1;for(var ii=0;ii<Sr;ii++){var qi=ii/Math.max(Sr-1,1),uo=Mn.lerp(qi),po=uo.x+100,vo=uo.y+100;mt.push(po,vo,Cn,0);var So=po-Cn,ta=vo-Cn,na=po+Cn,ia=vo+Cn;if(bn=bn&&this.isOffscreen(So,ta,na,ia),vn=vn||this.isInsideGrid(So,ta,na,ia),!Ne&&this.grid.hitTestCircle(po,vo,Cn,pt)&&(rn=!0,!st))return{circles:[],offscreen:!1,collisionDetected:rn}}}}return{circles:!st&&rn||!vn?[]:mt,offscreen:bn,collisionDetected:rn}},he.prototype.queryRenderedSymbols=function(Ne){if(0===Ne.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var et=[],tt=1/0,nt=1/0,rt=-1/0,it=-1/0,ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot],ct=new w.Point(st.x+100,st.y+100);tt=Math.min(tt,ct.x),nt=Math.min(nt,ct.y),rt=Math.max(rt,ct.x),it=Math.max(it,ct.y),et.push(ct)}for(var pt={},ft={},dt=0,mt=this.grid.query(tt,nt,rt,it).concat(this.ignoredGrid.query(tt,nt,rt,it));dt<mt.length;dt+=1){var yt=mt[dt],vt=yt.key;if(void 0===pt[vt.bucketInstanceId]&&(pt[vt.bucketInstanceId]={}),!pt[vt.bucketInstanceId][vt.featureIndex]){var Ot=[new w.Point(yt.x1,yt.y1),new w.Point(yt.x2,yt.y1),new w.Point(yt.x2,yt.y2),new w.Point(yt.x1,yt.y2)];w.polygonIntersectsPolygon(et,Ot)&&(pt[vt.bucketInstanceId][vt.featureIndex]=!0,void 0===ft[vt.bucketInstanceId]&&(ft[vt.bucketInstanceId]=[]),ft[vt.bucketInstanceId].push(vt.featureIndex))}}return ft},he.prototype.insertCollisionBox=function(w,Ne,et,tt,nt){(Ne?this.ignoredGrid:this.grid).insert({bucketInstanceId:et,featureIndex:tt,collisionGroupID:nt},w[0],w[1],w[2],w[3])},he.prototype.insertCollisionCircles=function(w,Ne,et,tt,nt){for(var rt=Ne?this.ignoredGrid:this.grid,it={bucketInstanceId:et,featureIndex:tt,collisionGroupID:nt},ot=0;ot<w.length;ot+=4)rt.insertCircle(it,w[ot],w[ot+1],w[ot+2])},he.prototype.projectAndGetPerspectiveRatio=function(Ne,et,tt){var nt=[et,tt,0,1];return ue(nt,nt,Ne),{point:new w.Point((nt[0]/nt[3]+1)/2*this.transform.width+100,(-nt[1]/nt[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/nt[3]*.5}},he.prototype.isOffscreen=function(w,Ne,et,tt){return et<100||w>=this.screenRightBoundary||tt<100||Ne>this.screenBottomBoundary},he.prototype.isInsideGrid=function(w,Ne,et,tt){return et>=0&&w<this.gridRightBoundary&&tt>=0&&Ne<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var Ne=w.identity([]);return w.translate(Ne,Ne,[-100,-100,0]),Ne};var de=function(w,Ne,et,tt){this.opacity=w?Math.max(0,Math.min(1,w.opacity+(w.placed?Ne:-Ne))):tt&&et?1:0,this.placed=et};de.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var _e=function(w,Ne,et,tt,nt){this.text=new de(w?w.text:null,Ne,et,nt),this.icon=new de(w?w.icon:null,Ne,tt,nt)};_e.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var fe=function(w,Ne,et){this.text=w,this.icon=Ne,this.skipFade=et},me=function(){this.invProjMatrix=w.create(),this.viewportMatrix=w.create(),this.circles=[]},ge=function(w,Ne,et,tt,nt){this.bucketInstanceId=w,this.featureIndex=Ne,this.sourceLayerIndex=et,this.bucketIndex=tt,this.tileID=nt},ve=function(w){this.crossSourceCollisions=w,this.maxGroupID=0,this.collisionGroups={}};function ye(Ne,et,tt,nt,rt){var it=w.getAnchorAlignment(Ne),ot=-(it.horizontalAlign-.5)*et,at=-(it.verticalAlign-.5)*tt,st=w.evaluateVariableOffset(Ne,nt);return new w.Point(ot+st[0]*rt,at+st[1]*rt)}function xe(Ne,et,tt,nt,rt,it){var ot=Ne.x1,at=Ne.x2,st=Ne.y1,ct=Ne.y2,pt=Ne.anchorPointX,ft=Ne.anchorPointY,dt=new w.Point(et,tt);return nt&&dt._rotate(rt?it:-it),{x1:ot+dt.x,y1:st+dt.y,x2:at+dt.x,y2:ct+dt.y,anchorPointX:pt,anchorPointY:ft}}ve.prototype.get=function(w){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[w]){var Ne=++this.maxGroupID;this.collisionGroups[w]={ID:Ne,predicate:function(w){return w.collisionGroupID===Ne}}}return this.collisionGroups[w]};var be=function(w,Ne,et,tt){this.transform=w.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Ne,this.retainedQueryData={},this.collisionGroups=new ve(et),this.collisionCircleArrays={},this.prevPlacement=tt,tt&&(tt.prevPlacement=void 0),this.placedOrientations={}};function we(w,Ne,et,tt,nt){w.emplaceBack(Ne?1:0,et?1:0,tt||0,nt||0),w.emplaceBack(Ne?1:0,et?1:0,tt||0,nt||0),w.emplaceBack(Ne?1:0,et?1:0,tt||0,nt||0),w.emplaceBack(Ne?1:0,et?1:0,tt||0,nt||0)}be.prototype.getBucketParts=function(Ne,et,tt,nt){var rt=tt.getBucket(et),it=tt.latestFeatureIndex;if(rt&&it&&et.id===rt.layerIds[0]){var ot=tt.collisionBoxArray,at=rt.layers[0].layout,st=Math.pow(2,this.transform.zoom-tt.tileID.overscaledZ),ct=tt.tileSize/w.EXTENT,pt=this.transform.calculatePosMatrix(tt.tileID.toUnwrapped()),ft="map"===at.get("text-pitch-alignment"),dt="map"===at.get("text-rotation-alignment"),mt=pe(tt,1,this.transform.zoom),yt=Jt(pt,ft,dt,this.transform,mt),vt=null;if(ft){var Ot=Qt(pt,ft,dt,this.transform,mt);vt=w.multiply([],this.transform.labelPlaneMatrix,Ot)}this.retainedQueryData[rt.bucketInstanceId]=new ge(rt.bucketInstanceId,it,rt.sourceLayerIndex,rt.index,tt.tileID);var Dt={bucket:rt,layout:at,posMatrix:pt,textLabelPlaneMatrix:yt,labelToScreenMatrix:vt,scale:st,textPixelRatio:ct,holdingForFade:tt.holdingForFade(),collisionBoxArray:ot,partiallyEvaluatedTextSize:w.evaluateSizeForZoom(rt.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(rt.sourceID)};if(nt)for(var Rt=0,Bt=rt.sortKeyRanges;Rt<Bt.length;Rt+=1){var rn=Bt[Rt];Ne.push({sortKey:rn.sortKey,symbolInstanceStart:rn.symbolInstanceStart,symbolInstanceEnd:rn.symbolInstanceEnd,parameters:Dt})}else Ne.push({symbolInstanceStart:0,symbolInstanceEnd:rt.symbolInstances.length,parameters:Dt})}},be.prototype.attemptAnchorPlacement=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt){var yt,vt=[pt.textOffset0,pt.textOffset1],Ot=ye(w,et,tt,vt,nt),Dt=this.collisionIndex.placeCollisionBox(xe(Ne,Ot.x,Ot.y,rt,it,this.transform.angle),ct,ot,at,st.predicate);if(!mt||0!==this.collisionIndex.placeCollisionBox(xe(mt,Ot.x,Ot.y,rt,it,this.transform.angle),ct,ot,at,st.predicate).box.length)return Dt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[pt.crossTileID]&&this.prevPlacement.placements[pt.crossTileID]&&this.prevPlacement.placements[pt.crossTileID].text&&(yt=this.prevPlacement.variableOffsets[pt.crossTileID].anchor),this.variableOffsets[pt.crossTileID]={textOffset:vt,width:et,height:tt,anchor:w,textBoxScale:nt,prevAnchor:yt},this.markUsedJustification(ft,w,pt,dt),ft.allowVerticalPlacement&&(this.markUsedOrientation(ft,dt,pt),this.placedOrientations[pt.crossTileID]=dt),{shift:Ot,placedGlyphBoxes:Dt}):void 0},be.prototype.placeLayerBucketPart=function(Ne,et,tt){var nt=this,rt=Ne.parameters,it=rt.bucket,ot=rt.layout,at=rt.posMatrix,st=rt.textLabelPlaneMatrix,ct=rt.labelToScreenMatrix,pt=rt.textPixelRatio,ft=rt.holdingForFade,dt=rt.collisionBoxArray,mt=rt.partiallyEvaluatedTextSize,yt=rt.collisionGroup,vt=ot.get("text-optional"),Ot=ot.get("icon-optional"),Dt=ot.get("text-allow-overlap"),Rt=ot.get("icon-allow-overlap"),Bt="map"===ot.get("text-rotation-alignment"),rn="map"===ot.get("text-pitch-alignment"),vn="none"!==ot.get("icon-text-fit"),bn="viewport-y"===ot.get("symbol-z-order"),Cn=Dt&&(Rt||!it.hasIconData()||Ot),Tn=Rt&&(Dt||!it.hasTextData()||vt);!it.collisionArrays&&dt&&it.deserializeCollisionBoxes(dt);var P=function(Ne,rt){if(!et[Ne.crossTileID])if(ft)nt.placements[Ne.crossTileID]=new fe(!1,!1,!1);else{var dt,bn=!1,In=!1,Mn=!0,zn=null,Ln={box:null,offscreen:null},Fn={box:null,offscreen:null},Bn=null,Nn=null,Vn=0,Wn=0,$n=0;rt.textFeatureIndex?Vn=rt.textFeatureIndex:Ne.useRuntimeCollisionCircles&&(Vn=Ne.featureIndex),rt.verticalTextFeatureIndex&&(Wn=rt.verticalTextFeatureIndex);var Yn=rt.textBox;if(Yn){var O=function(et){var tt=w.WritingMode.horizontal;if(it.allowVerticalPlacement&&!et&&nt.prevPlacement){var rt=nt.prevPlacement.placedOrientations[Ne.crossTileID];rt&&(nt.placedOrientations[Ne.crossTileID]=rt,nt.markUsedOrientation(it,tt=rt,Ne))}return tt},F=function(et,tt){if(it.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&rt.verticalTextBox)for(var nt=0,ot=it.writingModes;nt<ot.length&&(ot[nt]===w.WritingMode.vertical?(Ln=tt(),Fn=Ln):Ln=et(),!(Ln&&Ln.box&&Ln.box.length));nt+=1);else Ln=et()};if(ot.get("text-variable-anchor")){var er=ot.get("text-variable-anchor");if(nt.prevPlacement&&nt.prevPlacement.variableOffsets[Ne.crossTileID]){var rr=nt.prevPlacement.variableOffsets[Ne.crossTileID];er.indexOf(rr.anchor)>0&&(er=er.filter((function(w){return w!==rr.anchor}))).unshift(rr.anchor)}var Z=function(w,et,tt){for(var rt=w.x2-w.x1,ot=w.y2-w.y1,st=Ne.textBoxScale,ct=vn&&!Rt?et:null,ft={box:[],offscreen:!1},dt=Dt?2*er.length:er.length,mt=0;mt<dt;++mt){var vt=nt.attemptAnchorPlacement(er[mt%er.length],w,rt,ot,st,Bt,rn,pt,at,yt,mt>=er.length,Ne,it,tt,ct);if(vt&&(ft=vt.placedGlyphBoxes)&&ft.box&&ft.box.length){bn=!0,zn=vt.shift;break}}return ft};F((function(){return Z(Yn,rt.iconBox,w.WritingMode.horizontal)}),(function(){var et=rt.verticalTextBox;return it.allowVerticalPlacement&&!(Ln&&Ln.box&&Ln.box.length)&&Ne.numVerticalGlyphVertices>0&&et?Z(et,rt.verticalIconBox,w.WritingMode.vertical):{box:null,offscreen:null}})),Ln&&(bn=Ln.box,Mn=Ln.offscreen);var vr=O(Ln&&Ln.box);if(!bn&&nt.prevPlacement){var wr=nt.prevPlacement.variableOffsets[Ne.crossTileID];wr&&(nt.variableOffsets[Ne.crossTileID]=wr,nt.markUsedJustification(it,wr.anchor,Ne,vr))}}else{var V=function(w,et){var tt=nt.collisionIndex.placeCollisionBox(w,Dt,pt,at,yt.predicate);return tt&&tt.box&&tt.box.length&&(nt.markUsedOrientation(it,et,Ne),nt.placedOrientations[Ne.crossTileID]=et),tt};F((function(){return V(Yn,w.WritingMode.horizontal)}),(function(){var et=rt.verticalTextBox;return it.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&et?V(et,w.WritingMode.vertical):{box:null,offscreen:null}})),O(Ln&&Ln.box&&Ln.box.length)}}if(bn=(dt=Ln)&&dt.box&&dt.box.length>0,Mn=dt&&dt.offscreen,Ne.useRuntimeCollisionCircles){var Sr=it.text.placedSymbolArray.get(Ne.centerJustifiedTextSymbolIndex),ii=w.evaluateSizeForFeature(it.textSizeData,mt,Sr),qi=ot.get("text-padding");Bn=nt.collisionIndex.placeCollisionCircles(Dt,Sr,it.lineVertexArray,it.glyphOffsetArray,ii,at,st,ct,tt,rn,yt.predicate,Ne.collisionCircleDiameter,qi),bn=Dt||Bn.circles.length>0&&!Bn.collisionDetected,Mn=Mn&&Bn.offscreen}if(rt.iconFeatureIndex&&($n=rt.iconFeatureIndex),rt.iconBox){var H=function(w){var Ne=vn&&zn?xe(w,zn.x,zn.y,Bt,rn,nt.transform.angle):w;return nt.collisionIndex.placeCollisionBox(Ne,Rt,pt,at,yt.predicate)};In=Fn&&Fn.box&&Fn.box.length&&rt.verticalIconBox?(Nn=H(rt.verticalIconBox)).box.length>0:(Nn=H(rt.iconBox)).box.length>0,Mn=Mn&&Nn.offscreen}var uo=vt||0===Ne.numHorizontalGlyphVertices&&0===Ne.numVerticalGlyphVertices,po=Ot||0===Ne.numIconVertices;if(uo||po?po?uo||(In=In&&bn):bn=In&&bn:In=bn=In&&bn,bn&&dt&&dt.box&&nt.collisionIndex.insertCollisionBox(dt.box,ot.get("text-ignore-placement"),it.bucketInstanceId,Fn&&Fn.box&&Wn?Wn:Vn,yt.ID),In&&Nn&&nt.collisionIndex.insertCollisionBox(Nn.box,ot.get("icon-ignore-placement"),it.bucketInstanceId,$n,yt.ID),Bn&&(bn&&nt.collisionIndex.insertCollisionCircles(Bn.circles,ot.get("text-ignore-placement"),it.bucketInstanceId,Vn,yt.ID),tt)){var vo=it.bucketInstanceId,So=nt.collisionCircleArrays[vo];void 0===So&&(So=nt.collisionCircleArrays[vo]=new me);for(var ta=0;ta<Bn.circles.length;ta+=4)So.circles.push(Bn.circles[ta+0]),So.circles.push(Bn.circles[ta+1]),So.circles.push(Bn.circles[ta+2]),So.circles.push(Bn.collisionDetected?1:0)}nt.placements[Ne.crossTileID]=new fe(bn||Cn,In||Tn,Mn||it.justReloaded),et[Ne.crossTileID]=!0}};if(bn)for(var In=it.getSortedSymbolIndexes(this.transform.angle),Mn=In.length-1;Mn>=0;--Mn){var zn=In[Mn];P(it.symbolInstances.get(zn),it.collisionArrays[zn])}else for(var Ln=Ne.symbolInstanceStart;Ln<Ne.symbolInstanceEnd;Ln++)P(it.symbolInstances.get(Ln),it.collisionArrays[Ln]);if(tt&&it.bucketInstanceId in this.collisionCircleArrays){var Fn=this.collisionCircleArrays[it.bucketInstanceId];w.invert(Fn.invProjMatrix,at),Fn.viewportMatrix=this.collisionIndex.getViewportMatrix()}it.justReloaded=!1},be.prototype.markUsedJustification=function(Ne,et,tt,nt){var rt;rt=nt===w.WritingMode.vertical?tt.verticalPlacedTextSymbolIndex:{left:tt.leftJustifiedTextSymbolIndex,center:tt.centerJustifiedTextSymbolIndex,right:tt.rightJustifiedTextSymbolIndex}[w.getAnchorJustification(et)];for(var it=0,ot=[tt.leftJustifiedTextSymbolIndex,tt.centerJustifiedTextSymbolIndex,tt.rightJustifiedTextSymbolIndex,tt.verticalPlacedTextSymbolIndex];it<ot.length;it+=1){var at=ot[it];at>=0&&(Ne.text.placedSymbolArray.get(at).crossTileID=rt>=0&&at!==rt?0:tt.crossTileID)}},be.prototype.markUsedOrientation=function(Ne,et,tt){for(var nt=et===w.WritingMode.horizontal||et===w.WritingMode.horizontalOnly?et:0,rt=et===w.WritingMode.vertical?et:0,it=0,ot=[tt.leftJustifiedTextSymbolIndex,tt.centerJustifiedTextSymbolIndex,tt.rightJustifiedTextSymbolIndex];it<ot.length;it+=1)Ne.text.placedSymbolArray.get(ot[it]).placedOrientation=nt;tt.verticalPlacedTextSymbolIndex&&(Ne.text.placedSymbolArray.get(tt.verticalPlacedTextSymbolIndex).placedOrientation=rt)},be.prototype.commit=function(w){this.commitTime=w,this.zoomAtLastRecencyCheck=this.transform.zoom;var Ne=this.prevPlacement,et=!1;this.prevZoomAdjustment=Ne?Ne.zoomAdjustment(this.transform.zoom):0;var tt=Ne?Ne.symbolFadeChange(w):1,nt=Ne?Ne.opacities:{},rt=Ne?Ne.variableOffsets:{},it=Ne?Ne.placedOrientations:{};for(var ot in this.placements){var at=this.placements[ot],st=nt[ot];st?(this.opacities[ot]=new _e(st,tt,at.text,at.icon),et=et||at.text!==st.text.placed||at.icon!==st.icon.placed):(this.opacities[ot]=new _e(null,tt,at.text,at.icon,at.skipFade),et=et||at.text||at.icon)}for(var ct in nt){var pt=nt[ct];if(!this.opacities[ct]){var ft=new _e(pt,tt,!1,!1);ft.isHidden()||(this.opacities[ct]=ft,et=et||pt.text.placed||pt.icon.placed)}}for(var dt in rt)this.variableOffsets[dt]||!this.opacities[dt]||this.opacities[dt].isHidden()||(this.variableOffsets[dt]=rt[dt]);for(var mt in it)this.placedOrientations[mt]||!this.opacities[mt]||this.opacities[mt].isHidden()||(this.placedOrientations[mt]=it[mt]);et?this.lastPlacementChangeTime=w:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=Ne?Ne.lastPlacementChangeTime:w)},be.prototype.updateLayerOpacities=function(w,Ne){for(var et={},tt=0,nt=Ne;tt<nt.length;tt+=1){var rt=nt[tt],it=rt.getBucket(w);it&&rt.latestFeatureIndex&&w.id===it.layerIds[0]&&this.updateBucketOpacities(it,et,rt.collisionBoxArray)}},be.prototype.updateBucketOpacities=function(Ne,et,tt){var nt=this;Ne.hasTextData()&&Ne.text.opacityVertexArray.clear(),Ne.hasIconData()&&Ne.icon.opacityVertexArray.clear(),Ne.hasIconCollisionBoxData()&&Ne.iconCollisionBox.collisionVertexArray.clear(),Ne.hasTextCollisionBoxData()&&Ne.textCollisionBox.collisionVertexArray.clear();var rt=Ne.layers[0].layout,it=new _e(null,0,!1,!1,!0),ot=rt.get("text-allow-overlap"),at=rt.get("icon-allow-overlap"),st=rt.get("text-variable-anchor"),ct="map"===rt.get("text-rotation-alignment"),pt="map"===rt.get("text-pitch-alignment"),ft="none"!==rt.get("icon-text-fit"),dt=new _e(null,0,ot&&(at||!Ne.hasIconData()||rt.get("icon-optional")),at&&(ot||!Ne.hasTextData()||rt.get("text-optional")),!0);!Ne.collisionArrays&&tt&&(Ne.hasIconCollisionBoxData()||Ne.hasTextCollisionBoxData())&&Ne.deserializeCollisionBoxes(tt);for(var _=function(w,Ne,et){for(var tt=0;tt<Ne/4;tt++)w.opacityVertexArray.emplaceBack(et)},f=function(tt){var rt=Ne.symbolInstances.get(tt),ot=rt.numHorizontalGlyphVertices,at=rt.numVerticalGlyphVertices,mt=rt.crossTileID,yt=nt.opacities[mt];et[mt]?yt=it:yt||(nt.opacities[mt]=yt=dt),et[mt]=!0;var vt=rt.numIconVertices>0,Ot=nt.placedOrientations[rt.crossTileID],Dt=Ot===w.WritingMode.vertical,Rt=Ot===w.WritingMode.horizontal||Ot===w.WritingMode.horizontalOnly;if(ot>0||at>0){var Bt=De(yt.text);_(Ne.text,ot,Dt?As:Bt),_(Ne.text,at,Rt?As:Bt);var rn=yt.text.isHidden();[rt.rightJustifiedTextSymbolIndex,rt.centerJustifiedTextSymbolIndex,rt.leftJustifiedTextSymbolIndex].forEach((function(w){w>=0&&(Ne.text.placedSymbolArray.get(w).hidden=rn||Dt?1:0)})),rt.verticalPlacedTextSymbolIndex>=0&&(Ne.text.placedSymbolArray.get(rt.verticalPlacedTextSymbolIndex).hidden=rn||Rt?1:0);var vn=nt.variableOffsets[rt.crossTileID];vn&&nt.markUsedJustification(Ne,vn.anchor,rt,Ot);var bn=nt.placedOrientations[rt.crossTileID];bn&&(nt.markUsedJustification(Ne,"left",rt,bn),nt.markUsedOrientation(Ne,bn,rt))}if(vt){var Cn=De(yt.icon),Tn=!(ft&&rt.verticalPlacedIconSymbolIndex&&Dt);rt.placedIconSymbolIndex>=0&&(_(Ne.icon,rt.numIconVertices,Tn?Cn:As),Ne.icon.placedSymbolArray.get(rt.placedIconSymbolIndex).hidden=yt.icon.isHidden()),rt.verticalPlacedIconSymbolIndex>=0&&(_(Ne.icon,rt.numVerticalIconVertices,Tn?As:Cn),Ne.icon.placedSymbolArray.get(rt.verticalPlacedIconSymbolIndex).hidden=yt.icon.isHidden())}if(Ne.hasIconCollisionBoxData()||Ne.hasTextCollisionBoxData()){var In=Ne.collisionArrays[tt];if(In){var Mn=new w.Point(0,0);if(In.textBox||In.verticalTextBox){var zn=!0;if(st){var Ln=nt.variableOffsets[mt];Ln?(Mn=ye(Ln.anchor,Ln.width,Ln.height,Ln.textOffset,Ln.textBoxScale),ct&&Mn._rotate(pt?nt.transform.angle:-nt.transform.angle)):zn=!1}In.textBox&&we(Ne.textCollisionBox.collisionVertexArray,yt.text.placed,!zn||Dt,Mn.x,Mn.y),In.verticalTextBox&&we(Ne.textCollisionBox.collisionVertexArray,yt.text.placed,!zn||Rt,Mn.x,Mn.y)}var Fn=Boolean(!Rt&&In.verticalIconBox);In.iconBox&&we(Ne.iconCollisionBox.collisionVertexArray,yt.icon.placed,Fn,ft?Mn.x:0,ft?Mn.y:0),In.verticalIconBox&&we(Ne.iconCollisionBox.collisionVertexArray,yt.icon.placed,!Fn,ft?Mn.x:0,ft?Mn.y:0)}}},mt=0;mt<Ne.symbolInstances.length;mt++)f(mt);if(Ne.sortFeatures(this.transform.angle),this.retainedQueryData[Ne.bucketInstanceId]&&(this.retainedQueryData[Ne.bucketInstanceId].featureSortOrder=Ne.featureSortOrder),Ne.hasTextData()&&Ne.text.opacityVertexBuffer&&Ne.text.opacityVertexBuffer.updateData(Ne.text.opacityVertexArray),Ne.hasIconData()&&Ne.icon.opacityVertexBuffer&&Ne.icon.opacityVertexBuffer.updateData(Ne.icon.opacityVertexArray),Ne.hasIconCollisionBoxData()&&Ne.iconCollisionBox.collisionVertexBuffer&&Ne.iconCollisionBox.collisionVertexBuffer.updateData(Ne.iconCollisionBox.collisionVertexArray),Ne.hasTextCollisionBoxData()&&Ne.textCollisionBox.collisionVertexBuffer&&Ne.textCollisionBox.collisionVertexBuffer.updateData(Ne.textCollisionBox.collisionVertexArray),Ne.bucketInstanceId in this.collisionCircleArrays){var yt=this.collisionCircleArrays[Ne.bucketInstanceId];Ne.placementInvProjMatrix=yt.invProjMatrix,Ne.placementViewportMatrix=yt.viewportMatrix,Ne.collisionCircleArray=yt.circles,delete this.collisionCircleArrays[Ne.bucketInstanceId]}},be.prototype.symbolFadeChange=function(w){return 0===this.fadeDuration?1:(w-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},be.prototype.zoomAdjustment=function(w){return Math.max(0,(this.transform.zoom-w)/1.5)},be.prototype.hasTransitions=function(w){return this.stale||w-this.lastPlacementChangeTime<this.fadeDuration},be.prototype.stillRecent=function(w,Ne){var et=this.zoomAtLastRecencyCheck===Ne?1-this.zoomAdjustment(Ne):1;return this.zoomAtLastRecencyCheck=Ne,this.commitTime+this.fadeDuration*et>w},be.prototype.setStale=function(){this.stale=!0};var gs=Math.pow(2,25),vs=Math.pow(2,24),xs=Math.pow(2,17),Ss=Math.pow(2,16),Es=Math.pow(2,9),Cs=Math.pow(2,8),Ps=Math.pow(2,1);function De(w){if(0===w.opacity&&!w.placed)return 0;if(1===w.opacity&&w.placed)return 4294967295;var Ne=w.placed?1:0,et=Math.floor(127*w.opacity);return et*gs+Ne*vs+et*xs+Ne*Ss+et*Es+Ne*Cs+et*Ps+Ne}var As=0,Le=function(w){this._sortAcrossTiles="viewport-y"!==w.layout.get("symbol-z-order")&&void 0!==w.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Le.prototype.continuePlacement=function(w,Ne,et,tt,nt){for(var rt=this._bucketParts;this._currentTileIndex<w.length;)if(Ne.getBucketParts(rt,tt,w[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,nt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,rt.sort((function(w,Ne){return w.sortKey-Ne.sortKey})));this._currentPartIndex<rt.length;)if(Ne.placeLayerBucketPart(rt[this._currentPartIndex],this._seenCrossTileIDs,et),this._currentPartIndex++,nt())return!0;return!1};var Ae=function(w,Ne,et,tt,nt,rt,it){this.placement=new be(w,nt,rt,it),this._currentPlacementIndex=Ne.length-1,this._forceFullPlacement=et,this._showCollisionBoxes=tt,this._done=!1};Ae.prototype.isDone=function(){return this._done},Ae.prototype.continuePlacement=function(Ne,et,tt){for(var nt=this,rt=w.browser.now(),n=function(){var Ne=w.browser.now()-rt;return!nt._forceFullPlacement&&Ne>2};this._currentPlacementIndex>=0;){var it=et[Ne[this._currentPlacementIndex]],ot=this.placement.collisionIndex.transform.zoom;if("symbol"===it.type&&(!it.minzoom||it.minzoom<=ot)&&(!it.maxzoom||it.maxzoom>ot)){if(this._inProgressLayer||(this._inProgressLayer=new Le(it)),this._inProgressLayer.continuePlacement(tt[it.source],this.placement,this._showCollisionBoxes,it,n))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ae.prototype.commit=function(w){return this.placement.commit(w),this.placement};var Ms=512/w.EXTENT/2,ke=function(w,Ne,et){this.tileID=w,this.indexedSymbolInstances={},this.bucketInstanceId=et;for(var tt=0;tt<Ne.length;tt++){var nt=Ne.get(tt),rt=nt.key;this.indexedSymbolInstances[rt]||(this.indexedSymbolInstances[rt]=[]),this.indexedSymbolInstances[rt].push({crossTileID:nt.crossTileID,coord:this.getScaledCoordinates(nt,w)})}};ke.prototype.getScaledCoordinates=function(Ne,et){var tt=Ms/Math.pow(2,et.canonical.z-this.tileID.canonical.z);return{x:Math.floor((et.canonical.x*w.EXTENT+Ne.anchorX)*tt),y:Math.floor((et.canonical.y*w.EXTENT+Ne.anchorY)*tt)}},ke.prototype.findMatches=function(w,Ne,et){for(var tt=this.tileID.canonical.z<Ne.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Ne.canonical.z),nt=0;nt<w.length;nt++){var rt=w.get(nt);if(!rt.crossTileID){var it=this.indexedSymbolInstances[rt.key];if(it)for(var ot=this.getScaledCoordinates(rt,Ne),at=0,st=it;at<st.length;at+=1){var ct=st[at];if(Math.abs(ct.coord.x-ot.x)<=tt&&Math.abs(ct.coord.y-ot.y)<=tt&&!et[ct.crossTileID]){et[ct.crossTileID]=!0,rt.crossTileID=ct.crossTileID;break}}}}};var Be=function(){this.maxCrossTileID=0};Be.prototype.generate=function(){return++this.maxCrossTileID};var Oe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Oe.prototype.handleWrapJump=function(w){var Ne=Math.round((w-this.lng)/360);if(0!==Ne)for(var et in this.indexes){var tt=this.indexes[et],nt={};for(var rt in tt){var it=tt[rt];it.tileID=it.tileID.unwrapTo(it.tileID.wrap+Ne),nt[it.tileID.key]=it}this.indexes[et]=nt}this.lng=w},Oe.prototype.addBucket=function(w,Ne,et){if(this.indexes[w.overscaledZ]&&this.indexes[w.overscaledZ][w.key]){if(this.indexes[w.overscaledZ][w.key].bucketInstanceId===Ne.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(w.overscaledZ,this.indexes[w.overscaledZ][w.key])}for(var tt=0;tt<Ne.symbolInstances.length;tt++)Ne.symbolInstances.get(tt).crossTileID=0;this.usedCrossTileIDs[w.overscaledZ]||(this.usedCrossTileIDs[w.overscaledZ]={});var nt=this.usedCrossTileIDs[w.overscaledZ];for(var rt in this.indexes){var it=this.indexes[rt];if(Number(rt)>w.overscaledZ)for(var ot in it){var at=it[ot];at.tileID.isChildOf(w)&&at.findMatches(Ne.symbolInstances,w,nt)}else{var st=it[w.scaledTo(Number(rt)).key];st&&st.findMatches(Ne.symbolInstances,w,nt)}}for(var ct=0;ct<Ne.symbolInstances.length;ct++){var pt=Ne.symbolInstances.get(ct);pt.crossTileID||(pt.crossTileID=et.generate(),nt[pt.crossTileID]=!0)}return void 0===this.indexes[w.overscaledZ]&&(this.indexes[w.overscaledZ]={}),this.indexes[w.overscaledZ][w.key]=new ke(w,Ne.symbolInstances,Ne.bucketInstanceId),!0},Oe.prototype.removeBucketCrossTileIDs=function(w,Ne){for(var et in Ne.indexedSymbolInstances)for(var tt=0,nt=Ne.indexedSymbolInstances[et];tt<nt.length;tt+=1)delete this.usedCrossTileIDs[w][nt[tt].crossTileID]},Oe.prototype.removeStaleBuckets=function(w){var Ne=!1;for(var et in this.indexes){var tt=this.indexes[et];for(var nt in tt)w[tt[nt].bucketInstanceId]||(this.removeBucketCrossTileIDs(et,tt[nt]),delete tt[nt],Ne=!0)}return Ne};var Fe=function(){this.layerIndexes={},this.crossTileIDs=new Be,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Fe.prototype.addLayer=function(w,Ne,et){var tt=this.layerIndexes[w.id];void 0===tt&&(tt=this.layerIndexes[w.id]=new Oe);var nt=!1,rt={};tt.handleWrapJump(et);for(var it=0,ot=Ne;it<ot.length;it+=1){var at=ot[it],st=at.getBucket(w);st&&w.id===st.layerIds[0]&&(st.bucketInstanceId||(st.bucketInstanceId=++this.maxBucketInstanceId),tt.addBucket(at.tileID,st,this.crossTileIDs)&&(nt=!0),rt[st.bucketInstanceId]=!0)}return tt.removeStaleBuckets(rt)&&(nt=!0),nt},Fe.prototype.pruneUnusedLayers=function(w){var Ne={};for(var et in w.forEach((function(w){Ne[w]=!0})),this.layerIndexes)Ne[et]||delete this.layerIndexes[et]};var Ue=function(Ne,et){return w.emitValidationErrors(Ne,et&&et.filter((function(w){return"source.canvas"!==w.identifier})))},Os=w.pick(us,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),zs=w.pick(us,["setCenter","setZoom","setBearing","setPitch"]),Ls=function(){var Ne={},et=w.styleSpec.$version;for(var tt in w.styleSpec.$root){var nt,rt=w.styleSpec.$root[tt];rt.required&&null!=(nt="version"===tt?et:"array"===rt.type?[]:{})&&(Ne[tt]=nt)}return Ne}(),Rs=function(Ne){function i(et,tt){var nt=this;void 0===tt&&(tt={}),Ne.call(this),this.map=et,this.dispatcher=new yt(Ft(),this),this.imageManager=new st,this.imageManager.setEventedParent(this),this.glyphManager=new y(et._requestManager,tt.localIdeographFontFamily),this.lineAtlas=new T(256,512),this.crossTileSymbolIndex=new Fe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new w.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",w.getReferrer());var rt=this;this._rtlTextPluginCallback=i.registerForPluginStateChange((function(Ne){rt.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Ne.pluginStatus,pluginURL:Ne.pluginURL},(function(Ne,et){if(w.triggerPluginCompletionEvent(Ne),et&&et.every((function(w){return w})))for(var tt in rt.sourceCaches)rt.sourceCaches[tt].reload()}))})),this.on("data",(function(w){if("source"===w.dataType&&"metadata"===w.sourceDataType){var Ne=nt.sourceCaches[w.sourceId];if(Ne){var et=Ne.getSource();if(et&&et.vectorLayerIds)for(var tt in nt._layers){var rt=nt._layers[tt];rt.source===et.id&&nt._validateLayer(rt)}}}}))}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.loadURL=function(Ne,et){var tt=this;void 0===et&&(et={}),this.fire(new w.Event("dataloading",{dataType:"style"}));var nt="boolean"==typeof et.validate?et.validate:!w.isMapboxURL(Ne);Ne=this.map._requestManager.normalizeStyleURL(Ne,et.accessToken);var rt=this.map._requestManager.transformRequest(Ne,w.ResourceType.Style);this._request=w.getJSON(rt,(function(Ne,et){tt._request=null,Ne?tt.fire(new w.ErrorEvent(Ne)):et&&tt._load(et,nt)}))},i.prototype.loadJSON=function(Ne,et){var tt=this;void 0===et&&(et={}),this.fire(new w.Event("dataloading",{dataType:"style"})),this._request=w.browser.frame((function(){tt._request=null,tt._load(Ne,!1!==et.validate)}))},i.prototype.loadEmpty=function(){this.fire(new w.Event("dataloading",{dataType:"style"})),this._load(Ls,!1)},i.prototype._load=function(Ne,et){if(!et||!Ue(this,w.validateStyle(Ne))){for(var tt in this._loaded=!0,this.stylesheet=Ne,Ne.sources)this.addSource(tt,Ne.sources[tt],{validate:!1});Ne.sprite?this._loadSprite(Ne.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(Ne.glyphs);var nt=Nt(this.stylesheet.layers);this._order=nt.map((function(w){return w.id})),this._layers={},this._serializedLayers={};for(var rt=0,it=nt;rt<it.length;rt+=1){var ot=it[rt];(ot=w.createStyleLayer(ot)).setEventedParent(this,{layer:{id:ot.id}}),this._layers[ot.id]=ot,this._serializedLayers[ot.id]=ot.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new mt(this.stylesheet.light),this.fire(new w.Event("data",{dataType:"style"})),this.fire(new w.Event("style.load"))}},i.prototype._loadSprite=function(Ne){var et=this;this._spriteRequest=function(Ne,et,tt){var nt,rt,it,ot=w.browser.devicePixelRatio>1?"@2x":"",at=w.getJSON(et.transformRequest(et.normalizeSpriteURL(Ne,ot,".json"),w.ResourceType.SpriteJSON),(function(w,Ne){at=null,it||(it=w,nt=Ne,u())})),st=w.getImage(et.transformRequest(et.normalizeSpriteURL(Ne,ot,".png"),w.ResourceType.SpriteImage),(function(w,Ne){st=null,it||(it=w,rt=Ne,u())}));function u(){if(it)tt(it);else if(nt&&rt){var Ne=w.browser.getImageData(rt),et={};for(var ot in nt){var at=nt[ot],st=at.width,ct=at.height,pt=at.x,ft=at.y,dt=at.sdf,mt=at.pixelRatio,yt=at.stretchX,vt=at.stretchY,Ot=at.content,Dt=new w.RGBAImage({width:st,height:ct});w.RGBAImage.copy(Ne,Dt,{x:pt,y:ft},{x:0,y:0},{width:st,height:ct}),et[ot]={data:Dt,pixelRatio:mt,sdf:dt,stretchX:yt,stretchY:vt,content:Ot}}tt(null,et)}}return{cancel:function(){at&&(at.cancel(),at=null),st&&(st.cancel(),st=null)}}}(Ne,this.map._requestManager,(function(Ne,tt){if(et._spriteRequest=null,Ne)et.fire(new w.ErrorEvent(Ne));else if(tt)for(var nt in tt)et.imageManager.addImage(nt,tt[nt]);et.imageManager.setLoaded(!0),et._availableImages=et.imageManager.listImages(),et.dispatcher.broadcast("setImages",et._availableImages),et.fire(new w.Event("data",{dataType:"style"}))}))},i.prototype._validateLayer=function(Ne){var et=this.sourceCaches[Ne.source];if(et){var tt=Ne.sourceLayer;if(tt){var nt=et.getSource();("geojson"===nt.type||nt.vectorLayerIds&&-1===nt.vectorLayerIds.indexOf(tt))&&this.fire(new w.ErrorEvent(new Error('Source layer "'+tt+'" does not exist on source "'+nt.id+'" as specified by style layer "'+Ne.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var w in this.sourceCaches)if(!this.sourceCaches[w].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(w){for(var Ne=[],et=0,tt=w;et<tt.length;et+=1){var nt=this._layers[tt[et]];"custom"!==nt.type&&Ne.push(nt.serialize())}return Ne},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var w in this.sourceCaches)if(this.sourceCaches[w].hasTransition())return!0;for(var Ne in this._layers)if(this._layers[Ne].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(Ne){if(this._loaded){var et=this._changed;if(this._changed){var tt=Object.keys(this._updatedLayers),nt=Object.keys(this._removedLayers);for(var rt in(tt.length||nt.length)&&this._updateWorkerLayers(tt,nt),this._updatedSources){var it=this._updatedSources[rt];"reload"===it?this._reloadSource(rt):"clear"===it&&this._clearSource(rt)}for(var ot in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ot].updateTransitions(Ne);this.light.updateTransitions(Ne),this._resetUpdates()}for(var at in this.sourceCaches)this.sourceCaches[at].used=!1;for(var st=0,ct=this._order;st<ct.length;st+=1){var pt=this._layers[ct[st]];pt.recalculate(Ne,this._availableImages),!pt.isHidden(Ne.zoom)&&pt.source&&(this.sourceCaches[pt.source].used=!0)}this.light.recalculate(Ne),this.z=Ne.zoom,et&&this.fire(new w.Event("data",{dataType:"style"}))}},i.prototype._updateTilesForChangedImages=function(){var w=Object.keys(this._changedImages);if(w.length){for(var Ne in this.sourceCaches)this.sourceCaches[Ne].reloadTilesForDependencies(["icons","patterns"],w);this._changedImages={}}},i.prototype._updateWorkerLayers=function(w,Ne){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(w),removedIds:Ne})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},i.prototype.setState=function(Ne){var et=this;if(this._checkLoaded(),Ue(this,w.validateStyle(Ne)))return!1;(Ne=w.clone$1(Ne)).layers=Nt(Ne.layers);var tt=function(Ne,et){if(!Ne)return[{command:us.setStyle,args:[et]}];var tt=[];try{if(!w.deepEqual(Ne.version,et.version))return[{command:us.setStyle,args:[et]}];w.deepEqual(Ne.center,et.center)||tt.push({command:us.setCenter,args:[et.center]}),w.deepEqual(Ne.zoom,et.zoom)||tt.push({command:us.setZoom,args:[et.zoom]}),w.deepEqual(Ne.bearing,et.bearing)||tt.push({command:us.setBearing,args:[et.bearing]}),w.deepEqual(Ne.pitch,et.pitch)||tt.push({command:us.setPitch,args:[et.pitch]}),w.deepEqual(Ne.sprite,et.sprite)||tt.push({command:us.setSprite,args:[et.sprite]}),w.deepEqual(Ne.glyphs,et.glyphs)||tt.push({command:us.setGlyphs,args:[et.glyphs]}),w.deepEqual(Ne.transition,et.transition)||tt.push({command:us.setTransition,args:[et.transition]}),w.deepEqual(Ne.light,et.light)||tt.push({command:us.setLight,args:[et.light]});var nt={},rt=[];!function(Ne,et,tt,nt){var rt;for(rt in et=et||{},Ne=Ne||{})Ne.hasOwnProperty(rt)&&(et.hasOwnProperty(rt)||qt(rt,tt,nt));for(rt in et)et.hasOwnProperty(rt)&&(Ne.hasOwnProperty(rt)?w.deepEqual(Ne[rt],et[rt])||("geojson"===Ne[rt].type&&"geojson"===et[rt].type&&Gt(Ne,et,rt)?tt.push({command:us.setGeoJSONSourceData,args:[rt,et[rt].data]}):Vt(rt,et,tt,nt)):jt(rt,et,tt))}(Ne.sources,et.sources,rt,nt);var it=[];Ne.layers&&Ne.layers.forEach((function(w){nt[w.source]?tt.push({command:us.removeLayer,args:[w.id]}):it.push(w)})),tt=tt.concat(rt),function(Ne,et,tt){et=et||[];var nt,rt,it,ot,at,st,ct,pt=(Ne=Ne||[]).map(Xt),ft=et.map(Xt),dt=Ne.reduce(Ht,{}),mt=et.reduce(Ht,{}),yt=pt.slice(),vt=Object.create(null);for(nt=0,rt=0;nt<pt.length;nt++)mt.hasOwnProperty(it=pt[nt])?rt++:(tt.push({command:us.removeLayer,args:[it]}),yt.splice(yt.indexOf(it,rt),1));for(nt=0,rt=0;nt<ft.length;nt++)yt[yt.length-1-nt]!==(it=ft[ft.length-1-nt])&&(dt.hasOwnProperty(it)?(tt.push({command:us.removeLayer,args:[it]}),yt.splice(yt.lastIndexOf(it,yt.length-rt),1)):rt++,tt.push({command:us.addLayer,args:[mt[it],st=yt[yt.length-nt]]}),yt.splice(yt.length-nt,0,it),vt[it]=!0);for(nt=0;nt<ft.length;nt++)if(ot=dt[it=ft[nt]],at=mt[it],!vt[it]&&!w.deepEqual(ot,at))if(w.deepEqual(ot.source,at.source)&&w.deepEqual(ot["source-layer"],at["source-layer"])&&w.deepEqual(ot.type,at.type)){for(ct in Wt(ot.layout,at.layout,tt,it,null,us.setLayoutProperty),Wt(ot.paint,at.paint,tt,it,null,us.setPaintProperty),w.deepEqual(ot.filter,at.filter)||tt.push({command:us.setFilter,args:[it,at.filter]}),w.deepEqual(ot.minzoom,at.minzoom)&&w.deepEqual(ot.maxzoom,at.maxzoom)||tt.push({command:us.setLayerZoomRange,args:[it,at.minzoom,at.maxzoom]}),ot)ot.hasOwnProperty(ct)&&"layout"!==ct&&"paint"!==ct&&"filter"!==ct&&"metadata"!==ct&&"minzoom"!==ct&&"maxzoom"!==ct&&(0===ct.indexOf("paint.")?Wt(ot[ct],at[ct],tt,it,ct.slice(6),us.setPaintProperty):w.deepEqual(ot[ct],at[ct])||tt.push({command:us.setLayerProperty,args:[it,ct,at[ct]]}));for(ct in at)at.hasOwnProperty(ct)&&!ot.hasOwnProperty(ct)&&"layout"!==ct&&"paint"!==ct&&"filter"!==ct&&"metadata"!==ct&&"minzoom"!==ct&&"maxzoom"!==ct&&(0===ct.indexOf("paint.")?Wt(ot[ct],at[ct],tt,it,ct.slice(6),us.setPaintProperty):w.deepEqual(ot[ct],at[ct])||tt.push({command:us.setLayerProperty,args:[it,ct,at[ct]]}))}else tt.push({command:us.removeLayer,args:[it]}),st=yt[yt.lastIndexOf(it)+1],tt.push({command:us.addLayer,args:[at,st]})}(it,et.layers,tt)}catch(w){console.warn("Unable to compute style diff:",w),tt=[{command:us.setStyle,args:[et]}]}return tt}(this.serialize(),Ne).filter((function(w){return!(w.command in zs)}));if(0===tt.length)return!1;var nt=tt.filter((function(w){return!(w.command in Os)}));if(nt.length>0)throw new Error("Unimplemented: "+nt.map((function(w){return w.command})).join(", ")+".");return tt.forEach((function(w){"setTransition"!==w.command&&et[w.command].apply(et,w.args)})),this.stylesheet=Ne,!0},i.prototype.addImage=function(Ne,et){if(this.getImage(Ne))return this.fire(new w.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(Ne,et),this._availableImages=this.imageManager.listImages(),this._changedImages[Ne]=!0,this._changed=!0,this.fire(new w.Event("data",{dataType:"style"}))},i.prototype.updateImage=function(w,Ne){this.imageManager.updateImage(w,Ne)},i.prototype.getImage=function(w){return this.imageManager.getImage(w)},i.prototype.removeImage=function(Ne){if(!this.getImage(Ne))return this.fire(new w.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(Ne),this._availableImages=this.imageManager.listImages(),this._changedImages[Ne]=!0,this._changed=!0,this.fire(new w.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(Ne,et,tt){var nt=this;if(void 0===tt&&(tt={}),this._checkLoaded(),void 0!==this.sourceCaches[Ne])throw new Error("There is already a source with this ID");if(!et.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(et).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(et.type)>=0&&this._validate(w.validateStyle.source,"sources."+Ne,et,null,tt))){this.map&&this.map._collectResourceTiming&&(et.collectResourceTiming=!0);var rt=this.sourceCaches[Ne]=new os(Ne,et,this.dispatcher);rt.style=this,rt.setEventedParent(this,(function(){return{isSourceLoaded:nt.loaded(),source:rt.serialize(),sourceId:Ne}})),rt.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(Ne){if(this._checkLoaded(),void 0===this.sourceCaches[Ne])throw new Error("There is no source with this ID");for(var et in this._layers)if(this._layers[et].source===Ne)return this.fire(new w.ErrorEvent(new Error('Source "'+Ne+'" cannot be removed while layer "'+et+'" is using it.')));var tt=this.sourceCaches[Ne];delete this.sourceCaches[Ne],delete this._updatedSources[Ne],tt.fire(new w.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Ne})),tt.setEventedParent(null),tt.clearTiles(),tt.onRemove&&tt.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(w,Ne){this._checkLoaded(),this.sourceCaches[w].getSource().setData(Ne),this._changed=!0},i.prototype.getSource=function(w){return this.sourceCaches[w]&&this.sourceCaches[w].getSource()},i.prototype.addLayer=function(Ne,et,tt){void 0===tt&&(tt={}),this._checkLoaded();var nt=Ne.id;if(this.getLayer(nt))this.fire(new w.ErrorEvent(new Error('Layer with id "'+nt+'" already exists on this map')));else{var rt;if("custom"===Ne.type){if(Ue(this,w.validateCustomStyleLayer(Ne)))return;rt=w.createStyleLayer(Ne)}else{if("object"==typeof Ne.source&&(this.addSource(nt,Ne.source),Ne=w.clone$1(Ne),Ne=w.extend(Ne,{source:nt})),this._validate(w.validateStyle.layer,"layers."+nt,Ne,{arrayIndex:-1},tt))return;rt=w.createStyleLayer(Ne),this._validateLayer(rt),rt.setEventedParent(this,{layer:{id:nt}}),this._serializedLayers[rt.id]=rt.serialize()}var it=et?this._order.indexOf(et):this._order.length;if(et&&-1===it)this.fire(new w.ErrorEvent(new Error('Layer with id "'+et+'" does not exist on this map.')));else{if(this._order.splice(it,0,nt),this._layerOrderChanged=!0,this._layers[nt]=rt,this._removedLayers[nt]&&rt.source&&"custom"!==rt.type){var ot=this._removedLayers[nt];delete this._removedLayers[nt],ot.type!==rt.type?this._updatedSources[rt.source]="clear":(this._updatedSources[rt.source]="reload",this.sourceCaches[rt.source].pause())}this._updateLayer(rt),rt.onAdd&&rt.onAdd(this.map)}}},i.prototype.moveLayer=function(Ne,et){if(this._checkLoaded(),this._changed=!0,this._layers[Ne]){if(Ne!==et){var tt=this._order.indexOf(Ne);this._order.splice(tt,1);var nt=et?this._order.indexOf(et):this._order.length;et&&-1===nt?this.fire(new w.ErrorEvent(new Error('Layer with id "'+et+'" does not exist on this map.'))):(this._order.splice(nt,0,Ne),this._layerOrderChanged=!0)}}else this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(Ne){this._checkLoaded();var et=this._layers[Ne];if(et){et.setEventedParent(null);var tt=this._order.indexOf(Ne);this._order.splice(tt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[Ne]=et,delete this._layers[Ne],delete this._serializedLayers[Ne],delete this._updatedLayers[Ne],delete this._updatedPaintProps[Ne],et.onRemove&&et.onRemove(this.map)}else this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(w){return this._layers[w]},i.prototype.hasLayer=function(w){return w in this._layers},i.prototype.setLayerZoomRange=function(Ne,et,tt){this._checkLoaded();var nt=this.getLayer(Ne);nt?nt.minzoom===et&&nt.maxzoom===tt||(null!=et&&(nt.minzoom=et),null!=tt&&(nt.maxzoom=tt),this._updateLayer(nt)):this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(Ne,et,tt){void 0===tt&&(tt={}),this._checkLoaded();var nt=this.getLayer(Ne);if(nt){if(!w.deepEqual(nt.filter,et))return null==et?(nt.filter=void 0,void this._updateLayer(nt)):void(this._validate(w.validateStyle.filter,"layers."+nt.id+".filter",et,null,tt)||(nt.filter=w.clone$1(et),this._updateLayer(nt)))}else this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(Ne){return w.clone$1(this.getLayer(Ne).filter)},i.prototype.setLayoutProperty=function(Ne,et,tt,nt){void 0===nt&&(nt={}),this._checkLoaded();var rt=this.getLayer(Ne);rt?w.deepEqual(rt.getLayoutProperty(et),tt)||(rt.setLayoutProperty(et,tt,nt),this._updateLayer(rt)):this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(Ne,et){var tt=this.getLayer(Ne);if(tt)return tt.getLayoutProperty(et);this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(Ne,et,tt,nt){void 0===nt&&(nt={}),this._checkLoaded();var rt=this.getLayer(Ne);rt?w.deepEqual(rt.getPaintProperty(et),tt)||(rt.setPaintProperty(et,tt,nt)&&this._updateLayer(rt),this._changed=!0,this._updatedPaintProps[Ne]=!0):this.fire(new w.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(w,Ne){return this.getLayer(w).getPaintProperty(Ne)},i.prototype.setFeatureState=function(Ne,et){this._checkLoaded();var tt=Ne.source,nt=Ne.sourceLayer,rt=this.sourceCaches[tt];if(void 0!==rt){var it=rt.getSource().type;"geojson"===it&&nt?this.fire(new w.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==it||nt?(void 0===Ne.id&&this.fire(new w.ErrorEvent(new Error("The feature id parameter must be provided."))),rt.setFeatureState(nt,Ne.id,et)):this.fire(new w.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new w.ErrorEvent(new Error("The source '"+tt+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(Ne,et){this._checkLoaded();var tt=Ne.source,nt=this.sourceCaches[tt];if(void 0!==nt){var rt=nt.getSource().type,it="vector"===rt?Ne.sourceLayer:void 0;"vector"!==rt||it?et&&"string"!=typeof Ne.id&&"number"!=typeof Ne.id?this.fire(new w.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):nt.removeFeatureState(it,Ne.id,et):this.fire(new w.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new w.ErrorEvent(new Error("The source '"+tt+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(Ne){this._checkLoaded();var et=Ne.source,tt=Ne.sourceLayer,nt=this.sourceCaches[et];if(void 0!==nt){if("vector"!==nt.getSource().type||tt)return void 0===Ne.id&&this.fire(new w.ErrorEvent(new Error("The feature id parameter must be provided."))),nt.getFeatureState(tt,Ne.id);this.fire(new w.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new w.ErrorEvent(new Error("The source '"+et+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return w.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return w.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:w.mapObject(this.sourceCaches,(function(w){return w.serialize()})),layers:this._serializeLayers(this._order)},(function(w){return void 0!==w}))},i.prototype._updateLayer=function(w){this._updatedLayers[w.id]=!0,w.source&&!this._updatedSources[w.source]&&"raster"!==this.sourceCaches[w.source].getSource().type&&(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(w){for(var Ne=this,i=function(w){return"fill-extrusion"===Ne._layers[w].type},et={},tt=[],nt=this._order.length-1;nt>=0;nt--){var rt=this._order[nt];if(i(rt)){et[rt]=nt;for(var it=0,ot=w;it<ot.length;it+=1){var at=ot[it][rt];if(at)for(var st=0,ct=at;st<ct.length;st+=1)tt.push(ct[st])}}}tt.sort((function(w,Ne){return Ne.intersectionZ-w.intersectionZ}));for(var pt=[],ft=this._order.length-1;ft>=0;ft--){var dt=this._order[ft];if(i(dt))for(var mt=tt.length-1;mt>=0;mt--){var yt=tt[mt].feature;if(et[yt.layer.id]<ft)break;pt.push(yt),tt.pop()}else for(var vt=0,Ot=w;vt<Ot.length;vt+=1){var Dt=Ot[vt][dt];if(Dt)for(var Rt=0,Bt=Dt;Rt<Bt.length;Rt+=1)pt.push(Bt[Rt].feature)}}return pt},i.prototype.queryRenderedFeatures=function(Ne,et,tt){et&&et.filter&&this._validate(w.validateStyle.filter,"queryRenderedFeatures.filter",et.filter,null,et);var nt={};if(et&&et.layers){if(!Array.isArray(et.layers))return this.fire(new w.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var rt=0,it=et.layers;rt<it.length;rt+=1){var ot=it[rt],at=this._layers[ot];if(!at)return this.fire(new w.ErrorEvent(new Error("The layer '"+ot+"' does not exist in the map's style and cannot be queried for features."))),[];nt[at.source]=!0}}var st=[];for(var ct in et.availableImages=this._availableImages,this.sourceCaches)et.layers&&!nt[ct]||st.push(O(this.sourceCaches[ct],this._layers,this._serializedLayers,Ne,et,tt));return this.placement&&st.push(function(w,Ne,et,tt,nt,rt,it){for(var ot={},at=rt.queryRenderedSymbols(tt),st=[],ct=0,pt=Object.keys(at).map(Number);ct<pt.length;ct+=1)st.push(it[pt[ct]]);st.sort(F);for(var p=function(){var et=dt[ft],tt=et.featureIndex.lookupSymbolFeatures(at[et.bucketInstanceId],Ne,et.bucketIndex,et.sourceLayerIndex,nt.filter,nt.layers,nt.availableImages,w);for(var rt in tt){var it=ot[rt]=ot[rt]||[],st=tt[rt];st.sort((function(w,Ne){var tt=et.featureSortOrder;if(tt){var nt=tt.indexOf(w.featureIndex);return tt.indexOf(Ne.featureIndex)-nt}return Ne.featureIndex-w.featureIndex}));for(var ct=0,pt=st;ct<pt.length;ct+=1)it.push(pt[ct])}},ft=0,dt=st;ft<dt.length;ft+=1)p();var f=function(Ne){ot[Ne].forEach((function(tt){var nt=tt.feature,rt=et[w[Ne].source].getFeatureState(nt.layer["source-layer"],nt.id);nt.source=nt.layer.source,nt.layer["source-layer"]&&(nt.sourceLayer=nt.layer["source-layer"]),nt.state=rt}))};for(var mt in ot)f(mt);return ot}(this._layers,this._serializedLayers,this.sourceCaches,Ne,et,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(st)},i.prototype.querySourceFeatures=function(Ne,et){et&&et.filter&&this._validate(w.validateStyle.filter,"querySourceFeatures.filter",et.filter,null,et);var tt=this.sourceCaches[Ne];return tt?function(w,Ne){for(var et=w.getRenderableIds().map((function(Ne){return w.getTileByID(Ne)})),tt=[],nt={},rt=0;rt<et.length;rt++){var it=et[rt],ot=it.tileID.canonical.key;nt[ot]||(nt[ot]=!0,it.querySourceFeatures(tt,Ne))}return tt}(tt,et):[]},i.prototype.addSourceType=function(w,Ne,et){return i.getSourceType(w)?et(new Error('A source type called "'+w+'" already exists.')):(i.setSourceType(w,Ne),Ne.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:w,url:Ne.workerSourceURL},et):et(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(Ne,et){void 0===et&&(et={}),this._checkLoaded();var tt=this.light.getLight(),nt=!1;for(var rt in Ne)if(!w.deepEqual(Ne[rt],tt[rt])){nt=!0;break}if(nt){var it={now:w.browser.now(),transition:w.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(Ne,et),this.light.updateTransitions(it)}},i.prototype._validate=function(Ne,et,tt,nt,rt){return void 0===rt&&(rt={}),(!rt||!1!==rt.validate)&&Ue(this,Ne.call(w.validateStyle,w.extend({key:et,style:this.serialize(),value:tt,styleSpec:w.styleSpec},nt)))},i.prototype._remove=function(){for(var Ne in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),w.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[Ne].setEventedParent(null);for(var et in this.sourceCaches)this.sourceCaches[et].clearTiles(),this.sourceCaches[et].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},i.prototype._clearSource=function(w){this.sourceCaches[w].clearTiles()},i.prototype._reloadSource=function(w){this.sourceCaches[w].resume(),this.sourceCaches[w].reload()},i.prototype._updateSources=function(w){for(var Ne in this.sourceCaches)this.sourceCaches[Ne].update(w)},i.prototype._generateCollisionBoxes=function(){for(var w in this.sourceCaches)this._reloadSource(w)},i.prototype._updatePlacement=function(Ne,et,tt,nt,rt){void 0===rt&&(rt=!1);for(var it=!1,ot=!1,at={},st=0,ct=this._order;st<ct.length;st+=1){var pt=this._layers[ct[st]];if("symbol"===pt.type){if(!at[pt.source]){var ft=this.sourceCaches[pt.source];at[pt.source]=ft.getRenderableIds(!0).map((function(w){return ft.getTileByID(w)})).sort((function(w,Ne){return Ne.tileID.overscaledZ-w.tileID.overscaledZ||(w.tileID.isLessThan(Ne.tileID)?-1:1)}))}var dt=this.crossTileSymbolIndex.addLayer(pt,at[pt.source],Ne.center.lng);it=it||dt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((rt=rt||this._layerOrderChanged||0===tt)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(w.browser.now(),Ne.zoom))&&(this.pauseablePlacement=new Ae(Ne,this._order,rt,et,tt,nt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,at),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(w.browser.now()),ot=!0),it&&this.pauseablePlacement.placement.setStale()),ot||it)for(var mt=0,yt=this._order;mt<yt.length;mt+=1){var vt=this._layers[yt[mt]];"symbol"===vt.type&&this.placement.updateLayerOpacities(vt,at[vt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(w.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var w in this.sourceCaches)this.sourceCaches[w].releaseSymbolFadeTiles()},i.prototype.getImages=function(w,Ne,et){this.imageManager.getImages(Ne.icons,et),this._updateTilesForChangedImages();var tt=this.sourceCaches[Ne.source];tt&&tt.setDependencies(Ne.tileID.key,Ne.type,Ne.icons)},i.prototype.getGlyphs=function(w,Ne,et){this.glyphManager.getGlyphs(Ne.stacks,et)},i.prototype.getResource=function(Ne,et,tt){return w.makeRequest(et,tt)},i}(w.Evented);Rs.getSourceType=function(w){return Cn[w]},Rs.setSourceType=function(w,Ne){Cn[w]=Ne},Rs.registerForPluginStateChange=w.registerForPluginStateChange;var Fs=w.createLayout([{name:"a_pos",type:"Int16",components:2}]),Bs=gi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),js=gi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ns=gi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Vs=gi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Us=gi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zs=gi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Js=gi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),tl=gi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ol=gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),sl=gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),dl=gi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),yl=gi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),gl=gi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),vl=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),_l=gi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),bl=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),xl=gi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),wl=gi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Sl=gi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),kl=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Cl=gi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Il=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Al=gi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),zl=gi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Fl=gi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Hl=gi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gi(w,Ne){var et=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,tt=Ne.match(/attribute ([\w]+) ([\w]+)/g),nt=w.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),rt=Ne.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),it=rt?rt.concat(nt):nt,ot={};return{fragmentSource:w=w.replace(et,(function(w,Ne,et,tt,nt){return ot[nt]=!0,"define"===Ne?"\n#ifndef HAS_UNIFORM_u_"+nt+"\nvarying "+et+" "+tt+" "+nt+";\n#else\nuniform "+et+" "+tt+" u_"+nt+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+nt+"\n    "+et+" "+tt+" "+nt+" = u_"+nt+";\n#endif\n"})),vertexSource:Ne=Ne.replace(et,(function(w,Ne,et,tt,nt){var rt="float"===tt?"vec2":"vec4",it=nt.match(/color/)?"color":rt;return ot[nt]?"define"===Ne?"\n#ifndef HAS_UNIFORM_u_"+nt+"\nuniform lowp float u_"+nt+"_t;\nattribute "+et+" "+rt+" a_"+nt+";\nvarying "+et+" "+tt+" "+nt+";\n#else\nuniform "+et+" "+tt+" u_"+nt+";\n#endif\n":"vec4"===it?"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+nt+" = a_"+nt+";\n#else\n    "+et+" "+tt+" "+nt+" = u_"+nt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+nt+" = unpack_mix_"+it+"(a_"+nt+", u_"+nt+"_t);\n#else\n    "+et+" "+tt+" "+nt+" = u_"+nt+";\n#endif\n":"define"===Ne?"\n#ifndef HAS_UNIFORM_u_"+nt+"\nuniform lowp float u_"+nt+"_t;\nattribute "+et+" "+rt+" a_"+nt+";\n#else\nuniform "+et+" "+tt+" u_"+nt+";\n#endif\n":"vec4"===it?"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+et+" "+tt+" "+nt+" = a_"+nt+";\n#else\n    "+et+" "+tt+" "+nt+" = u_"+nt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+nt+"\n    "+et+" "+tt+" "+nt+" = unpack_mix_"+it+"(a_"+nt+", u_"+nt+"_t);\n#else\n    "+et+" "+tt+" "+nt+" = u_"+nt+";\n#endif\n"})),staticAttributes:tt,staticUniforms:it}}var du=Object.freeze({__proto__:null,prelude:Bs,background:js,backgroundPattern:Ns,circle:Vs,clippingMask:Us,heatmap:Zs,heatmapTexture:Js,collisionBox:tl,collisionCircle:ol,debug:sl,fill:dl,fillOutline:yl,fillOutlinePattern:gl,fillPattern:vl,fillExtrusion:_l,fillExtrusionPattern:bl,hillshadePrepare:xl,hillshade:wl,line:Sl,lineGradient:kl,linePattern:Cl,lineSDF:Il,raster:Al,symbolIcon:zl,symbolSDF:Fl,symbolTextAndIcon:Hl}),yi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xi(w){for(var Ne=[],et=0;et<w.length;et++)if(null!==w[et]){var tt=w[et].split(" ");Ne.push(tt.pop())}return Ne}yi.prototype.bind=function(w,Ne,et,tt,nt,rt,it,ot){this.context=w;for(var at=this.boundPaintVertexBuffers.length!==tt.length,st=0;!at&&st<tt.length;st++)this.boundPaintVertexBuffers[st]!==tt[st]&&(at=!0);w.extVertexArrayObject&&this.vao&&this.boundProgram===Ne&&this.boundLayoutVertexBuffer===et&&!at&&this.boundIndexBuffer===nt&&this.boundVertexOffset===rt&&this.boundDynamicVertexBuffer===it&&this.boundDynamicVertexBuffer2===ot?(w.bindVertexArrayOES.set(this.vao),it&&it.bind(),nt&&nt.dynamicDraw&&nt.bind(),ot&&ot.bind()):this.freshBind(Ne,et,tt,nt,rt,it,ot)},yi.prototype.freshBind=function(w,Ne,et,tt,nt,rt,it){var ot,at=w.numAttributes,st=this.context,ct=st.gl;if(st.extVertexArrayObject)this.vao&&this.destroy(),this.vao=st.extVertexArrayObject.createVertexArrayOES(),st.bindVertexArrayOES.set(this.vao),ot=0,this.boundProgram=w,this.boundLayoutVertexBuffer=Ne,this.boundPaintVertexBuffers=et,this.boundIndexBuffer=tt,this.boundVertexOffset=nt,this.boundDynamicVertexBuffer=rt,this.boundDynamicVertexBuffer2=it;else{ot=st.currentNumAttributes||0;for(var pt=at;pt<ot;pt++)ct.disableVertexAttribArray(pt)}Ne.enableAttributes(ct,w);for(var ft=0,dt=et;ft<dt.length;ft+=1)dt[ft].enableAttributes(ct,w);rt&&rt.enableAttributes(ct,w),it&&it.enableAttributes(ct,w),Ne.bind(),Ne.setVertexAttribPointers(ct,w,nt);for(var mt=0,yt=et;mt<yt.length;mt+=1){var vt=yt[mt];vt.bind(),vt.setVertexAttribPointers(ct,w,nt)}rt&&(rt.bind(),rt.setVertexAttribPointers(ct,w,nt)),tt&&tt.bind(),it&&(it.bind(),it.setVertexAttribPointers(ct,w,nt)),st.currentNumAttributes=at},yi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var bi=function(w,Ne,et,tt,nt,rt){var it=w.gl;this.program=it.createProgram();for(var ot=xi(et.staticAttributes),at=tt?tt.getBinderAttributes():[],st=ot.concat(at),ct=et.staticUniforms?xi(et.staticUniforms):[],pt=tt?tt.getBinderUniforms():[],ft=[],dt=0,mt=ct.concat(pt);dt<mt.length;dt+=1){var yt=mt[dt];ft.indexOf(yt)<0&&ft.push(yt)}var vt=tt?tt.defines():[];rt&&vt.push("#define OVERDRAW_INSPECTOR;");var Ot=vt.concat(Bs.fragmentSource,et.fragmentSource).join("\n"),Dt=vt.concat(Bs.vertexSource,et.vertexSource).join("\n"),Rt=it.createShader(it.FRAGMENT_SHADER);if(it.isContextLost())this.failedToCreate=!0;else{it.shaderSource(Rt,Ot),it.compileShader(Rt),it.attachShader(this.program,Rt);var Bt=it.createShader(it.VERTEX_SHADER);if(it.isContextLost())this.failedToCreate=!0;else{it.shaderSource(Bt,Dt),it.compileShader(Bt),it.attachShader(this.program,Bt),this.attributes={};var rn={};this.numAttributes=st.length;for(var vn=0;vn<this.numAttributes;vn++)st[vn]&&(it.bindAttribLocation(this.program,vn,st[vn]),this.attributes[st[vn]]=vn);it.linkProgram(this.program),it.deleteShader(Bt),it.deleteShader(Rt);for(var bn=0;bn<ft.length;bn++){var Cn=ft[bn];if(Cn&&!rn[Cn]){var Tn=it.getUniformLocation(this.program,Cn);Tn&&(rn[Cn]=Tn)}}this.fixedUniforms=nt(w,rn),this.binderUniforms=tt?tt.getUniforms(w,rn):[]}}};function wi(w,Ne,et){var tt=1/pe(et,1,Ne.transform.tileZoom),nt=Math.pow(2,et.tileID.overscaledZ),rt=et.tileSize*Math.pow(2,Ne.transform.tileZoom)/nt,it=rt*(et.tileID.canonical.x+et.tileID.wrap*nt),ot=rt*et.tileID.canonical.y;return{u_image:0,u_texsize:et.imageAtlasTexture.size,u_scale:[tt,w.fromScale,w.toScale],u_fade:w.t,u_pixel_coord_upper:[it>>16,ot>>16],u_pixel_coord_lower:[65535&it,65535&ot]}}bi.prototype.draw=function(w,Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft,dt,mt,yt){var vt,Ot=w.gl;if(!this.failedToCreate){for(var Dt in w.program.set(this.program),w.setDepthMode(et),w.setStencilMode(tt),w.setColorMode(nt),w.setCullFace(rt),this.fixedUniforms)this.fixedUniforms[Dt].set(it[Dt]);dt&&dt.setUniforms(w,this.binderUniforms,pt,{zoom:ft});for(var Rt=(vt={},vt[Ot.LINES]=2,vt[Ot.TRIANGLES]=3,vt[Ot.LINE_STRIP]=1,vt)[Ne],Bt=0,rn=ct.get();Bt<rn.length;Bt+=1){var vn=rn[Bt],bn=vn.vaos||(vn.vaos={});(bn[ot]||(bn[ot]=new yi)).bind(w,this,at,dt?dt.getPaintVertexBuffers():[],st,vn.vertexOffset,mt,yt),Ot.drawElements(Ne,vn.primitiveLength*Rt,Ot.UNSIGNED_SHORT,vn.primitiveOffset*Rt*2)}}};var Ti=function(Ne,et,tt,nt){var rt=et.style.light,it=rt.properties.get("position"),ot=[it.x,it.y,it.z],at=w.create$1();"viewport"===rt.properties.get("anchor")&&w.fromRotation(at,-et.transform.angle),w.transformMat3(ot,ot,at);var st=rt.properties.get("color");return{u_matrix:Ne,u_lightpos:ot,u_lightintensity:rt.properties.get("intensity"),u_lightcolor:[st.r,st.g,st.b],u_vertical_gradient:+tt,u_opacity:nt}},Ei=function(Ne,et,tt,nt,rt,it,ot){return w.extend(Ti(Ne,et,tt,nt),wi(it,et,ot),{u_height_factor:-Math.pow(2,rt.overscaledZ)/ot.tileSize/8})},Ii=function(w){return{u_matrix:w}},Pi=function(Ne,et,tt,nt){return w.extend(Ii(Ne),wi(tt,et,nt))},Si=function(w,Ne){return{u_matrix:w,u_world:Ne}},Ci=function(Ne,et,tt,nt,rt){return w.extend(Pi(Ne,et,tt,nt),{u_world:rt})},zi=function(Ne,et,tt,nt){var rt,it,ot=Ne.transform;if("map"===nt.paint.get("circle-pitch-alignment")){var at=pe(tt,1,ot.zoom);rt=!0,it=[at,at]}else rt=!1,it=ot.pixelsToGLUnits;return{u_camera_to_center_distance:ot.cameraToCenterDistance,u_scale_with_map:+("map"===nt.paint.get("circle-pitch-scale")),u_matrix:Ne.translatePosMatrix(et.posMatrix,tt,nt.paint.get("circle-translate"),nt.paint.get("circle-translate-anchor")),u_pitch_with_map:+rt,u_device_pixel_ratio:w.browser.devicePixelRatio,u_extrude_scale:it}},Di=function(w,Ne,et){var tt=pe(et,1,Ne.zoom),nt=Math.pow(2,Ne.zoom-et.tileID.overscaledZ),rt=et.tileID.overscaleFactor();return{u_matrix:w,u_camera_to_center_distance:Ne.cameraToCenterDistance,u_pixels_to_tile_units:tt,u_extrude_scale:[Ne.pixelsToGLUnits[0]/(tt*nt),Ne.pixelsToGLUnits[1]/(tt*nt)],u_overscale_factor:rt}},Mi=function(w,Ne,et){return{u_matrix:w,u_inv_matrix:Ne,u_camera_to_center_distance:et.cameraToCenterDistance,u_viewport_size:[et.width,et.height]}},Li=function(w,Ne,et){return void 0===et&&(et=1),{u_matrix:w,u_color:Ne,u_overlay:0,u_overlay_scale:et}},Ai=function(w){return{u_matrix:w}},Ri=function(w,Ne,et,tt){return{u_matrix:w,u_extrude_scale:pe(Ne,1,et),u_intensity:tt}},ki=function(Ne,et,tt){var nt=Ne.transform;return{u_matrix:Ni(Ne,et,tt),u_ratio:1/pe(et,1,nt.zoom),u_device_pixel_ratio:w.browser.devicePixelRatio,u_units_to_pixels:[1/nt.pixelsToGLUnits[0],1/nt.pixelsToGLUnits[1]]}},Bi=function(Ne,et,tt){return w.extend(ki(Ne,et,tt),{u_image:0})},Oi=function(Ne,et,tt,nt){var rt=Ne.transform,it=Ui(et,rt);return{u_matrix:Ni(Ne,et,tt),u_texsize:et.imageAtlasTexture.size,u_ratio:1/pe(et,1,rt.zoom),u_device_pixel_ratio:w.browser.devicePixelRatio,u_image:0,u_scale:[it,nt.fromScale,nt.toScale],u_fade:nt.t,u_units_to_pixels:[1/rt.pixelsToGLUnits[0],1/rt.pixelsToGLUnits[1]]}},Fi=function(Ne,et,tt,nt,rt){var it=Ne.lineAtlas,ot=Ui(et,Ne.transform),at="round"===tt.layout.get("line-cap"),st=it.getDash(nt.from,at),ct=it.getDash(nt.to,at),pt=st.width*rt.fromScale,ft=ct.width*rt.toScale;return w.extend(ki(Ne,et,tt),{u_patternscale_a:[ot/pt,-st.height/2],u_patternscale_b:[ot/ft,-ct.height/2],u_sdfgamma:it.width/(256*Math.min(pt,ft)*w.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:st.y,u_tex_y_b:ct.y,u_mix:rt.t})};function Ui(w,Ne){return 1/pe(w,1,Ne.tileZoom)}function Ni(w,Ne,et){return w.translatePosMatrix(Ne.tileID.posMatrix,Ne,et.paint.get("line-translate"),et.paint.get("line-translate-anchor"))}var Zi=function(w,Ne,et,tt,nt){return{u_matrix:w,u_tl_parent:Ne,u_scale_parent:et,u_buffer_scale:1,u_fade_t:tt.mix,u_opacity:tt.opacity*nt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:nt.paint.get("raster-brightness-min"),u_brightness_high:nt.paint.get("raster-brightness-max"),u_saturation_factor:(it=nt.paint.get("raster-saturation"),it>0?1-1/(1.001-it):-it),u_contrast_factor:(rt=nt.paint.get("raster-contrast"),rt>0?1/(1-rt):1+rt),u_spin_weights:ji(nt.paint.get("raster-hue-rotate"))};var rt,it};function ji(w){w*=Math.PI/180;var Ne=Math.sin(w),et=Math.cos(w);return[(2*et+1)/3,(-Math.sqrt(3)*Ne-et+1)/3,(Math.sqrt(3)*Ne-et+1)/3]}var vu,Vi=function(w,Ne,et,tt,nt,rt,it,ot,at,st){var ct=nt.transform;return{u_is_size_zoom_constant:+("constant"===w||"source"===w),u_is_size_feature_constant:+("constant"===w||"camera"===w),u_size_t:Ne?Ne.uSizeT:0,u_size:Ne?Ne.uSize:0,u_camera_to_center_distance:ct.cameraToCenterDistance,u_pitch:ct.pitch/360*2*Math.PI,u_rotate_symbol:+et,u_aspect_ratio:ct.width/ct.height,u_fade_change:nt.options.fadeDuration?nt.symbolFadeChange:1,u_matrix:rt,u_label_plane_matrix:it,u_coord_matrix:ot,u_is_text:+at,u_pitch_with_map:+tt,u_texsize:st,u_texture:0}},Gi=function(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){var ft=rt.transform;return w.extend(Vi(Ne,et,tt,nt,rt,it,ot,at,st,ct),{u_gamma_scale:nt?Math.cos(ft._pitch)*ft.cameraToCenterDistance:1,u_device_pixel_ratio:w.browser.devicePixelRatio,u_is_halo:+pt})},Wi=function(Ne,et,tt,nt,rt,it,ot,at,st,ct){return w.extend(Gi(Ne,et,tt,nt,rt,it,ot,at,!0,st,!0),{u_texsize_icon:ct,u_texture_icon:1})},Xi=function(w,Ne,et){return{u_matrix:w,u_opacity:Ne,u_color:et}},Hi=function(Ne,et,tt,nt,rt,it){return w.extend(function(w,Ne,et,tt){var nt=et.imageManager.getPattern(w.from.toString()),rt=et.imageManager.getPattern(w.to.toString()),it=et.imageManager.getPixelSize(),ot=it.width,at=it.height,st=Math.pow(2,tt.tileID.overscaledZ),ct=tt.tileSize*Math.pow(2,et.transform.tileZoom)/st,pt=ct*(tt.tileID.canonical.x+tt.tileID.wrap*st),ft=ct*tt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:nt.tl,u_pattern_br_a:nt.br,u_pattern_tl_b:rt.tl,u_pattern_br_b:rt.br,u_texsize:[ot,at],u_mix:Ne.t,u_pattern_size_a:nt.displaySize,u_pattern_size_b:rt.displaySize,u_scale_a:Ne.fromScale,u_scale_b:Ne.toScale,u_tile_units_to_pixels:1/pe(tt,1,et.transform.tileZoom),u_pixel_coord_upper:[pt>>16,ft>>16],u_pixel_coord_lower:[65535&pt,65535&ft]}}(nt,it,tt,rt),{u_matrix:Ne,u_opacity:et})},_u={fillExtrusion:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_lightpos:new w.Uniform3f(Ne,et.u_lightpos),u_lightintensity:new w.Uniform1f(Ne,et.u_lightintensity),u_lightcolor:new w.Uniform3f(Ne,et.u_lightcolor),u_vertical_gradient:new w.Uniform1f(Ne,et.u_vertical_gradient),u_opacity:new w.Uniform1f(Ne,et.u_opacity)}},fillExtrusionPattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_lightpos:new w.Uniform3f(Ne,et.u_lightpos),u_lightintensity:new w.Uniform1f(Ne,et.u_lightintensity),u_lightcolor:new w.Uniform3f(Ne,et.u_lightcolor),u_vertical_gradient:new w.Uniform1f(Ne,et.u_vertical_gradient),u_height_factor:new w.Uniform1f(Ne,et.u_height_factor),u_image:new w.Uniform1i(Ne,et.u_image),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade),u_opacity:new w.Uniform1f(Ne,et.u_opacity)}},fill:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},fillPattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_image:new w.Uniform1i(Ne,et.u_image),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade)}},fillOutline:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_world:new w.Uniform2f(Ne,et.u_world)}},fillOutlinePattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_world:new w.Uniform2f(Ne,et.u_world),u_image:new w.Uniform1i(Ne,et.u_image),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade)}},circle:function(Ne,et){return{u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_scale_with_map:new w.Uniform1i(Ne,et.u_scale_with_map),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_extrude_scale:new w.Uniform2f(Ne,et.u_extrude_scale),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},collisionBox:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pixels_to_tile_units:new w.Uniform1f(Ne,et.u_pixels_to_tile_units),u_extrude_scale:new w.Uniform2f(Ne,et.u_extrude_scale),u_overscale_factor:new w.Uniform1f(Ne,et.u_overscale_factor)}},collisionCircle:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_inv_matrix:new w.UniformMatrix4f(Ne,et.u_inv_matrix),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_viewport_size:new w.Uniform2f(Ne,et.u_viewport_size)}},debug:function(Ne,et){return{u_color:new w.UniformColor(Ne,et.u_color),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_overlay:new w.Uniform1i(Ne,et.u_overlay),u_overlay_scale:new w.Uniform1f(Ne,et.u_overlay_scale)}},clippingMask:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},heatmap:function(Ne,et){return{u_extrude_scale:new w.Uniform1f(Ne,et.u_extrude_scale),u_intensity:new w.Uniform1f(Ne,et.u_intensity),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix)}},heatmapTexture:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_world:new w.Uniform2f(Ne,et.u_world),u_image:new w.Uniform1i(Ne,et.u_image),u_color_ramp:new w.Uniform1i(Ne,et.u_color_ramp),u_opacity:new w.Uniform1f(Ne,et.u_opacity)}},hillshade:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_image:new w.Uniform1i(Ne,et.u_image),u_latrange:new w.Uniform2f(Ne,et.u_latrange),u_light:new w.Uniform2f(Ne,et.u_light),u_shadow:new w.UniformColor(Ne,et.u_shadow),u_highlight:new w.UniformColor(Ne,et.u_highlight),u_accent:new w.UniformColor(Ne,et.u_accent)}},hillshadePrepare:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_image:new w.Uniform1i(Ne,et.u_image),u_dimension:new w.Uniform2f(Ne,et.u_dimension),u_zoom:new w.Uniform1f(Ne,et.u_zoom),u_maxzoom:new w.Uniform1f(Ne,et.u_maxzoom),u_unpack:new w.Uniform4f(Ne,et.u_unpack)}},line:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels)}},lineGradient:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels),u_image:new w.Uniform1i(Ne,et.u_image)}},linePattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_image:new w.Uniform1i(Ne,et.u_image),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels),u_scale:new w.Uniform3f(Ne,et.u_scale),u_fade:new w.Uniform1f(Ne,et.u_fade)}},lineSDF:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_ratio:new w.Uniform1f(Ne,et.u_ratio),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_units_to_pixels:new w.Uniform2f(Ne,et.u_units_to_pixels),u_patternscale_a:new w.Uniform2f(Ne,et.u_patternscale_a),u_patternscale_b:new w.Uniform2f(Ne,et.u_patternscale_b),u_sdfgamma:new w.Uniform1f(Ne,et.u_sdfgamma),u_image:new w.Uniform1i(Ne,et.u_image),u_tex_y_a:new w.Uniform1f(Ne,et.u_tex_y_a),u_tex_y_b:new w.Uniform1f(Ne,et.u_tex_y_b),u_mix:new w.Uniform1f(Ne,et.u_mix)}},raster:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_tl_parent:new w.Uniform2f(Ne,et.u_tl_parent),u_scale_parent:new w.Uniform1f(Ne,et.u_scale_parent),u_buffer_scale:new w.Uniform1f(Ne,et.u_buffer_scale),u_fade_t:new w.Uniform1f(Ne,et.u_fade_t),u_opacity:new w.Uniform1f(Ne,et.u_opacity),u_image0:new w.Uniform1i(Ne,et.u_image0),u_image1:new w.Uniform1i(Ne,et.u_image1),u_brightness_low:new w.Uniform1f(Ne,et.u_brightness_low),u_brightness_high:new w.Uniform1f(Ne,et.u_brightness_high),u_saturation_factor:new w.Uniform1f(Ne,et.u_saturation_factor),u_contrast_factor:new w.Uniform1f(Ne,et.u_contrast_factor),u_spin_weights:new w.Uniform3f(Ne,et.u_spin_weights)}},symbolIcon:function(Ne,et){return{u_is_size_zoom_constant:new w.Uniform1i(Ne,et.u_is_size_zoom_constant),u_is_size_feature_constant:new w.Uniform1i(Ne,et.u_is_size_feature_constant),u_size_t:new w.Uniform1f(Ne,et.u_size_t),u_size:new w.Uniform1f(Ne,et.u_size),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pitch:new w.Uniform1f(Ne,et.u_pitch),u_rotate_symbol:new w.Uniform1i(Ne,et.u_rotate_symbol),u_aspect_ratio:new w.Uniform1f(Ne,et.u_aspect_ratio),u_fade_change:new w.Uniform1f(Ne,et.u_fade_change),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_label_plane_matrix:new w.UniformMatrix4f(Ne,et.u_label_plane_matrix),u_coord_matrix:new w.UniformMatrix4f(Ne,et.u_coord_matrix),u_is_text:new w.Uniform1i(Ne,et.u_is_text),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_texture:new w.Uniform1i(Ne,et.u_texture)}},symbolSDF:function(Ne,et){return{u_is_size_zoom_constant:new w.Uniform1i(Ne,et.u_is_size_zoom_constant),u_is_size_feature_constant:new w.Uniform1i(Ne,et.u_is_size_feature_constant),u_size_t:new w.Uniform1f(Ne,et.u_size_t),u_size:new w.Uniform1f(Ne,et.u_size),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pitch:new w.Uniform1f(Ne,et.u_pitch),u_rotate_symbol:new w.Uniform1i(Ne,et.u_rotate_symbol),u_aspect_ratio:new w.Uniform1f(Ne,et.u_aspect_ratio),u_fade_change:new w.Uniform1f(Ne,et.u_fade_change),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_label_plane_matrix:new w.UniformMatrix4f(Ne,et.u_label_plane_matrix),u_coord_matrix:new w.UniformMatrix4f(Ne,et.u_coord_matrix),u_is_text:new w.Uniform1i(Ne,et.u_is_text),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_texture:new w.Uniform1i(Ne,et.u_texture),u_gamma_scale:new w.Uniform1f(Ne,et.u_gamma_scale),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_is_halo:new w.Uniform1i(Ne,et.u_is_halo)}},symbolTextAndIcon:function(Ne,et){return{u_is_size_zoom_constant:new w.Uniform1i(Ne,et.u_is_size_zoom_constant),u_is_size_feature_constant:new w.Uniform1i(Ne,et.u_is_size_feature_constant),u_size_t:new w.Uniform1f(Ne,et.u_size_t),u_size:new w.Uniform1f(Ne,et.u_size),u_camera_to_center_distance:new w.Uniform1f(Ne,et.u_camera_to_center_distance),u_pitch:new w.Uniform1f(Ne,et.u_pitch),u_rotate_symbol:new w.Uniform1i(Ne,et.u_rotate_symbol),u_aspect_ratio:new w.Uniform1f(Ne,et.u_aspect_ratio),u_fade_change:new w.Uniform1f(Ne,et.u_fade_change),u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_label_plane_matrix:new w.UniformMatrix4f(Ne,et.u_label_plane_matrix),u_coord_matrix:new w.UniformMatrix4f(Ne,et.u_coord_matrix),u_is_text:new w.Uniform1i(Ne,et.u_is_text),u_pitch_with_map:new w.Uniform1i(Ne,et.u_pitch_with_map),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_texsize_icon:new w.Uniform2f(Ne,et.u_texsize_icon),u_texture:new w.Uniform1i(Ne,et.u_texture),u_texture_icon:new w.Uniform1i(Ne,et.u_texture_icon),u_gamma_scale:new w.Uniform1f(Ne,et.u_gamma_scale),u_device_pixel_ratio:new w.Uniform1f(Ne,et.u_device_pixel_ratio),u_is_halo:new w.Uniform1i(Ne,et.u_is_halo)}},background:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_opacity:new w.Uniform1f(Ne,et.u_opacity),u_color:new w.UniformColor(Ne,et.u_color)}},backgroundPattern:function(Ne,et){return{u_matrix:new w.UniformMatrix4f(Ne,et.u_matrix),u_opacity:new w.Uniform1f(Ne,et.u_opacity),u_image:new w.Uniform1i(Ne,et.u_image),u_pattern_tl_a:new w.Uniform2f(Ne,et.u_pattern_tl_a),u_pattern_br_a:new w.Uniform2f(Ne,et.u_pattern_br_a),u_pattern_tl_b:new w.Uniform2f(Ne,et.u_pattern_tl_b),u_pattern_br_b:new w.Uniform2f(Ne,et.u_pattern_br_b),u_texsize:new w.Uniform2f(Ne,et.u_texsize),u_mix:new w.Uniform1f(Ne,et.u_mix),u_pattern_size_a:new w.Uniform2f(Ne,et.u_pattern_size_a),u_pattern_size_b:new w.Uniform2f(Ne,et.u_pattern_size_b),u_scale_a:new w.Uniform1f(Ne,et.u_scale_a),u_scale_b:new w.Uniform1f(Ne,et.u_scale_b),u_pixel_coord_upper:new w.Uniform2f(Ne,et.u_pixel_coord_upper),u_pixel_coord_lower:new w.Uniform2f(Ne,et.u_pixel_coord_lower),u_tile_units_to_pixels:new w.Uniform1f(Ne,et.u_tile_units_to_pixels)}}};function Yi(Ne,et,tt,nt,rt,it,ot){for(var at=Ne.context,st=at.gl,ct=Ne.useProgram("collisionBox"),pt=[],ft=0,dt=0,mt=0;mt<nt.length;mt++){var yt=nt[mt],vt=et.getTile(yt),Ot=vt.getBucket(tt);if(Ot){var Dt=yt.posMatrix;0===rt[0]&&0===rt[1]||(Dt=Ne.translatePosMatrix(yt.posMatrix,vt,rt,it));var Rt=ot?Ot.textCollisionBox:Ot.iconCollisionBox,Bt=Ot.collisionCircleArray;if(Bt.length>0){var rn=w.create(),vn=Dt;w.mul(rn,Ot.placementInvProjMatrix,Ne.transform.glCoordMatrix),w.mul(rn,rn,Ot.placementViewportMatrix),pt.push({circleArray:Bt,circleOffset:dt,transform:vn,invTransform:rn}),dt=ft+=Bt.length/4}Rt&&ct.draw(at,st.LINES,It.disabled,Pt.disabled,Ne.colorModeForRenderPass(),Ct.disabled,Di(Dt,Ne.transform,vt),tt.id,Rt.layoutVertexBuffer,Rt.indexBuffer,Rt.segments,null,Ne.transform.zoom,null,null,Rt.collisionVertexBuffer)}}if(ot&&pt.length){var bn=Ne.useProgram("collisionCircle"),Cn=new w.StructArrayLayout2f1f2i16;Cn.resize(4*ft),Cn._trim();for(var Tn=0,In=0,Mn=pt;In<Mn.length;In+=1)for(var zn=Mn[In],Ln=0;Ln<zn.circleArray.length/4;Ln++){var Fn=4*Ln,Bn=zn.circleArray[Fn+0],Nn=zn.circleArray[Fn+1],Vn=zn.circleArray[Fn+2],Wn=zn.circleArray[Fn+3];Cn.emplace(Tn++,Bn,Nn,Vn,Wn,0),Cn.emplace(Tn++,Bn,Nn,Vn,Wn,1),Cn.emplace(Tn++,Bn,Nn,Vn,Wn,2),Cn.emplace(Tn++,Bn,Nn,Vn,Wn,3)}(!vu||vu.length<2*ft)&&(vu=function(Ne){var et=2*Ne,tt=new w.StructArrayLayout3ui6;tt.resize(et),tt._trim();for(var nt=0;nt<et;nt++){var rt=6*nt;tt.uint16[rt+0]=4*nt+0,tt.uint16[rt+1]=4*nt+1,tt.uint16[rt+2]=4*nt+2,tt.uint16[rt+3]=4*nt+2,tt.uint16[rt+4]=4*nt+3,tt.uint16[rt+5]=4*nt+0}return tt}(ft));for(var $n=at.createIndexBuffer(vu,!0),Yn=at.createVertexBuffer(Cn,w.collisionCircleLayout.members,!0),er=0,rr=pt;er<rr.length;er+=1){var vr=rr[er],wr=Mi(vr.transform,vr.invTransform,Ne.transform);bn.draw(at,st.TRIANGLES,It.disabled,Pt.disabled,Ne.colorModeForRenderPass(),Ct.disabled,wr,tt.id,Yn,$n,w.SegmentVector.simpleSegment(0,2*vr.circleOffset,vr.circleArray.length,vr.circleArray.length/2),null,Ne.transform.zoom,null,null,null)}Yn.destroy(),$n.destroy()}}var wu=w.identity(new Float32Array(16));function Qi(Ne,et,tt,nt,rt,it){var ot=w.getAnchorAlignment(Ne),at=-(ot.horizontalAlign-.5)*et,st=-(ot.verticalAlign-.5)*tt,ct=w.evaluateVariableOffset(Ne,nt);return new w.Point((at/rt+ct[0])*it,(st/rt+ct[1])*it)}function $i(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt){var ft=Ne.text.placedSymbolArray,dt=Ne.text.dynamicLayoutVertexArray,mt=Ne.icon.dynamicLayoutVertexArray,yt={};dt.clear();for(var vt=0;vt<ft.length;vt++){var Ot=ft.get(vt),Dt=Ot.hidden||!Ot.crossTileID||Ne.allowVerticalPlacement&&!Ot.placedOrientation?null:nt[Ot.crossTileID];if(Dt){var Rt=new w.Point(Ot.anchorX,Ot.anchorY),Bt=$t(Rt,tt?at:ot),rn=te(it.cameraToCenterDistance,Bt.signedDistanceFromCamera),vn=rt.evaluateSizeForFeature(Ne.textSizeData,ct,Ot)*rn/w.ONE_EM;tt&&(vn*=Ne.tilePixelRatio/st);for(var bn=Qi(Dt.anchor,Dt.width,Dt.height,Dt.textOffset,Dt.textBoxScale,vn),Cn=tt?$t(Rt.add(bn),ot).point:Bt.point.add(et?bn.rotate(-it.angle):bn),Tn=Ne.allowVerticalPlacement&&Ot.placedOrientation===w.WritingMode.vertical?Math.PI/2:0,In=0;In<Ot.numGlyphs;In++)w.addDynamicAttributes(dt,Cn,Tn);pt&&Ot.associatedIconIndex>=0&&(yt[Ot.associatedIconIndex]={shiftedAnchor:Cn,angle:Tn})}else ce(Ot.numGlyphs,dt)}if(pt){mt.clear();for(var Mn=Ne.icon.placedSymbolArray,zn=0;zn<Mn.length;zn++){var Ln=Mn.get(zn);if(Ln.hidden)ce(Ln.numGlyphs,mt);else{var Fn=yt[zn];if(Fn)for(var Bn=0;Bn<Ln.numGlyphs;Bn++)w.addDynamicAttributes(mt,Fn.shiftedAnchor,Fn.angle);else ce(Ln.numGlyphs,mt)}}Ne.icon.dynamicLayoutVertexBuffer.updateData(mt)}Ne.text.dynamicLayoutVertexBuffer.updateData(dt)}function to(w,Ne,et){return et.iconsInText&&Ne?"symbolTextAndIcon":w?"symbolSDF":"symbolIcon"}function eo(Ne,et,tt,nt,rt,it,ot,at,st,ct,pt,ft){for(var dt=Ne.context,mt=dt.gl,yt=Ne.transform,vt="map"===at,Ot="map"===st,Dt=vt&&"point"!==tt.layout.get("symbol-placement"),Rt=vt&&!Ot&&!Dt,Bt=void 0!==tt.layout.get("symbol-sort-key").constantOr(1),rn=Ne.depthModeForSublayer(0,It.ReadOnly),vn=tt.layout.get("text-variable-anchor"),bn=[],Cn=0,Tn=nt;Cn<Tn.length;Cn+=1){var In=Tn[Cn],Mn=et.getTile(In),zn=Mn.getBucket(tt);if(zn){var Ln=rt?zn.text:zn.icon;if(Ln&&Ln.segments.get().length){var Fn=Ln.programConfigurations.get(tt.id),Bn=rt||zn.sdfIcons,Nn=rt?zn.textSizeData:zn.iconSizeData,Vn=Ot||0!==yt.pitch,Wn=Ne.useProgram(to(Bn,rt,zn),Fn),$n=w.evaluateSizeForZoom(Nn,yt.zoom),Yn=void 0,er=[0,0],rr=void 0,vr=void 0,wr=null,Sr=void 0;if(rt)rr=Mn.glyphAtlasTexture,vr=mt.LINEAR,Yn=Mn.glyphAtlasTexture.size,zn.iconsInText&&(er=Mn.imageAtlasTexture.size,wr=Mn.imageAtlasTexture,Sr=Vn||Ne.options.rotating||Ne.options.zooming||"composite"===Nn.kind||"camera"===Nn.kind?mt.LINEAR:mt.NEAREST);else{var ii=1!==tt.layout.get("icon-size").constantOr(0)||zn.iconsNeedLinear;rr=Mn.imageAtlasTexture,vr=Bn||Ne.options.rotating||Ne.options.zooming||ii||Vn?mt.LINEAR:mt.NEAREST,Yn=Mn.imageAtlasTexture.size}var qi=pe(Mn,1,Ne.transform.zoom),uo=Jt(In.posMatrix,Ot,vt,Ne.transform,qi),po=Qt(In.posMatrix,Ot,vt,Ne.transform,qi),vo=vn&&zn.hasTextData(),So="none"!==tt.layout.get("icon-text-fit")&&vo&&zn.hasIconData();Dt&&ie(zn,In.posMatrix,Ne,rt,uo,po,Ot,ct);var ta=Ne.translatePosMatrix(In.posMatrix,Mn,it,ot),na=Dt||rt&&vn||So?wu:uo,ia=Ne.translatePosMatrix(po,Mn,it,ot,!0),sa=Bn&&0!==tt.paint.get(rt?"text-halo-width":"icon-halo-width").constantOr(1),la={program:Wn,buffers:Ln,uniformValues:Bn?zn.iconsInText?Wi(Nn.kind,$n,Rt,Ot,Ne,ta,na,ia,Yn,er):Gi(Nn.kind,$n,Rt,Ot,Ne,ta,na,ia,rt,Yn,!0):Vi(Nn.kind,$n,Rt,Ot,Ne,ta,na,ia,rt,Yn),atlasTexture:rr,atlasTextureIcon:wr,atlasInterpolation:vr,atlasInterpolationIcon:Sr,isSDF:Bn,hasHalo:sa};if(Bt)for(var pa=0,fa=Ln.segments.get();pa<fa.length;pa+=1){var ga=fa[pa];bn.push({segments:new w.SegmentVector([ga]),sortKey:ga.sortKey,state:la})}else bn.push({segments:Ln.segments,sortKey:0,state:la})}}}Bt&&bn.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var va=0,_a=bn;va<_a.length;va+=1){var wa=_a[va],Aa=wa.state;if(dt.activeTexture.set(mt.TEXTURE0),Aa.atlasTexture.bind(Aa.atlasInterpolation,mt.CLAMP_TO_EDGE),Aa.atlasTextureIcon&&(dt.activeTexture.set(mt.TEXTURE1),Aa.atlasTextureIcon&&Aa.atlasTextureIcon.bind(Aa.atlasInterpolationIcon,mt.CLAMP_TO_EDGE)),Aa.isSDF){var os=Aa.uniformValues;Aa.hasHalo&&(os.u_is_halo=1,io(Aa.buffers,wa.segments,tt,Ne,Aa.program,rn,pt,ft,os)),os.u_is_halo=0}io(Aa.buffers,wa.segments,tt,Ne,Aa.program,rn,pt,ft,Aa.uniformValues)}}function io(w,Ne,et,tt,nt,rt,it,ot,at){var st=tt.context;nt.draw(st,st.gl.TRIANGLES,rt,it,ot,Ct.disabled,at,et.id,w.layoutVertexBuffer,w.indexBuffer,Ne,et.paint,tt.transform.zoom,w.programConfigurations.get(et.id),w.dynamicLayoutVertexBuffer,w.opacityVertexBuffer)}function oo(w,Ne,et,tt,nt,rt,it){var ot,at,st,ct,pt,ft=w.context.gl,dt=et.paint.get("fill-pattern"),mt=dt&&dt.constantOr(1),yt=et.getCrossfadeParameters();it?(at=mt&&!et.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ot=ft.LINES):(at=mt?"fillPattern":"fill",ot=ft.TRIANGLES);for(var vt=0,Ot=tt;vt<Ot.length;vt+=1){var Dt=Ot[vt],Rt=Ne.getTile(Dt);if(!mt||Rt.patternsLoaded()){var Bt=Rt.getBucket(et);if(Bt){var rn=Bt.programConfigurations.get(et.id),vn=w.useProgram(at,rn);mt&&(w.context.activeTexture.set(ft.TEXTURE0),Rt.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),rn.updatePaintBuffers(yt));var bn=dt.constantOr(null);if(bn&&Rt.imageAtlas){var Cn=Rt.imageAtlas,Tn=Cn.patternPositions[bn.to.toString()],In=Cn.patternPositions[bn.from.toString()];Tn&&In&&rn.setConstantPatternPositions(Tn,In)}var Mn=w.translatePosMatrix(Dt.posMatrix,Rt,et.paint.get("fill-translate"),et.paint.get("fill-translate-anchor"));if(it){ct=Bt.indexBuffer2,pt=Bt.segments2;var zn=[ft.drawingBufferWidth,ft.drawingBufferHeight];st="fillOutlinePattern"===at&&mt?Ci(Mn,w,yt,Rt,zn):Si(Mn,zn)}else ct=Bt.indexBuffer,pt=Bt.segments,st=mt?Pi(Mn,w,yt,Rt):Ii(Mn);vn.draw(w.context,ot,nt,w.stencilModeForClipping(Dt),rt,Ct.disabled,st,et.id,Bt.layoutVertexBuffer,ct,pt,et.paint,w.transform.zoom,rn)}}}}function ro(w,Ne,et,tt,nt,rt,it){for(var ot=w.context,at=ot.gl,st=et.paint.get("fill-extrusion-pattern"),ct=st.constantOr(1),pt=et.getCrossfadeParameters(),ft=et.paint.get("fill-extrusion-opacity"),dt=0,mt=tt;dt<mt.length;dt+=1){var yt=mt[dt],vt=Ne.getTile(yt),Ot=vt.getBucket(et);if(Ot){var Dt=Ot.programConfigurations.get(et.id),Rt=w.useProgram(ct?"fillExtrusionPattern":"fillExtrusion",Dt);ct&&(w.context.activeTexture.set(at.TEXTURE0),vt.imageAtlasTexture.bind(at.LINEAR,at.CLAMP_TO_EDGE),Dt.updatePaintBuffers(pt));var Bt=st.constantOr(null);if(Bt&&vt.imageAtlas){var rn=vt.imageAtlas,vn=rn.patternPositions[Bt.to.toString()],bn=rn.patternPositions[Bt.from.toString()];vn&&bn&&Dt.setConstantPatternPositions(vn,bn)}var Cn=w.translatePosMatrix(yt.posMatrix,vt,et.paint.get("fill-extrusion-translate"),et.paint.get("fill-extrusion-translate-anchor")),Tn=et.paint.get("fill-extrusion-vertical-gradient"),In=ct?Ei(Cn,w,Tn,ft,yt,pt,vt):Ti(Cn,w,Tn,ft);Rt.draw(ot,ot.gl.TRIANGLES,nt,rt,it,Ct.backCCW,In,et.id,Ot.layoutVertexBuffer,Ot.indexBuffer,Ot.segments,et.paint,w.transform.zoom,Dt)}}}function ao(Ne,et,tt,nt,rt,it){var ot=Ne.context,at=ot.gl,st=et.fbo;if(st){var ct=Ne.useProgram("hillshade");ot.activeTexture.set(at.TEXTURE0),at.bindTexture(at.TEXTURE_2D,st.colorAttachment.get());var pt=function(Ne,et,tt){var nt=tt.paint.get("hillshade-shadow-color"),rt=tt.paint.get("hillshade-highlight-color"),it=tt.paint.get("hillshade-accent-color"),ot=tt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===tt.paint.get("hillshade-illumination-anchor")&&(ot-=Ne.transform.angle);var at,st,ct,pt=!Ne.options.moving;return{u_matrix:Ne.transform.calculatePosMatrix(et.tileID.toUnwrapped(),pt),u_image:0,u_latrange:(at=et.tileID,st=Math.pow(2,at.canonical.z),ct=at.canonical.y,[new w.MercatorCoordinate(0,ct/st).toLngLat().lat,new w.MercatorCoordinate(0,(ct+1)/st).toLngLat().lat]),u_light:[tt.paint.get("hillshade-exaggeration"),ot],u_shadow:nt,u_highlight:rt,u_accent:it}}(Ne,et,tt);ct.draw(ot,at.TRIANGLES,nt,rt,it,Ct.disabled,pt,tt.id,Ne.rasterBoundsBuffer,Ne.quadTriangleIndexBuffer,Ne.rasterBoundsSegments)}}function no(Ne,et,tt,nt,rt,it,ot){var at=Ne.context,st=at.gl,ct=et.dem;if(ct&&ct.data){var pt=ct.dim,ft=ct.stride,dt=ct.getPixels();if(at.activeTexture.set(st.TEXTURE1),at.pixelStoreUnpackPremultiplyAlpha.set(!1),et.demTexture=et.demTexture||Ne.getTileTexture(ft),et.demTexture){var mt=et.demTexture;mt.update(dt,{premultiply:!1}),mt.bind(st.NEAREST,st.CLAMP_TO_EDGE)}else et.demTexture=new w.Texture(at,dt,st.RGBA,{premultiply:!1}),et.demTexture.bind(st.NEAREST,st.CLAMP_TO_EDGE);at.activeTexture.set(st.TEXTURE0);var yt=et.fbo;if(!yt){var vt=new w.Texture(at,{width:pt,height:pt,data:null},st.RGBA);vt.bind(st.LINEAR,st.CLAMP_TO_EDGE),(yt=et.fbo=at.createFramebuffer(pt,pt,!0)).colorAttachment.set(vt.texture)}at.bindFramebuffer.set(yt.framebuffer),at.viewport.set([0,0,pt,pt]),Ne.useProgram("hillshadePrepare").draw(at,st.TRIANGLES,rt,it,ot,Ct.disabled,function(Ne,et,tt){var nt=et.stride,rt=w.create();return w.ortho(rt,0,w.EXTENT,-w.EXTENT,0,0,1),w.translate(rt,rt,[0,-w.EXTENT,0]),{u_matrix:rt,u_image:1,u_dimension:[nt,nt],u_zoom:Ne.overscaledZ,u_maxzoom:tt,u_unpack:et.getUnpackVector()}}(et.tileID,ct,nt),tt.id,Ne.rasterBoundsBuffer,Ne.quadTriangleIndexBuffer,Ne.rasterBoundsSegments),et.needsHillshadePrepare=!1}}function so(Ne,et,tt,nt,rt){var it=nt.paint.get("raster-fade-duration");if(it>0){var ot=w.browser.now(),at=(ot-Ne.timeAdded)/it,st=et?(ot-et.timeAdded)/it:-1,ct=tt.getSource(),pt=rt.coveringZoomLevel({tileSize:ct.tileSize,roundZoom:ct.roundZoom}),ft=!et||Math.abs(et.tileID.overscaledZ-pt)>Math.abs(Ne.tileID.overscaledZ-pt),dt=ft&&Ne.refreshedUponExpiration?1:w.clamp(ft?at:1-st,0,1);return Ne.refreshedUponExpiration&&at>=1&&(Ne.refreshedUponExpiration=!1),et?{opacity:1,mix:1-dt}:{opacity:dt,mix:0}}return{opacity:1,mix:0}}var Tu=new w.Color(1,0,0,1),Fu=new w.Color(0,1,0,1),ac=new w.Color(0,0,1,1),pc=new w.Color(1,0,1,1),yc=new w.Color(0,1,1,1);function _o(w,Ne,et,tt){mo(w,0,Ne+et/2,w.transform.width,et,tt)}function fo(w,Ne,et,tt){mo(w,Ne-et/2,0,et,w.transform.height,tt)}function mo(Ne,et,tt,nt,rt,it){var ot=Ne.context,at=ot.gl;at.enable(at.SCISSOR_TEST),at.scissor(et*w.browser.devicePixelRatio,tt*w.browser.devicePixelRatio,nt*w.browser.devicePixelRatio,rt*w.browser.devicePixelRatio),ot.clear({color:it}),at.disable(at.SCISSOR_TEST)}function go(Ne,et,tt){var nt=Ne.context,rt=nt.gl,it=tt.posMatrix,ot=Ne.useProgram("debug"),at=It.disabled,st=Pt.disabled,ct=Ne.colorModeForRenderPass();nt.activeTexture.set(rt.TEXTURE0),Ne.emptyTexture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE),ot.draw(nt,rt.LINE_STRIP,at,st,ct,Ct.disabled,Li(it,w.Color.red),"$debug",Ne.debugBuffer,Ne.tileBorderIndexBuffer,Ne.debugSegments);var pt=et.getTileByID(tt.key).latestRawTileData,ft=Math.floor((pt&&pt.byteLength||0)/1024),dt=et.getTile(tt).tileSize,mt=512/Math.min(dt,512)*(tt.overscaledZ/Ne.transform.zoom)*.5,yt=tt.canonical.toString();tt.overscaledZ!==tt.canonical.z&&(yt+=" => "+tt.overscaledZ),function(w,Ne){w.initDebugOverlayCanvas();var et=w.debugOverlayCanvas,tt=w.context.gl,nt=w.debugOverlayCanvas.getContext("2d");nt.clearRect(0,0,et.width,et.height),nt.shadowColor="white",nt.shadowBlur=2,nt.lineWidth=1.5,nt.strokeStyle="white",nt.textBaseline="top",nt.font="bold 36px Open Sans, sans-serif",nt.fillText(Ne,5,5),nt.strokeText(Ne,5,5),w.debugOverlayTexture.update(et),w.debugOverlayTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)}(Ne,yt+" "+ft+"kb"),ot.draw(nt,rt.TRIANGLES,at,st,St.alphaBlended,Ct.disabled,Li(it,w.Color.transparent,mt),"$debug",Ne.debugBuffer,Ne.quadTriangleIndexBuffer,Ne.debugSegments)}var _c={symbol:function(Ne,et,tt,nt,rt){if("translucent"===Ne.renderPass){var it=Pt.disabled,ot=Ne.colorModeForRenderPass();tt.layout.get("text-variable-anchor")&&function(Ne,et,tt,nt,rt,it,ot){for(var at=et.transform,st="map"===rt,ct="map"===it,pt=0,ft=Ne;pt<ft.length;pt+=1){var dt=ft[pt],mt=nt.getTile(dt),yt=mt.getBucket(tt);if(yt&&yt.text&&yt.text.segments.get().length){var vt=w.evaluateSizeForZoom(yt.textSizeData,at.zoom),Ot=pe(mt,1,et.transform.zoom),Dt=Jt(dt.posMatrix,ct,st,et.transform,Ot),Rt="none"!==tt.layout.get("icon-text-fit")&&yt.hasIconData();if(vt){var Bt=Math.pow(2,at.zoom-mt.tileID.overscaledZ);$i(yt,st,ct,ot,w.symbolSize,at,Dt,dt.posMatrix,Bt,vt,Rt)}}}}(nt,Ne,tt,et,tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),rt),0!==tt.paint.get("icon-opacity").constantOr(1)&&eo(Ne,et,tt,nt,!1,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),tt.layout.get("icon-rotation-alignment"),tt.layout.get("icon-pitch-alignment"),tt.layout.get("icon-keep-upright"),it,ot),0!==tt.paint.get("text-opacity").constantOr(1)&&eo(Ne,et,tt,nt,!0,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),tt.layout.get("text-keep-upright"),it,ot),et.map.showCollisionBoxes&&(Yi(Ne,et,tt,nt,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),!0),Yi(Ne,et,tt,nt,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),!1))}},circle:function(Ne,et,tt,nt){if("translucent"===Ne.renderPass){var rt=tt.paint.get("circle-opacity"),it=tt.paint.get("circle-stroke-width"),ot=tt.paint.get("circle-stroke-opacity"),at=void 0!==tt.layout.get("circle-sort-key").constantOr(1);if(0!==rt.constantOr(1)||0!==it.constantOr(1)&&0!==ot.constantOr(1)){for(var st=Ne.context,ct=st.gl,pt=Ne.depthModeForSublayer(0,It.ReadOnly),ft=Pt.disabled,dt=Ne.colorModeForRenderPass(),mt=[],yt=0;yt<nt.length;yt++){var vt=nt[yt],Ot=et.getTile(vt),Dt=Ot.getBucket(tt);if(Dt){var Rt=Dt.programConfigurations.get(tt.id),Bt={programConfiguration:Rt,program:Ne.useProgram("circle",Rt),layoutVertexBuffer:Dt.layoutVertexBuffer,indexBuffer:Dt.indexBuffer,uniformValues:zi(Ne,vt,Ot,tt)};if(at)for(var rn=0,vn=Dt.segments.get();rn<vn.length;rn+=1){var bn=vn[rn];mt.push({segments:new w.SegmentVector([bn]),sortKey:bn.sortKey,state:Bt})}else mt.push({segments:Dt.segments,sortKey:0,state:Bt})}}at&&mt.sort((function(w,Ne){return w.sortKey-Ne.sortKey}));for(var Cn=0,Tn=mt;Cn<Tn.length;Cn+=1){var In=Tn[Cn],Mn=In.state;Mn.program.draw(st,ct.TRIANGLES,pt,ft,dt,Ct.disabled,Mn.uniformValues,tt.id,Mn.layoutVertexBuffer,Mn.indexBuffer,In.segments,tt.paint,Ne.transform.zoom,Mn.programConfiguration)}}}},heatmap:function(Ne,et,tt,nt){if(0!==tt.paint.get("heatmap-opacity"))if("offscreen"===Ne.renderPass){var rt=Ne.context,it=rt.gl,ot=Pt.disabled,at=new St([it.ONE,it.ONE],w.Color.transparent,[!0,!0,!0,!0]);!function(w,Ne,et){var tt=w.gl;w.activeTexture.set(tt.TEXTURE1),w.viewport.set([0,0,Ne.width/4,Ne.height/4]);var nt=et.heatmapFbo;if(nt)tt.bindTexture(tt.TEXTURE_2D,nt.colorAttachment.get()),w.bindFramebuffer.set(nt.framebuffer);else{var rt=tt.createTexture();tt.bindTexture(tt.TEXTURE_2D,rt),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,tt.CLAMP_TO_EDGE),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,tt.LINEAR),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,tt.LINEAR),nt=et.heatmapFbo=w.createFramebuffer(Ne.width/4,Ne.height/4,!1),function(w,Ne,et,tt){var nt=w.gl;nt.texImage2D(nt.TEXTURE_2D,0,nt.RGBA,Ne.width/4,Ne.height/4,0,nt.RGBA,w.extRenderToTextureHalfFloat?w.extTextureHalfFloat.HALF_FLOAT_OES:nt.UNSIGNED_BYTE,null),tt.colorAttachment.set(et)}(w,Ne,rt,nt)}}(rt,Ne,tt),rt.clear({color:w.Color.transparent});for(var st=0;st<nt.length;st++){var ct=nt[st];if(!et.hasRenderableParent(ct)){var pt=et.getTile(ct),ft=pt.getBucket(tt);if(ft){var dt=ft.programConfigurations.get(tt.id);Ne.useProgram("heatmap",dt).draw(rt,it.TRIANGLES,It.disabled,ot,at,Ct.disabled,Ri(ct.posMatrix,pt,Ne.transform.zoom,tt.paint.get("heatmap-intensity")),tt.id,ft.layoutVertexBuffer,ft.indexBuffer,ft.segments,tt.paint,Ne.transform.zoom,dt)}}}rt.viewport.set([0,0,Ne.width,Ne.height])}else"translucent"===Ne.renderPass&&(Ne.context.setColorMode(Ne.colorModeForRenderPass()),function(Ne,et){var tt=Ne.context,nt=tt.gl,rt=et.heatmapFbo;if(rt){tt.activeTexture.set(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,rt.colorAttachment.get()),tt.activeTexture.set(nt.TEXTURE1);var it=et.colorRampTexture;it||(it=et.colorRampTexture=new w.Texture(tt,et.colorRamp,nt.RGBA)),it.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),Ne.useProgram("heatmapTexture").draw(tt,nt.TRIANGLES,It.disabled,Pt.disabled,Ne.colorModeForRenderPass(),Ct.disabled,function(Ne,et,tt,nt){var rt=w.create();w.ortho(rt,0,Ne.width,Ne.height,0,0,1);var it=Ne.context.gl;return{u_matrix:rt,u_world:[it.drawingBufferWidth,it.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:et.paint.get("heatmap-opacity")}}(Ne,et),et.id,Ne.viewportBuffer,Ne.quadTriangleIndexBuffer,Ne.viewportSegments,et.paint,Ne.transform.zoom)}}(Ne,tt))},line:function(Ne,et,tt,nt){if("translucent"===Ne.renderPass){var rt=tt.paint.get("line-opacity"),it=tt.paint.get("line-width");if(0!==rt.constantOr(1)&&0!==it.constantOr(1)){var ot=Ne.depthModeForSublayer(0,It.ReadOnly),at=Ne.colorModeForRenderPass(),st=tt.paint.get("line-dasharray"),ct=tt.paint.get("line-pattern"),pt=ct.constantOr(1),ft=tt.paint.get("line-gradient"),dt=tt.getCrossfadeParameters(),mt=pt?"linePattern":st?"lineSDF":ft?"lineGradient":"line",yt=Ne.context,vt=yt.gl,Ot=!0;if(ft){yt.activeTexture.set(vt.TEXTURE0);var Dt=tt.gradientTexture;if(!tt.gradient)return;Dt||(Dt=tt.gradientTexture=new w.Texture(yt,tt.gradient,vt.RGBA)),Dt.bind(vt.LINEAR,vt.CLAMP_TO_EDGE)}for(var Rt=0,Bt=nt;Rt<Bt.length;Rt+=1){var rn=Bt[Rt],vn=et.getTile(rn);if(!pt||vn.patternsLoaded()){var bn=vn.getBucket(tt);if(bn){var Cn=bn.programConfigurations.get(tt.id),Tn=Ne.context.program.get(),In=Ne.useProgram(mt,Cn),Mn=Ot||In.program!==Tn,zn=ct.constantOr(null);if(zn&&vn.imageAtlas){var Ln=vn.imageAtlas,Fn=Ln.patternPositions[zn.to.toString()],Bn=Ln.patternPositions[zn.from.toString()];Fn&&Bn&&Cn.setConstantPatternPositions(Fn,Bn)}var Nn=pt?Oi(Ne,vn,tt,dt):st?Fi(Ne,vn,tt,st,dt):ft?Bi(Ne,vn,tt):ki(Ne,vn,tt);pt?(yt.activeTexture.set(vt.TEXTURE0),vn.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Cn.updatePaintBuffers(dt)):st&&(Mn||Ne.lineAtlas.dirty)&&(yt.activeTexture.set(vt.TEXTURE0),Ne.lineAtlas.bind(yt)),In.draw(yt,vt.TRIANGLES,ot,Ne.stencilModeForClipping(rn),at,Ct.disabled,Nn,tt.id,bn.layoutVertexBuffer,bn.indexBuffer,bn.segments,tt.paint,Ne.transform.zoom,Cn),Ot=!1}}}}}},fill:function(Ne,et,tt,nt){var rt=tt.paint.get("fill-color"),it=tt.paint.get("fill-opacity");if(0!==it.constantOr(1)){var ot=Ne.colorModeForRenderPass(),at=tt.paint.get("fill-pattern"),st=Ne.opaquePassEnabledForLayer()&&!at.constantOr(1)&&1===rt.constantOr(w.Color.transparent).a&&1===it.constantOr(0)?"opaque":"translucent";if(Ne.renderPass===st){var ct=Ne.depthModeForSublayer(1,"opaque"===Ne.renderPass?It.ReadWrite:It.ReadOnly);oo(Ne,et,tt,nt,ct,ot,!1)}if("translucent"===Ne.renderPass&&tt.paint.get("fill-antialias")){var pt=Ne.depthModeForSublayer(tt.getPaintProperty("fill-outline-color")?2:0,It.ReadOnly);oo(Ne,et,tt,nt,pt,ot,!0)}}},"fill-extrusion":function(w,Ne,et,tt){var nt=et.paint.get("fill-extrusion-opacity");if(0!==nt&&"translucent"===w.renderPass){var rt=new It(w.context.gl.LEQUAL,It.ReadWrite,w.depthRangeFor3D);if(1!==nt||et.paint.get("fill-extrusion-pattern").constantOr(1))ro(w,Ne,et,tt,rt,Pt.disabled,St.disabled),ro(w,Ne,et,tt,rt,w.stencilModeFor3D(),w.colorModeForRenderPass());else{var it=w.colorModeForRenderPass();ro(w,Ne,et,tt,rt,Pt.disabled,it)}}},hillshade:function(w,Ne,et,tt){if("offscreen"===w.renderPass||"translucent"===w.renderPass){for(var nt=w.context,rt=Ne.getSource().maxzoom,it=w.depthModeForSublayer(0,It.ReadOnly),ot=w.colorModeForRenderPass(),at="translucent"===w.renderPass?w.stencilConfigForOverlap(tt):[{},tt],st=at[0],ct=0,pt=at[1];ct<pt.length;ct+=1){var ft=pt[ct],dt=Ne.getTile(ft);dt.needsHillshadePrepare&&"offscreen"===w.renderPass?no(w,dt,et,rt,it,Pt.disabled,ot):"translucent"===w.renderPass&&ao(w,dt,et,it,st[ft.overscaledZ],ot)}nt.viewport.set([0,0,w.width,w.height])}},raster:function(w,Ne,et,tt){if("translucent"===w.renderPass&&0!==et.paint.get("raster-opacity")&&tt.length)for(var nt=w.context,rt=nt.gl,it=Ne.getSource(),ot=w.useProgram("raster"),at=w.colorModeForRenderPass(),st=it instanceof rn?[{},tt]:w.stencilConfigForOverlap(tt),ct=st[0],pt=st[1],ft=pt[pt.length-1].overscaledZ,dt=!w.options.moving,mt=0,yt=pt;mt<yt.length;mt+=1){var vt=yt[mt],Ot=w.depthModeForSublayer(vt.overscaledZ-ft,1===et.paint.get("raster-opacity")?It.ReadWrite:It.ReadOnly,rt.LESS),Dt=Ne.getTile(vt),Rt=w.transform.calculatePosMatrix(vt.toUnwrapped(),dt);Dt.registerFadeDuration(et.paint.get("raster-fade-duration"));var Bt=Ne.findLoadedParent(vt,0),vn=so(Dt,Bt,Ne,et,w.transform),bn=void 0,Cn=void 0,Tn="nearest"===et.paint.get("raster-resampling")?rt.NEAREST:rt.LINEAR;nt.activeTexture.set(rt.TEXTURE0),Dt.texture.bind(Tn,rt.CLAMP_TO_EDGE,rt.LINEAR_MIPMAP_NEAREST),nt.activeTexture.set(rt.TEXTURE1),Bt?(Bt.texture.bind(Tn,rt.CLAMP_TO_EDGE,rt.LINEAR_MIPMAP_NEAREST),bn=Math.pow(2,Bt.tileID.overscaledZ-Dt.tileID.overscaledZ),Cn=[Dt.tileID.canonical.x*bn%1,Dt.tileID.canonical.y*bn%1]):Dt.texture.bind(Tn,rt.CLAMP_TO_EDGE,rt.LINEAR_MIPMAP_NEAREST);var In=Zi(Rt,Cn||[0,0],bn||1,vn,et);it instanceof rn?ot.draw(nt,rt.TRIANGLES,Ot,Pt.disabled,at,Ct.disabled,In,et.id,it.boundsBuffer,w.quadTriangleIndexBuffer,it.boundsSegments):ot.draw(nt,rt.TRIANGLES,Ot,ct[vt.overscaledZ],at,Ct.disabled,In,et.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}},background:function(w,Ne,et){var tt=et.paint.get("background-color"),nt=et.paint.get("background-opacity");if(0!==nt){var rt=w.context,it=rt.gl,ot=w.transform,at=ot.tileSize,st=et.paint.get("background-pattern");if(!w.isPatternMissing(st)){var ct=!st&&1===tt.a&&1===nt&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass===ct){var pt=Pt.disabled,ft=w.depthModeForSublayer(0,"opaque"===ct?It.ReadWrite:It.ReadOnly),dt=w.colorModeForRenderPass(),mt=w.useProgram(st?"backgroundPattern":"background"),yt=ot.coveringTiles({tileSize:at});st&&(rt.activeTexture.set(it.TEXTURE0),w.imageManager.bind(w.context));for(var vt=et.getCrossfadeParameters(),Ot=0,Dt=yt;Ot<Dt.length;Ot+=1){var Rt=Dt[Ot],Bt=w.transform.calculatePosMatrix(Rt.toUnwrapped()),rn=st?Hi(Bt,nt,w,st,{tileID:Rt,tileSize:at},vt):Xi(Bt,nt,tt);mt.draw(rt,it.TRIANGLES,ft,pt,dt,Ct.disabled,rn,et.id,w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}}}}},debug:function(w,Ne,et){for(var tt=0;tt<et.length;tt++)go(w,Ne,et[tt])},custom:function(w,Ne,et){var tt=w.context,nt=et.implementation;if("offscreen"===w.renderPass){var rt=nt.prerender;rt&&(w.setCustomLayerDefaults(),tt.setColorMode(w.colorModeForRenderPass()),rt.call(nt,tt.gl,w.transform.customLayerMatrix()),tt.setDirty(),w.setBaseState())}else if("translucent"===w.renderPass){w.setCustomLayerDefaults(),tt.setColorMode(w.colorModeForRenderPass()),tt.setStencilMode(Pt.disabled);var it="3d"===nt.renderingMode?new It(w.context.gl.LEQUAL,It.ReadWrite,w.depthRangeFor3D):w.depthModeForSublayer(0,It.ReadOnly);tt.setDepthMode(it),nt.render(tt.gl,w.transform.customLayerMatrix()),tt.setDirty(),w.setBaseState(),tt.bindFramebuffer.set(null)}}},yo=function(w,Ne){this.context=new zt(w),this.transform=Ne,this._tileTextures={},this.setup(),this.numSublayers=os.maxUnderzooming+os.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Fe,this.gpuTimers={}};yo.prototype.resize=function(Ne,et){if(this.width=Ne*w.browser.devicePixelRatio,this.height=et*w.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var tt=0,nt=this.style._order;tt<nt.length;tt+=1)this.style._layers[nt[tt]].resize()},yo.prototype.setup=function(){var Ne=this.context,et=new w.StructArrayLayout2i4;et.emplaceBack(0,0),et.emplaceBack(w.EXTENT,0),et.emplaceBack(0,w.EXTENT),et.emplaceBack(w.EXTENT,w.EXTENT),this.tileExtentBuffer=Ne.createVertexBuffer(et,Fs.members),this.tileExtentSegments=w.SegmentVector.simpleSegment(0,0,4,2);var tt=new w.StructArrayLayout2i4;tt.emplaceBack(0,0),tt.emplaceBack(w.EXTENT,0),tt.emplaceBack(0,w.EXTENT),tt.emplaceBack(w.EXTENT,w.EXTENT),this.debugBuffer=Ne.createVertexBuffer(tt,Fs.members),this.debugSegments=w.SegmentVector.simpleSegment(0,0,4,5);var nt=new w.StructArrayLayout4i8;nt.emplaceBack(0,0,0,0),nt.emplaceBack(w.EXTENT,0,w.EXTENT,0),nt.emplaceBack(0,w.EXTENT,0,w.EXTENT),nt.emplaceBack(w.EXTENT,w.EXTENT,w.EXTENT,w.EXTENT),this.rasterBoundsBuffer=Ne.createVertexBuffer(nt,Bt.members),this.rasterBoundsSegments=w.SegmentVector.simpleSegment(0,0,4,2);var rt=new w.StructArrayLayout2i4;rt.emplaceBack(0,0),rt.emplaceBack(1,0),rt.emplaceBack(0,1),rt.emplaceBack(1,1),this.viewportBuffer=Ne.createVertexBuffer(rt,Fs.members),this.viewportSegments=w.SegmentVector.simpleSegment(0,0,4,2);var it=new w.StructArrayLayout1ui2;it.emplaceBack(0),it.emplaceBack(1),it.emplaceBack(3),it.emplaceBack(2),it.emplaceBack(0),this.tileBorderIndexBuffer=Ne.createIndexBuffer(it);var ot=new w.StructArrayLayout3ui6;ot.emplaceBack(0,1,2),ot.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Ne.createIndexBuffer(ot),this.emptyTexture=new w.Texture(Ne,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Ne.gl.RGBA);var at=this.context.gl;this.stencilClearMode=new Pt({func:at.ALWAYS,mask:0},0,255,at.ZERO,at.ZERO,at.ZERO)},yo.prototype.clearStencil=function(){var Ne=this.context,et=Ne.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var tt=w.create();w.ortho(tt,0,this.width,this.height,0,0,1),w.scale(tt,tt,[et.drawingBufferWidth,et.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Ne,et.TRIANGLES,It.disabled,this.stencilClearMode,St.disabled,Ct.disabled,Ai(tt),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},yo.prototype._renderTileClippingMasks=function(w,Ne){if(this.currentStencilSource!==w.source&&w.isTileClipped()&&Ne&&Ne.length){this.currentStencilSource=w.source;var et=this.context,tt=et.gl;this.nextStencilID+Ne.length>256&&this.clearStencil(),et.setColorMode(St.disabled),et.setDepthMode(It.disabled);var nt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var rt=0,it=Ne;rt<it.length;rt+=1){var ot=it[rt],at=this._tileClippingMaskIDs[ot.key]=this.nextStencilID++;nt.draw(et,tt.TRIANGLES,It.disabled,new Pt({func:tt.ALWAYS,mask:0},at,255,tt.KEEP,tt.KEEP,tt.REPLACE),St.disabled,Ct.disabled,Ai(ot.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},yo.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var w=this.nextStencilID++,Ne=this.context.gl;return new Pt({func:Ne.NOTEQUAL,mask:255},w,255,Ne.KEEP,Ne.KEEP,Ne.REPLACE)},yo.prototype.stencilModeForClipping=function(w){var Ne=this.context.gl;return new Pt({func:Ne.EQUAL,mask:255},this._tileClippingMaskIDs[w.key],0,Ne.KEEP,Ne.KEEP,Ne.REPLACE)},yo.prototype.stencilConfigForOverlap=function(w){var Ne,et=this.context.gl,tt=w.sort((function(w,Ne){return Ne.overscaledZ-w.overscaledZ})),nt=tt[tt.length-1].overscaledZ,rt=tt[0].overscaledZ-nt+1;if(rt>1){this.currentStencilSource=void 0,this.nextStencilID+rt>256&&this.clearStencil();for(var it={},ot=0;ot<rt;ot++)it[ot+nt]=new Pt({func:et.GEQUAL,mask:255},ot+this.nextStencilID,255,et.KEEP,et.KEEP,et.REPLACE);return this.nextStencilID+=rt,[it,tt]}return[(Ne={},Ne[nt]=Pt.disabled,Ne),tt]},yo.prototype.colorModeForRenderPass=function(){var Ne=this.context.gl;return this._showOverdrawInspector?new St([Ne.CONSTANT_COLOR,Ne.ONE],new w.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?St.unblended:St.alphaBlended},yo.prototype.depthModeForSublayer=function(w,Ne,et){if(!this.opaquePassEnabledForLayer())return It.disabled;var tt=1-((1+this.currentLayer)*this.numSublayers+w)*this.depthEpsilon;return new It(et||this.context.gl.LEQUAL,Ne,[tt,tt])},yo.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},yo.prototype.render=function(Ne,et){var tt=this;this.style=Ne,this.options=et,this.lineAtlas=Ne.lineAtlas,this.imageManager=Ne.imageManager,this.glyphManager=Ne.glyphManager,this.symbolFadeChange=Ne.placement.symbolFadeChange(w.browser.now()),this.imageManager.beginFrame();var nt=this.style._order,rt=this.style.sourceCaches;for(var it in rt){var ot=rt[it];ot.used&&ot.prepare(this.context)}var at,st,ct={},pt={},ft={};for(var dt in rt){var mt=rt[dt];ct[dt]=mt.getVisibleCoordinates(),pt[dt]=ct[dt].slice().reverse(),ft[dt]=mt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var yt=0;yt<nt.length;yt++)if(this.style._layers[nt[yt]].is3D()){this.opaquePassCutoff=yt;break}this.renderPass="offscreen";for(var vt=0,Ot=nt;vt<Ot.length;vt+=1){var Dt=this.style._layers[Ot[vt]];if(Dt.hasOffscreenPass()&&!Dt.isHidden(this.transform.zoom)){var Rt=pt[Dt.source];("custom"===Dt.type||Rt.length)&&this.renderLayer(this,rt[Dt.source],Dt,Rt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:et.showOverdrawInspector?w.Color.black:w.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=et.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Ne._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=nt.length-1;this.currentLayer>=0;this.currentLayer--){var Bt=this.style._layers[nt[this.currentLayer]],rn=rt[Bt.source],vn=ct[Bt.source];this._renderTileClippingMasks(Bt,vn),this.renderLayer(this,rn,Bt,vn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<nt.length;this.currentLayer++){var bn=this.style._layers[nt[this.currentLayer]],Cn=rt[bn.source],Tn=("symbol"===bn.type?ft:pt)[bn.source];this._renderTileClippingMasks(bn,ct[bn.source]),this.renderLayer(this,Cn,bn,Tn)}this.options.showTileBoundaries&&(w.values(this.style._layers).forEach((function(w){w.source&&!w.isHidden(tt.transform.zoom)&&(w.source!==(st&&st.id)&&(st=tt.style.sourceCaches[w.source]),(!at||at.getSource().maxzoom<st.getSource().maxzoom)&&(at=st))})),at&&_c.debug(this,at,at.getVisibleCoordinates())),this.options.showPadding&&function(w){var Ne=w.transform.padding;_o(w,w.transform.height-(Ne.top||0),3,Tu),_o(w,Ne.bottom||0,3,Fu),fo(w,Ne.left||0,3,ac),fo(w,w.transform.width-(Ne.right||0),3,pc);var et=w.transform.centerPoint;!function(w,Ne,et,tt){mo(w,Ne-1,et-10,2,20,tt),mo(w,Ne-10,et-1,20,2,tt)}(w,et.x,w.transform.height-et.y,yc)}(this),this.context.setDefault()},yo.prototype.renderLayer=function(w,Ne,et,tt){et.isHidden(this.transform.zoom)||("background"===et.type||"custom"===et.type||tt.length)&&(this.id=et.id,this.gpuTimingStart(et),_c[et.type](w,Ne,et,tt,this.style.placement.variableOffsets),this.gpuTimingEnd())},yo.prototype.gpuTimingStart=function(w){if(this.options.gpuTiming){var Ne=this.context.extTimerQuery,et=this.gpuTimers[w.id];et||(et=this.gpuTimers[w.id]={calls:0,cpuTime:0,query:Ne.createQueryEXT()}),et.calls++,Ne.beginQueryEXT(Ne.TIME_ELAPSED_EXT,et.query)}},yo.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var w=this.context.extTimerQuery;w.endQueryEXT(w.TIME_ELAPSED_EXT)}},yo.prototype.collectGpuTimers=function(){var w=this.gpuTimers;return this.gpuTimers={},w},yo.prototype.queryGpuTimers=function(w){var Ne={};for(var et in w){var tt=w[et],nt=this.context.extTimerQuery,rt=nt.getQueryObjectEXT(tt.query,nt.QUERY_RESULT_EXT)/1e6;nt.deleteQueryEXT(tt.query),Ne[et]=rt}return Ne},yo.prototype.translatePosMatrix=function(Ne,et,tt,nt,rt){if(!tt[0]&&!tt[1])return Ne;var it=rt?"map"===nt?this.transform.angle:0:"viewport"===nt?-this.transform.angle:0;if(it){var ot=Math.sin(it),at=Math.cos(it);tt=[tt[0]*at-tt[1]*ot,tt[0]*ot+tt[1]*at]}var st=[rt?tt[0]:pe(et,tt[0],this.transform.zoom),rt?tt[1]:pe(et,tt[1],this.transform.zoom),0],ct=new Float32Array(16);return w.translate(ct,Ne,st),ct},yo.prototype.saveTileTexture=function(w){var Ne=this._tileTextures[w.size[0]];Ne?Ne.push(w):this._tileTextures[w.size[0]]=[w]},yo.prototype.getTileTexture=function(w){var Ne=this._tileTextures[w];return Ne&&Ne.length>0?Ne.pop():null},yo.prototype.isPatternMissing=function(w){if(!w)return!1;if(!w.from||!w.to)return!0;var Ne=this.imageManager.getPattern(w.from.toString()),et=this.imageManager.getPattern(w.to.toString());return!Ne||!et},yo.prototype.useProgram=function(w,Ne){this.cache=this.cache||{};var et=""+w+(Ne?Ne.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[et]||(this.cache[et]=new bi(this.context,w,du[w],Ne,_u[w],this._showOverdrawInspector)),this.cache[et]},yo.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},yo.prototype.setBaseState=function(){var w=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(w.FUNC_ADD)},yo.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=w.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new w.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},yo.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xo=function(w,Ne){this.points=w,this.planes=Ne};xo.fromInvProjectionMatrix=function(Ne,et,tt){var nt=Math.pow(2,tt),rt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(et){return w.transformMat4([],et,Ne)})).map((function(Ne){return w.scale$1([],Ne,1/Ne[3]/et*nt)})),it=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(Ne){var et=w.sub([],rt[Ne[0]],rt[Ne[1]]),tt=w.sub([],rt[Ne[2]],rt[Ne[1]]),nt=w.normalize([],w.cross([],et,tt)),it=-w.dot(nt,rt[Ne[1]]);return nt.concat(it)}));return new xo(rt,it)};var bo=function(Ne,et){this.min=Ne,this.max=et,this.center=w.scale$2([],w.add([],this.min,this.max),.5)};bo.prototype.quadrant=function(Ne){for(var et=[Ne%2==0,Ne<2],tt=w.clone$2(this.min),nt=w.clone$2(this.max),rt=0;rt<et.length;rt++)tt[rt]=et[rt]?this.min[rt]:this.center[rt],nt[rt]=et[rt]?this.center[rt]:this.max[rt];return nt[2]=this.max[2],new bo(tt,nt)},bo.prototype.distanceX=function(w){return Math.max(Math.min(this.max[0],w[0]),this.min[0])-w[0]},bo.prototype.distanceY=function(w){return Math.max(Math.min(this.max[1],w[1]),this.min[1])-w[1]},bo.prototype.intersects=function(Ne){for(var et=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],tt=!0,nt=0;nt<Ne.planes.length;nt++){for(var rt=Ne.planes[nt],it=0,ot=0;ot<et.length;ot++)it+=w.dot$1(rt,et[ot])>=0;if(0===it)return 0;it!==et.length&&(tt=!1)}if(tt)return 2;for(var at=0;at<3;at++){for(var st=Number.MAX_VALUE,ct=-Number.MAX_VALUE,pt=0;pt<Ne.points.length;pt++){var ft=Ne.points[pt][at]-this.min[at];st=Math.min(st,ft),ct=Math.max(ct,ft)}if(ct<0||st>this.max[at]-this.min[at])return 0}return 1};var wo=function(w,Ne,et,tt){if(void 0===w&&(w=0),void 0===Ne&&(Ne=0),void 0===et&&(et=0),void 0===tt&&(tt=0),isNaN(w)||w<0||isNaN(Ne)||Ne<0||isNaN(et)||et<0||isNaN(tt)||tt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=w,this.bottom=Ne,this.left=et,this.right=tt};wo.prototype.interpolate=function(Ne,et,tt){return null!=et.top&&null!=Ne.top&&(this.top=w.number(Ne.top,et.top,tt)),null!=et.bottom&&null!=Ne.bottom&&(this.bottom=w.number(Ne.bottom,et.bottom,tt)),null!=et.left&&null!=Ne.left&&(this.left=w.number(Ne.left,et.left,tt)),null!=et.right&&null!=Ne.right&&(this.right=w.number(Ne.right,et.right,tt)),this},wo.prototype.getCenter=function(Ne,et){var tt=w.clamp((this.left+Ne-this.right)/2,0,Ne),nt=w.clamp((this.top+et-this.bottom)/2,0,et);return new w.Point(tt,nt)},wo.prototype.equals=function(w){return this.top===w.top&&this.bottom===w.bottom&&this.left===w.left&&this.right===w.right},wo.prototype.clone=function(){return new wo(this.top,this.bottom,this.left,this.right)},wo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var To=function(Ne,et,tt,nt,rt){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===rt||rt,this._minZoom=Ne||0,this._maxZoom=et||22,this._minPitch=null==tt?0:tt,this._maxPitch=null==nt?60:nt,this.setMaxBounds(),this.width=0,this.height=0,this._center=new w.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wo,this._posMatrixCache={},this._alignedPosMatrixCache={}},bc={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};To.prototype.clone=function(){var w=new To(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return w.tileSize=this.tileSize,w.latRange=this.latRange,w.width=this.width,w.height=this.height,w._center=this._center,w.zoom=this.zoom,w.angle=this.angle,w._fov=this._fov,w._pitch=this._pitch,w._unmodified=this._unmodified,w._edgeInsets=this._edgeInsets.clone(),w._calcMatrices(),w},bc.minZoom.get=function(){return this._minZoom},bc.minZoom.set=function(w){this._minZoom!==w&&(this._minZoom=w,this.zoom=Math.max(this.zoom,w))},bc.maxZoom.get=function(){return this._maxZoom},bc.maxZoom.set=function(w){this._maxZoom!==w&&(this._maxZoom=w,this.zoom=Math.min(this.zoom,w))},bc.minPitch.get=function(){return this._minPitch},bc.minPitch.set=function(w){this._minPitch!==w&&(this._minPitch=w,this.pitch=Math.max(this.pitch,w))},bc.maxPitch.get=function(){return this._maxPitch},bc.maxPitch.set=function(w){this._maxPitch!==w&&(this._maxPitch=w,this.pitch=Math.min(this.pitch,w))},bc.renderWorldCopies.get=function(){return this._renderWorldCopies},bc.renderWorldCopies.set=function(w){void 0===w?w=!0:null===w&&(w=!1),this._renderWorldCopies=w},bc.worldSize.get=function(){return this.tileSize*this.scale},bc.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},bc.size.get=function(){return new w.Point(this.width,this.height)},bc.bearing.get=function(){return-this.angle/Math.PI*180},bc.bearing.set=function(Ne){var et=-w.wrap(Ne,-180,180)*Math.PI/180;this.angle!==et&&(this._unmodified=!1,this.angle=et,this._calcMatrices(),this.rotationMatrix=w.create$2(),w.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},bc.pitch.get=function(){return this._pitch/Math.PI*180},bc.pitch.set=function(Ne){var et=w.clamp(Ne,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==et&&(this._unmodified=!1,this._pitch=et,this._calcMatrices())},bc.fov.get=function(){return this._fov/Math.PI*180},bc.fov.set=function(w){w=Math.max(.01,Math.min(60,w)),this._fov!==w&&(this._unmodified=!1,this._fov=w/180*Math.PI,this._calcMatrices())},bc.zoom.get=function(){return this._zoom},bc.zoom.set=function(w){var Ne=Math.min(Math.max(w,this.minZoom),this.maxZoom);this._zoom!==Ne&&(this._unmodified=!1,this._zoom=Ne,this.scale=this.zoomScale(Ne),this.tileZoom=Math.floor(Ne),this.zoomFraction=Ne-this.tileZoom,this._constrain(),this._calcMatrices())},bc.center.get=function(){return this._center},bc.center.set=function(w){w.lat===this._center.lat&&w.lng===this._center.lng||(this._unmodified=!1,this._center=w,this._constrain(),this._calcMatrices())},bc.padding.get=function(){return this._edgeInsets.toJSON()},bc.padding.set=function(w){this._edgeInsets.equals(w)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,w,1),this._calcMatrices())},bc.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},To.prototype.isPaddingEqual=function(w){return this._edgeInsets.equals(w)},To.prototype.interpolatePadding=function(w,Ne,et){this._unmodified=!1,this._edgeInsets.interpolate(w,Ne,et),this._constrain(),this._calcMatrices()},To.prototype.coveringZoomLevel=function(w){var Ne=(w.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/w.tileSize));return Math.max(0,Ne)},To.prototype.getVisibleUnwrappedCoordinates=function(Ne){var et=[new w.UnwrappedTileID(0,Ne)];if(this._renderWorldCopies)for(var tt=this.pointCoordinate(new w.Point(0,0)),nt=this.pointCoordinate(new w.Point(this.width,0)),rt=this.pointCoordinate(new w.Point(this.width,this.height)),it=this.pointCoordinate(new w.Point(0,this.height)),ot=Math.floor(Math.min(tt.x,nt.x,rt.x,it.x)),at=Math.floor(Math.max(tt.x,nt.x,rt.x,it.x)),st=ot-1;st<=at+1;st++)0!==st&&et.push(new w.UnwrappedTileID(st,Ne));return et},To.prototype.coveringTiles=function(Ne){var et=this.coveringZoomLevel(Ne),tt=et;if(void 0!==Ne.minzoom&&et<Ne.minzoom)return[];void 0!==Ne.maxzoom&&et>Ne.maxzoom&&(et=Ne.maxzoom);var nt=w.MercatorCoordinate.fromLngLat(this.center),rt=Math.pow(2,et),it=[rt*nt.x,rt*nt.y,0],ot=xo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,et),at=Ne.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(at=et);var c=function(w){return{aabb:new bo([w*rt,0,0],[(w+1)*rt,rt,0]),zoom:0,x:0,y:0,wrap:w,fullyVisible:!1}},st=[],ct=[],pt=et,ft=Ne.reparseOverscaled?tt:et;if(this._renderWorldCopies)for(var dt=1;dt<=3;dt++)st.push(c(-dt)),st.push(c(dt));for(st.push(c(0));st.length>0;){var mt=st.pop(),yt=mt.x,vt=mt.y,Ot=mt.fullyVisible;if(!Ot){var Dt=mt.aabb.intersects(ot);if(0===Dt)continue;Ot=2===Dt}var Rt=mt.aabb.distanceX(it),Bt=mt.aabb.distanceY(it),rn=Math.max(Math.abs(Rt),Math.abs(Bt));if(mt.zoom===pt||rn>3+(1<<pt-mt.zoom)-2&&mt.zoom>=at)ct.push({tileID:new w.OverscaledTileID(mt.zoom===pt?ft:mt.zoom,mt.wrap,mt.zoom,yt,vt),distanceSq:w.sqrLen([it[0]-.5-yt,it[1]-.5-vt])});else for(var vn=0;vn<4;vn++){var bn=(yt<<1)+vn%2,Cn=(vt<<1)+(vn>>1);st.push({aabb:mt.aabb.quadrant(vn),zoom:mt.zoom+1,x:bn,y:Cn,wrap:mt.wrap,fullyVisible:Ot})}}return ct.sort((function(w,Ne){return w.distanceSq-Ne.distanceSq})).map((function(w){return w.tileID}))},To.prototype.resize=function(w,Ne){this.width=w,this.height=Ne,this.pixelsToGLUnits=[2/w,-2/Ne],this._constrain(),this._calcMatrices()},bc.unmodified.get=function(){return this._unmodified},To.prototype.zoomScale=function(w){return Math.pow(2,w)},To.prototype.scaleZoom=function(w){return Math.log(w)/Math.LN2},To.prototype.project=function(Ne){var et=w.clamp(Ne.lat,-this.maxValidLatitude,this.maxValidLatitude);return new w.Point(w.mercatorXfromLng(Ne.lng)*this.worldSize,w.mercatorYfromLat(et)*this.worldSize)},To.prototype.unproject=function(Ne){return new w.MercatorCoordinate(Ne.x/this.worldSize,Ne.y/this.worldSize).toLngLat()},bc.point.get=function(){return this.project(this.center)},To.prototype.setLocationAtPoint=function(Ne,et){var tt=this.pointCoordinate(et),nt=this.pointCoordinate(this.centerPoint),rt=this.locationCoordinate(Ne),it=new w.MercatorCoordinate(rt.x-(tt.x-nt.x),rt.y-(tt.y-nt.y));this.center=this.coordinateLocation(it),this._renderWorldCopies&&(this.center=this.center.wrap())},To.prototype.locationPoint=function(w){return this.coordinatePoint(this.locationCoordinate(w))},To.prototype.pointLocation=function(w){return this.coordinateLocation(this.pointCoordinate(w))},To.prototype.locationCoordinate=function(Ne){return w.MercatorCoordinate.fromLngLat(Ne)},To.prototype.coordinateLocation=function(w){return w.toLngLat()},To.prototype.pointCoordinate=function(Ne){var et=[Ne.x,Ne.y,0,1],tt=[Ne.x,Ne.y,1,1];w.transformMat4(et,et,this.pixelMatrixInverse),w.transformMat4(tt,tt,this.pixelMatrixInverse);var nt=et[3],rt=tt[3],it=et[1]/nt,ot=tt[1]/rt,at=et[2]/nt,st=tt[2]/rt,ct=at===st?0:(0-at)/(st-at);return new w.MercatorCoordinate(w.number(et[0]/nt,tt[0]/rt,ct)/this.worldSize,w.number(it,ot,ct)/this.worldSize)},To.prototype.coordinatePoint=function(Ne){var et=[Ne.x*this.worldSize,Ne.y*this.worldSize,0,1];return w.transformMat4(et,et,this.pixelMatrix),new w.Point(et[0]/et[3],et[1]/et[3])},To.prototype.getBounds=function(){return(new w.LngLatBounds).extend(this.pointLocation(new w.Point(0,0))).extend(this.pointLocation(new w.Point(this.width,0))).extend(this.pointLocation(new w.Point(this.width,this.height))).extend(this.pointLocation(new w.Point(0,this.height)))},To.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new w.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},To.prototype.setMaxBounds=function(w){w?(this.lngRange=[w.getWest(),w.getEast()],this.latRange=[w.getSouth(),w.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},To.prototype.calculatePosMatrix=function(Ne,et){void 0===et&&(et=!1);var tt=Ne.key,nt=et?this._alignedPosMatrixCache:this._posMatrixCache;if(nt[tt])return nt[tt];var rt=Ne.canonical,it=this.worldSize/this.zoomScale(rt.z),ot=rt.x+Math.pow(2,rt.z)*Ne.wrap,at=w.identity(new Float64Array(16));return w.translate(at,at,[ot*it,rt.y*it,0]),w.scale(at,at,[it/w.EXTENT,it/w.EXTENT,1]),w.multiply(at,et?this.alignedProjMatrix:this.projMatrix,at),nt[tt]=new Float32Array(at),nt[tt]},To.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},To.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var Ne,et,tt,nt,rt=-90,it=90,ot=-180,at=180,st=this.size,ct=this._unmodified;if(this.latRange){var pt=this.latRange;rt=w.mercatorYfromLat(pt[1])*this.worldSize,Ne=(it=w.mercatorYfromLat(pt[0])*this.worldSize)-rt<st.y?st.y/(it-rt):0}if(this.lngRange){var ft=this.lngRange;ot=w.mercatorXfromLng(ft[0])*this.worldSize,et=(at=w.mercatorXfromLng(ft[1])*this.worldSize)-ot<st.x?st.x/(at-ot):0}var dt=this.point,mt=Math.max(et||0,Ne||0);if(mt)return this.center=this.unproject(new w.Point(et?(at+ot)/2:dt.x,Ne?(it+rt)/2:dt.y)),this.zoom+=this.scaleZoom(mt),this._unmodified=ct,void(this._constraining=!1);if(this.latRange){var yt=dt.y,vt=st.y/2;yt-vt<rt&&(nt=rt+vt),yt+vt>it&&(nt=it-vt)}if(this.lngRange){var Ot=dt.x,Dt=st.x/2;Ot-Dt<ot&&(tt=ot+Dt),Ot+Dt>at&&(tt=at-Dt)}void 0===tt&&void 0===nt||(this.center=this.unproject(new w.Point(void 0!==tt?tt:dt.x,void 0!==nt?nt:dt.y))),this._unmodified=ct,this._constraining=!1}},To.prototype._calcMatrices=function(){if(this.height){var Ne=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var et=Math.PI/2+this._pitch,tt=this._fov*(.5+Ne.y/this.height),nt=Math.sin(tt)*this.cameraToCenterDistance/Math.sin(w.clamp(Math.PI-et-tt,.01,Math.PI-.01)),rt=this.point,it=rt.x,ot=rt.y,at=1.01*(Math.cos(Math.PI/2-this._pitch)*nt+this.cameraToCenterDistance),st=this.height/50,ct=new Float64Array(16);w.perspective(ct,this._fov,this.width/this.height,st,at),ct[8]=2*-Ne.x/this.width,ct[9]=2*Ne.y/this.height,w.scale(ct,ct,[1,-1,1]),w.translate(ct,ct,[0,0,-this.cameraToCenterDistance]),w.rotateX(ct,ct,this._pitch),w.rotateZ(ct,ct,this.angle),w.translate(ct,ct,[-it,-ot,0]),this.mercatorMatrix=w.scale([],ct,[this.worldSize,this.worldSize,this.worldSize]),w.scale(ct,ct,[1,1,w.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ct,this.invProjMatrix=w.invert([],this.projMatrix);var pt=this.width%2/2,ft=this.height%2/2,dt=Math.cos(this.angle),mt=Math.sin(this.angle),yt=it-Math.round(it)+dt*pt+mt*ft,vt=ot-Math.round(ot)+dt*ft+mt*pt,Ot=new Float64Array(ct);if(w.translate(Ot,Ot,[yt>.5?yt-1:yt,vt>.5?vt-1:vt,0]),this.alignedProjMatrix=Ot,ct=w.create(),w.scale(ct,ct,[this.width/2,-this.height/2,1]),w.translate(ct,ct,[1,-1,0]),this.labelPlaneMatrix=ct,ct=w.create(),w.scale(ct,ct,[1,-1,1]),w.translate(ct,ct,[-1,-1,0]),w.scale(ct,ct,[2/this.width,2/this.height,1]),this.glCoordMatrix=ct,this.pixelMatrix=w.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ct=w.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ct,this._posMatrixCache={},this._alignedPosMatrixCache={}}},To.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Ne=this.pointCoordinate(new w.Point(0,0)),et=[Ne.x*this.worldSize,Ne.y*this.worldSize,0,1];return w.transformMat4(et,et,this.pixelMatrix)[3]/this.cameraToCenterDistance},To.prototype.getCameraPoint=function(){var Ne=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new w.Point(0,Ne))},To.prototype.getCameraQueryGeometry=function(Ne){var et=this.getCameraPoint();if(1===Ne.length)return[Ne[0],et];for(var tt=et.x,nt=et.y,rt=et.x,it=et.y,ot=0,at=Ne;ot<at.length;ot+=1){var st=at[ot];tt=Math.min(tt,st.x),nt=Math.min(nt,st.y),rt=Math.max(rt,st.x),it=Math.max(it,st.y)}return[new w.Point(tt,nt),new w.Point(rt,nt),new w.Point(rt,it),new w.Point(tt,it),new w.Point(tt,nt)]},Object.defineProperties(To.prototype,bc);var Io=function(Ne){var et,tt,nt,rt;this._hashName=Ne&&encodeURIComponent(Ne),w.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(et=this._updateHashUnthrottled.bind(this),tt=!1,nt=null,rt=function(){nt=null,tt&&(et(),nt=setTimeout(rt,300),tt=!1)},function(){return tt=!0,nt||rt(),nt})};Io.prototype.addTo=function(Ne){return this._map=Ne,w.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Io.prototype.remove=function(){return w.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Io.prototype.getHashString=function(Ne){var et=this._map.getCenter(),tt=Math.round(100*this._map.getZoom())/100,nt=Math.ceil((tt*Math.LN2+Math.log(512/360/.5))/Math.LN10),rt=Math.pow(10,nt),it=Math.round(et.lng*rt)/rt,ot=Math.round(et.lat*rt)/rt,at=this._map.getBearing(),st=this._map.getPitch(),ct="";if(ct+=Ne?"/"+it+"/"+ot+"/"+tt:tt+"/"+ot+"/"+it,(at||st)&&(ct+="/"+Math.round(10*at)/10),st&&(ct+="/"+Math.round(st)),this._hashName){var pt=this._hashName,ft=!1,dt=w.window.location.hash.slice(1).split("&").map((function(w){var Ne=w.split("=")[0];return Ne===pt?(ft=!0,Ne+"="+ct):w})).filter((function(w){return w}));return ft||dt.push(pt+"="+ct),"#"+dt.join("&")}return"#"+ct},Io.prototype._getCurrentHash=function(){var Ne,et=this,tt=w.window.location.hash.replace("#","");return this._hashName?(tt.split("&").map((function(w){return w.split("=")})).forEach((function(w){w[0]===et._hashName&&(Ne=w)})),(Ne&&Ne[1]||"").split("/")):tt.split("/")},Io.prototype._onHashChange=function(){var w=this._getCurrentHash();if(w.length>=3&&!w.some((function(w){return isNaN(w)}))){var Ne=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(w[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+w[2],+w[1]],zoom:+w[0],bearing:Ne,pitch:+(w[4]||0)}),!0}return!1},Io.prototype._updateHashUnthrottled=function(){var Ne=this.getHashString();try{w.window.history.replaceState(w.window.history.state,"",Ne)}catch(w){}};var xc={linearity:.3,easing:w.bezier(0,0,.3,1)},wc=w.extend({deceleration:2500,maxSpeed:1400},xc),Ec=w.extend({deceleration:20,maxSpeed:1400},xc),kc=w.extend({deceleration:1e3,maxSpeed:360},xc),Cc=w.extend({deceleration:1e3,maxSpeed:90},xc),Mo=function(w){this._map=w,this.clear()};function Lo(w,Ne){(!w.duration||w.duration<Ne.duration)&&(w.duration=Ne.duration,w.easing=Ne.easing)}function Ao(Ne,et,tt){var nt=tt.maxSpeed,rt=tt.linearity,it=tt.deceleration,ot=w.clamp(Ne*rt/(et/1e3),-nt,nt),at=Math.abs(ot)/(it*rt);return{easing:tt.easing,duration:1e3*at,amount:ot*(at/2)}}Mo.prototype.clear=function(){this._inertiaBuffer=[]},Mo.prototype.record=function(Ne){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:w.browser.now(),settings:Ne})},Mo.prototype._drainInertiaBuffer=function(){for(var Ne=this._inertiaBuffer,et=w.browser.now();Ne.length>0&&et-Ne[0].time>160;)Ne.shift()},Mo.prototype._onMoveEnd=function(Ne){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var et={zoom:0,bearing:0,pitch:0,pan:new w.Point(0,0),pinchAround:void 0,around:void 0},tt=0,nt=this._inertiaBuffer;tt<nt.length;tt+=1){var rt=nt[tt].settings;et.zoom+=rt.zoomDelta||0,et.bearing+=rt.bearingDelta||0,et.pitch+=rt.pitchDelta||0,rt.panDelta&&et.pan._add(rt.panDelta),rt.around&&(et.around=rt.around),rt.pinchAround&&(et.pinchAround=rt.pinchAround)}var it=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ot={};if(et.pan.mag()){var at=Ao(et.pan.mag(),it,w.extend({},wc,Ne||{}));ot.offset=et.pan.mult(at.amount/et.pan.mag()),ot.center=this._map.transform.center,Lo(ot,at)}if(et.zoom){var st=Ao(et.zoom,it,Ec);ot.zoom=this._map.transform.zoom+st.amount,Lo(ot,st)}if(et.bearing){var ct=Ao(et.bearing,it,kc);ot.bearing=this._map.transform.bearing+w.clamp(ct.amount,-179,179),Lo(ot,ct)}if(et.pitch){var pt=Ao(et.pitch,it,Cc);ot.pitch=this._map.transform.pitch+pt.amount,Lo(ot,pt)}if(ot.zoom||ot.bearing){var ft=void 0===et.pinchAround?et.around:et.pinchAround;ot.around=ft?this._map.unproject(ft):this._map.getCenter()}return this.clear(),w.extend(ot,{noMoveStart:!0})}};var Ic=function(Ne){function o(tt,nt,rt,it){void 0===it&&(it={});var ot=et.mousePos(nt.getCanvasContainer(),rt),at=nt.unproject(ot);Ne.call(this,tt,w.extend({point:ot,lngLat:at,originalEvent:rt},it)),this._defaultPrevented=!1,this.target=nt}Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o;var tt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},tt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,tt),o}(w.Event),Ac=function(Ne){function o(tt,nt,rt){var it="touchend"===tt?rt.changedTouches:rt.touches,ot=et.touchPos(nt.getCanvasContainer(),it),at=ot.map((function(w){return nt.unproject(w)})),st=ot.reduce((function(w,Ne,et,tt){return w.add(Ne.div(tt.length))}),new w.Point(0,0)),ct=nt.unproject(st);Ne.call(this,tt,{points:ot,point:st,lngLats:at,lngLat:ct,originalEvent:rt}),this._defaultPrevented=!1}Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o;var tt={defaultPrevented:{configurable:!0}};return o.prototype.preventDefault=function(){this._defaultPrevented=!0},tt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(o.prototype,tt),o}(w.Event),zc=function(w){function e(Ne,et,tt){w.call(this,Ne,{originalEvent:tt}),this._defaultPrevented=!1}w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e;var Ne={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},Ne.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,Ne),e}(w.Event),Oo=function(w,Ne){this._map=w,this._clickTolerance=Ne.clickTolerance};Oo.prototype.reset=function(){delete this._mousedownPos},Oo.prototype.wheel=function(w){return this._firePreventable(new zc(w.type,this._map,w))},Oo.prototype.mousedown=function(w,Ne){return this._mousedownPos=Ne,this._firePreventable(new Ic(w.type,this._map,w))},Oo.prototype.mouseup=function(w){this._map.fire(new Ic(w.type,this._map,w))},Oo.prototype.click=function(w,Ne){this._mousedownPos&&this._mousedownPos.dist(Ne)>=this._clickTolerance||this._map.fire(new Ic(w.type,this._map,w))},Oo.prototype.dblclick=function(w){return this._firePreventable(new Ic(w.type,this._map,w))},Oo.prototype.mouseover=function(w){this._map.fire(new Ic(w.type,this._map,w))},Oo.prototype.mouseout=function(w){this._map.fire(new Ic(w.type,this._map,w))},Oo.prototype.touchstart=function(w){return this._firePreventable(new Ac(w.type,this._map,w))},Oo.prototype.touchmove=function(w){this._map.fire(new Ac(w.type,this._map,w))},Oo.prototype.touchend=function(w){this._map.fire(new Ac(w.type,this._map,w))},Oo.prototype.touchcancel=function(w){this._map.fire(new Ac(w.type,this._map,w))},Oo.prototype._firePreventable=function(w){if(this._map.fire(w),w.defaultPrevented)return{}},Oo.prototype.isEnabled=function(){return!0},Oo.prototype.isActive=function(){return!1},Oo.prototype.enable=function(){},Oo.prototype.disable=function(){};var Fo=function(w){this._map=w};Fo.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fo.prototype.mousemove=function(w){this._map.fire(new Ic(w.type,this._map,w))},Fo.prototype.mousedown=function(){this._delayContextMenu=!0},Fo.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ic("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fo.prototype.contextmenu=function(w){this._delayContextMenu?this._contextMenuEvent=w:this._map.fire(new Ic(w.type,this._map,w)),this._map.listens("contextmenu")&&w.preventDefault()},Fo.prototype.isEnabled=function(){return!0},Fo.prototype.isActive=function(){return!1},Fo.prototype.enable=function(){},Fo.prototype.disable=function(){};var Uo=function(w,Ne){this._map=w,this._el=w.getCanvasContainer(),this._container=w.getContainer(),this._clickTolerance=Ne.clickTolerance||1};function No(w,Ne){for(var et={},tt=0;tt<w.length;tt++)et[w[tt].identifier]=Ne[tt];return et}Uo.prototype.isEnabled=function(){return!!this._enabled},Uo.prototype.isActive=function(){return!!this._active},Uo.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Uo.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Uo.prototype.mousedown=function(w,Ne){this.isEnabled()&&w.shiftKey&&0===w.button&&(et.disableDrag(),this._startPos=this._lastPos=Ne,this._active=!0)},Uo.prototype.mousemoveWindow=function(w,Ne){if(this._active){var tt=Ne;if(!(this._lastPos.equals(tt)||!this._box&&tt.dist(this._startPos)<this._clickTolerance)){var nt=this._startPos;this._lastPos=tt,this._box||(this._box=et.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",w));var rt=Math.min(nt.x,tt.x),it=Math.max(nt.x,tt.x),ot=Math.min(nt.y,tt.y),at=Math.max(nt.y,tt.y);et.setTransform(this._box,"translate("+rt+"px,"+ot+"px)"),this._box.style.width=it-rt+"px",this._box.style.height=at-ot+"px"}}},Uo.prototype.mouseupWindow=function(Ne,tt){var nt=this;if(this._active&&0===Ne.button){var rt=this._startPos,it=tt;if(this.reset(),et.suppressClick(),rt.x!==it.x||rt.y!==it.y)return this._map.fire(new w.Event("boxzoomend",{originalEvent:Ne})),{cameraAnimation:function(w){return w.fitScreenCoordinates(rt,it,nt._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",Ne)}},Uo.prototype.keydown=function(w){this._active&&27===w.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",w))},Uo.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(et.remove(this._box),this._box=null),et.enableDrag(),delete this._startPos,delete this._lastPos},Uo.prototype._fireEvent=function(Ne,et){return this._map.fire(new w.Event(Ne,{originalEvent:et}))};var Zo=function(w){this.reset(),this.numTouches=w.numTouches};Zo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zo.prototype.touchstart=function(Ne,et,tt){(this.centroid||tt.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=Ne.timeStamp),tt.length===this.numTouches&&(this.centroid=function(Ne){for(var et=new w.Point(0,0),tt=0,nt=Ne;tt<nt.length;tt+=1)et._add(nt[tt]);return et.div(Ne.length)}(et),this.touches=No(tt,et)))},Zo.prototype.touchmove=function(w,Ne,et){if(!this.aborted&&this.centroid){var tt=No(et,Ne);for(var nt in this.touches){var rt=tt[nt];(!rt||rt.dist(this.touches[nt])>30)&&(this.aborted=!0)}}},Zo.prototype.touchend=function(w,Ne,et){if((!this.centroid||w.timeStamp-this.startTime>500)&&(this.aborted=!0),0===et.length){var tt=!this.aborted&&this.centroid;if(this.reset(),tt)return tt}};var jo=function(w){this.singleTap=new Zo(w),this.numTaps=w.numTaps,this.reset()};jo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},jo.prototype.touchstart=function(w,Ne,et){this.singleTap.touchstart(w,Ne,et)},jo.prototype.touchmove=function(w,Ne,et){this.singleTap.touchmove(w,Ne,et)},jo.prototype.touchend=function(w,Ne,et){var tt=this.singleTap.touchend(w,Ne,et);if(tt){var nt=w.timeStamp-this.lastTime<500,rt=!this.lastTap||this.lastTap.dist(tt)<30;if(nt&&rt||this.reset(),this.count++,this.lastTime=w.timeStamp,this.lastTap=tt,this.count===this.numTaps)return this.reset(),tt}};var qo=function(){this._zoomIn=new jo({numTouches:1,numTaps:2}),this._zoomOut=new jo({numTouches:2,numTaps:1}),this.reset()};qo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qo.prototype.touchstart=function(w,Ne,et){this._zoomIn.touchstart(w,Ne,et),this._zoomOut.touchstart(w,Ne,et)},qo.prototype.touchmove=function(w,Ne,et){this._zoomIn.touchmove(w,Ne,et),this._zoomOut.touchmove(w,Ne,et)},qo.prototype.touchend=function(w,Ne,et){var tt=this,nt=this._zoomIn.touchend(w,Ne,et),rt=this._zoomOut.touchend(w,Ne,et);return nt?(this._active=!0,w.preventDefault(),setTimeout((function(){return tt.reset()}),0),{cameraAnimation:function(Ne){return Ne.easeTo({duration:300,zoom:Ne.getZoom()+1,around:Ne.unproject(nt)},{originalEvent:w})}}):rt?(this._active=!0,w.preventDefault(),setTimeout((function(){return tt.reset()}),0),{cameraAnimation:function(Ne){return Ne.easeTo({duration:300,zoom:Ne.getZoom()-1,around:Ne.unproject(rt)},{originalEvent:w})}}):void 0},qo.prototype.touchcancel=function(){this.reset()},qo.prototype.enable=function(){this._enabled=!0},qo.prototype.disable=function(){this._enabled=!1,this.reset()},qo.prototype.isEnabled=function(){return this._enabled},qo.prototype.isActive=function(){return this._active};var Dc={0:1,2:2},Go=function(w){this.reset(),this._clickTolerance=w.clickTolerance||1};Go.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Go.prototype._correctButton=function(w,Ne){return!1},Go.prototype._move=function(w,Ne){return{}},Go.prototype.mousedown=function(w,Ne){if(!this._lastPoint){var tt=et.mouseButton(w);this._correctButton(w,tt)&&(this._lastPoint=Ne,this._eventButton=tt)}},Go.prototype.mousemoveWindow=function(w,Ne){var et=this._lastPoint;if(et)if(w.preventDefault(),function(w,Ne){var et=Dc[Ne];return void 0===w.buttons||(w.buttons&et)!==et}(w,this._eventButton))this.reset();else if(this._moved||!(Ne.dist(et)<this._clickTolerance))return this._moved=!0,this._lastPoint=Ne,this._move(et,Ne)},Go.prototype.mouseupWindow=function(w){this._lastPoint&&et.mouseButton(w)===this._eventButton&&(this._moved&&et.suppressClick(),this.reset())},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var Fc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.mousedown=function(Ne,et){w.prototype.mousedown.call(this,Ne,et),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(w,Ne){return 0===Ne&&!w.ctrlKey},e.prototype._move=function(w,Ne){return{around:Ne,panDelta:Ne.sub(w)}},e}(Go),Bc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._correctButton=function(w,Ne){return 0===Ne&&w.ctrlKey||2===Ne},e.prototype._move=function(w,Ne){var et=.8*(Ne.x-w.x);if(et)return this._active=!0,{bearingDelta:et}},e.prototype.contextmenu=function(w){w.preventDefault()},e}(Go),Wc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype._correctButton=function(w,Ne){return 0===Ne&&w.ctrlKey||2===Ne},e.prototype._move=function(w,Ne){var et=-.5*(Ne.y-w.y);if(et)return this._active=!0,{pitchDelta:et}},e.prototype.contextmenu=function(w){w.preventDefault()},e}(Go),Ko=function(w){this._minTouches=1,this._clickTolerance=w.clickTolerance||1,this.reset()};Ko.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new w.Point(0,0)},Ko.prototype.touchstart=function(w,Ne,et){return this._calculateTransform(w,Ne,et)},Ko.prototype.touchmove=function(w,Ne,et){if(this._active)return w.preventDefault(),this._calculateTransform(w,Ne,et)},Ko.prototype.touchend=function(w,Ne,et){this._calculateTransform(w,Ne,et),this._active&&et.length<this._minTouches&&this.reset()},Ko.prototype.touchcancel=function(){this.reset()},Ko.prototype._calculateTransform=function(Ne,et,tt){tt.length>0&&(this._active=!0);var nt=No(tt,et),rt=new w.Point(0,0),it=new w.Point(0,0),ot=0;for(var at in nt){var st=nt[at],ct=this._touches[at];ct&&(rt._add(st),it._add(st.sub(ct)),ot++,nt[at]=st)}if(this._touches=nt,!(ot<this._minTouches)&&it.mag()){var pt=it.div(ot);if(this._sum._add(pt),!(this._sum.mag()<this._clickTolerance))return{around:rt.div(ot),panDelta:pt}}},Ko.prototype.enable=function(){this._enabled=!0},Ko.prototype.disable=function(){this._enabled=!1,this.reset()},Ko.prototype.isEnabled=function(){return this._enabled},Ko.prototype.isActive=function(){return this._active};var Yo=function(){this.reset()};function Jo(w,Ne,et){for(var tt=0;tt<w.length;tt++)if(w[tt].identifier===et)return Ne[tt]}function Qo(w,Ne){return Math.log(w/Ne)/Math.LN2}Yo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yo.prototype._start=function(w){},Yo.prototype._move=function(w,Ne,et){return{}},Yo.prototype.touchstart=function(w,Ne,et){this._firstTwoTouches||et.length<2||(this._firstTwoTouches=[et[0].identifier,et[1].identifier],this._start([Ne[0],Ne[1]]))},Yo.prototype.touchmove=function(w,Ne,et){if(this._firstTwoTouches){w.preventDefault();var tt=this._firstTwoTouches,nt=tt[1],rt=Jo(et,Ne,tt[0]),it=Jo(et,Ne,nt);if(rt&&it){var ot=this._aroundCenter?null:rt.add(it).div(2);return this._move([rt,it],ot,w)}}},Yo.prototype.touchend=function(w,Ne,tt){if(this._firstTwoTouches){var nt=this._firstTwoTouches,rt=nt[1],it=Jo(tt,Ne,nt[0]),ot=Jo(tt,Ne,rt);it&&ot||(this._active&&et.suppressClick(),this.reset())}},Yo.prototype.touchcancel=function(){this.reset()},Yo.prototype.enable=function(w){this._enabled=!0,this._aroundCenter=!!w&&"center"===w.around},Yo.prototype.disable=function(){this._enabled=!1,this.reset()},Yo.prototype.isEnabled=function(){return this._enabled},Yo.prototype.isActive=function(){return this._active};var Hc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.reset=function(){w.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(w){this._startDistance=this._distance=w[0].dist(w[1])},e.prototype._move=function(w,Ne){var et=this._distance;if(this._distance=w[0].dist(w[1]),this._active||!(Math.abs(Qo(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qo(this._distance,et),pinchAround:Ne}},e}(Yo);function tr(w,Ne){return 180*w.angleWith(Ne)/Math.PI}var Gc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.reset=function(){w.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(w){this._startVector=this._vector=w[0].sub(w[1]),this._minDiameter=w[0].dist(w[1])},e.prototype._move=function(w,Ne){var et=this._vector;if(this._vector=w[0].sub(w[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,et),pinchAround:Ne}},e.prototype._isBelowThreshold=function(w){this._minDiameter=Math.min(this._minDiameter,w.mag());var Ne=25/(Math.PI*this._minDiameter)*360,et=tr(w,this._startVector);return Math.abs(et)<Ne},e}(Yo);function ir(w){return Math.abs(w.y)>Math.abs(w.x)}var Zc=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e.prototype.reset=function(){w.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(w){this._lastPoints=w,ir(w[0].sub(w[1]))&&(this._valid=!1)},e.prototype._move=function(w,Ne,et){var tt=w[0].sub(this._lastPoints[0]),nt=w[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(tt,nt,et.timeStamp),this._valid)return this._lastPoints=w,this._active=!0,{pitchDelta:(tt.y+nt.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(w,Ne,et){if(void 0!==this._valid)return this._valid;var tt=w.mag()>=2,nt=Ne.mag()>=2;if(tt||nt){if(!tt||!nt)return void 0===this._firstMove&&(this._firstMove=et),et-this._firstMove<100&&void 0;var rt=w.y>0==Ne.y>0;return ir(w)&&ir(Ne)&&rt}},e}(Yo),Xc={panStep:100,bearingStep:15,pitchStep:10},ar=function(){var w=Xc;this._panStep=w.panStep,this._bearingStep=w.bearingStep,this._pitchStep=w.pitchStep};function nr(w){return w*(2-w)}ar.prototype.reset=function(){this._active=!1},ar.prototype.keydown=function(w){var Ne=this;if(!(w.altKey||w.ctrlKey||w.metaKey)){var et=0,tt=0,nt=0,rt=0,it=0;switch(w.keyCode){case 61:case 107:case 171:case 187:et=1;break;case 189:case 109:case 173:et=-1;break;case 37:w.shiftKey?tt=-1:(w.preventDefault(),rt=-1);break;case 39:w.shiftKey?tt=1:(w.preventDefault(),rt=1);break;case 38:w.shiftKey?nt=1:(w.preventDefault(),it=-1);break;case 40:w.shiftKey?nt=-1:(w.preventDefault(),it=1);break;default:return}return{cameraAnimation:function(ot){var at=ot.getZoom();ot.easeTo({duration:300,easeId:"keyboardHandler",easing:nr,zoom:et?Math.round(at)+et*(w.shiftKey?2:1):at,bearing:ot.getBearing()+tt*Ne._bearingStep,pitch:ot.getPitch()+nt*Ne._pitchStep,offset:[-rt*Ne._panStep,-it*Ne._panStep],center:ot.getCenter()},{originalEvent:w})}}}},ar.prototype.enable=function(){this._enabled=!0},ar.prototype.disable=function(){this._enabled=!1,this.reset()},ar.prototype.isEnabled=function(){return this._enabled},ar.prototype.isActive=function(){return this._active};var sr=function(Ne,et){this._map=Ne,this._el=Ne.getCanvasContainer(),this._handler=et,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,w.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};sr.prototype.setZoomRate=function(w){this._defaultZoomRate=w},sr.prototype.setWheelZoomRate=function(w){this._wheelZoomRate=w},sr.prototype.isEnabled=function(){return!!this._enabled},sr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},sr.prototype.isZooming=function(){return!!this._zooming},sr.prototype.enable=function(w){this.isEnabled()||(this._enabled=!0,this._aroundCenter=w&&"center"===w.around)},sr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sr.prototype.wheel=function(Ne){if(this.isEnabled()){var et=Ne.deltaMode===w.window.WheelEvent.DOM_DELTA_LINE?40*Ne.deltaY:Ne.deltaY,tt=w.browser.now(),nt=tt-(this._lastWheelEventTime||0);this._lastWheelEventTime=tt,0!==et&&et%4.000244140625==0?this._type="wheel":0!==et&&Math.abs(et)<4?this._type="trackpad":nt>400?(this._type=null,this._lastValue=et,this._timeout=setTimeout(this._onTimeout,40,Ne)):this._type||(this._type=Math.abs(nt*et)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,et+=this._lastValue)),Ne.shiftKey&&et&&(et/=4),this._type&&(this._lastWheelEvent=Ne,this._delta-=et,this._active||this._start(Ne)),Ne.preventDefault()}},sr.prototype._onTimeout=function(w){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(w)},sr.prototype._start=function(Ne){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var tt=et.mousePos(this._el,Ne);this._around=w.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(tt)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sr.prototype.renderFrame=function(){return this._onScrollFrame()},sr.prototype._onScrollFrame=function(){var Ne=this;if(this._frameId&&(this._frameId=null,this.isActive())){var et=this._map.transform;if(0!==this._delta){var tt="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,nt=2/(1+Math.exp(-Math.abs(this._delta*tt)));this._delta<0&&0!==nt&&(nt=1/nt);var rt="number"==typeof this._targetZoom?et.zoomScale(this._targetZoom):et.scale;this._targetZoom=Math.min(et.maxZoom,Math.max(et.minZoom,et.scaleZoom(rt*nt))),"wheel"===this._type&&(this._startZoom=et.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var it,ot="number"==typeof this._targetZoom?this._targetZoom:et.zoom,at=this._startZoom,st=this._easing,ct=!1;if("wheel"===this._type&&at&&st){var pt=Math.min((w.browser.now()-this._lastWheelEventTime)/200,1),ft=st(pt);it=w.number(at,ot,ft),pt<1?this._frameId||(this._frameId=!0):ct=!0}else it=ot,ct=!0;return this._active=!0,ct&&(this._active=!1,this._finishTimeout=setTimeout((function(){Ne._zooming=!1,Ne._handler._triggerRenderFrame(),delete Ne._targetZoom,delete Ne._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!ct,zoomDelta:it-et.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sr.prototype._smoothOutEasing=function(Ne){var et=w.ease;if(this._prevEase){var tt=this._prevEase,nt=(w.browser.now()-tt.start)/tt.duration,rt=tt.easing(nt+.01)-tt.easing(nt),it=.27/Math.sqrt(rt*rt+1e-4)*.01,ot=Math.sqrt(.0729-it*it);et=w.bezier(it,ot,.25,1)}return this._prevEase={start:w.browser.now(),duration:Ne,easing:et},et},sr.prototype.reset=function(){this._active=!1};var lr=function(w,Ne){this._clickZoom=w,this._tapZoom=Ne};lr.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},lr.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},lr.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},lr.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var cr=function(){this.reset()};cr.prototype.reset=function(){this._active=!1},cr.prototype.dblclick=function(w,Ne){return w.preventDefault(),{cameraAnimation:function(et){et.easeTo({duration:300,zoom:et.getZoom()+(w.shiftKey?-1:1),around:et.unproject(Ne)},{originalEvent:w})}}},cr.prototype.enable=function(){this._enabled=!0},cr.prototype.disable=function(){this._enabled=!1,this.reset()},cr.prototype.isEnabled=function(){return this._enabled},cr.prototype.isActive=function(){return this._active};var ur=function(){this._tap=new jo({numTouches:1,numTaps:1}),this.reset()};ur.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ur.prototype.touchstart=function(w,Ne,et){this._swipePoint||(this._tapTime&&w.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?et.length>0&&(this._swipePoint=Ne[0],this._swipeTouch=et[0].identifier):this._tap.touchstart(w,Ne,et))},ur.prototype.touchmove=function(w,Ne,et){if(this._tapTime){if(this._swipePoint){if(et[0].identifier!==this._swipeTouch)return;var tt=Ne[0],nt=tt.y-this._swipePoint.y;return this._swipePoint=tt,w.preventDefault(),this._active=!0,{zoomDelta:nt/128}}}else this._tap.touchmove(w,Ne,et)},ur.prototype.touchend=function(w,Ne,et){this._tapTime?this._swipePoint&&0===et.length&&this.reset():this._tap.touchend(w,Ne,et)&&(this._tapTime=w.timeStamp)},ur.prototype.touchcancel=function(){this.reset()},ur.prototype.enable=function(){this._enabled=!0},ur.prototype.disable=function(){this._enabled=!1,this.reset()},ur.prototype.isEnabled=function(){return this._enabled},ur.prototype.isActive=function(){return this._active};var hr=function(w,Ne,et){this._el=w,this._mousePan=Ne,this._touchPan=et};hr.prototype.enable=function(w){this._inertiaOptions=w||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pr=function(w,Ne,et){this._pitchWithRotate=w.pitchWithRotate,this._mouseRotate=Ne,this._mousePitch=et};pr.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pr.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pr.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pr.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var dr=function(w,Ne,et,tt){this._el=w,this._touchZoom=Ne,this._touchRotate=et,this._tapDragZoom=tt,this._rotationDisabled=!1,this._enabled=!0};dr.prototype.enable=function(w){this._touchZoom.enable(w),this._rotationDisabled||this._touchRotate.enable(w),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},dr.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},dr.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},dr.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},dr.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},dr.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var _r=function(w){return w.zoom||w.drag||w.pitch||w.rotate},$c=function(w){function e(){w.apply(this,arguments)}return w&&(e.__proto__=w),(e.prototype=Object.create(w&&w.prototype)).constructor=e,e}(w.Event);function mr(w){return w.panDelta&&w.panDelta.mag()||w.zoomDelta||w.bearingDelta||w.pitchDelta}var gr=function(Ne,tt){this._map=Ne,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mo(Ne),this._bearingSnap=tt.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(tt),w.bindAll(["handleEvent","handleWindowEvent"],this);var nt=this._el;this._listeners=[[nt,"touchstart",{passive:!0}],[nt,"touchmove",{passive:!1}],[nt,"touchend",void 0],[nt,"touchcancel",void 0],[nt,"mousedown",void 0],[nt,"mousemove",void 0],[nt,"mouseup",void 0],[w.window.document,"mousemove",{capture:!0}],[w.window.document,"mouseup",void 0],[nt,"mouseover",void 0],[nt,"mouseout",void 0],[nt,"dblclick",void 0],[nt,"click",void 0],[nt,"keydown",{capture:!1}],[nt,"keyup",void 0],[nt,"wheel",{passive:!1}],[nt,"contextmenu",void 0],[w.window,"blur",void 0]];for(var rt=0,it=this._listeners;rt<it.length;rt+=1){var ot=it[rt],at=ot[0];et.addEventListener(at,ot[1],at===w.window.document?this.handleWindowEvent:this.handleEvent,ot[2])}};gr.prototype.destroy=function(){for(var Ne=0,tt=this._listeners;Ne<tt.length;Ne+=1){var nt=tt[Ne],rt=nt[0];et.removeEventListener(rt,nt[1],rt===w.window.document?this.handleWindowEvent:this.handleEvent,nt[2])}},gr.prototype._addDefaultHandlers=function(w){var Ne=this._map,et=Ne.getCanvasContainer();this._add("mapEvent",new Oo(Ne,w));var tt=Ne.boxZoom=new Uo(Ne,w);this._add("boxZoom",tt);var nt=new qo,rt=new cr;Ne.doubleClickZoom=new lr(rt,nt),this._add("tapZoom",nt),this._add("clickZoom",rt);var it=new ur;this._add("tapDragZoom",it);var ot=Ne.touchPitch=new Zc;this._add("touchPitch",ot);var at=new Bc(w),st=new Wc(w);Ne.dragRotate=new pr(w,at,st),this._add("mouseRotate",at,["mousePitch"]),this._add("mousePitch",st,["mouseRotate"]);var ct=new Fc(w),pt=new Ko(w);Ne.dragPan=new hr(et,ct,pt),this._add("mousePan",ct),this._add("touchPan",pt,["touchZoom","touchRotate"]);var ft=new Gc,dt=new Hc;Ne.touchZoomRotate=new dr(et,dt,ft,it),this._add("touchRotate",ft,["touchPan","touchZoom"]),this._add("touchZoom",dt,["touchPan","touchRotate"]);var mt=Ne.scrollZoom=new sr(Ne,this);this._add("scrollZoom",mt,["mousePan"]);var yt=Ne.keyboard=new ar;this._add("keyboard",yt),this._add("blockableMapEvent",new Fo(Ne));for(var vt=0,Ot=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];vt<Ot.length;vt+=1){var Dt=Ot[vt];w.interactive&&w[Dt]&&Ne[Dt].enable(w[Dt])}},gr.prototype._add=function(w,Ne,et){this._handlers.push({handlerName:w,handler:Ne,allowed:et}),this._handlersById[w]=Ne},gr.prototype.stop=function(){if(!this._updatingCamera){for(var w=0,Ne=this._handlers;w<Ne.length;w+=1)Ne[w].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},gr.prototype.isActive=function(){for(var w=0,Ne=this._handlers;w<Ne.length;w+=1)if(Ne[w].handler.isActive())return!0;return!1},gr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gr.prototype.isMoving=function(){return Boolean(_r(this._eventsInProgress))||this.isZooming()},gr.prototype._blockedByActive=function(w,Ne,et){for(var tt in w)if(tt!==et&&(!Ne||Ne.indexOf(tt)<0))return!0;return!1},gr.prototype.handleWindowEvent=function(w){this.handleEvent(w,w.type+"Window")},gr.prototype._getMapTouches=function(w){for(var Ne=[],et=0,tt=w;et<tt.length;et+=1){var nt=tt[et];this._el.contains(nt.target)&&Ne.push(nt)}return Ne},gr.prototype.handleEvent=function(w,Ne){if("blur"!==w.type){this._updatingCamera=!0;for(var tt="renderFrame"===w.type?void 0:w,nt={needsRenderFrame:!1},rt={},it={},ot=w.touches?this._getMapTouches(w.touches):void 0,at=ot?et.touchPos(this._el,ot):et.mousePos(this._el,w),st=0,ct=this._handlers;st<ct.length;st+=1){var pt=ct[st],ft=pt.handlerName,dt=pt.handler,mt=pt.allowed;if(dt.isEnabled()){var yt=void 0;this._blockedByActive(it,mt,ft)?dt.reset():dt[Ne||w.type]&&(yt=dt[Ne||w.type](w,at,ot),this.mergeHandlerResult(nt,rt,yt,ft,tt),yt&&yt.needsRenderFrame&&this._triggerRenderFrame()),(yt||dt.isActive())&&(it[ft]=dt)}}var vt={};for(var Ot in this._previousActiveHandlers)it[Ot]||(vt[Ot]=tt);this._previousActiveHandlers=it,(Object.keys(vt).length||mr(nt))&&(this._changes.push([nt,rt,vt]),this._triggerRenderFrame()),(Object.keys(it).length||mr(nt))&&this._map._stop(!0),this._updatingCamera=!1;var Dt=nt.cameraAnimation;Dt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],Dt(this._map))}else this.stop()},gr.prototype.mergeHandlerResult=function(Ne,et,tt,nt,rt){if(tt){w.extend(Ne,tt);var it={handlerName:nt,originalEvent:tt.originalEvent||rt};void 0!==tt.zoomDelta&&(et.zoom=it),void 0!==tt.panDelta&&(et.drag=it),void 0!==tt.pitchDelta&&(et.pitch=it),void 0!==tt.bearingDelta&&(et.rotate=it)}},gr.prototype._applyChanges=function(){for(var Ne={},et={},tt={},nt=0,rt=this._changes;nt<rt.length;nt+=1){var it=rt[nt],ot=it[0],at=it[1],st=it[2];ot.panDelta&&(Ne.panDelta=(Ne.panDelta||new w.Point(0,0))._add(ot.panDelta)),ot.zoomDelta&&(Ne.zoomDelta=(Ne.zoomDelta||0)+ot.zoomDelta),ot.bearingDelta&&(Ne.bearingDelta=(Ne.bearingDelta||0)+ot.bearingDelta),ot.pitchDelta&&(Ne.pitchDelta=(Ne.pitchDelta||0)+ot.pitchDelta),void 0!==ot.around&&(Ne.around=ot.around),void 0!==ot.pinchAround&&(Ne.pinchAround=ot.pinchAround),ot.noInertia&&(Ne.noInertia=ot.noInertia),w.extend(et,at),w.extend(tt,st)}this._updateMapTransform(Ne,et,tt),this._changes=[]},gr.prototype._updateMapTransform=function(w,Ne,et){var tt=this._map,nt=tt.transform;if(!mr(w))return this._fireEvents(Ne,et);var rt=w.panDelta,it=w.zoomDelta,ot=w.bearingDelta,at=w.pitchDelta,st=w.around,ct=w.pinchAround;void 0!==ct&&(st=ct),tt._stop(!0),st=st||tt.transform.centerPoint;var pt=nt.pointLocation(rt?st.sub(rt):st);ot&&(nt.bearing+=ot),at&&(nt.pitch+=at),it&&(nt.zoom+=it),nt.setLocationAtPoint(pt,st),this._map._update(),w.noInertia||this._inertia.record(w),this._fireEvents(Ne,et)},gr.prototype._fireEvents=function(Ne,et){var tt=this,nt=_r(this._eventsInProgress),rt=_r(Ne),it={};for(var ot in Ne)this._eventsInProgress[ot]||(it[ot+"start"]=Ne[ot].originalEvent),this._eventsInProgress[ot]=Ne[ot];for(var at in!nt&&rt&&this._fireEvent("movestart",rt.originalEvent),it)this._fireEvent(at,it[at]);for(var st in Ne.rotate&&(this._bearingChanged=!0),rt&&this._fireEvent("move",rt.originalEvent),Ne)this._fireEvent(st,Ne[st].originalEvent);var ct,pt={};for(var ft in this._eventsInProgress){var dt=this._eventsInProgress[ft],mt=dt.handlerName,yt=dt.originalEvent;this._handlersById[mt].isActive()||(delete this._eventsInProgress[ft],pt[ft+"end"]=ct=et[mt]||yt)}for(var vt in pt)this._fireEvent(vt,pt[vt]);var Ot=_r(this._eventsInProgress);if((nt||rt)&&!Ot){this._updatingCamera=!0;var Dt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),y=function(w){return 0!==w&&-tt._bearingSnap<w&&w<tt._bearingSnap};Dt?(y(Dt.bearing||this._map.getBearing())&&(Dt.bearing=0),this._map.easeTo(Dt,{originalEvent:ct})):(this._map.fire(new w.Event("moveend",{originalEvent:ct})),y(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},gr.prototype._fireEvent=function(Ne,et){this._map.fire(new w.Event(Ne,et?{originalEvent:et}:{}))},gr.prototype._triggerRenderFrame=function(){var w=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame((function(Ne){delete w._frameId,w.handleEvent(new $c("renderFrame",{timeStamp:Ne})),w._applyChanges()})))};var Yc=function(Ne){function i(et,tt){Ne.call(this),this._moving=!1,this._zooming=!1,this.transform=et,this._bearingSnap=tt.bearingSnap,w.bindAll(["_renderFrameCallback"],this)}return Ne&&(i.__proto__=Ne),(i.prototype=Object.create(Ne&&Ne.prototype)).constructor=i,i.prototype.getCenter=function(){return new w.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(w,Ne){return this.jumpTo({center:w},Ne)},i.prototype.panBy=function(Ne,et,tt){return Ne=w.Point.convert(Ne).mult(-1),this.panTo(this.transform.center,w.extend({offset:Ne},et),tt)},i.prototype.panTo=function(Ne,et,tt){return this.easeTo(w.extend({center:Ne},et),tt)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(w,Ne){return this.jumpTo({zoom:w},Ne),this},i.prototype.zoomTo=function(Ne,et,tt){return this.easeTo(w.extend({zoom:Ne},et),tt)},i.prototype.zoomIn=function(w,Ne){return this.zoomTo(this.getZoom()+1,w,Ne),this},i.prototype.zoomOut=function(w,Ne){return this.zoomTo(this.getZoom()-1,w,Ne),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(w,Ne){return this.jumpTo({bearing:w},Ne),this},i.prototype.getPadding=function(){return this.transform.padding},i.prototype.setPadding=function(w,Ne){return this.jumpTo({padding:w},Ne),this},i.prototype.rotateTo=function(Ne,et,tt){return this.easeTo(w.extend({bearing:Ne},et),tt)},i.prototype.resetNorth=function(Ne,et){return this.rotateTo(0,w.extend({duration:1e3},Ne),et),this},i.prototype.resetNorthPitch=function(Ne,et){return this.easeTo(w.extend({bearing:0,pitch:0,duration:1e3},Ne),et),this},i.prototype.snapToNorth=function(w,Ne){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(w,Ne):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(w,Ne){return this.jumpTo({pitch:w},Ne),this},i.prototype.cameraForBounds=function(Ne,et){return Ne=w.LngLatBounds.convert(Ne),this._cameraForBoxAndBearing(Ne.getNorthWest(),Ne.getSouthEast(),0,et)},i.prototype._cameraForBoxAndBearing=function(Ne,et,tt,nt){var rt={top:0,bottom:0,right:0,left:0};if("number"==typeof(nt=w.extend({padding:rt,offset:[0,0],maxZoom:this.transform.maxZoom},nt)).padding){var it=nt.padding;nt.padding={top:it,bottom:it,right:it,left:it}}nt.padding=w.extend(rt,nt.padding);var ot=this.transform,at=ot.padding,st=ot.project(w.LngLat.convert(Ne)),ct=ot.project(w.LngLat.convert(et)),pt=st.rotate(-tt*Math.PI/180),ft=ct.rotate(-tt*Math.PI/180),dt=new w.Point(Math.max(pt.x,ft.x),Math.max(pt.y,ft.y)),mt=new w.Point(Math.min(pt.x,ft.x),Math.min(pt.y,ft.y)),yt=dt.sub(mt),vt=(ot.width-(at.left+at.right+nt.padding.left+nt.padding.right))/yt.x,Ot=(ot.height-(at.top+at.bottom+nt.padding.top+nt.padding.bottom))/yt.y;if(!(Ot<0||vt<0)){var Dt=Math.min(ot.scaleZoom(ot.scale*Math.min(vt,Ot)),nt.maxZoom),Rt=w.Point.convert(nt.offset),Bt=new w.Point(Rt.x+(nt.padding.left-nt.padding.right)/2,Rt.y+(nt.padding.top-nt.padding.bottom)/2).mult(ot.scale/ot.zoomScale(Dt));return{center:ot.unproject(st.add(ct).div(2).sub(Bt)),zoom:Dt,bearing:tt}}w.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},i.prototype.fitBounds=function(w,Ne,et){return this._fitInternal(this.cameraForBounds(w,Ne),Ne,et)},i.prototype.fitScreenCoordinates=function(Ne,et,tt,nt,rt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(w.Point.convert(Ne)),this.transform.pointLocation(w.Point.convert(et)),tt,nt),nt,rt)},i.prototype._fitInternal=function(Ne,et,tt){return Ne?(delete(et=w.extend(Ne,et)).padding,et.linear?this.easeTo(et,tt):this.flyTo(et,tt)):this},i.prototype.jumpTo=function(Ne,et){this.stop();var tt=this.transform,nt=!1,rt=!1,it=!1;return"zoom"in Ne&&tt.zoom!==+Ne.zoom&&(nt=!0,tt.zoom=+Ne.zoom),void 0!==Ne.center&&(tt.center=w.LngLat.convert(Ne.center)),"bearing"in Ne&&tt.bearing!==+Ne.bearing&&(rt=!0,tt.bearing=+Ne.bearing),"pitch"in Ne&&tt.pitch!==+Ne.pitch&&(it=!0,tt.pitch=+Ne.pitch),null==Ne.padding||tt.isPaddingEqual(Ne.padding)||(tt.padding=Ne.padding),this.fire(new w.Event("movestart",et)).fire(new w.Event("move",et)),nt&&this.fire(new w.Event("zoomstart",et)).fire(new w.Event("zoom",et)).fire(new w.Event("zoomend",et)),rt&&this.fire(new w.Event("rotatestart",et)).fire(new w.Event("rotate",et)).fire(new w.Event("rotateend",et)),it&&this.fire(new w.Event("pitchstart",et)).fire(new w.Event("pitch",et)).fire(new w.Event("pitchend",et)),this.fire(new w.Event("moveend",et))},i.prototype.easeTo=function(Ne,et){var tt=this;this._stop(!1,Ne.easeId),(!1===(Ne=w.extend({offset:[0,0],duration:500,easing:w.ease},Ne)).animate||!Ne.essential&&w.browser.prefersReducedMotion)&&(Ne.duration=0);var nt=this.transform,rt=this.getZoom(),it=this.getBearing(),ot=this.getPitch(),at=this.getPadding(),st="zoom"in Ne?+Ne.zoom:rt,ct="bearing"in Ne?this._normalizeBearing(Ne.bearing,it):it,pt="pitch"in Ne?+Ne.pitch:ot,ft="padding"in Ne?Ne.padding:nt.padding,dt=w.Point.convert(Ne.offset),mt=nt.centerPoint.add(dt),yt=nt.pointLocation(mt),vt=w.LngLat.convert(Ne.center||yt);this._normalizeCenter(vt);var Ot,Dt,Rt=nt.project(yt),Bt=nt.project(vt).sub(Rt),rn=nt.zoomScale(st-rt);Ne.around&&(Ot=w.LngLat.convert(Ne.around),Dt=nt.locationPoint(Ot));var vn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||st!==rt,this._rotating=this._rotating||it!==ct,this._pitching=this._pitching||pt!==ot,this._padding=!nt.isPaddingEqual(ft),this._easeId=Ne.easeId,this._prepareEase(et,Ne.noMoveStart,vn),clearTimeout(this._easeEndTimeoutID),this._ease((function(Ne){if(tt._zooming&&(nt.zoom=w.number(rt,st,Ne)),tt._rotating&&(nt.bearing=w.number(it,ct,Ne)),tt._pitching&&(nt.pitch=w.number(ot,pt,Ne)),tt._padding&&(nt.interpolatePadding(at,ft,Ne),mt=nt.centerPoint.add(dt)),Ot)nt.setLocationAtPoint(Ot,Dt);else{var yt=nt.zoomScale(nt.zoom-rt),vt=st>rt?Math.min(2,rn):Math.max(.5,rn),vn=Math.pow(vt,1-Ne),bn=nt.unproject(Rt.add(Bt.mult(Ne*vn)).mult(yt));nt.setLocationAtPoint(nt.renderWorldCopies?bn.wrap():bn,mt)}tt._fireMoveEvents(et)}),(function(w){tt._afterEase(et,w)}),Ne),this},i.prototype._prepareEase=function(Ne,et,tt){void 0===tt&&(tt={}),this._moving=!0,et||tt.moving||this.fire(new w.Event("movestart",Ne)),this._zooming&&!tt.zooming&&this.fire(new w.Event("zoomstart",Ne)),this._rotating&&!tt.rotating&&this.fire(new w.Event("rotatestart",Ne)),this._pitching&&!tt.pitching&&this.fire(new w.Event("pitchstart",Ne))},i.prototype._fireMoveEvents=function(Ne){this.fire(new w.Event("move",Ne)),this._zooming&&this.fire(new w.Event("zoom",Ne)),this._rotating&&this.fire(new w.Event("rotate",Ne)),this._pitching&&this.fire(new w.Event("pitch",Ne))},i.prototype._afterEase=function(Ne,et){if(!this._easeId||!et||this._easeId!==et){delete this._easeId;var tt=this._zooming,nt=this._rotating,rt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,tt&&this.fire(new w.Event("zoomend",Ne)),nt&&this.fire(new w.Event("rotateend",Ne)),rt&&this.fire(new w.Event("pitchend",Ne)),this.fire(new w.Event("moveend",Ne))}},i.prototype.flyTo=function(Ne,et){var tt=this;if(!Ne.essential&&w.browser.prefersReducedMotion){var nt=w.pick(Ne,["center","zoom","bearing","pitch","around"]);return this.jumpTo(nt,et)}this.stop(),Ne=w.extend({offset:[0,0],speed:1.2,curve:1.42,easing:w.ease},Ne);var rt=this.transform,it=this.getZoom(),ot=this.getBearing(),at=this.getPitch(),st=this.getPadding(),ct="zoom"in Ne?w.clamp(+Ne.zoom,rt.minZoom,rt.maxZoom):it,pt="bearing"in Ne?this._normalizeBearing(Ne.bearing,ot):ot,ft="pitch"in Ne?+Ne.pitch:at,dt="padding"in Ne?Ne.padding:rt.padding,mt=rt.zoomScale(ct-it),yt=w.Point.convert(Ne.offset),vt=rt.centerPoint.add(yt),Ot=rt.pointLocation(vt),Dt=w.LngLat.convert(Ne.center||Ot);this._normalizeCenter(Dt);var Rt=rt.project(Ot),Bt=rt.project(Dt).sub(Rt),rn=Ne.curve,vn=Math.max(rt.width,rt.height),bn=vn/mt,Cn=Bt.mag();if("minZoom"in Ne){var Tn=w.clamp(Math.min(Ne.minZoom,it,ct),rt.minZoom,rt.maxZoom),In=vn/rt.zoomScale(Tn-it);rn=Math.sqrt(In/Cn*2)}var Mn=rn*rn;function C(w){var Ne=(bn*bn-vn*vn+(w?-1:1)*Mn*Mn*Cn*Cn)/(2*(w?bn:vn)*Mn*Cn);return Math.log(Math.sqrt(Ne*Ne+1)-Ne)}function z(w){return(Math.exp(w)-Math.exp(-w))/2}function D(w){return(Math.exp(w)+Math.exp(-w))/2}var zn=C(0),L=function(w){return D(zn)/D(zn+rn*w)},A=function(w){return vn*((D(zn)*(z(Ne=zn+rn*w)/D(Ne))-z(zn))/Mn)/Cn;var Ne},Ln=(C(1)-zn)/rn;if(Math.abs(Cn)<1e-6||!isFinite(Ln)){if(Math.abs(vn-bn)<1e-6)return this.easeTo(Ne,et);var Fn=bn<vn?-1:1;Ln=Math.abs(Math.log(bn/vn))/rn,A=function(){return 0},L=function(w){return Math.exp(Fn*rn*w)}}return Ne.duration="duration"in Ne?+Ne.duration:1e3*Ln/("screenSpeed"in Ne?+Ne.screenSpeed/rn:+Ne.speed),Ne.maxDuration&&Ne.duration>Ne.maxDuration&&(Ne.duration=0),this._zooming=!0,this._rotating=ot!==pt,this._pitching=ft!==at,this._padding=!rt.isPaddingEqual(dt),this._prepareEase(et,!1),this._ease((function(Ne){var nt=Ne*Ln,mt=1/L(nt);rt.zoom=1===Ne?ct:it+rt.scaleZoom(mt),tt._rotating&&(rt.bearing=w.number(ot,pt,Ne)),tt._pitching&&(rt.pitch=w.number(at,ft,Ne)),tt._padding&&(rt.interpolatePadding(st,dt,Ne),vt=rt.centerPoint.add(yt));var Ot=1===Ne?Dt:rt.unproject(Rt.add(Bt.mult(A(nt))).mult(mt));rt.setLocationAtPoint(rt.renderWorldCopies?Ot.wrap():Ot,vt),tt._fireMoveEvents(et)}),(function(){return tt._afterEase(et)}),Ne),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){return this._stop()},i.prototype._stop=function(w,Ne){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var et=this._onEaseEnd;delete this._onEaseEnd,et.call(this,Ne)}if(!w){var tt=this.handlers;tt&&tt.stop()}return this},i.prototype._ease=function(Ne,et,tt){!1===tt.animate||0===tt.duration?(Ne(1),et()):(this._easeStart=w.browser.now(),this._easeOptions=tt,this._onEaseFrame=Ne,this._onEaseEnd=et,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var Ne=Math.min((w.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(Ne)),Ne<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(Ne,et){Ne=w.wrap(Ne,-180,180);var tt=Math.abs(Ne-et);return Math.abs(Ne-360-et)<tt&&(Ne-=360),Math.abs(Ne+360-et)<tt&&(Ne+=360),Ne},i.prototype._normalizeCenter=function(w){var Ne=this.transform;if(Ne.renderWorldCopies&&!Ne.lngRange){var et=w.lng-Ne.center.lng;w.lng+=et>180?-360:et<-180?360:0}},i}(w.Evented),yr=function(Ne){void 0===Ne&&(Ne={}),this.options=Ne,w.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};yr.prototype.getDefaultPosition=function(){return"bottom-right"},yr.prototype.onAdd=function(w){var Ne=this.options&&this.options.compact;return this._map=w,this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=et.create("div","mapboxgl-ctrl-attrib-inner",this._container),Ne&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===Ne&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},yr.prototype.onRemove=function(){et.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},yr.prototype._updateEditLink=function(){var Ne=this._editLink;Ne||(Ne=this._editLink=this._container.querySelector(".mapbox-improve-map"));var et=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||w.config.ACCESS_TOKEN}];if(Ne){var tt=et.reduce((function(w,Ne,tt){return Ne.value&&(w+=Ne.key+"="+Ne.value+(tt<et.length-1?"&":"")),w}),"?");Ne.href=w.config.FEEDBACK_URL+"/"+tt+(this._map._hash?this._map._hash.getHashString(!0):""),Ne.rel="noopener nofollow"}},yr.prototype._updateData=function(w){!w||"metadata"!==w.sourceDataType&&"style"!==w.dataType||(this._updateAttributions(),this._updateEditLink())},yr.prototype._updateAttributions=function(){if(this._map.style){var w=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?w=w.concat(this.options.customAttribution.map((function(w){return"string"!=typeof w?"":w}))):"string"==typeof this.options.customAttribution&&w.push(this.options.customAttribution)),this._map.style.stylesheet){var Ne=this._map.style.stylesheet;this.styleOwner=Ne.owner,this.styleId=Ne.id}var et=this._map.style.sourceCaches;for(var tt in et){var nt=et[tt];if(nt.used){var rt=nt.getSource();rt.attribution&&w.indexOf(rt.attribution)<0&&w.push(rt.attribution)}}w.sort((function(w,Ne){return w.length-Ne.length}));var it=(w=w.filter((function(Ne,et){for(var tt=et+1;tt<w.length;tt++)if(w[tt].indexOf(Ne)>=0)return!1;return!0}))).join(" | ");it!==this._attribHTML&&(this._attribHTML=it,w.length?(this._innerContainer.innerHTML=it,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},yr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var xr=function(){w.bindAll(["_updateLogo"],this),w.bindAll(["_updateCompact"],this)};xr.prototype.onAdd=function(w){this._map=w,this._container=et.create("div","mapboxgl-ctrl");var Ne=et.create("a","mapboxgl-ctrl-logo");return Ne.target="_blank",Ne.rel="noopener nofollow",Ne.href="https://www.mapbox.com/",Ne.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Ne.setAttribute("rel","noopener nofollow"),this._container.appendChild(Ne),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},xr.prototype.onRemove=function(){et.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},xr.prototype.getDefaultPosition=function(){return"bottom-left"},xr.prototype._updateLogo=function(w){w&&"metadata"!==w.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},xr.prototype._logoRequired=function(){if(this._map.style){var w=this._map.style.sourceCaches;for(var Ne in w)if(w[Ne].getSource().mapbox_logo)return!0;return!1}},xr.prototype._updateCompact=function(){var w=this._container.children;if(w.length){var Ne=w[0];this._map.getCanvasContainer().offsetWidth<250?Ne.classList.add("mapboxgl-compact"):Ne.classList.remove("mapboxgl-compact")}};var br=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};br.prototype.add=function(w){var Ne=++this._id;return this._queue.push({callback:w,id:Ne,cancelled:!1}),Ne},br.prototype.remove=function(w){for(var Ne=this._currentlyRunning,et=0,tt=Ne?this._queue.concat(Ne):this._queue;et<tt.length;et+=1){var nt=tt[et];if(nt.id===w)return void(nt.cancelled=!0)}},br.prototype.run=function(w){void 0===w&&(w=0);var Ne=this._currentlyRunning=this._queue;this._queue=[];for(var et=0,tt=Ne;et<tt.length;et+=1){var nt=tt[et];if(!nt.cancelled&&(nt.callback(w),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},br.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var rp={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ip=w.window.HTMLImageElement,op=w.window.HTMLElement,ap=w.window.ImageBitmap,sp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},lp=function(tt){function r(Ne){var et=this;if(null!=(Ne=w.extend({},sp,Ne)).minZoom&&null!=Ne.maxZoom&&Ne.minZoom>Ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=Ne.minPitch&&null!=Ne.maxPitch&&Ne.minPitch>Ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=Ne.minPitch&&Ne.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=Ne.maxPitch&&Ne.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var nt=new To(Ne.minZoom,Ne.maxZoom,Ne.minPitch,Ne.maxPitch,Ne.renderWorldCopies);if(tt.call(this,nt,Ne),this._interactive=Ne.interactive,this._maxTileCacheSize=Ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=Ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=Ne.preserveDrawingBuffer,this._antialias=Ne.antialias,this._trackResize=Ne.trackResize,this._bearingSnap=Ne.bearingSnap,this._refreshExpiredTiles=Ne.refreshExpiredTiles,this._fadeDuration=Ne.fadeDuration,this._crossSourceCollisions=Ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=Ne.collectResourceTiming,this._renderTaskQueue=new br,this._controls=[],this._mapId=w.uniqueId(),this._locale=w.extend({},rp,Ne.locale),this._requestManager=new w.RequestManager(Ne.transformRequest,Ne.accessToken),"string"==typeof Ne.container){if(this._container=w.window.document.getElementById(Ne.container),!this._container)throw new Error("Container '"+Ne.container+"' not found.")}else{if(!(Ne.container instanceof op))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=Ne.container}if(Ne.maxBounds&&this.setMaxBounds(Ne.maxBounds),w.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return et._update(!1)})),this.on("moveend",(function(){return et._update(!1)})),this.on("zoom",(function(){return et._update(!0)})),void 0!==w.window&&(w.window.addEventListener("online",this._onWindowOnline,!1),w.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new gr(this,Ne),this._hash=Ne.hash&&new Io("string"==typeof Ne.hash&&Ne.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:Ne.center,zoom:Ne.zoom,bearing:Ne.bearing,pitch:Ne.pitch}),Ne.bounds&&(this.resize(),this.fitBounds(Ne.bounds,w.extend({},Ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=Ne.localIdeographFontFamily,Ne.style&&this.setStyle(Ne.style,{localIdeographFontFamily:Ne.localIdeographFontFamily}),Ne.attributionControl&&this.addControl(new yr({customAttribution:Ne.customAttribution})),this.addControl(new xr,Ne.logoPosition),this.on("style.load",(function(){et.transform.unmodified&&et.jumpTo(et.style.stylesheet)})),this.on("data",(function(Ne){et._update("style"===Ne.dataType),et.fire(new w.Event(Ne.dataType+"data",Ne))})),this.on("dataloading",(function(Ne){et.fire(new w.Event(Ne.dataType+"dataloading",Ne))}))}tt&&(r.__proto__=tt),(r.prototype=Object.create(tt&&tt.prototype)).constructor=r;var nt={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(Ne,et){if(void 0===et&&Ne.getDefaultPosition&&(et=Ne.getDefaultPosition()),void 0===et&&(et="top-right"),!Ne||!Ne.onAdd)return this.fire(new w.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var tt=Ne.onAdd(this);this._controls.push(Ne);var nt=this._controlPositions[et];return-1!==et.indexOf("bottom")?nt.insertBefore(tt,nt.firstChild):nt.appendChild(tt),this},r.prototype.removeControl=function(Ne){if(!Ne||!Ne.onRemove)return this.fire(new w.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var et=this._controls.indexOf(Ne);return et>-1&&this._controls.splice(et,1),Ne.onRemove(this),this},r.prototype.resize=function(Ne){var et=this._containerDimensions(),tt=et[0],nt=et[1];this._resizeCanvas(tt,nt),this.transform.resize(tt,nt),this.painter.resize(tt,nt);var rt=!this._moving;return rt&&(this.stop(),this.fire(new w.Event("movestart",Ne)).fire(new w.Event("move",Ne))),this.fire(new w.Event("resize",Ne)),rt&&this.fire(new w.Event("moveend",Ne)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(Ne){return this.transform.setMaxBounds(w.LngLatBounds.convert(Ne)),this._update()},r.prototype.setMinZoom=function(w){if((w=null==w?-2:w)>=-2&&w<=this.transform.maxZoom)return this.transform.minZoom=w,this._update(),this.getZoom()<w&&this.setZoom(w),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(w){if((w=null==w?22:w)>=this.transform.minZoom)return this.transform.maxZoom=w,this._update(),this.getZoom()>w&&this.setZoom(w),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(w){if((w=null==w?0:w)<0)throw new Error("minPitch must be greater than or equal to 0");if(w>=0&&w<=this.transform.maxPitch)return this.transform.minPitch=w,this._update(),this.getPitch()<w&&this.setPitch(w),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(w){if((w=null==w?60:w)>60)throw new Error("maxPitch must be less than or equal to 60");if(w>=this.transform.minPitch)return this.transform.maxPitch=w,this._update(),this.getPitch()>w&&this.setPitch(w),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(w){return this.transform.renderWorldCopies=w,this._update()},r.prototype.project=function(Ne){return this.transform.locationPoint(w.LngLat.convert(Ne))},r.prototype.unproject=function(Ne){return this.transform.pointLocation(w.Point.convert(Ne))},r.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},r.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},r.prototype._createDelegatedListener=function(w,Ne,et){var tt,nt=this;if("mouseenter"===w||"mouseover"===w){var rt=!1;return{layer:Ne,listener:et,delegates:{mousemove:function(tt){var it=nt.getLayer(Ne)?nt.queryRenderedFeatures(tt.point,{layers:[Ne]}):[];it.length?rt||(rt=!0,et.call(nt,new Ic(w,nt,tt.originalEvent,{features:it}))):rt=!1},mouseout:function(){rt=!1}}}}if("mouseleave"===w||"mouseout"===w){var it=!1;return{layer:Ne,listener:et,delegates:{mousemove:function(tt){(nt.getLayer(Ne)?nt.queryRenderedFeatures(tt.point,{layers:[Ne]}):[]).length?it=!0:it&&(it=!1,et.call(nt,new Ic(w,nt,tt.originalEvent)))},mouseout:function(Ne){it&&(it=!1,et.call(nt,new Ic(w,nt,Ne.originalEvent)))}}}}return{layer:Ne,listener:et,delegates:(tt={},tt[w]=function(w){var tt=nt.getLayer(Ne)?nt.queryRenderedFeatures(w.point,{layers:[Ne]}):[];tt.length&&(w.features=tt,et.call(nt,w),delete w.features)},tt)}},r.prototype.on=function(w,Ne,et){if(void 0===et)return tt.prototype.on.call(this,w,Ne);var nt=this._createDelegatedListener(w,Ne,et);for(var rt in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[w]=this._delegatedListeners[w]||[],this._delegatedListeners[w].push(nt),nt.delegates)this.on(rt,nt.delegates[rt]);return this},r.prototype.once=function(w,Ne,et){if(void 0===et)return tt.prototype.once.call(this,w,Ne);var nt=this._createDelegatedListener(w,Ne,et);for(var rt in nt.delegates)this.once(rt,nt.delegates[rt]);return this},r.prototype.off=function(w,Ne,et){var nt=this;return void 0===et?tt.prototype.off.call(this,w,Ne):(this._delegatedListeners&&this._delegatedListeners[w]&&function(tt){for(var rt=tt[w],it=0;it<rt.length;it++){var ot=rt[it];if(ot.layer===Ne&&ot.listener===et){for(var at in ot.delegates)nt.off(at,ot.delegates[at]);return rt.splice(it,1),nt}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(Ne,et){if(!this.style)return[];var tt;if(void 0!==et||void 0===Ne||Ne instanceof w.Point||Array.isArray(Ne)||(et=Ne,Ne=void 0),et=et||{},(Ne=Ne||[[0,0],[this.transform.width,this.transform.height]])instanceof w.Point||"number"==typeof Ne[0])tt=[w.Point.convert(Ne)];else{var nt=w.Point.convert(Ne[0]),rt=w.Point.convert(Ne[1]);tt=[nt,new w.Point(rt.x,nt.y),rt,new w.Point(nt.x,rt.y),nt]}return this.style.queryRenderedFeatures(tt,et,this.transform)},r.prototype.querySourceFeatures=function(w,Ne){return this.style.querySourceFeatures(w,Ne)},r.prototype.setStyle=function(Ne,et){return!1!==(et=w.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},et)).diff&&et.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&Ne?(this._diffStyle(Ne,et),this):(this._localIdeographFontFamily=et.localIdeographFontFamily,this._updateStyle(Ne,et))},r.prototype._getUIString=function(w){var Ne=this._locale[w];if(null==Ne)throw new Error("Missing UI string '"+w+"'");return Ne},r.prototype._updateStyle=function(w,Ne){return this.style&&(this.style.setEventedParent(null),this.style._remove()),w?(this.style=new Rs(this,Ne||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof w?this.style.loadURL(w):this.style.loadJSON(w),this):(delete this.style,this)},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Rs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(Ne,et){var tt=this;if("string"==typeof Ne){var nt=this._requestManager.normalizeStyleURL(Ne),rt=this._requestManager.transformRequest(nt,w.ResourceType.Style);w.getJSON(rt,(function(Ne,nt){Ne?tt.fire(new w.ErrorEvent(Ne)):nt&&tt._updateDiff(nt,et)}))}else"object"==typeof Ne&&this._updateDiff(Ne,et)},r.prototype._updateDiff=function(Ne,et){try{this.style.setState(Ne)&&this._update(!0)}catch(tt){w.warnOnce("Unable to perform style diff: "+(tt.message||tt.error||tt)+".  Rebuilding the style from scratch."),this._updateStyle(Ne,et)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():w.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(w,Ne){return this._lazyInitEmptyStyle(),this.style.addSource(w,Ne),this._update(!0)},r.prototype.isSourceLoaded=function(Ne){var et=this.style&&this.style.sourceCaches[Ne];if(void 0!==et)return et.loaded();this.fire(new w.ErrorEvent(new Error("There is no source with ID '"+Ne+"'")))},r.prototype.areTilesLoaded=function(){var w=this.style&&this.style.sourceCaches;for(var Ne in w){var et=w[Ne]._tiles;for(var tt in et){var nt=et[tt];if("loaded"!==nt.state&&"errored"!==nt.state)return!1}}return!0},r.prototype.addSourceType=function(w,Ne,et){return this._lazyInitEmptyStyle(),this.style.addSourceType(w,Ne,et)},r.prototype.removeSource=function(w){return this.style.removeSource(w),this._update(!0)},r.prototype.getSource=function(w){return this.style.getSource(w)},r.prototype.addImage=function(Ne,et,tt){void 0===tt&&(tt={});var nt=tt.pixelRatio;void 0===nt&&(nt=1);var rt=tt.sdf;void 0===rt&&(rt=!1);var it=tt.stretchX,ot=tt.stretchY,at=tt.content;if(this._lazyInitEmptyStyle(),et instanceof ip||ap&&et instanceof ap){var st=w.browser.getImageData(et);this.style.addImage(Ne,{data:new w.RGBAImage({width:st.width,height:st.height},st.data),pixelRatio:nt,stretchX:it,stretchY:ot,content:at,sdf:rt,version:0})}else{if(void 0===et.width||void 0===et.height)return this.fire(new w.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ct=et;this.style.addImage(Ne,{data:new w.RGBAImage({width:et.width,height:et.height},new Uint8Array(et.data)),pixelRatio:nt,stretchX:it,stretchY:ot,content:at,sdf:rt,version:0,userImage:ct}),ct.onAdd&&ct.onAdd(this,Ne)}},r.prototype.updateImage=function(Ne,et){var tt=this.style.getImage(Ne);if(!tt)return this.fire(new w.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var nt=et instanceof ip||ap&&et instanceof ap?w.browser.getImageData(et):et,rt=nt.width,it=nt.height,ot=nt.data;return void 0===rt||void 0===it?this.fire(new w.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):rt!==tt.data.width||it!==tt.data.height?this.fire(new w.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(tt.data.replace(ot,!(et instanceof ip||ap&&et instanceof ap)),void this.style.updateImage(Ne,tt))},r.prototype.hasImage=function(Ne){return Ne?!!this.style.getImage(Ne):(this.fire(new w.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(w){this.style.removeImage(w)},r.prototype.loadImage=function(Ne,et){w.getImage(this._requestManager.transformRequest(Ne,w.ResourceType.Image),et)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(w,Ne){return this._lazyInitEmptyStyle(),this.style.addLayer(w,Ne),this._update(!0)},r.prototype.moveLayer=function(w,Ne){return this.style.moveLayer(w,Ne),this._update(!0)},r.prototype.removeLayer=function(w){return this.style.removeLayer(w),this._update(!0)},r.prototype.getLayer=function(w){return this.style.getLayer(w)},r.prototype.setLayerZoomRange=function(w,Ne,et){return this.style.setLayerZoomRange(w,Ne,et),this._update(!0)},r.prototype.setFilter=function(w,Ne,et){return void 0===et&&(et={}),this.style.setFilter(w,Ne,et),this._update(!0)},r.prototype.getFilter=function(w){return this.style.getFilter(w)},r.prototype.setPaintProperty=function(w,Ne,et,tt){return void 0===tt&&(tt={}),this.style.setPaintProperty(w,Ne,et,tt),this._update(!0)},r.prototype.getPaintProperty=function(w,Ne){return this.style.getPaintProperty(w,Ne)},r.prototype.setLayoutProperty=function(w,Ne,et,tt){return void 0===tt&&(tt={}),this.style.setLayoutProperty(w,Ne,et,tt),this._update(!0)},r.prototype.getLayoutProperty=function(w,Ne){return this.style.getLayoutProperty(w,Ne)},r.prototype.setLight=function(w,Ne){return void 0===Ne&&(Ne={}),this._lazyInitEmptyStyle(),this.style.setLight(w,Ne),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(w,Ne){return this.style.setFeatureState(w,Ne),this._update()},r.prototype.removeFeatureState=function(w,Ne){return this.style.removeFeatureState(w,Ne),this._update()},r.prototype.getFeatureState=function(w){return this.style.getFeatureState(w)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var w=0,Ne=0;return this._container&&(w=this._container.clientWidth||400,Ne=this._container.clientHeight||300),[w,Ne]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==w.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&w.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var w=this._container;w.classList.add("mapboxgl-map"),(this._missingCSSCanary=et.create("div","mapboxgl-canary",w)).style.visibility="hidden",this._detectMissingCSS();var Ne=this._canvasContainer=et.create("div","mapboxgl-canvas-container",w);this._interactive&&Ne.classList.add("mapboxgl-interactive"),this._canvas=et.create("canvas","mapboxgl-canvas",Ne),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var tt=this._containerDimensions();this._resizeCanvas(tt[0],tt[1]);var nt=this._controlContainer=et.create("div","mapboxgl-control-container",w),rt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(w){rt[w]=et.create("div","mapboxgl-ctrl-"+w,nt)}))},r.prototype._resizeCanvas=function(Ne,et){var tt=w.browser.devicePixelRatio||1;this._canvas.width=tt*Ne,this._canvas.height=tt*et,this._canvas.style.width=Ne+"px",this._canvas.style.height=et+"px"},r.prototype._setupPainter=function(){var et=w.extend({},Ne.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),tt=this._canvas.getContext("webgl",et)||this._canvas.getContext("experimental-webgl",et);tt?(this.painter=new yo(tt,this.transform),w.webpSupported.testSupport(tt)):this.fire(new w.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(Ne){Ne.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new w.Event("webglcontextlost",{originalEvent:Ne}))},r.prototype._contextRestored=function(Ne){this._setupPainter(),this.resize(),this._update(),this.fire(new w.Event("webglcontextrestored",{originalEvent:Ne}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(w){return this.style?(this._styleDirty=this._styleDirty||w,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(w){return this._update(),this._renderTaskQueue.add(w)},r.prototype._cancelRenderFrame=function(w){this._renderTaskQueue.remove(w)},r.prototype._render=function(Ne){var et,tt=this,nt=0,rt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(et=rt.createQueryEXT(),rt.beginQueryEXT(rt.TIME_ELAPSED_EXT,et),nt=w.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(Ne),!this._removed){var it=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ot=this.transform.zoom,at=w.browser.now();this.style.zoomHistory.update(ot,at);var st=new w.EvaluationParameters(ot,{now:at,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ct=st.crossFadingFactor();1===ct&&ct===this._crossFadingFactor||(it=!0,this._crossFadingFactor=ct),this.style.update(st)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new w.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new w.Event("load"))),this.style&&(this.style.hasTransitions()||it)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var pt=w.browser.now()-nt;rt.endQueryEXT(rt.TIME_ELAPSED_EXT,et),setTimeout((function(){var Ne=rt.getQueryObjectEXT(et,rt.QUERY_RESULT_EXT)/1e6;rt.deleteQueryEXT(et),tt.fire(new w.Event("gpu-timing-frame",{cpuTime:pt,gpuTime:Ne}))}),50)}if(this.listens("gpu-timing-layer")){var ft=this.painter.collectGpuTimers();setTimeout((function(){var Ne=tt.painter.queryGpuTimers(ft);tt.fire(new w.Event("gpu-timing-layer",{layerTimes:Ne}))}),50)}var dt=this._sourcesDirty||this._styleDirty||this._placementDirty;return dt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new w.Event("idle")),!this._loaded||this._fullyLoaded||dt||(this._fullyLoaded=!0),this}},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var Ne=0,et=this._controls;Ne<et.length;Ne+=1)et[Ne].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==w.window&&(w.window.removeEventListener("resize",this._onWindowResize,!1),w.window.removeEventListener("online",this._onWindowOnline,!1));var tt=this.painter.context.gl.getExtension("WEBGL_lose_context");tt&&tt.loseContext(),Cr(this._canvasContainer),Cr(this._controlContainer),Cr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new w.Event("remove"))},r.prototype.triggerRepaint=function(){var Ne=this;this.style&&!this._frame&&(this._frame=w.browser.frame((function(w){Ne._frame=null,Ne._render(w)})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(w){this._trackResize&&this.resize({originalEvent:w})._update()},nt.showTileBoundaries.get=function(){return!!this._showTileBoundaries},nt.showTileBoundaries.set=function(w){this._showTileBoundaries!==w&&(this._showTileBoundaries=w,this._update())},nt.showPadding.get=function(){return!!this._showPadding},nt.showPadding.set=function(w){this._showPadding!==w&&(this._showPadding=w,this._update())},nt.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},nt.showCollisionBoxes.set=function(w){this._showCollisionBoxes!==w&&(this._showCollisionBoxes=w,w?this.style._generateCollisionBoxes():this._update())},nt.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},nt.showOverdrawInspector.set=function(w){this._showOverdrawInspector!==w&&(this._showOverdrawInspector=w,this._update())},nt.repaint.get=function(){return!!this._repaint},nt.repaint.set=function(w){this._repaint!==w&&(this._repaint=w,this.triggerRepaint())},nt.vertices.get=function(){return!!this._vertices},nt.vertices.set=function(w){this._vertices=w,this._update()},r.prototype._setCacheLimits=function(Ne,et){w.setCacheLimits(Ne,et)},nt.version.get=function(){return w.version},Object.defineProperties(r.prototype,nt),r}(Yc);function Cr(w){w.parentNode&&w.parentNode.removeChild(w)}var cp={showCompass:!0,showZoom:!0,visualizePitch:!1},Dr=function(Ne){var tt=this;this.options=w.extend({},cp,Ne),this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(w){return w.preventDefault()})),this.options.showZoom&&(w.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(w){return tt._map.zoomIn({},{originalEvent:w})})),et.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(w){return tt._map.zoomOut({},{originalEvent:w})})),et.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(w.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(w){tt.options.visualizePitch?tt._map.resetNorthPitch({},{originalEvent:w}):tt._map.resetNorth({},{originalEvent:w})})),this._compassIcon=et.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Dr.prototype._updateZoomButtons=function(){var w=this._map.getZoom();this._zoomInButton.disabled=w===this._map.getMaxZoom(),this._zoomOutButton.disabled=w===this._map.getMinZoom()},Dr.prototype._rotateCompassArrow=function(){var w=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=w},Dr.prototype.onAdd=function(w){return this._map=w,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Mr(this._map,this._compass,this.options.visualizePitch)),this._container},Dr.prototype.onRemove=function(){et.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Dr.prototype._createButton=function(w,Ne){var tt=et.create("button",w,this._container);return tt.type="button",tt.addEventListener("click",Ne),tt},Dr.prototype._setButtonTitle=function(w,Ne){var et=this._map._getUIString("NavigationControl."+Ne);w.title=et,w.setAttribute("aria-label",et)};var Mr=function(Ne,tt,nt){void 0===nt&&(nt=!1),this._clickTolerance=10,this.element=tt,this.mouseRotate=new Bc({clickTolerance:Ne.dragRotate._mouseRotate._clickTolerance}),this.map=Ne,nt&&(this.mousePitch=new Wc({clickTolerance:Ne.dragRotate._mousePitch._clickTolerance})),w.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),et.addEventListener(tt,"mousedown",this.mousedown),et.addEventListener(tt,"touchstart",this.touchstart,{passive:!1}),et.addEventListener(tt,"touchmove",this.touchmove),et.addEventListener(tt,"touchend",this.touchend),et.addEventListener(tt,"touchcancel",this.reset)};function Lr(Ne,et,tt){if(Ne=new w.LngLat(Ne.lng,Ne.lat),et){var nt=new w.LngLat(Ne.lng-360,Ne.lat),rt=new w.LngLat(Ne.lng+360,Ne.lat),it=tt.locationPoint(Ne).distSqr(et);tt.locationPoint(nt).distSqr(et)<it?Ne=nt:tt.locationPoint(rt).distSqr(et)<it&&(Ne=rt)}for(;Math.abs(Ne.lng-tt.center.lng)>180;){var ot=tt.locationPoint(Ne);if(ot.x>=0&&ot.y>=0&&ot.x<=tt.width&&ot.y<=tt.height)break;Ne.lng>tt.center.lng?Ne.lng-=360:Ne.lng+=360}return Ne}Mr.prototype.down=function(w,Ne){this.mouseRotate.mousedown(w,Ne),this.mousePitch&&this.mousePitch.mousedown(w,Ne),et.disableDrag()},Mr.prototype.move=function(w,Ne){var et=this.map,tt=this.mouseRotate.mousemoveWindow(w,Ne);if(tt&&tt.bearingDelta&&et.setBearing(et.getBearing()+tt.bearingDelta),this.mousePitch){var nt=this.mousePitch.mousemoveWindow(w,Ne);nt&&nt.pitchDelta&&et.setPitch(et.getPitch()+nt.pitchDelta)}},Mr.prototype.off=function(){var w=this.element;et.removeEventListener(w,"mousedown",this.mousedown),et.removeEventListener(w,"touchstart",this.touchstart,{passive:!1}),et.removeEventListener(w,"touchmove",this.touchmove),et.removeEventListener(w,"touchend",this.touchend),et.removeEventListener(w,"touchcancel",this.reset),this.offTemp()},Mr.prototype.offTemp=function(){et.enableDrag(),et.removeEventListener(w.window,"mousemove",this.mousemove),et.removeEventListener(w.window,"mouseup",this.mouseup)},Mr.prototype.mousedown=function(Ne){this.down(w.extend({},Ne,{ctrlKey:!0,preventDefault:function(){return Ne.preventDefault()}}),et.mousePos(this.element,Ne)),et.addEventListener(w.window,"mousemove",this.mousemove),et.addEventListener(w.window,"mouseup",this.mouseup)},Mr.prototype.mousemove=function(w){this.move(w,et.mousePos(this.element,w))},Mr.prototype.mouseup=function(w){this.mouseRotate.mouseupWindow(w),this.mousePitch&&this.mousePitch.mouseupWindow(w),this.offTemp()},Mr.prototype.touchstart=function(w){1!==w.targetTouches.length?this.reset():(this._startPos=this._lastPos=et.touchPos(this.element,w.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return w.preventDefault()}},this._startPos))},Mr.prototype.touchmove=function(w){1!==w.targetTouches.length?this.reset():(this._lastPos=et.touchPos(this.element,w.targetTouches)[0],this.move({preventDefault:function(){return w.preventDefault()}},this._lastPos))},Mr.prototype.touchend=function(w){0===w.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Mr.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var pp={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rr(w,Ne,et){var tt=w.classList;for(var nt in pp)tt.remove("mapboxgl-"+et+"-anchor-"+nt);tt.add("mapboxgl-"+et+"-anchor-"+Ne)}var hp,fp=function(Ne){function o(tt,nt){var rt=this;if(Ne.call(this),(tt instanceof w.window.HTMLElement||nt)&&(tt=w.extend({element:tt},nt)),w.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=tt&&tt.anchor||"center",this._color=tt&&tt.color||"#3FB1CE",this._scale=tt&&tt.scale||1,this._draggable=tt&&tt.draggable||!1,this._state="inactive",this._rotation=tt&&tt.rotation||0,this._rotationAlignment=tt&&tt.rotationAlignment||"auto",this._pitchAlignment=tt&&tt.pitchAlignment&&"auto"!==tt.pitchAlignment?tt.pitchAlignment:this._rotationAlignment,tt&&tt.element)this._element=tt.element,this._offset=w.Point.convert(tt&&tt.offset||[0,0]);else{this._defaultMarker=!0,this._element=et.create("div"),this._element.setAttribute("aria-label","Map marker");var it=et.createNS("http://www.w3.org/2000/svg","svg");it.setAttributeNS(null,"display","block"),it.setAttributeNS(null,"height","41px"),it.setAttributeNS(null,"width","27px"),it.setAttributeNS(null,"viewBox","0 0 27 41");var ot=et.createNS("http://www.w3.org/2000/svg","g");ot.setAttributeNS(null,"stroke","none"),ot.setAttributeNS(null,"stroke-width","1"),ot.setAttributeNS(null,"fill","none"),ot.setAttributeNS(null,"fill-rule","evenodd");var at=et.createNS("http://www.w3.org/2000/svg","g");at.setAttributeNS(null,"fill-rule","nonzero");var st=et.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"transform","translate(3.0, 29.0)"),st.setAttributeNS(null,"fill","#000000");for(var ct=0,pt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ct<pt.length;ct+=1){var ft=pt[ct],dt=et.createNS("http://www.w3.org/2000/svg","ellipse");dt.setAttributeNS(null,"opacity","0.04"),dt.setAttributeNS(null,"cx","10.5"),dt.setAttributeNS(null,"cy","5.80029008"),dt.setAttributeNS(null,"rx",ft.rx),dt.setAttributeNS(null,"ry",ft.ry),st.appendChild(dt)}var mt=et.createNS("http://www.w3.org/2000/svg","g");mt.setAttributeNS(null,"fill",this._color);var yt=et.createNS("http://www.w3.org/2000/svg","path");yt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),mt.appendChild(yt);var vt=et.createNS("http://www.w3.org/2000/svg","g");vt.setAttributeNS(null,"opacity","0.25"),vt.setAttributeNS(null,"fill","#000000");var Ot=et.createNS("http://www.w3.org/2000/svg","path");Ot.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),vt.appendChild(Ot);var Dt=et.createNS("http://www.w3.org/2000/svg","g");Dt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Dt.setAttributeNS(null,"fill","#FFFFFF");var Rt=et.createNS("http://www.w3.org/2000/svg","g");Rt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Bt=et.createNS("http://www.w3.org/2000/svg","circle");Bt.setAttributeNS(null,"fill","#000000"),Bt.setAttributeNS(null,"opacity","0.25"),Bt.setAttributeNS(null,"cx","5.5"),Bt.setAttributeNS(null,"cy","5.5"),Bt.setAttributeNS(null,"r","5.4999962");var rn=et.createNS("http://www.w3.org/2000/svg","circle");rn.setAttributeNS(null,"fill","#FFFFFF"),rn.setAttributeNS(null,"cx","5.5"),rn.setAttributeNS(null,"cy","5.5"),rn.setAttributeNS(null,"r","5.4999962"),Rt.appendChild(Bt),Rt.appendChild(rn),at.appendChild(st),at.appendChild(mt),at.appendChild(vt),at.appendChild(Dt),at.appendChild(Rt),it.appendChild(at),it.setAttributeNS(null,"height",41*this._scale+"px"),it.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(it),this._offset=w.Point.convert(tt&&tt.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(w){w.preventDefault()})),this._element.addEventListener("mousedown",(function(w){w.preventDefault()})),this._element.addEventListener("focus",(function(){var w=rt._map.getContainer();w.scrollTop=0,w.scrollLeft=0})),Rr(this._element,this._anchor,"marker"),this._popup=null}return Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o,o.prototype.addTo=function(w){return this.remove(),this._map=w,w.getCanvasContainer().appendChild(this._element),w.on("move",this._update),w.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},o.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),et.remove(this._element),this._popup&&this._popup.remove(),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(Ne){return this._lngLat=w.LngLat.convert(Ne),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},o.prototype.getElement=function(){return this._element},o.prototype.setPopup=function(w){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),w){if(!("offset"in w.options)){var Ne=Math.sqrt(Math.pow(13.5,2)/2);w.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[Ne,-1*(24.6+Ne)],"bottom-right":[-Ne,-1*(24.6+Ne)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=w,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},o.prototype._onKeyPress=function(w){var Ne=w.code,et=w.charCode||w.keyCode;"Space"!==Ne&&"Enter"!==Ne&&32!==et&&13!==et||this.togglePopup()},o.prototype._onMapClick=function(w){var Ne=w.originalEvent.target,et=this._element;this._popup&&(Ne===et||et.contains(Ne))&&this.togglePopup()},o.prototype.getPopup=function(){return this._popup},o.prototype.togglePopup=function(){var w=this._popup;return w?(w.isOpen()?w.remove():w.addTo(this._map),this):this},o.prototype._update=function(w){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var Ne="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?Ne="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(Ne="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var tt="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?tt="rotateX(0deg)":"map"===this._pitchAlignment&&(tt="rotateX("+this._map.getPitch()+"deg)"),w&&"moveend"!==w.type||(this._pos=this._pos.round()),et.setTransform(this._element,pp[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+tt+" "+Ne)}},o.prototype.getOffset=function(){return this._offset},o.prototype.setOffset=function(Ne){return this._offset=w.Point.convert(Ne),this._update(),this},o.prototype._onMove=function(Ne){this._pos=Ne.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new w.Event("dragstart"))),this.fire(new w.Event("drag"))},o.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new w.Event("dragend")),this._state="inactive"},o.prototype._addDragHandler=function(w){this._element.contains(w.originalEvent.target)&&(w.preventDefault(),this._positionDelta=w.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},o.prototype.setDraggable=function(w){return this._draggable=!!w,this._map&&(w?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},o.prototype.isDraggable=function(){return this._draggable},o.prototype.setRotation=function(w){return this._rotation=w||0,this._update(),this},o.prototype.getRotation=function(){return this._rotation},o.prototype.setRotationAlignment=function(w){return this._rotationAlignment=w||"auto",this._update(),this},o.prototype.getRotationAlignment=function(){return this._rotationAlignment},o.prototype.setPitchAlignment=function(w){return this._pitchAlignment=w&&"auto"!==w?w:this._rotationAlignment,this._update(),this},o.prototype.getPitchAlignment=function(){return this._pitchAlignment},o}(w.Evented),dp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},mp=0,yp=!1,gp=function(Ne){function o(et){Ne.call(this),this.options=w.extend({},dp,et),w.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o,o.prototype.onAdd=function(Ne){var tt;return this._map=Ne,this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),tt=this._setupUI,void 0!==hp?tt(hp):void 0!==w.window.navigator.permissions?w.window.navigator.permissions.query({name:"geolocation"}).then((function(w){tt(hp="denied"!==w.state)})):tt(hp=!!w.window.navigator.geolocation),this._container},o.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(w.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),et.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,mp=0,yp=!1},o.prototype._isOutOfMapMaxBounds=function(w){var Ne=this._map.getMaxBounds(),et=w.coords;return Ne&&(et.longitude<Ne.getWest()||et.longitude>Ne.getEast()||et.latitude<Ne.getSouth()||et.latitude>Ne.getNorth())},o.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},o.prototype._onSuccess=function(Ne){if(this._map){if(this._isOutOfMapMaxBounds(Ne))return this._setErrorState(),this.fire(new w.Event("outofmaxbounds",Ne)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=Ne,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(Ne),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(Ne),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new w.Event("geolocate",Ne)),this._finish()}},o.prototype._updateCamera=function(Ne){var et=new w.LngLat(Ne.coords.longitude,Ne.coords.latitude),tt=Ne.coords.accuracy,nt=this._map.getBearing(),rt=w.extend({bearing:nt},this.options.fitBoundsOptions);this._map.fitBounds(et.toBounds(tt),rt,{geolocateSource:!0})},o.prototype._updateMarker=function(Ne){if(Ne){var et=new w.LngLat(Ne.coords.longitude,Ne.coords.latitude);this._accuracyCircleMarker.setLngLat(et).addTo(this._map),this._userLocationDotMarker.setLngLat(et).addTo(this._map),this._accuracy=Ne.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},o.prototype._updateCircleRadius=function(){var w=this._map._container.clientHeight/2,Ne=this._map.unproject([0,w]),et=this._map.unproject([1,w]),tt=Ne.distanceTo(et),nt=Math.ceil(2*this._accuracy/tt);this._circleElement.style.width=nt+"px",this._circleElement.style.height=nt+"px"},o.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},o.prototype._onError=function(Ne){if(this._map){if(this.options.trackUserLocation)if(1===Ne.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var et=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=et,this._geolocateButton.setAttribute("aria-label",et),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===Ne.code&&yp)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new w.Event("error",Ne)),this._finish()}},o.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},o.prototype._setupUI=function(Ne){var tt=this;if(this._container.addEventListener("contextmenu",(function(w){return w.preventDefault()})),this._geolocateButton=et.create("button","mapboxgl-ctrl-geolocate",this._container),et.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===Ne){w.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var nt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=nt,this._geolocateButton.setAttribute("aria-label",nt)}else{var rt=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=rt,this._geolocateButton.setAttribute("aria-label",rt)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=et.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new fp(this._dotElement),this._circleElement=et.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fp({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(Ne){Ne.geolocateSource||"ACTIVE_LOCK"!==tt._watchState||Ne.originalEvent&&"resize"===Ne.originalEvent.type||(tt._watchState="BACKGROUND",tt._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),tt._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),tt.fire(new w.Event("trackuserlocationend")))}))},o.prototype.trigger=function(){if(!this._setup)return w.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new w.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":mp--,yp=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new w.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new w.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var Ne;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++mp>1?(Ne={maximumAge:6e5,timeout:0},yp=!0):(Ne=this.options.positionOptions,yp=!1),this._geolocationWatchID=w.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,Ne)}}else w.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},o.prototype._clearWatch=function(){w.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},o}(w.Evented),vp={maxWidth:100,unit:"metric"},jr=function(Ne){this.options=w.extend({},vp,Ne),w.bindAll(["_onMove","setUnit"],this)};function qr(w,Ne,et){var tt=et&&et.maxWidth||100,nt=w._container.clientHeight/2,rt=w.unproject([0,nt]),it=w.unproject([tt,nt]),ot=rt.distanceTo(it);if(et&&"imperial"===et.unit){var at=3.2808*ot;at>5280?Vr(Ne,tt,at/5280,w._getUIString("ScaleControl.Miles")):Vr(Ne,tt,at,w._getUIString("ScaleControl.Feet"))}else et&&"nautical"===et.unit?Vr(Ne,tt,ot/1852,w._getUIString("ScaleControl.NauticalMiles")):ot>=1e3?Vr(Ne,tt,ot/1e3,w._getUIString("ScaleControl.Kilometers")):Vr(Ne,tt,ot,w._getUIString("ScaleControl.Meters"))}function Vr(w,Ne,et,tt){var nt,rt,it,ot=(nt=et,(rt=Math.pow(10,(""+Math.floor(nt)).length-1))*(it=(it=nt/rt)>=10?10:it>=5?5:it>=3?3:it>=2?2:it>=1?1:function(w){var Ne=Math.pow(10,Math.ceil(-Math.log(w)/Math.LN10));return Math.round(w*Ne)/Ne}(it)));w.style.width=Ne*(ot/et)+"px",w.innerHTML=ot+"&nbsp;"+tt}jr.prototype.getDefaultPosition=function(){return"bottom-left"},jr.prototype._onMove=function(){qr(this._map,this._container,this.options)},jr.prototype.onAdd=function(w){return this._map=w,this._container=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",w.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jr.prototype.onRemove=function(){et.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jr.prototype.setUnit=function(w){this.options.unit=w,qr(this._map,this._container,this.options)};var Gr=function(Ne){this._fullscreen=!1,Ne&&Ne.container&&(Ne.container instanceof w.window.HTMLElement?this._container=Ne.container:w.warnOnce("Full screen control 'container' must be a DOM element.")),w.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in w.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in w.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in w.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in w.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gr.prototype.onAdd=function(Ne){return this._map=Ne,this._container||(this._container=this._map.getContainer()),this._controlContainer=et.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",w.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gr.prototype.onRemove=function(){et.remove(this._controlContainer),this._map=null,w.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._checkFullscreenSupport=function(){return!!(w.window.document.fullscreenEnabled||w.window.document.mozFullScreenEnabled||w.window.document.msFullscreenEnabled||w.window.document.webkitFullscreenEnabled)},Gr.prototype._setupUI=function(){var Ne=this._fullscreenButton=et.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);et.create("span","mapboxgl-ctrl-icon",Ne).setAttribute("aria-hidden",!0),Ne.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),w.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gr.prototype._updateTitle=function(){var w=this._getTitle();this._fullscreenButton.setAttribute("aria-label",w),this._fullscreenButton.title=w},Gr.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gr.prototype._isFullscreen=function(){return this._fullscreen},Gr.prototype._changeIcon=function(){(w.window.document.fullscreenElement||w.window.document.mozFullScreenElement||w.window.document.webkitFullscreenElement||w.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gr.prototype._onClickFullscreen=function(){this._isFullscreen()?w.window.document.exitFullscreen?w.window.document.exitFullscreen():w.window.document.mozCancelFullScreen?w.window.document.mozCancelFullScreen():w.window.document.msExitFullscreen?w.window.document.msExitFullscreen():w.window.document.webkitCancelFullScreen&&w.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var _p={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},bp=function(Ne){function o(et){Ne.call(this),this.options=w.extend(Object.create(_p),et),w.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return Ne&&(o.__proto__=Ne),(o.prototype=Object.create(Ne&&Ne.prototype)).constructor=o,o.prototype.addTo=function(Ne){return this._map&&this.remove(),this._map=Ne,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new w.Event("open")),this},o.prototype.isOpen=function(){return!!this._map},o.prototype.remove=function(){return this._content&&et.remove(this._content),this._container&&(et.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new w.Event("close")),this},o.prototype.getLngLat=function(){return this._lngLat},o.prototype.setLngLat=function(Ne){return this._lngLat=w.LngLat.convert(Ne),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},o.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},o.prototype.getElement=function(){return this._container},o.prototype.setText=function(Ne){return this.setDOMContent(w.window.document.createTextNode(Ne))},o.prototype.setHTML=function(Ne){var et,tt=w.window.document.createDocumentFragment(),nt=w.window.document.createElement("body");for(nt.innerHTML=Ne;et=nt.firstChild;)tt.appendChild(et);return this.setDOMContent(tt)},o.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},o.prototype.setMaxWidth=function(w){return this.options.maxWidth=w,this._update(),this},o.prototype.setDOMContent=function(w){return this._createContent(),this._content.appendChild(w),this._update(),this},o.prototype.addClassName=function(w){this._container&&this._container.classList.add(w)},o.prototype.removeClassName=function(w){this._container&&this._container.classList.remove(w)},o.prototype.toggleClassName=function(w){if(this._container)return this._container.classList.toggle(w)},o.prototype._createContent=function(){this._content&&et.remove(this._content),this._content=et.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=et.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},o.prototype._onMouseUp=function(w){this._update(w.point)},o.prototype._onMouseMove=function(w){this._update(w.point)},o.prototype._onDrag=function(w){this._update(w.point)},o.prototype._update=function(Ne){var tt=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=et.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=et.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(w){return tt._container.classList.add(w)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||Ne)){var nt=this._pos=this._trackPointer&&Ne?Ne:this._map.project(this._lngLat),rt=this.options.anchor,it=function e(Ne){if(Ne){if("number"==typeof Ne){var et=Math.round(Math.sqrt(.5*Math.pow(Ne,2)));return{center:new w.Point(0,0),top:new w.Point(0,Ne),"top-left":new w.Point(et,et),"top-right":new w.Point(-et,et),bottom:new w.Point(0,-Ne),"bottom-left":new w.Point(et,-et),"bottom-right":new w.Point(-et,-et),left:new w.Point(Ne,0),right:new w.Point(-Ne,0)}}if(Ne instanceof w.Point||Array.isArray(Ne)){var tt=w.Point.convert(Ne);return{center:tt,top:tt,"top-left":tt,"top-right":tt,bottom:tt,"bottom-left":tt,"bottom-right":tt,left:tt,right:tt}}return{center:w.Point.convert(Ne.center||[0,0]),top:w.Point.convert(Ne.top||[0,0]),"top-left":w.Point.convert(Ne["top-left"]||[0,0]),"top-right":w.Point.convert(Ne["top-right"]||[0,0]),bottom:w.Point.convert(Ne.bottom||[0,0]),"bottom-left":w.Point.convert(Ne["bottom-left"]||[0,0]),"bottom-right":w.Point.convert(Ne["bottom-right"]||[0,0]),left:w.Point.convert(Ne.left||[0,0]),right:w.Point.convert(Ne.right||[0,0])}}return e(new w.Point(0,0))}(this.options.offset);if(!rt){var ot,at=this._container.offsetWidth,st=this._container.offsetHeight;ot=nt.y+it.bottom.y<st?["top"]:nt.y>this._map.transform.height-st?["bottom"]:[],nt.x<at/2?ot.push("left"):nt.x>this._map.transform.width-at/2&&ot.push("right"),rt=0===ot.length?"bottom":ot.join("-")}var ct=nt.add(it[rt]).round();et.setTransform(this._container,pp[rt]+" translate("+ct.x+"px,"+ct.y+"px)"),Rr(this._container,rt,"popup")}},o.prototype._onClose=function(){this.remove()},o}(w.Evented),xp={version:w.version,supported:Ne,setRTLTextPlugin:w.setRTLTextPlugin,getRTLTextPluginStatus:w.getRTLTextPluginStatus,Map:lp,NavigationControl:Dr,GeolocateControl:gp,AttributionControl:yr,ScaleControl:jr,FullscreenControl:Gr,Popup:bp,Marker:fp,Style:Rs,LngLat:w.LngLat,LngLatBounds:w.LngLatBounds,Point:w.Point,MercatorCoordinate:w.MercatorCoordinate,Evented:w.Evented,config:w.config,prewarm:function(){Ft().acquire(as)},clearPrewarmedResources:function(){var w=ss;w&&(w.isPreloaded()&&1===w.numActive()?(w.release(as),ss=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return w.config.ACCESS_TOKEN},set accessToken(Ne){w.config.ACCESS_TOKEN=Ne},get baseApiUrl(){return w.config.API_URL},set baseApiUrl(Ne){w.config.API_URL=Ne},get workerCount(){return kt.workerCount},set workerCount(w){kt.workerCount=w},get maxParallelImageRequests(){return w.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(Ne){w.config.MAX_PARALLEL_IMAGE_REQUESTS=Ne},clearStorage:function(Ne){w.clearTileCache(Ne)},workerUrl:""};return xp})),et}()},function(w,Ne,et){var tt=et(26);w.exports=!tt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(w,Ne,et){var tt=et(42),nt=et(66),rt=et(91);w.exports=tt?function(w,Ne,et){return nt.f(w,Ne,rt(1,et))}:function(w,Ne,et){return w[Ne]=et,w}},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(174);tt({target:"Set",proto:!0,real:!0,forced:nt},{addAll:function addAll(){return rt.apply(this,arguments)}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(109);tt({target:"Set",proto:!0,real:!0,forced:nt},{deleteAll:function deleteAll(){return rt.apply(this,arguments)}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(23),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{difference:function difference(w){var Ne=it(this),et=new(at(Ne,rt("Set")))(Ne),tt=ot(et.delete);return st(w,(function(w){tt.call(et,w)})),et}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(19),ot=et(33),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{every:function every(w){var Ne=rt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return!at(et,(function(w){if(!tt(w,w,Ne))return at.stop()}),void 0,!1,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(19),st=et(23),ct=et(33),pt=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{filter:function filter(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),nt=new(st(Ne,rt("Set"))),ft=ot(nt.add);return pt(et,(function(w){tt(w,w,Ne)&&ft.call(nt,w)}),void 0,!1,!0),nt}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(19),ot=et(33),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{find:function find(w){var Ne=rt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w){if(tt(w,w,Ne))return at.stop(w)}),void 0,!1,!0).result}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(23),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{intersection:function intersection(w){var Ne=it(this),et=new(at(Ne,rt("Set"))),tt=ot(Ne.has),nt=ot(et.add);return st(w,(function(w){tt.call(Ne,w)&&nt.call(et,w)})),et}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(14),ot=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{isDisjointFrom:function isDisjointFrom(w){var Ne=rt(this),et=it(Ne.has);return!ot(w,(function(w){if(!0===et.call(Ne,w))return ot.stop()})).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(79),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{isSubsetOf:function isSubsetOf(w){var Ne=at(this),et=it(w),tt=et.has;return"function"!=typeof tt&&(et=new(rt("Set"))(w),tt=ot(et.has)),!st(Ne,(function(w){if(!1===tt.call(et,w))return st.stop()}),void 0,!1,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(14),ot=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{isSupersetOf:function isSupersetOf(w){var Ne=rt(this),et=it(Ne.has);return!ot(w,(function(w){if(!1===et.call(Ne,w))return ot.stop()})).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(33),ot=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{join:function join(w){var Ne=rt(this),et=it(Ne),tt=void 0===w?",":String(w),nt=[];return ot(et,nt.push,nt,!1,!0),nt.join(tt)}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(19),st=et(23),ct=et(33),pt=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{map:function map(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),nt=new(st(Ne,rt("Set"))),ft=ot(nt.add);return pt(et,(function(w){ft.call(nt,tt(w,w,Ne))}),void 0,!1,!0),nt}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(14),ot=et(33),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{reduce:function reduce(w){var Ne=rt(this),et=ot(Ne),tt=arguments.length<2,nt=tt?void 0:arguments[1];if(it(w),at(et,(function(et){tt?(tt=!1,nt=et):nt=w(nt,et,et,Ne)}),void 0,!1,!0),tt)throw TypeError("Reduce of empty set with no initial value");return nt}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(19),ot=et(33),at=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{some:function some(w){var Ne=rt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w){if(tt(w,w,Ne))return at.stop()}),void 0,!1,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(23),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{symmetricDifference:function symmetricDifference(w){var Ne=it(this),et=new(at(Ne,rt("Set")))(Ne),tt=ot(et.delete),nt=ot(et.add);return st(w,(function(w){tt.call(et,w)||nt.call(et,w)})),et}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(23),st=et(11);tt({target:"Set",proto:!0,real:!0,forced:nt},{union:function union(w){var Ne=it(this),et=new(at(Ne,rt("Set")))(Ne);return st(w,ot(et.add),et),et}})},function(w,Ne,et){"use strict";w.exports=et(177)},function(w,Ne,et){"use strict";function _assertThisInitialized(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}et.d(Ne,"a",(function(){return _assertThisInitialized}))},function(w,Ne,et){"use strict";function _arrayLikeToArray(w,Ne){(null==Ne||Ne>w.length)&&(Ne=w.length);for(var et=0,tt=new Array(Ne);et<Ne;et++)tt[et]=w[et];return tt}et.d(Ne,"a",(function(){return _arrayLikeToArray}))},,function(w,Ne,et){"use strict";var tt,nt,rt,it,ot=et(8),at=et(7),st=et(16),ct=et(17),pt=et(155),ft=et(67),dt=et(156),mt=et(157),yt=et(159),vt=et(38),Ot=et(14),Dt=et(160),Rt=et(37),Bt=et(77),rn=et(11),vn=et(165),bn=et(23),Cn=et(104).set,Tn=et(167),In=et(168),Mn=et(169),zn=et(107),Ln=et(170),Fn=et(96),Bn=et(100),Nn=et(22),Vn=et(171),Wn=Nn("species"),$n="Promise",Yn=Fn.get,er=Fn.set,rr=Fn.getterFor($n),vr=pt,wr=st.TypeError,Sr=st.document,ii=st.process,qi=ct("fetch"),uo=zn.f,po=uo,vo="process"==Rt(ii),So=!!(Sr&&Sr.createEvent&&st.dispatchEvent),ta=Bn($n,(function(){if(!(Bt(vr)!==String(vr))){if(66===Vn)return!0;if(!vo&&"function"!=typeof PromiseRejectionEvent)return!0}if(at&&!vr.prototype.finally)return!0;if(Vn>=51&&/native code/.test(vr))return!1;var w=vr.resolve(1),FakePromise=function(w){w((function(){}),(function(){}))};return(w.constructor={})[Wn]=FakePromise,!(w.then((function(){}))instanceof FakePromise)})),na=ta||!vn((function(w){vr.all(w).catch((function(){}))})),isThenable=function(w){var Ne;return!(!vt(w)||"function"!=typeof(Ne=w.then))&&Ne},notify=function(w,Ne,et){if(!Ne.notified){Ne.notified=!0;var tt=Ne.reactions;Tn((function(){for(var nt=Ne.value,rt=1==Ne.state,it=0;tt.length>it;){var ot,at,st,ct=tt[it++],pt=rt?ct.ok:ct.fail,ft=ct.resolve,dt=ct.reject,mt=ct.domain;try{pt?(rt||(2===Ne.rejection&&onHandleUnhandled(w,Ne),Ne.rejection=1),!0===pt?ot=nt:(mt&&mt.enter(),ot=pt(nt),mt&&(mt.exit(),st=!0)),ot===ct.promise?dt(wr("Promise-chain cycle")):(at=isThenable(ot))?at.call(ot,ft,dt):ft(ot)):dt(nt)}catch(w){mt&&!st&&mt.exit(),dt(w)}}Ne.reactions=[],Ne.notified=!1,et&&!Ne.rejection&&onUnhandled(w,Ne)}))}},dispatchEvent=function(w,Ne,et){var tt,nt;So?((tt=Sr.createEvent("Event")).promise=Ne,tt.reason=et,tt.initEvent(w,!1,!0),st.dispatchEvent(tt)):tt={promise:Ne,reason:et},(nt=st["on"+w])?nt(tt):"unhandledrejection"===w&&Mn("Unhandled promise rejection",et)},onUnhandled=function(w,Ne){Cn.call(st,(function(){var et,tt=Ne.value;if(isUnhandled(Ne)&&(et=Ln((function(){vo?ii.emit("unhandledRejection",tt,w):dispatchEvent("unhandledrejection",w,tt)})),Ne.rejection=vo||isUnhandled(Ne)?2:1,et.error))throw et.value}))},isUnhandled=function(w){return 1!==w.rejection&&!w.parent},onHandleUnhandled=function(w,Ne){Cn.call(st,(function(){vo?ii.emit("rejectionHandled",w):dispatchEvent("rejectionhandled",w,Ne.value)}))},bind=function(w,Ne,et,tt){return function(nt){w(Ne,et,nt,tt)}},internalReject=function(w,Ne,et,tt){Ne.done||(Ne.done=!0,tt&&(Ne=tt),Ne.value=et,Ne.state=2,notify(w,Ne,!0))},internalResolve=function(w,Ne,et,tt){if(!Ne.done){Ne.done=!0,tt&&(Ne=tt);try{if(w===et)throw wr("Promise can't be resolved itself");var nt=isThenable(et);nt?Tn((function(){var tt={done:!1};try{nt.call(et,bind(internalResolve,w,tt,Ne),bind(internalReject,w,tt,Ne))}catch(et){internalReject(w,tt,et,Ne)}})):(Ne.value=et,Ne.state=1,notify(w,Ne,!1))}catch(et){internalReject(w,{done:!1},et,Ne)}}};ta&&(vr=function Promise(w){Dt(this,vr,$n),Ot(w),tt.call(this);var Ne=Yn(this);try{w(bind(internalResolve,this,Ne),bind(internalReject,this,Ne))}catch(w){internalReject(this,Ne,w)}},(tt=function Promise(w){er(this,{type:$n,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=dt(vr.prototype,{then:function then(w,Ne){var et=rr(this),tt=uo(bn(this,vr));return tt.ok="function"!=typeof w||w,tt.fail="function"==typeof Ne&&Ne,tt.domain=vo?ii.domain:void 0,et.parent=!0,et.reactions.push(tt),0!=et.state&&notify(this,et,!1),tt.promise},catch:function(w){return this.then(void 0,w)}}),nt=function(){var w=new tt,Ne=Yn(w);this.promise=w,this.resolve=bind(internalResolve,w,Ne),this.reject=bind(internalReject,w,Ne)},zn.f=uo=function(w){return w===vr||w===rt?new nt(w):po(w)},at||"function"!=typeof pt||(it=pt.prototype.then,ft(pt.prototype,"then",(function then(w,Ne){var et=this;return new vr((function(w,Ne){it.call(et,w,Ne)})).then(w,Ne)}),{unsafe:!0}),"function"==typeof qi&&ot({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(w){return In(vr,qi.apply(st,arguments))}}))),ot({global:!0,wrap:!0,forced:ta},{Promise:vr}),mt(vr,$n,!1,!0),yt($n),rt=ct($n),ot({target:$n,stat:!0,forced:ta},{reject:function reject(w){var Ne=uo(this);return Ne.reject.call(void 0,w),Ne.promise}}),ot({target:$n,stat:!0,forced:at||ta},{resolve:function resolve(w){return In(at&&this===rt?vr:this,w)}}),ot({target:$n,stat:!0,forced:na},{all:function all(w){var Ne=this,et=uo(Ne),tt=et.resolve,nt=et.reject,rt=Ln((function(){var et=Ot(Ne.resolve),rt=[],it=0,ot=1;rn(w,(function(w){var at=it++,st=!1;rt.push(void 0),ot++,et.call(Ne,w).then((function(w){st||(st=!0,rt[at]=w,--ot||tt(rt))}),nt)})),--ot||tt(rt)}));return rt.error&&nt(rt.value),et.promise},race:function race(w){var Ne=this,et=uo(Ne),tt=et.reject,nt=Ln((function(){var nt=Ot(Ne.resolve);rn(w,(function(w){nt.call(Ne,w).then(et.resolve,tt)}))}));return nt.error&&tt(nt.value),et.promise}})},function(w,Ne){w.exports=function(w){if(null==w)throw TypeError("Can't call method on "+w);return w}},function(w,Ne,et){var tt=et(42),nt=et(93),rt=et(6),it=et(92),ot=Object.defineProperty;Ne.f=tt?ot:function defineProperty(w,Ne,et){if(rt(w),Ne=it(Ne,!0),rt(et),nt)try{return ot(w,Ne,et)}catch(w){}if("get"in et||"set"in et)throw TypeError("Accessors not supported");return"value"in et&&(w[Ne]=et.value),w}},function(w,Ne,et){var tt=et(16),nt=et(43),rt=et(32),it=et(76),ot=et(77),at=et(96),st=at.get,ct=at.enforce,pt=String(String).split("String");(w.exports=function(w,Ne,et,ot){var at=!!ot&&!!ot.unsafe,st=!!ot&&!!ot.enumerable,ft=!!ot&&!!ot.noTargetGet;"function"==typeof et&&("string"!=typeof Ne||rt(et,"name")||nt(et,"name",Ne),ct(et).source=pt.join("string"==typeof Ne?Ne:"")),w!==tt?(at?!ft&&w[Ne]&&(st=!0):delete w[Ne],st?w[Ne]=et:nt(w,Ne,et)):st?w[Ne]=et:it(Ne,et)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&st(this).source||ot(this)}))},function(w,Ne){var et=Math.ceil,tt=Math.floor;w.exports=function(w){return isNaN(w=+w)?0:(w>0?tt:et)(w)}},function(w,Ne,et){"use strict";var tt=et(60),nt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},it={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ot={};function getStatics(w){return tt.isMemo(w)?it:ot[w.$$typeof]||nt}ot[tt.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ot[tt.Memo]=it;var at=Object.defineProperty,st=Object.getOwnPropertyNames,ct=Object.getOwnPropertySymbols,pt=Object.getOwnPropertyDescriptor,ft=Object.getPrototypeOf,dt=Object.prototype;w.exports=function hoistNonReactStatics(w,Ne,et){if("string"!=typeof Ne){if(dt){var tt=ft(Ne);tt&&tt!==dt&&hoistNonReactStatics(w,tt,et)}var nt=st(Ne);ct&&(nt=nt.concat(ct(Ne)));for(var it=getStatics(w),ot=getStatics(Ne),mt=0;mt<nt.length;++mt){var yt=nt[mt];if(!(rt[yt]||et&&et[yt]||ot&&ot[yt]||it&&it[yt])){var vt=pt(Ne,yt);try{at(w,yt,vt)}catch(w){}}}}return w}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return _unsupportedIterableToArray}));var tt=et(62);function _unsupportedIterableToArray(w,Ne){if(w){if("string"==typeof w)return Object(tt.a)(w,Ne);var et=Object.prototype.toString.call(w).slice(8,-1);return"Object"===et&&w.constructor&&(et=w.constructor.name),"Map"===et||"Set"===et?Array.from(w):"Arguments"===et||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?Object(tt.a)(w,Ne):void 0}}},function(w,Ne,et){"use strict";Ne.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(w,Ne,et){"use strict";Ne.a={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"}},function(w,Ne,et){var tt=et(30),nt=et(188);"string"==typeof(nt=nt.__esModule?nt.default:nt)&&(nt=[[w.i,nt,""]]);var rt={insert:"head",singleton:!1},it=(tt(nt,rt),nt.locals?nt.locals:{});w.exports=it},function(w,Ne,et){var tt=et(42),nt=et(142),rt=et(91),it=et(75),ot=et(92),at=et(32),st=et(93),ct=Object.getOwnPropertyDescriptor;Ne.f=tt?ct:function getOwnPropertyDescriptor(w,Ne){if(w=it(w),Ne=ot(Ne,!0),st)try{return ct(w,Ne)}catch(w){}if(at(w,Ne))return rt(!nt.f.call(w,Ne),w[Ne])}},function(w,Ne,et){var tt=et(143),nt=et(65);w.exports=function(w){return tt(nt(w))}},function(w,Ne,et){var tt=et(16),nt=et(43);w.exports=function(w,Ne){try{nt(tt,w,Ne)}catch(et){tt[w]=Ne}return Ne}},function(w,Ne,et){var tt=et(95),nt=Function.toString;"function"!=typeof tt.inspectSource&&(tt.inspectSource=function(w){return nt.call(w)}),w.exports=tt.inspectSource},function(w,Ne,et){var tt=et(68),nt=Math.min;w.exports=function(w){return w>0?nt(tt(w),9007199254740991):0}},function(w,Ne,et){var tt=et(6),nt=et(103);w.exports=function(w){var Ne=nt(w);if("function"!=typeof Ne)throw TypeError(String(w)+" is not iterable");return tt(Ne.call(w))}},function(w,Ne,et){"use strict";var tt,nt,rt=et(182),it=et(183),ot=RegExp.prototype.exec,at=String.prototype.replace,st=ot,ct=(tt=/a/,nt=/b*/g,ot.call(tt,"a"),ot.call(nt,"a"),0!==tt.lastIndex||0!==nt.lastIndex),pt=it.UNSUPPORTED_Y||it.BROKEN_CARET,ft=void 0!==/()??/.exec("")[1];(ct||ft||pt)&&(st=function exec(w){var Ne,et,tt,nt,it=this,st=pt&&it.sticky,dt=rt.call(it),mt=it.source,yt=0,vt=w;return st&&(-1===(dt=dt.replace("y","")).indexOf("g")&&(dt+="g"),vt=String(w).slice(it.lastIndex),it.lastIndex>0&&(!it.multiline||it.multiline&&"\n"!==w[it.lastIndex-1])&&(mt="(?: "+mt+")",vt=" "+vt,yt++),et=new RegExp("^(?:"+mt+")",dt)),ft&&(et=new RegExp("^"+mt+"$(?!\\s)",dt)),ct&&(Ne=it.lastIndex),tt=ot.call(st?et:it,vt),st?tt?(tt.input=tt.input.slice(yt),tt[0]=tt[0].slice(yt),tt.index=it.lastIndex,it.lastIndex+=tt[0].length):it.lastIndex=0:ct&&tt&&(it.lastIndex=it.global?tt.index+tt[0].length:Ne),ft&&tt&&tt.length>1&&at.call(tt[0],et,(function(){for(nt=1;nt<arguments.length-2;nt++)void 0===arguments[nt]&&(tt[nt]=void 0)})),tt}),w.exports=st},function(w,Ne){w.exports=function _interopRequireDefault(w){return w&&w.__esModule?w:{default:w}}},function(w,Ne,et){"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});var tt=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w},nt=function(){function defineProperties(w,Ne){for(var et=0;et<Ne.length;et++){var tt=Ne[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(w,tt.key,tt)}}return function(w,Ne,et){return Ne&&defineProperties(w.prototype,Ne),et&&defineProperties(w,et),w}}(),rt=et(0),it=_interopRequireDefault(rt),ot=_interopRequireDefault(et(4));function _interopRequireDefault(w){return w&&w.__esModule?w:{default:w}}var at={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},st=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],ct=function copyStyles(w,Ne){Ne.style.fontSize=w.fontSize,Ne.style.fontFamily=w.fontFamily,Ne.style.fontWeight=w.fontWeight,Ne.style.fontStyle=w.fontStyle,Ne.style.letterSpacing=w.letterSpacing,Ne.style.textTransform=w.textTransform},pt=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),ft=function generateId(){return pt?"_"+Math.random().toString(36).substr(2,12):void 0},dt=function(w){function AutosizeInput(w){!function _classCallCheck(w,Ne){if(!(w instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,AutosizeInput);var Ne=function _possibleConstructorReturn(w,Ne){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ne||"object"!=typeof Ne&&"function"!=typeof Ne?w:Ne}(this,(AutosizeInput.__proto__||Object.getPrototypeOf(AutosizeInput)).call(this,w));return Ne.inputRef=function(w){Ne.input=w,"function"==typeof Ne.props.inputRef&&Ne.props.inputRef(w)},Ne.placeHolderSizerRef=function(w){Ne.placeHolderSizer=w},Ne.sizerRef=function(w){Ne.sizer=w},Ne.state={inputWidth:w.minWidth,inputId:w.id||ft()},Ne}return function _inherits(w,Ne){if("function"!=typeof Ne&&null!==Ne)throw new TypeError("Super expression must either be null or a function, not "+typeof Ne);w.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),Ne&&(Object.setPrototypeOf?Object.setPrototypeOf(w,Ne):w.__proto__=Ne)}(AutosizeInput,w),nt(AutosizeInput,[{key:"componentDidMount",value:function componentDidMount(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(w){var Ne=w.id;Ne!==this.props.id&&this.setState({inputId:Ne||ft()})}},{key:"componentDidUpdate",value:function componentDidUpdate(w,Ne){Ne.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1}},{key:"copyInputStyles",value:function copyInputStyles(){if(this.mounted&&window.getComputedStyle){var w=this.input&&window.getComputedStyle(this.input);w&&(ct(w,this.sizer),this.placeHolderSizer&&ct(w,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function updateInputWidth(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var w=void 0;w=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(w+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(w=this.props.minWidth),w!==this.state.inputWidth&&this.setState({inputWidth:w})}}},{key:"getInput",value:function getInput(){return this.input}},{key:"focus",value:function focus(){this.input.focus()}},{key:"blur",value:function blur(){this.input.blur()}},{key:"select",value:function select(){this.input.select()}},{key:"renderStyles",value:function renderStyles(){var w=this.props.injectStyles;return pt&&w?it.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function render(){var w=[this.props.defaultValue,this.props.value,""].reduce((function(w,Ne){return null!=w?w:Ne})),Ne=tt({},this.props.style);Ne.display||(Ne.display="inline-block");var et=tt({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),nt=function _objectWithoutProperties(w,Ne){var et={};for(var tt in w)Ne.indexOf(tt)>=0||Object.prototype.hasOwnProperty.call(w,tt)&&(et[tt]=w[tt]);return et}(this.props,[]);return function cleanInputProps(w){st.forEach((function(Ne){return delete w[Ne]}))}(nt),nt.className=this.props.inputClassName,nt.id=this.state.inputId,nt.style=et,it.default.createElement("div",{className:this.props.className,style:Ne},this.renderStyles(),it.default.createElement("input",tt({},nt,{ref:this.inputRef})),it.default.createElement("div",{ref:this.sizerRef,style:at},w),this.props.placeholder?it.default.createElement("div",{ref:this.placeHolderSizerRef,style:at},this.props.placeholder):null)}}]),AutosizeInput}(rt.Component);dt.propTypes={className:ot.default.string,defaultValue:ot.default.any,extraWidth:ot.default.oneOfType([ot.default.number,ot.default.string]),id:ot.default.string,injectStyles:ot.default.bool,inputClassName:ot.default.string,inputRef:ot.default.func,inputStyle:ot.default.object,minWidth:ot.default.oneOfType([ot.default.number,ot.default.string]),onAutosize:ot.default.func,onChange:ot.default.func,placeholder:ot.default.string,placeholderIsMinWidth:ot.default.bool,style:ot.default.object,value:ot.default.any},dt.defaultProps={minWidth:1,injectStyles:!0},Ne.default=dt},function(w,Ne,et){var tt=et(30),nt=et(191);"string"==typeof(nt=nt.__esModule?nt.default:nt)&&(nt=[[w.i,nt,""]]);var rt={insert:"head",singleton:!1},it=(tt(nt,rt),nt.locals?nt.locals:{});w.exports=it},function(w,Ne,et){"use strict";(function(w){var tt=et(0),nt=et.n(tt),rt=et(15),it=et(4),ot=et.n(it),at="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==w?w:{};function createEventEmitter(w){var Ne=[];return{on:function on(w){Ne.push(w)},off:function off(w){Ne=Ne.filter((function(Ne){return Ne!==w}))},get:function get(){return w},set:function set(et,tt){w=et,Ne.forEach((function(Ne){return Ne(w,tt)}))}}}var st=nt.a.createContext||function createReactContext(w,Ne){var et,nt,it="__create-react-context-"+function getUniqueId(){var w="__global_unique_id__";return at[w]=(at[w]||0)+1}()+"__",st=function(w){function Provider(){var Ne;return(Ne=w.apply(this,arguments)||this).emitter=createEventEmitter(Ne.props.value),Ne}Object(rt.a)(Provider,w);var et=Provider.prototype;return et.getChildContext=function getChildContext(){var w;return(w={})[it]=this.emitter,w},et.componentWillReceiveProps=function componentWillReceiveProps(w){if(this.props.value!==w.value){var et,tt=this.props.value,nt=w.value;!function objectIs(w,Ne){return w===Ne?0!==w||1/w==1/Ne:w!=w&&Ne!=Ne}(tt,nt)?(et="function"==typeof Ne?Ne(tt,nt):1073741823,0!==(et|=0)&&this.emitter.set(w.value,et)):et=0}},et.render=function render(){return this.props.children},Provider}(tt.Component);st.childContextTypes=((et={})[it]=ot.a.object.isRequired,et);var ct=function(Ne){function Consumer(){var w;return(w=Ne.apply(this,arguments)||this).state={value:w.getValue()},w.onUpdate=function(Ne,et){0!=((0|w.observedBits)&et)&&w.setState({value:w.getValue()})},w}Object(rt.a)(Consumer,Ne);var et=Consumer.prototype;return et.componentWillReceiveProps=function componentWillReceiveProps(w){var Ne=w.observedBits;this.observedBits=null==Ne?1073741823:Ne},et.componentDidMount=function componentDidMount(){this.context[it]&&this.context[it].on(this.onUpdate);var w=this.props.observedBits;this.observedBits=null==w?1073741823:w},et.componentWillUnmount=function componentWillUnmount(){this.context[it]&&this.context[it].off(this.onUpdate)},et.getValue=function getValue(){return this.context[it]?this.context[it].get():w},et.render=function render(){return function onlyChild(w){return Array.isArray(w)?w[0]:w}(this.props.children)(this.state.value)},Consumer}(tt.Component);return ct.contextTypes=((nt={})[it]=ot.a.object,nt),{Provider:st,Consumer:ct}};Ne.a=st}).call(this,et(90))},function(w,Ne,et){var tt=et(178);w.exports=pathToRegexp,w.exports.parse=parse,w.exports.compile=function compile(w,Ne){return tokensToFunction(parse(w,Ne),Ne)},w.exports.tokensToFunction=tokensToFunction,w.exports.tokensToRegExp=tokensToRegExp;var nt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(w,Ne){for(var et,tt=[],rt=0,it=0,ot="",at=Ne&&Ne.delimiter||"/";null!=(et=nt.exec(w));){var st=et[0],ct=et[1],pt=et.index;if(ot+=w.slice(it,pt),it=pt+st.length,ct)ot+=ct[1];else{var ft=w[it],dt=et[2],mt=et[3],yt=et[4],vt=et[5],Ot=et[6],Dt=et[7];ot&&(tt.push(ot),ot="");var Rt=null!=dt&&null!=ft&&ft!==dt,Bt="+"===Ot||"*"===Ot,rn="?"===Ot||"*"===Ot,vn=et[2]||at,bn=yt||vt;tt.push({name:mt||rt++,prefix:dt||"",delimiter:vn,optional:rn,repeat:Bt,partial:Rt,asterisk:!!Dt,pattern:bn?escapeGroup(bn):Dt?".*":"[^"+escapeString(vn)+"]+?"})}}return it<w.length&&(ot+=w.substr(it)),ot&&tt.push(ot),tt}function encodeURIComponentPretty(w){return encodeURI(w).replace(/[\/?#]/g,(function(w){return"%"+w.charCodeAt(0).toString(16).toUpperCase()}))}function tokensToFunction(w,Ne){for(var et=new Array(w.length),nt=0;nt<w.length;nt++)"object"==typeof w[nt]&&(et[nt]=new RegExp("^(?:"+w[nt].pattern+")$",flags(Ne)));return function(Ne,nt){for(var rt="",it=Ne||{},ot=(nt||{}).pretty?encodeURIComponentPretty:encodeURIComponent,at=0;at<w.length;at++){var st=w[at];if("string"!=typeof st){var ct,pt=it[st.name];if(null==pt){if(st.optional){st.partial&&(rt+=st.prefix);continue}throw new TypeError('Expected "'+st.name+'" to be defined')}if(tt(pt)){if(!st.repeat)throw new TypeError('Expected "'+st.name+'" to not repeat, but received `'+JSON.stringify(pt)+"`");if(0===pt.length){if(st.optional)continue;throw new TypeError('Expected "'+st.name+'" to not be empty')}for(var ft=0;ft<pt.length;ft++){if(ct=ot(pt[ft]),!et[at].test(ct))throw new TypeError('Expected all "'+st.name+'" to match "'+st.pattern+'", but received `'+JSON.stringify(ct)+"`");rt+=(0===ft?st.prefix:st.delimiter)+ct}}else{if(ct=st.asterisk?encodeURI(pt).replace(/[?#]/g,(function(w){return"%"+w.charCodeAt(0).toString(16).toUpperCase()})):ot(pt),!et[at].test(ct))throw new TypeError('Expected "'+st.name+'" to match "'+st.pattern+'", but received "'+ct+'"');rt+=st.prefix+ct}}else rt+=st}return rt}}function escapeString(w){return w.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(w){return w.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(w,Ne){return w.keys=Ne,w}function flags(w){return w&&w.sensitive?"":"i"}function tokensToRegExp(w,Ne,et){tt(Ne)||(et=Ne||et,Ne=[]);for(var nt=(et=et||{}).strict,rt=!1!==et.end,it="",ot=0;ot<w.length;ot++){var at=w[ot];if("string"==typeof at)it+=escapeString(at);else{var st=escapeString(at.prefix),ct="(?:"+at.pattern+")";Ne.push(at),at.repeat&&(ct+="(?:"+st+ct+")*"),it+=ct=at.optional?at.partial?st+"("+ct+")?":"(?:"+st+"("+ct+"))?":st+"("+ct+")"}}var pt=escapeString(et.delimiter||"/"),ft=it.slice(-pt.length)===pt;return nt||(it=(ft?it.slice(0,-pt.length):it)+"(?:"+pt+"(?=$))?"),it+=rt?"$":nt&&ft?"":"(?="+pt+"|$)",attachKeys(new RegExp("^"+it,flags(et)),Ne)}function pathToRegexp(w,Ne,et){return tt(Ne)||(et=Ne||et,Ne=[]),et=et||{},w instanceof RegExp?function regexpToRegexp(w,Ne){var et=w.source.match(/\((?!\?)/g);if(et)for(var tt=0;tt<et.length;tt++)Ne.push({name:tt,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(w,Ne)}(w,Ne):tt(w)?function arrayToRegexp(w,Ne,et){for(var tt=[],nt=0;nt<w.length;nt++)tt.push(pathToRegexp(w[nt],Ne,et).source);return attachKeys(new RegExp("(?:"+tt.join("|")+")",flags(et)),Ne)}(w,Ne,et):function stringToRegexp(w,Ne,et){return tokensToRegExp(parse(w,et),Ne,et)}(w,Ne,et)}},function(w,Ne,et){var tt=et(30),nt=et(192);"string"==typeof(nt=nt.__esModule?nt.default:nt)&&(nt=[[w.i,nt,""]]);var rt={insert:"head",singleton:!1},it=(tt(nt,rt),nt.locals?nt.locals:{});w.exports=it},,,function(w,Ne,et){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tt=Object.getOwnPropertySymbols,nt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;function toObject(w){if(null==w)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(w)}w.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var w=new String("abc");if(w[5]="de","5"===Object.getOwnPropertyNames(w)[0])return!1;for(var Ne={},et=0;et<10;et++)Ne["_"+String.fromCharCode(et)]=et;if("0123456789"!==Object.getOwnPropertyNames(Ne).map((function(w){return Ne[w]})).join(""))return!1;var tt={};return"abcdefghijklmnopqrst".split("").forEach((function(w){tt[w]=w})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},tt)).join("")}catch(w){return!1}}()?Object.assign:function(w,Ne){for(var et,it,ot=toObject(w),at=1;at<arguments.length;at++){for(var st in et=Object(arguments[at]))nt.call(et,st)&&(ot[st]=et[st]);if(tt){it=tt(et);for(var ct=0;ct<it.length;ct++)rt.call(et,it[ct])&&(ot[it[ct]]=et[it[ct]])}}return ot}},function(w,Ne){var et;et=function(){return this}();try{et=et||new Function("return this")()}catch(w){"object"==typeof window&&(et=window)}w.exports=et},function(w,Ne){w.exports=function(w,Ne){return{enumerable:!(1&w),configurable:!(2&w),writable:!(4&w),value:Ne}}},function(w,Ne,et){var tt=et(38);w.exports=function(w,Ne){if(!tt(w))return w;var et,nt;if(Ne&&"function"==typeof(et=w.toString)&&!tt(nt=et.call(w)))return nt;if("function"==typeof(et=w.valueOf)&&!tt(nt=et.call(w)))return nt;if(!Ne&&"function"==typeof(et=w.toString)&&!tt(nt=et.call(w)))return nt;throw TypeError("Can't convert object to primitive value")}},function(w,Ne,et){var tt=et(42),nt=et(26),rt=et(94);w.exports=!tt&&!nt((function(){return 7!=Object.defineProperty(rt("div"),"a",{get:function(){return 7}}).a}))},function(w,Ne,et){var tt=et(16),nt=et(38),rt=tt.document,it=nt(rt)&&nt(rt.createElement);w.exports=function(w){return it?rt.createElement(w):{}}},function(w,Ne,et){var tt=et(16),nt=et(76),rt=tt["__core-js_shared__"]||nt("__core-js_shared__",{});w.exports=rt},function(w,Ne,et){var tt,nt,rt,it=et(144),ot=et(16),at=et(38),st=et(43),ct=et(32),pt=et(145),ft=et(99),dt=ot.WeakMap;if(it){var mt=new dt,yt=mt.get,vt=mt.has,Ot=mt.set;tt=function(w,Ne){return Ot.call(mt,w,Ne),Ne},nt=function(w){return yt.call(mt,w)||{}},rt=function(w){return vt.call(mt,w)}}else{var Dt=pt("state");ft[Dt]=!0,tt=function(w,Ne){return st(w,Dt,Ne),Ne},nt=function(w){return ct(w,Dt)?w[Dt]:{}},rt=function(w){return ct(w,Dt)}}w.exports={set:tt,get:nt,has:rt,enforce:function(w){return rt(w)?nt(w):tt(w,{})},getterFor:function(w){return function(Ne){var et;if(!at(Ne)||(et=nt(Ne)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return et}}}},function(w,Ne,et){var tt=et(7),nt=et(95);(w.exports=function(w,Ne){return nt[w]||(nt[w]=void 0!==Ne?Ne:{})})("versions",[]).push({version:"3.6.5",mode:tt?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(w,Ne){var et=0,tt=Math.random();w.exports=function(w){return"Symbol("+String(void 0===w?"":w)+")_"+(++et+tt).toString(36)}},function(w,Ne){w.exports={}},function(w,Ne,et){var tt=et(26),nt=/#|\.prototype\./,isForced=function(w,Ne){var et=it[rt(w)];return et==at||et!=ot&&("function"==typeof Ne?tt(Ne):!!Ne)},rt=isForced.normalize=function(w){return String(w).replace(nt,".").toLowerCase()},it=isForced.data={},ot=isForced.NATIVE="N",at=isForced.POLYFILL="P";w.exports=isForced},function(w,Ne,et){var tt=et(26);w.exports=!!Object.getOwnPropertySymbols&&!tt((function(){return!String(Symbol())}))},function(w,Ne){w.exports={}},function(w,Ne,et){var tt=et(162),nt=et(102),rt=et(22)("iterator");w.exports=function(w){if(null!=w)return w[rt]||w["@@iterator"]||nt[tt(w)]}},function(w,Ne,et){var tt,nt,rt,it=et(16),ot=et(26),at=et(37),st=et(19),ct=et(166),pt=et(94),ft=et(105),dt=it.location,mt=it.setImmediate,yt=it.clearImmediate,vt=it.process,Ot=it.MessageChannel,Dt=it.Dispatch,Rt=0,Bt={},run=function(w){if(Bt.hasOwnProperty(w)){var Ne=Bt[w];delete Bt[w],Ne()}},runner=function(w){return function(){run(w)}},listener=function(w){run(w.data)},post=function(w){it.postMessage(w+"",dt.protocol+"//"+dt.host)};mt&&yt||(mt=function setImmediate(w){for(var Ne=[],et=1;arguments.length>et;)Ne.push(arguments[et++]);return Bt[++Rt]=function(){("function"==typeof w?w:Function(w)).apply(void 0,Ne)},tt(Rt),Rt},yt=function clearImmediate(w){delete Bt[w]},"process"==at(vt)?tt=function(w){vt.nextTick(runner(w))}:Dt&&Dt.now?tt=function(w){Dt.now(runner(w))}:Ot&&!ft?(rt=(nt=new Ot).port2,nt.port1.onmessage=listener,tt=st(rt.postMessage,rt,1)):!it.addEventListener||"function"!=typeof postMessage||it.importScripts||ot(post)||"file:"===dt.protocol?tt="onreadystatechange"in pt("script")?function(w){ct.appendChild(pt("script")).onreadystatechange=function(){ct.removeChild(this),run(w)}}:function(w){setTimeout(runner(w),0)}:(tt=post,it.addEventListener("message",listener,!1))),w.exports={set:mt,clear:yt}},function(w,Ne,et){var tt=et(106);w.exports=/(iphone|ipod|ipad).*applewebkit/i.test(tt)},function(w,Ne,et){var tt=et(17);w.exports=tt("navigator","userAgent")||""},function(w,Ne,et){"use strict";var tt=et(14),PromiseCapability=function(w){var Ne,et;this.promise=new w((function(w,tt){if(void 0!==Ne||void 0!==et)throw TypeError("Bad Promise constructor");Ne=w,et=tt})),this.resolve=tt(Ne),this.reject=tt(et)};w.exports.f=function(w){return new PromiseCapability(w)}},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(109);tt({target:"Map",proto:!0,real:!0,forced:nt},{deleteAll:function deleteAll(){return rt.apply(this,arguments)}})},function(w,Ne,et){"use strict";var tt=et(6),nt=et(14);w.exports=function(){for(var w,Ne=tt(this),et=nt(Ne.delete),rt=!0,it=0,ot=arguments.length;it<ot;it++)w=et.call(Ne,arguments[it]),rt=rt&&w;return!!rt}},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(19),ot=et(24),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{every:function every(w){var Ne=rt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return!at(et,(function(w,et){if(!tt(et,w,Ne))return at.stop()}),void 0,!0,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(19),st=et(23),ct=et(24),pt=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{filter:function filter(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),nt=new(st(Ne,rt("Map"))),ft=ot(nt.set);return pt(et,(function(w,et){tt(et,w,Ne)&&ft.call(nt,w,et)}),void 0,!0,!0),nt}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(19),ot=et(24),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{find:function find(w){var Ne=rt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w,et){if(tt(et,w,Ne))return at.stop(et)}),void 0,!0,!0).result}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(19),ot=et(24),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{findKey:function findKey(w){var Ne=rt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w,et){if(tt(et,w,Ne))return at.stop(w)}),void 0,!0,!0).result}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(24),ot=et(173),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{includes:function includes(w){return at(it(rt(this)),(function(Ne,et){if(ot(et,w))return at.stop()}),void 0,!0,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(24),ot=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{keyOf:function keyOf(w){return ot(it(rt(this)),(function(Ne,et){if(et===w)return ot.stop(Ne)}),void 0,!0,!0).result}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(19),st=et(23),ct=et(24),pt=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{mapKeys:function mapKeys(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),nt=new(st(Ne,rt("Map"))),ft=ot(nt.set);return pt(et,(function(w,et){ft.call(nt,tt(et,w,Ne),et)}),void 0,!0,!0),nt}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(17),it=et(6),ot=et(14),at=et(19),st=et(23),ct=et(24),pt=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{mapValues:function mapValues(w){var Ne=it(this),et=ct(Ne),tt=at(w,arguments.length>1?arguments[1]:void 0,3),nt=new(st(Ne,rt("Map"))),ft=ot(nt.set);return pt(et,(function(w,et){ft.call(nt,w,tt(et,w,Ne))}),void 0,!0,!0),nt}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(14),ot=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{merge:function merge(w){for(var Ne=rt(this),et=it(Ne.set),tt=0;tt<arguments.length;)ot(arguments[tt++],et,Ne,!0);return Ne}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(14),ot=et(24),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{reduce:function reduce(w){var Ne=rt(this),et=ot(Ne),tt=arguments.length<2,nt=tt?void 0:arguments[1];if(it(w),at(et,(function(et,rt){tt?(tt=!1,nt=rt):nt=w(nt,rt,et,Ne)}),void 0,!0,!0),tt)throw TypeError("Reduce of empty map with no initial value");return nt}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(19),ot=et(24),at=et(11);tt({target:"Map",proto:!0,real:!0,forced:nt},{some:function some(w){var Ne=rt(this),et=ot(Ne),tt=it(w,arguments.length>1?arguments[1]:void 0,3);return at(et,(function(w,et){if(tt(et,w,Ne))return at.stop()}),void 0,!0,!0).stopped}})},function(w,Ne,et){"use strict";var tt=et(8),nt=et(7),rt=et(6),it=et(14);tt({target:"Map",proto:!0,real:!0,forced:nt},{update:function update(w,Ne){var et=rt(this),tt=arguments.length;it(Ne);var nt=et.has(w);if(!nt&&tt<3)throw TypeError("Updating absent value");var ot=nt?et.get(w):it(tt>2?arguments[2]:void 0)(w,et);return et.set(w,Ne(ot,w,et)),et}})},function(w,Ne,et){"use strict";var tt=et(1),nt=et(2),rt=et(0),it=(et(4),et(3)),ot=et(5),at=et(12),st=rt.forwardRef((function SvgIcon(w,Ne){var et=w.children,ot=w.classes,st=w.className,ct=w.color,pt=void 0===ct?"inherit":ct,ft=w.component,dt=void 0===ft?"svg":ft,mt=w.fontSize,yt=void 0===mt?"default":mt,vt=w.htmlColor,Ot=w.titleAccess,Dt=w.viewBox,Rt=void 0===Dt?"0 0 24 24":Dt,Bt=Object(nt.a)(w,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return rt.createElement(dt,Object(tt.a)({className:Object(it.a)(ot.root,st,"inherit"!==pt&&ot["color".concat(Object(at.a)(pt))],"default"!==yt&&ot["fontSize".concat(Object(at.a)(yt))]),focusable:"false",viewBox:Rt,color:vt,"aria-hidden":!Ot||void 0,role:Ot?"img":void 0,ref:Ne},Bt),et,Ot?rt.createElement("title",null,Ot):null)}));st.muiName="SvgIcon",Ne.a=Object(ot.a)((function styles(w){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:w.typography.pxToRem(24),transition:w.transitions.create("fill",{duration:w.transitions.duration.shorter})},colorPrimary:{color:w.palette.primary.main},colorSecondary:{color:w.palette.secondary.main},colorAction:{color:w.palette.action.active},colorError:{color:w.palette.error.main},colorDisabled:{color:w.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:w.typography.pxToRem(20)},fontSizeLarge:{fontSize:w.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(st)},function(w,Ne,et){"use strict";var tt=et(81);Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=function createSvgIcon(w,Ne){var et=rt.default.memo(rt.default.forwardRef((function(Ne,et){return rt.default.createElement(it.default,(0,nt.default)({ref:et},Ne),w)})));0;return et.muiName=it.default.muiName,et};var nt=tt(et(190)),rt=tt(et(0)),it=tt(et(124))},function(w,Ne,et){"use strict";et.r(Ne);var tt=et(122);et.d(Ne,"default",(function(){return tt.a}))},function(w,Ne,et){"use strict";var tt=et(81);Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var nt=tt(et(0)),rt=(0,tt(et(123)).default)(nt.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");Ne.default=rt},function(w,Ne,et){"use strict";var tt=et(81);Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var nt=tt(et(0)),rt=(0,tt(et(123)).default)(nt.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");Ne.default=rt},function(w,Ne){w.exports=function _inheritsLoose(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}},function(w,Ne,et){"use strict";function formatMuiErrorMessage(w){for(var Ne="https://material-ui.com/production-error/?code="+w,et=1;et<arguments.length;et+=1)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified Material-UI error #"+w+"; visit "+Ne+" for the full message."}et.d(Ne,"a",(function(){return formatMuiErrorMessage}))},,,,,,,function(w,Ne,et){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=et(89),nt="function"==typeof Symbol&&Symbol.for,rt=nt?Symbol.for("react.element"):60103,it=nt?Symbol.for("react.portal"):60106,ot=nt?Symbol.for("react.fragment"):60107,at=nt?Symbol.for("react.strict_mode"):60108,st=nt?Symbol.for("react.profiler"):60114,ct=nt?Symbol.for("react.provider"):60109,pt=nt?Symbol.for("react.context"):60110,ft=nt?Symbol.for("react.forward_ref"):60112,dt=nt?Symbol.for("react.suspense"):60113,mt=nt?Symbol.for("react.memo"):60115,yt=nt?Symbol.for("react.lazy"):60116,vt="function"==typeof Symbol&&Symbol.iterator;function C(w){for(var Ne="https://reactjs.org/docs/error-decoder.html?invariant="+w,et=1;et<arguments.length;et++)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+w+"; visit "+Ne+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ot={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dt={};function F(w,Ne,et){this.props=w,this.context=Ne,this.refs=Dt,this.updater=et||Ot}function G(){}function H(w,Ne,et){this.props=w,this.context=Ne,this.refs=Dt,this.updater=et||Ot}F.prototype.isReactComponent={},F.prototype.setState=function(w,Ne){if("object"!=typeof w&&"function"!=typeof w&&null!=w)throw Error(C(85));this.updater.enqueueSetState(this,w,Ne,"setState")},F.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")},G.prototype=F.prototype;var Rt=H.prototype=new G;Rt.constructor=H,tt(Rt,F.prototype),Rt.isPureReactComponent=!0;var Bt={current:null},rn=Object.prototype.hasOwnProperty,vn={key:!0,ref:!0,__self:!0,__source:!0};function M(w,Ne,et){var tt,nt={},it=null,ot=null;if(null!=Ne)for(tt in void 0!==Ne.ref&&(ot=Ne.ref),void 0!==Ne.key&&(it=""+Ne.key),Ne)rn.call(Ne,tt)&&!vn.hasOwnProperty(tt)&&(nt[tt]=Ne[tt]);var at=arguments.length-2;if(1===at)nt.children=et;else if(1<at){for(var st=Array(at),ct=0;ct<at;ct++)st[ct]=arguments[ct+2];nt.children=st}if(w&&w.defaultProps)for(tt in at=w.defaultProps)void 0===nt[tt]&&(nt[tt]=at[tt]);return{$$typeof:rt,type:w,key:it,ref:ot,props:nt,_owner:Bt.current}}function O(w){return"object"==typeof w&&null!==w&&w.$$typeof===rt}var bn=/\/+/g,Cn=[];function R(w,Ne,et,tt){if(Cn.length){var nt=Cn.pop();return nt.result=w,nt.keyPrefix=Ne,nt.func=et,nt.context=tt,nt.count=0,nt}return{result:w,keyPrefix:Ne,func:et,context:tt,count:0}}function S(w){w.result=null,w.keyPrefix=null,w.func=null,w.context=null,w.count=0,10>Cn.length&&Cn.push(w)}function V(w,Ne,et){return null==w?0:function T(w,Ne,et,tt){var nt=typeof w;"undefined"!==nt&&"boolean"!==nt||(w=null);var ot=!1;if(null===w)ot=!0;else switch(nt){case"string":case"number":ot=!0;break;case"object":switch(w.$$typeof){case rt:case it:ot=!0}}if(ot)return et(tt,w,""===Ne?"."+U(w,0):Ne),1;if(ot=0,Ne=""===Ne?".":Ne+":",Array.isArray(w))for(var at=0;at<w.length;at++){var st=Ne+U(nt=w[at],at);ot+=T(nt,st,et,tt)}else if(null===w||"object"!=typeof w?st=null:st="function"==typeof(st=vt&&w[vt]||w["@@iterator"])?st:null,"function"==typeof st)for(w=st.call(w),at=0;!(nt=w.next()).done;)ot+=T(nt=nt.value,st=Ne+U(nt,at++),et,tt);else if("object"===nt)throw et=""+w,Error(C(31,"[object Object]"===et?"object with keys {"+Object.keys(w).join(", ")+"}":et,""));return ot}(w,"",Ne,et)}function U(w,Ne){return"object"==typeof w&&null!==w&&null!=w.key?function escape(w){var Ne={"=":"=0",":":"=2"};return"$"+(""+w).replace(/[=:]/g,(function(w){return Ne[w]}))}(w.key):Ne.toString(36)}function W(w,Ne){w.func.call(w.context,Ne,w.count++)}function aa(w,Ne,et){var tt=w.result,nt=w.keyPrefix;w=w.func.call(w.context,Ne,w.count++),Array.isArray(w)?X(w,tt,et,(function(w){return w})):null!=w&&(O(w)&&(w=function N(w,Ne){return{$$typeof:rt,type:w.type,key:Ne,ref:w.ref,props:w.props,_owner:w._owner}}(w,nt+(!w.key||Ne&&Ne.key===w.key?"":(""+w.key).replace(bn,"$&/")+"/")+et)),tt.push(w))}function X(w,Ne,et,tt,nt){var rt="";null!=et&&(rt=(""+et).replace(bn,"$&/")+"/"),V(w,aa,Ne=R(Ne,rt,tt,nt)),S(Ne)}var Tn={current:null};function Z(){var w=Tn.current;if(null===w)throw Error(C(321));return w}var In={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Bt,IsSomeRendererActing:{current:!1},assign:tt};Ne.Children={map:function(w,Ne,et){if(null==w)return w;var tt=[];return X(w,tt,null,Ne,et),tt},forEach:function(w,Ne,et){if(null==w)return w;V(w,W,Ne=R(null,null,Ne,et)),S(Ne)},count:function(w){return V(w,(function(){return null}),null)},toArray:function(w){var Ne=[];return X(w,Ne,null,(function(w){return w})),Ne},only:function(w){if(!O(w))throw Error(C(143));return w}},Ne.Component=F,Ne.Fragment=ot,Ne.Profiler=st,Ne.PureComponent=H,Ne.StrictMode=at,Ne.Suspense=dt,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=In,Ne.cloneElement=function(w,Ne,et){if(null==w)throw Error(C(267,w));var nt=tt({},w.props),it=w.key,ot=w.ref,at=w._owner;if(null!=Ne){if(void 0!==Ne.ref&&(ot=Ne.ref,at=Bt.current),void 0!==Ne.key&&(it=""+Ne.key),w.type&&w.type.defaultProps)var st=w.type.defaultProps;for(ct in Ne)rn.call(Ne,ct)&&!vn.hasOwnProperty(ct)&&(nt[ct]=void 0===Ne[ct]&&void 0!==st?st[ct]:Ne[ct])}var ct=arguments.length-2;if(1===ct)nt.children=et;else if(1<ct){st=Array(ct);for(var pt=0;pt<ct;pt++)st[pt]=arguments[pt+2];nt.children=st}return{$$typeof:rt,type:w.type,key:it,ref:ot,props:nt,_owner:at}},Ne.createContext=function(w,Ne){return void 0===Ne&&(Ne=null),(w={$$typeof:pt,_calculateChangedBits:Ne,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:ct,_context:w},w.Consumer=w},Ne.createElement=M,Ne.createFactory=function(w){var Ne=M.bind(null,w);return Ne.type=w,Ne},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(w){return{$$typeof:ft,render:w}},Ne.isValidElement=O,Ne.lazy=function(w){return{$$typeof:yt,_ctor:w,_status:-1,_result:null}},Ne.memo=function(w,Ne){return{$$typeof:mt,type:w,compare:void 0===Ne?null:Ne}},Ne.useCallback=function(w,Ne){return Z().useCallback(w,Ne)},Ne.useContext=function(w,Ne){return Z().useContext(w,Ne)},Ne.useDebugValue=function(){},Ne.useEffect=function(w,Ne){return Z().useEffect(w,Ne)},Ne.useImperativeHandle=function(w,Ne,et){return Z().useImperativeHandle(w,Ne,et)},Ne.useLayoutEffect=function(w,Ne){return Z().useLayoutEffect(w,Ne)},Ne.useMemo=function(w,Ne){return Z().useMemo(w,Ne)},Ne.useReducer=function(w,Ne,et){return Z().useReducer(w,Ne,et)},Ne.useRef=function(w){return Z().useRef(w)},Ne.useState=function(w){return Z().useState(w)},Ne.version="16.13.1"},function(w,Ne,et){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=et(0),nt=et(89),rt=et(137);function u(w){for(var Ne="https://reactjs.org/docs/error-decoder.html?invariant="+w,et=1;et<arguments.length;et++)Ne+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+w+"; visit "+Ne+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!tt)throw Error(u(227));function ba(w,Ne,et,tt,nt,rt,it,ot,at){var st=Array.prototype.slice.call(arguments,3);try{Ne.apply(et,st)}catch(w){this.onError(w)}}var it=!1,ot=null,at=!1,st=null,ct={onError:function(w){it=!0,ot=w}};function ja(w,Ne,et,tt,nt,rt,at,st,pt){it=!1,ot=null,ba.apply(ct,arguments)}var pt=null,ft=null,dt=null;function oa(w,Ne,et){var tt=w.type||"unknown-event";w.currentTarget=dt(et),function ka(w,Ne,et,tt,nt,rt,ct,pt,ft){if(ja.apply(this,arguments),it){if(!it)throw Error(u(198));var dt=ot;it=!1,ot=null,at||(at=!0,st=dt)}}(tt,Ne,void 0,w),w.currentTarget=null}var mt=null,yt={};function ra(){if(mt)for(var w in yt){var Ne=yt[w],et=mt.indexOf(w);if(!(-1<et))throw Error(u(96,w));if(!vt[et]){if(!Ne.extractEvents)throw Error(u(97,w));for(var tt in vt[et]=Ne,et=Ne.eventTypes){var nt=void 0,rt=et[tt],it=Ne,ot=tt;if(Ot.hasOwnProperty(ot))throw Error(u(99,ot));Ot[ot]=rt;var at=rt.phasedRegistrationNames;if(at){for(nt in at)at.hasOwnProperty(nt)&&ua(at[nt],it,ot);nt=!0}else rt.registrationName?(ua(rt.registrationName,it,ot),nt=!0):nt=!1;if(!nt)throw Error(u(98,tt,w))}}}}function ua(w,Ne,et){if(Dt[w])throw Error(u(100,w));Dt[w]=Ne,Rt[w]=Ne.eventTypes[et].dependencies}var vt=[],Ot={},Dt={},Rt={};function xa(w){var Ne,et=!1;for(Ne in w)if(w.hasOwnProperty(Ne)){var tt=w[Ne];if(!yt.hasOwnProperty(Ne)||yt[Ne]!==tt){if(yt[Ne])throw Error(u(102,Ne));yt[Ne]=tt,et=!0}}et&&ra()}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),rn=null,vn=null,bn=null;function Ca(w){if(w=ft(w)){if("function"!=typeof rn)throw Error(u(280));var Ne=w.stateNode;Ne&&(Ne=pt(Ne),rn(w.stateNode,w.type,Ne))}}function Da(w){vn?bn?bn.push(w):bn=[w]:vn=w}function Ea(){if(vn){var w=vn,Ne=bn;if(bn=vn=null,Ca(w),Ne)for(w=0;w<Ne.length;w++)Ca(Ne[w])}}function Fa(w,Ne){return w(Ne)}function Ga(w,Ne,et,tt,nt){return w(Ne,et,tt,nt)}function Ha(){}var Cn=Fa,Tn=!1,In=!1;function La(){null===vn&&null===bn||(Ha(),Ea())}function Ma(w,Ne,et){if(In)return w(Ne,et);In=!0;try{return Cn(w,Ne,et)}finally{In=!1,La()}}var Mn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zn=Object.prototype.hasOwnProperty,Ln={},Fn={};function v(w,Ne,et,tt,nt,rt){this.acceptsBooleans=2===Ne||3===Ne||4===Ne,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=w,this.type=Ne,this.sanitizeURL=rt}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(w){Bn[w]=new v(w,0,!1,w,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(w){var Ne=w[0];Bn[Ne]=new v(Ne,1,!1,w[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(w){Bn[w]=new v(w,2,!1,w.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(w){Bn[w]=new v(w,2,!1,w,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(w){Bn[w]=new v(w,3,!1,w.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(w){Bn[w]=new v(w,3,!0,w,null,!1)})),["capture","download"].forEach((function(w){Bn[w]=new v(w,4,!1,w,null,!1)})),["cols","rows","size","span"].forEach((function(w){Bn[w]=new v(w,6,!1,w,null,!1)})),["rowSpan","start"].forEach((function(w){Bn[w]=new v(w,5,!1,w.toLowerCase(),null,!1)}));var Nn=/[\-:]([a-z])/g;function Va(w){return w[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(w){var Ne=w.replace(Nn,Va);Bn[Ne]=new v(Ne,1,!1,w,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(w){var Ne=w.replace(Nn,Va);Bn[Ne]=new v(Ne,1,!1,w,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(w){var Ne=w.replace(Nn,Va);Bn[Ne]=new v(Ne,1,!1,w,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(w){Bn[w]=new v(w,1,!1,w.toLowerCase(),null,!1)})),Bn.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(w){Bn[w]=new v(w,1,!1,w.toLowerCase(),null,!0)}));var Vn=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Xa(w,Ne,et,tt){var nt=Bn.hasOwnProperty(Ne)?Bn[Ne]:null;(null!==nt?0===nt.type:!tt&&(2<Ne.length&&("o"===Ne[0]||"O"===Ne[0])&&("n"===Ne[1]||"N"===Ne[1])))||(function Ta(w,Ne,et,tt){if(null==Ne||function Sa(w,Ne,et,tt){if(null!==et&&0===et.type)return!1;switch(typeof Ne){case"function":case"symbol":return!0;case"boolean":return!tt&&(null!==et?!et.acceptsBooleans:"data-"!==(w=w.toLowerCase().slice(0,5))&&"aria-"!==w);default:return!1}}(w,Ne,et,tt))return!0;if(tt)return!1;if(null!==et)switch(et.type){case 3:return!Ne;case 4:return!1===Ne;case 5:return isNaN(Ne);case 6:return isNaN(Ne)||1>Ne}return!1}(Ne,et,nt,tt)&&(et=null),tt||null===nt?function Ra(w){return!!zn.call(Fn,w)||!zn.call(Ln,w)&&(Mn.test(w)?Fn[w]=!0:(Ln[w]=!0,!1))}(Ne)&&(null===et?w.removeAttribute(Ne):w.setAttribute(Ne,""+et)):nt.mustUseProperty?w[nt.propertyName]=null===et?3!==nt.type&&"":et:(Ne=nt.attributeName,tt=nt.attributeNamespace,null===et?w.removeAttribute(Ne):(et=3===(nt=nt.type)||4===nt&&!0===et?"":""+et,tt?w.setAttributeNS(tt,Ne,et):w.setAttribute(Ne,et))))}Vn.hasOwnProperty("ReactCurrentDispatcher")||(Vn.ReactCurrentDispatcher={current:null}),Vn.hasOwnProperty("ReactCurrentBatchConfig")||(Vn.ReactCurrentBatchConfig={suspense:null});var Wn=/^(.*)[\\\/]/,$n="function"==typeof Symbol&&Symbol.for,Yn=$n?Symbol.for("react.element"):60103,er=$n?Symbol.for("react.portal"):60106,rr=$n?Symbol.for("react.fragment"):60107,vr=$n?Symbol.for("react.strict_mode"):60108,wr=$n?Symbol.for("react.profiler"):60114,Sr=$n?Symbol.for("react.provider"):60109,ii=$n?Symbol.for("react.context"):60110,qi=$n?Symbol.for("react.concurrent_mode"):60111,uo=$n?Symbol.for("react.forward_ref"):60112,po=$n?Symbol.for("react.suspense"):60113,vo=$n?Symbol.for("react.suspense_list"):60120,So=$n?Symbol.for("react.memo"):60115,ta=$n?Symbol.for("react.lazy"):60116,na=$n?Symbol.for("react.block"):60121,ia="function"==typeof Symbol&&Symbol.iterator;function nb(w){return null===w||"object"!=typeof w?null:"function"==typeof(w=ia&&w[ia]||w["@@iterator"])?w:null}function pb(w){if(null==w)return null;if("function"==typeof w)return w.displayName||w.name||null;if("string"==typeof w)return w;switch(w){case rr:return"Fragment";case er:return"Portal";case wr:return"Profiler";case vr:return"StrictMode";case po:return"Suspense";case vo:return"SuspenseList"}if("object"==typeof w)switch(w.$$typeof){case ii:return"Context.Consumer";case Sr:return"Context.Provider";case uo:var Ne=w.render;return Ne=Ne.displayName||Ne.name||"",w.displayName||(""!==Ne?"ForwardRef("+Ne+")":"ForwardRef");case So:return pb(w.type);case na:return pb(w.render);case ta:if(w=1===w._status?w._result:null)return pb(w)}return null}function qb(w){var Ne="";do{e:switch(w.tag){case 3:case 4:case 6:case 7:case 10:case 9:var et="";break e;default:var tt=w._debugOwner,nt=w._debugSource,rt=pb(w.type);et=null,tt&&(et=pb(tt.type)),tt=rt,rt="",nt?rt=" (at "+nt.fileName.replace(Wn,"")+":"+nt.lineNumber+")":et&&(rt=" (created by "+et+")"),et="\n    in "+(tt||"Unknown")+rt}Ne+=et,w=w.return}while(w);return Ne}function rb(w){switch(typeof w){case"boolean":case"number":case"object":case"string":case"undefined":return w;default:return""}}function sb(w){var Ne=w.type;return(w=w.nodeName)&&"input"===w.toLowerCase()&&("checkbox"===Ne||"radio"===Ne)}function xb(w){w._valueTracker||(w._valueTracker=function tb(w){var Ne=sb(w)?"checked":"value",et=Object.getOwnPropertyDescriptor(w.constructor.prototype,Ne),tt=""+w[Ne];if(!w.hasOwnProperty(Ne)&&void 0!==et&&"function"==typeof et.get&&"function"==typeof et.set){var nt=et.get,rt=et.set;return Object.defineProperty(w,Ne,{configurable:!0,get:function(){return nt.call(this)},set:function(w){tt=""+w,rt.call(this,w)}}),Object.defineProperty(w,Ne,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(w){tt=""+w},stopTracking:function(){w._valueTracker=null,delete w[Ne]}}}}(w))}function yb(w){if(!w)return!1;var Ne=w._valueTracker;if(!Ne)return!0;var et=Ne.getValue(),tt="";return w&&(tt=sb(w)?w.checked?"true":"false":w.value),(w=tt)!==et&&(Ne.setValue(w),!0)}function zb(w,Ne){var et=Ne.checked;return nt({},Ne,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=et?et:w._wrapperState.initialChecked})}function Ab(w,Ne){var et=null==Ne.defaultValue?"":Ne.defaultValue,tt=null!=Ne.checked?Ne.checked:Ne.defaultChecked;et=rb(null!=Ne.value?Ne.value:et),w._wrapperState={initialChecked:tt,initialValue:et,controlled:"checkbox"===Ne.type||"radio"===Ne.type?null!=Ne.checked:null!=Ne.value}}function Bb(w,Ne){null!=(Ne=Ne.checked)&&Xa(w,"checked",Ne,!1)}function Cb(w,Ne){Bb(w,Ne);var et=rb(Ne.value),tt=Ne.type;if(null!=et)"number"===tt?(0===et&&""===w.value||w.value!=et)&&(w.value=""+et):w.value!==""+et&&(w.value=""+et);else if("submit"===tt||"reset"===tt)return void w.removeAttribute("value");Ne.hasOwnProperty("value")?Db(w,Ne.type,et):Ne.hasOwnProperty("defaultValue")&&Db(w,Ne.type,rb(Ne.defaultValue)),null==Ne.checked&&null!=Ne.defaultChecked&&(w.defaultChecked=!!Ne.defaultChecked)}function Eb(w,Ne,et){if(Ne.hasOwnProperty("value")||Ne.hasOwnProperty("defaultValue")){var tt=Ne.type;if(!("submit"!==tt&&"reset"!==tt||void 0!==Ne.value&&null!==Ne.value))return;Ne=""+w._wrapperState.initialValue,et||Ne===w.value||(w.value=Ne),w.defaultValue=Ne}""!==(et=w.name)&&(w.name=""),w.defaultChecked=!!w._wrapperState.initialChecked,""!==et&&(w.name=et)}function Db(w,Ne,et){"number"===Ne&&w.ownerDocument.activeElement===w||(null==et?w.defaultValue=""+w._wrapperState.initialValue:w.defaultValue!==""+et&&(w.defaultValue=""+et))}function Gb(w,Ne){return w=nt({children:void 0},Ne),(Ne=function Fb(w){var Ne="";return tt.Children.forEach(w,(function(w){null!=w&&(Ne+=w)})),Ne}(Ne.children))&&(w.children=Ne),w}function Hb(w,Ne,et,tt){if(w=w.options,Ne){Ne={};for(var nt=0;nt<et.length;nt++)Ne["$"+et[nt]]=!0;for(et=0;et<w.length;et++)nt=Ne.hasOwnProperty("$"+w[et].value),w[et].selected!==nt&&(w[et].selected=nt),nt&&tt&&(w[et].defaultSelected=!0)}else{for(et=""+rb(et),Ne=null,nt=0;nt<w.length;nt++){if(w[nt].value===et)return w[nt].selected=!0,void(tt&&(w[nt].defaultSelected=!0));null!==Ne||w[nt].disabled||(Ne=w[nt])}null!==Ne&&(Ne.selected=!0)}}function Ib(w,Ne){if(null!=Ne.dangerouslySetInnerHTML)throw Error(u(91));return nt({},Ne,{value:void 0,defaultValue:void 0,children:""+w._wrapperState.initialValue})}function Jb(w,Ne){var et=Ne.value;if(null==et){if(et=Ne.children,Ne=Ne.defaultValue,null!=et){if(null!=Ne)throw Error(u(92));if(Array.isArray(et)){if(!(1>=et.length))throw Error(u(93));et=et[0]}Ne=et}null==Ne&&(Ne=""),et=Ne}w._wrapperState={initialValue:rb(et)}}function Kb(w,Ne){var et=rb(Ne.value),tt=rb(Ne.defaultValue);null!=et&&((et=""+et)!==w.value&&(w.value=et),null==Ne.defaultValue&&w.defaultValue!==et&&(w.defaultValue=et)),null!=tt&&(w.defaultValue=""+tt)}function Lb(w){var Ne=w.textContent;Ne===w._wrapperState.initialValue&&""!==Ne&&null!==Ne&&(w.value=Ne)}var sa="http://www.w3.org/1999/xhtml",la="http://www.w3.org/2000/svg";function Nb(w){switch(w){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ob(w,Ne){return null==w||"http://www.w3.org/1999/xhtml"===w?Nb(Ne):"http://www.w3.org/2000/svg"===w&&"foreignObject"===Ne?"http://www.w3.org/1999/xhtml":w}var pa,fa=function(w){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(Ne,et,tt,nt){MSApp.execUnsafeLocalFunction((function(){return w(Ne,et)}))}:w}((function(w,Ne){if(w.namespaceURI!==la||"innerHTML"in w)w.innerHTML=Ne;else{for((pa=pa||document.createElement("div")).innerHTML="<svg>"+Ne.valueOf().toString()+"</svg>",Ne=pa.firstChild;w.firstChild;)w.removeChild(w.firstChild);for(;Ne.firstChild;)w.appendChild(Ne.firstChild)}}));function Rb(w,Ne){if(Ne){var et=w.firstChild;if(et&&et===w.lastChild&&3===et.nodeType)return void(et.nodeValue=Ne)}w.textContent=Ne}function Sb(w,Ne){var et={};return et[w.toLowerCase()]=Ne.toLowerCase(),et["Webkit"+w]="webkit"+Ne,et["Moz"+w]="moz"+Ne,et}var ga={animationend:Sb("Animation","AnimationEnd"),animationiteration:Sb("Animation","AnimationIteration"),animationstart:Sb("Animation","AnimationStart"),transitionend:Sb("Transition","TransitionEnd")},va={},_a={};function Wb(w){if(va[w])return va[w];if(!ga[w])return w;var Ne,et=ga[w];for(Ne in et)if(et.hasOwnProperty(Ne)&&Ne in _a)return va[w]=et[Ne];return w}Bt&&(_a=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);var wa=Wb("animationend"),Aa=Wb("animationiteration"),os=Wb("animationstart"),as=Wb("transitionend"),ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ls=new("function"==typeof WeakMap?WeakMap:Map);function cc(w){var Ne=ls.get(w);return void 0===Ne&&(Ne=new Map,ls.set(w,Ne)),Ne}function dc(w){var Ne=w,et=w;if(w.alternate)for(;Ne.return;)Ne=Ne.return;else{w=Ne;do{0!=(1026&(Ne=w).effectTag)&&(et=Ne.return),w=Ne.return}while(w)}return 3===Ne.tag?et:null}function ec(w){if(13===w.tag){var Ne=w.memoizedState;if(null===Ne&&(null!==(w=w.alternate)&&(Ne=w.memoizedState)),null!==Ne)return Ne.dehydrated}return null}function fc(w){if(dc(w)!==w)throw Error(u(188))}function hc(w){if(!(w=function gc(w){var Ne=w.alternate;if(!Ne){if(null===(Ne=dc(w)))throw Error(u(188));return Ne!==w?null:w}for(var et=w,tt=Ne;;){var nt=et.return;if(null===nt)break;var rt=nt.alternate;if(null===rt){if(null!==(tt=nt.return)){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return fc(nt),w;if(rt===tt)return fc(nt),Ne;rt=rt.sibling}throw Error(u(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,ot=nt.child;ot;){if(ot===et){it=!0,et=nt,tt=rt;break}if(ot===tt){it=!0,tt=nt,et=rt;break}ot=ot.sibling}if(!it){for(ot=rt.child;ot;){if(ot===et){it=!0,et=rt,tt=nt;break}if(ot===tt){it=!0,tt=rt,et=nt;break}ot=ot.sibling}if(!it)throw Error(u(189))}}if(et.alternate!==tt)throw Error(u(190))}if(3!==et.tag)throw Error(u(188));return et.stateNode.current===et?w:Ne}(w)))return null;for(var Ne=w;;){if(5===Ne.tag||6===Ne.tag)return Ne;if(Ne.child)Ne.child.return=Ne,Ne=Ne.child;else{if(Ne===w)break;for(;!Ne.sibling;){if(!Ne.return||Ne.return===w)return null;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}}return null}function ic(w,Ne){if(null==Ne)throw Error(u(30));return null==w?Ne:Array.isArray(w)?Array.isArray(Ne)?(w.push.apply(w,Ne),w):(w.push(Ne),w):Array.isArray(Ne)?[w].concat(Ne):[w,Ne]}function jc(w,Ne,et){Array.isArray(w)?w.forEach(Ne,et):w&&Ne.call(et,w)}var us=null;function lc(w){if(w){var Ne=w._dispatchListeners,et=w._dispatchInstances;if(Array.isArray(Ne))for(var tt=0;tt<Ne.length&&!w.isPropagationStopped();tt++)oa(w,Ne[tt],et[tt]);else Ne&&oa(w,Ne,et);w._dispatchListeners=null,w._dispatchInstances=null,w.isPersistent()||w.constructor.release(w)}}function mc(w){if(null!==w&&(us=ic(us,w)),w=us,us=null,w){if(jc(w,lc),us)throw Error(u(95));if(at)throw w=st,at=!1,st=null,w}}function nc(w){return(w=w.target||w.srcElement||window).correspondingUseElement&&(w=w.correspondingUseElement),3===w.nodeType?w.parentNode:w}function oc(w){if(!Bt)return!1;var Ne=(w="on"+w)in document;return Ne||((Ne=document.createElement("div")).setAttribute(w,"return;"),Ne="function"==typeof Ne[w]),Ne}var fs=[];function qc(w){w.topLevelType=null,w.nativeEvent=null,w.targetInst=null,w.ancestors.length=0,10>fs.length&&fs.push(w)}function rc(w,Ne,et,tt){if(fs.length){var nt=fs.pop();return nt.topLevelType=w,nt.eventSystemFlags=tt,nt.nativeEvent=Ne,nt.targetInst=et,nt}return{topLevelType:w,eventSystemFlags:tt,nativeEvent:Ne,targetInst:et,ancestors:[]}}function sc(w){var Ne=w.targetInst,et=Ne;do{if(!et){w.ancestors.push(et);break}var tt=et;if(3===tt.tag)tt=tt.stateNode.containerInfo;else{for(;tt.return;)tt=tt.return;tt=3!==tt.tag?null:tt.stateNode.containerInfo}if(!tt)break;5!==(Ne=et.tag)&&6!==Ne||w.ancestors.push(et),et=tc(tt)}while(et);for(et=0;et<w.ancestors.length;et++){Ne=w.ancestors[et];var nt=nc(w.nativeEvent);tt=w.topLevelType;var rt=w.nativeEvent,it=w.eventSystemFlags;0===et&&(it|=64);for(var ot=null,at=0;at<vt.length;at++){var st=vt[at];st&&(st=st.extractEvents(tt,Ne,rt,nt,it))&&(ot=ic(ot,st))}mc(ot)}}function uc(w,Ne,et){if(!et.has(w)){switch(w){case"scroll":vc(Ne,"scroll",!0);break;case"focus":case"blur":vc(Ne,"focus",!0),vc(Ne,"blur",!0),et.set("blur",null),et.set("focus",null);break;case"cancel":case"close":oc(w)&&vc(Ne,w,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ss.indexOf(w)&&F(w,Ne)}et.set(w,null)}}var gs,vs,xs,Ss=!1,Es=[],Cs=null,Ps=null,As=null,Ms=new Map,Os=new Map,zs=[],Ls="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Rs="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Kc(w,Ne,et,tt,nt){return{blockedOn:w,topLevelType:Ne,eventSystemFlags:32|et,nativeEvent:nt,container:tt}}function Lc(w,Ne){switch(w){case"focus":case"blur":Cs=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Ms.delete(Ne.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(Ne.pointerId)}}function Mc(w,Ne,et,tt,nt,rt){return null===w||w.nativeEvent!==rt?(w=Kc(Ne,et,tt,nt,rt),null!==Ne&&(null!==(Ne=Nc(Ne))&&vs(Ne)),w):(w.eventSystemFlags|=tt,w)}function Pc(w){var Ne=tc(w.target);if(null!==Ne){var et=dc(Ne);if(null!==et)if(13===(Ne=et.tag)){if(null!==(Ne=ec(et)))return w.blockedOn=Ne,void rt.unstable_runWithPriority(w.priority,(function(){xs(et)}))}else if(3===Ne&&et.stateNode.hydrate)return void(w.blockedOn=3===et.tag?et.stateNode.containerInfo:null)}w.blockedOn=null}function Qc(w){if(null!==w.blockedOn)return!1;var Ne=Rc(w.topLevelType,w.eventSystemFlags,w.container,w.nativeEvent);if(null!==Ne){var et=Nc(Ne);return null!==et&&vs(et),w.blockedOn=Ne,!1}return!0}function Sc(w,Ne,et){Qc(w)&&et.delete(Ne)}function Tc(){for(Ss=!1;0<Es.length;){var w=Es[0];if(null!==w.blockedOn){null!==(w=Nc(w.blockedOn))&&gs(w);break}var Ne=Rc(w.topLevelType,w.eventSystemFlags,w.container,w.nativeEvent);null!==Ne?w.blockedOn=Ne:Es.shift()}null!==Cs&&Qc(Cs)&&(Cs=null),null!==Ps&&Qc(Ps)&&(Ps=null),null!==As&&Qc(As)&&(As=null),Ms.forEach(Sc),Os.forEach(Sc)}function Uc(w,Ne){w.blockedOn===Ne&&(w.blockedOn=null,Ss||(Ss=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Tc)))}function Vc(w){function b(Ne){return Uc(Ne,w)}if(0<Es.length){Uc(Es[0],w);for(var Ne=1;Ne<Es.length;Ne++){var et=Es[Ne];et.blockedOn===w&&(et.blockedOn=null)}}for(null!==Cs&&Uc(Cs,w),null!==Ps&&Uc(Ps,w),null!==As&&Uc(As,w),Ms.forEach(b),Os.forEach(b),Ne=0;Ne<zs.length;Ne++)(et=zs[Ne]).blockedOn===w&&(et.blockedOn=null);for(;0<zs.length&&null===(Ne=zs[0]).blockedOn;)Pc(Ne),null===Ne.blockedOn&&zs.shift()}var Fs={},Bs=new Map,js=new Map,Ns=["abort","abort",wa,"animationEnd",Aa,"animationIteration",os,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",as,"transitionEnd","waiting","waiting"];function ad(w,Ne){for(var et=0;et<w.length;et+=2){var tt=w[et],nt=w[et+1],rt="on"+(nt[0].toUpperCase()+nt.slice(1));rt={phasedRegistrationNames:{bubbled:rt,captured:rt+"Capture"},dependencies:[tt],eventPriority:Ne},js.set(tt,Ne),Bs.set(tt,rt),Fs[nt]=rt}}ad("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ad("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ad(Ns,2);for(var Vs="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Us=0;Us<Vs.length;Us++)js.set(Vs[Us],0);var Zs=rt.unstable_UserBlockingPriority,Js=rt.unstable_runWithPriority,tl=!0;function F(w,Ne){vc(Ne,w,!1)}function vc(w,Ne,et){var tt=js.get(Ne);switch(void 0===tt?2:tt){case 0:tt=gd.bind(null,Ne,1,w);break;case 1:tt=hd.bind(null,Ne,1,w);break;default:tt=id.bind(null,Ne,1,w)}et?w.addEventListener(Ne,tt,!0):w.addEventListener(Ne,tt,!1)}function gd(w,Ne,et,tt){Tn||Ha();var nt=id,rt=Tn;Tn=!0;try{Ga(nt,w,Ne,et,tt)}finally{(Tn=rt)||La()}}function hd(w,Ne,et,tt){Js(Zs,id.bind(null,w,Ne,et,tt))}function id(w,Ne,et,tt){if(tl)if(0<Es.length&&-1<Ls.indexOf(w))w=Kc(null,w,Ne,et,tt),Es.push(w);else{var nt=Rc(w,Ne,et,tt);if(null===nt)Lc(w,tt);else if(-1<Ls.indexOf(w))w=Kc(nt,w,Ne,et,tt),Es.push(w);else if(!function Oc(w,Ne,et,tt,nt){switch(Ne){case"focus":return Cs=Mc(Cs,w,Ne,et,tt,nt),!0;case"dragenter":return Ps=Mc(Ps,w,Ne,et,tt,nt),!0;case"mouseover":return As=Mc(As,w,Ne,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Ms.set(rt,Mc(Ms.get(rt)||null,w,Ne,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Os.set(rt,Mc(Os.get(rt)||null,w,Ne,et,tt,nt)),!0}return!1}(nt,w,Ne,et,tt)){Lc(w,tt),w=rc(w,tt,null,Ne);try{Ma(sc,w)}finally{qc(w)}}}}function Rc(w,Ne,et,tt){if(null!==(et=tc(et=nc(tt)))){var nt=dc(et);if(null===nt)et=null;else{var rt=nt.tag;if(13===rt){if(null!==(et=ec(nt)))return et;et=null}else if(3===rt){if(nt.stateNode.hydrate)return 3===nt.tag?nt.stateNode.containerInfo:null;et=null}else nt!==et&&(et=null)}}w=rc(w,tt,et,Ne);try{Ma(sc,w)}finally{qc(w)}return null}var ol={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sl=["Webkit","ms","Moz","O"];function ld(w,Ne,et){return null==Ne||"boolean"==typeof Ne||""===Ne?"":et||"number"!=typeof Ne||0===Ne||ol.hasOwnProperty(w)&&ol[w]?(""+Ne).trim():Ne+"px"}function md(w,Ne){for(var et in w=w.style,Ne)if(Ne.hasOwnProperty(et)){var tt=0===et.indexOf("--"),nt=ld(et,Ne[et],tt);"float"===et&&(et="cssFloat"),tt?w.setProperty(et,nt):w[et]=nt}}Object.keys(ol).forEach((function(w){sl.forEach((function(Ne){Ne=Ne+w.charAt(0).toUpperCase()+w.substring(1),ol[Ne]=ol[w]}))}));var dl=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(w,Ne){if(Ne){if(dl[w]&&(null!=Ne.children||null!=Ne.dangerouslySetInnerHTML))throw Error(u(137,w,""));if(null!=Ne.dangerouslySetInnerHTML){if(null!=Ne.children)throw Error(u(60));if("object"!=typeof Ne.dangerouslySetInnerHTML||!("__html"in Ne.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=Ne.style&&"object"!=typeof Ne.style)throw Error(u(62,""))}}function pd(w,Ne){if(-1===w.indexOf("-"))return"string"==typeof Ne.is;switch(w){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=sa;function rd(w,Ne){var et=cc(w=9===w.nodeType||11===w.nodeType?w:w.ownerDocument);Ne=Rt[Ne];for(var tt=0;tt<Ne.length;tt++)uc(Ne[tt],w,et)}function sd(){}function td(w){if(void 0===(w=w||("undefined"!=typeof document?document:void 0)))return null;try{return w.activeElement||w.body}catch(Ne){return w.body}}function ud(w){for(;w&&w.firstChild;)w=w.firstChild;return w}function vd(w,Ne){var et,tt=ud(w);for(w=0;tt;){if(3===tt.nodeType){if(et=w+tt.textContent.length,w<=Ne&&et>=Ne)return{node:tt,offset:Ne-w};w=et}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=ud(tt)}}function xd(){for(var w=window,Ne=td();Ne instanceof w.HTMLIFrameElement;){try{var et="string"==typeof Ne.contentWindow.location.href}catch(w){et=!1}if(!et)break;Ne=td((w=Ne.contentWindow).document)}return Ne}function yd(w){var Ne=w&&w.nodeName&&w.nodeName.toLowerCase();return Ne&&("input"===Ne&&("text"===w.type||"search"===w.type||"tel"===w.type||"url"===w.type||"password"===w.type)||"textarea"===Ne||"true"===w.contentEditable)}var gl=null,vl=null;function Fd(w,Ne){switch(w){case"button":case"input":case"select":case"textarea":return!!Ne.autoFocus}return!1}function Gd(w,Ne){return"textarea"===w||"option"===w||"noscript"===w||"string"==typeof Ne.children||"number"==typeof Ne.children||"object"==typeof Ne.dangerouslySetInnerHTML&&null!==Ne.dangerouslySetInnerHTML&&null!=Ne.dangerouslySetInnerHTML.__html}var _l="function"==typeof setTimeout?setTimeout:void 0,bl="function"==typeof clearTimeout?clearTimeout:void 0;function Jd(w){for(;null!=w;w=w.nextSibling){var Ne=w.nodeType;if(1===Ne||3===Ne)break}return w}function Kd(w){w=w.previousSibling;for(var Ne=0;w;){if(8===w.nodeType){var et=w.data;if("$"===et||"$!"===et||"$?"===et){if(0===Ne)return w;Ne--}else"/$"===et&&Ne++}w=w.previousSibling}return null}var xl=Math.random().toString(36).slice(2),wl="__reactInternalInstance$"+xl,Sl="__reactEventHandlers$"+xl,kl="__reactContainere$"+xl;function tc(w){var Ne=w[wl];if(Ne)return Ne;for(var et=w.parentNode;et;){if(Ne=et[kl]||et[wl]){if(et=Ne.alternate,null!==Ne.child||null!==et&&null!==et.child)for(w=Kd(w);null!==w;){if(et=w[wl])return et;w=Kd(w)}return Ne}et=(w=et).parentNode}return null}function Nc(w){return!(w=w[wl]||w[kl])||5!==w.tag&&6!==w.tag&&13!==w.tag&&3!==w.tag?null:w}function Pd(w){if(5===w.tag||6===w.tag)return w.stateNode;throw Error(u(33))}function Qd(w){return w[Sl]||null}function Rd(w){do{w=w.return}while(w&&5!==w.tag);return w||null}function Sd(w,Ne){var et=w.stateNode;if(!et)return null;var tt=pt(et);if(!tt)return null;et=tt[Ne];e:switch(Ne){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(tt=!("button"===(w=w.type)||"input"===w||"select"===w||"textarea"===w)),w=!tt;break e;default:w=!1}if(w)return null;if(et&&"function"!=typeof et)throw Error(u(231,Ne,typeof et));return et}function Td(w,Ne,et){(Ne=Sd(w,et.dispatchConfig.phasedRegistrationNames[Ne]))&&(et._dispatchListeners=ic(et._dispatchListeners,Ne),et._dispatchInstances=ic(et._dispatchInstances,w))}function Ud(w){if(w&&w.dispatchConfig.phasedRegistrationNames){for(var Ne=w._targetInst,et=[];Ne;)et.push(Ne),Ne=Rd(Ne);for(Ne=et.length;0<Ne--;)Td(et[Ne],"captured",w);for(Ne=0;Ne<et.length;Ne++)Td(et[Ne],"bubbled",w)}}function Vd(w,Ne,et){w&&et&&et.dispatchConfig.registrationName&&(Ne=Sd(w,et.dispatchConfig.registrationName))&&(et._dispatchListeners=ic(et._dispatchListeners,Ne),et._dispatchInstances=ic(et._dispatchInstances,w))}function Wd(w){w&&w.dispatchConfig.registrationName&&Vd(w._targetInst,null,w)}function Xd(w){jc(w,Ud)}var Cl=null,Il=null,Al=null;function ae(){if(Al)return Al;var w,Ne,et=Il,tt=et.length,nt="value"in Cl?Cl.value:Cl.textContent,rt=nt.length;for(w=0;w<tt&&et[w]===nt[w];w++);var it=tt-w;for(Ne=1;Ne<=it&&et[tt-Ne]===nt[rt-Ne];Ne++);return Al=nt.slice(w,1<Ne?1-Ne:void 0)}function be(){return!0}function ce(){return!1}function G(w,Ne,et,tt){for(var nt in this.dispatchConfig=w,this._targetInst=Ne,this.nativeEvent=et,w=this.constructor.Interface)w.hasOwnProperty(nt)&&((Ne=w[nt])?this[nt]=Ne(et):"target"===nt?this.target=tt:this[nt]=et[nt]);return this.isDefaultPrevented=(null!=et.defaultPrevented?et.defaultPrevented:!1===et.returnValue)?be:ce,this.isPropagationStopped=ce,this}function ee(w,Ne,et,tt){if(this.eventPool.length){var nt=this.eventPool.pop();return this.call(nt,w,Ne,et,tt),nt}return new this(w,Ne,et,tt)}function fe(w){if(!(w instanceof this))throw Error(u(279));w.destructor(),10>this.eventPool.length&&this.eventPool.push(w)}function de(w){w.eventPool=[],w.getPooled=ee,w.release=fe}nt(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():"unknown"!=typeof w.returnValue&&(w.returnValue=!1),this.isDefaultPrevented=be)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():"unknown"!=typeof w.cancelBubble&&(w.cancelBubble=!0),this.isPropagationStopped=be)},persist:function(){this.isPersistent=be},isPersistent:ce,destructor:function(){var w,Ne=this.constructor.Interface;for(w in Ne)this[w]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),G.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(w){return w.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},G.extend=function(w){function b(){}function c(){return Ne.apply(this,arguments)}var Ne=this;b.prototype=Ne.prototype;var et=new b;return nt(et,c.prototype),c.prototype=et,c.prototype.constructor=c,c.Interface=nt({},Ne.Interface,w),c.extend=Ne.extend,de(c),c},de(G);var zl=G.extend({data:null}),Fl=G.extend({data:null}),Hl=[9,13,27,32],du=Bt&&"CompositionEvent"in window,vu=null;Bt&&"documentMode"in document&&(vu=document.documentMode);var _u=Bt&&"TextEvent"in window&&!vu,wu=Bt&&(!du||vu&&8<vu&&11>=vu),Tu=String.fromCharCode(32),Fu={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ac=!1;function qe(w,Ne){switch(w){case"keyup":return-1!==Hl.indexOf(Ne.keyCode);case"keydown":return 229!==Ne.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function re(w){return"object"==typeof(w=w.detail)&&"data"in w?w.data:null}var pc=!1;var yc={eventTypes:Fu,extractEvents:function(w,Ne,et,tt){var nt;if(du)e:{switch(w){case"compositionstart":var rt=Fu.compositionStart;break e;case"compositionend":rt=Fu.compositionEnd;break e;case"compositionupdate":rt=Fu.compositionUpdate;break e}rt=void 0}else pc?qe(w,et)&&(rt=Fu.compositionEnd):"keydown"===w&&229===et.keyCode&&(rt=Fu.compositionStart);return rt?(wu&&"ko"!==et.locale&&(pc||rt!==Fu.compositionStart?rt===Fu.compositionEnd&&pc&&(nt=ae()):(Il="value"in(Cl=tt)?Cl.value:Cl.textContent,pc=!0)),rt=zl.getPooled(rt,Ne,et,tt),nt?rt.data=nt:null!==(nt=re(et))&&(rt.data=nt),Xd(rt),nt=rt):nt=null,(w=_u?function te(w,Ne){switch(w){case"compositionend":return re(Ne);case"keypress":return 32!==Ne.which?null:(ac=!0,Tu);case"textInput":return(w=Ne.data)===Tu&&ac?null:w;default:return null}}(w,et):function ue(w,Ne){if(pc)return"compositionend"===w||!du&&qe(w,Ne)?(w=ae(),Al=Il=Cl=null,pc=!1,w):null;switch(w){case"paste":return null;case"keypress":if(!(Ne.ctrlKey||Ne.altKey||Ne.metaKey)||Ne.ctrlKey&&Ne.altKey){if(Ne.char&&1<Ne.char.length)return Ne.char;if(Ne.which)return String.fromCharCode(Ne.which)}return null;case"compositionend":return wu&&"ko"!==Ne.locale?null:Ne.data;default:return null}}(w,et))?((Ne=Fl.getPooled(Fu.beforeInput,Ne,et,tt)).data=w,Xd(Ne)):Ne=null,null===nt?Ne:null===Ne?nt:[nt,Ne]}},_c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(w){var Ne=w&&w.nodeName&&w.nodeName.toLowerCase();return"input"===Ne?!!_c[w.type]:"textarea"===Ne}var bc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ze(w,Ne,et){return(w=G.getPooled(bc.change,w,Ne,et)).type="change",Da(et),Xd(w),w}var xc=null,wc=null;function Ce(w){mc(w)}function De(w){if(yb(Pd(w)))return w}function Ee(w,Ne){if("change"===w)return Ne}var Ec=!1;function Ge(){xc&&(xc.detachEvent("onpropertychange",He),wc=xc=null)}function He(w){if("value"===w.propertyName&&De(wc))if(w=ze(wc,w,nc(w)),Tn)mc(w);else{Tn=!0;try{Fa(Ce,w)}finally{Tn=!1,La()}}}function Ie(w,Ne,et){"focus"===w?(Ge(),wc=et,(xc=Ne).attachEvent("onpropertychange",He)):"blur"===w&&Ge()}function Je(w){if("selectionchange"===w||"keyup"===w||"keydown"===w)return De(wc)}function Ke(w,Ne){if("click"===w)return De(Ne)}function Le(w,Ne){if("input"===w||"change"===w)return De(Ne)}Bt&&(Ec=oc("input")&&(!document.documentMode||9<document.documentMode));var kc={eventTypes:bc,_isInputEventSupported:Ec,extractEvents:function(w,Ne,et,tt){var nt=Ne?Pd(Ne):window,rt=nt.nodeName&&nt.nodeName.toLowerCase();if("select"===rt||"input"===rt&&"file"===nt.type)var it=Ee;else if(xe(nt))if(Ec)it=Le;else{it=Je;var ot=Ie}else(rt=nt.nodeName)&&"input"===rt.toLowerCase()&&("checkbox"===nt.type||"radio"===nt.type)&&(it=Ke);if(it&&(it=it(w,Ne)))return ze(it,et,tt);ot&&ot(w,nt,Ne),"blur"===w&&(w=nt._wrapperState)&&w.controlled&&"number"===nt.type&&Db(nt,"number",nt.value)}},Cc=G.extend({view:null,detail:null}),Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(w){var Ne=this.nativeEvent;return Ne.getModifierState?Ne.getModifierState(w):!!(w=Ic[w])&&!!Ne[w]}function Qe(){return Pe}var Ac=0,zc=0,Dc=!1,Fc=!1,Bc=Cc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:function(w){return w.relatedTarget||(w.fromElement===w.srcElement?w.toElement:w.fromElement)},movementX:function(w){if("movementX"in w)return w.movementX;var Ne=Ac;return Ac=w.screenX,Dc?"mousemove"===w.type?w.screenX-Ne:0:(Dc=!0,0)},movementY:function(w){if("movementY"in w)return w.movementY;var Ne=zc;return zc=w.screenY,Fc?"mousemove"===w.type?w.screenY-Ne:0:(Fc=!0,0)}}),Wc=Bc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Hc={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Gc={eventTypes:Hc,extractEvents:function(w,Ne,et,tt,nt){var rt="mouseover"===w||"pointerover"===w,it="mouseout"===w||"pointerout"===w;if(rt&&0==(32&nt)&&(et.relatedTarget||et.fromElement)||!it&&!rt)return null;(rt=tt.window===tt?tt:(rt=tt.ownerDocument)?rt.defaultView||rt.parentWindow:window,it)?(it=Ne,null!==(Ne=(Ne=et.relatedTarget||et.toElement)?tc(Ne):null)&&(Ne!==dc(Ne)||5!==Ne.tag&&6!==Ne.tag)&&(Ne=null)):it=null;if(it===Ne)return null;if("mouseout"===w||"mouseover"===w)var ot=Bc,at=Hc.mouseLeave,st=Hc.mouseEnter,ct="mouse";else"pointerout"!==w&&"pointerover"!==w||(ot=Wc,at=Hc.pointerLeave,st=Hc.pointerEnter,ct="pointer");if(w=null==it?rt:Pd(it),rt=null==Ne?rt:Pd(Ne),(at=ot.getPooled(at,it,et,tt)).type=ct+"leave",at.target=w,at.relatedTarget=rt,(et=ot.getPooled(st,Ne,et,tt)).type=ct+"enter",et.target=rt,et.relatedTarget=w,ct=Ne,(tt=it)&&ct)e:{for(st=ct,it=0,w=ot=tt;w;w=Rd(w))it++;for(w=0,Ne=st;Ne;Ne=Rd(Ne))w++;for(;0<it-w;)ot=Rd(ot),it--;for(;0<w-it;)st=Rd(st),w--;for(;it--;){if(ot===st||ot===st.alternate)break e;ot=Rd(ot),st=Rd(st)}ot=null}else ot=null;for(st=ot,ot=[];tt&&tt!==st&&(null===(it=tt.alternate)||it!==st);)ot.push(tt),tt=Rd(tt);for(tt=[];ct&&ct!==st&&(null===(it=ct.alternate)||it!==st);)tt.push(ct),ct=Rd(ct);for(ct=0;ct<ot.length;ct++)Vd(ot[ct],"bubbled",at);for(ct=tt.length;0<ct--;)Vd(tt[ct],"captured",et);return 0==(64&nt)?[at]:[at,et]}};var Zc="function"==typeof Object.is?Object.is:function Ze(w,Ne){return w===Ne&&(0!==w||1/w==1/Ne)||w!=w&&Ne!=Ne},Xc=Object.prototype.hasOwnProperty;function bf(w,Ne){if(Zc(w,Ne))return!0;if("object"!=typeof w||null===w||"object"!=typeof Ne||null===Ne)return!1;var et=Object.keys(w),tt=Object.keys(Ne);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++)if(!Xc.call(Ne,et[tt])||!Zc(w[et[tt]],Ne[et[tt]]))return!1;return!0}var $c=Bt&&"documentMode"in document&&11>=document.documentMode,Yc={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},rp=null,ip=null,op=null,ap=!1;function jf(w,Ne){var et=Ne.window===Ne?Ne.document:9===Ne.nodeType?Ne:Ne.ownerDocument;return ap||null==rp||rp!==td(et)?null:("selectionStart"in(et=rp)&&yd(et)?et={start:et.selectionStart,end:et.selectionEnd}:et={anchorNode:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset},op&&bf(op,et)?null:(op=et,(w=G.getPooled(Yc.select,ip,w,Ne)).type="select",w.target=rp,Xd(w),w))}var sp={eventTypes:Yc,extractEvents:function(w,Ne,et,tt,nt,rt){if(!(rt=!(nt=rt||(tt.window===tt?tt.document:9===tt.nodeType?tt:tt.ownerDocument)))){e:{nt=cc(nt),rt=Rt.onSelect;for(var it=0;it<rt.length;it++)if(!nt.has(rt[it])){nt=!1;break e}nt=!0}rt=!nt}if(rt)return null;switch(nt=Ne?Pd(Ne):window,w){case"focus":(xe(nt)||"true"===nt.contentEditable)&&(rp=nt,ip=Ne,op=null);break;case"blur":op=ip=rp=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":return ap=!1,jf(et,tt);case"selectionchange":if($c)break;case"keydown":case"keyup":return jf(et,tt)}return null}},lp=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cp=G.extend({clipboardData:function(w){return"clipboardData"in w?w.clipboardData:window.clipboardData}}),pp=Cc.extend({relatedTarget:null});function of(w){var Ne=w.keyCode;return"charCode"in w?0===(w=w.charCode)&&13===Ne&&(w=13):w=Ne,10===w&&(w=13),32<=w||13===w?w:0}var hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dp=Cc.extend({key:function(w){if(w.key){var Ne=hp[w.key]||w.key;if("Unidentified"!==Ne)return Ne}return"keypress"===w.type?13===(w=of(w))?"Enter":String.fromCharCode(w):"keydown"===w.type||"keyup"===w.type?fp[w.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:function(w){return"keypress"===w.type?of(w):0},keyCode:function(w){return"keydown"===w.type||"keyup"===w.type?w.keyCode:0},which:function(w){return"keypress"===w.type?of(w):"keydown"===w.type||"keyup"===w.type?w.keyCode:0}}),mp=Bc.extend({dataTransfer:null}),yp=Cc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),gp=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),vp=Bc.extend({deltaX:function(w){return"deltaX"in w?w.deltaX:"wheelDeltaX"in w?-w.wheelDeltaX:0},deltaY:function(w){return"deltaY"in w?w.deltaY:"wheelDeltaY"in w?-w.wheelDeltaY:"wheelDelta"in w?-w.wheelDelta:0},deltaZ:null,deltaMode:null}),_p={eventTypes:Fs,extractEvents:function(w,Ne,et,tt){var nt=Bs.get(w);if(!nt)return null;switch(w){case"keypress":if(0===of(et))return null;case"keydown":case"keyup":w=dp;break;case"blur":case"focus":w=pp;break;case"click":if(2===et.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=yp;break;case wa:case Aa:case os:w=lp;break;case as:w=gp;break;case"scroll":w=Cc;break;case"wheel":w=vp;break;case"copy":case"cut":case"paste":w=cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Wc;break;default:w=G}return Xd(Ne=w.getPooled(nt,Ne,et,tt)),Ne}};if(mt)throw Error(u(101));mt=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ra(),pt=Qd,ft=Nc,dt=Pd,xa({SimpleEventPlugin:_p,EnterLeaveEventPlugin:Gc,ChangeEventPlugin:kc,SelectEventPlugin:sp,BeforeInputEventPlugin:yc});var bp=[],xp=-1;function H(w){0>xp||(w.current=bp[xp],bp[xp]=null,xp--)}function I(w,Ne){xp++,bp[xp]=w.current,w.current=Ne}var wp={},Sp={current:wp},Ep={current:!1},kp=wp;function Cf(w,Ne){var et=w.type.contextTypes;if(!et)return wp;var tt=w.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===Ne)return tt.__reactInternalMemoizedMaskedChildContext;var nt,rt={};for(nt in et)rt[nt]=Ne[nt];return tt&&((w=w.stateNode).__reactInternalMemoizedUnmaskedChildContext=Ne,w.__reactInternalMemoizedMaskedChildContext=rt),rt}function L(w){return null!=(w=w.childContextTypes)}function Df(){H(Ep),H(Sp)}function Ef(w,Ne,et){if(Sp.current!==wp)throw Error(u(168));I(Sp,Ne),I(Ep,et)}function Ff(w,Ne,et){var tt=w.stateNode;if(w=Ne.childContextTypes,"function"!=typeof tt.getChildContext)return et;for(var rt in tt=tt.getChildContext())if(!(rt in w))throw Error(u(108,pb(Ne)||"Unknown",rt));return nt({},et,{},tt)}function Gf(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||wp,kp=Sp.current,I(Sp,w),I(Ep,Ep.current),!0}function Hf(w,Ne,et){var tt=w.stateNode;if(!tt)throw Error(u(169));et?(w=Ff(w,Ne,kp),tt.__reactInternalMemoizedMergedChildContext=w,H(Ep),H(Sp),I(Sp,w)):H(Ep),I(Ep,et)}var Cp=rt.unstable_runWithPriority,Tp=rt.unstable_scheduleCallback,Pp=rt.unstable_cancelCallback,Ip=rt.unstable_requestPaint,Ap=rt.unstable_now,Mp=rt.unstable_getCurrentPriorityLevel,Op=rt.unstable_ImmediatePriority,zp=rt.unstable_UserBlockingPriority,Lp=rt.unstable_NormalPriority,Dp=rt.unstable_LowPriority,Rp=rt.unstable_IdlePriority,Fp={},Bp=rt.unstable_shouldYield,jp=void 0!==Ip?Ip:function(){},Np=null,Vp=null,Up=!1,qp=Ap(),Wp=1e4>qp?Ap:function(){return Ap()-qp};function ag(){switch(Mp()){case Op:return 99;case zp:return 98;case Lp:return 97;case Dp:return 96;case Rp:return 95;default:throw Error(u(332))}}function bg(w){switch(w){case 99:return Op;case 98:return zp;case 97:return Lp;case 96:return Dp;case 95:return Rp;default:throw Error(u(332))}}function cg(w,Ne){return w=bg(w),Cp(w,Ne)}function dg(w,Ne,et){return w=bg(w),Tp(w,Ne,et)}function eg(w){return null===Np?(Np=[w],Vp=Tp(Op,fg)):Np.push(w),Fp}function gg(){if(null!==Vp){var w=Vp;Vp=null,Pp(w)}fg()}function fg(){if(!Up&&null!==Np){Up=!0;var w=0;try{var Ne=Np;cg(99,(function(){for(;w<Ne.length;w++){var et=Ne[w];do{et=et(!0)}while(null!==et)}})),Np=null}catch(Ne){throw null!==Np&&(Np=Np.slice(w+1)),Tp(Op,gg),Ne}finally{Up=!1}}}function hg(w,Ne,et){return 1073741821-(1+((1073741821-w+Ne/10)/(et/=10)|0))*et}function ig(w,Ne){if(w&&w.defaultProps)for(var et in Ne=nt({},Ne),w=w.defaultProps)void 0===Ne[et]&&(Ne[et]=w[et]);return Ne}var Hp={current:null},Gp=null,Zp=null,Xp=null;function ng(){Xp=Zp=Gp=null}function og(w){var Ne=Hp.current;H(Hp),w.type._context._currentValue=Ne}function pg(w,Ne){for(;null!==w;){var et=w.alternate;if(w.childExpirationTime<Ne)w.childExpirationTime=Ne,null!==et&&et.childExpirationTime<Ne&&(et.childExpirationTime=Ne);else{if(!(null!==et&&et.childExpirationTime<Ne))break;et.childExpirationTime=Ne}w=w.return}}function qg(w,Ne){Gp=w,Xp=Zp=null,null!==(w=w.dependencies)&&null!==w.firstContext&&(w.expirationTime>=Ne&&(uf=!0),w.firstContext=null)}function sg(w,Ne){if(Xp!==w&&!1!==Ne&&0!==Ne)if("number"==typeof Ne&&1073741823!==Ne||(Xp=w,Ne=1073741823),Ne={context:w,observedBits:Ne,next:null},null===Zp){if(null===Gp)throw Error(u(308));Zp=Ne,Gp.dependencies={expirationTime:0,firstContext:Ne,responders:null}}else Zp=Zp.next=Ne;return w._currentValue}var $p=!1;function ug(w){w.updateQueue={baseState:w.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function vg(w,Ne){w=w.updateQueue,Ne.updateQueue===w&&(Ne.updateQueue={baseState:w.baseState,baseQueue:w.baseQueue,shared:w.shared,effects:w.effects})}function wg(w,Ne){return(w={expirationTime:w,suspenseConfig:Ne,tag:0,payload:null,callback:null,next:null}).next=w}function xg(w,Ne){if(null!==(w=w.updateQueue)){var et=(w=w.shared).pending;null===et?Ne.next=Ne:(Ne.next=et.next,et.next=Ne),w.pending=Ne}}function yg(w,Ne){var et=w.alternate;null!==et&&vg(et,w),null===(et=(w=w.updateQueue).baseQueue)?(w.baseQueue=Ne.next=Ne,Ne.next=Ne):(Ne.next=et.next,et.next=Ne)}function zg(w,Ne,et,tt){var rt=w.updateQueue;$p=!1;var it=rt.baseQueue,ot=rt.shared.pending;if(null!==ot){if(null!==it){var at=it.next;it.next=ot.next,ot.next=at}it=ot,rt.shared.pending=null,null!==(at=w.alternate)&&(null!==(at=at.updateQueue)&&(at.baseQueue=ot))}if(null!==it){at=it.next;var st=rt.baseState,ct=0,pt=null,ft=null,dt=null;if(null!==at)for(var mt=at;;){if((ot=mt.expirationTime)<tt){var yt={expirationTime:mt.expirationTime,suspenseConfig:mt.suspenseConfig,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null};null===dt?(ft=dt=yt,pt=st):dt=dt.next=yt,ot>ct&&(ct=ot)}else{null!==dt&&(dt=dt.next={expirationTime:1073741823,suspenseConfig:mt.suspenseConfig,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null}),Ag(ot,mt.suspenseConfig);e:{var vt=w,Ot=mt;switch(ot=Ne,yt=et,Ot.tag){case 1:if("function"==typeof(vt=Ot.payload)){st=vt.call(yt,st,ot);break e}st=vt;break e;case 3:vt.effectTag=-4097&vt.effectTag|64;case 0:if(null==(ot="function"==typeof(vt=Ot.payload)?vt.call(yt,st,ot):vt))break e;st=nt({},st,ot);break e;case 2:$p=!0}}null!==mt.callback&&(w.effectTag|=32,null===(ot=rt.effects)?rt.effects=[mt]:ot.push(mt))}if(null===(mt=mt.next)||mt===at){if(null===(ot=rt.shared.pending))break;mt=it.next=ot.next,ot.next=at,rt.baseQueue=it=ot,rt.shared.pending=null}}null===dt?pt=st:dt.next=ft,rt.baseState=pt,rt.baseQueue=dt,Bg(ct),w.expirationTime=ct,w.memoizedState=st}}function Cg(w,Ne,et){if(w=Ne.effects,Ne.effects=null,null!==w)for(Ne=0;Ne<w.length;Ne++){var tt=w[Ne],nt=tt.callback;if(null!==nt){if(tt.callback=null,tt=nt,nt=et,"function"!=typeof tt)throw Error(u(191,tt));tt.call(nt)}}}var Kp=Vn.ReactCurrentBatchConfig,Yp=(new tt.Component).refs;function Fg(w,Ne,et,tt){et=null==(et=et(tt,Ne=w.memoizedState))?Ne:nt({},Ne,et),w.memoizedState=et,0===w.expirationTime&&(w.updateQueue.baseState=et)}var Jp={isMounted:function(w){return!!(w=w._reactInternalFiber)&&dc(w)===w},enqueueSetState:function(w,Ne,et){w=w._reactInternalFiber;var tt=Gg(),nt=Kp.suspense;(nt=wg(tt=Hg(tt,w,nt),nt)).payload=Ne,null!=et&&(nt.callback=et),xg(w,nt),Ig(w,tt)},enqueueReplaceState:function(w,Ne,et){w=w._reactInternalFiber;var tt=Gg(),nt=Kp.suspense;(nt=wg(tt=Hg(tt,w,nt),nt)).tag=1,nt.payload=Ne,null!=et&&(nt.callback=et),xg(w,nt),Ig(w,tt)},enqueueForceUpdate:function(w,Ne){w=w._reactInternalFiber;var et=Gg(),tt=Kp.suspense;(tt=wg(et=Hg(et,w,tt),tt)).tag=2,null!=Ne&&(tt.callback=Ne),xg(w,tt),Ig(w,et)}};function Kg(w,Ne,et,tt,nt,rt,it){return"function"==typeof(w=w.stateNode).shouldComponentUpdate?w.shouldComponentUpdate(tt,rt,it):!Ne.prototype||!Ne.prototype.isPureReactComponent||(!bf(et,tt)||!bf(nt,rt))}function Lg(w,Ne,et){var tt=!1,nt=wp,rt=Ne.contextType;return"object"==typeof rt&&null!==rt?rt=sg(rt):(nt=L(Ne)?kp:Sp.current,rt=(tt=null!=(tt=Ne.contextTypes))?Cf(w,nt):wp),Ne=new Ne(et,rt),w.memoizedState=null!==Ne.state&&void 0!==Ne.state?Ne.state:null,Ne.updater=Jp,w.stateNode=Ne,Ne._reactInternalFiber=w,tt&&((w=w.stateNode).__reactInternalMemoizedUnmaskedChildContext=nt,w.__reactInternalMemoizedMaskedChildContext=rt),Ne}function Mg(w,Ne,et,tt){w=Ne.state,"function"==typeof Ne.componentWillReceiveProps&&Ne.componentWillReceiveProps(et,tt),"function"==typeof Ne.UNSAFE_componentWillReceiveProps&&Ne.UNSAFE_componentWillReceiveProps(et,tt),Ne.state!==w&&Jp.enqueueReplaceState(Ne,Ne.state,null)}function Ng(w,Ne,et,tt){var nt=w.stateNode;nt.props=et,nt.state=w.memoizedState,nt.refs=Yp,ug(w);var rt=Ne.contextType;"object"==typeof rt&&null!==rt?nt.context=sg(rt):(rt=L(Ne)?kp:Sp.current,nt.context=Cf(w,rt)),zg(w,et,nt,tt),nt.state=w.memoizedState,"function"==typeof(rt=Ne.getDerivedStateFromProps)&&(Fg(w,Ne,rt,et),nt.state=w.memoizedState),"function"==typeof Ne.getDerivedStateFromProps||"function"==typeof nt.getSnapshotBeforeUpdate||"function"!=typeof nt.UNSAFE_componentWillMount&&"function"!=typeof nt.componentWillMount||(Ne=nt.state,"function"==typeof nt.componentWillMount&&nt.componentWillMount(),"function"==typeof nt.UNSAFE_componentWillMount&&nt.UNSAFE_componentWillMount(),Ne!==nt.state&&Jp.enqueueReplaceState(nt,nt.state,null),zg(w,et,nt,tt),nt.state=w.memoizedState),"function"==typeof nt.componentDidMount&&(w.effectTag|=4)}var Qp=Array.isArray;function Pg(w,Ne,et){if(null!==(w=et.ref)&&"function"!=typeof w&&"object"!=typeof w){if(et._owner){if(et=et._owner){if(1!==et.tag)throw Error(u(309));var tt=et.stateNode}if(!tt)throw Error(u(147,w));var nt=""+w;return null!==Ne&&null!==Ne.ref&&"function"==typeof Ne.ref&&Ne.ref._stringRef===nt?Ne.ref:((Ne=function(w){var Ne=tt.refs;Ne===Yp&&(Ne=tt.refs={}),null===w?delete Ne[nt]:Ne[nt]=w})._stringRef=nt,Ne)}if("string"!=typeof w)throw Error(u(284));if(!et._owner)throw Error(u(290,w))}return w}function Qg(w,Ne){if("textarea"!==w.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(Ne)?"object with keys {"+Object.keys(Ne).join(", ")+"}":Ne,""))}function Rg(w){function b(Ne,et){if(w){var tt=Ne.lastEffect;null!==tt?(tt.nextEffect=et,Ne.lastEffect=et):Ne.firstEffect=Ne.lastEffect=et,et.nextEffect=null,et.effectTag=8}}function c(Ne,et){if(!w)return null;for(;null!==et;)b(Ne,et),et=et.sibling;return null}function d(w,Ne){for(w=new Map;null!==Ne;)null!==Ne.key?w.set(Ne.key,Ne):w.set(Ne.index,Ne),Ne=Ne.sibling;return w}function e(w,Ne){return(w=Sg(w,Ne)).index=0,w.sibling=null,w}function f(Ne,et,tt){return Ne.index=tt,w?null!==(tt=Ne.alternate)?(tt=tt.index)<et?(Ne.effectTag=2,et):tt:(Ne.effectTag=2,et):et}function g(Ne){return w&&null===Ne.alternate&&(Ne.effectTag=2),Ne}function h(w,Ne,et,tt){return null===Ne||6!==Ne.tag?((Ne=Tg(et,w.mode,tt)).return=w,Ne):((Ne=e(Ne,et)).return=w,Ne)}function k(w,Ne,et,tt){return null!==Ne&&Ne.elementType===et.type?((tt=e(Ne,et.props)).ref=Pg(w,Ne,et),tt.return=w,tt):((tt=Ug(et.type,et.key,et.props,null,w.mode,tt)).ref=Pg(w,Ne,et),tt.return=w,tt)}function l(w,Ne,et,tt){return null===Ne||4!==Ne.tag||Ne.stateNode.containerInfo!==et.containerInfo||Ne.stateNode.implementation!==et.implementation?((Ne=Vg(et,w.mode,tt)).return=w,Ne):((Ne=e(Ne,et.children||[])).return=w,Ne)}function m(w,Ne,et,tt,nt){return null===Ne||7!==Ne.tag?((Ne=Wg(et,w.mode,tt,nt)).return=w,Ne):((Ne=e(Ne,et)).return=w,Ne)}function p(w,Ne,et){if("string"==typeof Ne||"number"==typeof Ne)return(Ne=Tg(""+Ne,w.mode,et)).return=w,Ne;if("object"==typeof Ne&&null!==Ne){switch(Ne.$$typeof){case Yn:return(et=Ug(Ne.type,Ne.key,Ne.props,null,w.mode,et)).ref=Pg(w,null,Ne),et.return=w,et;case er:return(Ne=Vg(Ne,w.mode,et)).return=w,Ne}if(Qp(Ne)||nb(Ne))return(Ne=Wg(Ne,w.mode,et,null)).return=w,Ne;Qg(w,Ne)}return null}function x(w,Ne,et,tt){var nt=null!==Ne?Ne.key:null;if("string"==typeof et||"number"==typeof et)return null!==nt?null:h(w,Ne,""+et,tt);if("object"==typeof et&&null!==et){switch(et.$$typeof){case Yn:return et.key===nt?et.type===rr?m(w,Ne,et.props.children,tt,nt):k(w,Ne,et,tt):null;case er:return et.key===nt?l(w,Ne,et,tt):null}if(Qp(et)||nb(et))return null!==nt?null:m(w,Ne,et,tt,null);Qg(w,et)}return null}function z(w,Ne,et,tt,nt){if("string"==typeof tt||"number"==typeof tt)return h(Ne,w=w.get(et)||null,""+tt,nt);if("object"==typeof tt&&null!==tt){switch(tt.$$typeof){case Yn:return w=w.get(null===tt.key?et:tt.key)||null,tt.type===rr?m(Ne,w,tt.props.children,nt,tt.key):k(Ne,w,tt,nt);case er:return l(Ne,w=w.get(null===tt.key?et:tt.key)||null,tt,nt)}if(Qp(tt)||nb(tt))return m(Ne,w=w.get(et)||null,tt,nt,null);Qg(Ne,tt)}return null}function ca(Ne,et,tt,nt){for(var rt=null,it=null,ot=et,at=et=0,st=null;null!==ot&&at<tt.length;at++){ot.index>at?(st=ot,ot=null):st=ot.sibling;var ct=x(Ne,ot,tt[at],nt);if(null===ct){null===ot&&(ot=st);break}w&&ot&&null===ct.alternate&&b(Ne,ot),et=f(ct,et,at),null===it?rt=ct:it.sibling=ct,it=ct,ot=st}if(at===tt.length)return c(Ne,ot),rt;if(null===ot){for(;at<tt.length;at++)null!==(ot=p(Ne,tt[at],nt))&&(et=f(ot,et,at),null===it?rt=ot:it.sibling=ot,it=ot);return rt}for(ot=d(Ne,ot);at<tt.length;at++)null!==(st=z(ot,Ne,at,tt[at],nt))&&(w&&null!==st.alternate&&ot.delete(null===st.key?at:st.key),et=f(st,et,at),null===it?rt=st:it.sibling=st,it=st);return w&&ot.forEach((function(w){return b(Ne,w)})),rt}function D(Ne,et,tt,nt){var rt=nb(tt);if("function"!=typeof rt)throw Error(u(150));if(null==(tt=rt.call(tt)))throw Error(u(151));for(var it=rt=null,ot=et,at=et=0,st=null,ct=tt.next();null!==ot&&!ct.done;at++,ct=tt.next()){ot.index>at?(st=ot,ot=null):st=ot.sibling;var pt=x(Ne,ot,ct.value,nt);if(null===pt){null===ot&&(ot=st);break}w&&ot&&null===pt.alternate&&b(Ne,ot),et=f(pt,et,at),null===it?rt=pt:it.sibling=pt,it=pt,ot=st}if(ct.done)return c(Ne,ot),rt;if(null===ot){for(;!ct.done;at++,ct=tt.next())null!==(ct=p(Ne,ct.value,nt))&&(et=f(ct,et,at),null===it?rt=ct:it.sibling=ct,it=ct);return rt}for(ot=d(Ne,ot);!ct.done;at++,ct=tt.next())null!==(ct=z(ot,Ne,at,ct.value,nt))&&(w&&null!==ct.alternate&&ot.delete(null===ct.key?at:ct.key),et=f(ct,et,at),null===it?rt=ct:it.sibling=ct,it=ct);return w&&ot.forEach((function(w){return b(Ne,w)})),rt}return function(w,Ne,et,tt){var nt="object"==typeof et&&null!==et&&et.type===rr&&null===et.key;nt&&(et=et.props.children);var rt="object"==typeof et&&null!==et;if(rt)switch(et.$$typeof){case Yn:e:{for(rt=et.key,nt=Ne;null!==nt;){if(nt.key===rt){switch(nt.tag){case 7:if(et.type===rr){c(w,nt.sibling),(Ne=e(nt,et.props.children)).return=w,w=Ne;break e}break;default:if(nt.elementType===et.type){c(w,nt.sibling),(Ne=e(nt,et.props)).ref=Pg(w,nt,et),Ne.return=w,w=Ne;break e}}c(w,nt);break}b(w,nt),nt=nt.sibling}et.type===rr?((Ne=Wg(et.props.children,w.mode,tt,et.key)).return=w,w=Ne):((tt=Ug(et.type,et.key,et.props,null,w.mode,tt)).ref=Pg(w,Ne,et),tt.return=w,w=tt)}return g(w);case er:e:{for(nt=et.key;null!==Ne;){if(Ne.key===nt){if(4===Ne.tag&&Ne.stateNode.containerInfo===et.containerInfo&&Ne.stateNode.implementation===et.implementation){c(w,Ne.sibling),(Ne=e(Ne,et.children||[])).return=w,w=Ne;break e}c(w,Ne);break}b(w,Ne),Ne=Ne.sibling}(Ne=Vg(et,w.mode,tt)).return=w,w=Ne}return g(w)}if("string"==typeof et||"number"==typeof et)return et=""+et,null!==Ne&&6===Ne.tag?(c(w,Ne.sibling),(Ne=e(Ne,et)).return=w,w=Ne):(c(w,Ne),(Ne=Tg(et,w.mode,tt)).return=w,w=Ne),g(w);if(Qp(et))return ca(w,Ne,et,tt);if(nb(et))return D(w,Ne,et,tt);if(rt&&Qg(w,et),void 0===et&&!nt)switch(w.tag){case 1:case 0:throw w=w.type,Error(u(152,w.displayName||w.name||"Component"))}return c(w,Ne)}}var rh=Rg(!0),ah=Rg(!1),sh={},lh={current:sh},ph={current:sh},mh={current:sh};function ch(w){if(w===sh)throw Error(u(174));return w}function dh(w,Ne){switch(I(mh,Ne),I(ph,w),I(lh,sh),w=Ne.nodeType){case 9:case 11:Ne=(Ne=Ne.documentElement)?Ne.namespaceURI:Ob(null,"");break;default:Ne=Ob(Ne=(w=8===w?Ne.parentNode:Ne).namespaceURI||null,w=w.tagName)}H(lh),I(lh,Ne)}function eh(){H(lh),H(ph),H(mh)}function fh(w){ch(mh.current);var Ne=ch(lh.current),et=Ob(Ne,w.type);Ne!==et&&(I(ph,w),I(lh,et))}function gh(w){ph.current===w&&(H(lh),H(ph))}var _h={current:0};function hh(w){for(var Ne=w;null!==Ne;){if(13===Ne.tag){var et=Ne.memoizedState;if(null!==et&&(null===(et=et.dehydrated)||"$?"===et.data||"$!"===et.data))return Ne}else if(19===Ne.tag&&void 0!==Ne.memoizedProps.revealOrder){if(0!=(64&Ne.effectTag))return Ne}else if(null!==Ne.child){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===w)break;for(;null===Ne.sibling;){if(null===Ne.return||Ne.return===w)return null;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}return null}function ih(w,Ne){return{responder:w,props:Ne}}var bh=Vn.ReactCurrentDispatcher,kh=Vn.ReactCurrentBatchConfig,Ph=0,Oh=null,jh=null,qh=null,Yh=!1;function Q(){throw Error(u(321))}function nh(w,Ne){if(null===Ne)return!1;for(var et=0;et<Ne.length&&et<w.length;et++)if(!Zc(w[et],Ne[et]))return!1;return!0}function oh(w,Ne,et,tt,nt,rt){if(Ph=rt,Oh=Ne,Ne.memoizedState=null,Ne.updateQueue=null,Ne.expirationTime=0,bh.current=null===w||null===w.memoizedState?ef:tf,w=et(tt,nt),Ne.expirationTime===Ph){rt=0;do{if(Ne.expirationTime=0,!(25>rt))throw Error(u(301));rt+=1,qh=jh=null,Ne.updateQueue=null,bh.current=nf,w=et(tt,nt)}while(Ne.expirationTime===Ph)}if(bh.current=Qh,Ne=null!==jh&&null!==jh.next,Ph=0,qh=jh=Oh=null,Yh=!1,Ne)throw Error(u(300));return w}function th(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qh?Oh.memoizedState=qh=w:qh=qh.next=w,qh}function uh(){if(null===jh){var w=Oh.alternate;w=null!==w?w.memoizedState:null}else w=jh.next;var Ne=null===qh?Oh.memoizedState:qh.next;if(null!==Ne)qh=Ne,jh=w;else{if(null===w)throw Error(u(310));w={memoizedState:(jh=w).memoizedState,baseState:jh.baseState,baseQueue:jh.baseQueue,queue:jh.queue,next:null},null===qh?Oh.memoizedState=qh=w:qh=qh.next=w}return qh}function vh(w,Ne){return"function"==typeof Ne?Ne(w):Ne}function wh(w){var Ne=uh(),et=Ne.queue;if(null===et)throw Error(u(311));et.lastRenderedReducer=w;var tt=jh,nt=tt.baseQueue,rt=et.pending;if(null!==rt){if(null!==nt){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(null!==nt){nt=nt.next,tt=tt.baseState;var ot=it=rt=null,at=nt;do{var st=at.expirationTime;if(st<Ph){var ct={expirationTime:at.expirationTime,suspenseConfig:at.suspenseConfig,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null};null===ot?(it=ot=ct,rt=tt):ot=ot.next=ct,st>Oh.expirationTime&&(Oh.expirationTime=st,Bg(st))}else null!==ot&&(ot=ot.next={expirationTime:1073741823,suspenseConfig:at.suspenseConfig,action:at.action,eagerReducer:at.eagerReducer,eagerState:at.eagerState,next:null}),Ag(st,at.suspenseConfig),tt=at.eagerReducer===w?at.eagerState:w(tt,at.action);at=at.next}while(null!==at&&at!==nt);null===ot?rt=tt:ot.next=it,Zc(tt,Ne.memoizedState)||(uf=!0),Ne.memoizedState=tt,Ne.baseState=rt,Ne.baseQueue=ot,et.lastRenderedState=tt}return[Ne.memoizedState,et.dispatch]}function xh(w){var Ne=uh(),et=Ne.queue;if(null===et)throw Error(u(311));et.lastRenderedReducer=w;var tt=et.dispatch,nt=et.pending,rt=Ne.memoizedState;if(null!==nt){et.pending=null;var it=nt=nt.next;do{rt=w(rt,it.action),it=it.next}while(it!==nt);Zc(rt,Ne.memoizedState)||(uf=!0),Ne.memoizedState=rt,null===Ne.baseQueue&&(Ne.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function yh(w){var Ne=th();return"function"==typeof w&&(w=w()),Ne.memoizedState=Ne.baseState=w,w=(w=Ne.queue={pending:null,dispatch:null,lastRenderedReducer:vh,lastRenderedState:w}).dispatch=zh.bind(null,Oh,w),[Ne.memoizedState,w]}function Ah(w,Ne,et,tt){return w={tag:w,create:Ne,destroy:et,deps:tt,next:null},null===(Ne=Oh.updateQueue)?(Ne={lastEffect:null},Oh.updateQueue=Ne,Ne.lastEffect=w.next=w):null===(et=Ne.lastEffect)?Ne.lastEffect=w.next=w:(tt=et.next,et.next=w,w.next=tt,Ne.lastEffect=w),w}function Bh(){return uh().memoizedState}function Ch(w,Ne,et,tt){var nt=th();Oh.effectTag|=w,nt.memoizedState=Ah(1|Ne,et,void 0,void 0===tt?null:tt)}function Dh(w,Ne,et,tt){var nt=uh();tt=void 0===tt?null:tt;var rt=void 0;if(null!==jh){var it=jh.memoizedState;if(rt=it.destroy,null!==tt&&nh(tt,it.deps))return void Ah(Ne,et,rt,tt)}Oh.effectTag|=w,nt.memoizedState=Ah(1|Ne,et,rt,tt)}function Eh(w,Ne){return Ch(516,4,w,Ne)}function Fh(w,Ne){return Dh(516,4,w,Ne)}function Gh(w,Ne){return Dh(4,2,w,Ne)}function Hh(w,Ne){return"function"==typeof Ne?(w=w(),Ne(w),function(){Ne(null)}):null!=Ne?(w=w(),Ne.current=w,function(){Ne.current=null}):void 0}function Ih(w,Ne,et){return et=null!=et?et.concat([w]):null,Dh(4,2,Hh.bind(null,Ne,w),et)}function Jh(){}function Kh(w,Ne){return th().memoizedState=[w,void 0===Ne?null:Ne],w}function Lh(w,Ne){var et=uh();Ne=void 0===Ne?null:Ne;var tt=et.memoizedState;return null!==tt&&null!==Ne&&nh(Ne,tt[1])?tt[0]:(et.memoizedState=[w,Ne],w)}function Mh(w,Ne){var et=uh();Ne=void 0===Ne?null:Ne;var tt=et.memoizedState;return null!==tt&&null!==Ne&&nh(Ne,tt[1])?tt[0]:(w=w(),et.memoizedState=[w,Ne],w)}function Nh(w,Ne,et){var tt=ag();cg(98>tt?98:tt,(function(){w(!0)})),cg(97<tt?97:tt,(function(){var tt=kh.suspense;kh.suspense=void 0===Ne?null:Ne;try{w(!1),et()}finally{kh.suspense=tt}}))}function zh(w,Ne,et){var tt=Gg(),nt=Kp.suspense;nt={expirationTime:tt=Hg(tt,w,nt),suspenseConfig:nt,action:et,eagerReducer:null,eagerState:null,next:null};var rt=Ne.pending;if(null===rt?nt.next=nt:(nt.next=rt.next,rt.next=nt),Ne.pending=nt,rt=w.alternate,w===Oh||null!==rt&&rt===Oh)Yh=!0,nt.expirationTime=Ph,Oh.expirationTime=Ph;else{if(0===w.expirationTime&&(null===rt||0===rt.expirationTime)&&null!==(rt=Ne.lastRenderedReducer))try{var it=Ne.lastRenderedState,ot=rt(it,et);if(nt.eagerReducer=rt,nt.eagerState=ot,Zc(ot,it))return}catch(w){}Ig(w,tt)}}var Qh={readContext:sg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},ef={readContext:sg,useCallback:Kh,useContext:sg,useEffect:Eh,useImperativeHandle:function(w,Ne,et){return et=null!=et?et.concat([w]):null,Ch(4,2,Hh.bind(null,Ne,w),et)},useLayoutEffect:function(w,Ne){return Ch(4,2,w,Ne)},useMemo:function(w,Ne){var et=th();return Ne=void 0===Ne?null:Ne,w=w(),et.memoizedState=[w,Ne],w},useReducer:function(w,Ne,et){var tt=th();return Ne=void 0!==et?et(Ne):Ne,tt.memoizedState=tt.baseState=Ne,w=(w=tt.queue={pending:null,dispatch:null,lastRenderedReducer:w,lastRenderedState:Ne}).dispatch=zh.bind(null,Oh,w),[tt.memoizedState,w]},useRef:function(w){return w={current:w},th().memoizedState=w},useState:yh,useDebugValue:Jh,useResponder:ih,useDeferredValue:function(w,Ne){var et=yh(w),tt=et[0],nt=et[1];return Eh((function(){var et=kh.suspense;kh.suspense=void 0===Ne?null:Ne;try{nt(w)}finally{kh.suspense=et}}),[w,Ne]),tt},useTransition:function(w){var Ne=yh(!1),et=Ne[0];return Ne=Ne[1],[Kh(Nh.bind(null,Ne,w),[Ne,w]),et]}},tf={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:wh,useRef:Bh,useState:function(){return wh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(w,Ne){var et=wh(vh),tt=et[0],nt=et[1];return Fh((function(){var et=kh.suspense;kh.suspense=void 0===Ne?null:Ne;try{nt(w)}finally{kh.suspense=et}}),[w,Ne]),tt},useTransition:function(w){var Ne=wh(vh),et=Ne[0];return Ne=Ne[1],[Lh(Nh.bind(null,Ne,w),[Ne,w]),et]}},nf={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:xh,useRef:Bh,useState:function(){return xh(vh)},useDebugValue:Jh,useResponder:ih,useDeferredValue:function(w,Ne){var et=xh(vh),tt=et[0],nt=et[1];return Fh((function(){var et=kh.suspense;kh.suspense=void 0===Ne?null:Ne;try{nt(w)}finally{kh.suspense=et}}),[w,Ne]),tt},useTransition:function(w){var Ne=xh(vh),et=Ne[0];return Ne=Ne[1],[Lh(Nh.bind(null,Ne,w),[Ne,w]),et]}},rf=null,af=null,sf=!1;function Rh(w,Ne){var et=Sh(5,null,null,0);et.elementType="DELETED",et.type="DELETED",et.stateNode=Ne,et.return=w,et.effectTag=8,null!==w.lastEffect?(w.lastEffect.nextEffect=et,w.lastEffect=et):w.firstEffect=w.lastEffect=et}function Th(w,Ne){switch(w.tag){case 5:var et=w.type;return null!==(Ne=1!==Ne.nodeType||et.toLowerCase()!==Ne.nodeName.toLowerCase()?null:Ne)&&(w.stateNode=Ne,!0);case 6:return null!==(Ne=""===w.pendingProps||3!==Ne.nodeType?null:Ne)&&(w.stateNode=Ne,!0);case 13:default:return!1}}function Uh(w){if(sf){var Ne=af;if(Ne){var et=Ne;if(!Th(w,Ne)){if(!(Ne=Jd(et.nextSibling))||!Th(w,Ne))return w.effectTag=-1025&w.effectTag|2,sf=!1,void(rf=w);Rh(rf,et)}rf=w,af=Jd(Ne.firstChild)}else w.effectTag=-1025&w.effectTag|2,sf=!1,rf=w}}function Vh(w){for(w=w.return;null!==w&&5!==w.tag&&3!==w.tag&&13!==w.tag;)w=w.return;rf=w}function Wh(w){if(w!==rf)return!1;if(!sf)return Vh(w),sf=!0,!1;var Ne=w.type;if(5!==w.tag||"head"!==Ne&&"body"!==Ne&&!Gd(Ne,w.memoizedProps))for(Ne=af;Ne;)Rh(w,Ne),Ne=Jd(Ne.nextSibling);if(Vh(w),13===w.tag){if(!(w=null!==(w=w.memoizedState)?w.dehydrated:null))throw Error(u(317));e:{for(w=w.nextSibling,Ne=0;w;){if(8===w.nodeType){var et=w.data;if("/$"===et){if(0===Ne){af=Jd(w.nextSibling);break e}Ne--}else"$"!==et&&"$!"!==et&&"$?"!==et||Ne++}w=w.nextSibling}af=null}}else af=rf?Jd(w.stateNode.nextSibling):null;return!0}function Xh(){af=rf=null,sf=!1}var lf=Vn.ReactCurrentOwner,uf=!1;function R(w,Ne,et,tt){Ne.child=null===w?ah(Ne,null,et,tt):rh(Ne,w.child,et,tt)}function Zh(w,Ne,et,tt,nt){et=et.render;var rt=Ne.ref;return qg(Ne,nt),tt=oh(w,Ne,et,tt,rt,nt),null===w||uf?(Ne.effectTag|=1,R(w,Ne,tt,nt),Ne.child):(Ne.updateQueue=w.updateQueue,Ne.effectTag&=-517,w.expirationTime<=nt&&(w.expirationTime=0),$h(w,Ne,nt))}function ai(w,Ne,et,tt,nt,rt){if(null===w){var it=et.type;return"function"!=typeof it||bi(it)||void 0!==it.defaultProps||null!==et.compare||void 0!==et.defaultProps?((w=Ug(et.type,null,tt,null,Ne.mode,rt)).ref=Ne.ref,w.return=Ne,Ne.child=w):(Ne.tag=15,Ne.type=it,ci(w,Ne,it,tt,nt,rt))}return it=w.child,nt<rt&&(nt=it.memoizedProps,(et=null!==(et=et.compare)?et:bf)(nt,tt)&&w.ref===Ne.ref)?$h(w,Ne,rt):(Ne.effectTag|=1,(w=Sg(it,tt)).ref=Ne.ref,w.return=Ne,Ne.child=w)}function ci(w,Ne,et,tt,nt,rt){return null!==w&&bf(w.memoizedProps,tt)&&w.ref===Ne.ref&&(uf=!1,nt<rt)?(Ne.expirationTime=w.expirationTime,$h(w,Ne,rt)):di(w,Ne,et,tt,rt)}function ei(w,Ne){var et=Ne.ref;(null===w&&null!==et||null!==w&&w.ref!==et)&&(Ne.effectTag|=128)}function di(w,Ne,et,tt,nt){var rt=L(et)?kp:Sp.current;return rt=Cf(Ne,rt),qg(Ne,nt),et=oh(w,Ne,et,tt,rt,nt),null===w||uf?(Ne.effectTag|=1,R(w,Ne,et,nt),Ne.child):(Ne.updateQueue=w.updateQueue,Ne.effectTag&=-517,w.expirationTime<=nt&&(w.expirationTime=0),$h(w,Ne,nt))}function fi(w,Ne,et,tt,nt){if(L(et)){var rt=!0;Gf(Ne)}else rt=!1;if(qg(Ne,nt),null===Ne.stateNode)null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),Lg(Ne,et,tt),Ng(Ne,et,tt,nt),tt=!0;else if(null===w){var it=Ne.stateNode,ot=Ne.memoizedProps;it.props=ot;var at=it.context,st=et.contextType;"object"==typeof st&&null!==st?st=sg(st):st=Cf(Ne,st=L(et)?kp:Sp.current);var ct=et.getDerivedStateFromProps,pt="function"==typeof ct||"function"==typeof it.getSnapshotBeforeUpdate;pt||"function"!=typeof it.UNSAFE_componentWillReceiveProps&&"function"!=typeof it.componentWillReceiveProps||(ot!==tt||at!==st)&&Mg(Ne,it,tt,st),$p=!1;var ft=Ne.memoizedState;it.state=ft,zg(Ne,tt,it,nt),at=Ne.memoizedState,ot!==tt||ft!==at||Ep.current||$p?("function"==typeof ct&&(Fg(Ne,et,ct,tt),at=Ne.memoizedState),(ot=$p||Kg(Ne,et,ot,tt,ft,at,st))?(pt||"function"!=typeof it.UNSAFE_componentWillMount&&"function"!=typeof it.componentWillMount||("function"==typeof it.componentWillMount&&it.componentWillMount(),"function"==typeof it.UNSAFE_componentWillMount&&it.UNSAFE_componentWillMount()),"function"==typeof it.componentDidMount&&(Ne.effectTag|=4)):("function"==typeof it.componentDidMount&&(Ne.effectTag|=4),Ne.memoizedProps=tt,Ne.memoizedState=at),it.props=tt,it.state=at,it.context=st,tt=ot):("function"==typeof it.componentDidMount&&(Ne.effectTag|=4),tt=!1)}else it=Ne.stateNode,vg(w,Ne),ot=Ne.memoizedProps,it.props=Ne.type===Ne.elementType?ot:ig(Ne.type,ot),at=it.context,"object"==typeof(st=et.contextType)&&null!==st?st=sg(st):st=Cf(Ne,st=L(et)?kp:Sp.current),(pt="function"==typeof(ct=et.getDerivedStateFromProps)||"function"==typeof it.getSnapshotBeforeUpdate)||"function"!=typeof it.UNSAFE_componentWillReceiveProps&&"function"!=typeof it.componentWillReceiveProps||(ot!==tt||at!==st)&&Mg(Ne,it,tt,st),$p=!1,at=Ne.memoizedState,it.state=at,zg(Ne,tt,it,nt),ft=Ne.memoizedState,ot!==tt||at!==ft||Ep.current||$p?("function"==typeof ct&&(Fg(Ne,et,ct,tt),ft=Ne.memoizedState),(ct=$p||Kg(Ne,et,ot,tt,at,ft,st))?(pt||"function"!=typeof it.UNSAFE_componentWillUpdate&&"function"!=typeof it.componentWillUpdate||("function"==typeof it.componentWillUpdate&&it.componentWillUpdate(tt,ft,st),"function"==typeof it.UNSAFE_componentWillUpdate&&it.UNSAFE_componentWillUpdate(tt,ft,st)),"function"==typeof it.componentDidUpdate&&(Ne.effectTag|=4),"function"==typeof it.getSnapshotBeforeUpdate&&(Ne.effectTag|=256)):("function"!=typeof it.componentDidUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=4),"function"!=typeof it.getSnapshotBeforeUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=256),Ne.memoizedProps=tt,Ne.memoizedState=ft),it.props=tt,it.state=ft,it.context=st,tt=ct):("function"!=typeof it.componentDidUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=4),"function"!=typeof it.getSnapshotBeforeUpdate||ot===w.memoizedProps&&at===w.memoizedState||(Ne.effectTag|=256),tt=!1);return gi(w,Ne,et,tt,rt,nt)}function gi(w,Ne,et,tt,nt,rt){ei(w,Ne);var it=0!=(64&Ne.effectTag);if(!tt&&!it)return nt&&Hf(Ne,et,!1),$h(w,Ne,rt);tt=Ne.stateNode,lf.current=Ne;var ot=it&&"function"!=typeof et.getDerivedStateFromError?null:tt.render();return Ne.effectTag|=1,null!==w&&it?(Ne.child=rh(Ne,w.child,null,rt),Ne.child=rh(Ne,null,ot,rt)):R(w,Ne,ot,rt),Ne.memoizedState=tt.state,nt&&Hf(Ne,et,!0),Ne.child}function hi(w){var Ne=w.stateNode;Ne.pendingContext?Ef(0,Ne.pendingContext,Ne.pendingContext!==Ne.context):Ne.context&&Ef(0,Ne.context,!1),dh(w,Ne.containerInfo)}var cf,pf,hf,ff={dehydrated:null,retryTime:0};function ji(w,Ne,et){var tt,nt=Ne.mode,rt=Ne.pendingProps,it=_h.current,ot=!1;if((tt=0!=(64&Ne.effectTag))||(tt=0!=(2&it)&&(null===w||null!==w.memoizedState)),tt?(ot=!0,Ne.effectTag&=-65):null!==w&&null===w.memoizedState||void 0===rt.fallback||!0===rt.unstable_avoidThisFallback||(it|=1),I(_h,1&it),null===w){if(void 0!==rt.fallback&&Uh(Ne),ot){if(ot=rt.fallback,(rt=Wg(null,nt,0,null)).return=Ne,0==(2&Ne.mode))for(w=null!==Ne.memoizedState?Ne.child.child:Ne.child,rt.child=w;null!==w;)w.return=rt,w=w.sibling;return(et=Wg(ot,nt,et,null)).return=Ne,rt.sibling=et,Ne.memoizedState=ff,Ne.child=rt,et}return nt=rt.children,Ne.memoizedState=null,Ne.child=ah(Ne,null,nt,et)}if(null!==w.memoizedState){if(nt=(w=w.child).sibling,ot){if(rt=rt.fallback,(et=Sg(w,w.pendingProps)).return=Ne,0==(2&Ne.mode)&&(ot=null!==Ne.memoizedState?Ne.child.child:Ne.child)!==w.child)for(et.child=ot;null!==ot;)ot.return=et,ot=ot.sibling;return(nt=Sg(nt,rt)).return=Ne,et.sibling=nt,et.childExpirationTime=0,Ne.memoizedState=ff,Ne.child=et,nt}return et=rh(Ne,w.child,rt.children,et),Ne.memoizedState=null,Ne.child=et}if(w=w.child,ot){if(ot=rt.fallback,(rt=Wg(null,nt,0,null)).return=Ne,rt.child=w,null!==w&&(w.return=rt),0==(2&Ne.mode))for(w=null!==Ne.memoizedState?Ne.child.child:Ne.child,rt.child=w;null!==w;)w.return=rt,w=w.sibling;return(et=Wg(ot,nt,et,null)).return=Ne,rt.sibling=et,et.effectTag|=2,rt.childExpirationTime=0,Ne.memoizedState=ff,Ne.child=rt,et}return Ne.memoizedState=null,Ne.child=rh(Ne,w,rt.children,et)}function ki(w,Ne){w.expirationTime<Ne&&(w.expirationTime=Ne);var et=w.alternate;null!==et&&et.expirationTime<Ne&&(et.expirationTime=Ne),pg(w.return,Ne)}function li(w,Ne,et,tt,nt,rt){var it=w.memoizedState;null===it?w.memoizedState={isBackwards:Ne,rendering:null,renderingStartTime:0,last:tt,tail:et,tailExpiration:0,tailMode:nt,lastEffect:rt}:(it.isBackwards=Ne,it.rendering=null,it.renderingStartTime=0,it.last=tt,it.tail=et,it.tailExpiration=0,it.tailMode=nt,it.lastEffect=rt)}function mi(w,Ne,et){var tt=Ne.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(R(w,Ne,tt.children,et),0!=(2&(tt=_h.current)))tt=1&tt|2,Ne.effectTag|=64;else{if(null!==w&&0!=(64&w.effectTag))e:for(w=Ne.child;null!==w;){if(13===w.tag)null!==w.memoizedState&&ki(w,et);else if(19===w.tag)ki(w,et);else if(null!==w.child){w.child.return=w,w=w.child;continue}if(w===Ne)break e;for(;null===w.sibling;){if(null===w.return||w.return===Ne)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}tt&=1}if(I(_h,tt),0==(2&Ne.mode))Ne.memoizedState=null;else switch(nt){case"forwards":for(et=Ne.child,nt=null;null!==et;)null!==(w=et.alternate)&&null===hh(w)&&(nt=et),et=et.sibling;null===(et=nt)?(nt=Ne.child,Ne.child=null):(nt=et.sibling,et.sibling=null),li(Ne,!1,nt,et,rt,Ne.lastEffect);break;case"backwards":for(et=null,nt=Ne.child,Ne.child=null;null!==nt;){if(null!==(w=nt.alternate)&&null===hh(w)){Ne.child=nt;break}w=nt.sibling,nt.sibling=et,et=nt,nt=w}li(Ne,!0,et,null,rt,Ne.lastEffect);break;case"together":li(Ne,!1,null,null,void 0,Ne.lastEffect);break;default:Ne.memoizedState=null}return Ne.child}function $h(w,Ne,et){null!==w&&(Ne.dependencies=w.dependencies);var tt=Ne.expirationTime;if(0!==tt&&Bg(tt),Ne.childExpirationTime<et)return null;if(null!==w&&Ne.child!==w.child)throw Error(u(153));if(null!==Ne.child){for(et=Sg(w=Ne.child,w.pendingProps),Ne.child=et,et.return=Ne;null!==w.sibling;)w=w.sibling,(et=et.sibling=Sg(w,w.pendingProps)).return=Ne;et.sibling=null}return Ne.child}function ri(w,Ne){switch(w.tailMode){case"hidden":Ne=w.tail;for(var et=null;null!==Ne;)null!==Ne.alternate&&(et=Ne),Ne=Ne.sibling;null===et?w.tail=null:et.sibling=null;break;case"collapsed":et=w.tail;for(var tt=null;null!==et;)null!==et.alternate&&(tt=et),et=et.sibling;null===tt?Ne||null===w.tail?w.tail=null:w.tail.sibling=null:tt.sibling=null}}function si(w,Ne,et){var tt=Ne.pendingProps;switch(Ne.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return L(Ne.type)&&Df(),null;case 3:return eh(),H(Ep),H(Sp),(et=Ne.stateNode).pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),null!==w&&null!==w.child||!Wh(Ne)||(Ne.effectTag|=4),null;case 5:gh(Ne),et=ch(mh.current);var rt=Ne.type;if(null!==w&&null!=Ne.stateNode)pf(w,Ne,rt,tt,et),w.ref!==Ne.ref&&(Ne.effectTag|=128);else{if(!tt){if(null===Ne.stateNode)throw Error(u(166));return null}if(w=ch(lh.current),Wh(Ne)){tt=Ne.stateNode,rt=Ne.type;var it=Ne.memoizedProps;switch(tt[wl]=Ne,tt[Sl]=it,rt){case"iframe":case"object":case"embed":F("load",tt);break;case"video":case"audio":for(w=0;w<ss.length;w++)F(ss[w],tt);break;case"source":F("error",tt);break;case"img":case"image":case"link":F("error",tt),F("load",tt);break;case"form":F("reset",tt),F("submit",tt);break;case"details":F("toggle",tt);break;case"input":Ab(tt,it),F("invalid",tt),rd(et,"onChange");break;case"select":tt._wrapperState={wasMultiple:!!it.multiple},F("invalid",tt),rd(et,"onChange");break;case"textarea":Jb(tt,it),F("invalid",tt),rd(et,"onChange")}for(var ot in od(rt,it),w=null,it)if(it.hasOwnProperty(ot)){var at=it[ot];"children"===ot?"string"==typeof at?tt.textContent!==at&&(w=["children",at]):"number"==typeof at&&tt.textContent!==""+at&&(w=["children",""+at]):Dt.hasOwnProperty(ot)&&null!=at&&rd(et,ot)}switch(rt){case"input":xb(tt),Eb(tt,it,!0);break;case"textarea":xb(tt),Lb(tt);break;case"select":case"option":break;default:"function"==typeof it.onClick&&(tt.onclick=sd)}et=w,Ne.updateQueue=et,null!==et&&(Ne.effectTag|=4)}else{switch(ot=9===et.nodeType?et:et.ownerDocument,w===yl&&(w=Nb(rt)),w===yl?"script"===rt?((w=ot.createElement("div")).innerHTML="<script><\/script>",w=w.removeChild(w.firstChild)):"string"==typeof tt.is?w=ot.createElement(rt,{is:tt.is}):(w=ot.createElement(rt),"select"===rt&&(ot=w,tt.multiple?ot.multiple=!0:tt.size&&(ot.size=tt.size))):w=ot.createElementNS(w,rt),w[wl]=Ne,w[Sl]=tt,cf(w,Ne),Ne.stateNode=w,ot=pd(rt,tt),rt){case"iframe":case"object":case"embed":F("load",w),at=tt;break;case"video":case"audio":for(at=0;at<ss.length;at++)F(ss[at],w);at=tt;break;case"source":F("error",w),at=tt;break;case"img":case"image":case"link":F("error",w),F("load",w),at=tt;break;case"form":F("reset",w),F("submit",w),at=tt;break;case"details":F("toggle",w),at=tt;break;case"input":Ab(w,tt),at=zb(w,tt),F("invalid",w),rd(et,"onChange");break;case"option":at=Gb(w,tt);break;case"select":w._wrapperState={wasMultiple:!!tt.multiple},at=nt({},tt,{value:void 0}),F("invalid",w),rd(et,"onChange");break;case"textarea":Jb(w,tt),at=Ib(w,tt),F("invalid",w),rd(et,"onChange");break;default:at=tt}od(rt,at);var st=at;for(it in st)if(st.hasOwnProperty(it)){var ct=st[it];"style"===it?md(w,ct):"dangerouslySetInnerHTML"===it?null!=(ct=ct?ct.__html:void 0)&&fa(w,ct):"children"===it?"string"==typeof ct?("textarea"!==rt||""!==ct)&&Rb(w,ct):"number"==typeof ct&&Rb(w,""+ct):"suppressContentEditableWarning"!==it&&"suppressHydrationWarning"!==it&&"autoFocus"!==it&&(Dt.hasOwnProperty(it)?null!=ct&&rd(et,it):null!=ct&&Xa(w,it,ct,ot))}switch(rt){case"input":xb(w),Eb(w,tt,!1);break;case"textarea":xb(w),Lb(w);break;case"option":null!=tt.value&&w.setAttribute("value",""+rb(tt.value));break;case"select":w.multiple=!!tt.multiple,null!=(et=tt.value)?Hb(w,!!tt.multiple,et,!1):null!=tt.defaultValue&&Hb(w,!!tt.multiple,tt.defaultValue,!0);break;default:"function"==typeof at.onClick&&(w.onclick=sd)}Fd(rt,tt)&&(Ne.effectTag|=4)}null!==Ne.ref&&(Ne.effectTag|=128)}return null;case 6:if(w&&null!=Ne.stateNode)hf(0,Ne,w.memoizedProps,tt);else{if("string"!=typeof tt&&null===Ne.stateNode)throw Error(u(166));et=ch(mh.current),ch(lh.current),Wh(Ne)?(et=Ne.stateNode,tt=Ne.memoizedProps,et[wl]=Ne,et.nodeValue!==tt&&(Ne.effectTag|=4)):((et=(9===et.nodeType?et:et.ownerDocument).createTextNode(tt))[wl]=Ne,Ne.stateNode=et)}return null;case 13:return H(_h),tt=Ne.memoizedState,0!=(64&Ne.effectTag)?(Ne.expirationTime=et,Ne):(et=null!==tt,tt=!1,null===w?void 0!==Ne.memoizedProps.fallback&&Wh(Ne):(tt=null!==(rt=w.memoizedState),et||null===rt||null!==(rt=w.child.sibling)&&(null!==(it=Ne.firstEffect)?(Ne.firstEffect=rt,rt.nextEffect=it):(Ne.firstEffect=Ne.lastEffect=rt,rt.nextEffect=null),rt.effectTag=8)),et&&!tt&&0!=(2&Ne.mode)&&(null===w&&!0!==Ne.memoizedProps.unstable_avoidThisFallback||0!=(1&_h.current)?Af===xf&&(Af=wf):(Af!==xf&&Af!==wf||(Af=Sf),0!==Rf&&null!==Tf&&(xi(Tf,If),yi(Tf,Rf)))),(et||tt)&&(Ne.effectTag|=4),null);case 4:return eh(),null;case 10:return og(Ne),null;case 17:return L(Ne.type)&&Df(),null;case 19:if(H(_h),null===(tt=Ne.memoizedState))return null;if(rt=0!=(64&Ne.effectTag),null===(it=tt.rendering)){if(rt)ri(tt,!1);else if(Af!==xf||null!==w&&0!=(64&w.effectTag))for(it=Ne.child;null!==it;){if(null!==(w=hh(it))){for(Ne.effectTag|=64,ri(tt,!1),null!==(rt=w.updateQueue)&&(Ne.updateQueue=rt,Ne.effectTag|=4),null===tt.lastEffect&&(Ne.firstEffect=null),Ne.lastEffect=tt.lastEffect,tt=Ne.child;null!==tt;)it=et,(rt=tt).effectTag&=2,rt.nextEffect=null,rt.firstEffect=null,rt.lastEffect=null,null===(w=rt.alternate)?(rt.childExpirationTime=0,rt.expirationTime=it,rt.child=null,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null):(rt.childExpirationTime=w.childExpirationTime,rt.expirationTime=w.expirationTime,rt.child=w.child,rt.memoizedProps=w.memoizedProps,rt.memoizedState=w.memoizedState,rt.updateQueue=w.updateQueue,it=w.dependencies,rt.dependencies=null===it?null:{expirationTime:it.expirationTime,firstContext:it.firstContext,responders:it.responders}),tt=tt.sibling;return I(_h,1&_h.current|2),Ne.child}it=it.sibling}}else{if(!rt)if(null!==(w=hh(it))){if(Ne.effectTag|=64,rt=!0,null!==(et=w.updateQueue)&&(Ne.updateQueue=et,Ne.effectTag|=4),ri(tt,!0),null===tt.tail&&"hidden"===tt.tailMode&&!it.alternate)return null!==(Ne=Ne.lastEffect=tt.lastEffect)&&(Ne.nextEffect=null),null}else 2*Wp()-tt.renderingStartTime>tt.tailExpiration&&1<et&&(Ne.effectTag|=64,rt=!0,ri(tt,!1),Ne.expirationTime=Ne.childExpirationTime=et-1);tt.isBackwards?(it.sibling=Ne.child,Ne.child=it):(null!==(et=tt.last)?et.sibling=it:Ne.child=it,tt.last=it)}return null!==tt.tail?(0===tt.tailExpiration&&(tt.tailExpiration=Wp()+500),et=tt.tail,tt.rendering=et,tt.tail=et.sibling,tt.lastEffect=Ne.lastEffect,tt.renderingStartTime=Wp(),et.sibling=null,Ne=_h.current,I(_h,rt?1&Ne|2:1&Ne),et):null}throw Error(u(156,Ne.tag))}function zi(w){switch(w.tag){case 1:L(w.type)&&Df();var Ne=w.effectTag;return 4096&Ne?(w.effectTag=-4097&Ne|64,w):null;case 3:if(eh(),H(Ep),H(Sp),0!=(64&(Ne=w.effectTag)))throw Error(u(285));return w.effectTag=-4097&Ne|64,w;case 5:return gh(w),null;case 13:return H(_h),4096&(Ne=w.effectTag)?(w.effectTag=-4097&Ne|64,w):null;case 19:return H(_h),null;case 4:return eh(),null;case 10:return og(w),null;default:return null}}function Ai(w,Ne){return{value:w,source:Ne,stack:qb(Ne)}}cf=function(w,Ne){for(var et=Ne.child;null!==et;){if(5===et.tag||6===et.tag)w.appendChild(et.stateNode);else if(4!==et.tag&&null!==et.child){et.child.return=et,et=et.child;continue}if(et===Ne)break;for(;null===et.sibling;){if(null===et.return||et.return===Ne)return;et=et.return}et.sibling.return=et.return,et=et.sibling}},pf=function(w,Ne,et,tt,rt){var it=w.memoizedProps;if(it!==tt){var ot,at,st=Ne.stateNode;switch(ch(lh.current),w=null,et){case"input":it=zb(st,it),tt=zb(st,tt),w=[];break;case"option":it=Gb(st,it),tt=Gb(st,tt),w=[];break;case"select":it=nt({},it,{value:void 0}),tt=nt({},tt,{value:void 0}),w=[];break;case"textarea":it=Ib(st,it),tt=Ib(st,tt),w=[];break;default:"function"!=typeof it.onClick&&"function"==typeof tt.onClick&&(st.onclick=sd)}for(ot in od(et,tt),et=null,it)if(!tt.hasOwnProperty(ot)&&it.hasOwnProperty(ot)&&null!=it[ot])if("style"===ot)for(at in st=it[ot])st.hasOwnProperty(at)&&(et||(et={}),et[at]="");else"dangerouslySetInnerHTML"!==ot&&"children"!==ot&&"suppressContentEditableWarning"!==ot&&"suppressHydrationWarning"!==ot&&"autoFocus"!==ot&&(Dt.hasOwnProperty(ot)?w||(w=[]):(w=w||[]).push(ot,null));for(ot in tt){var ct=tt[ot];if(st=null!=it?it[ot]:void 0,tt.hasOwnProperty(ot)&&ct!==st&&(null!=ct||null!=st))if("style"===ot)if(st){for(at in st)!st.hasOwnProperty(at)||ct&&ct.hasOwnProperty(at)||(et||(et={}),et[at]="");for(at in ct)ct.hasOwnProperty(at)&&st[at]!==ct[at]&&(et||(et={}),et[at]=ct[at])}else et||(w||(w=[]),w.push(ot,et)),et=ct;else"dangerouslySetInnerHTML"===ot?(ct=ct?ct.__html:void 0,st=st?st.__html:void 0,null!=ct&&st!==ct&&(w=w||[]).push(ot,ct)):"children"===ot?st===ct||"string"!=typeof ct&&"number"!=typeof ct||(w=w||[]).push(ot,""+ct):"suppressContentEditableWarning"!==ot&&"suppressHydrationWarning"!==ot&&(Dt.hasOwnProperty(ot)?(null!=ct&&rd(rt,ot),w||st===ct||(w=[])):(w=w||[]).push(ot,ct))}et&&(w=w||[]).push("style",et),rt=w,(Ne.updateQueue=rt)&&(Ne.effectTag|=4)}},hf=function(w,Ne,et,tt){et!==tt&&(Ne.effectTag|=4)};var df="function"==typeof WeakSet?WeakSet:Set;function Ci(w,Ne){var et=Ne.source,tt=Ne.stack;null===tt&&null!==et&&(tt=qb(et)),null!==et&&pb(et.type),Ne=Ne.value,null!==w&&1===w.tag&&pb(w.type);try{console.error(Ne)}catch(w){setTimeout((function(){throw w}))}}function Fi(w){var Ne=w.ref;if(null!==Ne)if("function"==typeof Ne)try{Ne(null)}catch(Ne){Ei(w,Ne)}else Ne.current=null}function Gi(w,Ne){switch(Ne.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&Ne.effectTag&&null!==w){var et=w.memoizedProps,tt=w.memoizedState;Ne=(w=Ne.stateNode).getSnapshotBeforeUpdate(Ne.elementType===Ne.type?et:ig(Ne.type,et),tt),w.__reactInternalSnapshotBeforeUpdate=Ne}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function Hi(w,Ne){if(null!==(Ne=null!==(Ne=Ne.updateQueue)?Ne.lastEffect:null)){var et=Ne=Ne.next;do{if((et.tag&w)===w){var tt=et.destroy;et.destroy=void 0,void 0!==tt&&tt()}et=et.next}while(et!==Ne)}}function Ii(w,Ne){if(null!==(Ne=null!==(Ne=Ne.updateQueue)?Ne.lastEffect:null)){var et=Ne=Ne.next;do{if((et.tag&w)===w){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==Ne)}}function Ji(w,Ne,et){switch(et.tag){case 0:case 11:case 15:case 22:return void Ii(3,et);case 1:if(w=et.stateNode,4&et.effectTag)if(null===Ne)w.componentDidMount();else{var tt=et.elementType===et.type?Ne.memoizedProps:ig(et.type,Ne.memoizedProps);w.componentDidUpdate(tt,Ne.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}return void(null!==(Ne=et.updateQueue)&&Cg(et,Ne,w));case 3:if(null!==(Ne=et.updateQueue)){if(w=null,null!==et.child)switch(et.child.tag){case 5:w=et.child.stateNode;break;case 1:w=et.child.stateNode}Cg(et,Ne,w)}return;case 5:return w=et.stateNode,void(null===Ne&&4&et.effectTag&&Fd(et.type,et.memoizedProps)&&w.focus());case 6:case 4:case 12:return;case 13:return void(null===et.memoizedState&&(et=et.alternate,null!==et&&(et=et.memoizedState,null!==et&&(et=et.dehydrated,null!==et&&Vc(et)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function Ki(w,Ne,et){switch("function"==typeof nd&&nd(Ne),Ne.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(w=Ne.updateQueue)&&null!==(w=w.lastEffect)){var tt=w.next;cg(97<et?97:et,(function(){var w=tt;do{var et=w.destroy;if(void 0!==et){var nt=Ne;try{et()}catch(w){Ei(nt,w)}}w=w.next}while(w!==tt)}))}break;case 1:Fi(Ne),"function"==typeof(et=Ne.stateNode).componentWillUnmount&&function Di(w,Ne){try{Ne.props=w.memoizedProps,Ne.state=w.memoizedState,Ne.componentWillUnmount()}catch(Ne){Ei(w,Ne)}}(Ne,et);break;case 5:Fi(Ne);break;case 4:Mi(w,Ne,et)}}function Ni(w){var Ne=w.alternate;w.return=null,w.child=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.alternate=null,w.firstEffect=null,w.lastEffect=null,w.pendingProps=null,w.memoizedProps=null,w.stateNode=null,null!==Ne&&Ni(Ne)}function Oi(w){return 5===w.tag||3===w.tag||4===w.tag}function Pi(w){e:{for(var Ne=w.return;null!==Ne;){if(Oi(Ne)){var et=Ne;break e}Ne=Ne.return}throw Error(u(160))}switch(Ne=et.stateNode,et.tag){case 5:var tt=!1;break;case 3:case 4:Ne=Ne.containerInfo,tt=!0;break;default:throw Error(u(161))}16&et.effectTag&&(Rb(Ne,""),et.effectTag&=-17);e:t:for(et=w;;){for(;null===et.sibling;){if(null===et.return||Oi(et.return)){et=null;break e}et=et.return}for(et.sibling.return=et.return,et=et.sibling;5!==et.tag&&6!==et.tag&&18!==et.tag;){if(2&et.effectTag)continue t;if(null===et.child||4===et.tag)continue t;et.child.return=et,et=et.child}if(!(2&et.effectTag)){et=et.stateNode;break e}}tt?function Qi(w,Ne,et){var tt=w.tag,nt=5===tt||6===tt;if(nt)w=nt?w.stateNode:w.stateNode.instance,Ne?8===et.nodeType?et.parentNode.insertBefore(w,Ne):et.insertBefore(w,Ne):(8===et.nodeType?(Ne=et.parentNode).insertBefore(w,et):(Ne=et).appendChild(w),null!==(et=et._reactRootContainer)&&void 0!==et||null!==Ne.onclick||(Ne.onclick=sd));else if(4!==tt&&null!==(w=w.child))for(Qi(w,Ne,et),w=w.sibling;null!==w;)Qi(w,Ne,et),w=w.sibling}(w,et,Ne):function Ri(w,Ne,et){var tt=w.tag,nt=5===tt||6===tt;if(nt)w=nt?w.stateNode:w.stateNode.instance,Ne?et.insertBefore(w,Ne):et.appendChild(w);else if(4!==tt&&null!==(w=w.child))for(Ri(w,Ne,et),w=w.sibling;null!==w;)Ri(w,Ne,et),w=w.sibling}(w,et,Ne)}function Mi(w,Ne,et){for(var tt,nt,rt=Ne,it=!1;;){if(!it){it=rt.return;e:for(;;){if(null===it)throw Error(u(160));switch(tt=it.stateNode,it.tag){case 5:nt=!1;break e;case 3:case 4:tt=tt.containerInfo,nt=!0;break e}it=it.return}it=!0}if(5===rt.tag||6===rt.tag){e:for(var ot=w,at=rt,st=et,ct=at;;)if(Ki(ot,ct,st),null!==ct.child&&4!==ct.tag)ct.child.return=ct,ct=ct.child;else{if(ct===at)break e;for(;null===ct.sibling;){if(null===ct.return||ct.return===at)break e;ct=ct.return}ct.sibling.return=ct.return,ct=ct.sibling}nt?(ot=tt,at=rt.stateNode,8===ot.nodeType?ot.parentNode.removeChild(at):ot.removeChild(at)):tt.removeChild(rt.stateNode)}else if(4===rt.tag){if(null!==rt.child){tt=rt.stateNode.containerInfo,nt=!0,rt.child.return=rt,rt=rt.child;continue}}else if(Ki(w,rt,et),null!==rt.child){rt.child.return=rt,rt=rt.child;continue}if(rt===Ne)break;for(;null===rt.sibling;){if(null===rt.return||rt.return===Ne)return;4===(rt=rt.return).tag&&(it=!1)}rt.sibling.return=rt.return,rt=rt.sibling}}function Si(w,Ne){switch(Ne.tag){case 0:case 11:case 14:case 15:case 22:return void Hi(3,Ne);case 1:return;case 5:var et=Ne.stateNode;if(null!=et){var tt=Ne.memoizedProps,nt=null!==w?w.memoizedProps:tt;w=Ne.type;var rt=Ne.updateQueue;if(Ne.updateQueue=null,null!==rt){for(et[Sl]=tt,"input"===w&&"radio"===tt.type&&null!=tt.name&&Bb(et,tt),pd(w,nt),Ne=pd(w,tt),nt=0;nt<rt.length;nt+=2){var it=rt[nt],ot=rt[nt+1];"style"===it?md(et,ot):"dangerouslySetInnerHTML"===it?fa(et,ot):"children"===it?Rb(et,ot):Xa(et,it,ot,Ne)}switch(w){case"input":Cb(et,tt);break;case"textarea":Kb(et,tt);break;case"select":Ne=et._wrapperState.wasMultiple,et._wrapperState.wasMultiple=!!tt.multiple,null!=(w=tt.value)?Hb(et,!!tt.multiple,w,!1):Ne!==!!tt.multiple&&(null!=tt.defaultValue?Hb(et,!!tt.multiple,tt.defaultValue,!0):Hb(et,!!tt.multiple,tt.multiple?[]:"",!1))}}}return;case 6:if(null===Ne.stateNode)throw Error(u(162));return void(Ne.stateNode.nodeValue=Ne.memoizedProps);case 3:return void((Ne=Ne.stateNode).hydrate&&(Ne.hydrate=!1,Vc(Ne.containerInfo)));case 12:return;case 13:if(et=Ne,null===Ne.memoizedState?tt=!1:(tt=!0,et=Ne.child,Nf=Wp()),null!==et)e:for(w=et;;){if(5===w.tag)rt=w.stateNode,tt?"function"==typeof(rt=rt.style).setProperty?rt.setProperty("display","none","important"):rt.display="none":(rt=w.stateNode,nt=null!=(nt=w.memoizedProps.style)&&nt.hasOwnProperty("display")?nt.display:null,rt.style.display=ld("display",nt));else if(6===w.tag)w.stateNode.nodeValue=tt?"":w.memoizedProps;else{if(13===w.tag&&null!==w.memoizedState&&null===w.memoizedState.dehydrated){(rt=w.child.sibling).return=w,w=rt;continue}if(null!==w.child){w.child.return=w,w=w.child;continue}}if(w===et)break;for(;null===w.sibling;){if(null===w.return||w.return===et)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}return void Ui(Ne);case 19:return void Ui(Ne);case 17:return}throw Error(u(163))}function Ui(w){var Ne=w.updateQueue;if(null!==Ne){w.updateQueue=null;var et=w.stateNode;null===et&&(et=w.stateNode=new df),Ne.forEach((function(Ne){var tt=Vi.bind(null,w,Ne);et.has(Ne)||(et.add(Ne),Ne.then(tt,tt))}))}}var mf="function"==typeof WeakMap?WeakMap:Map;function Xi(w,Ne,et){(et=wg(et,null)).tag=3,et.payload={element:null};var tt=Ne.value;return et.callback=function(){Uf||(Uf=!0,qf=tt),Ci(w,Ne)},et}function $i(w,Ne,et){(et=wg(et,null)).tag=3;var tt=w.type.getDerivedStateFromError;if("function"==typeof tt){var nt=Ne.value;et.payload=function(){return Ci(w,Ne),tt(nt)}}var rt=w.stateNode;return null!==rt&&"function"==typeof rt.componentDidCatch&&(et.callback=function(){"function"!=typeof tt&&(null===Wf?Wf=new Set([this]):Wf.add(this),Ci(w,Ne));var et=Ne.stack;this.componentDidCatch(Ne.value,{componentStack:null!==et?et:""})}),et}var yf,gf=Math.ceil,vf=Vn.ReactCurrentDispatcher,_f=Vn.ReactCurrentOwner,xf=0,wf=3,Sf=4,kf=0,Tf=null,Pf=null,If=0,Af=xf,Mf=null,Of=1073741823,zf=1073741823,Lf=null,Rf=0,Bf=!1,Nf=0,Vf=null,Uf=!1,qf=null,Wf=null,Zf=!1,Xf=null,$f=90,Kf=null,Yf=0,Jf=null,Qf=0;function Gg(){return 0!=(48&kf)?1073741821-(Wp()/10|0):0!==Qf?Qf:Qf=1073741821-(Wp()/10|0)}function Hg(w,Ne,et){if(0==(2&(Ne=Ne.mode)))return 1073741823;var tt=ag();if(0==(4&Ne))return 99===tt?1073741823:1073741822;if(0!=(16&kf))return If;if(null!==et)w=hg(w,0|et.timeoutMs||5e3,250);else switch(tt){case 99:w=1073741823;break;case 98:w=hg(w,150,100);break;case 97:case 96:w=hg(w,5e3,250);break;case 95:w=2;break;default:throw Error(u(326))}return null!==Tf&&w===If&&--w,w}function Ig(w,Ne){if(50<Yf)throw Yf=0,Jf=null,Error(u(185));if(null!==(w=xj(w,Ne))){var et=ag();1073741823===Ne?0!=(8&kf)&&0==(48&kf)?yj(w):(Z(w),0===kf&&gg()):Z(w),0==(4&kf)||98!==et&&99!==et||(null===Kf?Kf=new Map([[w,Ne]]):(void 0===(et=Kf.get(w))||et>Ne)&&Kf.set(w,Ne))}}function xj(w,Ne){w.expirationTime<Ne&&(w.expirationTime=Ne);var et=w.alternate;null!==et&&et.expirationTime<Ne&&(et.expirationTime=Ne);var tt=w.return,nt=null;if(null===tt&&3===w.tag)nt=w.stateNode;else for(;null!==tt;){if(et=tt.alternate,tt.childExpirationTime<Ne&&(tt.childExpirationTime=Ne),null!==et&&et.childExpirationTime<Ne&&(et.childExpirationTime=Ne),null===tt.return&&3===tt.tag){nt=tt.stateNode;break}tt=tt.return}return null!==nt&&(Tf===nt&&(Bg(Ne),Af===Sf&&xi(nt,If)),yi(nt,Ne)),nt}function zj(w){var Ne=w.lastExpiredTime;if(0!==Ne)return Ne;if(!Aj(w,Ne=w.firstPendingTime))return Ne;var et=w.lastPingedTime;return 2>=(w=et>(w=w.nextKnownPendingLevel)?et:w)&&Ne!==w?0:w}function Z(w){if(0!==w.lastExpiredTime)w.callbackExpirationTime=1073741823,w.callbackPriority=99,w.callbackNode=eg(yj.bind(null,w));else{var Ne=zj(w),et=w.callbackNode;if(0===Ne)null!==et&&(w.callbackNode=null,w.callbackExpirationTime=0,w.callbackPriority=90);else{var tt=Gg();if(1073741823===Ne?tt=99:1===Ne||2===Ne?tt=95:tt=0>=(tt=10*(1073741821-Ne)-10*(1073741821-tt))?99:250>=tt?98:5250>=tt?97:95,null!==et){var nt=w.callbackPriority;if(w.callbackExpirationTime===Ne&&nt>=tt)return;et!==Fp&&Pp(et)}w.callbackExpirationTime=Ne,w.callbackPriority=tt,Ne=1073741823===Ne?eg(yj.bind(null,w)):dg(tt,Bj.bind(null,w),{timeout:10*(1073741821-Ne)-Wp()}),w.callbackNode=Ne}}}function Bj(w,Ne){if(Qf=0,Ne)return Cj(w,Ne=Gg()),Z(w),null;var et=zj(w);if(0!==et){if(Ne=w.callbackNode,0!=(48&kf))throw Error(u(327));if(Dj(),w===Tf&&et===If||Ej(w,et),null!==Pf){var tt=kf;kf|=16;for(var nt=Fj();;)try{Gj();break}catch(Ne){Hj(w,Ne)}if(ng(),kf=tt,vf.current=nt,1===Af)throw Ne=Mf,Ej(w,et),xi(w,et),Z(w),Ne;if(null===Pf)switch(nt=w.finishedWork=w.current.alternate,w.finishedExpirationTime=et,tt=Af,Tf=null,tt){case xf:case 1:throw Error(u(345));case 2:Cj(w,2<et?2:et);break;case wf:if(xi(w,et),et===(tt=w.lastSuspendedTime)&&(w.nextKnownPendingLevel=Ij(nt)),1073741823===Of&&10<(nt=Nf+500-Wp())){if(Bf){var rt=w.lastPingedTime;if(0===rt||rt>=et){w.lastPingedTime=et,Ej(w,et);break}}if(0!==(rt=zj(w))&&rt!==et)break;if(0!==tt&&tt!==et){w.lastPingedTime=tt;break}w.timeoutHandle=_l(Jj.bind(null,w),nt);break}Jj(w);break;case Sf:if(xi(w,et),et===(tt=w.lastSuspendedTime)&&(w.nextKnownPendingLevel=Ij(nt)),Bf&&(0===(nt=w.lastPingedTime)||nt>=et)){w.lastPingedTime=et,Ej(w,et);break}if(0!==(nt=zj(w))&&nt!==et)break;if(0!==tt&&tt!==et){w.lastPingedTime=tt;break}if(1073741823!==zf?tt=10*(1073741821-zf)-Wp():1073741823===Of?tt=0:(tt=10*(1073741821-Of)-5e3,0>(tt=(nt=Wp())-tt)&&(tt=0),(et=10*(1073741821-et)-nt)<(tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*gf(tt/1960))-tt)&&(tt=et)),10<tt){w.timeoutHandle=_l(Jj.bind(null,w),tt);break}Jj(w);break;case 5:if(1073741823!==Of&&null!==Lf){rt=Of;var it=Lf;if(0>=(tt=0|it.busyMinDurationMs)?tt=0:(nt=0|it.busyDelayMs,tt=(rt=Wp()-(10*(1073741821-rt)-(0|it.timeoutMs||5e3)))<=nt?0:nt+tt-rt),10<tt){xi(w,et),w.timeoutHandle=_l(Jj.bind(null,w),tt);break}}Jj(w);break;default:throw Error(u(329))}if(Z(w),w.callbackNode===Ne)return Bj.bind(null,w)}}return null}function yj(w){var Ne=w.lastExpiredTime;if(Ne=0!==Ne?Ne:1073741823,0!=(48&kf))throw Error(u(327));if(Dj(),w===Tf&&Ne===If||Ej(w,Ne),null!==Pf){var et=kf;kf|=16;for(var tt=Fj();;)try{Kj();break}catch(Ne){Hj(w,Ne)}if(ng(),kf=et,vf.current=tt,1===Af)throw et=Mf,Ej(w,Ne),xi(w,Ne),Z(w),et;if(null!==Pf)throw Error(u(261));w.finishedWork=w.current.alternate,w.finishedExpirationTime=Ne,Tf=null,Jj(w),Z(w)}return null}function Mj(w,Ne){var et=kf;kf|=1;try{return w(Ne)}finally{0===(kf=et)&&gg()}}function Nj(w,Ne){var et=kf;kf&=-2,kf|=8;try{return w(Ne)}finally{0===(kf=et)&&gg()}}function Ej(w,Ne){w.finishedWork=null,w.finishedExpirationTime=0;var et=w.timeoutHandle;if(-1!==et&&(w.timeoutHandle=-1,bl(et)),null!==Pf)for(et=Pf.return;null!==et;){var tt=et;switch(tt.tag){case 1:null!=(tt=tt.type.childContextTypes)&&Df();break;case 3:eh(),H(Ep),H(Sp);break;case 5:gh(tt);break;case 4:eh();break;case 13:case 19:H(_h);break;case 10:og(tt)}et=et.return}Tf=w,Pf=Sg(w.current,null),If=Ne,Af=xf,Mf=null,zf=Of=1073741823,Lf=null,Rf=0,Bf=!1}function Hj(w,Ne){for(;;){try{if(ng(),bh.current=Qh,Yh)for(var et=Oh.memoizedState;null!==et;){var tt=et.queue;null!==tt&&(tt.pending=null),et=et.next}if(Ph=0,qh=jh=Oh=null,Yh=!1,null===Pf||null===Pf.return)return Af=1,Mf=Ne,Pf=null;e:{var nt=w,rt=Pf.return,it=Pf,ot=Ne;if(Ne=If,it.effectTag|=2048,it.firstEffect=it.lastEffect=null,null!==ot&&"object"==typeof ot&&"function"==typeof ot.then){var at=ot;if(0==(2&it.mode)){var st=it.alternate;st?(it.updateQueue=st.updateQueue,it.memoizedState=st.memoizedState,it.expirationTime=st.expirationTime):(it.updateQueue=null,it.memoizedState=null)}var ct=0!=(1&_h.current),pt=rt;do{var ft;if(ft=13===pt.tag){var dt=pt.memoizedState;if(null!==dt)ft=null!==dt.dehydrated;else{var mt=pt.memoizedProps;ft=void 0!==mt.fallback&&(!0!==mt.unstable_avoidThisFallback||!ct)}}if(ft){var yt=pt.updateQueue;if(null===yt){var vt=new Set;vt.add(at),pt.updateQueue=vt}else yt.add(at);if(0==(2&pt.mode)){if(pt.effectTag|=64,it.effectTag&=-2981,1===it.tag)if(null===it.alternate)it.tag=17;else{var Ot=wg(1073741823,null);Ot.tag=2,xg(it,Ot)}it.expirationTime=1073741823;break e}ot=void 0,it=Ne;var Dt=nt.pingCache;if(null===Dt?(Dt=nt.pingCache=new mf,ot=new Set,Dt.set(at,ot)):void 0===(ot=Dt.get(at))&&(ot=new Set,Dt.set(at,ot)),!ot.has(it)){ot.add(it);var Rt=Oj.bind(null,nt,at,it);at.then(Rt,Rt)}pt.effectTag|=4096,pt.expirationTime=Ne;break e}pt=pt.return}while(null!==pt);ot=Error((pb(it.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+qb(it))}5!==Af&&(Af=2),ot=Ai(ot,it),pt=rt;do{switch(pt.tag){case 3:at=ot,pt.effectTag|=4096,pt.expirationTime=Ne,yg(pt,Xi(pt,at,Ne));break e;case 1:at=ot;var Bt=pt.type,rn=pt.stateNode;if(0==(64&pt.effectTag)&&("function"==typeof Bt.getDerivedStateFromError||null!==rn&&"function"==typeof rn.componentDidCatch&&(null===Wf||!Wf.has(rn)))){pt.effectTag|=4096,pt.expirationTime=Ne,yg(pt,$i(pt,at,Ne));break e}}pt=pt.return}while(null!==pt)}Pf=Pj(Pf)}catch(w){Ne=w;continue}break}}function Fj(){var w=vf.current;return vf.current=Qh,null===w?Qh:w}function Ag(w,Ne){w<Of&&2<w&&(Of=w),null!==Ne&&w<zf&&2<w&&(zf=w,Lf=Ne)}function Bg(w){w>Rf&&(Rf=w)}function Kj(){for(;null!==Pf;)Pf=Qj(Pf)}function Gj(){for(;null!==Pf&&!Bp();)Pf=Qj(Pf)}function Qj(w){var Ne=yf(w.alternate,w,If);return w.memoizedProps=w.pendingProps,null===Ne&&(Ne=Pj(w)),_f.current=null,Ne}function Pj(w){Pf=w;do{var Ne=Pf.alternate;if(w=Pf.return,0==(2048&Pf.effectTag)){if(Ne=si(Ne,Pf,If),1===If||1!==Pf.childExpirationTime){for(var et=0,tt=Pf.child;null!==tt;){var nt=tt.expirationTime,rt=tt.childExpirationTime;nt>et&&(et=nt),rt>et&&(et=rt),tt=tt.sibling}Pf.childExpirationTime=et}if(null!==Ne)return Ne;null!==w&&0==(2048&w.effectTag)&&(null===w.firstEffect&&(w.firstEffect=Pf.firstEffect),null!==Pf.lastEffect&&(null!==w.lastEffect&&(w.lastEffect.nextEffect=Pf.firstEffect),w.lastEffect=Pf.lastEffect),1<Pf.effectTag&&(null!==w.lastEffect?w.lastEffect.nextEffect=Pf:w.firstEffect=Pf,w.lastEffect=Pf))}else{if(null!==(Ne=zi(Pf)))return Ne.effectTag&=2047,Ne;null!==w&&(w.firstEffect=w.lastEffect=null,w.effectTag|=2048)}if(null!==(Ne=Pf.sibling))return Ne;Pf=w}while(null!==Pf);return Af===xf&&(Af=5),null}function Ij(w){var Ne=w.expirationTime;return Ne>(w=w.childExpirationTime)?Ne:w}function Jj(w){var Ne=ag();return cg(99,Sj.bind(null,w,Ne)),null}function Sj(w,Ne){do{Dj()}while(null!==Xf);if(0!=(48&kf))throw Error(u(327));var et=w.finishedWork,tt=w.finishedExpirationTime;if(null===et)return null;if(w.finishedWork=null,w.finishedExpirationTime=0,et===w.current)throw Error(u(177));w.callbackNode=null,w.callbackExpirationTime=0,w.callbackPriority=90,w.nextKnownPendingLevel=0;var nt=Ij(et);if(w.firstPendingTime=nt,tt<=w.lastSuspendedTime?w.firstSuspendedTime=w.lastSuspendedTime=w.nextKnownPendingLevel=0:tt<=w.firstSuspendedTime&&(w.firstSuspendedTime=tt-1),tt<=w.lastPingedTime&&(w.lastPingedTime=0),tt<=w.lastExpiredTime&&(w.lastExpiredTime=0),w===Tf&&(Pf=Tf=null,If=0),1<et.effectTag?null!==et.lastEffect?(et.lastEffect.nextEffect=et,nt=et.firstEffect):nt=et:nt=et.firstEffect,null!==nt){var rt=kf;kf|=32,_f.current=null,gl=tl;var it=xd();if(yd(it)){if("selectionStart"in it)var ot={start:it.selectionStart,end:it.selectionEnd};else e:{var at=(ot=(ot=it.ownerDocument)&&ot.defaultView||window).getSelection&&ot.getSelection();if(at&&0!==at.rangeCount){ot=at.anchorNode;var st=at.anchorOffset,ct=at.focusNode;at=at.focusOffset;try{ot.nodeType,ct.nodeType}catch(w){ot=null;break e}var pt=0,ft=-1,dt=-1,mt=0,yt=0,vt=it,Ot=null;t:for(;;){for(var Dt;vt!==ot||0!==st&&3!==vt.nodeType||(ft=pt+st),vt!==ct||0!==at&&3!==vt.nodeType||(dt=pt+at),3===vt.nodeType&&(pt+=vt.nodeValue.length),null!==(Dt=vt.firstChild);)Ot=vt,vt=Dt;for(;;){if(vt===it)break t;if(Ot===ot&&++mt===st&&(ft=pt),Ot===ct&&++yt===at&&(dt=pt),null!==(Dt=vt.nextSibling))break;Ot=(vt=Ot).parentNode}vt=Dt}ot=-1===ft||-1===dt?null:{start:ft,end:dt}}else ot=null}ot=ot||{start:0,end:0}}else ot=null;vl={activeElementDetached:null,focusedElem:it,selectionRange:ot},tl=!1,Vf=nt;do{try{Tj()}catch(w){if(null===Vf)throw Error(u(330));Ei(Vf,w),Vf=Vf.nextEffect}}while(null!==Vf);Vf=nt;do{try{for(it=w,ot=Ne;null!==Vf;){var Rt=Vf.effectTag;if(16&Rt&&Rb(Vf.stateNode,""),128&Rt){var Bt=Vf.alternate;if(null!==Bt){var rn=Bt.ref;null!==rn&&("function"==typeof rn?rn(null):rn.current=null)}}switch(1038&Rt){case 2:Pi(Vf),Vf.effectTag&=-3;break;case 6:Pi(Vf),Vf.effectTag&=-3,Si(Vf.alternate,Vf);break;case 1024:Vf.effectTag&=-1025;break;case 1028:Vf.effectTag&=-1025,Si(Vf.alternate,Vf);break;case 4:Si(Vf.alternate,Vf);break;case 8:Mi(it,st=Vf,ot),Ni(st)}Vf=Vf.nextEffect}}catch(w){if(null===Vf)throw Error(u(330));Ei(Vf,w),Vf=Vf.nextEffect}}while(null!==Vf);if(rn=vl,Bt=xd(),Rt=rn.focusedElem,ot=rn.selectionRange,Bt!==Rt&&Rt&&Rt.ownerDocument&&function wd(w,Ne){return!(!w||!Ne)&&(w===Ne||(!w||3!==w.nodeType)&&(Ne&&3===Ne.nodeType?wd(w,Ne.parentNode):"contains"in w?w.contains(Ne):!!w.compareDocumentPosition&&!!(16&w.compareDocumentPosition(Ne))))}(Rt.ownerDocument.documentElement,Rt)){null!==ot&&yd(Rt)&&(Bt=ot.start,void 0===(rn=ot.end)&&(rn=Bt),"selectionStart"in Rt?(Rt.selectionStart=Bt,Rt.selectionEnd=Math.min(rn,Rt.value.length)):(rn=(Bt=Rt.ownerDocument||document)&&Bt.defaultView||window).getSelection&&(rn=rn.getSelection(),st=Rt.textContent.length,it=Math.min(ot.start,st),ot=void 0===ot.end?it:Math.min(ot.end,st),!rn.extend&&it>ot&&(st=ot,ot=it,it=st),st=vd(Rt,it),ct=vd(Rt,ot),st&&ct&&(1!==rn.rangeCount||rn.anchorNode!==st.node||rn.anchorOffset!==st.offset||rn.focusNode!==ct.node||rn.focusOffset!==ct.offset)&&((Bt=Bt.createRange()).setStart(st.node,st.offset),rn.removeAllRanges(),it>ot?(rn.addRange(Bt),rn.extend(ct.node,ct.offset)):(Bt.setEnd(ct.node,ct.offset),rn.addRange(Bt))))),Bt=[];for(rn=Rt;rn=rn.parentNode;)1===rn.nodeType&&Bt.push({element:rn,left:rn.scrollLeft,top:rn.scrollTop});for("function"==typeof Rt.focus&&Rt.focus(),Rt=0;Rt<Bt.length;Rt++)(rn=Bt[Rt]).element.scrollLeft=rn.left,rn.element.scrollTop=rn.top}tl=!!gl,vl=gl=null,w.current=et,Vf=nt;do{try{for(Rt=w;null!==Vf;){var vn=Vf.effectTag;if(36&vn&&Ji(Rt,Vf.alternate,Vf),128&vn){Bt=void 0;var bn=Vf.ref;if(null!==bn){var Cn=Vf.stateNode;switch(Vf.tag){case 5:Bt=Cn;break;default:Bt=Cn}"function"==typeof bn?bn(Bt):bn.current=Bt}}Vf=Vf.nextEffect}}catch(w){if(null===Vf)throw Error(u(330));Ei(Vf,w),Vf=Vf.nextEffect}}while(null!==Vf);Vf=null,jp(),kf=rt}else w.current=et;if(Zf)Zf=!1,Xf=w,$f=Ne;else for(Vf=nt;null!==Vf;)Ne=Vf.nextEffect,Vf.nextEffect=null,Vf=Ne;if(0===(Ne=w.firstPendingTime)&&(Wf=null),1073741823===Ne?w===Jf?Yf++:(Yf=0,Jf=w):Yf=0,"function"==typeof ed&&ed(et.stateNode,tt),Z(w),Uf)throw Uf=!1,w=qf,qf=null,w;return 0!=(8&kf)||gg(),null}function Tj(){for(;null!==Vf;){var w=Vf.effectTag;0!=(256&w)&&Gi(Vf.alternate,Vf),0==(512&w)||Zf||(Zf=!0,dg(97,(function(){return Dj(),null}))),Vf=Vf.nextEffect}}function Dj(){if(90!==$f){var w=97<$f?97:$f;return $f=90,cg(w,Vj)}}function Vj(){if(null===Xf)return!1;var w=Xf;if(Xf=null,0!=(48&kf))throw Error(u(331));var Ne=kf;for(kf|=32,w=w.current.firstEffect;null!==w;){try{var et=w;if(0!=(512&et.effectTag))switch(et.tag){case 0:case 11:case 15:case 22:Hi(5,et),Ii(5,et)}}catch(Ne){if(null===w)throw Error(u(330));Ei(w,Ne)}et=w.nextEffect,w.nextEffect=null,w=et}return kf=Ne,gg(),!0}function Wj(w,Ne,et){xg(w,Ne=Xi(w,Ne=Ai(et,Ne),1073741823)),null!==(w=xj(w,1073741823))&&Z(w)}function Ei(w,Ne){if(3===w.tag)Wj(w,w,Ne);else for(var et=w.return;null!==et;){if(3===et.tag){Wj(et,w,Ne);break}if(1===et.tag){var tt=et.stateNode;if("function"==typeof et.type.getDerivedStateFromError||"function"==typeof tt.componentDidCatch&&(null===Wf||!Wf.has(tt))){xg(et,w=$i(et,w=Ai(Ne,w),1073741823)),null!==(et=xj(et,1073741823))&&Z(et);break}}et=et.return}}function Oj(w,Ne,et){var tt=w.pingCache;null!==tt&&tt.delete(Ne),Tf===w&&If===et?Af===Sf||Af===wf&&1073741823===Of&&Wp()-Nf<500?Ej(w,If):Bf=!0:Aj(w,et)&&(0!==(Ne=w.lastPingedTime)&&Ne<et||(w.lastPingedTime=et,Z(w)))}function Vi(w,Ne){var et=w.stateNode;null!==et&&et.delete(Ne),0===(Ne=0)&&(Ne=Hg(Ne=Gg(),w,null)),null!==(w=xj(w,Ne))&&Z(w)}yf=function(w,Ne,et){var tt=Ne.expirationTime;if(null!==w){var nt=Ne.pendingProps;if(w.memoizedProps!==nt||Ep.current)uf=!0;else{if(tt<et){switch(uf=!1,Ne.tag){case 3:hi(Ne),Xh();break;case 5:if(fh(Ne),4&Ne.mode&&1!==et&&nt.hidden)return Ne.expirationTime=Ne.childExpirationTime=1,null;break;case 1:L(Ne.type)&&Gf(Ne);break;case 4:dh(Ne,Ne.stateNode.containerInfo);break;case 10:tt=Ne.memoizedProps.value,nt=Ne.type._context,I(Hp,nt._currentValue),nt._currentValue=tt;break;case 13:if(null!==Ne.memoizedState)return 0!==(tt=Ne.child.childExpirationTime)&&tt>=et?ji(w,Ne,et):(I(_h,1&_h.current),null!==(Ne=$h(w,Ne,et))?Ne.sibling:null);I(_h,1&_h.current);break;case 19:if(tt=Ne.childExpirationTime>=et,0!=(64&w.effectTag)){if(tt)return mi(w,Ne,et);Ne.effectTag|=64}if(null!==(nt=Ne.memoizedState)&&(nt.rendering=null,nt.tail=null),I(_h,_h.current),!tt)return null}return $h(w,Ne,et)}uf=!1}}else uf=!1;switch(Ne.expirationTime=0,Ne.tag){case 2:if(tt=Ne.type,null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),w=Ne.pendingProps,nt=Cf(Ne,Sp.current),qg(Ne,et),nt=oh(null,Ne,tt,w,nt,et),Ne.effectTag|=1,"object"==typeof nt&&null!==nt&&"function"==typeof nt.render&&void 0===nt.$$typeof){if(Ne.tag=1,Ne.memoizedState=null,Ne.updateQueue=null,L(tt)){var rt=!0;Gf(Ne)}else rt=!1;Ne.memoizedState=null!==nt.state&&void 0!==nt.state?nt.state:null,ug(Ne);var it=tt.getDerivedStateFromProps;"function"==typeof it&&Fg(Ne,tt,it,w),nt.updater=Jp,Ne.stateNode=nt,nt._reactInternalFiber=Ne,Ng(Ne,tt,w,et),Ne=gi(null,Ne,tt,!0,rt,et)}else Ne.tag=0,R(null,Ne,nt,et),Ne=Ne.child;return Ne;case 16:e:{if(nt=Ne.elementType,null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),w=Ne.pendingProps,function ob(w){if(-1===w._status){w._status=0;var Ne=w._ctor;Ne=Ne(),w._result=Ne,Ne.then((function(Ne){0===w._status&&(Ne=Ne.default,w._status=1,w._result=Ne)}),(function(Ne){0===w._status&&(w._status=2,w._result=Ne)}))}}(nt),1!==nt._status)throw nt._result;switch(nt=nt._result,Ne.type=nt,rt=Ne.tag=function Xj(w){if("function"==typeof w)return bi(w)?1:0;if(null!=w){if((w=w.$$typeof)===uo)return 11;if(w===So)return 14}return 2}(nt),w=ig(nt,w),rt){case 0:Ne=di(null,Ne,nt,w,et);break e;case 1:Ne=fi(null,Ne,nt,w,et);break e;case 11:Ne=Zh(null,Ne,nt,w,et);break e;case 14:Ne=ai(null,Ne,nt,ig(nt.type,w),tt,et);break e}throw Error(u(306,nt,""))}return Ne;case 0:return tt=Ne.type,nt=Ne.pendingProps,di(w,Ne,tt,nt=Ne.elementType===tt?nt:ig(tt,nt),et);case 1:return tt=Ne.type,nt=Ne.pendingProps,fi(w,Ne,tt,nt=Ne.elementType===tt?nt:ig(tt,nt),et);case 3:if(hi(Ne),tt=Ne.updateQueue,null===w||null===tt)throw Error(u(282));if(tt=Ne.pendingProps,nt=null!==(nt=Ne.memoizedState)?nt.element:null,vg(w,Ne),zg(Ne,tt,null,et),(tt=Ne.memoizedState.element)===nt)Xh(),Ne=$h(w,Ne,et);else{if((nt=Ne.stateNode.hydrate)&&(af=Jd(Ne.stateNode.containerInfo.firstChild),rf=Ne,nt=sf=!0),nt)for(et=ah(Ne,null,tt,et),Ne.child=et;et;)et.effectTag=-3&et.effectTag|1024,et=et.sibling;else R(w,Ne,tt,et),Xh();Ne=Ne.child}return Ne;case 5:return fh(Ne),null===w&&Uh(Ne),tt=Ne.type,nt=Ne.pendingProps,rt=null!==w?w.memoizedProps:null,it=nt.children,Gd(tt,nt)?it=null:null!==rt&&Gd(tt,rt)&&(Ne.effectTag|=16),ei(w,Ne),4&Ne.mode&&1!==et&&nt.hidden?(Ne.expirationTime=Ne.childExpirationTime=1,Ne=null):(R(w,Ne,it,et),Ne=Ne.child),Ne;case 6:return null===w&&Uh(Ne),null;case 13:return ji(w,Ne,et);case 4:return dh(Ne,Ne.stateNode.containerInfo),tt=Ne.pendingProps,null===w?Ne.child=rh(Ne,null,tt,et):R(w,Ne,tt,et),Ne.child;case 11:return tt=Ne.type,nt=Ne.pendingProps,Zh(w,Ne,tt,nt=Ne.elementType===tt?nt:ig(tt,nt),et);case 7:return R(w,Ne,Ne.pendingProps,et),Ne.child;case 8:case 12:return R(w,Ne,Ne.pendingProps.children,et),Ne.child;case 10:e:{tt=Ne.type._context,nt=Ne.pendingProps,it=Ne.memoizedProps,rt=nt.value;var ot=Ne.type._context;if(I(Hp,ot._currentValue),ot._currentValue=rt,null!==it)if(ot=it.value,0===(rt=Zc(ot,rt)?0:0|("function"==typeof tt._calculateChangedBits?tt._calculateChangedBits(ot,rt):1073741823))){if(it.children===nt.children&&!Ep.current){Ne=$h(w,Ne,et);break e}}else for(null!==(ot=Ne.child)&&(ot.return=Ne);null!==ot;){var at=ot.dependencies;if(null!==at){it=ot.child;for(var st=at.firstContext;null!==st;){if(st.context===tt&&0!=(st.observedBits&rt)){1===ot.tag&&((st=wg(et,null)).tag=2,xg(ot,st)),ot.expirationTime<et&&(ot.expirationTime=et),null!==(st=ot.alternate)&&st.expirationTime<et&&(st.expirationTime=et),pg(ot.return,et),at.expirationTime<et&&(at.expirationTime=et);break}st=st.next}}else it=10===ot.tag&&ot.type===Ne.type?null:ot.child;if(null!==it)it.return=ot;else for(it=ot;null!==it;){if(it===Ne){it=null;break}if(null!==(ot=it.sibling)){ot.return=it.return,it=ot;break}it=it.return}ot=it}R(w,Ne,nt.children,et),Ne=Ne.child}return Ne;case 9:return nt=Ne.type,tt=(rt=Ne.pendingProps).children,qg(Ne,et),tt=tt(nt=sg(nt,rt.unstable_observedBits)),Ne.effectTag|=1,R(w,Ne,tt,et),Ne.child;case 14:return rt=ig(nt=Ne.type,Ne.pendingProps),ai(w,Ne,nt,rt=ig(nt.type,rt),tt,et);case 15:return ci(w,Ne,Ne.type,Ne.pendingProps,tt,et);case 17:return tt=Ne.type,nt=Ne.pendingProps,nt=Ne.elementType===tt?nt:ig(tt,nt),null!==w&&(w.alternate=null,Ne.alternate=null,Ne.effectTag|=2),Ne.tag=1,L(tt)?(w=!0,Gf(Ne)):w=!1,qg(Ne,et),Lg(Ne,tt,nt),Ng(Ne,tt,nt,et),gi(null,Ne,tt,!0,w,et);case 19:return mi(w,Ne,et)}throw Error(u(156,Ne.tag))};var ed=null,nd=null;function Zj(w,Ne,et,tt){this.tag=w,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Ne,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sh(w,Ne,et,tt){return new Zj(w,Ne,et,tt)}function bi(w){return!(!(w=w.prototype)||!w.isReactComponent)}function Sg(w,Ne){var et=w.alternate;return null===et?((et=Sh(w.tag,Ne,w.key,w.mode)).elementType=w.elementType,et.type=w.type,et.stateNode=w.stateNode,et.alternate=w,w.alternate=et):(et.pendingProps=Ne,et.effectTag=0,et.nextEffect=null,et.firstEffect=null,et.lastEffect=null),et.childExpirationTime=w.childExpirationTime,et.expirationTime=w.expirationTime,et.child=w.child,et.memoizedProps=w.memoizedProps,et.memoizedState=w.memoizedState,et.updateQueue=w.updateQueue,Ne=w.dependencies,et.dependencies=null===Ne?null:{expirationTime:Ne.expirationTime,firstContext:Ne.firstContext,responders:Ne.responders},et.sibling=w.sibling,et.index=w.index,et.ref=w.ref,et}function Ug(w,Ne,et,tt,nt,rt){var it=2;if(tt=w,"function"==typeof w)bi(w)&&(it=1);else if("string"==typeof w)it=5;else e:switch(w){case rr:return Wg(et.children,nt,rt,Ne);case qi:it=8,nt|=7;break;case vr:it=8,nt|=1;break;case wr:return(w=Sh(12,et,Ne,8|nt)).elementType=wr,w.type=wr,w.expirationTime=rt,w;case po:return(w=Sh(13,et,Ne,nt)).type=po,w.elementType=po,w.expirationTime=rt,w;case vo:return(w=Sh(19,et,Ne,nt)).elementType=vo,w.expirationTime=rt,w;default:if("object"==typeof w&&null!==w)switch(w.$$typeof){case Sr:it=10;break e;case ii:it=9;break e;case uo:it=11;break e;case So:it=14;break e;case ta:it=16,tt=null;break e;case na:it=22;break e}throw Error(u(130,null==w?w:typeof w,""))}return(Ne=Sh(it,et,Ne,nt)).elementType=w,Ne.type=tt,Ne.expirationTime=rt,Ne}function Wg(w,Ne,et,tt){return(w=Sh(7,w,tt,Ne)).expirationTime=et,w}function Tg(w,Ne,et){return(w=Sh(6,w,null,Ne)).expirationTime=et,w}function Vg(w,Ne,et){return(Ne=Sh(4,null!==w.children?w.children:[],w.key,Ne)).expirationTime=et,Ne.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},Ne}function ak(w,Ne,et){this.tag=Ne,this.current=null,this.containerInfo=w,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=et,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Aj(w,Ne){var et=w.firstSuspendedTime;return w=w.lastSuspendedTime,0!==et&&et>=Ne&&w<=Ne}function xi(w,Ne){var et=w.firstSuspendedTime,tt=w.lastSuspendedTime;et<Ne&&(w.firstSuspendedTime=Ne),(tt>Ne||0===et)&&(w.lastSuspendedTime=Ne),Ne<=w.lastPingedTime&&(w.lastPingedTime=0),Ne<=w.lastExpiredTime&&(w.lastExpiredTime=0)}function yi(w,Ne){Ne>w.firstPendingTime&&(w.firstPendingTime=Ne);var et=w.firstSuspendedTime;0!==et&&(Ne>=et?w.firstSuspendedTime=w.lastSuspendedTime=w.nextKnownPendingLevel=0:Ne>=w.lastSuspendedTime&&(w.lastSuspendedTime=Ne+1),Ne>w.nextKnownPendingLevel&&(w.nextKnownPendingLevel=Ne))}function Cj(w,Ne){var et=w.lastExpiredTime;(0===et||et>Ne)&&(w.lastExpiredTime=Ne)}function bk(w,Ne,et,tt){var nt=Ne.current,rt=Gg(),it=Kp.suspense;rt=Hg(rt,nt,it);e:if(et){t:{if(dc(et=et._reactInternalFiber)!==et||1!==et.tag)throw Error(u(170));var ot=et;do{switch(ot.tag){case 3:ot=ot.stateNode.context;break t;case 1:if(L(ot.type)){ot=ot.stateNode.__reactInternalMemoizedMergedChildContext;break t}}ot=ot.return}while(null!==ot);throw Error(u(171))}if(1===et.tag){var at=et.type;if(L(at)){et=Ff(et,at,ot);break e}}et=ot}else et=wp;return null===Ne.context?Ne.context=et:Ne.pendingContext=et,(Ne=wg(rt,it)).payload={element:w},null!==(tt=void 0===tt?null:tt)&&(Ne.callback=tt),xg(nt,Ne),Ig(nt,rt),rt}function ck(w){if(!(w=w.current).child)return null;switch(w.child.tag){case 5:default:return w.child.stateNode}}function dk(w,Ne){null!==(w=w.memoizedState)&&null!==w.dehydrated&&w.retryTime<Ne&&(w.retryTime=Ne)}function ek(w,Ne){dk(w,Ne),(w=w.alternate)&&dk(w,Ne)}function fk(w,Ne,et){var tt=new ak(w,Ne,et=null!=et&&!0===et.hydrate),nt=Sh(3,null,null,2===Ne?7:1===Ne?3:0);tt.current=nt,nt.stateNode=tt,ug(nt),w[kl]=tt.current,et&&0!==Ne&&function Jc(w,Ne){var et=cc(Ne);Ls.forEach((function(w){uc(w,Ne,et)})),Rs.forEach((function(w){uc(w,Ne,et)}))}(0,9===w.nodeType?w:w.ownerDocument),this._internalRoot=tt}function gk(w){return!(!w||1!==w.nodeType&&9!==w.nodeType&&11!==w.nodeType&&(8!==w.nodeType||" react-mount-point-unstable "!==w.nodeValue))}function ik(w,Ne,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt._internalRoot;if("function"==typeof nt){var ot=nt;nt=function(){var w=ck(it);ot.call(w)}}bk(Ne,it,w,nt)}else{if(rt=et._reactRootContainer=function hk(w,Ne){if(Ne||(Ne=!(!(Ne=w?9===w.nodeType?w.documentElement:w.firstChild:null)||1!==Ne.nodeType||!Ne.hasAttribute("data-reactroot"))),!Ne)for(var et;et=w.lastChild;)w.removeChild(et);return new fk(w,0,Ne?{hydrate:!0}:void 0)}(et,tt),it=rt._internalRoot,"function"==typeof nt){var at=nt;nt=function(){var w=ck(it);at.call(w)}}Nj((function(){bk(Ne,it,w,nt)}))}return ck(it)}function jk(w,Ne,et){var tt=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:er,key:null==tt?null:""+tt,children:w,containerInfo:Ne,implementation:et}}function kk(w,Ne){var et=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gk(Ne))throw Error(u(200));return jk(w,Ne,null,et)}fk.prototype.render=function(w){bk(w,this._internalRoot,null,null)},fk.prototype.unmount=function(){var w=this._internalRoot,Ne=w.containerInfo;bk(null,w,null,(function(){Ne[kl]=null}))},gs=function(w){if(13===w.tag){var Ne=hg(Gg(),150,100);Ig(w,Ne),ek(w,Ne)}},vs=function(w){13===w.tag&&(Ig(w,3),ek(w,3))},xs=function(w){if(13===w.tag){var Ne=Gg();Ig(w,Ne=Hg(Ne,w,null)),ek(w,Ne)}},rn=function(w,Ne,et){switch(Ne){case"input":if(Cb(w,et),Ne=et.name,"radio"===et.type&&null!=Ne){for(et=w;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+Ne)+'][type="radio"]'),Ne=0;Ne<et.length;Ne++){var tt=et[Ne];if(tt!==w&&tt.form===w.form){var nt=Qd(tt);if(!nt)throw Error(u(90));yb(tt),Cb(tt,nt)}}}break;case"textarea":Kb(w,et);break;case"select":null!=(Ne=et.value)&&Hb(w,!!et.multiple,Ne,!1)}},Fa=Mj,Ga=function(w,Ne,et,tt,nt){var rt=kf;kf|=4;try{return cg(98,w.bind(null,Ne,et,tt,nt))}finally{0===(kf=rt)&&gg()}},Ha=function(){0==(49&kf)&&(function Lj(){if(null!==Kf){var w=Kf;Kf=null,w.forEach((function(w,Ne){Cj(Ne,w),Z(Ne)})),gg()}}(),Dj())},Cn=function(w,Ne){var et=kf;kf|=2;try{return w(Ne)}finally{0===(kf=et)&&gg()}};var cd,fd,dd={Events:[Nc,Pd,Qd,xa,Ot,Xd,function(w){jc(w,Wd)},Da,Ea,id,mc,Dj,{current:!1}]};fd=(cd={findFiberByHostInstance:tc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function Yj(w){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var Ne=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Ne.isDisabled||!Ne.supportsFiber)return!0;try{var et=Ne.inject(w);ed=function(w){try{Ne.onCommitFiberRoot(et,w,void 0,64==(64&w.current.effectTag))}catch(w){}},nd=function(w){try{Ne.onCommitFiberUnmount(et,w)}catch(w){}}}catch(w){}return!0}(nt({},cd,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(w){return null===(w=hc(w))?null:w.stateNode},findFiberByHostInstance:function(w){return fd?fd(w):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dd,Ne.createPortal=kk,Ne.findDOMNode=function(w){if(null==w)return null;if(1===w.nodeType)return w;var Ne=w._reactInternalFiber;if(void 0===Ne){if("function"==typeof w.render)throw Error(u(188));throw Error(u(268,Object.keys(w)))}return w=null===(w=hc(Ne))?null:w.stateNode},Ne.flushSync=function(w,Ne){if(0!=(48&kf))throw Error(u(187));var et=kf;kf|=1;try{return cg(99,w.bind(null,Ne))}finally{kf=et,gg()}},Ne.hydrate=function(w,Ne,et){if(!gk(Ne))throw Error(u(200));return ik(null,w,Ne,!0,et)},Ne.render=function(w,Ne,et){if(!gk(Ne))throw Error(u(200));return ik(null,w,Ne,!1,et)},Ne.unmountComponentAtNode=function(w){if(!gk(w))throw Error(u(40));return!!w._reactRootContainer&&(Nj((function(){ik(null,null,w,!1,(function(){w._reactRootContainer=null,w[kl]=null}))})),!0)},Ne.unstable_batchedUpdates=Mj,Ne.unstable_createPortal=function(w,Ne){return kk(w,Ne,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},Ne.unstable_renderSubtreeIntoContainer=function(w,Ne,et,tt){if(!gk(et))throw Error(u(200));if(null==w||void 0===w._reactInternalFiber)throw Error(u(38));return ik(w,Ne,et,!1,tt)},Ne.version="16.13.1"},function(w,Ne,et){"use strict";w.exports=et(138)},function(w,Ne,et){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt,nt,rt,it,ot;if("undefined"==typeof window||"function"!=typeof MessageChannel){var at=null,st=null,t=function(){if(null!==at)try{var w=Ne.unstable_now();at(!0,w),at=null}catch(w){throw setTimeout(t,0),w}},ct=Date.now();Ne.unstable_now=function(){return Date.now()-ct},tt=function(w){null!==at?setTimeout(tt,0,w):(at=w,setTimeout(t,0))},nt=function(w,Ne){st=setTimeout(w,Ne)},rt=function(){clearTimeout(st)},it=function(){return!1},ot=Ne.unstable_forceFrameRate=function(){}}else{var pt=window.performance,ft=window.Date,dt=window.setTimeout,mt=window.clearTimeout;if("undefined"!=typeof console){var yt=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof yt&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof pt&&"function"==typeof pt.now)Ne.unstable_now=function(){return pt.now()};else{var vt=ft.now();Ne.unstable_now=function(){return ft.now()-vt}}var Ot=!1,Dt=null,Rt=-1,Bt=5,rn=0;it=function(){return Ne.unstable_now()>=rn},ot=function(){},Ne.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):Bt=0<w?Math.floor(1e3/w):5};var vn=new MessageChannel,bn=vn.port2;vn.port1.onmessage=function(){if(null!==Dt){var w=Ne.unstable_now();rn=w+Bt;try{Dt(!0,w)?bn.postMessage(null):(Ot=!1,Dt=null)}catch(w){throw bn.postMessage(null),w}}else Ot=!1},tt=function(w){Dt=w,Ot||(Ot=!0,bn.postMessage(null))},nt=function(w,et){Rt=dt((function(){w(Ne.unstable_now())}),et)},rt=function(){mt(Rt),Rt=-1}}function J(w,Ne){var et=w.length;w.push(Ne);e:for(;;){var tt=et-1>>>1,nt=w[tt];if(!(void 0!==nt&&0<K(nt,Ne)))break e;w[tt]=Ne,w[et]=nt,et=tt}}function L(w){return void 0===(w=w[0])?null:w}function M(w){var Ne=w[0];if(void 0!==Ne){var et=w.pop();if(et!==Ne){w[0]=et;e:for(var tt=0,nt=w.length;tt<nt;){var rt=2*(tt+1)-1,it=w[rt],ot=rt+1,at=w[ot];if(void 0!==it&&0>K(it,et))void 0!==at&&0>K(at,it)?(w[tt]=at,w[ot]=et,tt=ot):(w[tt]=it,w[rt]=et,tt=rt);else{if(!(void 0!==at&&0>K(at,et)))break e;w[tt]=at,w[ot]=et,tt=ot}}}return Ne}return null}function K(w,Ne){var et=w.sortIndex-Ne.sortIndex;return 0!==et?et:w.id-Ne.id}var Cn=[],Tn=[],In=1,Mn=null,zn=3,Ln=!1,Fn=!1,Bn=!1;function V(w){for(var Ne=L(Tn);null!==Ne;){if(null===Ne.callback)M(Tn);else{if(!(Ne.startTime<=w))break;M(Tn),Ne.sortIndex=Ne.expirationTime,J(Cn,Ne)}Ne=L(Tn)}}function W(w){if(Bn=!1,V(w),!Fn)if(null!==L(Cn))Fn=!0,tt(X);else{var Ne=L(Tn);null!==Ne&&nt(W,Ne.startTime-w)}}function X(w,et){Fn=!1,Bn&&(Bn=!1,rt()),Ln=!0;var tt=zn;try{for(V(et),Mn=L(Cn);null!==Mn&&(!(Mn.expirationTime>et)||w&&!it());){var ot=Mn.callback;if(null!==ot){Mn.callback=null,zn=Mn.priorityLevel;var at=ot(Mn.expirationTime<=et);et=Ne.unstable_now(),"function"==typeof at?Mn.callback=at:Mn===L(Cn)&&M(Cn),V(et)}else M(Cn);Mn=L(Cn)}if(null!==Mn)var st=!0;else{var ct=L(Tn);null!==ct&&nt(W,ct.startTime-et),st=!1}return st}finally{Mn=null,zn=tt,Ln=!1}}function Y(w){switch(w){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Nn=ot;Ne.unstable_IdlePriority=5,Ne.unstable_ImmediatePriority=1,Ne.unstable_LowPriority=4,Ne.unstable_NormalPriority=3,Ne.unstable_Profiling=null,Ne.unstable_UserBlockingPriority=2,Ne.unstable_cancelCallback=function(w){w.callback=null},Ne.unstable_continueExecution=function(){Fn||Ln||(Fn=!0,tt(X))},Ne.unstable_getCurrentPriorityLevel=function(){return zn},Ne.unstable_getFirstCallbackNode=function(){return L(Cn)},Ne.unstable_next=function(w){switch(zn){case 1:case 2:case 3:var Ne=3;break;default:Ne=zn}var et=zn;zn=Ne;try{return w()}finally{zn=et}},Ne.unstable_pauseExecution=function(){},Ne.unstable_requestPaint=Nn,Ne.unstable_runWithPriority=function(w,Ne){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var et=zn;zn=w;try{return Ne()}finally{zn=et}},Ne.unstable_scheduleCallback=function(w,et,it){var ot=Ne.unstable_now();if("object"==typeof it&&null!==it){var at=it.delay;at="number"==typeof at&&0<at?ot+at:ot,it="number"==typeof it.timeout?it.timeout:Y(w)}else it=Y(w),at=ot;return w={id:In++,callback:et,priorityLevel:w,startTime:at,expirationTime:it=at+it,sortIndex:-1},at>ot?(w.sortIndex=at,J(Tn,w),null===L(Cn)&&w===L(Tn)&&(Bn?rt():Bn=!0,nt(W,at-ot))):(w.sortIndex=it,J(Cn,w),Fn||Ln||(Fn=!0,tt(X))),w},Ne.unstable_shouldYield=function(){var w=Ne.unstable_now();V(w);var et=L(Cn);return et!==Mn&&null!==Mn&&null!==et&&null!==et.callback&&et.startTime<=w&&et.expirationTime<Mn.expirationTime||it()},Ne.unstable_wrapCallback=function(w){var Ne=zn;return function(){var et=zn;zn=Ne;try{return w.apply(this,arguments)}finally{zn=et}}}},function(w,Ne,et){var tt=et(30),nt=et(140);"string"==typeof(nt=nt.__esModule?nt.default:nt)&&(nt=[[w.i,nt,""]]);var rt={insert:"head",singleton:!1},it=(tt(nt,rt),nt.locals?nt.locals:{});w.exports=it},function(w,Ne,et){(Ne=et(31)(!1)).push([w.i,"body {\n\tmargin: 0;\n\twidth: 100vw;\n}\n\n/* stylelint-disable */\n@media (--phablet) {\n\thtml {\n\t\tfont-size: 0.875rem;\n\t}\n}\n\nh1 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 2.125rem;\n\tline-height: 2.875rem;\n}\n\nh2 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.625rem;\n\tline-height: 2.1875rem;\n}\n\nh3 {\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1.25rem;\n\tline-height: 1.6875rem;\n}\n\nh4 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 700;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh5 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 1rem;\n\tline-height: 1.375rem;\n}\n\nh6 {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.75rem;\n\tline-height: 0.9rem;\n}\n\nsmall {\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-size: 0.625rem;\n\tline-height: 0.875rem;\n}\n\np:not(:last-of-type) {\n\tmargin-bottom: 0.375rem;\n}\np {\n\tmargin-bottom: 0;\n\tmargin-top: 0;\n\t-webkit-margin-before: 0;\n\t-webkit-margin-after: 0;\n}\n\nstrong {\n\tfont-family: var(--font-extraBold);\n}\n\nhr {\n\tmargin: 0;\n\tborder: 0.03125rem solid var(--color-grey4);\n\tclear: both;\n}\n\n#styles_root-3WD {\n\twidth: 100%;\n\theight: 100%;\n}\n\nhtml {\n\tcolor: var(--color-base);\n\theight: 100%;\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n}\nhtml,\nbody {\n\tposition: relative;\n\twidth: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: white;\n\tbox-sizing: border-box;\n\t-moz-osx-font-smoothing: grayscale; /* fixes bold fonts in firefox */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-font-smoothing: antialiased;\n\t-o-font-smoothing: antialiased;\n\tline-height: 1;\n}\n\nbody {\n\tmin-width: 64rem;\n\tmin-height: 100%;\n\theight: auto;\n\toverflow: auto;\n\tfont-size: 0.875rem;\n\tline-height: 1.1875rem;\n}\n\na {\n\ttext-decoration: none;\n\tcolor: var(--color-customDark);\n}\n\na:hover,\na:focus {\n\ttext-decoration: underline;\n\tcolor: var(--color-customDark);\n}\n\n*,\n*:before,\n*:after {\n\tbox-sizing: border-box;\n}\n\n*:focus {\n\toutline: 0;\n}\n\n::-moz-selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\n::selection {\n\tbackground: var(--color-customBackground); /* WebKit/Blink Browsers */\n}\n\nimg {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\ninput,\ntextarea,\nbody,\ntext {\n\tcolor: var(--color-base);\n\tfont-family: 'Nunito Sans', sans-serif;\n\tfont-weight: 600;\n\tfont-weight: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\nbutton,\nselect,\ntextarea,\ninput,\ntext {\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\ttext-rendering: geometricPrecision;\n}\n\npre {\n\tfont-family: inherit;\n}\n\n/* Typography resets */\ndiv,\ndl,\ndt,\ndd,\nul,\nol,\nli,\npre,\nform,\nth,\ntd {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n/* Unordered Lists */\nul li {\n\tlist-style: none;\n}\n\n",""]),Ne.locals={root:"styles_root-3WD"},w.exports=Ne},function(w,Ne,et){(Ne=et(31)(!1)).push([w.i,".styles_appWrapper-36G{\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n}\n\n.styles_headerWrapper-2hQ{\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 5.625rem;\n}\n\n.styles_header-1h9{\n    padding: 0.625rem;\n    margin-left: 25rem;\n}\n\n.styles_navigation-2Jt{\n    padding-left: 25.25rem;\n    background: rgb(0, 152, 72);\n    color: white;\n}\n\n/*.link{*/\n/*    &:active{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*    &:hover{*/\n/*        background: rgb(55, 64,59);*/\n/*     }*/\n/*}*/\n\n.styles_link-3od{\n    display: inline-block;\n    padding: 0.375rem 1.25rem;\n    text-decoration: none;\n}\n\n.styles_link-3od.styles_active-hyt{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-3od:hover{\n    background: rgb(55, 64, 59);\n}\n\n.styles_link-3od:hover,\n.styles_link-3od:focus {\n    text-decoration: none;\n}\n\n.styles_bodyWrapper-38M{\n    position: relative;\n    height: calc(100% - 5.625rem);\n}\n\n\n",""]),Ne.locals={appWrapper:"styles_appWrapper-36G",headerWrapper:"styles_headerWrapper-2hQ",header:"styles_header-1h9",navigation:"styles_navigation-2Jt",link:"styles_link-3od",active:"styles_active-hyt",bodyWrapper:"styles_bodyWrapper-38M"},w.exports=Ne},function(w,Ne,et){"use strict";var tt={}.propertyIsEnumerable,nt=Object.getOwnPropertyDescriptor,rt=nt&&!tt.call({1:2},1);Ne.f=rt?function propertyIsEnumerable(w){var Ne=nt(this,w);return!!Ne&&Ne.enumerable}:tt},function(w,Ne,et){var tt=et(26),nt=et(37),rt="".split;w.exports=tt((function(){return!Object("z").propertyIsEnumerable(0)}))?function(w){return"String"==nt(w)?rt.call(w,""):Object(w)}:Object},function(w,Ne,et){var tt=et(16),nt=et(77),rt=tt.WeakMap;w.exports="function"==typeof rt&&/native code/.test(nt(rt))},function(w,Ne,et){var tt=et(97),nt=et(98),rt=tt("keys");w.exports=function(w){return rt[w]||(rt[w]=nt(w))}},function(w,Ne,et){var tt=et(32),nt=et(147),rt=et(74),it=et(66);w.exports=function(w,Ne){for(var et=nt(Ne),ot=it.f,at=rt.f,st=0;st<et.length;st++){var ct=et[st];tt(w,ct)||ot(w,ct,at(Ne,ct))}}},function(w,Ne,et){var tt=et(17),nt=et(149),rt=et(154),it=et(6);w.exports=tt("Reflect","ownKeys")||function ownKeys(w){var Ne=nt.f(it(w)),et=rt.f;return et?Ne.concat(et(w)):Ne}},function(w,Ne,et){var tt=et(16);w.exports=tt},function(w,Ne,et){var tt=et(150),nt=et(153).concat("length","prototype");Ne.f=Object.getOwnPropertyNames||function getOwnPropertyNames(w){return tt(w,nt)}},function(w,Ne,et){var tt=et(32),nt=et(75),rt=et(151).indexOf,it=et(99);w.exports=function(w,Ne){var et,ot=nt(w),at=0,st=[];for(et in ot)!tt(it,et)&&tt(ot,et)&&st.push(et);for(;Ne.length>at;)tt(ot,et=Ne[at++])&&(~rt(st,et)||st.push(et));return st}},function(w,Ne,et){var tt=et(75),nt=et(78),rt=et(152),createMethod=function(w){return function(Ne,et,it){var ot,at=tt(Ne),st=nt(at.length),ct=rt(it,st);if(w&&et!=et){for(;st>ct;)if((ot=at[ct++])!=ot)return!0}else for(;st>ct;ct++)if((w||ct in at)&&at[ct]===et)return w||ct||0;return!w&&-1}};w.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(w,Ne,et){var tt=et(68),nt=Math.max,rt=Math.min;w.exports=function(w,Ne){var et=tt(w);return et<0?nt(et+Ne,0):rt(et,Ne)}},function(w,Ne){w.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(w,Ne){Ne.f=Object.getOwnPropertySymbols},function(w,Ne,et){var tt=et(16);w.exports=tt.Promise},function(w,Ne,et){var tt=et(67);w.exports=function(w,Ne,et){for(var nt in Ne)tt(w,nt,Ne[nt],et);return w}},function(w,Ne,et){var tt=et(66).f,nt=et(32),rt=et(22)("toStringTag");w.exports=function(w,Ne,et){w&&!nt(w=et?w:w.prototype,rt)&&tt(w,rt,{configurable:!0,value:Ne})}},function(w,Ne,et){var tt=et(101);w.exports=tt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(w,Ne,et){"use strict";var tt=et(17),nt=et(66),rt=et(22),it=et(42),ot=rt("species");w.exports=function(w){var Ne=tt(w),et=nt.f;it&&Ne&&!Ne[ot]&&et(Ne,ot,{configurable:!0,get:function(){return this}})}},function(w,Ne){w.exports=function(w,Ne,et){if(!(w instanceof Ne))throw TypeError("Incorrect "+(et?et+" ":"")+"invocation");return w}},function(w,Ne,et){var tt=et(22),nt=et(102),rt=tt("iterator"),it=Array.prototype;w.exports=function(w){return void 0!==w&&(nt.Array===w||it[rt]===w)}},function(w,Ne,et){var tt=et(163),nt=et(37),rt=et(22)("toStringTag"),it="Arguments"==nt(function(){return arguments}());w.exports=tt?nt:function(w){var Ne,et,tt;return void 0===w?"Undefined":null===w?"Null":"string"==typeof(et=function(w,Ne){try{return w[Ne]}catch(w){}}(Ne=Object(w),rt))?et:it?nt(Ne):"Object"==(tt=nt(Ne))&&"function"==typeof Ne.callee?"Arguments":tt}},function(w,Ne,et){var tt={};tt[et(22)("toStringTag")]="z",w.exports="[object z]"===String(tt)},function(w,Ne,et){var tt=et(6);w.exports=function(w,Ne,et,nt){try{return nt?Ne(tt(et)[0],et[1]):Ne(et)}catch(Ne){var rt=w.return;throw void 0!==rt&&tt(rt.call(w)),Ne}}},function(w,Ne,et){var tt=et(22)("iterator"),nt=!1;try{var rt=0,it={next:function(){return{done:!!rt++}},return:function(){nt=!0}};it[tt]=function(){return this},Array.from(it,(function(){throw 2}))}catch(w){}w.exports=function(w,Ne){if(!Ne&&!nt)return!1;var et=!1;try{var rt={};rt[tt]=function(){return{next:function(){return{done:et=!0}}}},w(rt)}catch(w){}return et}},function(w,Ne,et){var tt=et(17);w.exports=tt("document","documentElement")},function(w,Ne,et){var tt,nt,rt,it,ot,at,st,ct,pt=et(16),ft=et(74).f,dt=et(37),mt=et(104).set,yt=et(105),vt=pt.MutationObserver||pt.WebKitMutationObserver,Ot=pt.process,Dt=pt.Promise,Rt="process"==dt(Ot),Bt=ft(pt,"queueMicrotask"),rn=Bt&&Bt.value;rn||(tt=function(){var w,Ne;for(Rt&&(w=Ot.domain)&&w.exit();nt;){Ne=nt.fn,nt=nt.next;try{Ne()}catch(w){throw nt?it():rt=void 0,w}}rt=void 0,w&&w.enter()},Rt?it=function(){Ot.nextTick(tt)}:vt&&!yt?(ot=!0,at=document.createTextNode(""),new vt(tt).observe(at,{characterData:!0}),it=function(){at.data=ot=!ot}):Dt&&Dt.resolve?(st=Dt.resolve(void 0),ct=st.then,it=function(){ct.call(st,tt)}):it=function(){mt.call(pt,tt)}),w.exports=rn||function(w){var Ne={fn:w,next:void 0};rt&&(rt.next=Ne),nt||(nt=Ne,it()),rt=Ne}},function(w,Ne,et){var tt=et(6),nt=et(38),rt=et(107);w.exports=function(w,Ne){if(tt(w),nt(Ne)&&Ne.constructor===w)return Ne;var et=rt.f(w);return(0,et.resolve)(Ne),et.promise}},function(w,Ne,et){var tt=et(16);w.exports=function(w,Ne){var et=tt.console;et&&et.error&&(1===arguments.length?et.error(w):et.error(w,Ne))}},function(w,Ne){w.exports=function(w){try{return{error:!1,value:w()}}catch(w){return{error:!0,value:w}}}},function(w,Ne,et){var tt,nt,rt=et(16),it=et(106),ot=rt.process,at=ot&&ot.versions,st=at&&at.v8;st?nt=(tt=st.split("."))[0]+tt[1]:it&&(!(tt=it.match(/Edge\/(\d+)/))||tt[1]>=74)&&(tt=it.match(/Chrome\/(\d+)/))&&(nt=tt[1]),w.exports=nt&&+nt},function(w,Ne,et){(Ne=et(31)(!1)).push([w.i,".styles_exploreWrapper-2R1{\n    display: flex;\n    height: 100%;\n    padding: 1.875rem;\n    margin-left: 25rem;\n}\n\n.styles_header-Jg9{\n    font-weight: bold;\n    margin-bottom: 1.25rem;\n}\n\n.styles_regionWrapper-u_0{\n    padding: 0 1.25rem;\n}\n\n",""]),Ne.locals={exploreWrapper:"styles_exploreWrapper-2R1",header:"styles_header-Jg9",regionWrapper:"styles_regionWrapper-u_0"},w.exports=Ne},function(w,Ne){w.exports=function(w,Ne){return w===Ne||w!=w&&Ne!=Ne}},function(w,Ne,et){"use strict";var tt=et(6),nt=et(14);w.exports=function(){for(var w=tt(this),Ne=nt(w.add),et=0,rt=arguments.length;et<rt;et++)Ne.call(w,arguments[et]);return w}},function(w,Ne,et){"use strict";var tt=et(176);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,w.exports=function(){function shim(w,Ne,et,nt,rt,it){if(it!==tt){var ot=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ot.name="Invariant Violation",ot}}function getShim(){return shim}shim.isRequired=shim;var w={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return w.PropTypes=w,w}},function(w,Ne,et){"use strict";w.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(w,Ne,et){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt="function"==typeof Symbol&&Symbol.for,nt=tt?Symbol.for("react.element"):60103,rt=tt?Symbol.for("react.portal"):60106,it=tt?Symbol.for("react.fragment"):60107,ot=tt?Symbol.for("react.strict_mode"):60108,at=tt?Symbol.for("react.profiler"):60114,st=tt?Symbol.for("react.provider"):60109,ct=tt?Symbol.for("react.context"):60110,pt=tt?Symbol.for("react.async_mode"):60111,ft=tt?Symbol.for("react.concurrent_mode"):60111,dt=tt?Symbol.for("react.forward_ref"):60112,mt=tt?Symbol.for("react.suspense"):60113,yt=tt?Symbol.for("react.suspense_list"):60120,vt=tt?Symbol.for("react.memo"):60115,Ot=tt?Symbol.for("react.lazy"):60116,Dt=tt?Symbol.for("react.block"):60121,Rt=tt?Symbol.for("react.fundamental"):60117,Bt=tt?Symbol.for("react.responder"):60118,rn=tt?Symbol.for("react.scope"):60119;function z(w){if("object"==typeof w&&null!==w){var Ne=w.$$typeof;switch(Ne){case nt:switch(w=w.type){case pt:case ft:case it:case at:case ot:case mt:return w;default:switch(w=w&&w.$$typeof){case ct:case dt:case Ot:case vt:case st:return w;default:return Ne}}case rt:return Ne}}}function A(w){return z(w)===ft}Ne.AsyncMode=pt,Ne.ConcurrentMode=ft,Ne.ContextConsumer=ct,Ne.ContextProvider=st,Ne.Element=nt,Ne.ForwardRef=dt,Ne.Fragment=it,Ne.Lazy=Ot,Ne.Memo=vt,Ne.Portal=rt,Ne.Profiler=at,Ne.StrictMode=ot,Ne.Suspense=mt,Ne.isAsyncMode=function(w){return A(w)||z(w)===pt},Ne.isConcurrentMode=A,Ne.isContextConsumer=function(w){return z(w)===ct},Ne.isContextProvider=function(w){return z(w)===st},Ne.isElement=function(w){return"object"==typeof w&&null!==w&&w.$$typeof===nt},Ne.isForwardRef=function(w){return z(w)===dt},Ne.isFragment=function(w){return z(w)===it},Ne.isLazy=function(w){return z(w)===Ot},Ne.isMemo=function(w){return z(w)===vt},Ne.isPortal=function(w){return z(w)===rt},Ne.isProfiler=function(w){return z(w)===at},Ne.isStrictMode=function(w){return z(w)===ot},Ne.isSuspense=function(w){return z(w)===mt},Ne.isValidElementType=function(w){return"string"==typeof w||"function"==typeof w||w===it||w===ft||w===at||w===ot||w===mt||w===yt||"object"==typeof w&&null!==w&&(w.$$typeof===Ot||w.$$typeof===vt||w.$$typeof===st||w.$$typeof===ct||w.$$typeof===dt||w.$$typeof===Rt||w.$$typeof===Bt||w.$$typeof===rn||w.$$typeof===Dt)},Ne.typeOf=z},function(w,Ne){w.exports=Array.isArray||function(w){return"[object Array]"==Object.prototype.toString.call(w)}},function(w,Ne,et){"use strict";var tt=et(180),nt=et(6),rt=et(184),it=et(78),ot=et(68),at=et(65),st=et(185),ct=et(187),pt=Math.max,ft=Math.min,dt=Math.floor,mt=/\$([$&'`]|\d\d?|<[^>]*>)/g,yt=/\$([$&'`]|\d\d?)/g;tt("replace",2,(function(w,Ne,et,tt){var vt=tt.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Ot=tt.REPLACE_KEEPS_$0,Dt=vt?"$":"$0";return[function replace(et,tt){var nt=at(this),rt=null==et?void 0:et[w];return void 0!==rt?rt.call(et,nt,tt):Ne.call(String(nt),et,tt)},function(w,tt){if(!vt&&Ot||"string"==typeof tt&&-1===tt.indexOf(Dt)){var rt=et(Ne,w,this,tt);if(rt.done)return rt.value}var at=nt(w),dt=String(this),mt="function"==typeof tt;mt||(tt=String(tt));var yt=at.global;if(yt){var Rt=at.unicode;at.lastIndex=0}for(var Bt=[];;){var rn=ct(at,dt);if(null===rn)break;if(Bt.push(rn),!yt)break;""===String(rn[0])&&(at.lastIndex=st(dt,it(at.lastIndex),Rt))}for(var vn,bn="",Cn=0,Tn=0;Tn<Bt.length;Tn++){rn=Bt[Tn];for(var In=String(rn[0]),Mn=pt(ft(ot(rn.index),dt.length),0),zn=[],Ln=1;Ln<rn.length;Ln++)zn.push(void 0===(vn=rn[Ln])?vn:String(vn));var Fn=rn.groups;if(mt){var Bn=[In].concat(zn,Mn,dt);void 0!==Fn&&Bn.push(Fn);var Nn=String(tt.apply(void 0,Bn))}else Nn=getSubstitution(In,dt,Mn,zn,Fn,tt);Mn>=Cn&&(bn+=dt.slice(Cn,Mn)+Nn,Cn=Mn+In.length)}return bn+dt.slice(Cn)}];function getSubstitution(w,et,tt,nt,it,ot){var at=tt+w.length,st=nt.length,ct=yt;return void 0!==it&&(it=rt(it),ct=mt),Ne.call(ot,ct,(function(Ne,rt){var ot;switch(rt.charAt(0)){case"$":return"$";case"&":return w;case"`":return et.slice(0,tt);case"'":return et.slice(at);case"<":ot=it[rt.slice(1,-1)];break;default:var ct=+rt;if(0===ct)return Ne;if(ct>st){var pt=dt(ct/10);return 0===pt?Ne:pt<=st?void 0===nt[pt-1]?rt.charAt(1):nt[pt-1]+rt.charAt(1):Ne}ot=nt[ct-1]}return void 0===ot?"":ot}))}}))},function(w,Ne,et){"use strict";et(181);var tt=et(67),nt=et(26),rt=et(22),it=et(80),ot=et(43),at=rt("species"),st=!nt((function(){var w=/./;return w.exec=function(){var w=[];return w.groups={a:"7"},w},"7"!=="".replace(w,"$<a>")})),ct="$0"==="a".replace(/./,"$0"),pt=rt("replace"),ft=!!/./[pt]&&""===/./[pt]("a","$0"),dt=!nt((function(){var w=/(?:)/,Ne=w.exec;w.exec=function(){return Ne.apply(this,arguments)};var et="ab".split(w);return 2!==et.length||"a"!==et[0]||"b"!==et[1]}));w.exports=function(w,Ne,et,pt){var mt=rt(w),yt=!nt((function(){var Ne={};return Ne[mt]=function(){return 7},7!=""[w](Ne)})),vt=yt&&!nt((function(){var Ne=!1,et=/a/;return"split"===w&&((et={}).constructor={},et.constructor[at]=function(){return et},et.flags="",et[mt]=/./[mt]),et.exec=function(){return Ne=!0,null},et[mt](""),!Ne}));if(!yt||!vt||"replace"===w&&(!st||!ct||ft)||"split"===w&&!dt){var Ot=/./[mt],Dt=et(mt,""[w],(function(w,Ne,et,tt,nt){return Ne.exec===it?yt&&!nt?{done:!0,value:Ot.call(Ne,et,tt)}:{done:!0,value:w.call(et,Ne,tt)}:{done:!1}}),{REPLACE_KEEPS_$0:ct,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ft}),Rt=Dt[0],Bt=Dt[1];tt(String.prototype,w,Rt),tt(RegExp.prototype,mt,2==Ne?function(w,Ne){return Bt.call(w,this,Ne)}:function(w){return Bt.call(w,this)})}pt&&ot(RegExp.prototype[mt],"sham",!0)}},function(w,Ne,et){"use strict";var tt=et(8),nt=et(80);tt({target:"RegExp",proto:!0,forced:/./.exec!==nt},{exec:nt})},function(w,Ne,et){"use strict";var tt=et(6);w.exports=function(){var w=tt(this),Ne="";return w.global&&(Ne+="g"),w.ignoreCase&&(Ne+="i"),w.multiline&&(Ne+="m"),w.dotAll&&(Ne+="s"),w.unicode&&(Ne+="u"),w.sticky&&(Ne+="y"),Ne}},function(w,Ne,et){"use strict";var tt=et(26);function RE(w,Ne){return RegExp(w,Ne)}Ne.UNSUPPORTED_Y=tt((function(){var w=RE("a","y");return w.lastIndex=2,null!=w.exec("abcd")})),Ne.BROKEN_CARET=tt((function(){var w=RE("^r","gy");return w.lastIndex=2,null!=w.exec("str")}))},function(w,Ne,et){var tt=et(65);w.exports=function(w){return Object(tt(w))}},function(w,Ne,et){"use strict";var tt=et(186).charAt;w.exports=function(w,Ne,et){return Ne+(et?tt(w,Ne).length:1)}},function(w,Ne,et){var tt=et(68),nt=et(65),createMethod=function(w){return function(Ne,et){var rt,it,ot=String(nt(Ne)),at=tt(et),st=ot.length;return at<0||at>=st?w?"":void 0:(rt=ot.charCodeAt(at))<55296||rt>56319||at+1===st||(it=ot.charCodeAt(at+1))<56320||it>57343?w?ot.charAt(at):rt:w?ot.slice(at,at+2):it-56320+(rt-55296<<10)+65536}};w.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(w,Ne,et){var tt=et(37),nt=et(80);w.exports=function(w,Ne){var et=w.exec;if("function"==typeof et){var rt=et.call(w,Ne);if("object"!=typeof rt)throw TypeError("RegExp exec method returned something other than an Object or null");return rt}if("RegExp"!==tt(w))throw TypeError("RegExp#exec called on incompatible receiver");return nt.call(w,Ne)}},function(w,Ne,et){(Ne=et(31)(!1)).push([w.i,".styles_mapWrapper-3J7{\n    height: 100%;\n}\n\n.styles_filters-2Uv{\n    position: absolute;\n    height: 100%;\n    overflow: auto;\n    display: inline-block;\n    float: left;\n    width: 25.25rem;\n    z-index: 1;\n    border-radius: 0 0.25rem 0.25rem 0;\n    background-color: white;\n}\n\n.styles_map-1zv{\n    position: absolute;\n    height: 100%;\n    left: 25rem;\n    display: inline-block;\n    float: left;\n    width: calc(100% - 25rem);\n}\n\n\n",""]),Ne.locals={mapWrapper:"styles_mapWrapper-3J7",filters:"styles_filters-2Uv",map:"styles_map-1zv"},w.exports=Ne},function(w,Ne,et){(Ne=et(31)(!1)).push([w.i,".styles_sideBarWrapper-ars{\n    overflow: auto;\n    padding: 1.875rem;\n    border-radius: 0 0.1875rem 0.1875rem 0;\n    min-height: 100%;\n}\n\n.styles_bodyWrapper-2cj{\n\n}\n\n.styles_vectorFiltersWrapper-2az{\n    margin-top: 1.25rem;\n}\n\n.styles_sectionWrapper-EPe{\n    margin-bottom: 1.25rem;\n}\n.styles_sectionWrapper-EPe:last-child{\n    margin-bottom: 0;\n}\n.styles_sectionHeader-joQ{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_vectorName-1o2{\n    font-weight: bold;\n    margin-bottom: 0.625rem;\n}\n\n.styles_filterWrapper-1M7{\n    border: 0.0625rem solid hsl(0, 0%, 80%);\n    border-radius: 0.1875rem;\n    margin-top: 0.625rem;\n    padding: 1.25rem;\n}\n\n.styles_filter-3N0{\n    margin-top: 0.625rem;\n}\n\n.styles_filterName-3Ch{\n    margin-bottom: 0.3125rem;\n    border-bottom: 0.0625rem solid hsl(0, 0%, 80%);\n}\n\n.styles_empty-2GV{\n    font-style: italic;\n    color: hsl(0, 0%, 60%);\n}\n\n.styles_groupWrapper-1hP{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.styles_groupBadge-2eI {\n    background-color: #EBECF0;\n    border-radius: 2em;\n    color: #172B4D;\n    display: inline-block;\n    font-size: 12;\n    font-weight: normal;\n    line-height: 1;\n    min-width: 1;\n    padding: 0.16666666666667em 0.5em;\n    text-align: center;\n}",""]),Ne.locals={sideBarWrapper:"styles_sideBarWrapper-ars",bodyWrapper:"styles_bodyWrapper-2cj",vectorFiltersWrapper:"styles_vectorFiltersWrapper-2az",sectionWrapper:"styles_sectionWrapper-EPe",sectionHeader:"styles_sectionHeader-joQ",vectorName:"styles_vectorName-1o2",filterWrapper:"styles_filterWrapper-1M7",filter:"styles_filter-3N0",filterName:"styles_filterName-3Ch",empty:"styles_empty-2GV",groupWrapper:"styles_groupWrapper-1hP",groupBadge:"styles_groupBadge-2eI"},w.exports=Ne},function(w,Ne){function _extends(){return w.exports=_extends=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w},_extends.apply(this,arguments)}w.exports=_extends},function(w,Ne,et){(Ne=et(31)(!1)).push([w.i,".styles_wrapper-2VT{\n    width: 100%;\n    height: 100%;\n}",""]),Ne.locals={wrapper:"styles_wrapper-2VT"},w.exports=Ne},function(w,Ne,et){(Ne=et(31)(!1)).push([w.i,".styles_aboutWrapper-2FR{\n    display: flex;\n    height: 100%;\n    padding: 1.875rem;\n}\n\n.styles_header-2Co{\n    font-weight: bold;\n}\n\n\n\n",""]),Ne.locals={aboutWrapper:"styles_aboutWrapper-2FR",header:"styles_header-2Co"},w.exports=Ne},function(w,Ne,et){"use strict";et.r(Ne);var tt=et(0),nt=et.n(tt),rt=et(10),it=et.n(rt),ot=et(15),at=et(4),st=et.n(at),ct=et(1);function isAbsolute(w){return"/"===w.charAt(0)}function spliceOne(w,Ne){for(var et=Ne,tt=et+1,nt=w.length;tt<nt;et+=1,tt+=1)w[et]=w[tt];w.pop()}var pt=function resolvePathname(w,Ne){void 0===Ne&&(Ne="");var et,tt=w&&w.split("/")||[],nt=Ne&&Ne.split("/")||[],rt=w&&isAbsolute(w),it=Ne&&isAbsolute(Ne),ot=rt||it;if(w&&isAbsolute(w)?nt=tt:tt.length&&(nt.pop(),nt=nt.concat(tt)),!nt.length)return"/";if(nt.length){var at=nt[nt.length-1];et="."===at||".."===at||""===at}else et=!1;for(var st=0,ct=nt.length;ct>=0;ct--){var pt=nt[ct];"."===pt?spliceOne(nt,ct):".."===pt?(spliceOne(nt,ct),st++):st&&(spliceOne(nt,ct),st--)}if(!ot)for(;st--;st)nt.unshift("..");!ot||""===nt[0]||nt[0]&&isAbsolute(nt[0])||nt.unshift("");var ft=nt.join("/");return et&&"/"!==ft.substr(-1)&&(ft+="/"),ft};var ft=function invariant(w,Ne){if(!w)throw new Error("Invariant failed")};function addLeadingSlash(w){return"/"===w.charAt(0)?w:"/"+w}function stripLeadingSlash(w){return"/"===w.charAt(0)?w.substr(1):w}function stripBasename(w,Ne){return function hasBasename(w,Ne){return 0===w.toLowerCase().indexOf(Ne.toLowerCase())&&-1!=="/?#".indexOf(w.charAt(Ne.length))}(w,Ne)?w.substr(Ne.length):w}function stripTrailingSlash(w){return"/"===w.charAt(w.length-1)?w.slice(0,-1):w}function createPath(w){var Ne=w.pathname,et=w.search,tt=w.hash,nt=Ne||"/";return et&&"?"!==et&&(nt+="?"===et.charAt(0)?et:"?"+et),tt&&"#"!==tt&&(nt+="#"===tt.charAt(0)?tt:"#"+tt),nt}function createLocation(w,Ne,et,tt){var nt;"string"==typeof w?(nt=function parsePath(w){var Ne=w||"/",et="",tt="",nt=Ne.indexOf("#");-1!==nt&&(tt=Ne.substr(nt),Ne=Ne.substr(0,nt));var rt=Ne.indexOf("?");return-1!==rt&&(et=Ne.substr(rt),Ne=Ne.substr(0,rt)),{pathname:Ne,search:"?"===et?"":et,hash:"#"===tt?"":tt}}(w)).state=Ne:(void 0===(nt=Object(ct.a)({},w)).pathname&&(nt.pathname=""),nt.search?"?"!==nt.search.charAt(0)&&(nt.search="?"+nt.search):nt.search="",nt.hash?"#"!==nt.hash.charAt(0)&&(nt.hash="#"+nt.hash):nt.hash="",void 0!==Ne&&void 0===nt.state&&(nt.state=Ne));try{nt.pathname=decodeURI(nt.pathname)}catch(w){throw w instanceof URIError?new URIError('Pathname "'+nt.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):w}return et&&(nt.key=et),tt?nt.pathname?"/"!==nt.pathname.charAt(0)&&(nt.pathname=pt(nt.pathname,tt.pathname)):nt.pathname=tt.pathname:nt.pathname||(nt.pathname="/"),nt}function createTransitionManager(){var w=null;var Ne=[];return{setPrompt:function setPrompt(Ne){return w=Ne,function(){w===Ne&&(w=null)}},confirmTransitionTo:function confirmTransitionTo(Ne,et,tt,nt){if(null!=w){var rt="function"==typeof w?w(Ne,et):w;"string"==typeof rt?"function"==typeof tt?tt(rt,nt):nt(!0):nt(!1!==rt)}else nt(!0)},appendListener:function appendListener(w){var et=!0;function listener(){et&&w.apply(void 0,arguments)}return Ne.push(listener),function(){et=!1,Ne=Ne.filter((function(w){return w!==listener}))}},notifyListeners:function notifyListeners(){for(var w=arguments.length,et=new Array(w),tt=0;tt<w;tt++)et[tt]=arguments[tt];Ne.forEach((function(w){return w.apply(void 0,et)}))}}}var dt=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(w,Ne){Ne(window.confirm(w))}function getHistoryState(){try{return window.history.state||{}}catch(w){return{}}}function createBrowserHistory(w){void 0===w&&(w={}),dt||ft(!1);var Ne=window.history,et=function supportsHistory(){var w=window.navigator.userAgent;return(-1===w.indexOf("Android 2.")&&-1===w.indexOf("Android 4.0")||-1===w.indexOf("Mobile Safari")||-1!==w.indexOf("Chrome")||-1!==w.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),tt=!function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}(),nt=w,rt=nt.forceRefresh,it=void 0!==rt&&rt,ot=nt.getUserConfirmation,at=void 0===ot?getConfirmation:ot,st=nt.keyLength,pt=void 0===st?6:st,mt=w.basename?stripTrailingSlash(addLeadingSlash(w.basename)):"";function getDOMLocation(w){var Ne=w||{},et=Ne.key,tt=Ne.state,nt=window.location,rt=nt.pathname+nt.search+nt.hash;return mt&&(rt=stripBasename(rt,mt)),createLocation(rt,tt,et)}function createKey(){return Math.random().toString(36).substr(2,pt)}var yt=createTransitionManager();function setState(w){Object(ct.a)(rn,w),rn.length=Ne.length,yt.notifyListeners(rn.location,rn.action)}function handlePopState(w){(function isExtraneousPopstateEvent(w){return void 0===w.state&&-1===navigator.userAgent.indexOf("CriOS")})(w)||handlePop(getDOMLocation(w.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var vt=!1;function handlePop(w){if(vt)vt=!1,setState();else{yt.confirmTransitionTo(w,"POP",at,(function(Ne){Ne?setState({action:"POP",location:w}):function revertPop(w){var Ne=rn.location,et=Dt.indexOf(Ne.key);-1===et&&(et=0);var tt=Dt.indexOf(w.key);-1===tt&&(tt=0);var nt=et-tt;nt&&(vt=!0,go(nt))}(w)}))}}var Ot=getDOMLocation(getHistoryState()),Dt=[Ot.key];function createHref(w){return mt+createPath(w)}function go(w){Ne.go(w)}var Rt=0;function checkDOMListeners(w){1===(Rt+=w)&&1===w?(window.addEventListener("popstate",handlePopState),tt&&window.addEventListener("hashchange",handleHashChange)):0===Rt&&(window.removeEventListener("popstate",handlePopState),tt&&window.removeEventListener("hashchange",handleHashChange))}var Bt=!1;var rn={length:Ne.length,action:"POP",location:Ot,createHref:createHref,push:function push(w,tt){var nt=createLocation(w,tt,createKey(),rn.location);yt.confirmTransitionTo(nt,"PUSH",at,(function(w){if(w){var tt=createHref(nt),rt=nt.key,ot=nt.state;if(et)if(Ne.pushState({key:rt,state:ot},null,tt),it)window.location.href=tt;else{var at=Dt.indexOf(rn.location.key),st=Dt.slice(0,at+1);st.push(nt.key),Dt=st,setState({action:"PUSH",location:nt})}else window.location.href=tt}}))},replace:function replace(w,tt){var nt=createLocation(w,tt,createKey(),rn.location);yt.confirmTransitionTo(nt,"REPLACE",at,(function(w){if(w){var tt=createHref(nt),rt=nt.key,ot=nt.state;if(et)if(Ne.replaceState({key:rt,state:ot},null,tt),it)window.location.replace(tt);else{var at=Dt.indexOf(rn.location.key);-1!==at&&(Dt[at]=nt.key),setState({action:"REPLACE",location:nt})}else window.location.replace(tt)}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(w){void 0===w&&(w=!1);var Ne=yt.setPrompt(w);return Bt||(checkDOMListeners(1),Bt=!0),function(){return Bt&&(Bt=!1,checkDOMListeners(-1)),Ne()}},listen:function listen(w){var Ne=yt.appendListener(w);return checkDOMListeners(1),function(){checkDOMListeners(-1),Ne()}}};return rn}var mt={hashbang:{encodePath:function encodePath(w){return"!"===w.charAt(0)?w:"!/"+stripLeadingSlash(w)},decodePath:function decodePath(w){return"!"===w.charAt(0)?w.substr(1):w}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(w){var Ne=w.indexOf("#");return-1===Ne?w:w.slice(0,Ne)}function getHashPath(){var w=window.location.href,Ne=w.indexOf("#");return-1===Ne?"":w.substring(Ne+1)}function replaceHashPath(w){window.location.replace(stripHash(window.location.href)+"#"+w)}function createHashHistory(w){void 0===w&&(w={}),dt||ft(!1);var Ne=window.history,et=(function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}(),w),tt=et.getUserConfirmation,nt=void 0===tt?getConfirmation:tt,rt=et.hashType,it=void 0===rt?"slash":rt,ot=w.basename?stripTrailingSlash(addLeadingSlash(w.basename)):"",at=mt[it],st=at.encodePath,pt=at.decodePath;function getDOMLocation(){var w=pt(getHashPath());return ot&&(w=stripBasename(w,ot)),createLocation(w)}var yt=createTransitionManager();function setState(w){Object(ct.a)(Cn,w),Cn.length=Ne.length,yt.notifyListeners(Cn.location,Cn.action)}var vt=!1,Ot=null;function handleHashChange(){var w=getHashPath(),Ne=st(w);if(w!==Ne)replaceHashPath(Ne);else{var et=getDOMLocation(),tt=Cn.location;if(!vt&&function locationsAreEqual$$1(w,Ne){return w.pathname===Ne.pathname&&w.search===Ne.search&&w.hash===Ne.hash}(tt,et))return;if(Ot===createPath(et))return;Ot=null,function handlePop(w){if(vt)vt=!1,setState();else{yt.confirmTransitionTo(w,"POP",nt,(function(Ne){Ne?setState({action:"POP",location:w}):function revertPop(w){var Ne=Cn.location,et=rn.lastIndexOf(createPath(Ne));-1===et&&(et=0);var tt=rn.lastIndexOf(createPath(w));-1===tt&&(tt=0);var nt=et-tt;nt&&(vt=!0,go(nt))}(w)}))}}(et)}}var Dt=getHashPath(),Rt=st(Dt);Dt!==Rt&&replaceHashPath(Rt);var Bt=getDOMLocation(),rn=[createPath(Bt)];function go(w){Ne.go(w)}var vn=0;function checkDOMListeners(w){1===(vn+=w)&&1===w?window.addEventListener("hashchange",handleHashChange):0===vn&&window.removeEventListener("hashchange",handleHashChange)}var bn=!1;var Cn={length:Ne.length,action:"POP",location:Bt,createHref:function createHref(w){var Ne=document.querySelector("base"),et="";return Ne&&Ne.getAttribute("href")&&(et=stripHash(window.location.href)),et+"#"+st(ot+createPath(w))},push:function push(w,Ne){var et=createLocation(w,void 0,void 0,Cn.location);yt.confirmTransitionTo(et,"PUSH",nt,(function(w){if(w){var Ne=createPath(et),tt=st(ot+Ne);if(getHashPath()!==tt){Ot=Ne,function pushHashPath(w){window.location.hash=w}(tt);var nt=rn.lastIndexOf(createPath(Cn.location)),rt=rn.slice(0,nt+1);rt.push(Ne),rn=rt,setState({action:"PUSH",location:et})}else setState()}}))},replace:function replace(w,Ne){var et=createLocation(w,void 0,void 0,Cn.location);yt.confirmTransitionTo(et,"REPLACE",nt,(function(w){if(w){var Ne=createPath(et),tt=st(ot+Ne);getHashPath()!==tt&&(Ot=Ne,replaceHashPath(tt));var nt=rn.indexOf(createPath(Cn.location));-1!==nt&&(rn[nt]=Ne),setState({action:"REPLACE",location:et})}}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(w){void 0===w&&(w=!1);var Ne=yt.setPrompt(w);return bn||(checkDOMListeners(1),bn=!0),function(){return bn&&(bn=!1,checkDOMListeners(-1)),Ne()}},listen:function listen(w){var Ne=yt.appendListener(w);return checkDOMListeners(1),function(){checkDOMListeners(-1),Ne()}}};return Cn}function clamp(w,Ne,et){return Math.min(Math.max(w,Ne),et)}function createMemoryHistory(w){void 0===w&&(w={});var Ne=w,et=Ne.getUserConfirmation,tt=Ne.initialEntries,nt=void 0===tt?["/"]:tt,rt=Ne.initialIndex,it=void 0===rt?0:rt,ot=Ne.keyLength,at=void 0===ot?6:ot,st=createTransitionManager();function setState(w){Object(ct.a)(mt,w),mt.length=mt.entries.length,st.notifyListeners(mt.location,mt.action)}function createKey(){return Math.random().toString(36).substr(2,at)}var pt=clamp(it,0,nt.length-1),ft=nt.map((function(w){return createLocation(w,void 0,"string"==typeof w?createKey():w.key||createKey())})),dt=createPath;function go(w){var Ne=clamp(mt.index+w,0,mt.entries.length-1),tt=mt.entries[Ne];st.confirmTransitionTo(tt,"POP",et,(function(w){w?setState({action:"POP",location:tt,index:Ne}):setState()}))}var mt={length:ft.length,action:"POP",location:ft[pt],index:pt,entries:ft,createHref:dt,push:function push(w,Ne){var tt=createLocation(w,Ne,createKey(),mt.location);st.confirmTransitionTo(tt,"PUSH",et,(function(w){if(w){var Ne=mt.index+1,et=mt.entries.slice(0);et.length>Ne?et.splice(Ne,et.length-Ne,tt):et.push(tt),setState({action:"PUSH",location:tt,index:Ne,entries:et})}}))},replace:function replace(w,Ne){var tt=createLocation(w,Ne,createKey(),mt.location);st.confirmTransitionTo(tt,"REPLACE",et,(function(w){w&&(mt.entries[mt.index]=tt,setState({action:"REPLACE",location:tt}))}))},go:go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},canGo:function canGo(w){var Ne=mt.index+w;return Ne>=0&&Ne<mt.entries.length},block:function block(w){return void 0===w&&(w=!1),st.setPrompt(w)},listen:function listen(w){return st.appendListener(w)}};return mt}var yt=et(84),vt=et(85),Ot=et.n(vt),Dt=(et(60),et(18)),Rt=et(69),Bt=et.n(Rt),rn=function createNamedContext(w){var Ne=Object(yt.a)();return Ne.displayName=w,Ne}("Router-History"),vn=function createNamedContext(w){var Ne=Object(yt.a)();return Ne.displayName=w,Ne}("Router"),bn=function(w){function Router(Ne){var et;return(et=w.call(this,Ne)||this).state={location:Ne.history.location},et._isMounted=!1,et._pendingLocation=null,Ne.staticContext||(et.unlisten=Ne.history.listen((function(w){et._isMounted?et.setState({location:w}):et._pendingLocation=w}))),et}Object(ot.a)(Router,w),Router.computeRootMatch=function computeRootMatch(w){return{path:"/",url:"/",params:{},isExact:"/"===w}};var Ne=Router.prototype;return Ne.componentDidMount=function componentDidMount(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},Ne.componentWillUnmount=function componentWillUnmount(){this.unlisten&&this.unlisten()},Ne.render=function render(){return nt.a.createElement(vn.Provider,{value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},nt.a.createElement(rn.Provider,{children:this.props.children||null,value:this.props.history}))},Router}(nt.a.Component);nt.a.Component;nt.a.Component;var Cn={},Tn=0;function matchPath(w,Ne){void 0===Ne&&(Ne={}),("string"==typeof Ne||Array.isArray(Ne))&&(Ne={path:Ne});var et=Ne,tt=et.path,nt=et.exact,rt=void 0!==nt&&nt,it=et.strict,ot=void 0!==it&&it,at=et.sensitive,st=void 0!==at&&at;return[].concat(tt).reduce((function(Ne,et){if(!et&&""!==et)return null;if(Ne)return Ne;var tt=function compilePath$1(w,Ne){var et=""+Ne.end+Ne.strict+Ne.sensitive,tt=Cn[et]||(Cn[et]={});if(tt[w])return tt[w];var nt=[],rt={regexp:Ot()(w,nt,Ne),keys:nt};return Tn<1e4&&(tt[w]=rt,Tn++),rt}(et,{end:rt,strict:ot,sensitive:st}),nt=tt.regexp,it=tt.keys,at=nt.exec(w);if(!at)return null;var ct=at[0],pt=at.slice(1),ft=w===ct;return rt&&!ft?null:{path:et,url:"/"===et&&""===ct?"/":ct,isExact:ft,params:it.reduce((function(w,Ne,et){return w[Ne.name]=pt[et],w}),{})}}),null)}var In=function(w){function Route(){return w.apply(this,arguments)||this}return Object(ot.a)(Route,w),Route.prototype.render=function render(){var w=this;return nt.a.createElement(vn.Consumer,null,(function(Ne){Ne||ft(!1);var et=w.props.location||Ne.location,tt=w.props.computedMatch?w.props.computedMatch:w.props.path?matchPath(et.pathname,w.props):Ne.match,rt=Object(ct.a)({},Ne,{location:et,match:tt}),it=w.props,ot=it.children,at=it.component,st=it.render;return Array.isArray(ot)&&0===ot.length&&(ot=null),nt.a.createElement(vn.Provider,{value:rt},rt.match?ot?"function"==typeof ot?ot(rt):ot:at?nt.a.createElement(at,rt):st?st(rt):null:"function"==typeof ot?ot(rt):null)}))},Route}(nt.a.Component);function react_router_addLeadingSlash(w){return"/"===w.charAt(0)?w:"/"+w}function react_router_stripBasename(w,Ne){if(!w)return Ne;var et=react_router_addLeadingSlash(w);return 0!==Ne.pathname.indexOf(et)?Ne:Object(ct.a)({},Ne,{pathname:Ne.pathname.substr(et.length)})}function createURL(w){return"string"==typeof w?w:createPath(w)}function staticHandler(w){return function(){ft(!1)}}function noop(){}nt.a.Component;var Mn=function(w){function Switch(){return w.apply(this,arguments)||this}return Object(ot.a)(Switch,w),Switch.prototype.render=function render(){var w=this;return nt.a.createElement(vn.Consumer,null,(function(Ne){Ne||ft(!1);var et,tt,rt=w.props.location||Ne.location;return nt.a.Children.forEach(w.props.children,(function(w){if(null==tt&&nt.a.isValidElement(w)){et=w;var it=w.props.path||w.props.from;tt=it?matchPath(rt.pathname,Object(ct.a)({},w.props,{path:it})):Ne.match}})),tt?nt.a.cloneElement(et,{location:rt,computedMatch:tt}):null}))},Switch}(nt.a.Component);function withRouter(w){var Ne="withRouter("+(w.displayName||w.name)+")",et=function C(Ne){var et=Ne.wrappedComponentRef,tt=Object(Dt.a)(Ne,["wrappedComponentRef"]);return nt.a.createElement(vn.Consumer,null,(function(Ne){return Ne||ft(!1),nt.a.createElement(w,Object(ct.a)({},tt,Ne,{ref:et}))}))};return et.displayName=Ne,et.WrappedComponent=w,Bt()(et,w)}nt.a.useContext;var zn=function(w){function BrowserRouter(){for(var Ne,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(Ne=w.call.apply(w,[this].concat(tt))||this).history=createBrowserHistory(Ne.props),Ne}return Object(ot.a)(BrowserRouter,w),BrowserRouter.prototype.render=function render(){return nt.a.createElement(bn,{history:this.history,children:this.props.children})},BrowserRouter}(nt.a.Component);nt.a.Component;var Ln=function resolveToLocation(w,Ne){return"function"==typeof w?w(Ne):w},Fn=function normalizeToLocation(w,Ne){return"string"==typeof w?createLocation(w,null,null,Ne):w},Bn=function forwardRefShim(w){return w},Nn=nt.a.forwardRef;void 0===Nn&&(Nn=Bn);var Vn=Nn((function(w,Ne){var et=w.innerRef,tt=w.navigate,rt=w.onClick,it=Object(Dt.a)(w,["innerRef","navigate","onClick"]),ot=it.target,at=Object(ct.a)({},it,{onClick:function onClick(w){try{rt&&rt(w)}catch(Ne){throw w.preventDefault(),Ne}w.defaultPrevented||0!==w.button||ot&&"_self"!==ot||function isModifiedEvent(w){return!!(w.metaKey||w.altKey||w.ctrlKey||w.shiftKey)}(w)||(w.preventDefault(),tt())}});return at.ref=Bn!==Nn&&Ne||et,nt.a.createElement("a",at)}));var Wn=Nn((function(w,Ne){var et=w.component,tt=void 0===et?Vn:et,rt=w.replace,it=w.to,ot=w.innerRef,at=Object(Dt.a)(w,["component","replace","to","innerRef"]);return nt.a.createElement(vn.Consumer,null,(function(w){w||ft(!1);var et=w.history,st=Fn(Ln(it,w.location),w.location),pt=st?et.createHref(st):"",dt=Object(ct.a)({},at,{href:pt,navigate:function navigate(){var Ne=Ln(it,w.location);(rt?et.replace:et.push)(Ne)}});return Bn!==Nn?dt.ref=Ne||ot:dt.innerRef=ot,nt.a.createElement(tt,dt)}))})),$n=function forwardRefShim(w){return w},Yn=nt.a.forwardRef;void 0===Yn&&(Yn=$n);var er=Yn((function(w,Ne){var et=w["aria-current"],tt=void 0===et?"page":et,rt=w.activeClassName,it=void 0===rt?"active":rt,ot=w.activeStyle,at=w.className,st=w.exact,pt=w.isActive,dt=w.location,mt=w.sensitive,yt=w.strict,vt=w.style,Ot=w.to,Rt=w.innerRef,Bt=Object(Dt.a)(w,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return nt.a.createElement(vn.Consumer,null,(function(w){w||ft(!1);var et=dt||w.location,rt=Fn(Ln(Ot,et),et),Dt=rt.pathname,rn=Dt&&Dt.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),vn=rn?matchPath(et.pathname,{path:rn,exact:st,sensitive:mt,strict:yt}):null,bn=!!(pt?pt(vn,et):vn),Cn=bn?function joinClassnames(){for(var w=arguments.length,Ne=new Array(w),et=0;et<w;et++)Ne[et]=arguments[et];return Ne.filter((function(w){return w})).join(" ")}(at,it):at,Tn=bn?Object(ct.a)({},vt,{},ot):vt,In=Object(ct.a)({"aria-current":bn&&tt||null,className:Cn,style:Tn,to:rt},Bt);return $n!==Yn?In.ref=Ne||Rt:In.innerRef=Rt,nt.a.createElement(Wn,In)}))})),rr=(et(139),et(20)),vr=(et(64),et(29));et(108),et(110),et(111),et(112),et(113),et(114),et(115),et(116),et(117),et(118),et(119),et(120),et(121),et(44),et(45),et(46),et(47),et(48),et(49),et(50),et(51),et(52),et(53),et(54),et(55),et(56),et(57),et(58),et(59);class VectorSource{constructor({name:w,label:Ne,tableIdentifier:et,geoVariables:tt,getGeometry:nt,isDefault:rt,showOnHome:it,filterVariables:ot,metadataVariables:at,regionNameVariable:st,regionParentVariable:ct,regionBboxVariable:pt,leafletType:ft,mapboxSourceType:dt,mapboxLayerType:mt,mapboxLayerOptions:yt,leafletOptions:vt,minZoom:Ot,maxZoom:Dt}){!function _defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}(this,"fetchData",async()=>{if(this.data)return this.data;const w=[...new Set([...this.geoVariables.map(({name:w})=>w.toLowerCase()),...this.filterVariables.map(({name:w})=>w.toLowerCase()),...this.metadataVariables.map(({name:w})=>w.toLowerCase())])],Ne=new Map;for(let et=0;et<w.length;et++)Ne.set(w[et],et);const et=await fetch(`https://redivis.com/api/v1/tables/${this.tableIdentifier}/rows?selectedVariables=${w.join(",")}&maxResults=10000`,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!et.ok){const w=await et.text();return alert(w),[]}const tt=await et.text();return this.data=tt.split("\n").map((w,Ne)=>JSON.parse(w)).filter(w=>w[0]).map(w=>{const et=this.getGeometry?this.getGeometry(...this.geoVariables.map(et=>w[Ne.get(et.name.toLowerCase())])):JSON.parse(w[Ne.get(this.geoVariables[0].name.toLowerCase())]),tt={};for(const et of this.metadataVariables)tt[et.name]=w[Ne.get(et.name.toLowerCase())];return{geometry:et,metadata:tt,properties:tt}}),this.data}),this.name=w,this.label=Ne,this.tableIdentifier=et,this.geoVariables=tt,this.filterVariables=ot,this.metadataVariables=at,this.regionNameVariable=st,this.regionParentVariable=ct,this.regionBboxVariable=pt,this.leafletType=ft,this.mapboxSourceType=dt,this.mapboxLayerType=mt,this.mapboxLayerOptions=yt,this.leafletOptions=vt,this.minZoom=Ot,this.maxZoom=Dt,this.isDefault=rt,this.showOnHome=it,this.getGeometry=nt}}const wr=0,Sr=1,ii=2,qi=3;var uo=[new VectorSource({name:"Uganda Regions",label:"Uganda",isDefault:!0,showOnHome:!0,tableIdentifier:"modilab.uganda_geodata:1:next.uganda_regions:8",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"AREA"},{name:"PERIMETER"},{name:"ID"},{name:"CAPTION"}],regionNameVariable:{name:"ID"},regionParentVariable:{name:"CAPTION"},regionBboxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":wr},paint:{"fill-opacity":.1,"fill-color":"#787b8c"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":wr},paint:{"line-color":"#787b8c","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[10,0]}}}}),new VectorSource({name:"Uganda Districts",label:"Uganda",isDefault:!1,showOnHome:!0,tableIdentifier:"modilab.uganda_geodata:1:next.uganda_districts:9",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"DNAME2016"},{name:"DNAMA2017"},{name:"DNAME2018"},{name:"DNAME2019"}],regionNameVariable:{name:"DNAME2019"},regionParentVariable:{name:"CAPTION"},regionBboxVariable:{name:"BBOX"},mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":Sr},paint:{"fill-opacity":.1,"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":Sr},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}}),new VectorSource({name:"Uganda Subcounties",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:1:next.uganda_subcounties:11",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"District"},{name:"County"},{name:"Subcounty"},{name:"regions"}],regionNameVariable:{name:"Subcounty"},regionParentVariable:{name:"County"},regionBboxVariable:null,mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":ii},paint:{"fill-opacity":.1,"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":ii},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}}),new VectorSource({name:"Uganda Parishes",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:1:next.uganda_parishes:10",geoVariables:[{name:"geom"}],filterVariables:[],metadataVariables:[{name:"DName2016"},{name:"CName2016"},{name:"SName2016"}],regionNameVariable:{name:"P"},regionParentVariable:{name:"S"},regionBboxVariable:null,mapboxSourceType:"geojson",mapboxLayerType:["fill","line"],mapboxLayerOptions:{fill:{layout:{"fill-sort-key":qi},paint:{"fill-opacity":.1,"fill-color":"#9699a6"}},line:{layout:{"line-join":"round","line-cap":"round","line-sort-key":qi},paint:{"line-color":"#9699a6","line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]]}}}})],po=et(5),vo=et(72),So=et(2),ta=et(3),na=et(12);function easeOut(w){return w=function getRelativeValue(w,Ne,et){return(Math.min(Math.max(Ne,w),et)-Ne)/(et-Ne)}(w,0,1),w=(w-=1)*w*w+1}var ia=tt.forwardRef((function CircularProgress(w,Ne){var et=w.classes,nt=w.className,rt=w.color,it=void 0===rt?"primary":rt,ot=w.disableShrink,at=void 0!==ot&&ot,st=w.size,pt=void 0===st?40:st,ft=w.style,dt=w.thickness,mt=void 0===dt?3.6:dt,yt=w.value,vt=void 0===yt?0:yt,Ot=w.variant,Dt=void 0===Ot?"indeterminate":Ot,Rt=Object(So.a)(w,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),Bt={},rn={},vn={};if("determinate"===Dt||"static"===Dt){var bn=2*Math.PI*((44-mt)/2);Bt.strokeDasharray=bn.toFixed(3),vn["aria-valuenow"]=Math.round(vt),"static"===Dt?(Bt.strokeDashoffset="".concat(((100-vt)/100*bn).toFixed(3),"px"),rn.transform="rotate(-90deg)"):(Bt.strokeDashoffset="".concat((function easeIn(w){return w*w}((100-vt)/100)*bn).toFixed(3),"px"),rn.transform="rotate(".concat((270*easeOut(vt/70)).toFixed(3),"deg)"))}return tt.createElement("div",Object(ct.a)({className:Object(ta.a)(et.root,nt,"inherit"!==it&&et["color".concat(Object(na.a)(it))],{indeterminate:et.indeterminate,static:et.static}[Dt]),style:Object(ct.a)({width:pt,height:pt},rn,ft),ref:Ne,role:"progressbar"},vn,Rt),tt.createElement("svg",{className:et.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},tt.createElement("circle",{className:Object(ta.a)(et.circle,at&&et.circleDisableShrink,{indeterminate:et.circleIndeterminate,static:et.circleStatic}[Dt]),style:Bt,cx:44,cy:44,r:(44-mt)/2,fill:"none",strokeWidth:mt})))})),sa=Object(po.a)((function styles(w){return{root:{display:"inline-block"},static:{transition:w.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:w.palette.primary.main},colorSecondary:{color:w.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:w.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(ia);function Explore_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}const la=Object(po.a)({root:{color:vo.a[300]}})(w=>nt.a.createElement(sa,{size:30,...w}));class Explore_Explore extends tt.Component{constructor(w){super(w),Explore_defineProperty(this,"loadAdminRegions",async()=>{this.setState({isLoading:!0});const w=await Promise.all(uo.filter(({showOnHome:w})=>w).map(async w=>{const{name:Ne,tableIdentifier:et,regionNameVariable:tt,regionParentVariable:nt,regionBboxVariable:rt}=w,it=[tt,nt,rt].filter(w=>!!w).map(({name:w})=>w.toLowerCase()),ot=await fetch(`https://redivis.com/api/v1/tables/${et}/rows?selectedVariables=${it.join(",")}&maxResults=10000`,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!ot.ok){const w=await ot.text();return alert(w),[]}return{regionLevel:Ne,regions:(await ot.text()).split("\n").map((w,Ne)=>JSON.parse(w)).filter(w=>w[0]).map(w=>({name:w[0],parent:w[1],bbox:w[2]}))}}));this.setState({adminRegions:w,isLoading:!1})}),Explore_defineProperty(this,"renderAdminRegion",w=>{const{name:Ne,parent:et,bbox:tt}=w;return nt.a.createElement("div",{key:`${et}_${Ne}`},nt.a.createElement(Wn,{to:"/map?bbox="+tt},nt.a.createElement("span",null,Ne)))}),Explore_defineProperty(this,"renderAdminRegions",()=>{const{adminRegions:w,isLoading:Ne}=this.state;return Ne?nt.a.createElement("div",{className:vr.regionWrapper},nt.a.createElement(la,null)):w.map(w=>{const{regionLevel:Ne,regions:et=[]}=w;return nt.a.createElement("div",{key:Ne,className:vr.regionWrapper},nt.a.createElement("div",{className:vr.regionName},nt.a.createElement("span",{className:vr.header},Ne)),nt.a.createElement("div",{className:vr.itemsWrapper},et.map(this.renderAdminRegion)))})}),this.state={isLoading:!1,adminRegions:[]}}componentDidMount(){this.loadAdminRegions()}render(){return nt.a.createElement("div",{className:vr.exploreWrapper},nt.a.createElement("span",{className:vr.header},"Explore regions"),this.renderAdminRegions())}}var pa=withRouter(Explore_Explore),fa=(et(179),et(73));function areInputsEqual(w,Ne){if(w.length!==Ne.length)return!1;for(var et=0;et<w.length;et++)if(w[et]!==Ne[et])return!1;return!0}var ga=function memoizeOne(w,Ne){var et;void 0===Ne&&(Ne=areInputsEqual);var tt,nt=[],rt=!1;return function memoized(){for(var it=[],ot=0;ot<arguments.length;ot++)it[ot]=arguments[ot];return rt&&et===this&&Ne(it,nt)||(tt=w.apply(this,it),rt=!0,et=this,nt=it),tt}},va=et(127),_a=et.n(va);var wa=function(){function StyleSheet(w){this.isSpeedy=void 0===w.speedy||w.speedy,this.tags=[],this.ctr=0,this.nonce=w.nonce,this.key=w.key,this.container=w.container,this.before=null}var w=StyleSheet.prototype;return w.insert=function insert(w){if(this.ctr%(this.isSpeedy?65e3:1)==0){var Ne,et=function createStyleElement(w){var Ne=document.createElement("style");return Ne.setAttribute("data-emotion",w.key),void 0!==w.nonce&&Ne.setAttribute("nonce",w.nonce),Ne.appendChild(document.createTextNode("")),Ne}(this);Ne=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(et,Ne),this.tags.push(et)}var tt=this.tags[this.tags.length-1];if(this.isSpeedy){var nt=function sheetForTag(w){if(w.sheet)return w.sheet;for(var Ne=0;Ne<document.styleSheets.length;Ne++)if(document.styleSheets[Ne].ownerNode===w)return document.styleSheets[Ne]}(tt);try{var rt=105===w.charCodeAt(1)&&64===w.charCodeAt(0);nt.insertRule(w,rt?0:nt.cssRules.length)}catch(w){0}}else tt.appendChild(document.createTextNode(w));this.ctr++},w.flush=function flush(){this.tags.forEach((function(w){return w.parentNode.removeChild(w)})),this.tags=[],this.ctr=0},StyleSheet}();var Aa=function stylis_min(w){function X(w,Ne,et){var tt=Ne.trim().split(it);Ne=tt;var nt=tt.length,rt=w.length;switch(rt){case 0:case 1:var ot=0;for(w=0===rt?"":w[0]+" ";ot<nt;++ot)Ne[ot]=Z(w,Ne[ot],et).trim();break;default:var at=ot=0;for(Ne=[];ot<nt;++ot)for(var st=0;st<rt;++st)Ne[at++]=Z(w[st]+" ",tt[ot],et).trim()}return Ne}function Z(w,Ne,et){var tt=Ne.charCodeAt(0);switch(33>tt&&(tt=(Ne=Ne.trim()).charCodeAt(0)),tt){case 38:return Ne.replace(ot,"$1"+w.trim());case 58:return w.trim()+Ne.replace(ot,"$1"+w.trim());default:if(0<1*et&&0<Ne.indexOf("\f"))return Ne.replace(ot,(58===w.charCodeAt(0)?"":"$1")+w.trim())}return w+Ne}function P(w,Ne,et,it){var ot=w+";",at=2*Ne+3*et+4*it;if(944===at){w=ot.indexOf(":",9)+1;var st=ot.substring(w,ot.length-1).trim();return st=ot.substring(0,w).trim()+st+";",1===rn||2===rn&&L(st,1)?"-webkit-"+st+st:st}if(0===rn||2===rn&&!L(ot,1))return ot;switch(at){case 1015:return 97===ot.charCodeAt(10)?"-webkit-"+ot+ot:ot;case 951:return 116===ot.charCodeAt(3)?"-webkit-"+ot+ot:ot;case 963:return 110===ot.charCodeAt(5)?"-webkit-"+ot+ot:ot;case 1009:if(100!==ot.charCodeAt(4))break;case 969:case 942:return"-webkit-"+ot+ot;case 978:return"-webkit-"+ot+"-moz-"+ot+ot;case 1019:case 983:return"-webkit-"+ot+"-moz-"+ot+"-ms-"+ot+ot;case 883:if(45===ot.charCodeAt(8))return"-webkit-"+ot+ot;if(0<ot.indexOf("image-set(",11))return ot.replace(Ot,"$1-webkit-$2")+ot;break;case 932:if(45===ot.charCodeAt(4))switch(ot.charCodeAt(5)){case 103:return"-webkit-box-"+ot.replace("-grow","")+"-webkit-"+ot+"-ms-"+ot.replace("grow","positive")+ot;case 115:return"-webkit-"+ot+"-ms-"+ot.replace("shrink","negative")+ot;case 98:return"-webkit-"+ot+"-ms-"+ot.replace("basis","preferred-size")+ot}return"-webkit-"+ot+"-ms-"+ot+ot;case 964:return"-webkit-"+ot+"-ms-flex-"+ot+ot;case 1023:if(99!==ot.charCodeAt(8))break;return"-webkit-box-pack"+(st=ot.substring(ot.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+ot+"-ms-flex-pack"+st+ot;case 1005:return nt.test(ot)?ot.replace(tt,":-webkit-")+ot.replace(tt,":-moz-")+ot:ot;case 1e3:switch(Ne=(st=ot.substring(13).trim()).indexOf("-")+1,st.charCodeAt(0)+st.charCodeAt(Ne)){case 226:st=ot.replace(pt,"tb");break;case 232:st=ot.replace(pt,"tb-rl");break;case 220:st=ot.replace(pt,"lr");break;default:return ot}return"-webkit-"+ot+"-ms-"+st+ot;case 1017:if(-1===ot.indexOf("sticky",9))break;case 975:switch(Ne=(ot=w).length-10,at=(st=(33===ot.charCodeAt(Ne)?ot.substring(0,Ne):ot).substring(w.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|st.charCodeAt(7))){case 203:if(111>st.charCodeAt(8))break;case 115:ot=ot.replace(st,"-webkit-"+st)+";"+ot;break;case 207:case 102:ot=ot.replace(st,"-webkit-"+(102<at?"inline-":"")+"box")+";"+ot.replace(st,"-webkit-"+st)+";"+ot.replace(st,"-ms-"+st+"box")+";"+ot}return ot+";";case 938:if(45===ot.charCodeAt(5))switch(ot.charCodeAt(6)){case 105:return st=ot.replace("-items",""),"-webkit-"+ot+"-webkit-box-"+st+"-ms-flex-"+st+ot;case 115:return"-webkit-"+ot+"-ms-flex-item-"+ot.replace(mt,"")+ot;default:return"-webkit-"+ot+"-ms-flex-line-pack"+ot.replace("align-content","").replace(mt,"")+ot}break;case 973:case 989:if(45!==ot.charCodeAt(3)||122===ot.charCodeAt(4))break;case 931:case 953:if(!0===vt.test(w))return 115===(st=w.substring(w.indexOf(":")+1)).charCodeAt(0)?P(w.replace("stretch","fill-available"),Ne,et,it).replace(":fill-available",":stretch"):ot.replace(st,"-webkit-"+st)+ot.replace(st,"-moz-"+st.replace("fill-",""))+ot;break;case 962:if(ot="-webkit-"+ot+(102===ot.charCodeAt(5)?"-ms-"+ot:"")+ot,211===et+it&&105===ot.charCodeAt(13)&&0<ot.indexOf("transform",10))return ot.substring(0,ot.indexOf(";",27)+1).replace(rt,"$1-webkit-$2")+ot}return ot}function L(w,Ne){var et=w.indexOf(1===Ne?":":"{"),tt=w.substring(0,3!==Ne?et:10);return et=w.substring(et+1,w.length-1),Tn(2!==Ne?tt:tt.replace(yt,"$1"),et,Ne)}function ea(w,Ne){var et=P(Ne,Ne.charCodeAt(0),Ne.charCodeAt(1),Ne.charCodeAt(2));return et!==Ne+";"?et.replace(dt," or ($1)").substring(4):"("+Ne+")"}function H(w,Ne,et,tt,nt,rt,it,ot,at,st){for(var ct,pt=0,ft=Ne;pt<Cn;++pt)switch(ct=bn[pt].call(B,w,ft,et,tt,nt,rt,it,ot,at,st)){case void 0:case!1:case!0:case null:break;default:ft=ct}if(ft!==Ne)return ft}function U(w){return void 0!==(w=w.prefix)&&(Tn=null,w?"function"!=typeof w?rn=1:(rn=2,Tn=w):rn=0),U}function B(w,tt){var nt=w;if(33>nt.charCodeAt(0)&&(nt=nt.trim()),nt=[nt],0<Cn){var rt=H(-1,tt,nt,nt,Rt,Dt,0,0,0,0);void 0!==rt&&"string"==typeof rt&&(tt=rt)}var it=function M(w,tt,nt,rt,it){for(var ot,pt,dt,mt,yt,vt=0,Ot=0,bn=0,Tn=0,Mn=0,zn=0,Ln=dt=ot=0,Fn=0,Bn=0,Nn=0,Vn=0,Wn=nt.length,$n=Wn-1,Yn="",er="",rr="",vr="";Fn<Wn;){if(pt=nt.charCodeAt(Fn),Fn===$n&&0!==Ot+Tn+bn+vt&&(0!==Ot&&(pt=47===Ot?10:47),Tn=bn=vt=0,Wn++,$n++),0===Ot+Tn+bn+vt){if(Fn===$n&&(0<Bn&&(Yn=Yn.replace(et,"")),0<Yn.trim().length)){switch(pt){case 32:case 9:case 59:case 13:case 10:break;default:Yn+=nt.charAt(Fn)}pt=59}switch(pt){case 123:for(ot=(Yn=Yn.trim()).charCodeAt(0),dt=1,Vn=++Fn;Fn<Wn;){switch(pt=nt.charCodeAt(Fn)){case 123:dt++;break;case 125:dt--;break;case 47:switch(pt=nt.charCodeAt(Fn+1)){case 42:case 47:e:{for(Ln=Fn+1;Ln<$n;++Ln)switch(nt.charCodeAt(Ln)){case 47:if(42===pt&&42===nt.charCodeAt(Ln-1)&&Fn+2!==Ln){Fn=Ln+1;break e}break;case 10:if(47===pt){Fn=Ln+1;break e}}Fn=Ln}}break;case 91:pt++;case 40:pt++;case 34:case 39:for(;Fn++<$n&&nt.charCodeAt(Fn)!==pt;);}if(0===dt)break;Fn++}switch(dt=nt.substring(Vn,Fn),0===ot&&(ot=(Yn=Yn.replace(Ne,"").trim()).charCodeAt(0)),ot){case 64:switch(0<Bn&&(Yn=Yn.replace(et,"")),pt=Yn.charCodeAt(1)){case 100:case 109:case 115:case 45:Bn=tt;break;default:Bn=vn}if(Vn=(dt=M(tt,Bn,dt,pt,it+1)).length,0<Cn&&(yt=H(3,dt,Bn=X(vn,Yn,Nn),tt,Rt,Dt,Vn,pt,it,rt),Yn=Bn.join(""),void 0!==yt&&0===(Vn=(dt=yt.trim()).length)&&(pt=0,dt="")),0<Vn)switch(pt){case 115:Yn=Yn.replace(ft,ea);case 100:case 109:case 45:dt=Yn+"{"+dt+"}";break;case 107:dt=(Yn=Yn.replace(at,"$1 $2"))+"{"+dt+"}",dt=1===rn||2===rn&&L("@"+dt,3)?"@-webkit-"+dt+"@"+dt:"@"+dt;break;default:dt=Yn+dt,112===rt&&(er+=dt,dt="")}else dt="";break;default:dt=M(tt,X(tt,Yn,Nn),dt,rt,it+1)}rr+=dt,dt=Nn=Bn=Ln=ot=0,Yn="",pt=nt.charCodeAt(++Fn);break;case 125:case 59:if(1<(Vn=(Yn=(0<Bn?Yn.replace(et,""):Yn).trim()).length))switch(0===Ln&&(ot=Yn.charCodeAt(0),45===ot||96<ot&&123>ot)&&(Vn=(Yn=Yn.replace(" ",":")).length),0<Cn&&void 0!==(yt=H(1,Yn,tt,w,Rt,Dt,er.length,rt,it,rt))&&0===(Vn=(Yn=yt.trim()).length)&&(Yn="\0\0"),ot=Yn.charCodeAt(0),pt=Yn.charCodeAt(1),ot){case 0:break;case 64:if(105===pt||99===pt){vr+=Yn+nt.charAt(Fn);break}default:58!==Yn.charCodeAt(Vn-1)&&(er+=P(Yn,ot,pt,Yn.charCodeAt(2)))}Nn=Bn=Ln=ot=0,Yn="",pt=nt.charCodeAt(++Fn)}}switch(pt){case 13:case 10:47===Ot?Ot=0:0===1+ot&&107!==rt&&0<Yn.length&&(Bn=1,Yn+="\0"),0<Cn*In&&H(0,Yn,tt,w,Rt,Dt,er.length,rt,it,rt),Dt=1,Rt++;break;case 59:case 125:if(0===Ot+Tn+bn+vt){Dt++;break}default:switch(Dt++,mt=nt.charAt(Fn),pt){case 9:case 32:if(0===Tn+vt+Ot)switch(Mn){case 44:case 58:case 9:case 32:mt="";break;default:32!==pt&&(mt=" ")}break;case 0:mt="\\0";break;case 12:mt="\\f";break;case 11:mt="\\v";break;case 38:0===Tn+Ot+vt&&(Bn=Nn=1,mt="\f"+mt);break;case 108:if(0===Tn+Ot+vt+Bt&&0<Ln)switch(Fn-Ln){case 2:112===Mn&&58===nt.charCodeAt(Fn-3)&&(Bt=Mn);case 8:111===zn&&(Bt=zn)}break;case 58:0===Tn+Ot+vt&&(Ln=Fn);break;case 44:0===Ot+bn+Tn+vt&&(Bn=1,mt+="\r");break;case 34:case 39:0===Ot&&(Tn=Tn===pt?0:0===Tn?pt:Tn);break;case 91:0===Tn+Ot+bn&&vt++;break;case 93:0===Tn+Ot+bn&&vt--;break;case 41:0===Tn+Ot+vt&&bn--;break;case 40:if(0===Tn+Ot+vt){if(0===ot)switch(2*Mn+3*zn){case 533:break;default:ot=1}bn++}break;case 64:0===Ot+bn+Tn+vt+Ln+dt&&(dt=1);break;case 42:case 47:if(!(0<Tn+vt+bn))switch(Ot){case 0:switch(2*pt+3*nt.charCodeAt(Fn+1)){case 235:Ot=47;break;case 220:Vn=Fn,Ot=42}break;case 42:47===pt&&42===Mn&&Vn+2!==Fn&&(33===nt.charCodeAt(Vn+2)&&(er+=nt.substring(Vn,Fn+1)),mt="",Ot=0)}}0===Ot&&(Yn+=mt)}zn=Mn,Mn=pt,Fn++}if(0<(Vn=er.length)){if(Bn=tt,0<Cn&&(void 0!==(yt=H(2,er,Bn,w,Rt,Dt,Vn,rt,it,rt))&&0===(er=yt).length))return vr+er+rr;if(er=Bn.join(",")+"{"+er+"}",0!=rn*Bt){switch(2!==rn||L(er,2)||(Bt=0),Bt){case 111:er=er.replace(ct,":-moz-$1")+er;break;case 112:er=er.replace(st,"::-webkit-input-$1")+er.replace(st,"::-moz-$1")+er.replace(st,":-ms-input-$1")+er}Bt=0}}return vr+er+rr}(vn,nt,tt,0,0);return 0<Cn&&(void 0!==(rt=H(-2,it,nt,nt,Rt,Dt,it.length,0,0,0))&&(it=rt)),"",Bt=0,Dt=Rt=1,it}var Ne=/^\0+/g,et=/[\0\r\f]/g,tt=/: */g,nt=/zoo|gra/,rt=/([,: ])(transform)/g,it=/,\r+?/g,ot=/([\t\r\n ])*\f?&/g,at=/@(k\w+)\s*(\S*)\s*/,st=/::(place)/g,ct=/:(read-only)/g,pt=/[svh]\w+-[tblr]{2}/,ft=/\(\s*(.*)\s*\)/g,dt=/([\s\S]*?);/g,mt=/-self|flex-/g,yt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,vt=/stretch|:\s*\w+\-(?:conte|avail)/,Ot=/([^-])(image-set\()/,Dt=1,Rt=1,Bt=0,rn=1,vn=[],bn=[],Cn=0,Tn=null,In=0;return B.use=function T(w){switch(w){case void 0:case null:Cn=bn.length=0;break;default:if("function"==typeof w)bn[Cn++]=w;else if("object"==typeof w)for(var Ne=0,et=w.length;Ne<et;++Ne)T(w[Ne]);else In=0|!!w}return T},B.set=U,void 0!==w&&U(w),B};function toSheet(w){w&&os.current.insert(w+"}")}var os={current:null},as=function ruleSheet(w,Ne,et,tt,nt,rt,it,ot,at,st){switch(w){case 1:switch(Ne.charCodeAt(0)){case 64:return os.current.insert(Ne+";"),"";case 108:if(98===Ne.charCodeAt(2))return""}break;case 2:if(0===ot)return Ne+"/*|*/";break;case 3:switch(ot){case 102:case 112:return os.current.insert(et[0]+Ne),"";default:return Ne+(0===st?"/*|*/":"")}case-2:Ne.split("/*|*/}").forEach(toSheet)}},ss=function createCache(w){void 0===w&&(w={});var Ne,et=w.key||"css";void 0!==w.prefix&&(Ne={prefix:w.prefix});var tt=new Aa(Ne);var nt,rt={};nt=w.container||document.head;var it,ot=document.querySelectorAll("style[data-emotion-"+et+"]");Array.prototype.forEach.call(ot,(function(w){w.getAttribute("data-emotion-"+et).split(" ").forEach((function(w){rt[w]=!0})),w.parentNode!==nt&&nt.appendChild(w)})),tt.use(w.stylisPlugins)(as),it=function insert(w,Ne,et,nt){var rt=Ne.name;os.current=et,tt(w,Ne.styles),nt&&(at.inserted[rt]=!0)};var at={key:et,sheet:new wa({key:et,container:nt,nonce:w.nonce,speedy:w.speedy}),nonce:w.nonce,inserted:rt,registered:{},insert:it};return at};function getRegisteredStyles(w,Ne,et){var tt="";return et.split(" ").forEach((function(et){void 0!==w[et]?Ne.push(w[et]):tt+=et+" "})),tt}var ls=function insertStyles(w,Ne,et){var tt=w.key+"-"+Ne.name;if(!1===et&&void 0===w.registered[tt]&&(w.registered[tt]=Ne.styles),void 0===w.inserted[Ne.name]){var nt=Ne;do{w.insert("."+tt,nt,w.sheet,!0);nt=nt.next}while(void 0!==nt)}};var us=function murmur2(w){for(var Ne,et=0,tt=0,nt=w.length;nt>=4;++tt,nt-=4)Ne=1540483477*(65535&(Ne=255&w.charCodeAt(tt)|(255&w.charCodeAt(++tt))<<8|(255&w.charCodeAt(++tt))<<16|(255&w.charCodeAt(++tt))<<24))+(59797*(Ne>>>16)<<16),et=1540483477*(65535&(Ne^=Ne>>>24))+(59797*(Ne>>>16)<<16)^1540483477*(65535&et)+(59797*(et>>>16)<<16);switch(nt){case 3:et^=(255&w.charCodeAt(tt+2))<<16;case 2:et^=(255&w.charCodeAt(tt+1))<<8;case 1:et=1540483477*(65535&(et^=255&w.charCodeAt(tt)))+(59797*(et>>>16)<<16)}return(((et=1540483477*(65535&(et^=et>>>13))+(59797*(et>>>16)<<16))^et>>>15)>>>0).toString(36)},fs={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var gs=/[A-Z]|^ms/g,vs=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xs=function isCustomProperty(w){return 45===w.charCodeAt(1)},Ss=function isProcessableValue(w){return null!=w&&"boolean"!=typeof w},Es=function memoize(w){var Ne={};return function(et){return void 0===Ne[et]&&(Ne[et]=w(et)),Ne[et]}}((function(w){return xs(w)?w:w.replace(gs,"-$&").toLowerCase()})),Cs=function processStyleValue(w,Ne){switch(w){case"animation":case"animationName":if("string"==typeof Ne)return Ne.replace(vs,(function(w,Ne,et){return Ps={name:Ne,styles:et,next:Ps},Ne}))}return 1===fs[w]||xs(w)||"number"!=typeof Ne||0===Ne?Ne:Ne+"px"};function handleInterpolation(w,Ne,et,tt){if(null==et)return"";if(void 0!==et.__emotion_styles)return et;switch(typeof et){case"boolean":return"";case"object":if(1===et.anim)return Ps={name:et.name,styles:et.styles,next:Ps},et.name;if(void 0!==et.styles){var nt=et.next;if(void 0!==nt)for(;void 0!==nt;)Ps={name:nt.name,styles:nt.styles,next:Ps},nt=nt.next;return et.styles+";"}return function createStringFromObject(w,Ne,et){var tt="";if(Array.isArray(et))for(var nt=0;nt<et.length;nt++)tt+=handleInterpolation(w,Ne,et[nt],!1);else for(var rt in et){var it=et[rt];if("object"!=typeof it)null!=Ne&&void 0!==Ne[it]?tt+=rt+"{"+Ne[it]+"}":Ss(it)&&(tt+=Es(rt)+":"+Cs(rt,it)+";");else if(!Array.isArray(it)||"string"!=typeof it[0]||null!=Ne&&void 0!==Ne[it[0]]){var ot=handleInterpolation(w,Ne,it,!1);switch(rt){case"animation":case"animationName":tt+=Es(rt)+":"+ot+";";break;default:tt+=rt+"{"+ot+"}"}}else for(var at=0;at<it.length;at++)Ss(it[at])&&(tt+=Es(rt)+":"+Cs(rt,it[at])+";")}return tt}(w,Ne,et);case"function":if(void 0!==w){var rt=Ps,it=et(w);return Ps=rt,handleInterpolation(w,Ne,it,tt)}break;case"string":}if(null==Ne)return et;var ot=Ne[et];return void 0===ot||tt?et:ot}var Ps,As=/label:\s*([^\s;\n{]+)\s*;/g;var Ms=function serializeStyles(w,Ne,et){if(1===w.length&&"object"==typeof w[0]&&null!==w[0]&&void 0!==w[0].styles)return w[0];var tt=!0,nt="";Ps=void 0;var rt=w[0];null==rt||void 0===rt.raw?(tt=!1,nt+=handleInterpolation(et,Ne,rt,!1)):nt+=rt[0];for(var it=1;it<w.length;it++)nt+=handleInterpolation(et,Ne,w[it],46===nt.charCodeAt(nt.length-1)),tt&&(nt+=rt[it]);As.lastIndex=0;for(var ot,at="";null!==(ot=As.exec(nt));)at+="-"+ot[1];return{name:us(nt)+at,styles:nt,next:Ps}};var Os=function css_browser_esm_css(){for(var w=arguments.length,Ne=new Array(w),et=0;et<w;et++)Ne[et]=arguments[et];return Ms(Ne)},zs=Object(tt.createContext)("undefined"!=typeof HTMLElement?ss():null),Ls=Object(tt.createContext)({}),Rs=zs.Provider,Fs=function withEmotionCache(w){return Object(tt.forwardRef)((function render(Ne,et){return Object(tt.createElement)(zs.Consumer,null,(function(tt){return w(Ne,tt,et)}))}))},Bs="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",js=Object.prototype.hasOwnProperty,Ns=function render(w,Ne,et,nt){var rt=null===et?Ne.css:Ne.css(et);"string"==typeof rt&&void 0!==w.registered[rt]&&(rt=w.registered[rt]);var it=Ne[Bs],ot=[rt],at="";"string"==typeof Ne.className?at=getRegisteredStyles(w.registered,ot,Ne.className):null!=Ne.className&&(at=Ne.className+" ");var st=Ms(ot);ls(w,st,"string"==typeof it);at+=w.key+"-"+st.name;var ct={};for(var pt in Ne)js.call(Ne,pt)&&"css"!==pt&&pt!==Bs&&(ct[pt]=Ne[pt]);return ct.ref=nt,ct.className=at,Object(tt.createElement)(it,ct)},Vs=Fs((function(w,Ne,et){return"function"==typeof w.css?Object(tt.createElement)(Ls.Consumer,null,(function(tt){return Ns(Ne,w,tt,et)})):Ns(Ne,w,null,et)}));var Us=function jsx(w,Ne){var et=arguments;if(null==Ne||!js.call(Ne,"css"))return tt.createElement.apply(void 0,et);var nt=et.length,rt=new Array(nt);rt[0]=Vs;var it={};for(var ot in Ne)js.call(Ne,ot)&&(it[ot]=Ne[ot]);it[Bs]=w,rt[1]=it;for(var at=2;at<nt;at++)rt[at]=et[at];return tt.createElement.apply(null,rt)},Zs=(tt.Component,function classnames(w){for(var Ne=w.length,et=0,tt="";et<Ne;et++){var nt=w[et];if(null!=nt){var rt=void 0;switch(typeof nt){case"boolean":break;case"object":if(Array.isArray(nt))rt=classnames(nt);else for(var it in rt="",nt)nt[it]&&it&&(rt&&(rt+=" "),rt+=it);break;default:rt=nt}rt&&(tt&&(tt+=" "),tt+=rt)}}return tt});function merge(w,Ne,et){var tt=[],nt=getRegisteredStyles(w,tt,et);return tt.length<2?et:nt+Ne(tt)}var Js=Fs((function(w,Ne){return Object(tt.createElement)(Ls.Consumer,null,(function(et){var tt=function css(){for(var w=arguments.length,et=new Array(w),tt=0;tt<w;tt++)et[tt]=arguments[tt];var nt=Ms(et,Ne.registered);return ls(Ne,nt,!1),Ne.key+"-"+nt.name},nt={css:tt,cx:function cx(){for(var w=arguments.length,et=new Array(w),nt=0;nt<w;nt++)et[nt]=arguments[nt];return merge(Ne.registered,tt,Zs(et))},theme:et},rt=w.children(nt);return!0,rt}))})),tl=function noop(){};function applyPrefixToName(w,Ne){return Ne?"-"===Ne[0]?w+Ne:w+"__"+Ne:w}function classNames(w,Ne,et){var tt=[et];if(Ne&&w)for(var nt in Ne)Ne.hasOwnProperty(nt)&&Ne[nt]&&tt.push(""+applyPrefixToName(w,nt));return tt.filter((function(w){return w})).map((function(w){return String(w).trim()})).join(" ")}var ol=function cleanValue(w){return Array.isArray(w)?w.filter(Boolean):"object"==typeof w&&null!==w?[w]:[]};function isDocumentElement(w){return[document.documentElement,document.body,window].indexOf(w)>-1}function getScrollTop(w){return isDocumentElement(w)?window.pageYOffset:w.scrollTop}function scrollTo(w,Ne){isDocumentElement(w)?window.scrollTo(0,Ne):w.scrollTop=Ne}function animatedScrollTo(w,Ne,et,tt){void 0===et&&(et=200),void 0===tt&&(tt=tl);var nt=getScrollTop(w),rt=Ne-nt,it=0;!function animateScroll(){var Ne=function easeOutCubic(w,Ne,et,tt){return et*((w=w/tt-1)*w*w+1)+Ne}(it+=10,nt,rt,et);scrollTo(w,Ne),it<et?window.requestAnimationFrame(animateScroll):tt(w)}()}function isTouchCapable(){try{return document.createEvent("TouchEvent"),!0}catch(w){return!1}}var sl=et(82),dl=et.n(sl);function _extends(){return(_extends=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}function _inheritsLoose(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}function getMenuPlacement(w){var Ne=w.maxHeight,et=w.menuEl,tt=w.minHeight,nt=w.placement,rt=w.shouldScroll,it=w.isFixedPosition,ot=w.theme.spacing,at=function getScrollParent(w){var Ne=getComputedStyle(w),et="absolute"===Ne.position,tt=/(auto|scroll)/,nt=document.documentElement;if("fixed"===Ne.position)return nt;for(var rt=w;rt=rt.parentElement;)if(Ne=getComputedStyle(rt),(!et||"static"!==Ne.position)&&tt.test(Ne.overflow+Ne.overflowY+Ne.overflowX))return rt;return nt}(et),st={placement:"bottom",maxHeight:Ne};if(!et||!et.offsetParent)return st;var ct=at.getBoundingClientRect().height,pt=et.getBoundingClientRect(),ft=pt.bottom,dt=pt.height,mt=pt.top,yt=et.offsetParent.getBoundingClientRect().top,vt=window.innerHeight,Ot=getScrollTop(at),Dt=parseInt(getComputedStyle(et).marginBottom,10),Rt=parseInt(getComputedStyle(et).marginTop,10),Bt=yt-Rt,rn=vt-mt,vn=Bt+Ot,bn=ct-Ot-mt,Cn=ft-vt+Ot+Dt,Tn=Ot+mt-Rt;switch(nt){case"auto":case"bottom":if(rn>=dt)return{placement:"bottom",maxHeight:Ne};if(bn>=dt&&!it)return rt&&animatedScrollTo(at,Cn,160),{placement:"bottom",maxHeight:Ne};if(!it&&bn>=tt||it&&rn>=tt)return rt&&animatedScrollTo(at,Cn,160),{placement:"bottom",maxHeight:it?rn-Dt:bn-Dt};if("auto"===nt||it){var In=Ne,Mn=it?Bt:vn;return Mn>=tt&&(In=Math.min(Mn-Dt-ot.controlHeight,Ne)),{placement:"top",maxHeight:In}}if("bottom"===nt)return scrollTo(at,Cn),{placement:"bottom",maxHeight:Ne};break;case"top":if(Bt>=dt)return{placement:"top",maxHeight:Ne};if(vn>=dt&&!it)return rt&&animatedScrollTo(at,Tn,160),{placement:"top",maxHeight:Ne};if(!it&&vn>=tt||it&&Bt>=tt){var zn=Ne;return(!it&&vn>=tt||it&&Bt>=tt)&&(zn=it?Bt-Rt:vn-Rt),rt&&animatedScrollTo(at,Tn,160),{placement:"top",maxHeight:zn}}return{placement:"bottom",maxHeight:Ne};default:throw new Error('Invalid placement provided "'+nt+'".')}return st}var yl=function coercePlacement(w){return"auto"===w?"bottom":w},gl=function(w){function MenuPlacer(){for(var Ne,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(Ne=w.call.apply(w,[this].concat(tt))||this).state={maxHeight:Ne.props.maxMenuHeight,placement:null},Ne.getPlacement=function(w){var et=Ne.props,tt=et.minMenuHeight,nt=et.maxMenuHeight,rt=et.menuPlacement,it=et.menuPosition,ot=et.menuShouldScrollIntoView,at=et.theme,st=Ne.context.getPortalPlacement;if(w){var ct="fixed"===it,pt=getMenuPlacement({maxHeight:nt,menuEl:w,minHeight:tt,placement:rt,shouldScroll:ot&&!ct,isFixedPosition:ct,theme:at});st&&st(pt),Ne.setState(pt)}},Ne.getUpdatedProps=function(){var w=Ne.props.menuPlacement,et=Ne.state.placement||yl(w);return _extends({},Ne.props,{placement:et,maxHeight:Ne.state.maxHeight})},Ne}return _inheritsLoose(MenuPlacer,w),MenuPlacer.prototype.render=function render(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})},MenuPlacer}(tt.Component);gl.contextTypes={getPortalPlacement:st.a.func};var vl=function noticeCSS(w){var Ne=w.theme,et=Ne.spacing.baseUnit;return{color:Ne.colors.neutral40,padding:2*et+"px "+3*et+"px",textAlign:"center"}},_l=vl,bl=vl,xl=function NoOptionsMessage(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.innerProps;return Us("div",_extends({css:nt("noOptionsMessage",w),className:tt({"menu-notice":!0,"menu-notice--no-options":!0},et)},rt),Ne)};xl.defaultProps={children:"No options"};var wl=function LoadingMessage(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.innerProps;return Us("div",_extends({css:nt("loadingMessage",w),className:tt({"menu-notice":!0,"menu-notice--loading":!0},et)},rt),Ne)};wl.defaultProps={children:"Loading..."};var Sl=function(w){function MenuPortal(){for(var Ne,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(Ne=w.call.apply(w,[this].concat(tt))||this).state={placement:null},Ne.getPortalPlacement=function(w){var et=w.placement;et!==yl(Ne.props.menuPlacement)&&Ne.setState({placement:et})},Ne}_inheritsLoose(MenuPortal,w);var Ne=MenuPortal.prototype;return Ne.getChildContext=function getChildContext(){return{getPortalPlacement:this.getPortalPlacement}},Ne.render=function render(){var w=this.props,Ne=w.appendTo,et=w.children,tt=w.controlElement,nt=w.menuPlacement,it=w.menuPosition,ot=w.getStyles,at="fixed"===it;if(!Ne&&!at||!tt)return null;var st=this.state.placement||yl(nt),ct=function getBoundingClientObj(w){var Ne=w.getBoundingClientRect();return{bottom:Ne.bottom,height:Ne.height,left:Ne.left,right:Ne.right,top:Ne.top,width:Ne.width}}(tt),pt=at?0:window.pageYOffset,ft=ct[st]+pt,dt=Us("div",{css:ot("menuPortal",{offset:ft,position:it,rect:ct})},et);return Ne?Object(rt.createPortal)(dt,Ne):dt},MenuPortal}(tt.Component);Sl.childContextTypes={getPortalPlacement:st.a.func};var kl=Array.isArray,Cl=Object.keys,Il=Object.prototype.hasOwnProperty;function exportedEqual(w,Ne){try{return function equal(w,Ne){if(w===Ne)return!0;if(w&&Ne&&"object"==typeof w&&"object"==typeof Ne){var et,tt,nt,rt=kl(w),it=kl(Ne);if(rt&&it){if((tt=w.length)!=Ne.length)return!1;for(et=tt;0!=et--;)if(!equal(w[et],Ne[et]))return!1;return!0}if(rt!=it)return!1;var ot=w instanceof Date,at=Ne instanceof Date;if(ot!=at)return!1;if(ot&&at)return w.getTime()==Ne.getTime();var st=w instanceof RegExp,ct=Ne instanceof RegExp;if(st!=ct)return!1;if(st&&ct)return w.toString()==Ne.toString();var pt=Cl(w);if((tt=pt.length)!==Cl(Ne).length)return!1;for(et=tt;0!=et--;)if(!Il.call(Ne,pt[et]))return!1;for(et=tt;0!=et--;)if(!("_owner"===(nt=pt[et])&&w.$$typeof||equal(w[nt],Ne[nt])))return!1;return!0}return w!=w&&Ne!=Ne}(w,Ne)}catch(w){if(w.message&&w.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",w.name,w.message),!1;throw w}}function _extends$1(){return(_extends$1=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}function _templateObject(){var w=function _taggedTemplateLiteralLoose(w,Ne){Ne||(Ne=w.slice(0));return w.raw=Ne,w}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]);return _templateObject=function _templateObject(){return w},w}function _extends$2(){return(_extends$2=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}var Al={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},zl=function Svg(w){var Ne=w.size,et=function _objectWithoutPropertiesLoose(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}(w,["size"]);return Us("svg",_extends$2({height:Ne,width:Ne,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Al},et))},Fl=function CrossIcon(w){return Us(zl,_extends$2({size:20},w),Us("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Hl=function DownChevron(w){return Us(zl,_extends$2({size:20},w),Us("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},du=function baseCSS(w){var Ne=w.isFocused,et=w.theme,tt=et.spacing.baseUnit,nt=et.colors;return{label:"indicatorContainer",color:Ne?nt.neutral60:nt.neutral20,display:"flex",padding:2*tt,transition:"color 150ms",":hover":{color:Ne?nt.neutral80:nt.neutral40}}},vu=du,_u=du,wu=function keyframes(){var w=Os.apply(void 0,arguments),Ne="animation-"+w.name;return{name:Ne,styles:"@keyframes "+Ne+"{"+w.styles+"}",anim:1,toString:function toString(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(_templateObject()),Tu=function LoadingDot(w){var Ne=w.delay,et=w.offset;return Us("span",{css:Os({animation:wu+" 1s ease-in-out "+Ne+"ms infinite;",backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:et?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Fu=function LoadingIndicator(w){var Ne=w.className,et=w.cx,tt=w.getStyles,nt=w.innerProps,rt=w.isRtl;return Us("div",_extends$2({},nt,{css:tt("loadingIndicator",w),className:et({indicator:!0,"loading-indicator":!0},Ne)}),Us(Tu,{delay:0,offset:rt}),Us(Tu,{delay:160,offset:!0}),Us(Tu,{delay:320,offset:!rt}))};function _extends$3(){return(_extends$3=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}Fu.defaultProps={size:4};function _extends$4(){return(_extends$4=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}function _extends$5(){return(_extends$5=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}var ac=function inputStyle(w){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:w?0:1,outline:0,padding:0,color:"inherit"}};function _extends$6(){return(_extends$6=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}var pc=function MultiValueGeneric(w){var Ne=w.children,et=w.innerProps;return Us("div",et,Ne)},yc=pc,_c=pc;var bc=function MultiValue(w){var Ne=w.children,et=w.className,tt=w.components,nt=w.cx,rt=w.data,it=w.getStyles,ot=w.innerProps,at=w.isDisabled,st=w.removeProps,ct=w.selectProps,pt=tt.Container,ft=tt.Label,dt=tt.Remove;return Us(Js,null,(function(tt){var mt=tt.css,yt=tt.cx;return Us(pt,{data:rt,innerProps:_extends$6({},ot,{className:yt(mt(it("multiValue",w)),nt({"multi-value":!0,"multi-value--is-disabled":at},et))}),selectProps:ct},Us(ft,{data:rt,innerProps:{className:yt(mt(it("multiValueLabel",w)),nt({"multi-value__label":!0},et))},selectProps:ct},Ne),Us(dt,{data:rt,innerProps:_extends$6({className:yt(mt(it("multiValueRemove",w)),nt({"multi-value__remove":!0},et))},st),selectProps:ct}))}))};function _extends$7(){return(_extends$7=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}bc.defaultProps={cropWithEllipsis:!0};function _extends$8(){return(_extends$8=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}function _extends$9(){return(_extends$9=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}function _extends$a(){return(_extends$a=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}var xc={ClearIndicator:function ClearIndicator(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.innerProps;return Us("div",_extends$2({},rt,{css:nt("clearIndicator",w),className:tt({indicator:!0,"clear-indicator":!0},et)}),Ne||Us(Fl,null))},Control:function Control(w){var Ne=w.children,et=w.cx,tt=w.getStyles,nt=w.className,rt=w.isDisabled,it=w.isFocused,ot=w.innerRef,at=w.innerProps,st=w.menuIsOpen;return Us("div",_extends$3({ref:ot,css:tt("control",w),className:et({control:!0,"control--is-disabled":rt,"control--is-focused":it,"control--menu-is-open":st},nt)},at),Ne)},DropdownIndicator:function DropdownIndicator(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.innerProps;return Us("div",_extends$2({},rt,{css:nt("dropdownIndicator",w),className:tt({indicator:!0,"dropdown-indicator":!0},et)}),Ne||Us(Hl,null))},DownChevron:Hl,CrossIcon:Fl,Group:function Group(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.Heading,it=w.headingProps,ot=w.label,at=w.theme,st=w.selectProps;return Us("div",{css:nt("group",w),className:tt({group:!0},et)},Us(rt,_extends$4({},it,{selectProps:st,theme:at,getStyles:nt,cx:tt}),ot),Us("div",null,Ne))},GroupHeading:function GroupHeading(w){var Ne=w.className,et=w.cx,tt=w.getStyles,nt=w.theme,rt=(w.selectProps,function _objectWithoutPropertiesLoose$1(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}(w,["className","cx","getStyles","theme","selectProps"]));return Us("div",_extends$4({css:tt("groupHeading",_extends$4({theme:nt},rt)),className:et({"group-heading":!0},Ne)},rt))},IndicatorsContainer:function IndicatorsContainer(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles;return Us("div",{css:nt("indicatorsContainer",w),className:tt({indicators:!0},et)},Ne)},IndicatorSeparator:function IndicatorSeparator(w){var Ne=w.className,et=w.cx,tt=w.getStyles,nt=w.innerProps;return Us("span",_extends$2({},nt,{css:tt("indicatorSeparator",w),className:et({"indicator-separator":!0},Ne)}))},Input:function Input(w){var Ne=w.className,et=w.cx,tt=w.getStyles,nt=w.innerRef,rt=w.isHidden,it=w.isDisabled,ot=w.theme,at=(w.selectProps,function _objectWithoutPropertiesLoose$2(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}(w,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return Us("div",{css:tt("input",_extends$5({theme:ot},at))},Us(dl.a,_extends$5({className:et({input:!0},Ne),inputRef:nt,inputStyle:ac(rt),disabled:it},at)))},LoadingIndicator:Fu,Menu:function Menu(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.innerRef,it=w.innerProps;return Us("div",_extends({css:nt("menu",w),className:tt({menu:!0},et)},it,{ref:rt}),Ne)},MenuList:function MenuList(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.isMulti,it=w.innerRef;return Us("div",{css:nt("menuList",w),className:tt({"menu-list":!0,"menu-list--is-multi":rt},et),ref:it},Ne)},MenuPortal:Sl,LoadingMessage:wl,NoOptionsMessage:xl,MultiValue:bc,MultiValueContainer:yc,MultiValueLabel:_c,MultiValueRemove:function index_4322c0ed_browser_esm_MultiValueRemove(w){var Ne=w.children,et=w.innerProps;return Us("div",et,Ne||Us(Fl,{size:14}))},Option:function Option(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.isDisabled,it=w.isFocused,ot=w.isSelected,at=w.innerRef,st=w.innerProps;return Us("div",_extends$7({css:nt("option",w),className:tt({option:!0,"option--is-disabled":rt,"option--is-focused":it,"option--is-selected":ot},et),ref:at},st),Ne)},Placeholder:function Placeholder(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.innerProps;return Us("div",_extends$8({css:nt("placeholder",w),className:tt({placeholder:!0},et)},rt),Ne)},SelectContainer:function SelectContainer(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.innerProps,it=w.isDisabled,ot=w.isRtl;return Us("div",_extends$1({css:nt("container",w),className:tt({"--is-disabled":it,"--is-rtl":ot},et)},rt),Ne)},SingleValue:function SingleValue(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.getStyles,rt=w.isDisabled,it=w.innerProps;return Us("div",_extends$9({css:nt("singleValue",w),className:tt({"single-value":!0,"single-value--is-disabled":rt},et)},it),Ne)},ValueContainer:function ValueContainer(w){var Ne=w.children,et=w.className,tt=w.cx,nt=w.isMulti,rt=w.getStyles,it=w.hasValue;return Us("div",{css:rt("valueContainer",w),className:tt({"value-container":!0,"value-container--is-multi":nt,"value-container--has-value":it},et)},Ne)}},wc=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],Ec=function stripDiacritics(w){for(var Ne=0;Ne<wc.length;Ne++)w=w.replace(wc[Ne].letters,wc[Ne].base);return w};function Select_9fdb8cd0_browser_esm_extends(){return(Select_9fdb8cd0_browser_esm_extends=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}var kc=function trimString(w){return w.replace(/^\s+|\s+$/g,"")},Cc=function defaultStringify(w){return w.label+" "+w.value};function Select_9fdb8cd0_browser_esm_extends$1(){return(Select_9fdb8cd0_browser_esm_extends$1=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}var Ic={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},Ac=function A11yText(w){return Us("span",Select_9fdb8cd0_browser_esm_extends$1({css:Ic},w))};function Select_9fdb8cd0_browser_esm_extends$2(){return(Select_9fdb8cd0_browser_esm_extends$2=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}function DummyInput(w){w.in,w.out,w.onExited,w.appear,w.enter,w.exit;var Ne=w.innerRef,et=(w.emotion,function Select_9fdb8cd0_browser_esm_objectWithoutPropertiesLoose(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}(w,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return Us("input",Select_9fdb8cd0_browser_esm_extends$2({ref:Ne},et,{css:Os({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}var zc=function(w){function NodeResolver(){return w.apply(this,arguments)||this}!function Select_9fdb8cd0_browser_esm_inheritsLoose(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}(NodeResolver,w);var Ne=NodeResolver.prototype;return Ne.componentDidMount=function componentDidMount(){this.props.innerRef(Object(rt.findDOMNode)(this))},Ne.componentWillUnmount=function componentWillUnmount(){this.props.innerRef(null)},Ne.render=function render(){return this.props.children},NodeResolver}(tt.Component),Dc=["boxSizing","height","overflow","paddingRight","position"],Fc={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function preventTouchMove(w){w.preventDefault()}function allowTouchMove(w){w.stopPropagation()}function preventInertiaScroll(){var w=this.scrollTop,Ne=this.scrollHeight,et=w+this.offsetHeight;0===w?this.scrollTop=1:et===Ne&&(this.scrollTop=w-1)}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}var Bc=!(!window.document||!window.document.createElement),Wc=0,Hc=function(w){function ScrollLock(){for(var Ne,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(Ne=w.call.apply(w,[this].concat(tt))||this).originalStyles={},Ne.listenerOptions={capture:!1,passive:!1},Ne}!function _inheritsLoose$1(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}(ScrollLock,w);var Ne=ScrollLock.prototype;return Ne.componentDidMount=function componentDidMount(){var w=this;if(Bc){var Ne=this.props,et=Ne.accountForScrollbars,tt=Ne.touchScrollTarget,nt=document.body,rt=nt&&nt.style;if(et&&Dc.forEach((function(Ne){var et=rt&&rt[Ne];w.originalStyles[Ne]=et})),et&&Wc<1){var it=parseInt(this.originalStyles.paddingRight,10)||0,ot=document.body?document.body.clientWidth:0,at=window.innerWidth-ot+it||0;Object.keys(Fc).forEach((function(w){var Ne=Fc[w];rt&&(rt[w]=Ne)})),rt&&(rt.paddingRight=at+"px")}nt&&isTouchDevice()&&(nt.addEventListener("touchmove",preventTouchMove,this.listenerOptions),tt&&(tt.addEventListener("touchstart",preventInertiaScroll,this.listenerOptions),tt.addEventListener("touchmove",allowTouchMove,this.listenerOptions))),Wc+=1}},Ne.componentWillUnmount=function componentWillUnmount(){var w=this;if(Bc){var Ne=this.props,et=Ne.accountForScrollbars,tt=Ne.touchScrollTarget,nt=document.body,rt=nt&&nt.style;Wc=Math.max(Wc-1,0),et&&Wc<1&&Dc.forEach((function(Ne){var et=w.originalStyles[Ne];rt&&(rt[Ne]=et)})),nt&&isTouchDevice()&&(nt.removeEventListener("touchmove",preventTouchMove,this.listenerOptions),tt&&(tt.removeEventListener("touchstart",preventInertiaScroll,this.listenerOptions),tt.removeEventListener("touchmove",allowTouchMove,this.listenerOptions)))}},Ne.render=function render(){return null},ScrollLock}(tt.Component);Hc.defaultProps={accountForScrollbars:!0};var Gc={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},Zc=function(w){function ScrollBlock(){for(var Ne,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(Ne=w.call.apply(w,[this].concat(tt))||this).state={touchScrollTarget:null},Ne.getScrollTarget=function(w){w!==Ne.state.touchScrollTarget&&Ne.setState({touchScrollTarget:w})},Ne.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},Ne}return function _inheritsLoose$2(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}(ScrollBlock,w),ScrollBlock.prototype.render=function render(){var w=this.props,Ne=w.children,et=w.isEnabled,tt=this.state.touchScrollTarget;return et?Us("div",null,Us("div",{onClick:this.blurSelectInput,css:Gc}),Us(zc,{innerRef:this.getScrollTarget},Ne),tt?Us(Hc,{touchScrollTarget:tt}):null):Ne},ScrollBlock}(tt.PureComponent);var Xc=function(w){function ScrollCaptor(){for(var Ne,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(Ne=w.call.apply(w,[this].concat(tt))||this).isBottom=!1,Ne.isTop=!1,Ne.scrollTarget=void 0,Ne.touchStart=void 0,Ne.cancelScroll=function(w){w.preventDefault(),w.stopPropagation()},Ne.handleEventDelta=function(w,et){var tt=Ne.props,nt=tt.onBottomArrive,rt=tt.onBottomLeave,it=tt.onTopArrive,ot=tt.onTopLeave,at=Ne.scrollTarget,st=at.scrollTop,ct=at.scrollHeight,pt=at.clientHeight,ft=Ne.scrollTarget,dt=et>0,mt=ct-pt-st,yt=!1;mt>et&&Ne.isBottom&&(rt&&rt(w),Ne.isBottom=!1),dt&&Ne.isTop&&(ot&&ot(w),Ne.isTop=!1),dt&&et>mt?(nt&&!Ne.isBottom&&nt(w),ft.scrollTop=ct,yt=!0,Ne.isBottom=!0):!dt&&-et>st&&(it&&!Ne.isTop&&it(w),ft.scrollTop=0,yt=!0,Ne.isTop=!0),yt&&Ne.cancelScroll(w)},Ne.onWheel=function(w){Ne.handleEventDelta(w,w.deltaY)},Ne.onTouchStart=function(w){Ne.touchStart=w.changedTouches[0].clientY},Ne.onTouchMove=function(w){var et=Ne.touchStart-w.changedTouches[0].clientY;Ne.handleEventDelta(w,et)},Ne.getScrollTarget=function(w){Ne.scrollTarget=w},Ne}!function _inheritsLoose$3(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}(ScrollCaptor,w);var Ne=ScrollCaptor.prototype;return Ne.componentDidMount=function componentDidMount(){this.startListening(this.scrollTarget)},Ne.componentWillUnmount=function componentWillUnmount(){this.stopListening(this.scrollTarget)},Ne.startListening=function startListening(w){w&&("function"==typeof w.addEventListener&&w.addEventListener("wheel",this.onWheel,!1),"function"==typeof w.addEventListener&&w.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof w.addEventListener&&w.addEventListener("touchmove",this.onTouchMove,!1))},Ne.stopListening=function stopListening(w){"function"==typeof w.removeEventListener&&w.removeEventListener("wheel",this.onWheel,!1),"function"==typeof w.removeEventListener&&w.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof w.removeEventListener&&w.removeEventListener("touchmove",this.onTouchMove,!1)},Ne.render=function render(){return nt.a.createElement(zc,{innerRef:this.getScrollTarget},this.props.children)},ScrollCaptor}(tt.Component);function ScrollCaptorSwitch(w){var Ne=w.isEnabled,et=void 0===Ne||Ne,tt=function Select_9fdb8cd0_browser_esm_objectWithoutPropertiesLoose$1(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}(w,["isEnabled"]);return et?nt.a.createElement(Xc,tt):tt.children}var $c=function instructionsAriaMessage(w,Ne){void 0===Ne&&(Ne={});var et=Ne,tt=et.isSearchable,nt=et.isMulti,rt=et.label,it=et.isDisabled;switch(w){case"menu":return"Use Up and Down to choose options"+(it?"":", press Enter to select the currently focused option")+", press Escape to exit the menu, press Tab to select the option and exit the menu.";case"input":return(rt||"Select")+" is focused "+(tt?",type to refine list":"")+", press Down to open the menu, "+(nt?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},Yc=function valueEventAriaMessage(w,Ne){var et=Ne.value,tt=Ne.isDisabled;if(et)switch(w){case"deselect-option":case"pop-value":case"remove-value":return"option "+et+", deselected.";case"select-option":return tt?"option "+et+" is disabled. Select another option.":"option "+et+", selected."}},rp=function isOptionDisabled(w){return!!w.isDisabled};var ip={clearIndicator:_u,container:function containerCSS(w){var Ne=w.isDisabled;return{label:"container",direction:w.isRtl?"rtl":null,pointerEvents:Ne?"none":null,position:"relative"}},control:function css(w){var Ne=w.isDisabled,et=w.isFocused,tt=w.theme,nt=tt.colors,rt=tt.borderRadius,it=tt.spacing;return{label:"control",alignItems:"center",backgroundColor:Ne?nt.neutral5:nt.neutral0,borderColor:Ne?nt.neutral10:et?nt.primary:nt.neutral20,borderRadius:rt,borderStyle:"solid",borderWidth:1,boxShadow:et?"0 0 0 1px "+nt.primary:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:it.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:et?nt.primary:nt.neutral30}}},dropdownIndicator:vu,group:function groupCSS(w){var Ne=w.theme.spacing;return{paddingBottom:2*Ne.baseUnit,paddingTop:2*Ne.baseUnit}},groupHeading:function groupHeadingCSS(w){var Ne=w.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*Ne.baseUnit,paddingRight:3*Ne.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function indicatorsContainerCSS(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function indicatorSeparatorCSS(w){var Ne=w.isDisabled,et=w.theme,tt=et.spacing.baseUnit,nt=et.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:Ne?nt.neutral10:nt.neutral20,marginBottom:2*tt,marginTop:2*tt,width:1}},input:function inputCSS(w){var Ne=w.isDisabled,et=w.theme,tt=et.spacing,nt=et.colors;return{margin:tt.baseUnit/2,paddingBottom:tt.baseUnit/2,paddingTop:tt.baseUnit/2,visibility:Ne?"hidden":"visible",color:nt.neutral80}},loadingIndicator:function loadingIndicatorCSS(w){var Ne=w.isFocused,et=w.size,tt=w.theme,nt=tt.colors,rt=tt.spacing.baseUnit;return{label:"loadingIndicator",color:Ne?nt.neutral60:nt.neutral20,display:"flex",padding:2*rt,transition:"color 150ms",alignSelf:"center",fontSize:et,lineHeight:1,marginRight:et,textAlign:"center",verticalAlign:"middle"}},loadingMessage:bl,menu:function menuCSS(w){var Ne,et=w.placement,tt=w.theme,nt=tt.borderRadius,rt=tt.spacing,it=tt.colors;return(Ne={label:"menu"})[function alignToControl(w){return w?{bottom:"top",top:"bottom"}[w]:"bottom"}(et)]="100%",Ne.backgroundColor=it.neutral0,Ne.borderRadius=nt,Ne.boxShadow="0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",Ne.marginBottom=rt.menuGutter,Ne.marginTop=rt.menuGutter,Ne.position="absolute",Ne.width="100%",Ne.zIndex=1,Ne},menuList:function menuListCSS(w){var Ne=w.maxHeight,et=w.theme.spacing.baseUnit;return{maxHeight:Ne,overflowY:"auto",paddingBottom:et,paddingTop:et,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function menuPortalCSS(w){var Ne=w.rect,et=w.offset,tt=w.position;return{left:Ne.left,position:tt,top:et,width:Ne.width,zIndex:1}},multiValue:function multiValueCSS(w){var Ne=w.theme,et=Ne.spacing,tt=Ne.borderRadius;return{label:"multiValue",backgroundColor:Ne.colors.neutral10,borderRadius:tt/2,display:"flex",margin:et.baseUnit/2,minWidth:0}},multiValueLabel:function multiValueLabelCSS(w){var Ne=w.theme,et=Ne.borderRadius,tt=Ne.colors,nt=w.cropWithEllipsis;return{borderRadius:et/2,color:tt.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:nt?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function multiValueRemoveCSS(w){var Ne=w.theme,et=Ne.spacing,tt=Ne.borderRadius,nt=Ne.colors;return{alignItems:"center",borderRadius:tt/2,backgroundColor:w.isFocused&&nt.dangerLight,display:"flex",paddingLeft:et.baseUnit,paddingRight:et.baseUnit,":hover":{backgroundColor:nt.dangerLight,color:nt.danger}}},noOptionsMessage:_l,option:function optionCSS(w){var Ne=w.isDisabled,et=w.isFocused,tt=w.isSelected,nt=w.theme,rt=nt.spacing,it=nt.colors;return{label:"option",backgroundColor:tt?it.primary:et?it.primary25:"transparent",color:Ne?it.neutral20:tt?it.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*rt.baseUnit+"px "+3*rt.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!Ne&&(tt?it.primary:it.primary50)}}},placeholder:function placeholderCSS(w){var Ne=w.theme,et=Ne.spacing;return{label:"placeholder",color:Ne.colors.neutral50,marginLeft:et.baseUnit/2,marginRight:et.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function css(w){var Ne=w.isDisabled,et=w.theme,tt=et.spacing,nt=et.colors;return{label:"singleValue",color:Ne?nt.neutral40:nt.neutral80,marginLeft:tt.baseUnit/2,marginRight:tt.baseUnit/2,maxWidth:"calc(100% - "+2*tt.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function valueContainerCSS(w){var Ne=w.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:Ne.baseUnit/2+"px "+2*Ne.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var op={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}};function Select_9fdb8cd0_browser_esm_extends$4(){return(Select_9fdb8cd0_browser_esm_extends$4=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}function _assertThisInitialized(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}var ap={backspaceRemovesValue:!0,blurInputOnSelect:isTouchCapable(),captureMenuScroll:!isTouchCapable(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function createFilter(w){return function(Ne,et){var tt=Select_9fdb8cd0_browser_esm_extends({ignoreCase:!0,ignoreAccents:!0,stringify:Cc,trim:!0,matchFrom:"any"},w),nt=tt.ignoreCase,rt=tt.ignoreAccents,it=tt.stringify,ot=tt.trim,at=tt.matchFrom,st=ot?kc(et):et,ct=ot?kc(it(Ne)):it(Ne);return nt&&(st=st.toLowerCase(),ct=ct.toLowerCase()),rt&&(st=Ec(st),ct=Ec(ct)),"start"===at?ct.substr(0,st.length)===st:ct.indexOf(st)>-1}}(),formatGroupLabel:function formatGroupLabel(w){return w.label},getOptionLabel:function getOptionLabel(w){return w.label},getOptionValue:function getOptionValue(w){return w.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:rp,loadingMessage:function loadingMessage(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function isMobileDevice(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(w){return!1}}(),noOptionsMessage:function noOptionsMessage(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function screenReaderStatus(w){var Ne=w.count;return Ne+" result"+(1!==Ne?"s":"")+" available"},styles:{},tabIndex:"0",tabSelectsValue:!0},sp=1,lp=function(w){function Select(Ne){var et;(et=w.call(this,Ne)||this).state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},et.blockOptionHover=!1,et.isComposing=!1,et.clearFocusValueOnUpdate=!1,et.commonProps=void 0,et.components=void 0,et.hasGroups=!1,et.initialTouchX=0,et.initialTouchY=0,et.inputIsHiddenAfterUpdate=void 0,et.instancePrefix="",et.openAfterFocus=!1,et.scrollToFocusedOptionOnUpdate=!1,et.userIsDragging=void 0,et.controlRef=null,et.getControlRef=function(w){et.controlRef=w},et.focusedOptionRef=null,et.getFocusedOptionRef=function(w){et.focusedOptionRef=w},et.menuListRef=null,et.getMenuListRef=function(w){et.menuListRef=w},et.inputRef=null,et.getInputRef=function(w){et.inputRef=w},et.cacheComponents=function(w){et.components=function defaultComponents(w){return _extends$a({},xc,w.components)}({components:w})},et.focus=et.focusInput,et.blur=et.blurInput,et.onChange=function(w,Ne){var tt=et.props;(0,tt.onChange)(w,Select_9fdb8cd0_browser_esm_extends$4({},Ne,{name:tt.name}))},et.setValue=function(w,Ne,tt){void 0===Ne&&(Ne="set-value");var nt=et.props,rt=nt.closeMenuOnSelect,it=nt.isMulti;et.onInputChange("",{action:"set-value"}),rt&&(et.inputIsHiddenAfterUpdate=!it,et.onMenuClose()),et.clearFocusValueOnUpdate=!0,et.onChange(w,{action:Ne,option:tt})},et.selectOption=function(w){var Ne=et.props,tt=Ne.blurInputOnSelect,nt=Ne.isMulti,rt=et.state.selectValue;if(nt)if(et.isOptionSelected(w,rt)){var it=et.getOptionValue(w);et.setValue(rt.filter((function(w){return et.getOptionValue(w)!==it})),"deselect-option",w),et.announceAriaLiveSelection({event:"deselect-option",context:{value:et.getOptionLabel(w)}})}else et.isOptionDisabled(w,rt)?et.announceAriaLiveSelection({event:"select-option",context:{value:et.getOptionLabel(w),isDisabled:!0}}):(et.setValue([].concat(rt,[w]),"select-option",w),et.announceAriaLiveSelection({event:"select-option",context:{value:et.getOptionLabel(w)}}));else et.isOptionDisabled(w,rt)?et.announceAriaLiveSelection({event:"select-option",context:{value:et.getOptionLabel(w),isDisabled:!0}}):(et.setValue(w,"select-option"),et.announceAriaLiveSelection({event:"select-option",context:{value:et.getOptionLabel(w)}}));tt&&et.blurInput()},et.removeValue=function(w){var Ne=et.state.selectValue,tt=et.getOptionValue(w),nt=Ne.filter((function(w){return et.getOptionValue(w)!==tt}));et.onChange(nt.length?nt:null,{action:"remove-value",removedValue:w}),et.announceAriaLiveSelection({event:"remove-value",context:{value:w?et.getOptionLabel(w):""}}),et.focusInput()},et.clearValue=function(){var w=et.props.isMulti;et.onChange(w?[]:null,{action:"clear"})},et.popValue=function(){var w=et.state.selectValue,Ne=w[w.length-1],tt=w.slice(0,w.length-1);et.announceAriaLiveSelection({event:"pop-value",context:{value:Ne?et.getOptionLabel(Ne):""}}),et.onChange(tt.length?tt:null,{action:"pop-value",removedValue:Ne})},et.getOptionLabel=function(w){return et.props.getOptionLabel(w)},et.getOptionValue=function(w){return et.props.getOptionValue(w)},et.getStyles=function(w,Ne){var tt=ip[w](Ne);tt.boxSizing="border-box";var nt=et.props.styles[w];return nt?nt(tt,Ne):tt},et.getElementId=function(w){return et.instancePrefix+"-"+w},et.getActiveDescendentId=function(){var w=et.props.menuIsOpen,Ne=et.state,tt=Ne.menuOptions,nt=Ne.focusedOption;if(nt&&w){var rt=tt.focusable.indexOf(nt),it=tt.render[rt];return it&&it.key}},et.announceAriaLiveSelection=function(w){var Ne=w.event,tt=w.context;et.setState({ariaLiveSelection:Yc(Ne,tt)})},et.announceAriaLiveContext=function(w){var Ne=w.event,tt=w.context;et.setState({ariaLiveContext:$c(Ne,Select_9fdb8cd0_browser_esm_extends$4({},tt,{label:et.props["aria-label"]}))})},et.onMenuMouseDown=function(w){0===w.button&&(w.stopPropagation(),w.preventDefault(),et.focusInput())},et.onMenuMouseMove=function(w){et.blockOptionHover=!1},et.onControlMouseDown=function(w){var Ne=et.props.openMenuOnClick;et.state.isFocused?et.props.menuIsOpen?"INPUT"!==w.target.tagName&&"TEXTAREA"!==w.target.tagName&&et.onMenuClose():Ne&&et.openMenu("first"):(Ne&&(et.openAfterFocus=!0),et.focusInput()),"INPUT"!==w.target.tagName&&"TEXTAREA"!==w.target.tagName&&w.preventDefault()},et.onDropdownIndicatorMouseDown=function(w){if(!(w&&"mousedown"===w.type&&0!==w.button||et.props.isDisabled)){var Ne=et.props,tt=Ne.isMulti,nt=Ne.menuIsOpen;et.focusInput(),nt?(et.inputIsHiddenAfterUpdate=!tt,et.onMenuClose()):et.openMenu("first"),w.preventDefault(),w.stopPropagation()}},et.onClearIndicatorMouseDown=function(w){w&&"mousedown"===w.type&&0!==w.button||(et.clearValue(),w.stopPropagation(),et.openAfterFocus=!1,"touchend"===w.type?et.focusInput():setTimeout((function(){return et.focusInput()})))},et.onScroll=function(w){"boolean"==typeof et.props.closeMenuOnScroll?w.target instanceof HTMLElement&&isDocumentElement(w.target)&&et.props.onMenuClose():"function"==typeof et.props.closeMenuOnScroll&&et.props.closeMenuOnScroll(w)&&et.props.onMenuClose()},et.onCompositionStart=function(){et.isComposing=!0},et.onCompositionEnd=function(){et.isComposing=!1},et.onTouchStart=function(w){var Ne=w.touches.item(0);Ne&&(et.initialTouchX=Ne.clientX,et.initialTouchY=Ne.clientY,et.userIsDragging=!1)},et.onTouchMove=function(w){var Ne=w.touches.item(0);if(Ne){var tt=Math.abs(Ne.clientX-et.initialTouchX),nt=Math.abs(Ne.clientY-et.initialTouchY);et.userIsDragging=tt>5||nt>5}},et.onTouchEnd=function(w){et.userIsDragging||(et.controlRef&&!et.controlRef.contains(w.target)&&et.menuListRef&&!et.menuListRef.contains(w.target)&&et.blurInput(),et.initialTouchX=0,et.initialTouchY=0)},et.onControlTouchEnd=function(w){et.userIsDragging||et.onControlMouseDown(w)},et.onClearIndicatorTouchEnd=function(w){et.userIsDragging||et.onClearIndicatorMouseDown(w)},et.onDropdownIndicatorTouchEnd=function(w){et.userIsDragging||et.onDropdownIndicatorMouseDown(w)},et.handleInputChange=function(w){var Ne=w.currentTarget.value;et.inputIsHiddenAfterUpdate=!1,et.onInputChange(Ne,{action:"input-change"}),et.onMenuOpen()},et.onInputFocus=function(w){var Ne=et.props,tt=Ne.isSearchable,nt=Ne.isMulti;et.props.onFocus&&et.props.onFocus(w),et.inputIsHiddenAfterUpdate=!1,et.announceAriaLiveContext({event:"input",context:{isSearchable:tt,isMulti:nt}}),et.setState({isFocused:!0}),(et.openAfterFocus||et.props.openMenuOnFocus)&&et.openMenu("first"),et.openAfterFocus=!1},et.onInputBlur=function(w){et.menuListRef&&et.menuListRef.contains(document.activeElement)?et.inputRef.focus():(et.props.onBlur&&et.props.onBlur(w),et.onInputChange("",{action:"input-blur"}),et.onMenuClose(),et.setState({focusedValue:null,isFocused:!1}))},et.onOptionHover=function(w){et.blockOptionHover||et.state.focusedOption===w||et.setState({focusedOption:w})},et.shouldHideSelectedOptions=function(){var w=et.props,Ne=w.hideSelectedOptions,tt=w.isMulti;return void 0===Ne?tt:Ne},et.onKeyDown=function(w){var Ne=et.props,tt=Ne.isMulti,nt=Ne.backspaceRemovesValue,rt=Ne.escapeClearsValue,it=Ne.inputValue,ot=Ne.isClearable,at=Ne.isDisabled,st=Ne.menuIsOpen,ct=Ne.onKeyDown,pt=Ne.tabSelectsValue,ft=Ne.openMenuOnFocus,dt=et.state,mt=dt.focusedOption,yt=dt.focusedValue,vt=dt.selectValue;if(!(at||"function"==typeof ct&&(ct(w),w.defaultPrevented))){switch(et.blockOptionHover=!0,w.key){case"ArrowLeft":if(!tt||it)return;et.focusValue("previous");break;case"ArrowRight":if(!tt||it)return;et.focusValue("next");break;case"Delete":case"Backspace":if(it)return;if(yt)et.removeValue(yt);else{if(!nt)return;tt?et.popValue():ot&&et.clearValue()}break;case"Tab":if(et.isComposing)return;if(w.shiftKey||!st||!pt||!mt||ft&&et.isOptionSelected(mt,vt))return;et.selectOption(mt);break;case"Enter":if(229===w.keyCode)break;if(st){if(!mt)return;if(et.isComposing)return;et.selectOption(mt);break}return;case"Escape":st?(et.inputIsHiddenAfterUpdate=!1,et.onInputChange("",{action:"menu-close"}),et.onMenuClose()):ot&&rt&&et.clearValue();break;case" ":if(it)return;if(!st){et.openMenu("first");break}if(!mt)return;et.selectOption(mt);break;case"ArrowUp":st?et.focusOption("up"):et.openMenu("last");break;case"ArrowDown":st?et.focusOption("down"):et.openMenu("first");break;case"PageUp":if(!st)return;et.focusOption("pageup");break;case"PageDown":if(!st)return;et.focusOption("pagedown");break;case"Home":if(!st)return;et.focusOption("first");break;case"End":if(!st)return;et.focusOption("last");break;default:return}w.preventDefault()}},et.buildMenuOptions=function(w,Ne){var tt=w.inputValue,nt=void 0===tt?"":tt,rt=w.options,it=function toOption(w,tt){var rt=et.isOptionDisabled(w,Ne),it=et.isOptionSelected(w,Ne),ot=et.getOptionLabel(w),at=et.getOptionValue(w);if(!(et.shouldHideSelectedOptions()&&it||!et.filterOption({label:ot,value:at,data:w},nt))){var st=rt?void 0:function(){return et.onOptionHover(w)},ct=rt?void 0:function(){return et.selectOption(w)},pt=et.getElementId("option")+"-"+tt;return{innerProps:{id:pt,onClick:ct,onMouseMove:st,onMouseOver:st,tabIndex:-1},data:w,isDisabled:rt,isSelected:it,key:pt,label:ot,type:"option",value:at}}};return rt.reduce((function(w,Ne,tt){if(Ne.options){et.hasGroups||(et.hasGroups=!0);var nt=Ne.options.map((function(Ne,et){var nt=it(Ne,tt+"-"+et);return nt&&w.focusable.push(Ne),nt})).filter(Boolean);if(nt.length){var rt=et.getElementId("group")+"-"+tt;w.render.push({type:"group",key:rt,data:Ne,options:nt})}}else{var ot=it(Ne,""+tt);ot&&(w.render.push(ot),w.focusable.push(Ne))}return w}),{render:[],focusable:[]})};var tt=Ne.value;et.cacheComponents=ga(et.cacheComponents,exportedEqual).bind(_assertThisInitialized(_assertThisInitialized(et))),et.cacheComponents(Ne.components),et.instancePrefix="react-select-"+(et.props.instanceId||++sp);var nt=ol(tt);et.buildMenuOptions=ga(et.buildMenuOptions,(function(w,Ne){var et=w,tt=et[0],nt=et[1],rt=Ne,it=rt[0];return exportedEqual(nt,rt[1])&&exportedEqual(tt.inputValue,it.inputValue)&&exportedEqual(tt.options,it.options)})).bind(_assertThisInitialized(_assertThisInitialized(et)));var rt=Ne.menuIsOpen?et.buildMenuOptions(Ne,nt):{render:[],focusable:[]};return et.state.menuOptions=rt,et.state.selectValue=nt,et}!function _inheritsLoose$4(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}(Select,w);var Ne=Select.prototype;return Ne.componentDidMount=function componentDidMount(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()},Ne.UNSAFE_componentWillReceiveProps=function UNSAFE_componentWillReceiveProps(w){var Ne=this.props,et=Ne.options,tt=Ne.value,nt=Ne.menuIsOpen,rt=Ne.inputValue;if(this.cacheComponents(w.components),w.value!==tt||w.options!==et||w.menuIsOpen!==nt||w.inputValue!==rt){var it=ol(w.value),ot=w.menuIsOpen?this.buildMenuOptions(w,it):{render:[],focusable:[]},at=this.getNextFocusedValue(it),st=this.getNextFocusedOption(ot.focusable);this.setState({menuOptions:ot,selectValue:it,focusedOption:st,focusedValue:at})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)},Ne.componentDidUpdate=function componentDidUpdate(w){var Ne=this.props,et=Ne.isDisabled,tt=Ne.menuIsOpen,nt=this.state.isFocused;(nt&&!et&&w.isDisabled||nt&&tt&&!w.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function scrollIntoView(w,Ne){var et=w.getBoundingClientRect(),tt=Ne.getBoundingClientRect(),nt=Ne.offsetHeight/3;tt.bottom+nt>et.bottom?scrollTo(w,Math.min(Ne.offsetTop+Ne.clientHeight-w.offsetHeight+nt,w.scrollHeight)):tt.top-nt<et.top&&scrollTo(w,Math.max(Ne.offsetTop-nt,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)},Ne.componentWillUnmount=function componentWillUnmount(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)},Ne.onMenuOpen=function onMenuOpen(){this.props.onMenuOpen()},Ne.onMenuClose=function onMenuClose(){var w=this.props,Ne=w.isSearchable,et=w.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:Ne,isMulti:et}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()},Ne.onInputChange=function onInputChange(w,Ne){this.props.onInputChange(w,Ne)},Ne.focusInput=function focusInput(){this.inputRef&&this.inputRef.focus()},Ne.blurInput=function blurInput(){this.inputRef&&this.inputRef.blur()},Ne.openMenu=function openMenu(w){var Ne=this,et=this.state,tt=et.selectValue,nt=et.isFocused,rt=this.buildMenuOptions(this.props,tt),it=this.props.isMulti,ot="first"===w?0:rt.focusable.length-1;if(!it){var at=rt.focusable.indexOf(tt[0]);at>-1&&(ot=at)}this.scrollToFocusedOptionOnUpdate=!(nt&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:rt,focusedValue:null,focusedOption:rt.focusable[ot]},(function(){Ne.onMenuOpen(),Ne.announceAriaLiveContext({event:"menu"})}))},Ne.focusValue=function focusValue(w){var Ne=this.props,et=Ne.isMulti,tt=Ne.isSearchable,nt=this.state,rt=nt.selectValue,it=nt.focusedValue;if(et){this.setState({focusedOption:null});var ot=rt.indexOf(it);it||(ot=-1,this.announceAriaLiveContext({event:"value"}));var at=rt.length-1,st=-1;if(rt.length){switch(w){case"previous":st=0===ot?0:-1===ot?at:ot-1;break;case"next":ot>-1&&ot<at&&(st=ot+1)}-1===st&&this.announceAriaLiveContext({event:"input",context:{isSearchable:tt,isMulti:et}}),this.setState({inputIsHidden:-1!==st,focusedValue:rt[st]})}}},Ne.focusOption=function focusOption(w){void 0===w&&(w="first");var Ne=this.props.pageSize,et=this.state,tt=et.focusedOption,nt=et.menuOptions.focusable;if(nt.length){var rt=0,it=nt.indexOf(tt);tt||(it=-1,this.announceAriaLiveContext({event:"menu"})),"up"===w?rt=it>0?it-1:nt.length-1:"down"===w?rt=(it+1)%nt.length:"pageup"===w?(rt=it-Ne)<0&&(rt=0):"pagedown"===w?(rt=it+Ne)>nt.length-1&&(rt=nt.length-1):"last"===w&&(rt=nt.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:nt[rt],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:rp(nt[rt])}})}},Ne.getTheme=function getTheme(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(op):Select_9fdb8cd0_browser_esm_extends$4({},op,this.props.theme):op},Ne.getCommonProps=function getCommonProps(){var w=this.clearValue,Ne=this.getStyles,et=this.setValue,tt=this.selectOption,nt=this.props,rt=nt.classNamePrefix,it=nt.isMulti,ot=nt.isRtl,at=nt.options,st=this.state.selectValue,ct=this.hasValue();return{cx:classNames.bind(null,rt),clearValue:w,getStyles:Ne,getValue:function getValue(){return st},hasValue:ct,isMulti:it,isRtl:ot,options:at,selectOption:tt,setValue:et,selectProps:nt,theme:this.getTheme()}},Ne.getNextFocusedValue=function getNextFocusedValue(w){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var Ne=this.state,et=Ne.focusedValue,tt=Ne.selectValue.indexOf(et);if(tt>-1){if(w.indexOf(et)>-1)return et;if(tt<w.length)return w[tt]}return null},Ne.getNextFocusedOption=function getNextFocusedOption(w){var Ne=this.state.focusedOption;return Ne&&w.indexOf(Ne)>-1?Ne:w[0]},Ne.hasValue=function hasValue(){return this.state.selectValue.length>0},Ne.hasOptions=function hasOptions(){return!!this.state.menuOptions.render.length},Ne.countOptions=function countOptions(){return this.state.menuOptions.focusable.length},Ne.isClearable=function isClearable(){var w=this.props,isClearable=w.isClearable,Ne=w.isMulti;return void 0===isClearable?Ne:isClearable},Ne.isOptionDisabled=function isOptionDisabled(w,Ne){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(w,Ne)},Ne.isOptionSelected=function isOptionSelected(w,Ne){var et=this;if(Ne.indexOf(w)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(w,Ne);var tt=this.getOptionValue(w);return Ne.some((function(w){return et.getOptionValue(w)===tt}))},Ne.filterOption=function filterOption(w,Ne){return!this.props.filterOption||this.props.filterOption(w,Ne)},Ne.formatOptionLabel=function formatOptionLabel(w,Ne){if("function"==typeof this.props.formatOptionLabel){var et=this.props.inputValue,tt=this.state.selectValue;return this.props.formatOptionLabel(w,{context:Ne,inputValue:et,selectValue:tt})}return this.getOptionLabel(w)},Ne.formatGroupLabel=function formatGroupLabel(w){return this.props.formatGroupLabel(w)},Ne.startListeningComposition=function startListeningComposition(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))},Ne.stopListeningComposition=function stopListeningComposition(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))},Ne.startListeningToTouch=function startListeningToTouch(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))},Ne.stopListeningToTouch=function stopListeningToTouch(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))},Ne.constructAriaLiveMessage=function constructAriaLiveMessage(){var w=this.state,Ne=w.ariaLiveContext,et=w.selectValue,tt=w.focusedValue,nt=w.focusedOption,rt=this.props,it=rt.options,ot=rt.menuIsOpen,at=rt.inputValue,st=rt.screenReaderStatus;return(tt?function valueFocusAriaMessage(w){var Ne=w.focusedValue,et=w.getOptionLabel,tt=w.selectValue;return"value "+et(Ne)+" focused, "+(tt.indexOf(Ne)+1)+" of "+tt.length+"."}({focusedValue:tt,getOptionLabel:this.getOptionLabel,selectValue:et}):"")+" "+(nt&&ot?function optionFocusAriaMessage(w){var Ne=w.focusedOption,et=w.getOptionLabel,tt=w.options;return"option "+et(Ne)+" focused"+(Ne.isDisabled?" disabled":"")+", "+(tt.indexOf(Ne)+1)+" of "+tt.length+"."}({focusedOption:nt,getOptionLabel:this.getOptionLabel,options:it}):"")+" "+function resultsAriaMessage(w){var Ne=w.inputValue;return w.screenReaderMessage+(Ne?" for search term "+Ne:"")+"."}({inputValue:at,screenReaderMessage:st({count:this.countOptions()})})+" "+Ne},Ne.renderInput=function renderInput(){var w=this.props,Ne=w.isDisabled,et=w.isSearchable,tt=w.inputId,rt=w.inputValue,it=w.tabIndex,ot=this.components.Input,at=this.state.inputIsHidden,st=tt||this.getElementId("input"),ct={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!et)return nt.a.createElement(DummyInput,Select_9fdb8cd0_browser_esm_extends$4({id:st,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:tl,onFocus:this.onInputFocus,readOnly:!0,disabled:Ne,tabIndex:it,value:""},ct));var pt=this.commonProps,ft=pt.cx,dt=pt.theme,mt=pt.selectProps;return nt.a.createElement(ot,Select_9fdb8cd0_browser_esm_extends$4({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:ft,getStyles:this.getStyles,id:st,innerRef:this.getInputRef,isDisabled:Ne,isHidden:at,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:mt,spellCheck:"false",tabIndex:it,theme:dt,type:"text",value:rt},ct))},Ne.renderPlaceholderOrValue=function renderPlaceholderOrValue(){var w=this,Ne=this.components,et=Ne.MultiValue,tt=Ne.MultiValueContainer,rt=Ne.MultiValueLabel,it=Ne.MultiValueRemove,ot=Ne.SingleValue,at=Ne.Placeholder,st=this.commonProps,ct=this.props,pt=ct.controlShouldRenderValue,ft=ct.isDisabled,dt=ct.isMulti,mt=ct.inputValue,yt=ct.placeholder,vt=this.state,Ot=vt.selectValue,Dt=vt.focusedValue,Rt=vt.isFocused;if(!this.hasValue()||!pt)return mt?null:nt.a.createElement(at,Select_9fdb8cd0_browser_esm_extends$4({},st,{key:"placeholder",isDisabled:ft,isFocused:Rt}),yt);if(dt)return Ot.map((function(Ne,ot){var at=Ne===Dt;return nt.a.createElement(et,Select_9fdb8cd0_browser_esm_extends$4({},st,{components:{Container:tt,Label:rt,Remove:it},isFocused:at,isDisabled:ft,key:w.getOptionValue(Ne),index:ot,removeProps:{onClick:function onClick(){return w.removeValue(Ne)},onTouchEnd:function onTouchEnd(){return w.removeValue(Ne)},onMouseDown:function onMouseDown(w){w.preventDefault(),w.stopPropagation()}},data:Ne}),w.formatOptionLabel(Ne,"value"))}));if(mt)return null;var Bt=Ot[0];return nt.a.createElement(ot,Select_9fdb8cd0_browser_esm_extends$4({},st,{data:Bt,isDisabled:ft}),this.formatOptionLabel(Bt,"value"))},Ne.renderClearIndicator=function renderClearIndicator(){var w=this.components.ClearIndicator,Ne=this.commonProps,et=this.props,tt=et.isDisabled,rt=et.isLoading,it=this.state.isFocused;if(!this.isClearable()||!w||tt||!this.hasValue()||rt)return null;var ot={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return nt.a.createElement(w,Select_9fdb8cd0_browser_esm_extends$4({},Ne,{innerProps:ot,isFocused:it}))},Ne.renderLoadingIndicator=function renderLoadingIndicator(){var w=this.components.LoadingIndicator,Ne=this.commonProps,et=this.props,tt=et.isDisabled,rt=et.isLoading,it=this.state.isFocused;if(!w||!rt)return null;return nt.a.createElement(w,Select_9fdb8cd0_browser_esm_extends$4({},Ne,{innerProps:{"aria-hidden":"true"},isDisabled:tt,isFocused:it}))},Ne.renderIndicatorSeparator=function renderIndicatorSeparator(){var w=this.components,Ne=w.DropdownIndicator,et=w.IndicatorSeparator;if(!Ne||!et)return null;var tt=this.commonProps,rt=this.props.isDisabled,it=this.state.isFocused;return nt.a.createElement(et,Select_9fdb8cd0_browser_esm_extends$4({},tt,{isDisabled:rt,isFocused:it}))},Ne.renderDropdownIndicator=function renderDropdownIndicator(){var w=this.components.DropdownIndicator;if(!w)return null;var Ne=this.commonProps,et=this.props.isDisabled,tt=this.state.isFocused,rt={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return nt.a.createElement(w,Select_9fdb8cd0_browser_esm_extends$4({},Ne,{innerProps:rt,isDisabled:et,isFocused:tt}))},Ne.renderMenu=function renderMenu(){var w=this,Ne=this.components,et=Ne.Group,tt=Ne.GroupHeading,rt=Ne.Menu,it=Ne.MenuList,ot=Ne.MenuPortal,at=Ne.LoadingMessage,st=Ne.NoOptionsMessage,ct=Ne.Option,pt=this.commonProps,ft=this.state,dt=ft.focusedOption,mt=ft.menuOptions,yt=this.props,vt=yt.captureMenuScroll,Ot=yt.inputValue,Dt=yt.isLoading,Rt=yt.loadingMessage,Bt=yt.minMenuHeight,rn=yt.maxMenuHeight,vn=yt.menuIsOpen,bn=yt.menuPlacement,Cn=yt.menuPosition,Tn=yt.menuPortalTarget,In=yt.menuShouldBlockScroll,Mn=yt.menuShouldScrollIntoView,zn=yt.noOptionsMessage,Ln=yt.onMenuScrollToTop,Fn=yt.onMenuScrollToBottom;if(!vn)return null;var Bn,Nn=function render(Ne){var et=dt===Ne.data;return Ne.innerRef=et?w.getFocusedOptionRef:void 0,nt.a.createElement(ct,Select_9fdb8cd0_browser_esm_extends$4({},pt,Ne,{isFocused:et}),w.formatOptionLabel(Ne.data,"menu"))};if(this.hasOptions())Bn=mt.render.map((function(Ne){if("group"===Ne.type){Ne.type;var rt=function Select_9fdb8cd0_browser_esm_objectWithoutPropertiesLoose$2(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}(Ne,["type"]),it=Ne.key+"-heading";return nt.a.createElement(et,Select_9fdb8cd0_browser_esm_extends$4({},pt,rt,{Heading:tt,headingProps:{id:it},label:w.formatGroupLabel(Ne.data)}),Ne.options.map((function(w){return Nn(w)})))}if("option"===Ne.type)return Nn(Ne)}));else if(Dt){var Vn=Rt({inputValue:Ot});if(null===Vn)return null;Bn=nt.a.createElement(at,pt,Vn)}else{var Wn=zn({inputValue:Ot});if(null===Wn)return null;Bn=nt.a.createElement(st,pt,Wn)}var $n={minMenuHeight:Bt,maxMenuHeight:rn,menuPlacement:bn,menuPosition:Cn,menuShouldScrollIntoView:Mn},Yn=nt.a.createElement(gl,Select_9fdb8cd0_browser_esm_extends$4({},pt,$n),(function(Ne){var et=Ne.ref,tt=Ne.placerProps,ot=tt.placement,at=tt.maxHeight;return nt.a.createElement(rt,Select_9fdb8cd0_browser_esm_extends$4({},pt,$n,{innerRef:et,innerProps:{onMouseDown:w.onMenuMouseDown,onMouseMove:w.onMenuMouseMove},isLoading:Dt,placement:ot}),nt.a.createElement(ScrollCaptorSwitch,{isEnabled:vt,onTopArrive:Ln,onBottomArrive:Fn},nt.a.createElement(Zc,{isEnabled:In},nt.a.createElement(it,Select_9fdb8cd0_browser_esm_extends$4({},pt,{innerRef:w.getMenuListRef,isLoading:Dt,maxHeight:at}),Bn))))}));return Tn||"fixed"===Cn?nt.a.createElement(ot,Select_9fdb8cd0_browser_esm_extends$4({},pt,{appendTo:Tn,controlElement:this.controlRef,menuPlacement:bn,menuPosition:Cn}),Yn):Yn},Ne.renderFormField=function renderFormField(){var w=this,Ne=this.props,et=Ne.delimiter,tt=Ne.isDisabled,rt=Ne.isMulti,it=Ne.name,ot=this.state.selectValue;if(it&&!tt){if(rt){if(et){var at=ot.map((function(Ne){return w.getOptionValue(Ne)})).join(et);return nt.a.createElement("input",{name:it,type:"hidden",value:at})}var st=ot.length>0?ot.map((function(Ne,et){return nt.a.createElement("input",{key:"i-"+et,name:it,type:"hidden",value:w.getOptionValue(Ne)})})):nt.a.createElement("input",{name:it,type:"hidden"});return nt.a.createElement("div",null,st)}var ct=ot[0]?this.getOptionValue(ot[0]):"";return nt.a.createElement("input",{name:it,type:"hidden",value:ct})}},Ne.renderLiveRegion=function renderLiveRegion(){return this.state.isFocused?nt.a.createElement(Ac,{"aria-live":"polite"},nt.a.createElement("p",{id:"aria-selection-event"},"",this.state.ariaLiveSelection),nt.a.createElement("p",{id:"aria-context"},"",this.constructAriaLiveMessage())):null},Ne.render=function render(){var w=this.components,Ne=w.Control,et=w.IndicatorsContainer,tt=w.SelectContainer,rt=w.ValueContainer,it=this.props,ot=it.className,at=it.id,st=it.isDisabled,ct=it.menuIsOpen,pt=this.state.isFocused,ft=this.commonProps=this.getCommonProps();return nt.a.createElement(tt,Select_9fdb8cd0_browser_esm_extends$4({},ft,{className:ot,innerProps:{id:at,onKeyDown:this.onKeyDown},isDisabled:st,isFocused:pt}),this.renderLiveRegion(),nt.a.createElement(Ne,Select_9fdb8cd0_browser_esm_extends$4({},ft,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:st,isFocused:pt,menuIsOpen:ct}),nt.a.createElement(rt,Select_9fdb8cd0_browser_esm_extends$4({},ft,{isDisabled:st}),this.renderPlaceholderOrValue(),this.renderInput()),nt.a.createElement(et,Select_9fdb8cd0_browser_esm_extends$4({},ft,{isDisabled:st}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())},Select}(tt.Component);function stateManager_04f734a2_browser_esm_extends(){return(stateManager_04f734a2_browser_esm_extends=Object.assign||function(w){for(var Ne=1;Ne<arguments.length;Ne++){var et=arguments[Ne];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(w[tt]=et[tt])}return w}).apply(this,arguments)}lp.defaultProps=ap;var cp={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};tt.Component;var pp=function manageState(w){var Ne,et;return et=Ne=function(Ne){function StateManager(){for(var w,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(w=Ne.call.apply(Ne,[this].concat(tt))||this).select=void 0,w.state={inputValue:void 0!==w.props.inputValue?w.props.inputValue:w.props.defaultInputValue,menuIsOpen:void 0!==w.props.menuIsOpen?w.props.menuIsOpen:w.props.defaultMenuIsOpen,value:void 0!==w.props.value?w.props.value:w.props.defaultValue},w.onChange=function(Ne,et){w.callProp("onChange",Ne,et),w.setState({value:Ne})},w.onInputChange=function(Ne,et){var tt=w.callProp("onInputChange",Ne,et);w.setState({inputValue:void 0!==tt?tt:Ne})},w.onMenuOpen=function(){w.callProp("onMenuOpen"),w.setState({menuIsOpen:!0})},w.onMenuClose=function(){w.callProp("onMenuClose"),w.setState({menuIsOpen:!1})},w}!function stateManager_04f734a2_browser_esm_inheritsLoose(w,Ne){w.prototype=Object.create(Ne.prototype),w.prototype.constructor=w,w.__proto__=Ne}(StateManager,Ne);var et=StateManager.prototype;return et.focus=function focus(){this.select.focus()},et.blur=function blur(){this.select.blur()},et.getProp=function getProp(w){return void 0!==this.props[w]?this.props[w]:this.state[w]},et.callProp=function callProp(w){if("function"==typeof this.props[w]){for(var Ne,et=arguments.length,tt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];return(Ne=this.props)[w].apply(Ne,tt)}},et.render=function render(){var Ne=this,et=this.props,tt=(et.defaultInputValue,et.defaultMenuIsOpen,et.defaultValue,function stateManager_04f734a2_browser_esm_objectWithoutPropertiesLoose(w,Ne){if(null==w)return{};var et,tt,nt={},rt=Object.keys(w);for(tt=0;tt<rt.length;tt++)et=rt[tt],Ne.indexOf(et)>=0||(nt[et]=w[et]);return nt}(et,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return nt.a.createElement(w,stateManager_04f734a2_browser_esm_extends({},tt,{ref:function ref(w){Ne.select=w},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))},StateManager}(tt.Component),Ne.defaultProps=cp,et}(lp),hp=et(228),fp=et(39);var dp=function makeStyles_makeStyles(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(hp.a)(w,Object(ct.a)({defaultTheme:fp.a},Ne))},mp=et(229);function useTheme_useTheme(){return Object(mp.a)()||fp.a}var yp=tt.forwardRef((function FormGroup(w,Ne){var et=w.classes,nt=w.className,rt=w.row,it=void 0!==rt&&rt,ot=Object(So.a)(w,["classes","className","row"]);return tt.createElement("div",Object(ct.a)({className:Object(ta.a)(et.root,nt,it&&et.row),ref:Ne},ot))})),gp=Object(po.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(yp),vp=tt.createContext();var _p=vp;function useFormControl_useFormControl(){return tt.useContext(_p)}var bp={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},xp=tt.forwardRef((function Typography(w,Ne){var et=w.align,nt=void 0===et?"inherit":et,rt=w.classes,it=w.className,ot=w.color,at=void 0===ot?"initial":ot,st=w.component,pt=w.display,ft=void 0===pt?"initial":pt,dt=w.gutterBottom,mt=void 0!==dt&&dt,yt=w.noWrap,vt=void 0!==yt&&yt,Ot=w.paragraph,Dt=void 0!==Ot&&Ot,Rt=w.variant,Bt=void 0===Rt?"body1":Rt,rn=w.variantMapping,vn=void 0===rn?bp:rn,bn=Object(So.a)(w,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Cn=st||(Dt?"p":vn[Bt]||bp[Bt])||"span";return tt.createElement(Cn,Object(ct.a)({className:Object(ta.a)(rt.root,it,"inherit"!==Bt&&rt[Bt],"initial"!==at&&rt["color".concat(Object(na.a)(at))],vt&&rt.noWrap,mt&&rt.gutterBottom,Dt&&rt.paragraph,"inherit"!==nt&&rt["align".concat(Object(na.a)(nt))],"initial"!==ft&&rt["display".concat(Object(na.a)(ft))]),ref:Ne},bn))})),wp=Object(po.a)((function styles(w){return{root:{margin:0},body2:w.typography.body2,body1:w.typography.body1,caption:w.typography.caption,button:w.typography.button,h1:w.typography.h1,h2:w.typography.h2,h3:w.typography.h3,h4:w.typography.h4,h5:w.typography.h5,h6:w.typography.h6,subtitle1:w.typography.subtitle1,subtitle2:w.typography.subtitle2,overline:w.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:w.palette.primary.main},colorSecondary:{color:w.palette.secondary.main},colorTextPrimary:{color:w.palette.text.primary},colorTextSecondary:{color:w.palette.text.secondary},colorError:{color:w.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(xp),Sp=tt.forwardRef((function FormControlLabel(w,Ne){w.checked;var et=w.classes,nt=w.className,rt=w.control,it=w.disabled,ot=(w.inputRef,w.label),at=w.labelPlacement,st=void 0===at?"end":at,pt=(w.name,w.onChange,w.value,Object(So.a)(w,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),ft=useFormControl_useFormControl(),dt=it;void 0===dt&&void 0!==rt.props.disabled&&(dt=rt.props.disabled),void 0===dt&&ft&&(dt=ft.disabled);var mt={disabled:dt};return["checked","name","onChange","value","inputRef"].forEach((function(Ne){void 0===rt.props[Ne]&&void 0!==w[Ne]&&(mt[Ne]=w[Ne])})),tt.createElement("label",Object(ct.a)({className:Object(ta.a)(et.root,nt,"end"!==st&&et["labelPlacement".concat(Object(na.a)(st))],dt&&et.disabled),ref:Ne},pt),tt.cloneElement(rt,mt),tt.createElement(wp,{component:"span",className:Object(ta.a)(et.label,dt&&et.disabled)},ot))})),Ep=Object(po.a)((function styles(w){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:w.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(Sp),kp=et(27);function useControlled(w){var Ne=w.controlled,et=w.default,nt=(w.name,w.state,tt.useRef(void 0!==Ne).current),rt=tt.useState(et),it=rt[0],ot=rt[1];return[nt?Ne:it,tt.useCallback((function(w){nt||ot(w)}),[])]}var Cp=et(21);function setRef(w,Ne){"function"==typeof w?w(Ne):w&&(w.current=Ne)}function useForkRef(w,Ne){return tt.useMemo((function(){return null==w&&null==Ne?null:function(et){setRef(w,et),setRef(Ne,et)}}),[w,Ne])}var Tp="undefined"!=typeof window?tt.useLayoutEffect:tt.useEffect;function useEventCallback(w){var Ne=tt.useRef(w);return Tp((function(){Ne.current=w})),tt.useCallback((function(){return Ne.current.apply(void 0,arguments)}),[])}var Pp=!0,Ip=!1,Ap=null,Mp={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function useIsFocusVisible_handleKeyDown(w){w.metaKey||w.altKey||w.ctrlKey||(Pp=!0)}function handlePointerDown(){Pp=!1}function handleVisibilityChange(){"hidden"===this.visibilityState&&Ip&&(Pp=!0)}function useIsFocusVisible_isFocusVisible(w){var Ne=w.target;try{return Ne.matches(":focus-visible")}catch(w){}return Pp||function focusTriggersKeyboardModality(w){var Ne=w.type,et=w.tagName;return!("INPUT"!==et||!Mp[Ne]||w.readOnly)||("TEXTAREA"===et&&!w.readOnly||!!w.isContentEditable)}(Ne)}function handleBlurVisible(){Ip=!0,window.clearTimeout(Ap),Ap=window.setTimeout((function(){Ip=!1}),100)}function useIsFocusVisible(){return{isFocusVisible:useIsFocusVisible_isFocusVisible,onBlurVisible:handleBlurVisible,ref:tt.useCallback((function(w){var Ne=rt.findDOMNode(w);null!=Ne&&function prepare(w){w.addEventListener("keydown",useIsFocusVisible_handleKeyDown,!0),w.addEventListener("mousedown",handlePointerDown,!0),w.addEventListener("pointerdown",handlePointerDown,!0),w.addEventListener("touchstart",handlePointerDown,!0),w.addEventListener("visibilitychange",handleVisibilityChange,!0)}(Ne.ownerDocument)}),[])}}var Op=et(28),zp=et(61),Lp=nt.a.createContext(null);function getChildMapping(w,Ne){var et=Object.create(null);return w&&tt.Children.map(w,(function(w){return w})).forEach((function(w){et[w.key]=function mapper(w){return Ne&&Object(tt.isValidElement)(w)?Ne(w):w}(w)})),et}function getProp(w,Ne,et){return null!=et[Ne]?et[Ne]:w.props[Ne]}function getNextChildMapping(w,Ne,et){var nt=getChildMapping(w.children),rt=function mergeChildMappings(w,Ne){function getValueForKey(et){return et in Ne?Ne[et]:w[et]}w=w||{},Ne=Ne||{};var et,tt=Object.create(null),nt=[];for(var rt in w)rt in Ne?nt.length&&(tt[rt]=nt,nt=[]):nt.push(rt);var it={};for(var ot in Ne){if(tt[ot])for(et=0;et<tt[ot].length;et++){var at=tt[ot][et];it[tt[ot][et]]=getValueForKey(at)}it[ot]=getValueForKey(ot)}for(et=0;et<nt.length;et++)it[nt[et]]=getValueForKey(nt[et]);return it}(Ne,nt);return Object.keys(rt).forEach((function(it){var ot=rt[it];if(Object(tt.isValidElement)(ot)){var at=it in Ne,st=it in nt,ct=Ne[it],pt=Object(tt.isValidElement)(ct)&&!ct.props.in;!st||at&&!pt?st||!at||pt?st&&at&&Object(tt.isValidElement)(ct)&&(rt[it]=Object(tt.cloneElement)(ot,{onExited:et.bind(null,ot),in:ct.props.in,exit:getProp(ot,"exit",w),enter:getProp(ot,"enter",w)})):rt[it]=Object(tt.cloneElement)(ot,{in:!1}):rt[it]=Object(tt.cloneElement)(ot,{onExited:et.bind(null,ot),in:!0,exit:getProp(ot,"exit",w),enter:getProp(ot,"enter",w)})}})),rt}var Dp=Object.values||function(w){return Object.keys(w).map((function(Ne){return w[Ne]}))},Rp=function(w){function TransitionGroup(Ne,et){var tt,nt=(tt=w.call(this,Ne,et)||this).handleExited.bind(Object(zp.a)(tt));return tt.state={contextValue:{isMounting:!0},handleExited:nt,firstRender:!0},tt}Object(ot.a)(TransitionGroup,w);var Ne=TransitionGroup.prototype;return Ne.componentDidMount=function componentDidMount(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},Ne.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(w,Ne){var et,nt,rt=Ne.children,it=Ne.handleExited;return{children:Ne.firstRender?(et=w,nt=it,getChildMapping(et.children,(function(w){return Object(tt.cloneElement)(w,{onExited:nt.bind(null,w),in:!0,appear:getProp(w,"appear",et),enter:getProp(w,"enter",et),exit:getProp(w,"exit",et)})}))):getNextChildMapping(w,rt,it),firstRender:!1}},Ne.handleExited=function handleExited(w,Ne){var et=getChildMapping(this.props.children);w.key in et||(w.props.onExited&&w.props.onExited(Ne),this.mounted&&this.setState((function(Ne){var et=Object(ct.a)({},Ne.children);return delete et[w.key],{children:et}})))},Ne.render=function render(){var w=this.props,Ne=w.component,et=w.childFactory,tt=Object(Dt.a)(w,["component","childFactory"]),rt=this.state.contextValue,it=Dp(this.state.children).map(et);return delete tt.appear,delete tt.enter,delete tt.exit,null===Ne?nt.a.createElement(Lp.Provider,{value:rt},it):nt.a.createElement(Lp.Provider,{value:rt},nt.a.createElement(Ne,tt,it))},TransitionGroup}(nt.a.Component);Rp.propTypes={},Rp.defaultProps={component:"div",childFactory:function childFactory(w){return w}};var Fp=Rp,Bp="undefined"==typeof window?tt.useEffect:tt.useLayoutEffect;var jp=function Ripple(w){var Ne=w.classes,et=w.pulsate,nt=void 0!==et&&et,rt=w.rippleX,it=w.rippleY,ot=w.rippleSize,at=w.in,st=w.onExited,ct=void 0===st?function(){}:st,pt=w.timeout,ft=tt.useState(!1),dt=ft[0],mt=ft[1],yt=Object(ta.a)(Ne.ripple,Ne.rippleVisible,nt&&Ne.ripplePulsate),vt={width:ot,height:ot,top:-ot/2+it,left:-ot/2+rt},Ot=Object(ta.a)(Ne.child,dt&&Ne.childLeaving,nt&&Ne.childPulsate),Dt=useEventCallback(ct);return Bp((function(){if(!at){mt(!0);var w=setTimeout(Dt,pt);return function(){clearTimeout(w)}}}),[Dt,at,pt]),tt.createElement("span",{className:yt,style:vt},tt.createElement("span",{className:Ot}))},Np=tt.forwardRef((function TouchRipple(w,Ne){var et=w.center,nt=void 0!==et&&et,rt=w.classes,it=w.className,ot=Object(So.a)(w,["center","classes","className"]),at=tt.useState([]),st=at[0],pt=at[1],ft=tt.useRef(0),dt=tt.useRef(null);tt.useEffect((function(){dt.current&&(dt.current(),dt.current=null)}),[st]);var mt=tt.useRef(!1),yt=tt.useRef(null),vt=tt.useRef(null),Ot=tt.useRef(null);tt.useEffect((function(){return function(){clearTimeout(yt.current)}}),[]);var Dt=tt.useCallback((function(w){var Ne=w.pulsate,et=w.rippleX,nt=w.rippleY,it=w.rippleSize,ot=w.cb;pt((function(w){return[].concat(Object(Op.a)(w),[tt.createElement(jp,{key:ft.current,classes:rt,timeout:550,pulsate:Ne,rippleX:et,rippleY:nt,rippleSize:it})])})),ft.current+=1,dt.current=ot}),[rt]),Rt=tt.useCallback((function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=arguments.length>2?arguments[2]:void 0,tt=Ne.pulsate,rt=void 0!==tt&&tt,it=Ne.center,ot=void 0===it?nt||Ne.pulsate:it,at=Ne.fakeElement,st=void 0!==at&&at;if("mousedown"===w.type&&mt.current)mt.current=!1;else{"touchstart"===w.type&&(mt.current=!0);var ct,pt,ft,dt=st?null:Ot.current,Rt=dt?dt.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(ot||0===w.clientX&&0===w.clientY||!w.clientX&&!w.touches)ct=Math.round(Rt.width/2),pt=Math.round(Rt.height/2);else{var Bt=w.touches?w.touches[0]:w,rn=Bt.clientX,vn=Bt.clientY;ct=Math.round(rn-Rt.left),pt=Math.round(vn-Rt.top)}if(ot)(ft=Math.sqrt((2*Math.pow(Rt.width,2)+Math.pow(Rt.height,2))/3))%2==0&&(ft+=1);else{var bn=2*Math.max(Math.abs((dt?dt.clientWidth:0)-ct),ct)+2,Cn=2*Math.max(Math.abs((dt?dt.clientHeight:0)-pt),pt)+2;ft=Math.sqrt(Math.pow(bn,2)+Math.pow(Cn,2))}w.touches?null===vt.current&&(vt.current=function(){Dt({pulsate:rt,rippleX:ct,rippleY:pt,rippleSize:ft,cb:et})},yt.current=setTimeout((function(){vt.current&&(vt.current(),vt.current=null)}),80)):Dt({pulsate:rt,rippleX:ct,rippleY:pt,rippleSize:ft,cb:et})}}),[nt,Dt]),Bt=tt.useCallback((function(){Rt({},{pulsate:!0})}),[Rt]),rn=tt.useCallback((function(w,Ne){if(clearTimeout(yt.current),"touchend"===w.type&&vt.current)return w.persist(),vt.current(),vt.current=null,void(yt.current=setTimeout((function(){rn(w,Ne)})));vt.current=null,pt((function(w){return w.length>0?w.slice(1):w})),dt.current=Ne}),[]);return tt.useImperativeHandle(Ne,(function(){return{pulsate:Bt,start:Rt,stop:rn}}),[Bt,Rt,rn]),tt.createElement("span",Object(ct.a)({className:Object(ta.a)(rt.root,it),ref:Ot},ot),tt.createElement(Fp,{component:null,exit:!0},st))})),Vp=Object(po.a)((function styles(w){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(w.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(w.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(w.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(w.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(tt.memo(Np)),Up=tt.forwardRef((function ButtonBase(w,Ne){var et=w.action,nt=w.buttonRef,it=w.centerRipple,ot=void 0!==it&&it,at=w.children,st=w.classes,pt=w.className,ft=w.component,dt=void 0===ft?"button":ft,mt=w.disabled,yt=void 0!==mt&&mt,vt=w.disableRipple,Ot=void 0!==vt&&vt,Dt=w.disableTouchRipple,Rt=void 0!==Dt&&Dt,Bt=w.focusRipple,rn=void 0!==Bt&&Bt,vn=w.focusVisibleClassName,bn=w.onBlur,Cn=w.onClick,Tn=w.onFocus,In=w.onFocusVisible,Mn=w.onKeyDown,zn=w.onKeyUp,Ln=w.onMouseDown,Fn=w.onMouseLeave,Bn=w.onMouseUp,Nn=w.onTouchEnd,Vn=w.onTouchMove,Wn=w.onTouchStart,$n=w.onDragLeave,Yn=w.tabIndex,er=void 0===Yn?0:Yn,rr=w.TouchRippleProps,vr=w.type,wr=void 0===vr?"button":vr,Sr=Object(So.a)(w,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),ii=tt.useRef(null);var qi=tt.useRef(null),uo=tt.useState(!1),po=uo[0],vo=uo[1];yt&&po&&vo(!1);var na=useIsFocusVisible(),ia=na.isFocusVisible,sa=na.onBlurVisible,la=na.ref;function useRippleHandler(w,Ne){var et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rt;return useEventCallback((function(tt){return Ne&&Ne(tt),!et&&qi.current&&qi.current[w](tt),!0}))}tt.useImperativeHandle(et,(function(){return{focusVisible:function focusVisible(){vo(!0),ii.current.focus()}}}),[]),tt.useEffect((function(){po&&rn&&!Ot&&qi.current.pulsate()}),[Ot,rn,po]);var pa=useRippleHandler("start",Ln),fa=useRippleHandler("stop",$n),ga=useRippleHandler("stop",Bn),va=useRippleHandler("stop",(function(w){po&&w.preventDefault(),Fn&&Fn(w)})),_a=useRippleHandler("start",Wn),wa=useRippleHandler("stop",Nn),Aa=useRippleHandler("stop",Vn),os=useRippleHandler("stop",(function(w){po&&(sa(w),vo(!1)),bn&&bn(w)}),!1),as=useEventCallback((function(w){ii.current||(ii.current=w.currentTarget),ia(w)&&(vo(!0),In&&In(w)),Tn&&Tn(w)})),ss=function isNonNativeButton(){var w=function getButtonNode(){return rt.findDOMNode(ii.current)}();return dt&&"button"!==dt&&!("A"===w.tagName&&w.href)},ls=tt.useRef(!1),us=useEventCallback((function(w){rn&&!ls.current&&po&&qi.current&&" "===w.key&&(ls.current=!0,w.persist(),qi.current.stop(w,(function(){qi.current.start(w)}))),w.target===w.currentTarget&&ss()&&" "===w.key&&w.preventDefault(),Mn&&Mn(w),w.target===w.currentTarget&&ss()&&"Enter"===w.key&&!yt&&(w.preventDefault(),Cn&&Cn(w))})),fs=useEventCallback((function(w){rn&&" "===w.key&&qi.current&&po&&!w.defaultPrevented&&(ls.current=!1,w.persist(),qi.current.stop(w,(function(){qi.current.pulsate(w)}))),zn&&zn(w),Cn&&w.target===w.currentTarget&&ss()&&" "===w.key&&!w.defaultPrevented&&Cn(w)})),gs=dt;"button"===gs&&Sr.href&&(gs="a");var vs={};"button"===gs?(vs.type=wr,vs.disabled=yt):("a"===gs&&Sr.href||(vs.role="button"),vs["aria-disabled"]=yt);var xs=useForkRef(nt,Ne),Ss=useForkRef(la,ii),Es=useForkRef(xs,Ss),Cs=tt.useState(!1),Ps=Cs[0],As=Cs[1];tt.useEffect((function(){As(!0)}),[]);var Ms=Ps&&!Ot&&!yt;return tt.createElement(gs,Object(ct.a)({className:Object(ta.a)(st.root,pt,po&&[st.focusVisible,vn],yt&&st.disabled),onBlur:os,onClick:Cn,onFocus:as,onKeyDown:us,onKeyUp:fs,onMouseDown:pa,onMouseLeave:va,onMouseUp:ga,onDragLeave:fa,onTouchEnd:wa,onTouchMove:Aa,onTouchStart:_a,ref:Es,tabIndex:yt?-1:er},vs,Sr),at,Ms?tt.createElement(Vp,Object(ct.a)({ref:qi,center:ot},rr)):null)})),qp=Object(po.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Up),Wp=tt.forwardRef((function IconButton(w,Ne){var et=w.edge,nt=void 0!==et&&et,rt=w.children,it=w.classes,ot=w.className,at=w.color,st=void 0===at?"default":at,pt=w.disabled,ft=void 0!==pt&&pt,dt=w.disableFocusRipple,mt=void 0!==dt&&dt,yt=w.size,vt=void 0===yt?"medium":yt,Ot=Object(So.a)(w,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return tt.createElement(qp,Object(ct.a)({className:Object(ta.a)(it.root,ot,"default"!==st&&it["color".concat(Object(na.a)(st))],ft&&it.disabled,"small"===vt&&it["size".concat(Object(na.a)(vt))],{start:it.edgeStart,end:it.edgeEnd}[nt]),centerRipple:!0,focusRipple:!mt,disabled:ft,ref:Ne},Ot),tt.createElement("span",{className:it.label},rt))})),Hp=Object(po.a)((function styles(w){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:w.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:w.palette.action.active,transition:w.transitions.create("background-color",{duration:w.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(Cp.b)(w.palette.action.active,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:w.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:w.palette.primary.main,"&:hover":{backgroundColor:Object(Cp.b)(w.palette.primary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:w.palette.secondary.main,"&:hover":{backgroundColor:Object(Cp.b)(w.palette.secondary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:w.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(Wp),Gp=tt.forwardRef((function SwitchBase(w,Ne){var et=w.autoFocus,nt=w.checked,rt=w.checkedIcon,it=w.classes,ot=w.className,at=w.defaultChecked,st=w.disabled,pt=w.icon,ft=w.id,dt=w.inputProps,mt=w.inputRef,yt=w.name,vt=w.onBlur,Ot=w.onChange,Dt=w.onFocus,Rt=w.readOnly,Bt=w.required,rn=w.tabIndex,vn=w.type,bn=w.value,Cn=Object(So.a)(w,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),Tn=useControlled({controlled:nt,default:Boolean(at),name:"SwitchBase",state:"checked"}),In=Object(kp.a)(Tn,2),Mn=In[0],zn=In[1],Ln=useFormControl_useFormControl(),Fn=st;Ln&&void 0===Fn&&(Fn=Ln.disabled);var Bn="checkbox"===vn||"radio"===vn;return tt.createElement(Hp,Object(ct.a)({component:"span",className:Object(ta.a)(it.root,ot,Mn&&it.checked,Fn&&it.disabled),disabled:Fn,tabIndex:null,role:void 0,onFocus:function handleFocus(w){Dt&&Dt(w),Ln&&Ln.onFocus&&Ln.onFocus(w)},onBlur:function handleBlur(w){vt&&vt(w),Ln&&Ln.onBlur&&Ln.onBlur(w)},ref:Ne},Cn),tt.createElement("input",Object(ct.a)({autoFocus:et,checked:nt,defaultChecked:at,className:it.input,disabled:Fn,id:Bn&&ft,name:yt,onChange:function handleInputChange(w){var Ne=w.target.checked;zn(Ne),Ot&&Ot(w,Ne)},readOnly:Rt,ref:mt,required:Bt,tabIndex:rn,type:vn,value:bn},dt)),Mn?rt:pt)})),Zp=Object(po.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Gp),Xp=et(122);function createSvgIcon(w,Ne){var et=function Component(Ne,et){return nt.a.createElement(Xp.a,Object(ct.a)({ref:et},Ne),w)};return et.muiName=Xp.a.muiName,nt.a.memo(nt.a.forwardRef(et))}var $p=createSvgIcon(tt.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Kp=createSvgIcon(tt.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Yp=createSvgIcon(tt.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"})),Jp=tt.createElement(Kp,null),Qp=tt.createElement($p,null),rh=tt.createElement(Yp,null),ah=tt.forwardRef((function Checkbox(w,Ne){var et=w.checkedIcon,nt=void 0===et?Jp:et,rt=w.classes,it=w.color,ot=void 0===it?"secondary":it,at=w.icon,st=void 0===at?Qp:at,pt=w.indeterminate,ft=void 0!==pt&&pt,dt=w.indeterminateIcon,mt=void 0===dt?rh:dt,yt=w.inputProps,vt=w.size,Ot=void 0===vt?"medium":vt,Dt=Object(So.a)(w,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),Rt=ft?mt:st,Bt=ft?mt:nt;return tt.createElement(Zp,Object(ct.a)({type:"checkbox",classes:{root:Object(ta.a)(rt.root,rt["color".concat(Object(na.a)(ot))],ft&&rt.indeterminate),checked:rt.checked,disabled:rt.disabled},color:ot,inputProps:Object(ct.a)({"data-indeterminate":ft},yt),icon:tt.cloneElement(Rt,{fontSize:void 0===Rt.props.fontSize&&"small"===Ot?Ot:Rt.props.fontSize}),checkedIcon:tt.cloneElement(Bt,{fontSize:void 0===Bt.props.fontSize&&"small"===Ot?Ot:Bt.props.fontSize}),ref:Ne},Dt))})),sh=Object(po.a)((function styles(w){return{root:{color:w.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:w.palette.primary.main,"&:hover":{backgroundColor:Object(Cp.b)(w.palette.primary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:w.palette.action.disabled}},colorSecondary:{"&$checked":{color:w.palette.secondary.main,"&:hover":{backgroundColor:Object(Cp.b)(w.palette.secondary.main,w.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:w.palette.action.disabled}}}}),{name:"MuiCheckbox"})(ah),lh=et(125),ph=et.n(lh),mh=et(126),_h=et.n(mh),bh=et(225),kh=et(34),Ph=et(128);function ownerDocument(w){return w&&w.ownerDocument||document}function debounce(w){var Ne,et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function debounced(){for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];var it=this,ot=function later(){w.apply(it,nt)};clearTimeout(Ne),Ne=setTimeout(ot,et)}return debounced.clear=function(){clearTimeout(Ne)},debounced}function ownerWindow(w){return ownerDocument(w).defaultView||window}function createChainedFunction(){for(var w=arguments.length,Ne=new Array(w),et=0;et<w;et++)Ne[et]=arguments[et];return Ne.reduce((function(w,Ne){return null==Ne?w:function chainedFunction(){for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];w.apply(this,tt),Ne.apply(this,tt)}}),(function(){}))}var Oh=et(227);var jh="undefined"!=typeof window?tt.useLayoutEffect:tt.useEffect;var qh=tt.forwardRef((function Portal(w,Ne){var et=w.children,nt=w.container,it=w.disablePortal,ot=void 0!==it&&it,at=w.onRendered,st=tt.useState(null),ct=st[0],pt=st[1],ft=useForkRef(tt.isValidElement(et)?et.ref:null,Ne);return jh((function(){ot||pt(function getContainer(w){return w="function"==typeof w?w():w,rt.findDOMNode(w)}(nt)||document.body)}),[nt,ot]),jh((function(){if(ct&&!ot)return setRef(Ne,ct),function(){setRef(Ne,null)}}),[Ne,ct,ot]),jh((function(){at&&(ct||ot)&&at()}),[at,ct,ot]),ot?tt.isValidElement(et)?tt.cloneElement(et,{ref:ft}):et:ct?rt.createPortal(et,ct):ct})),Yh=et(71);var Qh=et(40);function getScrollbarSize(){var w=document.createElement("div");w.style.width="99px",w.style.height="99px",w.style.position="absolute",w.style.top="-9999px",w.style.overflow="scroll",document.body.appendChild(w);var Ne=w.offsetWidth-w.clientWidth;return document.body.removeChild(w),Ne}function ariaHidden(w,Ne){Ne?w.setAttribute("aria-hidden","true"):w.removeAttribute("aria-hidden")}function getPaddingRight(w){return parseInt(window.getComputedStyle(w)["padding-right"],10)||0}function ariaHiddenSiblings(w,Ne,et){var tt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],nt=arguments.length>4?arguments[4]:void 0,rt=[Ne,et].concat(Object(Op.a)(tt)),it=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(w.children,(function(w){1===w.nodeType&&-1===rt.indexOf(w)&&-1===it.indexOf(w.tagName)&&ariaHidden(w,nt)}))}function findIndexOf(w,Ne){var et=-1;return w.some((function(w,tt){return!!Ne(w)&&(et=tt,!0)})),et}function handleContainer(w,Ne){var et,tt=[],nt=[],rt=w.container;if(!Ne.disableScrollLock){if(function isOverflowing(w){var Ne=ownerDocument(w);return Ne.body===w?ownerWindow(Ne).innerWidth>Ne.documentElement.clientWidth:w.scrollHeight>w.clientHeight}(rt)){var it=getScrollbarSize();tt.push({value:rt.style.paddingRight,key:"padding-right",el:rt}),rt.style["padding-right"]="".concat(getPaddingRight(rt)+it,"px"),et=ownerDocument(rt).querySelectorAll(".mui-fixed"),[].forEach.call(et,(function(w){nt.push(w.style.paddingRight),w.style.paddingRight="".concat(getPaddingRight(w)+it,"px")}))}var ot=rt.parentElement,at="HTML"===ot.nodeName&&"scroll"===window.getComputedStyle(ot)["overflow-y"]?ot:rt;tt.push({value:at.style.overflow,key:"overflow",el:at}),at.style.overflow="hidden"}return function restore(){et&&[].forEach.call(et,(function(w,Ne){nt[Ne]?w.style.paddingRight=nt[Ne]:w.style.removeProperty("padding-right")})),tt.forEach((function(w){var Ne=w.value,et=w.el,tt=w.key;Ne?et.style.setProperty(tt,Ne):et.style.removeProperty(tt)}))}}var ef=function(){function ModalManager(){!function _classCallCheck(w,Ne){if(!(w instanceof Ne))throw new TypeError("Cannot call a class as a function")}(this,ModalManager),this.modals=[],this.containers=[]}return Object(Qh.a)(ModalManager,[{key:"add",value:function add(w,Ne){var et=this.modals.indexOf(w);if(-1!==et)return et;et=this.modals.length,this.modals.push(w),w.modalRef&&ariaHidden(w.modalRef,!1);var tt=function getHiddenSiblings(w){var Ne=[];return[].forEach.call(w.children,(function(w){w.getAttribute&&"true"===w.getAttribute("aria-hidden")&&Ne.push(w)})),Ne}(Ne);ariaHiddenSiblings(Ne,w.mountNode,w.modalRef,tt,!0);var nt=findIndexOf(this.containers,(function(w){return w.container===Ne}));return-1!==nt?(this.containers[nt].modals.push(w),et):(this.containers.push({modals:[w],container:Ne,restore:null,hiddenSiblingNodes:tt}),et)}},{key:"mount",value:function mount(w,Ne){var et=findIndexOf(this.containers,(function(Ne){return-1!==Ne.modals.indexOf(w)})),tt=this.containers[et];tt.restore||(tt.restore=handleContainer(tt,Ne))}},{key:"remove",value:function remove(w){var Ne=this.modals.indexOf(w);if(-1===Ne)return Ne;var et=findIndexOf(this.containers,(function(Ne){return-1!==Ne.modals.indexOf(w)})),tt=this.containers[et];if(tt.modals.splice(tt.modals.indexOf(w),1),this.modals.splice(Ne,1),0===tt.modals.length)tt.restore&&tt.restore(),w.modalRef&&ariaHidden(w.modalRef,!0),ariaHiddenSiblings(tt.container,w.mountNode,w.modalRef,tt.hiddenSiblingNodes,!1),this.containers.splice(et,1);else{var nt=tt.modals[tt.modals.length-1];nt.modalRef&&ariaHidden(nt.modalRef,!1)}return Ne}},{key:"isTopModal",value:function isTopModal(w){return this.modals.length>0&&this.modals[this.modals.length-1]===w}}]),ModalManager}();var tf=function Unstable_TrapFocus(w){var Ne=w.children,et=w.disableAutoFocus,nt=void 0!==et&&et,it=w.disableEnforceFocus,ot=void 0!==it&&it,at=w.disableRestoreFocus,st=void 0!==at&&at,ct=w.getDoc,pt=w.isEnabled,ft=w.open,dt=tt.useRef(),mt=tt.useRef(null),yt=tt.useRef(null),vt=tt.useRef(),Ot=tt.useRef(null),Dt=tt.useCallback((function(w){Ot.current=rt.findDOMNode(w)}),[]),Rt=useForkRef(Ne.ref,Dt),Bt=tt.useRef();return tt.useEffect((function(){Bt.current=ft}),[ft]),!Bt.current&&ft&&"undefined"!=typeof window&&(vt.current=ct().activeElement),tt.useEffect((function(){if(ft){var w=ownerDocument(Ot.current);nt||!Ot.current||Ot.current.contains(w.activeElement)||(Ot.current.hasAttribute("tabIndex")||Ot.current.setAttribute("tabIndex",-1),Ot.current.focus());var Ne=function contain(){w.hasFocus()&&!ot&&pt()&&!dt.current?Ot.current&&!Ot.current.contains(w.activeElement)&&Ot.current.focus():dt.current=!1},et=function loopFocus(Ne){!ot&&pt()&&9===Ne.keyCode&&w.activeElement===Ot.current&&(dt.current=!0,Ne.shiftKey?yt.current.focus():mt.current.focus())};w.addEventListener("focus",Ne,!0),w.addEventListener("keydown",et,!0);var tt=setInterval((function(){Ne()}),50);return function(){clearInterval(tt),w.removeEventListener("focus",Ne,!0),w.removeEventListener("keydown",et,!0),st||(vt.current&&vt.current.focus&&vt.current.focus(),vt.current=null)}}}),[nt,ot,st,pt,ft]),tt.createElement(tt.Fragment,null,tt.createElement("div",{tabIndex:0,ref:mt,"data-test":"sentinelStart"}),tt.cloneElement(Ne,{ref:Rt}),tt.createElement("div",{tabIndex:0,ref:yt,"data-test":"sentinelEnd"}))},nf={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},rf=tt.forwardRef((function SimpleBackdrop(w,Ne){var et=w.invisible,nt=void 0!==et&&et,rt=w.open,it=Object(So.a)(w,["invisible","open"]);return rt?tt.createElement("div",Object(ct.a)({"aria-hidden":!0,ref:Ne},it,{style:Object(ct.a)({},nf.root,nt?nf.invisible:{},it.style)})):null}));var af=new ef,sf=tt.forwardRef((function Modal(w,Ne){var et=Object(mp.a)(),nt=Object(Oh.a)({name:"MuiModal",props:Object(ct.a)({},w),theme:et}),it=nt.BackdropComponent,ot=void 0===it?rf:it,at=nt.BackdropProps,st=nt.children,pt=nt.closeAfterTransition,ft=void 0!==pt&&pt,dt=nt.container,mt=nt.disableAutoFocus,yt=void 0!==mt&&mt,vt=nt.disableBackdropClick,Ot=void 0!==vt&&vt,Dt=nt.disableEnforceFocus,Rt=void 0!==Dt&&Dt,Bt=nt.disableEscapeKeyDown,rn=void 0!==Bt&&Bt,vn=nt.disablePortal,bn=void 0!==vn&&vn,Cn=nt.disableRestoreFocus,Tn=void 0!==Cn&&Cn,In=nt.disableScrollLock,Mn=void 0!==In&&In,zn=nt.hideBackdrop,Ln=void 0!==zn&&zn,Fn=nt.keepMounted,Bn=void 0!==Fn&&Fn,Nn=nt.manager,Vn=void 0===Nn?af:Nn,Wn=nt.onBackdropClick,$n=nt.onClose,Yn=nt.onEscapeKeyDown,er=nt.onRendered,rr=nt.open,vr=Object(So.a)(nt,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),wr=tt.useState(!0),Sr=wr[0],ii=wr[1],qi=tt.useRef({}),uo=tt.useRef(null),po=tt.useRef(null),vo=useForkRef(po,Ne),ta=function getHasTransition(w){return!!w.children&&w.children.props.hasOwnProperty("in")}(nt),na=function getDoc(){return ownerDocument(uo.current)},ia=function getModal(){return qi.current.modalRef=po.current,qi.current.mountNode=uo.current,qi.current},sa=function handleMounted(){Vn.mount(ia(),{disableScrollLock:Mn}),po.current.scrollTop=0},la=useEventCallback((function(){var w=function Modal_getContainer(w){return w="function"==typeof w?w():w,rt.findDOMNode(w)}(dt)||na().body;Vn.add(ia(),w),po.current&&sa()})),pa=tt.useCallback((function(){return Vn.isTopModal(ia())}),[Vn]),fa=useEventCallback((function(w){uo.current=w,w&&(er&&er(),rr&&pa()?sa():ariaHidden(po.current,!0))})),ga=tt.useCallback((function(){Vn.remove(ia())}),[Vn]);if(tt.useEffect((function(){return function(){ga()}}),[ga]),tt.useEffect((function(){rr?la():ta&&ft||ga()}),[rr,ga,ta,ft,la]),!Bn&&!rr&&(!ta||Sr))return null;var va=function styles(w){return{root:{position:"fixed",zIndex:w.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(et||{zIndex:Yh.a}),_a={};return void 0===st.props.tabIndex&&(_a.tabIndex=st.props.tabIndex||"-1"),ta&&(_a.onEnter=createChainedFunction((function handleEnter(){ii(!1)}),st.props.onEnter),_a.onExited=createChainedFunction((function handleExited(){ii(!0),ft&&ga()}),st.props.onExited)),tt.createElement(qh,{ref:fa,container:dt,disablePortal:bn},tt.createElement("div",Object(ct.a)({ref:vo,onKeyDown:function handleKeyDown(w){"Escape"===w.key&&pa()&&(Yn&&Yn(w),rn||(w.stopPropagation(),$n&&$n(w,"escapeKeyDown")))},role:"presentation"},vr,{style:Object(ct.a)({},va.root,!rr&&Sr?va.hidden:{},vr.style)}),Ln?null:tt.createElement(ot,Object(ct.a)({open:rr,onClick:function handleBackdropClick(w){w.target===w.currentTarget&&(Wn&&Wn(w),!Ot&&$n&&$n(w,"backdropClick"))}},at)),tt.createElement(tf,{disableEnforceFocus:Rt,disableAutoFocus:yt,disableRestoreFocus:Tn,getDoc:na,isEnabled:pa,open:rr},tt.cloneElement(st,_a))))})),lf=!1,uf=function(w){function Transition(Ne,et){var tt;tt=w.call(this,Ne,et)||this;var nt,rt=et&&!et.isMounting?Ne.enter:Ne.appear;return tt.appearStatus=null,Ne.in?rt?(nt="exited",tt.appearStatus="entering"):nt="entered":nt=Ne.unmountOnExit||Ne.mountOnEnter?"unmounted":"exited",tt.state={status:nt},tt.nextCallback=null,tt}Object(ot.a)(Transition,w),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(w,Ne){return w.in&&"unmounted"===Ne.status?{status:"exited"}:null};var Ne=Transition.prototype;return Ne.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},Ne.componentDidUpdate=function componentDidUpdate(w){var Ne=null;if(w!==this.props){var et=this.state.status;this.props.in?"entering"!==et&&"entered"!==et&&(Ne="entering"):"entering"!==et&&"entered"!==et||(Ne="exiting")}this.updateStatus(!1,Ne)},Ne.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},Ne.getTimeouts=function getTimeouts(){var w,Ne,et,tt=this.props.timeout;return w=Ne=et=tt,null!=tt&&"number"!=typeof tt&&(w=tt.exit,Ne=tt.enter,et=void 0!==tt.appear?tt.appear:Ne),{exit:w,enter:Ne,appear:et}},Ne.updateStatus=function updateStatus(w,Ne){void 0===w&&(w=!1),null!==Ne?(this.cancelNextCallback(),"entering"===Ne?this.performEnter(w):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},Ne.performEnter=function performEnter(w){var Ne=this,et=this.props.enter,tt=this.context?this.context.isMounting:w,nt=this.props.nodeRef?[tt]:[it.a.findDOMNode(this),tt],rt=nt[0],ot=nt[1],at=this.getTimeouts(),st=tt?at.appear:at.enter;!w&&!et||lf?this.safeSetState({status:"entered"},(function(){Ne.props.onEntered(rt)})):(this.props.onEnter(rt,ot),this.safeSetState({status:"entering"},(function(){Ne.props.onEntering(rt,ot),Ne.onTransitionEnd(st,(function(){Ne.safeSetState({status:"entered"},(function(){Ne.props.onEntered(rt,ot)}))}))})))},Ne.performExit=function performExit(){var w=this,Ne=this.props.exit,et=this.getTimeouts(),tt=this.props.nodeRef?void 0:it.a.findDOMNode(this);Ne&&!lf?(this.props.onExit(tt),this.safeSetState({status:"exiting"},(function(){w.props.onExiting(tt),w.onTransitionEnd(et.exit,(function(){w.safeSetState({status:"exited"},(function(){w.props.onExited(tt)}))}))}))):this.safeSetState({status:"exited"},(function(){w.props.onExited(tt)}))},Ne.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},Ne.safeSetState=function safeSetState(w,Ne){Ne=this.setNextCallback(Ne),this.setState(w,Ne)},Ne.setNextCallback=function setNextCallback(w){var Ne=this,et=!0;return this.nextCallback=function(tt){et&&(et=!1,Ne.nextCallback=null,w(tt))},this.nextCallback.cancel=function(){et=!1},this.nextCallback},Ne.onTransitionEnd=function onTransitionEnd(w,Ne){this.setNextCallback(Ne);var et=this.props.nodeRef?this.props.nodeRef.current:it.a.findDOMNode(this),tt=null==w&&!this.props.addEndListener;if(et&&!tt){if(this.props.addEndListener){var nt=this.props.nodeRef?[this.nextCallback]:[et,this.nextCallback],rt=nt[0],ot=nt[1];this.props.addEndListener(rt,ot)}null!=w&&setTimeout(this.nextCallback,w)}else setTimeout(this.nextCallback,0)},Ne.render=function render(){var w=this.state.status;if("unmounted"===w)return null;var Ne=this.props,et=Ne.children,tt=(Ne.in,Ne.mountOnEnter,Ne.unmountOnExit,Ne.appear,Ne.enter,Ne.exit,Ne.timeout,Ne.addEndListener,Ne.onEnter,Ne.onEntering,Ne.onEntered,Ne.onExit,Ne.onExiting,Ne.onExited,Ne.nodeRef,Object(Dt.a)(Ne,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return nt.a.createElement(Lp.Provider,{value:null},"function"==typeof et?et(w,tt):nt.a.cloneElement(nt.a.Children.only(et),tt))},Transition}(nt.a.Component);function Transition_noop(){}uf.contextType=Lp,uf.propTypes={},uf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Transition_noop,onEntering:Transition_noop,onEntered:Transition_noop,onExit:Transition_noop,onExiting:Transition_noop,onExited:Transition_noop},uf.UNMOUNTED="unmounted",uf.EXITED="exited",uf.ENTERING="entering",uf.ENTERED="entered",uf.EXITING="exiting";var cf=uf;function getTransitionProps(w,Ne){var et=w.timeout,tt=w.style,nt=void 0===tt?{}:tt;return{duration:nt.transitionDuration||"number"==typeof et?et:et[Ne.mode]||0,delay:nt.transitionDelay}}function getScale(w){return"scale(".concat(w,", ").concat(Math.pow(w,2),")")}var pf={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},hf=tt.forwardRef((function Grow(w,Ne){var et=w.children,nt=w.disableStrictModeCompat,rt=void 0!==nt&&nt,it=w.in,ot=w.onEnter,at=w.onEntered,st=w.onEntering,pt=w.onExit,ft=w.onExited,dt=w.onExiting,mt=w.style,yt=w.timeout,vt=void 0===yt?"auto":yt,Ot=w.TransitionComponent,Dt=void 0===Ot?cf:Ot,Rt=Object(So.a)(w,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),Bt=tt.useRef(),rn=tt.useRef(),vn=useTheme_useTheme(),bn=vn.unstable_strictMode&&!rt,Cn=tt.useRef(null),Tn=useForkRef(et.ref,Ne),In=useForkRef(bn?Cn:void 0,Tn),Mn=function normalizedTransitionCallback(w){return function(Ne,et){if(w){var tt=bn?[Cn.current,Ne]:[Ne,et],nt=Object(kp.a)(tt,2),rt=nt[0],it=nt[1];void 0===it?w(rt):w(rt,it)}}},zn=Mn(st),Ln=Mn((function(w,Ne){!function reflow(w){w.scrollTop}(w);var et,tt=getTransitionProps({style:mt,timeout:vt},{mode:"enter"}),nt=tt.duration,rt=tt.delay;"auto"===vt?(et=vn.transitions.getAutoHeightDuration(w.clientHeight),rn.current=et):et=nt,w.style.transition=[vn.transitions.create("opacity",{duration:et,delay:rt}),vn.transitions.create("transform",{duration:.666*et,delay:rt})].join(","),ot&&ot(w,Ne)})),Fn=Mn(at),Bn=Mn(dt),Nn=Mn((function(w){var Ne,et=getTransitionProps({style:mt,timeout:vt},{mode:"exit"}),tt=et.duration,nt=et.delay;"auto"===vt?(Ne=vn.transitions.getAutoHeightDuration(w.clientHeight),rn.current=Ne):Ne=tt,w.style.transition=[vn.transitions.create("opacity",{duration:Ne,delay:nt}),vn.transitions.create("transform",{duration:.666*Ne,delay:nt||.333*Ne})].join(","),w.style.opacity="0",w.style.transform=getScale(.75),pt&&pt(w)})),Vn=Mn(ft);return tt.useEffect((function(){return function(){clearTimeout(Bt.current)}}),[]),tt.createElement(Dt,Object(ct.a)({appear:!0,in:it,nodeRef:bn?Cn:void 0,onEnter:Ln,onEntered:Fn,onEntering:zn,onExit:Nn,onExited:Vn,onExiting:Bn,addEndListener:function addEndListener(w,Ne){var et=bn?w:Ne;"auto"===vt&&(Bt.current=setTimeout(et,rn.current||0))},timeout:"auto"===vt?null:vt},Rt),(function(w,Ne){return tt.cloneElement(et,Object(ct.a)({style:Object(ct.a)({opacity:0,transform:getScale(.75),visibility:"exited"!==w||it?void 0:"hidden"},pf[w],mt,et.props.style),ref:In},Ne))}))}));hf.muiSupportAuto=!0;var ff=hf,df=tt.forwardRef((function Paper(w,Ne){var et=w.classes,nt=w.className,rt=w.component,it=void 0===rt?"div":rt,ot=w.square,at=void 0!==ot&&ot,st=w.elevation,pt=void 0===st?1:st,ft=w.variant,dt=void 0===ft?"elevation":ft,mt=Object(So.a)(w,["classes","className","component","square","elevation","variant"]);return tt.createElement(it,Object(ct.a)({className:Object(ta.a)(et.root,nt,"outlined"===dt?et.outlined:et["elevation".concat(pt)],!at&&et.rounded),ref:Ne},mt))})),mf=Object(po.a)((function styles(w){var Ne={};return w.shadows.forEach((function(w,et){Ne["elevation".concat(et)]={boxShadow:w}})),Object(ct.a)({root:{backgroundColor:w.palette.background.paper,color:w.palette.text.primary,transition:w.transitions.create("box-shadow")},rounded:{borderRadius:w.shape.borderRadius},outlined:{border:"1px solid ".concat(w.palette.divider)}},Ne)}),{name:"MuiPaper"})(df);function getOffsetTop(w,Ne){var et=0;return"number"==typeof Ne?et=Ne:"center"===Ne?et=w.height/2:"bottom"===Ne&&(et=w.height),et}function getOffsetLeft(w,Ne){var et=0;return"number"==typeof Ne?et=Ne:"center"===Ne?et=w.width/2:"right"===Ne&&(et=w.width),et}function getTransformOriginValue(w){return[w.horizontal,w.vertical].map((function(w){return"number"==typeof w?"".concat(w,"px"):w})).join(" ")}function getAnchorEl(w){return"function"==typeof w?w():w}var yf=tt.forwardRef((function Popover(w,Ne){var et=w.action,nt=w.anchorEl,it=w.anchorOrigin,ot=void 0===it?{vertical:"top",horizontal:"left"}:it,at=w.anchorPosition,st=w.anchorReference,pt=void 0===st?"anchorEl":st,ft=w.children,dt=w.classes,mt=w.className,yt=w.container,vt=w.elevation,Ot=void 0===vt?8:vt,Dt=w.getContentAnchorEl,Rt=w.marginThreshold,Bt=void 0===Rt?16:Rt,rn=w.onEnter,vn=w.onEntered,bn=w.onEntering,Cn=w.onExit,Tn=w.onExited,In=w.onExiting,Mn=w.open,zn=w.PaperProps,Ln=void 0===zn?{}:zn,Fn=w.transformOrigin,Bn=void 0===Fn?{vertical:"top",horizontal:"left"}:Fn,Nn=w.TransitionComponent,Vn=void 0===Nn?ff:Nn,Wn=w.transitionDuration,$n=void 0===Wn?"auto":Wn,Yn=w.TransitionProps,er=void 0===Yn?{}:Yn,rr=Object(So.a)(w,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),vr=tt.useRef(),wr=tt.useCallback((function(w){if("anchorPosition"===pt)return at;var Ne=getAnchorEl(nt),et=(Ne&&1===Ne.nodeType?Ne:ownerDocument(vr.current).body).getBoundingClientRect(),tt=0===w?ot.vertical:"center";return{top:et.top+getOffsetTop(et,tt),left:et.left+getOffsetLeft(et,ot.horizontal)}}),[nt,ot.horizontal,ot.vertical,at,pt]),Sr=tt.useCallback((function(w){var Ne=0;if(Dt&&"anchorEl"===pt){var et=Dt(w);if(et&&w.contains(et)){var tt=function Popover_getScrollParent(w,Ne){for(var et=Ne,tt=0;et&&et!==w;)tt+=(et=et.parentElement).scrollTop;return tt}(w,et);Ne=et.offsetTop+et.clientHeight/2-tt||0}0}return Ne}),[ot.vertical,pt,Dt]),ii=tt.useCallback((function(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:getOffsetTop(w,Bn.vertical)+Ne,horizontal:getOffsetLeft(w,Bn.horizontal)}}),[Bn.horizontal,Bn.vertical]),qi=tt.useCallback((function(w){var Ne=Sr(w),et={width:w.offsetWidth,height:w.offsetHeight},tt=ii(et,Ne);if("none"===pt)return{top:null,left:null,transformOrigin:getTransformOriginValue(tt)};var rt=wr(Ne),it=rt.top-tt.vertical,ot=rt.left-tt.horizontal,at=it+et.height,st=ot+et.width,ct=ownerWindow(getAnchorEl(nt)),ft=ct.innerHeight-Bt,dt=ct.innerWidth-Bt;if(it<Bt){var mt=it-Bt;it-=mt,tt.vertical+=mt}else if(at>ft){var yt=at-ft;it-=yt,tt.vertical+=yt}if(ot<Bt){var vt=ot-Bt;ot-=vt,tt.horizontal+=vt}else if(st>dt){var Ot=st-dt;ot-=Ot,tt.horizontal+=Ot}return{top:"".concat(Math.round(it),"px"),left:"".concat(Math.round(ot),"px"),transformOrigin:getTransformOriginValue(tt)}}),[nt,pt,wr,Sr,ii,Bt]),uo=tt.useCallback((function(){var w=vr.current;if(w){var Ne=qi(w);null!==Ne.top&&(w.style.top=Ne.top),null!==Ne.left&&(w.style.left=Ne.left),w.style.transformOrigin=Ne.transformOrigin}}),[qi]),po=tt.useCallback((function(w){vr.current=rt.findDOMNode(w)}),[]);tt.useEffect((function(){Mn&&uo()})),tt.useImperativeHandle(et,(function(){return Mn?{updatePosition:function updatePosition(){uo()}}:null}),[Mn,uo]),tt.useEffect((function(){if(Mn){var w=debounce((function(){uo()}));return window.addEventListener("resize",w),function(){w.clear(),window.removeEventListener("resize",w)}}}),[Mn,uo]);var vo=$n;"auto"!==$n||Vn.muiSupportAuto||(vo=void 0);var na=yt||(nt?ownerDocument(getAnchorEl(nt)).body:void 0);return tt.createElement(sf,Object(ct.a)({container:na,open:Mn,ref:Ne,BackdropProps:{invisible:!0},className:Object(ta.a)(dt.root,mt)},rr),tt.createElement(Vn,Object(ct.a)({appear:!0,in:Mn,onEnter:rn,onEntered:vn,onExit:Cn,onExited:Tn,onExiting:In,timeout:vo},er,{onEntering:createChainedFunction((function handleEntering(w,Ne){bn&&bn(w,Ne),uo()}),er.onEntering)}),tt.createElement(mf,Object(ct.a)({elevation:Ot,ref:po},Ln,{className:Object(ta.a)(dt.paper,Ln.className)}),ft)))})),gf=Object(po.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(yf);var vf=tt.createContext({}),_f=tt.forwardRef((function List(w,Ne){var et=w.children,nt=w.classes,rt=w.className,it=w.component,ot=void 0===it?"ul":it,at=w.dense,st=void 0!==at&&at,pt=w.disablePadding,ft=void 0!==pt&&pt,dt=w.subheader,mt=Object(So.a)(w,["children","classes","className","component","dense","disablePadding","subheader"]),yt=tt.useMemo((function(){return{dense:st}}),[st]);return tt.createElement(vf.Provider,{value:yt},tt.createElement(ot,Object(ct.a)({className:Object(ta.a)(nt.root,rt,st&&nt.dense,!ft&&nt.padding,dt&&nt.subheader),ref:Ne},mt),dt,et))})),xf=Object(po.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(_f);function nextItem(w,Ne,et){return w===Ne?w.firstChild:Ne&&Ne.nextElementSibling?Ne.nextElementSibling:et?null:w.firstChild}function previousItem(w,Ne,et){return w===Ne?et?w.firstChild:w.lastChild:Ne&&Ne.previousElementSibling?Ne.previousElementSibling:et?null:w.lastChild}function textCriteriaMatches(w,Ne){if(void 0===Ne)return!0;var et=w.innerText;return void 0===et&&(et=w.textContent),0!==(et=et.trim().toLowerCase()).length&&(Ne.repeating?et[0]===Ne.keys[0]:0===et.indexOf(Ne.keys.join("")))}function moveFocus(w,Ne,et,tt,nt,rt){for(var it=!1,ot=nt(w,Ne,!!Ne&&et);ot;){if(ot===w.firstChild){if(it)return;it=!0}var at=!tt&&(ot.disabled||"true"===ot.getAttribute("aria-disabled"));if(ot.hasAttribute("tabindex")&&textCriteriaMatches(ot,rt)&&!at)return void ot.focus();ot=nt(w,ot,et)}}var wf="undefined"==typeof window?tt.useEffect:tt.useLayoutEffect,Sf=tt.forwardRef((function MenuList(w,Ne){var et=w.actions,nt=w.autoFocus,it=void 0!==nt&&nt,ot=w.autoFocusItem,at=void 0!==ot&&ot,st=w.children,pt=w.className,ft=w.disabledItemsFocusable,dt=void 0!==ft&&ft,mt=w.disableListWrap,yt=void 0!==mt&&mt,vt=w.onKeyDown,Ot=w.variant,Dt=void 0===Ot?"selectedMenu":Ot,Rt=Object(So.a)(w,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),Bt=tt.useRef(null),rn=tt.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});wf((function(){it&&Bt.current.focus()}),[it]),tt.useImperativeHandle(et,(function(){return{adjustStyleForScrollbar:function adjustStyleForScrollbar(w,Ne){var et=!Bt.current.style.width;if(w.clientHeight<Bt.current.clientHeight&&et){var tt="".concat(getScrollbarSize(),"px");Bt.current.style["rtl"===Ne.direction?"paddingLeft":"paddingRight"]=tt,Bt.current.style.width="calc(100% + ".concat(tt,")")}return Bt.current}}}),[]);var vn=useForkRef(tt.useCallback((function(w){Bt.current=rt.findDOMNode(w)}),[]),Ne),bn=-1;tt.Children.forEach(st,(function(w,Ne){tt.isValidElement(w)&&(w.props.disabled||("selectedMenu"===Dt&&w.props.selected||-1===bn)&&(bn=Ne))}));var Cn=tt.Children.map(st,(function(w,Ne){if(Ne===bn){var et={};return at&&(et.autoFocus=!0),void 0===w.props.tabIndex&&"selectedMenu"===Dt&&(et.tabIndex=0),tt.cloneElement(w,et)}return w}));return tt.createElement(xf,Object(ct.a)({role:"menu",ref:vn,className:pt,onKeyDown:function handleKeyDown(w){var Ne=Bt.current,et=w.key,tt=ownerDocument(Ne).activeElement;if("ArrowDown"===et)w.preventDefault(),moveFocus(Ne,tt,yt,dt,nextItem);else if("ArrowUp"===et)w.preventDefault(),moveFocus(Ne,tt,yt,dt,previousItem);else if("Home"===et)w.preventDefault(),moveFocus(Ne,null,yt,dt,nextItem);else if("End"===et)w.preventDefault(),moveFocus(Ne,null,yt,dt,previousItem);else if(1===et.length){var nt=rn.current,rt=et.toLowerCase(),it=performance.now();nt.keys.length>0&&(it-nt.lastTime>500?(nt.keys=[],nt.repeating=!0,nt.previousKeyMatched=!0):nt.repeating&&rt!==nt.keys[0]&&(nt.repeating=!1)),nt.lastTime=it,nt.keys.push(rt);var ot=tt&&!nt.repeating&&textCriteriaMatches(tt,nt);nt.previousKeyMatched&&(ot||moveFocus(Ne,tt,!1,dt,nextItem,nt))?w.preventDefault():nt.previousKeyMatched=!1}vt&&vt(w)},tabIndex:it?0:-1},Rt),Cn)})),kf={vertical:"top",horizontal:"right"},Tf={vertical:"top",horizontal:"left"},Pf=tt.forwardRef((function Menu(w,Ne){var et=w.autoFocus,nt=void 0===et||et,it=w.children,ot=w.classes,at=w.disableAutoFocusItem,st=void 0!==at&&at,pt=w.MenuListProps,ft=void 0===pt?{}:pt,dt=w.onClose,mt=w.onEntering,yt=w.open,vt=w.PaperProps,Ot=void 0===vt?{}:vt,Dt=w.PopoverClasses,Rt=w.transitionDuration,Bt=void 0===Rt?"auto":Rt,rn=w.variant,vn=void 0===rn?"selectedMenu":rn,bn=Object(So.a)(w,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),Cn=useTheme_useTheme(),Tn=nt&&!st&&yt,In=tt.useRef(null),Mn=tt.useRef(null),zn=-1;tt.Children.map(it,(function(w,Ne){tt.isValidElement(w)&&(w.props.disabled||("menu"!==vn&&w.props.selected||-1===zn)&&(zn=Ne))}));var Ln=tt.Children.map(it,(function(w,Ne){return Ne===zn?tt.cloneElement(w,{ref:function ref(Ne){Mn.current=rt.findDOMNode(Ne),setRef(w.ref,Ne)}}):w}));return tt.createElement(gf,Object(ct.a)({getContentAnchorEl:function getContentAnchorEl(){return Mn.current},classes:Dt,onClose:dt,onEntering:function handleEntering(w,Ne){In.current&&In.current.adjustStyleForScrollbar(w,Cn),mt&&mt(w,Ne)},anchorOrigin:"rtl"===Cn.direction?kf:Tf,transformOrigin:"rtl"===Cn.direction?kf:Tf,PaperProps:Object(ct.a)({},Ot,{classes:Object(ct.a)({},Ot.classes,{root:ot.paper})}),open:yt,ref:Ne,transitionDuration:Bt},bn),tt.createElement(Sf,Object(ct.a)({onKeyDown:function handleListKeyDown(w){"Tab"===w.key&&(w.preventDefault(),dt&&dt(w,"tabKeyDown"))},actions:In,autoFocus:nt&&(-1===zn||st),autoFocusItem:Tn,variant:vn},ft,{className:Object(ta.a)(ot.list,ft.className)}),Ln))})),If=Object(po.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Pf);function utils_hasValue(w){return null!=w&&!(Array.isArray(w)&&0===w.length)}function isFilled(w){var Ne=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return w&&(utils_hasValue(w.value)&&""!==w.value||Ne&&utils_hasValue(w.defaultValue)&&""!==w.defaultValue)}function areEqualValues(w,Ne){return"object"===Object(kh.a)(Ne)&&null!==Ne?w===Ne:String(w)===String(Ne)}var Af=tt.forwardRef((function SelectInput(w,Ne){var et=w["aria-label"],nt=w.autoFocus,rt=w.autoWidth,it=w.children,ot=w.classes,at=w.className,st=w.defaultValue,pt=w.disabled,ft=w.displayEmpty,dt=w.IconComponent,mt=w.inputRef,yt=w.labelId,vt=w.MenuProps,Ot=void 0===vt?{}:vt,Dt=w.multiple,Rt=w.name,Bt=w.onBlur,rn=w.onChange,vn=w.onClose,bn=w.onFocus,Cn=w.onOpen,Tn=w.open,In=w.readOnly,Mn=w.renderValue,zn=w.SelectDisplayProps,Ln=void 0===zn?{}:zn,Fn=w.tabIndex,Bn=(w.type,w.value),Nn=w.variant,Vn=void 0===Nn?"standard":Nn,Wn=Object(So.a)(w,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),$n=useControlled({controlled:Bn,default:st,name:"Select"}),Yn=Object(kp.a)($n,2),er=Yn[0],rr=Yn[1],vr=tt.useRef(null),wr=tt.useState(null),Sr=wr[0],ii=wr[1],qi=tt.useRef(null!=Tn).current,uo=tt.useState(),po=uo[0],vo=uo[1],ia=tt.useState(!1),sa=ia[0],la=ia[1],pa=useForkRef(Ne,mt);tt.useImperativeHandle(pa,(function(){return{focus:function focus(){Sr.focus()},node:vr.current,value:er}}),[Sr,er]),tt.useEffect((function(){nt&&Sr&&Sr.focus()}),[nt,Sr]),tt.useEffect((function(){if(Sr){var w=ownerDocument(Sr).getElementById(yt);if(w){var Ne=function handler(){getSelection().isCollapsed&&Sr.focus()};return w.addEventListener("click",Ne),function(){w.removeEventListener("click",Ne)}}}}),[yt,Sr]);var fa,ga,va=function update(w,Ne){w?Cn&&Cn(Ne):vn&&vn(Ne),qi||(vo(rt?null:Sr.clientWidth),la(w))},_a=tt.Children.toArray(it),wa=function handleItemClick(w){return function(Ne){var et;if(Dt||va(!1,Ne),Dt){et=Array.isArray(er)?er.slice():[];var tt=er.indexOf(w.props.value);-1===tt?et.push(w.props.value):et.splice(tt,1)}else et=w.props.value;w.props.onClick&&w.props.onClick(Ne),er!==et&&(rr(et),rn&&(Ne.persist(),Object.defineProperty(Ne,"target",{writable:!0,value:{value:et,name:Rt}}),rn(Ne,w)))}},Aa=null!==Sr&&(qi?Tn:sa);delete Wn["aria-invalid"];var os=[],as=!1;(isFilled({value:er})||ft)&&(Mn?fa=Mn(er):as=!0);var ss=_a.map((function(w){if(!tt.isValidElement(w))return null;var Ne;if(Dt){if(!Array.isArray(er))throw new Error(Object(Ph.a)(2));(Ne=er.some((function(Ne){return areEqualValues(Ne,w.props.value)})))&&as&&os.push(w.props.children)}else(Ne=areEqualValues(er,w.props.value))&&as&&(ga=w.props.children);return Ne&&!0,tt.cloneElement(w,{"aria-selected":Ne?"true":void 0,onClick:wa(w),onKeyUp:function onKeyUp(Ne){" "===Ne.key&&Ne.preventDefault(),w.props.onKeyUp&&w.props.onKeyUp(Ne)},role:"option",selected:Ne,value:void 0,"data-value":w.props.value})}));as&&(fa=Dt?os.join(", "):ga);var ls,us=po;!rt&&qi&&Sr&&(us=Sr.clientWidth),ls=void 0!==Fn?Fn:pt?null:0;var fs=Ln.id||(Rt?"mui-component-select-".concat(Rt):void 0);return tt.createElement(tt.Fragment,null,tt.createElement("div",Object(ct.a)({className:Object(ta.a)(ot.root,ot.select,ot.selectMenu,ot[Vn],at,pt&&ot.disabled),ref:ii,tabIndex:ls,role:"button","aria-disabled":pt?"true":void 0,"aria-expanded":Aa?"true":void 0,"aria-haspopup":"listbox","aria-label":et,"aria-labelledby":[yt,fs].filter(Boolean).join(" ")||void 0,onKeyDown:function handleKeyDown(w){if(!In){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(w.key)&&(w.preventDefault(),va(!0,w))}},onMouseDown:pt||In?null:function handleMouseDown(w){0===w.button&&(w.preventDefault(),Sr.focus(),va(!0,w))},onBlur:function handleBlur(w){!Aa&&Bt&&(w.persist(),Object.defineProperty(w,"target",{writable:!0,value:{value:er,name:Rt}}),Bt(w))},onFocus:bn},Ln,{id:fs}),function isEmpty(w){return null==w||"string"==typeof w&&!w.trim()}(fa)?tt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):fa),tt.createElement("input",Object(ct.a)({value:Array.isArray(er)?er.join(","):er,name:Rt,ref:vr,"aria-hidden":!0,onChange:function handleChange(w){var Ne=_a.map((function(w){return w.props.value})).indexOf(w.target.value);if(-1!==Ne){var et=_a[Ne];rr(et.props.value),rn&&rn(w,et)}},tabIndex:-1,className:ot.nativeInput,autoFocus:nt},Wn)),tt.createElement(dt,{className:Object(ta.a)(ot.icon,ot["icon".concat(Object(na.a)(Vn))],Aa&&ot.iconOpen,pt&&ot.disabled)}),tt.createElement(If,Object(ct.a)({id:"menu-".concat(Rt||""),anchorEl:Sr,open:Aa,onClose:function handleClose(w){va(!1,w)}},Ot,{MenuListProps:Object(ct.a)({"aria-labelledby":yt,role:"listbox",disableListWrap:!0},Ot.MenuListProps),PaperProps:Object(ct.a)({},Ot.PaperProps,{style:Object(ct.a)({minWidth:us},null!=Ot.PaperProps?Ot.PaperProps.style:null)})}),ss))}));function formControlState(w){var Ne=w.props,et=w.states,tt=w.muiFormControl;return et.reduce((function(w,et){return w[et]=Ne[et],tt&&void 0===Ne[et]&&(w[et]=tt[et]),w}),{})}var Mf=createSvgIcon(tt.createElement("path",{d:"M7 10l5 5 5-5z"}));function getStyleValue(w,Ne){return parseInt(w[Ne],10)||0}var Of="undefined"!=typeof window?tt.useLayoutEffect:tt.useEffect,zf={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Lf=tt.forwardRef((function TextareaAutosize(w,Ne){var et=w.onChange,nt=w.rows,rt=w.rowsMax,it=w.rowsMin,ot=void 0===it?1:it,at=w.style,st=w.value,pt=Object(So.a)(w,["onChange","rows","rowsMax","rowsMin","style","value"]),ft=nt||ot,dt=tt.useRef(null!=st).current,mt=tt.useRef(null),yt=useForkRef(Ne,mt),vt=tt.useRef(null),Ot=tt.useRef(0),Dt=tt.useState({}),Rt=Dt[0],Bt=Dt[1],rn=tt.useCallback((function(){var Ne=mt.current,et=window.getComputedStyle(Ne),tt=vt.current;tt.style.width=et.width,tt.value=Ne.value||w.placeholder||"x","\n"===tt.value.slice(-1)&&(tt.value+=" ");var nt=et["box-sizing"],it=getStyleValue(et,"padding-bottom")+getStyleValue(et,"padding-top"),ot=getStyleValue(et,"border-bottom-width")+getStyleValue(et,"border-top-width"),at=tt.scrollHeight-it;tt.value="x";var st=tt.scrollHeight-it,ct=at;ft&&(ct=Math.max(Number(ft)*st,ct)),rt&&(ct=Math.min(Number(rt)*st,ct));var pt=(ct=Math.max(ct,st))+("border-box"===nt?it+ot:0),dt=Math.abs(ct-at)<=1;Bt((function(w){return Ot.current<20&&(pt>0&&Math.abs((w.outerHeightStyle||0)-pt)>1||w.overflow!==dt)?(Ot.current+=1,{overflow:dt,outerHeightStyle:pt}):w}))}),[rt,ft,w.placeholder]);tt.useEffect((function(){var w=debounce((function(){Ot.current=0,rn()}));return window.addEventListener("resize",w),function(){w.clear(),window.removeEventListener("resize",w)}}),[rn]),Of((function(){rn()})),tt.useEffect((function(){Ot.current=0}),[st]);return tt.createElement(tt.Fragment,null,tt.createElement("textarea",Object(ct.a)({value:st,onChange:function handleChange(w){Ot.current=0,dt||rn(),et&&et(w)},ref:yt,rows:ft,style:Object(ct.a)({height:Rt.outerHeightStyle,overflow:Rt.overflow?"hidden":null},at)},pt)),tt.createElement("textarea",{"aria-hidden":!0,className:w.className,readOnly:!0,ref:vt,tabIndex:-1,style:Object(ct.a)({},zf,at)}))})),Rf="undefined"==typeof window?tt.useEffect:tt.useLayoutEffect,Bf=tt.forwardRef((function InputBase(w,Ne){var et=w["aria-describedby"],nt=w.autoComplete,rt=w.autoFocus,it=w.classes,ot=w.className,at=(w.color,w.defaultValue),st=w.disabled,pt=w.endAdornment,ft=(w.error,w.fullWidth),dt=void 0!==ft&&ft,mt=w.id,yt=w.inputComponent,vt=void 0===yt?"input":yt,Ot=w.inputProps,Dt=void 0===Ot?{}:Ot,Rt=w.inputRef,Bt=(w.margin,w.multiline),rn=void 0!==Bt&&Bt,vn=w.name,bn=w.onBlur,Cn=w.onChange,Tn=w.onClick,In=w.onFocus,Mn=w.onKeyDown,zn=w.onKeyUp,Ln=w.placeholder,Fn=w.readOnly,Bn=w.renderSuffix,Nn=w.rows,Vn=w.rowsMax,Wn=w.rowsMin,$n=w.startAdornment,Yn=w.type,er=void 0===Yn?"text":Yn,rr=w.value,vr=Object(So.a)(w,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),wr=null!=Dt.value?Dt.value:rr,Sr=tt.useRef(null!=wr).current,ii=tt.useRef(),qi=tt.useCallback((function(w){0}),[]),uo=useForkRef(Dt.ref,qi),po=useForkRef(Rt,uo),vo=useForkRef(ii,po),ia=tt.useState(!1),sa=ia[0],la=ia[1],pa=function useFormControl(){return tt.useContext(vp)}();var fa=formControlState({props:w,muiFormControl:pa,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});fa.focused=pa?pa.focused:sa,tt.useEffect((function(){!pa&&st&&sa&&(la(!1),bn&&bn())}),[pa,st,sa,bn]);var ga=pa&&pa.onFilled,va=pa&&pa.onEmpty,_a=tt.useCallback((function(w){isFilled(w)?ga&&ga():va&&va()}),[ga,va]);Rf((function(){Sr&&_a({value:wr})}),[wr,_a,Sr]);tt.useEffect((function(){_a(ii.current)}),[]);var wa=vt,Aa=Object(ct.a)({},Dt,{ref:vo});"string"!=typeof wa?Aa=Object(ct.a)({inputRef:vo,type:er},Aa,{ref:null}):rn?!Nn||Vn||Wn?(Aa=Object(ct.a)({rows:Nn,rowsMax:Vn},Aa),wa=Lf):wa="textarea":Aa=Object(ct.a)({type:er},Aa);return tt.useEffect((function(){pa&&pa.setAdornedStart(Boolean($n))}),[pa,$n]),tt.createElement("div",Object(ct.a)({className:Object(ta.a)(it.root,it["color".concat(Object(na.a)(fa.color||"primary"))],ot,fa.disabled&&it.disabled,fa.error&&it.error,dt&&it.fullWidth,fa.focused&&it.focused,pa&&it.formControl,rn&&it.multiline,$n&&it.adornedStart,pt&&it.adornedEnd,"dense"===fa.margin&&it.marginDense),onClick:function handleClick(w){ii.current&&w.currentTarget===w.target&&ii.current.focus(),Tn&&Tn(w)},ref:Ne},vr),$n,tt.createElement(_p.Provider,{value:null},tt.createElement(wa,Object(ct.a)({"aria-invalid":fa.error,"aria-describedby":et,autoComplete:nt,autoFocus:rt,defaultValue:at,disabled:fa.disabled,id:mt,onAnimationStart:function handleAutoFill(w){_a("mui-auto-fill-cancel"===w.animationName?ii.current:{value:"x"})},name:vn,placeholder:Ln,readOnly:Fn,required:fa.required,rows:Nn,value:wr,onKeyDown:Mn,onKeyUp:zn},Aa,{className:Object(ta.a)(it.input,Dt.className,fa.disabled&&it.disabled,rn&&it.inputMultiline,fa.hiddenLabel&&it.inputHiddenLabel,$n&&it.inputAdornedStart,pt&&it.inputAdornedEnd,"search"===er&&it.inputTypeSearch,"dense"===fa.margin&&it.inputMarginDense),onBlur:function handleBlur(w){bn&&bn(w),Dt.onBlur&&Dt.onBlur(w),pa&&pa.onBlur?pa.onBlur(w):la(!1)},onChange:function handleChange(w){if(!Sr){var Ne=w.target||ii.current;if(null==Ne)throw new Error(Object(Ph.a)(1));_a({value:Ne.value})}for(var et=arguments.length,tt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];Dt.onChange&&Dt.onChange.apply(Dt,[w].concat(tt)),Cn&&Cn.apply(void 0,[w].concat(tt))},onFocus:function handleFocus(w){fa.disabled?w.stopPropagation():(In&&In(w),Dt.onFocus&&Dt.onFocus(w),pa&&pa.onFocus?pa.onFocus(w):la(!0))}}))),pt,Bn?Bn(Object(ct.a)({},fa,{startAdornment:$n})):null)})),Nf=Object(po.a)((function styles(w){var Ne="light"===w.palette.type,et={color:"currentColor",opacity:Ne?.42:.5,transition:w.transitions.create("opacity",{duration:w.transitions.duration.shorter})},tt={opacity:"0 !important"},nt={opacity:Ne?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(ct.a)({},w.typography.body1,{color:w.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:w.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":et,"&::-moz-placeholder":et,"&:-ms-input-placeholder":et,"&::-ms-input-placeholder":et,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":tt,"&::-moz-placeholder":tt,"&:-ms-input-placeholder":tt,"&::-ms-input-placeholder":tt,"&:focus::-webkit-input-placeholder":nt,"&:focus::-moz-placeholder":nt,"&:focus:-ms-input-placeholder":nt,"&:focus::-ms-input-placeholder":nt},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Bf),Vf=tt.forwardRef((function Input(w,Ne){var et=w.disableUnderline,nt=w.classes,rt=w.fullWidth,it=void 0!==rt&&rt,ot=w.inputComponent,at=void 0===ot?"input":ot,st=w.multiline,pt=void 0!==st&&st,ft=w.type,dt=void 0===ft?"text":ft,mt=Object(So.a)(w,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return tt.createElement(Nf,Object(ct.a)({classes:Object(ct.a)({},nt,{root:Object(ta.a)(nt.root,!et&&nt.underline),underline:null}),fullWidth:it,inputComponent:at,multiline:pt,ref:Ne,type:dt},mt))}));Vf.muiName="Input";var Uf=Object(po.a)((function styles(w){var Ne="light"===w.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:w.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(w.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:w.transitions.create("transform",{duration:w.transitions.duration.shorter,easing:w.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:w.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(Ne),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:w.transitions.create("border-bottom-color",{duration:w.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(w.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(Ne)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Vf),qf=tt.forwardRef((function NativeSelectInput(w,Ne){var et=w.classes,nt=w.className,rt=w.disabled,it=w.IconComponent,ot=w.inputRef,at=w.variant,st=void 0===at?"standard":at,pt=Object(So.a)(w,["classes","className","disabled","IconComponent","inputRef","variant"]);return tt.createElement(tt.Fragment,null,tt.createElement("select",Object(ct.a)({className:Object(ta.a)(et.root,et.select,et[st],nt,rt&&et.disabled),disabled:rt,ref:ot||Ne},pt)),w.multiple?null:tt.createElement(it,{className:Object(ta.a)(et.icon,et["icon".concat(Object(na.a)(st))],rt&&et.disabled)}))})),Wf=function styles(w){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===w.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:w.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:w.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:w.palette.action.active,"&$disabled":{color:w.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Zf=tt.createElement(Uf,null),Xf=tt.forwardRef((function NativeSelect(w,Ne){var et=w.children,nt=w.classes,rt=w.IconComponent,it=void 0===rt?Mf:rt,ot=w.input,at=void 0===ot?Zf:ot,st=w.inputProps,pt=(w.variant,Object(So.a)(w,["children","classes","IconComponent","input","inputProps","variant"])),ft=formControlState({props:w,muiFormControl:useFormControl_useFormControl(),states:["variant"]});return tt.cloneElement(at,Object(ct.a)({inputComponent:qf,inputProps:Object(ct.a)({children:et,classes:nt,IconComponent:it,variant:ft.variant,type:void 0},st,at?at.props.inputProps:{}),ref:Ne},pt))}));Xf.muiName="Select";Object(po.a)(Wf,{name:"MuiNativeSelect"})(Xf);var $f=tt.forwardRef((function FilledInput(w,Ne){var et=w.disableUnderline,nt=w.classes,rt=w.fullWidth,it=void 0!==rt&&rt,ot=w.inputComponent,at=void 0===ot?"input":ot,st=w.multiline,pt=void 0!==st&&st,ft=w.type,dt=void 0===ft?"text":ft,mt=Object(So.a)(w,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return tt.createElement(Nf,Object(ct.a)({classes:Object(ct.a)({},nt,{root:Object(ta.a)(nt.root,!et&&nt.underline),underline:null}),fullWidth:it,inputComponent:at,multiline:pt,ref:Ne,type:dt},mt))}));$f.muiName="Input";var Kf=Object(po.a)((function styles(w){var Ne="light"===w.palette.type,et=Ne?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",tt=Ne?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:tt,borderTopLeftRadius:w.shape.borderRadius,borderTopRightRadius:w.shape.borderRadius,transition:w.transitions.create("background-color",{duration:w.transitions.duration.shorter,easing:w.transitions.easing.easeOut}),"&:hover":{backgroundColor:Ne?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:tt}},"&$focused":{backgroundColor:Ne?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:Ne?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:w.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(w.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:w.transitions.create("transform",{duration:w.transitions.duration.shorter,easing:w.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:w.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(et),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:w.transitions.create("border-bottom-color",{duration:w.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(w.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===w.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===w.palette.type?null:"#fff",caretColor:"light"===w.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})($f),Yf=et(35),Jf=tt.forwardRef((function NotchedOutline(w,Ne){w.children;var et=w.classes,nt=w.className,rt=w.label,it=w.labelWidth,ot=w.notched,at=w.style,st=Object(So.a)(w,["children","classes","className","label","labelWidth","notched","style"]),pt="rtl"===useTheme_useTheme().direction?"right":"left";if(void 0!==rt)return tt.createElement("fieldset",Object(ct.a)({"aria-hidden":!0,className:Object(ta.a)(et.root,nt),ref:Ne,style:at},st),tt.createElement("legend",{className:Object(ta.a)(et.legendLabelled,ot&&et.legendNotched)},rt?tt.createElement("span",null,rt):tt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var ft=it>0?.75*it+8:.01;return tt.createElement("fieldset",Object(ct.a)({"aria-hidden":!0,style:Object(ct.a)(Object(Yf.a)({},"padding".concat(Object(na.a)(pt)),8),at),className:Object(ta.a)(et.root,nt),ref:Ne},st),tt.createElement("legend",{className:et.legend,style:{width:ot?ft:.01}},tt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),Qf=Object(po.a)((function styles(w){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:w.transitions.create("width",{duration:150,easing:w.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:w.transitions.create("max-width",{duration:50,easing:w.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:w.transitions.create("max-width",{duration:100,easing:w.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Jf),ed=tt.forwardRef((function OutlinedInput(w,Ne){var et=w.classes,nt=w.fullWidth,rt=void 0!==nt&&nt,it=w.inputComponent,ot=void 0===it?"input":it,at=w.label,st=w.labelWidth,pt=void 0===st?0:st,ft=w.multiline,dt=void 0!==ft&&ft,mt=w.notched,yt=w.type,vt=void 0===yt?"text":yt,Ot=Object(So.a)(w,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return tt.createElement(Nf,Object(ct.a)({renderSuffix:function renderSuffix(w){return tt.createElement(Qf,{className:et.notchedOutline,label:at,labelWidth:pt,notched:void 0!==mt?mt:Boolean(w.startAdornment||w.filled||w.focused)})},classes:Object(ct.a)({},et,{root:Object(ta.a)(et.root,et.underline),notchedOutline:null}),fullWidth:rt,inputComponent:ot,multiline:dt,ref:Ne,type:vt},Ot))}));ed.muiName="Input";var nd=Object(po.a)((function styles(w){var Ne="light"===w.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:w.shape.borderRadius,"&:hover $notchedOutline":{borderColor:w.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:Ne}},"&$focused $notchedOutline":{borderColor:w.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:w.palette.error.main},"&$disabled $notchedOutline":{borderColor:w.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:w.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:Ne},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===w.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===w.palette.type?null:"#fff",caretColor:"light"===w.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(ed),cd=Wf,fd=tt.createElement(Uf,null),dd=tt.createElement(Kf,null),_d=tt.forwardRef((function Select(w,Ne){var et=w.autoWidth,nt=void 0!==et&&et,rt=w.children,it=w.classes,ot=w.displayEmpty,at=void 0!==ot&&ot,st=w.IconComponent,pt=void 0===st?Mf:st,ft=w.id,dt=w.input,mt=w.inputProps,yt=w.label,vt=w.labelId,Ot=w.labelWidth,Dt=void 0===Ot?0:Ot,Rt=w.MenuProps,Bt=w.multiple,rn=void 0!==Bt&&Bt,vn=w.native,bn=void 0!==vn&&vn,Cn=w.onClose,Tn=w.onOpen,In=w.open,Mn=w.renderValue,zn=w.SelectDisplayProps,Ln=w.variant,Fn=void 0===Ln?"standard":Ln,Bn=Object(So.a)(w,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),Nn=bn?qf:Af,Vn=formControlState({props:w,muiFormControl:useFormControl_useFormControl(),states:["variant"]}).variant||Fn,Wn=dt||{standard:fd,outlined:tt.createElement(nd,{label:yt,labelWidth:Dt}),filled:dd}[Vn];return tt.cloneElement(Wn,Object(ct.a)({inputComponent:Nn,inputProps:Object(ct.a)({children:rt,IconComponent:pt,variant:Vn,type:void 0,multiple:rn},bn?{id:ft}:{autoWidth:nt,displayEmpty:at,labelId:vt,MenuProps:Rt,onClose:Cn,onOpen:Tn,open:In,renderValue:Mn,SelectDisplayProps:Object(ct.a)({id:ft},zn)},mt,{classes:mt?Object(bh.a)({baseClasses:it,newClasses:mt.classes,Component:Select}):it},dt?dt.props.inputProps:{}),ref:Ne},Bn))}));_d.muiName="Select";var bd=Object(po.a)(cd,{name:"MuiSelect"})(_d);et(36);var Ed=et(13);const kd=dp(w=>({formControl:{minWidth:344,maxWidth:344},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:3},noLabel:{marginTop:w.spacing(3)}})),Cd=Object(po.a)({root:{"&$checked":{color:vo.a[500]}},checked:{}})(w=>nt.a.createElement(sh,{color:"default",...w})),Id=Object(po.a)({root:{color:vo.a[300]}})(w=>nt.a.createElement(sa,{size:15,...w}));Object(po.a)({root:{"&.focused::after":{borderBottomColor:"red"}}})(w=>nt.a.createElement(bd,{color:"default",...w}));function groupOptions(w){const Ne=new Set([]),et=[];for(const tt of w){const w=tt.label||"";Ne.has(w)||(et.push({label:w,options:[]}),Ne.add(w));et.find(Ne=>Ne.label===w).options.push(tt)}return et}function Filters({baseMapLayers:w,rasterLayers:Ne,vectorLayers:et,observationVectorLayers:tt,adminVectorLayers:rt,selectedAdminVectorLayerName:it,vectorFiltersByNamesMap:ot,selectedBaseMapLayerName:at,selectedRasterLayerNamesSet:st,selectedVectorLayerNamesSet:ct,selectedObservationVectorLayerNamesSet:pt,onUpdateBaseMapLayer:ft,onUpdateRasterLayers:dt,onUpdateVectorLayers:mt,onUpdateObservationVectorLayers:yt,onUpdateAdminVectorLayer:vt,onUpdateVectorFilters:Ot,isLoadingRasters:Dt,isLoadingVectors:Rt,isLoadingObservationVectors:Bt,isLoadingAdminVectors:rn}){function renderFilter({vectorName:w,filterName:Ne,valuesSet:et=new Set([]),selectedValuesSet:tt=new Set([])}){return nt.a.createElement("div",{key:`${w}_${Ne}`,className:Ed.filter},nt.a.createElement("div",{className:Ed.filterName},nt.a.createElement("span",null,Ne)),nt.a.createElement(gp,{row:!0},!et.size&&Rt&&nt.a.createElement(Id,null),[...et].map(et=>nt.a.createElement("div",{key:et,className:Ed.valueWrapper},nt.a.createElement(Ep,{control:nt.a.createElement(Cd,{icon:nt.a.createElement(ph.a,{fontSize:"small"}),checkedIcon:nt.a.createElement(_h.a,{fontSize:"small"}),checked:tt.has(et),onChange:tt=>function handleFilterChange(w,Ne,et){const{action:tt,removedValue:nt,option:rt}=w,it={...ot},at=new Set([...it[Ne][et].selectedValuesSet]);switch(tt){case"remove-value":at.delete(nt);break;case"deselect-option":at.delete(rt);break;case"select-option":at.add(rt);break;case"clear":at.clear()}Ot({...ot,[Ne]:{...ot[Ne],[et]:{...ot[Ne][et],selectedValuesSet:at}}})}({action:tt.target.checked?"select-option":"deselect-option",option:et},w,Ne),inputProps:{"aria-label":"primary checkbox"}}),label:et})))))}const vn={display:"flex",alignItems:"center",justifyContent:"space-between"},bn={backgroundColor:"#EBECF0",borderRadius:"2em",color:"#172B4D",display:"inline-block",fontSize:12,fontWeight:"normal",lineHeight:"1",minWidth:1,padding:"0.16666666666667em 0.5em",textAlign:"center"};kd(),useTheme_useTheme();const renderGroupLabel=w=>nt.a.createElement("div",{style:vn,className:Ed.groupWrapper},nt.a.createElement("span",null,w.label),nt.a.createElement("span",{style:bn,className:Ed.groupBadge},w.options.length));return nt.a.createElement("div",{className:Ed.sideBarWrapper},nt.a.createElement("div",{className:Ed.bodyWrapper},nt.a.createElement("div",{className:Ed.sectionWrapper},nt.a.createElement("div",{className:Ed.sectionHeader},nt.a.createElement("span",null,"Base map")),nt.a.createElement(pp,{options:w,value:w.find(({name:w})=>w===at),getOptionLabel:({name:w})=>w,isOptionSelected:({name:w})=>w===at,onChange:function handleBaseMapLayerChange(Ne,et){const{action:tt}=et;let nt;switch(tt){case"select-option":nt=Ne.name;break;case"remove-value":case"deselect-option":case"clear":nt=w[0].name}ft(nt)},hideSelectedOptions:!1})),nt.a.createElement("div",{className:Ed.sectionWrapper},nt.a.createElement("div",{className:Ed.sectionHeader},nt.a.createElement("span",null,"Landscape predictions")),nt.a.createElement(pp,{options:groupOptions(Ne),value:Ne.filter(({name:w})=>st.has(w)),getOptionLabel:({name:w})=>w,isOptionSelected:({name:w})=>st.has(w),isMulti:!0,onChange:function handleRasterLayerChange(w,Ne){const{action:et,removedValue:tt,option:nt}=Ne;let rt=new Set([...st]);switch(et){case"remove-value":rt.delete(tt.name);break;case"deselect-option":rt.delete(nt.name);break;case"select-option":rt.add(nt.name);break;case"clear":rt.clear()}dt(rt)},hideSelectedOptions:!1,isClearable:!0,placeholder:"Select rasters...",isLoading:Dt,isDisabled:!Ne.length,formatGroupLabel:renderGroupLabel})),nt.a.createElement("div",{className:Ed.sectionWrapper},nt.a.createElement("div",{className:Ed.sectionHeader},nt.a.createElement("span",null,"Pre-existing maps & data")),nt.a.createElement(pp,{options:groupOptions(et),value:et.filter(({name:w})=>ct.has(w)),getOptionLabel:({name:w})=>w,isOptionSelected:({name:w})=>ct.has(w),isMulti:!0,onChange:function handleVectorLayerChange(w,Ne){const{action:et,removedValue:tt,option:nt}=Ne,rt=new Set([...ct]);switch(et){case"remove-value":rt.delete(tt.name);break;case"deselect-option":rt.delete(nt.name);break;case"select-option":rt.add(nt.name);break;case"clear":rt.clear()}mt(rt)},hideSelectedOptions:!1,isLoading:Rt,isDisabled:!et.length,formatGroupLabel:renderGroupLabel}),nt.a.createElement("div",{className:Ed.vectorFiltersWrapper},nt.a.createElement("div",{className:Ed.sectionHeader},nt.a.createElement("span",null,"Filter by vector values")),!et.filter(({name:w,filterVariables:Ne=[]})=>ct.has(w)&&Ne.length).length&&nt.a.createElement("span",{className:Ed.empty},"No filterable vectors selected"),et.filter(({name:w})=>ct.has(w)).map((function renderFilters({name:w,filterVariables:Ne=[]}){if(!Ne.length)return null;const et=ot[w],tt=Ne.map(Ne=>({vectorName:w,filterName:Ne.name,valuesSet:((et||{})[Ne.name]||{}).valuesSet,selectedValuesSet:((et||{})[Ne.name]||{}).selectedValuesSet}));return nt.a.createElement("div",{key:w,className:Ed.filterWrapper},nt.a.createElement("div",{className:Ed.vectorName},nt.a.createElement("span",null,w)),nt.a.createElement("div",{className:Ed.filters},tt.map(renderFilter)))})))),nt.a.createElement("div",{className:Ed.sectionWrapper},nt.a.createElement("div",{className:Ed.sectionHeader},nt.a.createElement("span",null,"Landscape observations")),nt.a.createElement(pp,{options:groupOptions(tt),value:tt.filter(({name:w})=>pt.has(w)),getOptionLabel:({name:w})=>w,isOptionSelected:({name:w})=>pt.has(w),isMulti:!0,onChange:function handleObservationVectorLayerChange(w,Ne){const{action:et,removedValue:tt,option:nt}=Ne,rt=new Set([...pt]);switch(et){case"remove-value":rt.delete(tt.name);break;case"deselect-option":rt.delete(nt.name);break;case"select-option":rt.add(nt.name);break;case"clear":rt.clear()}yt(rt)},hideSelectedOptions:!1,isLoading:Bt,isDisabled:!tt.length,formatGroupLabel:renderGroupLabel})),nt.a.createElement("div",{className:Ed.sectionWrapper},nt.a.createElement("div",{className:Ed.sectionHeader},nt.a.createElement("span",null,"Admin polygons")),nt.a.createElement(pp,{options:groupOptions(rt),value:rt.filter(({name:w})=>w===it),getOptionLabel:({name:w})=>w,isOptionSelected:({name:w})=>w===it,onChange:function handleAdminVectorLayerChange(Ne,et){const{action:tt}=et;let nt;switch(tt){case"select-option":nt=Ne.name;break;case"remove-value":case"deselect-option":case"clear":nt=w[0].name}vt(nt)},hideSelectedOptions:!1,isLoading:rn,formatGroupLabel:renderGroupLabel}))))}var Ad=et(41),Md=et.n(Ad),Od=et(83);var zd=[{name:"Streets",mapboxStyle:"mapbox://styles/imathews/ckbpms3l74h4e1ipbxbhqivs4",isDefault:!0},{name:"BasemapSatellite",mapboxStyle:"mapbox://styles/imathews/ckbjw25s806j01ipj5fjyi9f4"},{name:"BasemapSimple_WithTopo",mapboxStyle:"mapbox://styles/imathews/ckbk71nle03i41il6uorr1jpz"},{name:"SatelliteSimple_MonochromeDark",mapboxStyle:"mapbox://styles/imathews/ckbl1ek0e00g51ipskyv1xtpb"},{name:"BasemapSimple",mapboxStyle:"mapbox://styles/imathews/ckbjwv03707b21ipjjukqohfw"},{name:"RoadNetwork_LowOpacityRaster",mapboxStyle:"mapbox://styles/imathews/ckbk765ng03l11im05dbcfscv"},{name:"Terrain_RGB_Edit1",mapboxStyle:"mapbox://styles/imathews/ckbjwd4a804cy1imp0tf8kz90"}];function MapRenderer_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}Md.a.accessToken="pk.eyJ1IjoiaW1hdGhld3MiLCJhIjoiY2thdnl2cGVsMGtldTJ6cGl3c2tvM2NweSJ9.TXtG4gARAf4bUbnPVxk6uA";const Ld=[33,1];class MapRenderer_MapRenderer{constructor(w,Ne){MapRenderer_defineProperty(this,"handleMoveEnd",()=>{const w=this.map.getZoom(),Ne=this.map.getCenter();this.onZoomOrPan(w,Ne)}),MapRenderer_defineProperty(this,"handleZoomEnd",()=>{const w=this.map.getZoom(),Ne=this.map.getCenter();this.onZoomOrPan(w,Ne)}),MapRenderer_defineProperty(this,"waitForStyleLoad",(w=(()=>{}),Ne=200)=>{const waiting=()=>{this.map.isStyleLoaded()?w():setTimeout(waiting,Ne)};waiting()}),MapRenderer_defineProperty(this,"removeLayerFromMap",w=>{const Ne=w.id,et=w.type instanceof Array?w.type:[w.type];for(const w of et){const et=`${Ne}_${w}`;this.map.getLayer(et)&&this.map.removeLayer(et)}this.map.getSource(Ne)&&this.map.removeSource(Ne)}),MapRenderer_defineProperty(this,"addVectorLayerToMap",w=>{const{name:Ne,mapboxSourceType:et,mapboxLayerType:tt,mapboxLayerOptions:nt={},features:rt,minZoom:it,maxZoom:ot}=w,at={type:et,data:{type:"FeatureCollection",features:rt}};this.map.addSource(Ne,at);const st={id:Ne,type:tt,source:Ne,...nt},ct=tt instanceof Array?tt:[tt];for(const w of ct){const et=`${Ne}_${w}`,rt={id:et,type:w,source:Ne,...tt instanceof Array?nt[w]:nt};it&&(rt.minzoom=it),ot&&(rt.maxzoom=ot),this.map.addLayer(rt),this.map.on("click",et,w=>{const Ne=this.map.queryRenderedFeatures(w.point,{layers:[et]})[0].properties;if(Object.keys(Ne).length){const et=[parseFloat(w.lngLat.lng),parseFloat(w.lngLat.lat)];for(;Math.abs(w.lngLat.lng-et[0])>180;)et[0]+=w.lngLat.lng>et[0]?360:-360;(new Md.a.Popup).setLngLat(et).setHTML(Object.keys(Ne).map(w=>`<p><b>${w}</b><br>${Ne[w]}</p>`).join("")).addTo(this.map)}})}return st}),MapRenderer_defineProperty(this,"addRasterLayerToMap",w=>{const{name:Ne,mapboxId:et,minNativeZoom:tt,maxNativeZoom:nt,bounds:rt,minZoom:it,maxZoom:ot}=w,at={type:"raster",tiles:[`https://api.mapbox.com/v4/${et}/{z}/{x}/{y}.png?access_token=${Md.a.accessToken}`],tileSize:512,minzoom:"droquo.5oq6wrb6"===et?4:tt,maxzoom:nt,bounds:rt};this.map.addSource(Ne,at);const st={id:Ne,type:"raster",source:Ne,minzoom:it,maxzoom:ot,paint:{"raster-opacity":.8}};return this.map.addLayer(st),st}),this.elem=w,this.props={},this.baseLayers=new Map,this.rasterLayers=new Map,this.vectorLayers=new Map,this.observationVectorLayers=new Map,this.adminVectorLayers=new Map;const{baseMapLayer:et,center:tt,zoom:nt}=Ne,rt=et||zd.find(({isDefault:w})=>w);this.baseLayers.set(rt.name,rt),this.map=new Md.a.Map({container:this.elem,style:rt.mapboxStyle,center:tt||Ld,zoom:nt||7});const it=new Md.a.ScaleControl({maxWidth:100,unit:"imperial"});this.map.addControl(it),this.onZoomOrPan=Ne.onZoomOrPan,this.map.on("zoomend",this.handleZoomEnd),this.map.on("moveend",this.handleMoveEnd),this.map.once("style.load",()=>{this.waitForStyleLoad(()=>{this.update(Ne,{initialRender:!0})})})}update({baseMapLayer:w,rasterLayers:Ne,vectorLayers:et,observationVectorLayers:tt,adminVectorLayers:nt,center:rt=Ld,zoom:it=7,boundingBox:ot},{initialRender:at=!1}={}){if(at&&this.map.jumpTo({center:rt,zoom:it}),ot&&this.map.fitBounds(ot),!this.baseLayers.get(w.name)){for(const[w,Ne]of this.baseLayers)this.baseLayers.delete(w);return this.baseLayers.set(w.name,w),this.map.setStyle(w.mapboxStyle),void this.map.once("style.load",()=>{this.waitForStyleLoad(()=>{for(const[w,Ne]of this.adminVectorLayers)this.map.getLayer(w)&&this.map.removeLayer(w),this.map.getSource(w)&&this.map.removeSource(w),this.adminVectorLayers.delete(w);for(const[w,Ne]of this.rasterLayers)this.map.getLayer(w)&&this.map.removeLayer(w),this.map.getSource(w)&&this.map.removeSource(w),this.rasterLayers.delete(w);for(const[w,Ne]of this.vectorLayers)this.map.getLayer(w)&&this.map.removeLayer(w),this.map.getSource(w)&&this.map.removeSource(w),this.vectorLayers.delete(w);this.update({baseMapLayer:w,rasterLayers:Ne,vectorLayers:et,observationVectorLayers:tt,adminVectorLayers:nt,center:rt,zoom:it},{initialRender:!0})})})}if(this.map.isStyleLoaded()){const w=new Set(nt.map(({name:w})=>w));for(const[Ne,et]of this.adminVectorLayers)w.has(Ne)||(this.removeLayerFromMap(et),this.adminVectorLayers.delete(Ne));for(const w of nt){let Ne=this.adminVectorLayers.get(w.name);Ne?this.map.getSource(w.name)&&this.map.getSource(w.name).setData({type:"FeatureCollection",features:w.features}):(Ne=this.addVectorLayerToMap(w),this.adminVectorLayers.set(w.name,Ne))}const rt=new Set(Ne.map(({name:w})=>w));for(const[w,Ne]of this.rasterLayers)rt.has(w)||(this.map.getLayer(w)&&this.map.removeLayer(w),this.map.getSource(w)&&this.map.removeSource(w),this.rasterLayers.delete(w));for(const w of Ne){let Ne=this.rasterLayers.get(w.name);Ne||(Ne=this.addRasterLayerToMap(w),this.map.moveLayer(w.name,`${nt[0].name}_${nt[0].mapboxLayerType instanceof Array?nt[0].mapboxLayerType[0]:nt[0].mapboxLayerType}`),this.rasterLayers.set(w.name,Ne))}const it=new Set(et.map(({name:w})=>w));for(const[w,Ne]of this.vectorLayers)it.has(w)||(this.removeLayerFromMap(Ne),this.vectorLayers.delete(w));for(const w of et){let Ne=this.vectorLayers.get(w.name);Ne?this.map.getSource(w.name)&&this.map.getSource(w.name).setData({type:"FeatureCollection",features:w.features}):(Ne=this.addVectorLayerToMap(w),this.vectorLayers.set(w.name,Ne))}const ot=new Set(tt.map(({name:w})=>w));for(const[w,Ne]of this.observationVectorLayers)ot.has(w)||(this.removeLayerFromMap(Ne),this.observationVectorLayers.delete(w));for(const w of tt){let Ne=this.observationVectorLayers.get(w.name);Ne?this.map.getSource(w.name)&&this.map.getSource(w.name).setData({type:"FeatureCollection",features:w.features}):(Ne=this.addVectorLayerToMap(w),this.adminVectorLayers.set(w.name,Ne))}}}}function Map_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}class Map_Map extends tt.Component{componentDidMount(){this.mapRenderer=new MapRenderer_MapRenderer(this.mapElement,this.props)}componentDidUpdate(w){this.mapRenderer.update(this.props)}render(){return nt.a.createElement("div",{ref:w=>this.mapElement=w,className:Od.wrapper})}}Map_defineProperty(Map_Map,"propTypes",{baseMapLayer:st.a.object,vectorLayers:st.a.arrayOf(st.a.object),rasterLayers:st.a.arrayOf(st.a.object)}),Map_defineProperty(Map_Map,"defaultProps",{vectorLayers:[],rasterLayers:[]});class RasterSource{constructor({mapboxId:w,isDefault:Ne,minZoom:et=0,maxZoom:tt=22,minNativeZoom:nt,maxNativeZoom:rt,boundingBox:it,name:ot,label:at}){this.name=ot,this.label=at,this.mapboxId=w,this.minZoom=parseInt(et),this.maxZoom=parseInt(tt),this.minNativeZoom=parseInt(nt),this.maxNativeZoom=parseInt(rt),this.isDefault=Ne,it&&(it=it.split(","),this.bounds=[parseInt(it[0]),parseInt(it[1]),parseInt(it[2]),parseInt(it[3])])}}class RasterSourceGroup_RasterSourceGroup{constructor({name:w,tableIdentifier:Ne,mapboxIdVariable:et,minNativeZoomVariable:tt,maxNativeZoomVariable:nt,boundingBoxVariable:rt,nameVariable:it}){!function RasterSourceGroup_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}(this,"fetchData",async()=>{if(this.data)return this.data;const w=[...new Set([this.mapboxIdVariable.name.toLowerCase(),this.minNativeZoomVariable.name.toLowerCase(),this.maxNativeZoomVariable.name.toLowerCase(),this.boundingBoxVariable.name.toLowerCase(),this.nameVariable.name.toLowerCase()])],Ne=await fetch(`https://redivis.com/api/v1/tables/${this.tableIdentifier}/rows?selectedVariables=${w.join(",")}&maxResults=10000`,{method:"GET",headers:{Authorization:"Bearer AAAAXtGcJ4BCOmXb3OT+XuGr1C5NuWyX"}});if(!Ne.ok){const w=await Ne.text();return alert(w),[]}const et=await Ne.text();return this.data=et.split("\n").map((w,Ne)=>JSON.parse(w)).map(w=>new RasterSource({mapboxId:w[0],minNativeZoom:w[1],maxNativeZoom:w[2],boundingBox:w[3],name:w[4],label:this.name})),this.data}),this.name=w,this.tableIdentifier=Ne,this.mapboxIdVariable=et,this.minNativeZoomVariable=tt,this.maxNativeZoomVariable=nt,this.boundingBoxVariable=rt,this.nameVariable=it}}var Dd=[new RasterSourceGroup_RasterSourceGroup({name:"Uganda",tableIdentifier:"modilab.uganda_geodata:1.raster_layer_metadata:13",mapboxIdVariable:{name:"mapbox_id"},minNativeZoomVariable:{name:"zoom_min"},maxNativeZoomVariable:{name:"zoom_max"},boundingBoxVariable:{name:"bounding_box"},nameVariable:{name:"catalog_name"}}),new RasterSourceGroup_RasterSourceGroup({name:"Ethiopia",tableIdentifier:"modilab.ethiopia_geodata:2:v1_0.raster_layer_metadata:1",mapboxIdVariable:{name:"mapbox_id"},minNativeZoomVariable:{name:"zoom_min"},maxNativeZoomVariable:{name:"zoom_max"},boundingBoxVariable:{name:"bounding_box"},nameVariable:{name:"catalog_name"}})];const Bd=0,jd=1;var Nd=[new VectorSource({name:"Uganda Electricity Transmission Lines",label:"Uganda",tableIdentifier:"modilab.uganda_geodata:1:current.uganda_electricity_transmission_lines:12",geoVariables:[{name:"geom"}],filterVariables:[{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"INSTALLATI"},{name:"STRUCTURE_"}],metadataVariables:[{name:"OBJECTID"},{name:"LINE_ID"},{name:"LINE_NAME"},{name:"VOLTAGE_KV"},{name:"STATUS"},{name:"STATUS_DET"},{name:"YEAR_COMMI"},{name:"YEAR_UPGRA"},{name:"YEAR_DECOM"},{name:"INSTALLATI"},{name:"STRUCTURE_"},{name:"FINANCIER"},{name:"CONTRACTOR"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round","line-sort-key":uo.length+Bd},paint:{"line-color":["match",["get","VOLTAGE_KV"],"400","#e55e5e","220","#fbb03b","132","rgb(32,89,255)","66","rgb(51,255,150)","#ccc"],"line-width":4}}}),new VectorSource({name:"UMEME REA power distribution lines 2018",label:"Uganda",isDefault:!0,tableIdentifier:"modilab.uganda_geodata:1:v2_5.umeme_rea_power_distribution_lines_2018:7",geoVariables:[{name:"geom"}],filterVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],metadataVariables:[{name:"Voltage"},{name:"Status"},{name:"Phase"}],leafletType:"geoJSON",mapboxSourceType:"geojson",mapboxLayerType:"line",mapboxLayerOptions:{layout:{"line-join":"round","line-cap":"round","line-sort-key":uo.length+jd},paint:{"line-color":["match",["get","Voltage"],"33 kV","#e55e5e","11 kV","#fbb03b","#ccc"],"line-width":2}}})];var qd=[new VectorSource({name:"Uganda Geosurvey Results",label:"Uganda",isDefault:!1,tableIdentifier:"modilab.uganda_geodata:1:current.uganda_geosurvey_results:1",geoVariables:[{name:"lat"},{name:"lon"}],getGeometry:(w,Ne)=>({type:"Point",coordinates:[parseFloat(Ne),parseFloat(w)]}),filterVariables:[{name:"cs"},{name:"wp"},{name:"cp"}],metadataVariables:[{name:"cs"},{name:"wp"},{name:"cp"}],leafletType:"circleMarker",mapboxSourceType:"geojson",mapboxLayerType:"circle",mapboxLayerOptions:{layout:{"circle-sort-key":uo.length+Nd.length+0},paint:{"circle-color":"rgba(51,255,150,0.6)","circle-radius":6}},leafletOptions:{styles:w=>({color:"rgba(51,255,150,0.6)",radius:1})}})];function MapWrapper_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}const Hd=/zoom=([\d+\.]+)/,Zd=/lat=(-?[\d+\.]+)/,$d=/lng=(-?[\d+\.]+)/,Yd=/bbox=(-?[\d+\.]+),(-?[\d+\.]+),(-?[\d+\.]+),(-?[\d+\.]+)/;class MapWrapper_MapWrapper extends tt.Component{constructor(w){super(w),MapWrapper_defineProperty(this,"loadRasters",async()=>{this.setState({isLoadingRasters:!0});const w=(await Promise.all(Dd.map(async w=>await w.fetchData()))).reduce((w,Ne)=>w.concat(Ne),[]);this.setState({rasters:w,isLoadingRasters:!1})}),MapWrapper_defineProperty(this,"loadVectors",async()=>{this.setState({isLoadingVectors:!0});const{currentVectorLayerNamesSet:w}=this.state,Ne=Nd.filter(({name:Ne})=>w.has(Ne)),et={},tt={};await Promise.all(Ne.map(async w=>{const Ne=await w.fetchData();if(et[w.name]=Ne,w.filterVariables&&w.filterVariables.length){const et=function getFiltersMap(w,Ne){const et={};for(const tt of w)for(const w in tt.metadata)Ne.has(w)&&(et[w]||(et[w]={valuesSet:new Set([]),selectedValuesSet:new Set([])}),et[w].valuesSet.add(tt.metadata[w]||"(null)"),et[w].selectedValuesSet.add(tt.metadata[w]||"(null)"));return et}(Ne,new Set(w.filterVariables.map(({name:w})=>w)));tt[w.name]=et}})),this.setState({vectorFeaturesByNamesMap:et,vectorFiltersByNamesMap:tt,isLoadingVectors:!1})}),MapWrapper_defineProperty(this,"loadObservationVectors",async()=>{this.setState({isLoadingObservationVectors:!0});const{currentObservationVectorLayerNamesSet:w}=this.state,Ne=qd.filter(({name:Ne})=>w.has(Ne)),et={};await Promise.all(Ne.map(async w=>{const Ne=await w.fetchData();et[w.name]=Ne})),this.setState({observationVectorFeaturesByNamesMap:et,isLoadingObservationVectors:!1})}),MapWrapper_defineProperty(this,"loadAdminVectors",async()=>{this.setState({isLoadingAdminVectors:!0});const{currentAdminVectorLayerName:w}=this.state,Ne=uo.filter(({name:Ne})=>w===Ne),et={};await Promise.all(Ne.map(async w=>{const Ne=await w.fetchData();et[w.name]=Ne})),this.setState({adminVectorFeaturesByNamesMap:et,isLoadingAdminVectors:!1})}),MapWrapper_defineProperty(this,"handleUpdateBaseMapLayer",w=>{this.setState({currentBaseMapLayerName:w})}),MapWrapper_defineProperty(this,"handleUpdateRasterLayers",w=>{this.setState({currentRasterLayerNamesSet:w})}),MapWrapper_defineProperty(this,"handleUpdateVectorLayers",w=>{this.setState({currentVectorLayerNamesSet:w},this.loadVectors)}),MapWrapper_defineProperty(this,"handleUpdateObservationVectorLayers",w=>{this.setState({currentObservationVectorLayerNamesSet:w},this.loadObservationVectors)}),MapWrapper_defineProperty(this,"handleUpdateAdminVectorLayer",w=>{this.setState({currentAdminVectorLayerName:w},this.loadAdminVectors)}),MapWrapper_defineProperty(this,"handleUpdateVectorFilters",w=>{this.setState({vectorFiltersByNamesMap:w})}),MapWrapper_defineProperty(this,"filterFeatures",(w,Ne)=>{const{vectorFiltersByNamesMap:et}=this.state,tt=et[w],nt=[];for(const w in tt)nt.push(w);return Ne.filter(w=>!w.metadata||nt.every(Ne=>void 0===w.metadata[Ne]||tt[Ne].selectedValuesSet.has(w.metadata[Ne]||"(null)")))}),MapWrapper_defineProperty(this,"handleZoomOrPan",(w,Ne)=>{const{location:{pathname:et},history:tt}=this.props;tt.replace({pathname:et,search:`zoom=${w}&lng=${Ne.lng}&lat=${Ne.lat}`})}),MapWrapper_defineProperty(this,"getZoomAndCenter",()=>{const{location:{search:w}}=this.props,Ne=w.match(Hd),et=w.match(Zd),tt=w.match($d),nt=w.match(Yd),rt={};return Ne&&(rt.zoom=parseInt(Ne[1],10)),et&&tt&&(rt.center=[parseFloat(tt[1]),parseFloat(et[1])]),nt&&(rt.boundingBox=[[parseFloat(nt[1]),parseFloat(nt[3])],[parseFloat(nt[2]),parseFloat(nt[4])]]),rt});const Ne=Nd.filter(({isDefault:w})=>w),et=qd.filter(({isDefault:w})=>w),tt=uo.filter(({isDefault:w})=>w),nt={},rt={},it={},ot={};for(const w of Ne)nt[w.name]=[],rt[w.name]={};for(const w of et)it[w.name]=[];for(const w of tt)ot[w.name]=[];this.state={currentBaseMapLayerName:zd.find(({isDefault:w})=>w).name,currentRasterLayerNamesSet:new Set([]),currentVectorLayerNamesSet:new Set(Ne.map(({name:w})=>w)),currentAdminVectorLayerName:uo.find(({isDefault:w})=>w).name,currentObservationVectorLayerNamesSet:new Set(et.map(({name:w})=>w)),rasters:[],vectorFeaturesByNamesMap:nt,vectorFiltersByNamesMap:rt,adminVectorFeaturesByNamesMap:ot,observationVectorFeaturesByNamesMap:it,isLoadingRasters:!1,isLoadingVectors:!1,isLoadingObservationVectors:!1,isLoadingAdminVectors:!1}}componentDidMount(){const{location:{search:w},history:Ne}=this.props;this.loadRasters(),this.loadVectors(),this.loadObservationVectors(),this.loadAdminVectors();w.match(Yd)&&Ne.replace({search:""})}render(){const{vectorFiltersByNamesMap:w,vectorFeaturesByNamesMap:Ne,adminVectorFeaturesByNamesMap:et,observationVectorFeaturesByNamesMap:tt,currentRasterLayerNamesSet:rt,currentVectorLayerNamesSet:it,currentAdminVectorLayerName:ot,currentObservationVectorLayerNamesSet:at,currentBaseMapLayerName:st,rasters:ct,isLoadingRasters:pt,isLoadingVectors:ft,isLoadingObservationVectors:dt,isLoadingAdminVectors:mt}=this.state,{zoom:yt,center:vt,boundingBox:Ot}=this.getZoomAndCenter();return nt.a.createElement("div",{className:fa.mapWrapper},nt.a.createElement("div",{className:fa.filters},nt.a.createElement(Filters,{baseMapLayers:zd,rasterLayers:ct,vectorLayers:Nd,adminVectorLayers:uo,observationVectorLayers:qd,selectedAdminVectorLayerName:ot,vectorFiltersByNamesMap:w,selectedBaseMapLayerName:st,selectedRasterLayerNamesSet:rt,selectedVectorLayerNamesSet:it,selectedObservationVectorLayerNamesSet:at,onUpdateBaseMapLayer:this.handleUpdateBaseMapLayer,onUpdateRasterLayers:this.handleUpdateRasterLayers,onUpdateVectorLayers:this.handleUpdateVectorLayers,onUpdateAdminVectorLayer:this.handleUpdateAdminVectorLayer,onUpdateObservationVectorLayers:this.handleUpdateObservationVectorLayers,onUpdateVectorFilters:this.handleUpdateVectorFilters,isLoadingRasters:pt,isLoadingVectors:ft,isLoadingObservationVectors:dt,isLoadingAdminVectors:mt})),nt.a.createElement("div",{className:fa.map},nt.a.createElement(Map_Map,{baseMapLayer:zd.find(({name:w})=>w===st),rasterLayers:ct.filter(({name:w})=>rt.has(w)),vectorLayers:Nd.filter(({name:w})=>it.has(w)).map(w=>({...w,features:this.filterFeatures(w.name,Ne[w.name]||[])})),observationVectorLayers:qd.filter(({name:w})=>at.has(w)).map(w=>({...w,features:tt[w.name]||[]})),adminVectorLayers:uo.filter(({name:w})=>w===ot).map(w=>({...w,features:et[w.name]||[]})),onZoomOrPan:this.handleZoomOrPan,zoom:yt,center:vt,boundingBox:Ot})))}}var em=withRouter(MapWrapper_MapWrapper),tm=et(86);class About_About extends tt.Component{render(){return nt.a.createElement("div",{className:tm.aboutWrapper},nt.a.createElement("span",{className:tm.header},"About"))}}var nm=withRouter(About_About);function App_defineProperty(w,Ne,et){return Ne in w?Object.defineProperty(w,Ne,{value:et,enumerable:!0,configurable:!0,writable:!0}):w[Ne]=et,w}class App_App extends tt.Component{constructor(w){super(w),App_defineProperty(this,"renderHeader",()=>nt.a.createElement("div",{className:rr.headerWrapper},nt.a.createElement("div",{className:rr.header},nt.a.createElement("h2",null,"QSEL Map")),nt.a.createElement("div",{className:rr.navigation},nt.a.createElement(er,{exact:!0,className:rr.link,activeClassName:rr.active,to:"/cwp-epu-data-platform"},"Explore data"),nt.a.createElement(er,{exact:!0,className:rr.link,activeClassName:rr.active,to:"/map"},"Map"),nt.a.createElement(er,{exact:!0,className:rr.link,activeClassName:rr.active,to:"/about"},"About")))),App_defineProperty(this,"renderBody",()=>nt.a.createElement("div",{className:rr.bodyWrapper},nt.a.createElement(Mn,null,nt.a.createElement(In,{exact:!0,path:"/map",component:em}),nt.a.createElement(In,{exact:!0,path:"/about",component:nm}),nt.a.createElement(In,{component:pa}))));const{history:Ne}=w;let et=localStorage.getItem("path");et&&(localStorage.removeItem("path"),Ne.push([et]))}render(){return nt.a.createElement("div",{className:rr.appWrapper},this.renderHeader(),this.renderBody())}}var rm=withRouter(App_App);let im=document.getElementById("root");im||(im=document.createElement("div"),im.id="root",document.body.appendChild(im)),Object(rt.render)(nt.a.createElement(zn,null,nt.a.createElement(rm,null)),im)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return mergeClasses}));var tt=et(1);function mergeClasses(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=w.baseClasses,et=w.newClasses;w.Component;if(!et)return Ne;var nt=Object(tt.a)({},Ne);return Object.keys(et).forEach((function(w){et[w]&&(nt[w]="".concat(Ne[w]," ").concat(et[w]))})),nt}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return deepmerge}));var tt=et(1),nt=et(34);function isPlainObject(w){return w&&"object"===Object(nt.a)(w)&&w.constructor===Object}function deepmerge(w,Ne){var et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},nt=et.clone?Object(tt.a)({},w):w;return isPlainObject(w)&&isPlainObject(Ne)&&Object.keys(Ne).forEach((function(tt){"__proto__"!==tt&&(isPlainObject(Ne[tt])&&tt in w?nt[tt]=deepmerge(w[tt],Ne[tt],et):nt[tt]=Ne[tt])})),nt}},function(w,Ne,et){"use strict";function getThemeProps(w){var Ne=w.theme,et=w.name,tt=w.props;if(!Ne||!Ne.props||!Ne.props[et])return tt;var nt,rt=Ne.props[et];for(nt in rt)void 0===tt[nt]&&(tt[nt]=rt[nt]);return tt}et.d(Ne,"a",(function(){return getThemeProps}))},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return makeStyles}));var tt=et(2),nt=et(1),rt=et(0),it=et.n(rt),ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},at="object"===("undefined"==typeof window?"undefined":ot(window))&&"object"===("undefined"==typeof document?"undefined":ot(document))&&9===document.nodeType,st=(et(25),et(40)),ct=et(15),pt=et(61),ft=et(18),dt={}.constructor;function cloneStyle(w){if(null==w||"object"!=typeof w)return w;if(Array.isArray(w))return w.map(cloneStyle);if(w.constructor!==dt)return w;var Ne={};for(var et in w)Ne[et]=cloneStyle(w[et]);return Ne}function createRule(w,Ne,et){void 0===w&&(w="unnamed");var tt=et.jss,nt=cloneStyle(Ne),rt=tt.plugins.onCreateRule(w,nt,et);return rt||(w[0],null)}var mt=function join(w,Ne){for(var et="",tt=0;tt<w.length&&"!important"!==w[tt];tt++)et&&(et+=Ne),et+=w[tt];return et};function toCssValue(w,Ne){if(void 0===Ne&&(Ne=!1),!Array.isArray(w))return w;var et="";if(Array.isArray(w[0]))for(var tt=0;tt<w.length&&"!important"!==w[tt];tt++)et&&(et+=", "),et+=mt(w[tt]," ");else et=mt(w,", ");return Ne||"!important"!==w[w.length-1]||(et+=" !important"),et}function indentStr(w,Ne){for(var et="",tt=0;tt<Ne;tt++)et+="  ";return et+w}function toCss(w,Ne,et){void 0===et&&(et={});var tt="";if(!Ne)return tt;var nt=et.indent,rt=void 0===nt?0:nt,it=Ne.fallbacks;if(w&&rt++,it)if(Array.isArray(it))for(var ot=0;ot<it.length;ot++){var at=it[ot];for(var st in at){var ct=at[st];null!=ct&&(tt&&(tt+="\n"),tt+=""+indentStr(st+": "+toCssValue(ct)+";",rt))}}else for(var pt in it){var ft=it[pt];null!=ft&&(tt&&(tt+="\n"),tt+=""+indentStr(pt+": "+toCssValue(ft)+";",rt))}for(var dt in Ne){var mt=Ne[dt];null!=mt&&"fallbacks"!==dt&&(tt&&(tt+="\n"),tt+=""+indentStr(dt+": "+toCssValue(mt)+";",rt))}return(tt||et.allowEmpty)&&w?(tt&&(tt="\n"+tt+"\n"),indentStr(w+" {"+tt,--rt)+indentStr("}",rt)):tt}var yt=/([[\].#*$><+~=|^:(),"'`\s])/g,vt="undefined"!=typeof CSS&&CSS.escape,jss_esm_escape=function(w){return vt?vt(w):w.replace(yt,"\\$1")},Ot=function(){function BaseStyleRule(w,Ne,et){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var tt=et.sheet,nt=et.Renderer;this.key=w,this.options=et,this.style=Ne,tt?this.renderer=tt.renderer:nt&&(this.renderer=new nt)}return BaseStyleRule.prototype.prop=function prop(w,Ne,et){if(void 0===Ne)return this.style[w];var tt=!!et&&et.force;if(!tt&&this.style[w]===Ne)return this;var nt=Ne;et&&!1===et.process||(nt=this.options.jss.plugins.onChangeValue(Ne,w,this));var rt=null==nt||!1===nt,it=w in this.style;if(rt&&!it&&!tt)return this;var ot=rt&&it;if(ot?delete this.style[w]:this.style[w]=nt,this.renderable&&this.renderer)return ot?this.renderer.removeProperty(this.renderable,w):this.renderer.setProperty(this.renderable,w,nt),this;var at=this.options.sheet;return at&&at.attached,this},BaseStyleRule}(),Dt=function(w){function StyleRule(Ne,et,tt){var nt;(nt=w.call(this,Ne,et,tt)||this).selectorText=void 0,nt.id=void 0,nt.renderable=void 0;var rt=tt.selector,it=tt.scoped,ot=tt.sheet,at=tt.generateId;return rt?nt.selectorText=rt:!1!==it&&(nt.id=at(Object(pt.a)(Object(pt.a)(nt)),ot),nt.selectorText="."+jss_esm_escape(nt.id)),nt}Object(ct.a)(StyleRule,w);var Ne=StyleRule.prototype;return Ne.applyTo=function applyTo(w){var Ne=this.renderer;if(Ne){var et=this.toJSON();for(var tt in et)Ne.setProperty(w,tt,et[tt])}return this},Ne.toJSON=function toJSON(){var w={};for(var Ne in this.style){var et=this.style[Ne];"object"!=typeof et?w[Ne]=et:Array.isArray(et)&&(w[Ne]=toCssValue(et))}return w},Ne.toString=function toString(w){var Ne=this.options.sheet,et=!!Ne&&Ne.options.link?Object(nt.a)({},w,{allowEmpty:!0}):w;return toCss(this.selectorText,this.style,et)},Object(st.a)(StyleRule,[{key:"selector",set:function set(w){if(w!==this.selectorText){this.selectorText=w;var Ne=this.renderer,et=this.renderable;if(et&&Ne)Ne.setSelector(et,w)||Ne.replaceRule(et,this)}},get:function get(){return this.selectorText}}]),StyleRule}(Ot),Rt={onCreateRule:function onCreateRule(w,Ne,et){return"@"===w[0]||et.parent&&"keyframes"===et.parent.type?null:new Dt(w,Ne,et)}},Bt={indent:1,children:!0},rn=/@([\w-]+)/,vn=function(){function ConditionalRule(w,Ne,et){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.query=et.name;var tt=w.match(rn);for(var rt in this.at=tt?tt[1]:"unknown",this.options=et,this.rules=new po(Object(nt.a)({},et,{parent:this})),Ne)this.rules.add(rt,Ne[rt]);this.rules.process()}var w=ConditionalRule.prototype;return w.getRule=function getRule(w){return this.rules.get(w)},w.indexOf=function indexOf(w){return this.rules.indexOf(w)},w.addRule=function addRule(w,Ne,et){var tt=this.rules.add(w,Ne,et);return tt?(this.options.jss.plugins.onProcessRule(tt),tt):null},w.toString=function toString(w){if(void 0===w&&(w=Bt),null==w.indent&&(w.indent=Bt.indent),null==w.children&&(w.children=Bt.children),!1===w.children)return this.query+" {}";var Ne=this.rules.toString(w);return Ne?this.query+" {\n"+Ne+"\n}":""},ConditionalRule}(),bn=/@media|@supports\s+/,Cn={onCreateRule:function onCreateRule(w,Ne,et){return bn.test(w)?new vn(w,Ne,et):null}},Tn={indent:1,children:!0},In=/@keyframes\s+([\w-]+)/,Mn=function(){function KeyframesRule(w,Ne,et){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var tt=w.match(In);tt&&tt[1]?this.name=tt[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=et;var rt=et.scoped,it=et.sheet,ot=et.generateId;for(var at in this.id=!1===rt?this.name:jss_esm_escape(ot(this,it)),this.rules=new po(Object(nt.a)({},et,{parent:this})),Ne)this.rules.add(at,Ne[at],Object(nt.a)({},et,{parent:this}));this.rules.process()}return KeyframesRule.prototype.toString=function toString(w){if(void 0===w&&(w=Tn),null==w.indent&&(w.indent=Tn.indent),null==w.children&&(w.children=Tn.children),!1===w.children)return this.at+" "+this.id+" {}";var Ne=this.rules.toString(w);return Ne&&(Ne="\n"+Ne+"\n"),this.at+" "+this.id+" {"+Ne+"}"},KeyframesRule}(),zn=/@keyframes\s+/,Ln=/\$([\w-]+)/g,Fn=function findReferencedKeyframe(w,Ne){return"string"==typeof w?w.replace(Ln,(function(w,et){return et in Ne?Ne[et]:w})):w},Bn=function replaceRef(w,Ne,et){var tt=w[Ne],nt=Fn(tt,et);nt!==tt&&(w[Ne]=nt)},Nn={onCreateRule:function onCreateRule(w,Ne,et){return"string"==typeof w&&zn.test(w)?new Mn(w,Ne,et):null},onProcessStyle:function onProcessStyle(w,Ne,et){return"style"===Ne.type&&et?("animation-name"in w&&Bn(w,"animation-name",et.keyframes),"animation"in w&&Bn(w,"animation",et.keyframes),w):w},onChangeValue:function onChangeValue(w,Ne,et){var tt=et.options.sheet;if(!tt)return w;switch(Ne){case"animation":case"animation-name":return Fn(w,tt.keyframes);default:return w}}},Vn=function(w){function KeyframeRule(){for(var Ne,et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return(Ne=w.call.apply(w,[this].concat(tt))||this).renderable=void 0,Ne}return Object(ct.a)(KeyframeRule,w),KeyframeRule.prototype.toString=function toString(w){var Ne=this.options.sheet,et=!!Ne&&Ne.options.link?Object(nt.a)({},w,{allowEmpty:!0}):w;return toCss(this.key,this.style,et)},KeyframeRule}(Ot),Wn={onCreateRule:function onCreateRule(w,Ne,et){return et.parent&&"keyframes"===et.parent.type?new Vn(w,Ne,et):null}},$n=function(){function FontFaceRule(w,Ne,et){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.style=Ne,this.options=et}return FontFaceRule.prototype.toString=function toString(w){if(Array.isArray(this.style)){for(var Ne="",et=0;et<this.style.length;et++)Ne+=toCss(this.at,this.style[et]),this.style[et+1]&&(Ne+="\n");return Ne}return toCss(this.at,this.style,w)},FontFaceRule}(),Yn=/@font-face/,er={onCreateRule:function onCreateRule(w,Ne,et){return Yn.test(w)?new $n(w,Ne,et):null}},rr=function(){function ViewportRule(w,Ne,et){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.style=Ne,this.options=et}return ViewportRule.prototype.toString=function toString(w){return toCss(this.key,this.style,w)},ViewportRule}(),vr={onCreateRule:function onCreateRule(w,Ne,et){return"@viewport"===w||"@-ms-viewport"===w?new rr(w,Ne,et):null}},wr=function(){function SimpleRule(w,Ne,et){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=w,this.value=Ne,this.options=et}return SimpleRule.prototype.toString=function toString(w){if(Array.isArray(this.value)){for(var Ne="",et=0;et<this.value.length;et++)Ne+=this.key+" "+this.value[et]+";",this.value[et+1]&&(Ne+="\n");return Ne}return this.key+" "+this.value+";"},SimpleRule}(),Sr={"@charset":!0,"@import":!0,"@namespace":!0},ii=[Rt,Cn,Nn,Wn,er,vr,{onCreateRule:function onCreateRule(w,Ne,et){return w in Sr?new wr(w,Ne,et):null}}],qi={process:!0},uo={force:!0,process:!0},po=function(){function RuleList(w){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=w,this.classes=w.classes,this.keyframes=w.keyframes}var w=RuleList.prototype;return w.add=function add(w,Ne,et){var tt=this.options,rt=tt.parent,it=tt.sheet,ot=tt.jss,at=tt.Renderer,st=tt.generateId,ct=tt.scoped,pt=Object(nt.a)({classes:this.classes,parent:rt,sheet:it,jss:ot,Renderer:at,generateId:st,scoped:ct,name:w},et),ft=w;w in this.raw&&(ft=w+"-d"+this.counter++),this.raw[ft]=Ne,ft in this.classes&&(pt.selector="."+jss_esm_escape(this.classes[ft]));var dt=createRule(ft,Ne,pt);if(!dt)return null;this.register(dt);var mt=void 0===pt.index?this.index.length:pt.index;return this.index.splice(mt,0,dt),dt},w.get=function get(w){return this.map[w]},w.remove=function remove(w){this.unregister(w),delete this.raw[w.key],this.index.splice(this.index.indexOf(w),1)},w.indexOf=function indexOf(w){return this.index.indexOf(w)},w.process=function process(){var w=this.options.jss.plugins;this.index.slice(0).forEach(w.onProcessRule,w)},w.register=function register(w){this.map[w.key]=w,w instanceof Dt?(this.map[w.selector]=w,w.id&&(this.classes[w.key]=w.id)):w instanceof Mn&&this.keyframes&&(this.keyframes[w.name]=w.id)},w.unregister=function unregister(w){delete this.map[w.key],w instanceof Dt?(delete this.map[w.selector],delete this.classes[w.key]):w instanceof Mn&&delete this.keyframes[w.name]},w.update=function update(){var w,Ne,et;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(w=arguments.length<=0?void 0:arguments[0],Ne=arguments.length<=1?void 0:arguments[1],et=arguments.length<=2?void 0:arguments[2]):(Ne=arguments.length<=0?void 0:arguments[0],et=arguments.length<=1?void 0:arguments[1],w=null),w)this.updateOne(this.map[w],Ne,et);else for(var tt=0;tt<this.index.length;tt++)this.updateOne(this.index[tt],Ne,et)},w.updateOne=function updateOne(w,Ne,et){void 0===et&&(et=qi);var tt=this.options,nt=tt.jss.plugins,rt=tt.sheet;if(w.rules instanceof RuleList)w.rules.update(Ne,et);else{var it=w,ot=it.style;if(nt.onUpdate(Ne,w,rt,et),et.process&&ot&&ot!==it.style){for(var at in nt.onProcessStyle(it.style,it,rt),it.style){var st=it.style[at];st!==ot[at]&&it.prop(at,st,uo)}for(var ct in ot){var pt=it.style[ct],ft=ot[ct];null==pt&&pt!==ft&&it.prop(ct,null,uo)}}}},w.toString=function toString(w){for(var Ne="",et=this.options.sheet,tt=!!et&&et.options.link,nt=0;nt<this.index.length;nt++){var rt=this.index[nt].toString(w);(rt||tt)&&(Ne&&(Ne+="\n"),Ne+=rt)}return Ne},RuleList}(),vo=function(){function StyleSheet(w,Ne){for(var et in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(nt.a)({},Ne,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),Ne.Renderer&&(this.renderer=new Ne.Renderer(this)),this.rules=new po(this.options),w)this.rules.add(et,w[et]);this.rules.process()}var w=StyleSheet.prototype;return w.attach=function attach(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},w.detach=function detach(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},w.addRule=function addRule(w,Ne,et){var tt=this.queue;this.attached&&!tt&&(this.queue=[]);var nt=this.rules.add(w,Ne,et);return nt?(this.options.jss.plugins.onProcessRule(nt),this.attached?this.deployed?(tt?tt.push(nt):(this.insertRule(nt),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),nt):nt:(this.deployed=!1,nt)):null},w.insertRule=function insertRule(w){this.renderer&&this.renderer.insertRule(w)},w.addRules=function addRules(w,Ne){var et=[];for(var tt in w){var nt=this.addRule(tt,w[tt],Ne);nt&&et.push(nt)}return et},w.getRule=function getRule(w){return this.rules.get(w)},w.deleteRule=function deleteRule(w){var Ne="object"==typeof w?w:this.rules.get(w);return!!Ne&&(this.rules.remove(Ne),!(this.attached&&Ne.renderable&&this.renderer)||this.renderer.deleteRule(Ne.renderable))},w.indexOf=function indexOf(w){return this.rules.indexOf(w)},w.deploy=function deploy(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},w.update=function update(){var w;return(w=this.rules).update.apply(w,arguments),this},w.updateOne=function updateOne(w,Ne,et){return this.rules.updateOne(w,Ne,et),this},w.toString=function toString(w){return this.rules.toString(w)},StyleSheet}(),So=function(){function PluginsRegistry(){this.plugins={internal:[],external:[]},this.registry=void 0}var w=PluginsRegistry.prototype;return w.onCreateRule=function onCreateRule(w,Ne,et){for(var tt=0;tt<this.registry.onCreateRule.length;tt++){var nt=this.registry.onCreateRule[tt](w,Ne,et);if(nt)return nt}return null},w.onProcessRule=function onProcessRule(w){if(!w.isProcessed){for(var Ne=w.options.sheet,et=0;et<this.registry.onProcessRule.length;et++)this.registry.onProcessRule[et](w,Ne);w.style&&this.onProcessStyle(w.style,w,Ne),w.isProcessed=!0}},w.onProcessStyle=function onProcessStyle(w,Ne,et){for(var tt=0;tt<this.registry.onProcessStyle.length;tt++)Ne.style=this.registry.onProcessStyle[tt](Ne.style,Ne,et)},w.onProcessSheet=function onProcessSheet(w){for(var Ne=0;Ne<this.registry.onProcessSheet.length;Ne++)this.registry.onProcessSheet[Ne](w)},w.onUpdate=function onUpdate(w,Ne,et,tt){for(var nt=0;nt<this.registry.onUpdate.length;nt++)this.registry.onUpdate[nt](w,Ne,et,tt)},w.onChangeValue=function onChangeValue(w,Ne,et){for(var tt=w,nt=0;nt<this.registry.onChangeValue.length;nt++)tt=this.registry.onChangeValue[nt](tt,Ne,et);return tt},w.use=function use(w,Ne){void 0===Ne&&(Ne={queue:"external"});var et=this.plugins[Ne.queue];-1===et.indexOf(w)&&(et.push(w),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(w,Ne){for(var et in Ne)et in w&&w[et].push(Ne[et]);return w}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},PluginsRegistry}(),ta=new(function(){function SheetsRegistry(){this.registry=[]}var w=SheetsRegistry.prototype;return w.add=function add(w){var Ne=this.registry,et=w.options.index;if(-1===Ne.indexOf(w))if(0===Ne.length||et>=this.index)Ne.push(w);else for(var tt=0;tt<Ne.length;tt++)if(Ne[tt].options.index>et)return void Ne.splice(tt,0,w)},w.reset=function reset(){this.registry=[]},w.remove=function remove(w){var Ne=this.registry.indexOf(w);this.registry.splice(Ne,1)},w.toString=function toString(w){for(var Ne=void 0===w?{}:w,et=Ne.attached,tt=Object(ft.a)(Ne,["attached"]),nt="",rt=0;rt<this.registry.length;rt++){var it=this.registry[rt];null!=et&&it.attached!==et||(nt&&(nt+="\n"),nt+=it.toString(tt))}return nt},Object(st.a)(SheetsRegistry,[{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}()),na="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ia="2f1acc6c3a606b082e5eef5e54414ffb";null==na[ia]&&(na[ia]=0);var sa=na[ia]++,la=function createGenerateId(w){void 0===w&&(w={});var Ne=0;return function(et,tt){Ne+=1;var nt="",rt="";return tt&&(tt.options.classNamePrefix&&(rt=tt.options.classNamePrefix),null!=tt.options.jss.id&&(nt=String(tt.options.jss.id))),w.minify?""+(rt||"c")+sa+nt+Ne:rt+et.key+"-"+sa+(nt?"-"+nt:"")+"-"+Ne}},pa=function memoize(w){var Ne;return function(){return Ne||(Ne=w()),Ne}};function getPropertyValue(w,Ne){try{return w.attributeStyleMap?w.attributeStyleMap.get(Ne):w.style.getPropertyValue(Ne)}catch(w){return""}}function setProperty(w,Ne,et){try{var tt=et;if(Array.isArray(et)&&(tt=toCssValue(et,!0),"!important"===et[et.length-1]))return w.style.setProperty(Ne,tt,"important"),!0;w.attributeStyleMap?w.attributeStyleMap.set(Ne,tt):w.style.setProperty(Ne,tt)}catch(w){return!1}return!0}function removeProperty(w,Ne){try{w.attributeStyleMap?w.attributeStyleMap.delete(Ne):w.style.removeProperty(Ne)}catch(w){}}function setSelector(w,Ne){return w.selectorText=Ne,w.selectorText===Ne}var fa=pa((function(){return document.querySelector("head")}));function findPrevNode(w){var Ne=ta.registry;if(Ne.length>0){var et=function findHigherSheet(w,Ne){for(var et=0;et<w.length;et++){var tt=w[et];if(tt.attached&&tt.options.index>Ne.index&&tt.options.insertionPoint===Ne.insertionPoint)return tt}return null}(Ne,w);if(et&&et.renderer)return{parent:et.renderer.element.parentNode,node:et.renderer.element};if((et=function findHighestSheet(w,Ne){for(var et=w.length-1;et>=0;et--){var tt=w[et];if(tt.attached&&tt.options.insertionPoint===Ne.insertionPoint)return tt}return null}(Ne,w))&&et.renderer)return{parent:et.renderer.element.parentNode,node:et.renderer.element.nextSibling}}var tt=w.insertionPoint;if(tt&&"string"==typeof tt){var nt=function findCommentNode(w){for(var Ne=fa(),et=0;et<Ne.childNodes.length;et++){var tt=Ne.childNodes[et];if(8===tt.nodeType&&tt.nodeValue.trim()===w)return tt}return null}(tt);if(nt)return{parent:nt.parentNode,node:nt.nextSibling}}return!1}var ga=pa((function(){var w=document.querySelector('meta[property="csp-nonce"]');return w?w.getAttribute("content"):null})),va=function insertRule(w,Ne,et){var tt=w.cssRules.length;(void 0===et||et>tt)&&(et=tt);try{if("insertRule"in w)w.insertRule(Ne,et);else if("appendRule"in w){w.appendRule(Ne)}}catch(w){return!1}return w.cssRules[et]},_a=function(){function DomRenderer(w){this.getPropertyValue=getPropertyValue,this.setProperty=setProperty,this.removeProperty=removeProperty,this.setSelector=setSelector,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,w&&ta.add(w),this.sheet=w;var Ne=this.sheet?this.sheet.options:{},et=Ne.media,tt=Ne.meta,nt=Ne.element;this.element=nt||function createStyle(){var w=document.createElement("style");return w.textContent="\n",w}(),this.element.setAttribute("data-jss",""),et&&this.element.setAttribute("media",et),tt&&this.element.setAttribute("data-meta",tt);var rt=ga();rt&&this.element.setAttribute("nonce",rt)}var w=DomRenderer.prototype;return w.attach=function attach(){if(!this.element.parentNode&&this.sheet){!function insertStyle(w,Ne){var et=Ne.insertionPoint,tt=findPrevNode(Ne);if(!1!==tt&&tt.parent)tt.parent.insertBefore(w,tt.node);else if(et&&"number"==typeof et.nodeType){var nt=et,rt=nt.parentNode;rt&&rt.insertBefore(w,nt.nextSibling)}else fa().appendChild(w)}(this.element,this.sheet.options);var w=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&w&&(this.hasInsertedRules=!1,this.deploy())}},w.detach=function detach(){var w=this.element.parentNode;w&&w.removeChild(this.element)},w.deploy=function deploy(){var w=this.sheet;w&&(w.options.link?this.insertRules(w.rules):this.element.textContent="\n"+w.toString()+"\n")},w.insertRules=function insertRules(w,Ne){for(var et=0;et<w.index.length;et++)this.insertRule(w.index[et],et,Ne)},w.insertRule=function insertRule(w,Ne,et){if(void 0===et&&(et=this.element.sheet),w.rules){var tt=w,nt=et;return("conditional"!==w.type&&"keyframes"!==w.type||!1!==(nt=va(et,tt.toString({children:!1}),Ne)))&&(this.insertRules(tt.rules,nt),nt)}if(w.renderable&&w.renderable.parentStyleSheet===this.element.sheet)return w.renderable;var rt=w.toString();if(!rt)return!1;var it=va(et,rt,Ne);return!1!==it&&(this.hasInsertedRules=!0,w.renderable=it,it)},w.deleteRule=function deleteRule(w){var Ne=this.element.sheet,et=this.indexOf(w);return-1!==et&&(Ne.deleteRule(et),!0)},w.indexOf=function indexOf(w){for(var Ne=this.element.sheet.cssRules,et=0;et<Ne.length;et++)if(w===Ne[et])return et;return-1},w.replaceRule=function replaceRule(w,Ne){var et=this.indexOf(w);return-1!==et&&(this.element.sheet.deleteRule(et),this.insertRule(Ne,et))},w.getRules=function getRules(){return this.element.sheet.cssRules},DomRenderer}(),wa=0,Aa=function(){function Jss(w){this.id=wa++,this.version="10.3.0",this.plugins=new So,this.options={id:{minify:!1},createGenerateId:la,Renderer:at?_a:null,plugins:[]},this.generateId=la({minify:!1});for(var Ne=0;Ne<ii.length;Ne++)this.plugins.use(ii[Ne],{queue:"internal"});this.setup(w)}var w=Jss.prototype;return w.setup=function setup(w){return void 0===w&&(w={}),w.createGenerateId&&(this.options.createGenerateId=w.createGenerateId),w.id&&(this.options.id=Object(nt.a)({},this.options.id,w.id)),(w.createGenerateId||w.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=w.insertionPoint&&(this.options.insertionPoint=w.insertionPoint),"Renderer"in w&&(this.options.Renderer=w.Renderer),w.plugins&&this.use.apply(this,w.plugins),this},w.createStyleSheet=function createStyleSheet(w,Ne){void 0===Ne&&(Ne={});var et=Ne.index;"number"!=typeof et&&(et=0===ta.index?0:ta.index+1);var tt=new vo(w,Object(nt.a)({},Ne,{jss:this,generateId:Ne.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:et}));return this.plugins.onProcessSheet(tt),tt},w.removeStyleSheet=function removeStyleSheet(w){return w.detach(),ta.remove(w),this},w.createRule=function createRule$1(w,Ne,et){if(void 0===Ne&&(Ne={}),void 0===et&&(et={}),"object"==typeof w)return this.createRule(void 0,w,Ne);var tt=Object(nt.a)({},et,{name:w,jss:this,Renderer:this.options.Renderer});tt.generateId||(tt.generateId=this.generateId),tt.classes||(tt.classes={}),tt.keyframes||(tt.keyframes={});var rt=createRule(w,Ne,tt);return rt&&this.plugins.onProcessRule(rt),rt},w.use=function use(){for(var w=this,Ne=arguments.length,et=new Array(Ne),tt=0;tt<Ne;tt++)et[tt]=arguments[tt];return et.forEach((function(Ne){w.plugins.use(Ne)})),this},Jss}();var os="undefined"!=typeof CSS&&CSS&&"number"in CSS,as=function create(w){return new Aa(w)},ss=(as(),et(225)),ls={set:function set(w,Ne,et,tt){var nt=w.get(Ne);nt||(nt=new Map,w.set(Ne,nt)),nt.set(et,tt)},get:function get(w,Ne,et){var tt=w.get(Ne);return tt?tt.get(et):void 0},delete:function _delete(w,Ne,et){w.get(Ne).delete(et)}},us=et(229),fs=(et(4),"function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),gs=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */var vs=Date.now(),xs="fnValues"+vs,Ss="fnStyle"+ ++vs;var Es=function functionPlugin(){return{onCreateRule:function onCreateRule(w,Ne,et){if("function"!=typeof Ne)return null;var tt=createRule(w,{},et);return tt[Ss]=Ne,tt},onProcessStyle:function onProcessStyle(w,Ne){if(xs in Ne||Ss in Ne)return w;var et={};for(var tt in w){var nt=w[tt];"function"==typeof nt&&(delete w[tt],et[tt]=nt)}return Ne[xs]=et,w},onUpdate:function onUpdate(w,Ne,et,tt){var nt=Ne,rt=nt[Ss];rt&&(nt.style=rt(w)||{});var it=nt[xs];if(it)for(var ot in it)nt.prop(ot,it[ot](w),tt)}}},Cs="@global",Ps=function(){function GlobalContainerRule(w,Ne,et){for(var tt in this.type="global",this.at=Cs,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=w,this.options=et,this.rules=new po(Object(nt.a)({},et,{parent:this})),Ne)this.rules.add(tt,Ne[tt]);this.rules.process()}var w=GlobalContainerRule.prototype;return w.getRule=function getRule(w){return this.rules.get(w)},w.addRule=function addRule(w,Ne,et){var tt=this.rules.add(w,Ne,et);return this.options.jss.plugins.onProcessRule(tt),tt},w.indexOf=function indexOf(w){return this.rules.indexOf(w)},w.toString=function toString(){return this.rules.toString()},GlobalContainerRule}(),As=function(){function GlobalPrefixedRule(w,Ne,et){this.type="global",this.at=Cs,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=w,this.options=et;var tt=w.substr("@global ".length);this.rule=et.jss.createRule(tt,Ne,Object(nt.a)({},et,{parent:this}))}return GlobalPrefixedRule.prototype.toString=function toString(w){return this.rule?this.rule.toString(w):""},GlobalPrefixedRule}(),Ms=/\s*,\s*/g;function addScope(w,Ne){for(var et=w.split(Ms),tt="",nt=0;nt<et.length;nt++)tt+=Ne+" "+et[nt].trim(),et[nt+1]&&(tt+=", ");return tt}var Os=function jssGlobal(){return{onCreateRule:function onCreateRule(w,Ne,et){if(!w)return null;if(w===Cs)return new Ps(w,Ne,et);if("@"===w[0]&&"@global "===w.substr(0,"@global ".length))return new As(w,Ne,et);var tt=et.parent;return tt&&("global"===tt.type||tt.options.parent&&"global"===tt.options.parent.type)&&(et.scoped=!1),!1===et.scoped&&(et.selector=w),null},onProcessRule:function onProcessRule(w){"style"===w.type&&(!function handleNestedGlobalContainerRule(w){var Ne=w.options,et=w.style,tt=et?et[Cs]:null;if(tt){for(var rt in tt)Ne.sheet.addRule(rt,tt[rt],Object(nt.a)({},Ne,{selector:addScope(rt,w.selector)}));delete et[Cs]}}(w),function handlePrefixedGlobalRule(w){var Ne=w.options,et=w.style;for(var tt in et)if("@"===tt[0]&&tt.substr(0,Cs.length)===Cs){var rt=addScope(tt.substr(Cs.length),w.selector);Ne.sheet.addRule(rt,et[tt],Object(nt.a)({},Ne,{selector:rt})),delete et[tt]}}(w))}}},zs=/\s*,\s*/g,Ls=/&/g,Rs=/\$([\w-]+)/g;var Fs=function jssNested(){function getReplaceRef(w,Ne){return function(et,tt){var nt=w.getRule(tt)||Ne&&Ne.getRule(tt);return nt?(nt=nt).selector:tt}}function replaceParentRefs(w,Ne){for(var et=Ne.split(zs),tt=w.split(zs),nt="",rt=0;rt<et.length;rt++)for(var it=et[rt],ot=0;ot<tt.length;ot++){var at=tt[ot];nt&&(nt+=", "),nt+=-1!==at.indexOf("&")?at.replace(Ls,it):it+" "+at}return nt}function getOptions(w,Ne,et){if(et)return Object(nt.a)({},et,{index:et.index+1});var tt=w.options.nestingLevel;tt=void 0===tt?1:tt+1;var rt=Object(nt.a)({},w.options,{nestingLevel:tt,index:Ne.indexOf(w)+1});return delete rt.name,rt}return{onProcessStyle:function onProcessStyle(w,Ne,et){if("style"!==Ne.type)return w;var tt,rt,it=Ne,ot=it.options.parent;for(var at in w){var st=-1!==at.indexOf("&"),ct="@"===at[0];if(st||ct){if(tt=getOptions(it,ot,tt),st){var pt=replaceParentRefs(at,it.selector);rt||(rt=getReplaceRef(ot,et)),pt=pt.replace(Rs,rt),ot.addRule(pt,w[at],Object(nt.a)({},tt,{selector:pt}))}else ct&&ot.addRule(at,{},tt).addRule(it.key,w[at],{selector:it.selector});delete w[at]}}return w}}},Bs=/[A-Z]/g,js=/^ms-/,Ns={};function toHyphenLower(w){return"-"+w.toLowerCase()}var Vs=function hyphenateStyleName(w){if(Ns.hasOwnProperty(w))return Ns[w];var Ne=w.replace(Bs,toHyphenLower);return Ns[w]=js.test(Ne)?"-"+Ne:Ne};function convertCase(w){var Ne={};for(var et in w){Ne[0===et.indexOf("--")?et:Vs(et)]=w[et]}return w.fallbacks&&(Array.isArray(w.fallbacks)?Ne.fallbacks=w.fallbacks.map(convertCase):Ne.fallbacks=convertCase(w.fallbacks)),Ne}var Us=function camelCase(){return{onProcessStyle:function onProcessStyle(w){if(Array.isArray(w)){for(var Ne=0;Ne<w.length;Ne++)w[Ne]=convertCase(w[Ne]);return w}return convertCase(w)},onChangeValue:function onChangeValue(w,Ne,et){if(0===Ne.indexOf("--"))return w;var tt=Vs(Ne);return Ne===tt?w:(et.prop(tt,w),null)}}},Zs=os&&CSS?CSS.px:"px",Js=os&&CSS?CSS.ms:"ms",tl=os&&CSS?CSS.percent:"%";function addCamelCasedVersion(w){var Ne=/(-[a-z])/g,et=function replace(w){return w[1].toUpperCase()},tt={};for(var nt in w)tt[nt]=w[nt],tt[nt.replace(Ne,et)]=w[nt];return tt}var ol=addCamelCasedVersion({"animation-delay":Js,"animation-duration":Js,"background-position":Zs,"background-position-x":Zs,"background-position-y":Zs,"background-size":Zs,border:Zs,"border-bottom":Zs,"border-bottom-left-radius":Zs,"border-bottom-right-radius":Zs,"border-bottom-width":Zs,"border-left":Zs,"border-left-width":Zs,"border-radius":Zs,"border-right":Zs,"border-right-width":Zs,"border-top":Zs,"border-top-left-radius":Zs,"border-top-right-radius":Zs,"border-top-width":Zs,"border-width":Zs,margin:Zs,"margin-bottom":Zs,"margin-left":Zs,"margin-right":Zs,"margin-top":Zs,padding:Zs,"padding-bottom":Zs,"padding-left":Zs,"padding-right":Zs,"padding-top":Zs,"mask-position-x":Zs,"mask-position-y":Zs,"mask-size":Zs,height:Zs,width:Zs,"min-height":Zs,"max-height":Zs,"min-width":Zs,"max-width":Zs,bottom:Zs,left:Zs,top:Zs,right:Zs,"box-shadow":Zs,"text-shadow":Zs,"column-gap":Zs,"column-rule":Zs,"column-rule-width":Zs,"column-width":Zs,"font-size":Zs,"font-size-delta":Zs,"letter-spacing":Zs,"text-indent":Zs,"text-stroke":Zs,"text-stroke-width":Zs,"word-spacing":Zs,motion:Zs,"motion-offset":Zs,outline:Zs,"outline-offset":Zs,"outline-width":Zs,perspective:Zs,"perspective-origin-x":tl,"perspective-origin-y":tl,"transform-origin":tl,"transform-origin-x":tl,"transform-origin-y":tl,"transform-origin-z":tl,"transition-delay":Js,"transition-duration":Js,"vertical-align":Zs,"flex-basis":Zs,"shape-margin":Zs,size:Zs,grid:Zs,"grid-gap":Zs,"grid-row-gap":Zs,"grid-column-gap":Zs,"grid-template-rows":Zs,"grid-template-columns":Zs,"grid-auto-rows":Zs,"grid-auto-columns":Zs,"box-shadow-x":Zs,"box-shadow-y":Zs,"box-shadow-blur":Zs,"box-shadow-spread":Zs,"font-line-height":Zs,"text-shadow-x":Zs,"text-shadow-y":Zs,"text-shadow-blur":Zs});function iterate(w,Ne,et){if(!Ne)return Ne;if(Array.isArray(Ne))for(var tt=0;tt<Ne.length;tt++)Ne[tt]=iterate(w,Ne[tt],et);else if("object"==typeof Ne)if("fallbacks"===w)for(var nt in Ne)Ne[nt]=iterate(nt,Ne[nt],et);else for(var rt in Ne)Ne[rt]=iterate(w+"-"+rt,Ne[rt],et);else if("number"==typeof Ne){var it=et[w]||ol[w];return it?"function"==typeof it?it(Ne).toString():""+Ne+it:Ne.toString()}return Ne}var sl=function defaultUnit(w){void 0===w&&(w={});var Ne=addCamelCasedVersion(w);return{onProcessStyle:function onProcessStyle(w,et){if("style"!==et.type)return w;for(var tt in w)w[tt]=iterate(tt,w[tt],Ne);return w},onChangeValue:function onChangeValue(w,et){return iterate(et,w,Ne)}}},dl=et(28),yl="",gl="",vl="",_l="",bl=at&&"ontouchstart"in document.documentElement;if(at){var xl={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},wl=document.createElement("p").style;for(var Sl in xl)if(Sl+"Transform"in wl){yl=Sl,gl=xl[Sl];break}"Webkit"===yl&&"msHyphens"in wl&&(yl="ms",gl=xl.ms,_l="edge"),"Webkit"===yl&&"-apple-trailing-word"in wl&&(vl="apple")}var kl=yl,Cl=gl,Il=vl,Al=_l,zl=bl;var Fl={noPrefill:["appearance"],supportedProperty:function supportedProperty(w){return"appearance"===w&&("ms"===kl?"-webkit-"+w:Cl+w)}},Hl={noPrefill:["color-adjust"],supportedProperty:function supportedProperty(w){return"color-adjust"===w&&("Webkit"===kl?Cl+"print-"+w:w)}},du=/[-\s]+(.)?/g;function toUpper(w,Ne){return Ne?Ne.toUpperCase():""}function camelize(w){return w.replace(du,toUpper)}function pascalize(w){return camelize("-"+w)}var vu,_u={noPrefill:["mask"],supportedProperty:function supportedProperty(w,Ne){if(!/^mask/.test(w))return!1;if("Webkit"===kl){if(camelize("mask-image")in Ne)return w;if(kl+pascalize("mask-image")in Ne)return Cl+w}return w}},wu={noPrefill:["text-orientation"],supportedProperty:function supportedProperty(w){return"text-orientation"===w&&("apple"!==Il||zl?w:Cl+w)}},Tu={noPrefill:["transform"],supportedProperty:function supportedProperty(w,Ne,et){return"transform"===w&&(et.transform?w:Cl+w)}},Fu={noPrefill:["transition"],supportedProperty:function supportedProperty(w,Ne,et){return"transition"===w&&(et.transition?w:Cl+w)}},ac={noPrefill:["writing-mode"],supportedProperty:function supportedProperty(w){return"writing-mode"===w&&("Webkit"===kl||"ms"===kl&&"edge"!==Al?Cl+w:w)}},pc={noPrefill:["user-select"],supportedProperty:function supportedProperty(w){return"user-select"===w&&("Moz"===kl||"ms"===kl||"apple"===Il?Cl+w:w)}},yc={supportedProperty:function supportedProperty(w,Ne){return!!/^break-/.test(w)&&("Webkit"===kl?"WebkitColumn"+pascalize(w)in Ne&&Cl+"column-"+w:"Moz"===kl&&("page"+pascalize(w)in Ne&&"page-"+w))}},_c={supportedProperty:function supportedProperty(w,Ne){if(!/^(border|margin|padding)-inline/.test(w))return!1;if("Moz"===kl)return w;var et=w.replace("-inline","");return kl+pascalize(et)in Ne&&Cl+et}},bc={supportedProperty:function supportedProperty(w,Ne){return camelize(w)in Ne&&w}},xc={supportedProperty:function supportedProperty(w,Ne){var et=pascalize(w);return"-"===w[0]||"-"===w[0]&&"-"===w[1]?w:kl+et in Ne?Cl+w:"Webkit"!==kl&&"Webkit"+et in Ne&&"-webkit-"+w}},wc={supportedProperty:function supportedProperty(w){return"scroll-snap"===w.substring(0,11)&&("ms"===kl?""+Cl+w:w)}},Ec={supportedProperty:function supportedProperty(w){return"overscroll-behavior"===w&&("ms"===kl?Cl+"scroll-chaining":w)}},kc={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Cc={supportedProperty:function supportedProperty(w,Ne){var et=kc[w];return!!et&&(kl+pascalize(et)in Ne&&Cl+et)}},Ic={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ac=Object.keys(Ic),zc=function prefixCss(w){return Cl+w},Dc=[Fl,Hl,_u,wu,Tu,Fu,ac,pc,yc,_c,bc,xc,wc,Ec,Cc,{supportedProperty:function supportedProperty(w,Ne,et){var tt=et.multiple;if(Ac.indexOf(w)>-1){var nt=Ic[w];if(!Array.isArray(nt))return kl+pascalize(nt)in Ne&&Cl+nt;if(!tt)return!1;for(var rt=0;rt<nt.length;rt++)if(!(kl+pascalize(nt[0])in Ne))return!1;return nt.map(zc)}return!1}}],Fc=Dc.filter((function(w){return w.supportedProperty})).map((function(w){return w.supportedProperty})),Bc=Dc.filter((function(w){return w.noPrefill})).reduce((function(w,Ne){return w.push.apply(w,Object(dl.a)(Ne.noPrefill)),w}),[]),Wc={};if(at){vu=document.createElement("p");var Hc=window.getComputedStyle(document.documentElement,"");for(var Gc in Hc)isNaN(Gc)||(Wc[Hc[Gc]]=Hc[Gc]);Bc.forEach((function(w){return delete Wc[w]}))}function supportedProperty(w,Ne){if(void 0===Ne&&(Ne={}),!vu)return w;if(null!=Wc[w])return Wc[w];"transition"!==w&&"transform"!==w||(Ne[w]=w in vu.style);for(var et=0;et<Fc.length&&(Wc[w]=Fc[et](w,vu.style,Ne),!Wc[w]);et++);try{vu.style[w]=""}catch(w){return!1}return Wc[w]}var Zc,Xc={},$c={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yc=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function prefixTransitionCallback(w,Ne,et){if("var"===Ne)return"var";if("all"===Ne)return"all";if("all"===et)return", all";var tt=Ne?supportedProperty(Ne):", "+supportedProperty(et);return tt||(Ne||et)}function supportedValue(w,Ne){var et=Ne;if(!Zc||"content"===w)return Ne;if("string"!=typeof et||!isNaN(parseInt(et,10)))return et;var tt=w+et;if(null!=Xc[tt])return Xc[tt];try{Zc.style[w]=et}catch(w){return Xc[tt]=!1,!1}if($c[w])et=et.replace(Yc,prefixTransitionCallback);else if(""===Zc.style[w]&&("-ms-flex"===(et=Cl+et)&&(Zc.style[w]="-ms-flexbox"),Zc.style[w]=et,""===Zc.style[w]))return Xc[tt]=!1,!1;return Zc.style[w]="",Xc[tt]=et,Xc[tt]}at&&(Zc=document.createElement("p"));var rp=function jssVendorPrefixer(){function prefixStyle(w){for(var Ne in w){var et=w[Ne];if("fallbacks"===Ne&&Array.isArray(et))w[Ne]=et.map(prefixStyle);else{var tt=!1,nt=supportedProperty(Ne);nt&&nt!==Ne&&(tt=!0);var rt=!1,it=supportedValue(nt,toCssValue(et));it&&it!==et&&(rt=!0),(tt||rt)&&(tt&&delete w[Ne],w[nt||Ne]=it||et)}}return w}return{onProcessRule:function onProcessRule(w){if("keyframes"===w.type){var Ne=w;Ne.at=function supportedKeyframes(w){return"-"===w[1]||"ms"===kl?w:"@"+Cl+"keyframes"+w.substr(10)}(Ne.at)}},onProcessStyle:function onProcessStyle(w,Ne){return"style"!==Ne.type?w:prefixStyle(w)},onChangeValue:function onChangeValue(w,Ne){return supportedValue(Ne,toCssValue(w))||w}}};var ip=function jssPropsSort(){var w=function sort(w,Ne){return w.length===Ne.length?w>Ne?1:-1:w.length-Ne.length};return{onProcessStyle:function onProcessStyle(Ne,et){if("style"!==et.type)return Ne;for(var tt={},nt=Object.keys(Ne).sort(w),rt=0;rt<nt.length;rt++)tt[nt[rt]]=Ne[nt[rt]];return tt}}};function jssPreset(){return{plugins:[Es(),Os(),Fs(),Us(),sl(),"undefined"==typeof window?null:rp(),ip()]}}var op=as(jssPreset()),ap={disableGeneration:!1,generateClassName:function createGenerateClassName(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=w.disableGlobal,et=void 0!==Ne&&Ne,tt=w.productionPrefix,nt=void 0===tt?"jss":tt,rt=w.seed,it=void 0===rt?"":rt,ot=""===it?"":"".concat(it,"-"),at=0,st=function getNextCounterId(){return at+=1};return function(w,Ne){var tt=Ne.options.name;if(tt&&0===tt.indexOf("Mui")&&!Ne.options.link&&!et){if(-1!==gs.indexOf(w.key))return"Mui-".concat(w.key);var rt="".concat(ot).concat(tt,"-").concat(w.key);return Ne.options.theme[fs]&&""===it?"".concat(rt,"-").concat(st()):rt}return"".concat(ot).concat(nt).concat(st())}}(),jss:op,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},sp=it.a.createContext(ap);var lp=-1e9;function increment(){return lp+=1}et(34);var cp=et(226);function getStylesCreator(w){var Ne="function"==typeof w;return{create:function create(et,tt){var rt;try{rt=Ne?w(et):w}catch(w){throw w}if(!tt||!et.overrides||!et.overrides[tt])return rt;var it=et.overrides[tt],ot=Object(nt.a)({},rt);return Object.keys(it).forEach((function(w){ot[w]=Object(cp.a)(ot[w],it[w])})),ot},options:{}}}var pp={};function getClasses(w,Ne,et){var tt=w.state;if(w.stylesOptions.disableGeneration)return Ne||{};tt.cacheClasses||(tt.cacheClasses={value:null,lastProp:null,lastJSS:{}});var nt=!1;return tt.classes!==tt.cacheClasses.lastJSS&&(tt.cacheClasses.lastJSS=tt.classes,nt=!0),Ne!==tt.cacheClasses.lastProp&&(tt.cacheClasses.lastProp=Ne,nt=!0),nt&&(tt.cacheClasses.value=Object(ss.a)({baseClasses:tt.cacheClasses.lastJSS,newClasses:Ne,Component:et})),tt.cacheClasses.value}function attach(w,Ne){var et=w.state,tt=w.theme,rt=w.stylesOptions,it=w.stylesCreator,ot=w.name;if(!rt.disableGeneration){var at=ls.get(rt.sheetsManager,it,tt);at||(at={refs:0,staticSheet:null,dynamicStyles:null},ls.set(rt.sheetsManager,it,tt,at));var st=Object(nt.a)(Object(nt.a)(Object(nt.a)({},it.options),rt),{},{theme:tt,flip:"boolean"==typeof rt.flip?rt.flip:"rtl"===tt.direction});st.generateId=st.serverGenerateClassName||st.generateClassName;var ct=rt.sheetsRegistry;if(0===at.refs){var pt;rt.sheetsCache&&(pt=ls.get(rt.sheetsCache,it,tt));var ft=it.create(tt,ot);pt||((pt=rt.jss.createStyleSheet(ft,Object(nt.a)({link:!1},st))).attach(),rt.sheetsCache&&ls.set(rt.sheetsCache,it,tt,pt)),ct&&ct.add(pt),at.staticSheet=pt,at.dynamicStyles=function getDynamicStyles(w){var Ne=null;for(var et in w){var tt=w[et],nt=typeof tt;if("function"===nt)Ne||(Ne={}),Ne[et]=tt;else if("object"===nt&&null!==tt&&!Array.isArray(tt)){var rt=getDynamicStyles(tt);rt&&(Ne||(Ne={}),Ne[et]=rt)}}return Ne}(ft)}if(at.dynamicStyles){var dt=rt.jss.createStyleSheet(at.dynamicStyles,Object(nt.a)({link:!0},st));dt.update(Ne),dt.attach(),et.dynamicSheet=dt,et.classes=Object(ss.a)({baseClasses:at.staticSheet.classes,newClasses:dt.classes}),ct&&ct.add(dt)}else et.classes=at.staticSheet.classes;at.refs+=1}}function update(w,Ne){var et=w.state;et.dynamicSheet&&et.dynamicSheet.update(Ne)}function detach(w){var Ne=w.state,et=w.theme,tt=w.stylesOptions,nt=w.stylesCreator;if(!tt.disableGeneration){var rt=ls.get(tt.sheetsManager,nt,et);rt.refs-=1;var it=tt.sheetsRegistry;0===rt.refs&&(ls.delete(tt.sheetsManager,nt,et),tt.jss.removeStyleSheet(rt.staticSheet),it&&it.remove(rt.staticSheet)),Ne.dynamicSheet&&(tt.jss.removeStyleSheet(Ne.dynamicSheet),it&&it.remove(Ne.dynamicSheet))}}function useSynchronousEffect(w,Ne){var et,tt=it.a.useRef([]),nt=it.a.useMemo((function(){return{}}),Ne);tt.current!==nt&&(tt.current=nt,et=w()),it.a.useEffect((function(){return function(){et&&et()}}),[nt])}function makeStyles(w){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=Ne.name,rt=Ne.classNamePrefix,ot=Ne.Component,at=Ne.defaultTheme,st=void 0===at?pp:at,ct=Object(tt.a)(Ne,["name","classNamePrefix","Component","defaultTheme"]),pt=getStylesCreator(w),ft=et||rt||"makeStyles";pt.options={index:increment(),name:et,meta:ft,classNamePrefix:ft};var dt=function useStyles(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=Object(us.a)()||st,tt=Object(nt.a)(Object(nt.a)({},it.a.useContext(sp)),ct),rt=it.a.useRef(),at=it.a.useRef();useSynchronousEffect((function(){var nt={name:et,state:{},stylesCreator:pt,stylesOptions:tt,theme:Ne};return attach(nt,w),at.current=!1,rt.current=nt,function(){detach(nt)}}),[Ne,pt]),it.a.useEffect((function(){at.current&&update(rt.current,w),at.current=!0}));var ft=getClasses(rt.current,w.classes,ot);return ft};return dt}},function(w,Ne,et){"use strict";et.d(Ne,"a",(function(){return useTheme}));var tt=et(0),nt=et.n(tt);var rt=nt.a.createContext(null);function useTheme(){return nt.a.useContext(rt)}}]);